<!DOCTYPE html><html><head><title>Help for package lillies</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lillies}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aggreg_data'><p>Simulated aggregated data for Life Years Lost estimation.</p></a></li>
<li><a href='#lyl'><p>Life Years Lost at one specific age.</p></a></li>
<li><a href='#lyl_2plot'><p>Plot Life Years Lost at one specific age for two different populations</p></a></li>
<li><a href='#lyl_aggregated'><p>Life Years Lost at one specific age using aggregated data.</p></a></li>
<li><a href='#lyl_aggregated_range'><p>Life Years Lost at a range of different ages using aggregated data.</p></a></li>
<li><a href='#lyl_checkplot'><p>Plot number of persons at risk at each specific age.</p></a></li>
<li><a href='#lyl_ci'><p>Confidence intervals for Life Years Lost.</p></a></li>
<li><a href='#lyl_compare_plot'><p>Plot Life Years Lost at one specific age for two or more different populations</p></a></li>
<li><a href='#lyl_diff'><p>Summarize differences in Life Years Lost.</p></a></li>
<li><a href='#lyl_diff_ref'><p>Summarize differences in Life Years Lost.</p></a></li>
<li><a href='#lyl_range'><p>Life Years Lost at a range of different ages.</p></a></li>
<li><a href='#plot.lyl'><p>Plot Life Years Lost at one specific age</p></a></li>
<li><a href='#plot.lyl_aggregated'><p>Plot Life Years Lost at one specific age for two different populations obtained from</p>
aggregated data</a></li>
<li><a href='#plot.lyl_ci'><p>Plot evolution of bootstrapped parameters for Life Years Lost</p></a></li>
<li><a href='#plot.lyl_range'><p>Plot Life Years Lost at a range of different ages</p></a></li>
<li><a href='#pop_ref'><p>Aggregated data for Life Years Lost estimation.</p></a></li>
<li><a href='#simu_data'><p>Simulated population for Life Years Lost estimation.</p></a></li>
<li><a href='#summary.lyl'><p>Summarize Life Years Lost at one specific age</p></a></li>
<li><a href='#summary.lyl_aggregated'><p>Summarize Life Years Lost at one specific age</p></a></li>
<li><a href='#summary.lyl_ci'><p>Summarize Life Years Lost with confidence intervals</p></a></li>
<li><a href='#summary.lyl_range'><p>Summarize Life Years Lost over a range of differents ages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Estimation of Life Years Lost</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.12</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimation of life expectancy and
    Life Years Lost (LYL, or lillies for short) for a given population, for 
    example those with a given disease or condition. In addition, the package 
    can be used to compare estimates from different populations, or to estimate 
    confidence intervals. Technical details of the method are available in
    Plana-Ripoll et al. (2020) &lt;<a href="https://doi.org/10.1371%2Fjournal.pone.0228073">doi:10.1371/journal.pone.0228073</a>&gt; and Andersen
    (2017) &lt;<a href="https://doi.org/10.1002%2Fsim.7357">doi:10.1002/sim.7357</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, knitr, pracma, progress, rlang, survival, tidyr, utils,
methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-21 22:42:04 UTC; au464894</td>
</tr>
<tr>
<td>Author:</td>
<td>Oleguer Plana-Ripoll
    <a href="https://orcid.org/0000-0002-6470-7465"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Oleguer Plana-Ripoll &lt;opr@clin.au.dk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-07 10:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='aggreg_data'>Simulated aggregated data for Life Years Lost estimation.</h2><span id='topic+aggreg_data'></span>

<h3>Description</h3>

<p>A dataset containing age-specific number of new cases, number
of deaths and mortality rates for a simulated disease with onset
after age 40 years. Data is available for ages 40-90 years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggreg_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 50 rows and 4 variables:
</p>

<dl>
<dt>age</dt><dd><p>age</p>
</dd>
<dt>new_cases</dt><dd><p>number of new cases diagnosed at that specific age</p>
</dd>
<dt>deaths</dt><dd><p>number of deaths among the diagnosed at that specific age</p>
</dd>
<dt>rate</dt><dd><p>age-specific mortality rates among the diagnosed</p>
</dd>
</dl>



<h3>Source</h3>

<p>Simulated data
</p>

<hr>
<h2 id='lyl'>Life Years Lost at one specific age.</h2><span id='topic+lyl'></span>

<h3>Description</h3>

<p><code>lyl</code> estimates remaining life expectancy and Life Years Lost for a given population
after a specific age <code>age_speficic</code> and restrictied to a maximum theoretical age <code class="reqn">\tau</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl(
  data,
  t0 = NULL,
  t,
  status,
  age_specific,
  censoring_label = "Alive",
  death_labels = "Dead",
  tau = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_+3A_data">data</code></td>
<td>
<p>A dataframe, where each raw represents a person. The dataframe will
have a time-to-event format with at least two variables: age at end of follow-up (<code>t</code>)
and status indicator with death/censoring (<code>status</code>). Note that this package is not developed
to be used with tibbles.</p>
</td></tr>
<tr><td><code id="lyl_+3A_t0">t0</code></td>
<td>
<p>Age at start of the follow-up time. Default is <code>NULL</code>, which
means all subjects are followed from birth. For delayed entry, <code>t0</code> indicates
age at beginning of follow-up.</p>
</td></tr>
<tr><td><code id="lyl_+3A_t">t</code></td>
<td>
<p>Age at the end of the follow-up time (death or censoring).</p>
</td></tr>
<tr><td><code id="lyl_+3A_status">status</code></td>
<td>
<p>Status indicator, normally 0=alive, 1=dead. Other choices are
TRUE/FALSE (TRUE = death) or 1/2 (2=death). For multiple causes of death (competing risks
analysis), the status variable will be a factor, whose first level is treated as censoring; or
a numeric variable, whose lowest level is treated as censoring. In the latter case,
the label for censoring is <code>censoring_label</code> (<code>"Alive"</code> by default).</p>
</td></tr>
<tr><td><code id="lyl_+3A_age_specific">age_specific</code></td>
<td>
<p>Specific age at which the Life Years Lost have to be estimated.</p>
</td></tr>
<tr><td><code id="lyl_+3A_censoring_label">censoring_label</code></td>
<td>
<p>Label for censoring status. If <code>status</code> is not a factor, <code>"Alive"</code> by default. If
<code>status</code> is a factor, the first level will be treated as censoring label.</p>
</td></tr>
<tr><td><code id="lyl_+3A_death_labels">death_labels</code></td>
<td>
<p>Label for event status. For only one cause of death, <code>"Dead"</code> is the default.
For multiple causes, the default are the values given in variable <code>status</code>.</p>
</td></tr>
<tr><td><code id="lyl_+3A_tau">tau</code></td>
<td>
<p>Remaining life expectancy and Life Years Lost are estimated restrictied to a maximum
theoretical age <code class="reqn">\tau</code> (<code class="reqn">\tau</code>=100 years by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>"lyl"</code> containing the following components:
</p>

<ul>
<li><p><code>data</code>: Data frame with 3 variables and as many observations as the original
data provided to estimate Life Years Lost: <code>t0</code>, <code>t</code>, and <code>status</code>
</p>
</li>
<li><p><code>LYL</code>: Data frame with 1 observation and at least 3 variables: <code>age</code> which corresponds
to <code>age_spefific</code>; <code>life_exp</code> which is the estimated remaining life expectancy at age <code>age_specific</code> years
and before age <code>tau</code> years; and one variable corresponding to the estimated Life Years Lost for each specific
cause of death. If only one cause of death is considered (no competing risks), this variable is <code>Dead</code> and includes
the total overall Life Years Lost
</p>
</li>
<li><p><code>tau</code>: Maximum theoretical age <code class="reqn">\tau</code>
</p>
</li>
<li><p><code>age_specific</code>: Specific age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>data_plot</code>: A data frame in long format with 3 variables <code>time</code>, <code>cause</code>, and <code>cip</code> used
to create a Figure of Life Years Lost with function <code><a href="graphics.html#topic+plot">plot</a></code>.
</p>
</li>
<li><p><code>censoring_label</code>: Label for censoring status
</p>
</li>
<li><p><code>death_labels</code>: Label(s) for death status
</p>
</li>
<li><p><code>competing_risks</code>: Logical value (<code>TRUE</code> = more than one cause of death (competing risks))
</p>
</li>
<li><p><code>type</code>: Whether the estimation is at <code>"age_specific"</code> or <code>"age_range"</code>.
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p>Andersen PK. Life years lost among patients with a given disease. <em>Statistics in Medicine</em>. 2017;36(22):3573- 3582.
</p>
</li>
<li><p>Andersen PK. Decomposition of number of life years lost according to causes of death. <em>Statistics in Medicine</em>. 2013;32(30):5278-5285.
</p>
</li>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li>
<li><p><code><a href="#topic+lyl_ci">lyl_ci</a></code> to estimate bootstrapped confidence intervals.
</p>
</li>
<li><p><code><a href="#topic+lyl_diff">lyl_diff</a></code> to compare Life Years Lost for two populations.
</p>
</li>
<li><p><code><a href="#topic+summary.lyl">summary.lyl</a></code> to summarize objects obtained with function <code>lyl</code>.
</p>
</li>
<li><p><code><a href="#topic+plot.lyl">plot.lyl</a></code> to plot objects obtained with function <code>lyl</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = death,
                      age_specific = 45, tau = 95)

# Summarize and plot the data
summary(lyl_estimation)
plot(lyl_estimation)

# Estimate remaining life expectancy and Life Years
# Lost due to specific causes of death after age 45
# years and before age 95 years

lyl_estimation2 &lt;- lyl(data = simu_data, t = age_death, status = cause_death,
                       age_specific = 45, tau = 95)

# Summarize and plot the data
summary(lyl_estimation2)
plot(lyl_estimation2)

</code></pre>

<hr>
<h2 id='lyl_2plot'>Plot Life Years Lost at one specific age for two different populations</h2><span id='topic+lyl_2plot'></span>

<h3>Description</h3>

<p><code>lyl_2plot</code> was used to create a figure of Life Years Lost
at one specific age for two different populations. Please use
<code>lyl_compare_plot</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_2plot(
  x,
  y,
  color_alive = NA,
  colors = NA,
  labels = c("Population of interest", "Reference population"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_2plot_+3A_x">x</code></td>
<td>
<p>An object of class <code>lyl</code> (obtained with function <code>lyl</code>).</p>
</td></tr>
<tr><td><code id="lyl_2plot_+3A_y">y</code></td>
<td>
<p>An object of class <code>lyl</code> (obtained with function <code>lyl</code>).</p>
</td></tr>
<tr><td><code id="lyl_2plot_+3A_color_alive">color_alive</code></td>
<td>
<p>Color to be used for the censoring category. Default is NA, and
default color is &quot;white&quot;.</p>
</td></tr>
<tr><td><code id="lyl_2plot_+3A_colors">colors</code></td>
<td>
<p>Vector with one color for each cause of death. Default is NA, and
default colors are used.</p>
</td></tr>
<tr><td><code id="lyl_2plot_+3A_labels">labels</code></td>
<td>
<p>Vector with labels for the two populations (default are &quot;Population of
interest&quot; for <code>x</code>, and &quot;Reference population&quot; for <code>y</code>)</p>
</td></tr>
<tr><td><code id="lyl_2plot_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with survival function and stacked cause-specific cumulative incidences for two
populations side by side.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_diff">lyl_diff</a></code> to compare Life Years Lost for two populations.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = cause_death,
                      age_specific = 45, tau = 95)

# Same estimate for those with a specific disease
diseased &lt;- simu_data[!is.na(simu_data$age_disease), ]

lyl_estimation1 &lt;- lyl(data = diseased, t0 = age_disease,
                       t = age_death, status = cause_death,
                      age_specific = 45, tau = 95)

# Plot the data
lyl_compare_plot(list(lyl_estimation1, lyl_estimation))
</code></pre>

<hr>
<h2 id='lyl_aggregated'>Life Years Lost at one specific age using aggregated data.</h2><span id='topic+lyl_aggregated'></span>

<h3>Description</h3>

<p><code>lyl</code> estimates differences in remaining life expectancy and Life Years Lost
for two given life tables <code>data</code> and <code>data0</code> after a specific age <code>age_speficic</code>
and restrictied to a maximum theoretical age <code class="reqn">\tau</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_aggregated(
  data,
  age,
  rates,
  surv,
  data0,
  age0,
  rates0,
  surv0,
  age_specific,
  censoring_label = "Alive",
  death_labels = "Dead",
  tau = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_aggregated_+3A_data">data</code></td>
<td>
<p>A dataframe, where each raw represents an age, for the population of
interest. The dataframe will contain information on age-specific mortality rates
or survivial probability (if both parameters are provided, rates will be used).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_age">age</code></td>
<td>
<p>Variable in <code>data</code> containing information on age.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_rates">rates</code></td>
<td>
<p>Variable in <code>data</code> containing information on age-specific mortality rates.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_surv">surv</code></td>
<td>
<p>Variable in <code>data</code> containing information on age-specific survival probability.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_data0">data0</code></td>
<td>
<p>A dataframe, where each raw represents an age, for the population of
reference The dataframe will contain information on age-specific mortality rates
or survivial probability (if both parameters are provided, rates will be used).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_age0">age0</code></td>
<td>
<p>Variable in <code>data0</code> containing information on age.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_rates0">rates0</code></td>
<td>
<p>Variable in <code>data0</code> containing information on age-specific mortality rates.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_surv0">surv0</code></td>
<td>
<p>Variable in <code>data0</code> containing information on age-specific survival probability.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_age_specific">age_specific</code></td>
<td>
<p>Specific age at which the Life Years Lost have to be estimated.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_censoring_label">censoring_label</code></td>
<td>
<p>Label for censoring status (<code>"Alive"</code> by default).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_death_labels">death_labels</code></td>
<td>
<p>Label for event status (<code>"Dead"</code> by default).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_+3A_tau">tau</code></td>
<td>
<p>Remaining life expectancy and Life Years Lost are estimated restrictied to a maximum
theoretical age <code class="reqn">\tau</code> (<code class="reqn">\tau</code>=100 years by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>"lyl_aggregated"</code> containing the following components:
</p>

<ul>
<li><p><code>data</code>: Name of the dataset preovided in parameter <code>data</code>
</p>
</li>
<li><p><code>data0</code>: Name of the dataset preovided in parameter <code>data0</code>
</p>
</li>
<li><p><code>LYL</code>: Data frame with 1 observation and 3 variables: <code>age</code> which corresponds
to <code>age_spefific</code>; and <code>life_exp</code> and <code>life_exp0</code> which are the estimated remaining life expectancies at age <code>age_specific</code> years
and before age <code>tau</code> years for the population provided in <code>data</code> and <code>data0</code>, respectively
</p>
</li>
<li><p><code>tau</code>: Maximum theoretical age <code class="reqn">\tau</code>
</p>
</li>
<li><p><code>age_specific</code>: Specific age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>data_plot</code>: A data frame in long format with 3 variables <code>time</code>, <code>cause</code>, and <code>cip</code> used
to create a Figure of Life Years Lost with function <code><a href="graphics.html#topic+plot">plot</a></code>.
</p>
</li>
<li><p><code>censoring_label</code>: Label for censoring status
</p>
</li>
<li><p><code>death_labels</code>: Label(s) for death status
</p>
</li>
<li><p><code>type</code>: Whether the estimation is at <code>"age_specific"</code> or <code>"age_range"</code>
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p>Andersen PK. Life years lost among patients with a given disease. <em>Statistics in Medicine</em>. 2017;36(22):3573- 3582.
</p>
</li>
<li><p>Andersen PK. Decomposition of number of life years lost according to causes of death. <em>Statistics in Medicine</em>. 2013;32(30):5278-5285.
</p>
</li>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.#' </p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_aggregated_range">lyl_aggregated_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li>
<li><p><code><a href="#topic+summary.lyl_aggregated">summary.lyl_aggregated</a></code> to summarize objects obtained with function <code>lyl_aggregated</code>.
</p>
</li>
<li><p><code><a href="#topic+plot.lyl_aggregated">plot.lyl_aggregated</a></code> to plot objects obtained with function <code>lyl_aggregated</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(aggreg_data)
data(pop_ref)

# Estimate remaining life expectancy and Life Years
# Lost after age 70 years and before age 90 years
lyl_summary_data70 &lt;- lyl_aggregated(data = aggreg_data, age = age, rates = rate,
                                     data0 = pop_ref, age0 = age, surv0 = survival,
                                     age_specific = 70, tau = 90)

# Summarize and plot the data
summary(lyl_summary_data70)
plot(lyl_summary_data70)

</code></pre>

<hr>
<h2 id='lyl_aggregated_range'>Life Years Lost at a range of different ages using aggregated data.</h2><span id='topic+lyl_aggregated_range'></span>

<h3>Description</h3>

<p><code>lyl</code> estimates differences in remaining life expectancy and Life Years Lost
for two given life tables <code>data</code> and <code>data0</code> after a range of specific ages
(<code>age_begin</code> to <code>age_end</code>) and restrictied to a maximum theoretical age <code class="reqn">\tau</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_aggregated_range(
  data,
  age,
  rates,
  surv,
  weights,
  data0,
  age0,
  rates0,
  surv0,
  age_begin,
  age_end,
  censoring_label = "Alive",
  death_labels = "Dead",
  tau = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_aggregated_range_+3A_data">data</code></td>
<td>
<p>A dataframe, where each raw represents an age, for the population of
interest. The dataframe will contain information on age-specific mortality rates
or survivial probability (if both parameters are provided, rates will be used).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_age">age</code></td>
<td>
<p>Variable in <code>data</code> containing information on age.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_rates">rates</code></td>
<td>
<p>Variable in <code>data</code> containing information on age-specific mortality rates.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_surv">surv</code></td>
<td>
<p>Variable in <code>data</code> containing information on age-specific survival probability.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_weights">weights</code></td>
<td>
<p>Variable in <code>data</code> containing information on number of new cases per age. A
weighted average is provided using these weights.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_data0">data0</code></td>
<td>
<p>A dataframe, where each raw represents an age, for the population of
reference The dataframe will contain information on age-specific mortality rates
or survivial probability (if both parameters are provided, rates will be used).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_age0">age0</code></td>
<td>
<p>Variable in <code>data0</code> containing information on age.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_rates0">rates0</code></td>
<td>
<p>Variable in <code>data0</code> containing information on age-specific mortality rates.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_surv0">surv0</code></td>
<td>
<p>Variable in <code>data0</code> containing information on age-specific survival probability.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_age_begin">age_begin</code></td>
<td>
<p>Specific starting age at which the Life Years Lost have to be estimated.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_age_end">age_end</code></td>
<td>
<p>Specific ending age at which the Life Years Lost have to be estimated.</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_censoring_label">censoring_label</code></td>
<td>
<p>Label for censoring status (<code>"Alive"</code> by default).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_death_labels">death_labels</code></td>
<td>
<p>Label for event status (<code>"Dead"</code> by default).</p>
</td></tr>
<tr><td><code id="lyl_aggregated_range_+3A_tau">tau</code></td>
<td>
<p>Remaining life expectancy and Life Years Lost are estimated restrictied to a maximum
theoretical age <code class="reqn">\tau</code> (<code class="reqn">\tau</code>=100 years by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>"lyl_aggregated"</code> containing the following components:
</p>

<ul>
<li><p><code>data</code>: Name of the dataset preovided in parameter <code>data</code>
</p>
</li>
<li><p><code>data0</code>: Name of the dataset preovided in parameter <code>data0</code>
</p>
</li>
<li><p><code>LYL</code>: Data frame with 1 observation and 2 variables: <code>life_exp</code> and <code>life_exp0</code> which are the
estimated remaining life expectancies averaged over the age range
and before age <code>tau</code> years for the population provided in <code>data</code> and <code>data0</code>, respectively
</p>
</li>
<li><p><code>tau</code>: Maximum theoretical age <code class="reqn">\tau</code>
</p>
</li>
<li><p><code>age_begin</code>: Specific starting age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>age_end</code>: Specific ending age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>data_plot</code>: A data frame in long format with 3 variables <code>time</code>, <code>cause</code>, and <code>cip</code> used
to create a Figure of Life Years Lost with function <code><a href="graphics.html#topic+plot">plot</a></code>.
</p>
</li>
<li><p><code>censoring_label</code>: Label for censoring status
</p>
</li>
<li><p><code>death_labels</code>: Label(s) for death status
</p>
</li>
<li><p><code>type</code>: Whether the estimation is at <code>"age_specific"</code> or <code>"age_range"</code>.
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p>Andersen PK. Life years lost among patients with a given disease. <em>Statistics in Medicine</em>. 2017;36(22):3573- 3582.
</p>
</li>
<li><p>Andersen PK. Decomposition of number of life years lost according to causes of death. <em>Statistics in Medicine</em>. 2013;32(30):5278-5285.
</p>
</li>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.#' </p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_aggregated">lyl_aggregated</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+summary.lyl_aggregated">summary.lyl_aggregated</a></code> to summarize objects obtained with function <code>lyl_aggregated_range</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(aggreg_data)
data(pop_ref)

# Estimate remaining life expectancy and Life Years
# Lost after each age from 40 to 89 years and before age 90 years
lyl_summary_data &lt;- lyl_aggregated_range(data = aggreg_data, age = age,
                                         rates = rate, weights = new_cases,
                                         data0 = pop_ref, age0 = age, surv0 = survival,
                                         age_begin = 40, age_end = 89, tau = 90)

# Summarize the data
summary(lyl_summary_data)

</code></pre>

<hr>
<h2 id='lyl_checkplot'>Plot number of persons at risk at each specific age.</h2><span id='topic+lyl_checkplot'></span>

<h3>Description</h3>

<p>Given a <code>lyl_range</code>-class object, <code>lyl_checkplot</code> draws numbers of persons at risk of
dying at each specific age from <code>age_begin</code> until age <code class="reqn">\tau</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_checkplot(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_checkplot_+3A_x">x</code></td>
<td>
<p>An object of class <code>lyl_range</code> obtained with the <code>lyl_range</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with the number of persons at risk at each specific age.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after each age from 0 to 94 years and before age 95 years
lyl_estimation &lt;- lyl_range(data = simu_data, t = age_death, status = death,
                            age_begin = 45, age_end = 50, tau = 95)

# Check whether small numbers could compromise the results
lyl_checkplot(lyl_estimation)

# The plot can be modified with a usual ggplot2 format
lyl_checkplot(lyl_estimation) +
  ggplot2::geom_hline(yintercept = 10, linetype = "dashed", color = "red") +
  ggplot2::xlab("Age [in years]") +
  ggplot2::ggtitle("Persons at risk of dying at each age 0-94 years")

</code></pre>

<hr>
<h2 id='lyl_ci'>Confidence intervals for Life Years Lost.</h2><span id='topic+lyl_ci'></span>

<h3>Description</h3>

<p><code>lyl_ci</code> estimates confidence intervals for Life Years Lost using non-parametric
bootstrap. The confidence level can be specified when summarizing the results with
the function <code><a href="#topic+summary.lyl_ci">summary.lyl_ci</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_ci(lyl_estimation, niter = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_ci_+3A_lyl_estimation">lyl_estimation</code></td>
<td>
<p>An object of class <code>lyl</code> or <code>lyl_range</code>.</p>
</td></tr>
<tr><td><code id="lyl_ci_+3A_niter">niter</code></td>
<td>
<p>Number of iterations for the bootstrap (default is 1,000).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>"lyl_ci"</code> containing the following components:
</p>

<ul>
<li><p><code>LYL</code>: Data frame with one observation per age and at least 3 variables: <code>age</code>; <code>life_exp</code>
which is the estimated remaining life expectancy at age <code>age_specific</code> years
and before age <code>tau</code> years; and one variable corresponding to the estimated Life Years Lost for each specific
cause of death. If only one cause of death is considered (no competing risks), this variable is <code>Dead</code> and includes
the total overall Life Years Lost
</p>
</li>
<li><p><code>LYL_ci</code>: Data frame with one observation per age-iteration and at least 4 variables: <code>age</code>; <code>iteration</code>, which
correspond to each specific iteration; <code>life_exp</code> which is the estimated remaining life expectancy at age <code>age_specific</code> years
and before age <code>tau</code> years; and one variable corresponding to the estimated Life Years Lost for each specific
cause of death. If only one cause of death is considered (no competing risks), this variable is <code>Dead</code> and includes
the total overall Life Years Lost
</p>
</li>
<li><p><code>tau</code>: Maximum theoretical age <code class="reqn">\tau</code>
</p>
</li>
<li><p><code>age_specific</code>: Specific age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>age_begin</code>: Specific starting age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>age_end</code>: Specific ending age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>death_labels</code>: Label(s) for death status
</p>
</li>
<li><p><code>competing_risks</code>: Logical value (<code>TRUE</code> = more than one cause of death (competing risks))
</p>
</li>
<li><p><code>type</code>: Whether the estimation is at <code>"age_specific"</code> or <code>"age_range"</code>.
</p>
</li>
<li><p><code>niter</code>: Number of iterations used to estimate the confidence intervals
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li>
<li><p><code><a href="#topic+lyl_diff">lyl_diff</a></code> to compare Life Years Lost for two populations.
</p>
</li>
<li><p><code><a href="#topic+summary.lyl_ci">summary.lyl_ci</a></code> to summarize objects obtained with function <code>lyl_ci</code>.
</p>
</li>
<li><p><code><a href="#topic+plot.lyl_ci">plot.lyl_ci</a></code> to plot objects obtained with function <code>lyl_ci</code>.
</p>
</li></ul>

<p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = death,
                      age_specific = 45, tau = 95)


# Calculate bootstrapped confidence interval (3 iterations to test; more are necessary)
lyl_estimation_ci &lt;- lyl_ci(lyl_estimation, niter = 3)
summary(lyl_estimation_ci)
plot(lyl_estimation_ci)

# Estimate remaining life expectancy and Life Years
# Lost after each age from 0 to 94 years and before age 95 years
lyl_estimation2 &lt;- lyl_range(data = simu_data, t = age_death, status = death,
                             age_begin = 0, age_end = 94, tau = 95)

# Calculate bootstrapped confidence interval (3 iterations to test; more are necessary)
lyl_estimation_ci2 &lt;- lyl_ci(lyl_estimation2, niter = 3)
summary(lyl_estimation_ci2, weights = simu_data$age_disease)
plot(lyl_estimation_ci2, weights = simu_data$age_disease)

</code></pre>

<hr>
<h2 id='lyl_compare_plot'>Plot Life Years Lost at one specific age for two or more different populations</h2><span id='topic+lyl_compare_plot'></span>

<h3>Description</h3>

<p><code>lyl_compare_plot</code> creates a figure of Life Years Lost
at one specific age for two or more different populations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_compare_plot(
  x,
  color_alive = NA,
  colors = NA,
  nrow = NULL,
  ncol = NULL,
  dir = "h",
  reverse_legend = FALSE,
  labels = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_compare_plot_+3A_x">x</code></td>
<td>
<p>A list of objects of class <code>lyl</code> (obtained with function <code>lyl</code>).</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_color_alive">color_alive</code></td>
<td>
<p>Color to be used for the censoring category. Default is NA, and
default color is &quot;white&quot;.</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_colors">colors</code></td>
<td>
<p>Vector with one color for each cause of death. Default is NA, and
default colors are used.</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows to be passed to <code>facet_wrap</code>.</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns to be passed to <code>facet_wrap</code>.</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_dir">dir</code></td>
<td>
<p>Direction to be passed to facet_wrap: either &quot;h&quot; for horizontal, the default, or &quot;v&quot;, for vertical.</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_reverse_legend">reverse_legend</code></td>
<td>
<p>Reverse the order of elements in the legend. Ddefault is FALSE, indicating that first is the censoring label and then all causes of death.</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_labels">labels</code></td>
<td>
<p>Vector with labels for the two populations (default are &quot;Population of
interest&quot; for <code>x</code>, and &quot;Reference population&quot; for <code>y</code>)</p>
</td></tr>
<tr><td><code id="lyl_compare_plot_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with survival function and stacked cause-specific cumulative incidences for two
populations side by side.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_diff">lyl_diff</a></code> to compare Life Years Lost for two populations.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = cause_death,
                      age_specific = 45, tau = 95)

# Same estimate for those with a specific disease
diseased &lt;- simu_data[!is.na(simu_data$age_disease), ]

lyl_estimation1 &lt;- lyl(data = diseased, t0 = age_disease,
                       t = age_death, status = cause_death,
                      age_specific = 45, tau = 95)

# Plot the data
lyl_compare_plot(list(lyl_estimation1, lyl_estimation))
lyl_compare_plot(list(lyl_estimation1, lyl_estimation),
          labels = c("Population with a disease", "General population"))

# The plot can be modified with a usual ggplot2 format
lyl_compare_plot(list(lyl_estimation1, lyl_estimation)) +
  ggplot2::xlab("Age [in years]") +
  ggplot2::ggtitle("Differences in Life Years Lost at age 45 years")

</code></pre>

<hr>
<h2 id='lyl_diff'>Summarize differences in Life Years Lost.</h2><span id='topic+lyl_diff'></span>

<h3>Description</h3>

<p><code>lyl_diff</code> summarizes differences in estimated Life Years Lost
in two different populations: <code>lyl_estimation</code> compared to <code>lyl_estimation0</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_diff(
  lyl_population1,
  lyl_population0,
  decimals = 2,
  level = 0.95,
  weights = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_diff_+3A_lyl_population1">lyl_population1</code></td>
<td>
<p>Population of interest: An object of class <code>lyl</code> or <code>lyl_range</code> (obtained with
functions <code>lyl</code> or <code>lyl_range</code>). Alternatively, an object of class <code>lyl_ci</code> can be provided for
bootstrapped confidence intervals.</p>
</td></tr>
<tr><td><code id="lyl_diff_+3A_lyl_population0">lyl_population0</code></td>
<td>
<p>Reference population: An object of class <code>lyl</code> or <code>lyl_range</code> (obtained with
functions <code>lyl</code> or <code>lyl_range</code>). Alternatively, an object of class <code>lyl_ci</code> can be provided for
bootstrapped confidence intervals.</p>
</td></tr>
<tr><td><code id="lyl_diff_+3A_decimals">decimals</code></td>
<td>
<p>Number of decimals to be reported (default is 2).</p>
</td></tr>
<tr><td><code id="lyl_diff_+3A_level">level</code></td>
<td>
<p>Confidence level if <code>lyl_population1</code> or <code>lyl_population0</code> is obtained with the <code>lyl_ci</code>
function (default is 0.95 for 95% confidence intervals)</p>
</td></tr>
<tr><td><code id="lyl_diff_+3A_weights">weights</code></td>
<td>
<p>Vector with age distribution of disease/condition onset to be used when Life Years Lost are estimated
over a range of ages (with <code>lyl_range</code> function). If weights are not provided (dafault is <code>weights = NA</code>),
then the differences in Life Years Lost at each age is provided. If weights are provided, then a weighted average is provided.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with the summary of the differences between two populations.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

### For the overall population and for those with a disease
diseased &lt;- simu_data[!is.na(simu_data$age_disease), ]

# Estimate remaining life expectancy and Life Years
# Lost due to specific causes of death after age 45
# years and before age 95 years
lyl_estimation0 &lt;- lyl(data = simu_data, t = age_death, status = cause_death,
                       age_specific = 45, tau = 95)
lyl_estimation1 &lt;- lyl(data = diseased, t0 = age_disease,
                       t = age_death, status = cause_death,
                       age_specific = 45, tau = 95)
lyl_diff(lyl_estimation1, lyl_estimation0)
lyl_compare_plot(list(lyl_estimation1, lyl_estimation0))


# Calculate bootstrapped confidence interval (3 iterations to test; more are necessary)
lyl_estimation1_ci &lt;- lyl_ci(lyl_estimation1, niter = 3)

lyl_estimation0_ci &lt;- lyl_ci(lyl_estimation0, niter = 3)
lyl_diff(lyl_estimation1_ci, lyl_estimation0_ci)

# It is also possible to assume no uncertainty for one of the estimates
lyl_diff(lyl_estimation1_ci, lyl_estimation0)

# Estimate remaining life expectancy and Life Years
# Lost due to specific causes of death after each age
# from 0 to 94 years and before age 95 years
lyl_estimation2 &lt;- lyl_range(data = simu_data, t = age_death, status = cause_death,
                             age_begin = 0, age_end = 94, tau = 95)
lyl_estimation3 &lt;- lyl_range(data = diseased, t0 = age_disease,
                             t = age_death, status = cause_death,
                             age_begin = 0, age_end = 94, tau = 95)
lyl_diff(lyl_estimation3, lyl_estimation2)
lyl_diff(lyl_estimation3, lyl_estimation2, weights = diseased$age_disease)

# Calculate bootstrapped confidence interval (3 iterations to test; more are necessary)
lyl_estimation3_ci &lt;- lyl_ci(lyl_estimation3, niter = 3)
lyl_diff(lyl_estimation3_ci, lyl_estimation2, weights = diseased$age_disease)

</code></pre>

<hr>
<h2 id='lyl_diff_ref'>Summarize differences in Life Years Lost.</h2><span id='topic+lyl_diff_ref'></span>

<h3>Description</h3>

<p><code>lyl_diff</code> summarizes differences in estimated Life Years Lost
in two different populations: <code>lyl_estimation1</code> compared to a life table provided in <code>data_ref</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_diff_ref(
  lyl_population1,
  data_ref,
  age,
  surv,
  rates,
  decimals = 2,
  level = 0.95,
  weights = NA,
  lyl_population0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_diff_ref_+3A_lyl_population1">lyl_population1</code></td>
<td>
<p>Population of interest: An object of class <code>lyl</code> or <code>lyl_range</code> (obtained with
functions <code>lyl</code> or <code>lyl_range</code>). Alternatively, an object of class <code>lyl_ci</code> can be provided for
bootstrapped confidence intervals.</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_data_ref">data_ref</code></td>
<td>
<p>A dataframe, where each raw represents an age, for the population of
reference The dataframe will contain information on age-specific mortality rates
or survivial probability (if both parameters are provided, rates will be used).</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_age">age</code></td>
<td>
<p>Variable in <code>data_ref</code> containing information on age.</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_surv">surv</code></td>
<td>
<p>Variable in <code>data_ref</code> containing information on age-specific survival probability.</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_rates">rates</code></td>
<td>
<p>Variable in <code>data_ref</code> containing information on age-specific mortality rates.</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_decimals">decimals</code></td>
<td>
<p>Number of decimals to be reported (default is 2).</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_level">level</code></td>
<td>
<p>Confidence level if <code>lyl_population1</code> or <code>lyl_population0</code> is obtained with the <code>lyl_ci</code>
function (default is 0.95 for 95% confidence intervals)</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_weights">weights</code></td>
<td>
<p>Vector with age distribution of disease/condition onset to be used when Life Years Lost are estimated
over a range of ages (with <code>lyl_range</code> function). If weights are not provided (dafault is <code>weights = NA</code>),
then the differences in Life Years Lost at each age is provided. If weights are provided, then a weighted average is provided.</p>
</td></tr>
<tr><td><code id="lyl_diff_ref_+3A_lyl_population0">lyl_population0</code></td>
<td>
<p>Parameter automatically created.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with the summary of the differences between two populations.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)
data(pop_ref)

# Estimate remaining life expectancy and Life Years
# Lost due to specific causes of death after age 45
# years and before age 95 years for those with a disease
diseased &lt;- simu_data[!is.na(simu_data$age_disease), ]
lyl_estimation1 &lt;- lyl(data = diseased, t0 = age_disease,
                       t = age_death, status = cause_death,
                       age_specific = 45, tau = 95)
lyl_diff_ref(lyl_estimation1, pop_ref, age = age, surv = survival)
lyl_diff_ref(lyl_estimation1, pop_ref, age = age, rates = mortality_rates)

# Calculate bootstrapped confidence interval (3 iterations to test; more are necessary)
lyl_estimation1_ci &lt;- lyl_ci(lyl_estimation1, niter = 3)
lyl_diff_ref(lyl_estimation1_ci, pop_ref, age = age, surv = survival)


# Estimate remaining life expectancy and Life Years
# Lost due to specific causes of death after each age
# from 0 to 94 years and before age 95 years
lyl_estimation2 &lt;- lyl_range(data = diseased, t0 = age_disease,
                             t = age_death, status = cause_death,
                             age_begin = 0, age_end = 94, tau = 95)
lyl_diff_ref(lyl_estimation2, pop_ref, age = age, surv = survival)
lyl_diff_ref(lyl_estimation2, pop_ref, age = age, surv = survival, weights = diseased$age_disease)


</code></pre>

<hr>
<h2 id='lyl_range'>Life Years Lost at a range of different ages.</h2><span id='topic+lyl_range'></span>

<h3>Description</h3>

<p><code>lyl</code> estimates remaining life expectancy and Life Years Lost for a given population
after a range of specific ages (<code>age_begin</code> to <code>age_end</code>) and restrictied to
a maximum theoretical age <code class="reqn">\tau</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lyl_range(
  data,
  t0 = NULL,
  t,
  status,
  age_begin,
  age_end,
  censoring_label = "Alive",
  death_labels = "Dead",
  tau = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lyl_range_+3A_data">data</code></td>
<td>
<p>A dataframe, where each raw represents a person. The dataframe will
have a time-to-event format with at least two variables: age at end of follow-up (<code>t</code>)
and status indicator with death/censoring (<code>status</code>). Note that this package is not developed
to be used with tibbles.</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_t0">t0</code></td>
<td>
<p>Age at start of the follow-up time. Default is <code>NULL</code>, which
means all subjects are followed from birth. For delayed entry, <code>t0</code> indicates
beginning of follow-up.</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_t">t</code></td>
<td>
<p>Age at the end of the follow-up time (death or censoring).</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_status">status</code></td>
<td>
<p>Status indicator, normally 0=alive, 1=dead. Other choices are
TRUE/FALSE (TRUE = death) or 1/2 (2=death). For multiple causes of death (competing risks
analysis), the status variable will be a factor, whose first level is treated as censoring; or
a numeric variable, whose lowest level is treated as censoring. In the latter case,
the label for censoring is <code>censoring_label</code> (<code>"Alive"</code> by default).</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_age_begin">age_begin</code></td>
<td>
<p>Specific starting age at which the Life Years Lost have to be estimated.</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_age_end">age_end</code></td>
<td>
<p>Specific ending age at which the Life Years Lost have to be estimated.</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_censoring_label">censoring_label</code></td>
<td>
<p>Label for censoring status. If <code>status</code> is not a factor, <code>"Alive"</code> by default. If
<code>status</code> is a factor, the first level will be treated as censoring label.</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_death_labels">death_labels</code></td>
<td>
<p>Label for event status. For only one cause of death, <code>"Dead"</code> is the default.
For multiple causes, the default are the values given in variable <code>status</code>.</p>
</td></tr>
<tr><td><code id="lyl_range_+3A_tau">tau</code></td>
<td>
<p>Remaining life expectancy and Life Years Lost are estimated restrictied to a maximum
theoretical age <code class="reqn">\tau</code> (<code class="reqn">\tau</code>=100 years by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>"lyl_range"</code> containing the following components:
</p>

<ul>
<li><p><code>data</code>: Data frame with 3 variables and as many observations as the original
data provided to estimate Life Years Lost: <code>t0</code>, <code>t</code>, and <code>status</code>
</p>
</li>
<li><p><code>LYL</code>: Data frame with <code>(age_end - age_begin + 1)</code> observations and at least 3 variables: <code>age</code> which corresponds
to each specific age from <code>age_begin</code> to <code>age_end</code>; <code>life_exp</code> which is the estimated remaining life expectancy at age specific age
and before age <code>tau</code> years; and one variable corresponding to the estimated Life Years Lost for each specific
cause of death. If only one cause of death is considered (no competing risks), this variable is <code>Dead</code> and includes
the total overall Life Years Lost
</p>
</li>
<li><p><code>tau</code>: Maximum theoretical age <code class="reqn">\tau</code>
</p>
</li>
<li><p><code>age_begin</code>: Specific starting age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>age_end</code>: Specific ending age at which the Life Years Lost have been estimated
</p>
</li>
<li><p><code>censoring_label</code>: Label for censoring status
</p>
</li>
<li><p><code>death_labels</code>: Label(s) for death status
</p>
</li>
<li><p><code>competing_risks</code>: Logical value (<code>TRUE</code> = more than one cause of death (competing risks))
</p>
</li>
<li><p><code>numbers_at_risk</code>: Data frame with <code>(tau - age_begin + 1)</code> observations and 2 variables: <code>age</code> which corresponds
to each specific age from <code>age_begin</code> to <code>tau</code>; and <code>number</code> which is the number of persons at risk of dying at each
specific age
</p>
</li>
<li><p><code>type</code>: Whether the estimation is at <code>"age_specific"</code> or <code>"age_range"</code>.
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p>Andersen PK. Life years lost among patients with a given disease. <em>Statistics in Medicine</em>. 2017;36(22):3573- 3582.
</p>
</li>
<li><p>Andersen PK. Decomposition of number of life years lost according to causes of death. <em>Statistics in Medicine</em>. 2013;32(30):5278-5285.
</p>
</li>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_diff">lyl_diff</a></code> to compare average Life Years Lost for two populations.
</p>
</li>
<li><p><code><a href="#topic+lyl_checkplot">lyl_checkplot</a></code> to check whether small numbers could compromise the estimation.
</p>
</li>
<li><p><code><a href="#topic+lyl_ci">lyl_ci</a></code> to estimate bootstrapped confidence intervals.
</p>
</li>
<li><p><code><a href="#topic+summary.lyl_range">summary.lyl_range</a></code> to summarize objects obtained with function <code>lyl_range</code>.
</p>
</li>
<li><p><code><a href="#topic+plot.lyl_range">plot.lyl_range</a></code> to plot objects obtained with function <code>lyl_range</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)


# Estimate remaining life expectancy and Life Years
# Lost after each age from 0 to 94 years and before age 95 years
lyl_estimation &lt;- lyl_range(data = simu_data, t = age_death, status = death,
                            age_begin = 0, age_end = 94, tau = 95)

# Visualize data at each different specific age
summary(lyl_estimation)
plot(lyl_estimation)

# Summarize data over an age distribution
summary(lyl_estimation, weights = simu_data$age_disease)

# Estimate remaining life expectancy and Life Years
# Lost due to specific causes of death after each age
# from 0 to 94 years and before age 95 years
lyl_estimation2 &lt;- lyl_range(data = simu_data, t = age_death, status = cause_death,
                             age_begin = 0, age_end = 94, tau = 95)

# Visualize data at each different specific age
summary(lyl_estimation2)
plot(lyl_estimation2)

# Summarize data over an age distribution
summary(lyl_estimation2, weights = simu_data$age_disease)

</code></pre>

<hr>
<h2 id='plot.lyl'>Plot Life Years Lost at one specific age</h2><span id='topic+plot.lyl'></span>

<h3>Description</h3>

<p><code>plot</code> for objects of class <code>lyl</code> creates a figure of Life Years Lost
at one specific age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl'
plot(x, color_alive = NA, colors = NA, reverse_legend = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.lyl_+3A_x">x</code></td>
<td>
<p>An object of class <code>lyl</code> (obtained with function <code>lyl</code>).</p>
</td></tr>
<tr><td><code id="plot.lyl_+3A_color_alive">color_alive</code></td>
<td>
<p>Color to be used for the censoring category. Default is NA, and
default color is &quot;white&quot;.</p>
</td></tr>
<tr><td><code id="plot.lyl_+3A_colors">colors</code></td>
<td>
<p>Vector with one color for each cause of death. Default is NA, and
default colors are used.</p>
</td></tr>
<tr><td><code id="plot.lyl_+3A_reverse_legend">reverse_legend</code></td>
<td>
<p>Reverse the order of elements in the legend. Ddefault is FALSE, indicating that first is the censoring label and then all causes of death.</p>
</td></tr>
<tr><td><code id="plot.lyl_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with survival function and stacked cause-specific cumulative incidences.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = cause_death,
                      age_specific = 45, tau = 95)

# Summarize and plot the data
plot(lyl_estimation)
plot(lyl_estimation, colors = c("chocolate", "cornflowerblue"))

# The plot can be modified with a usual ggplot2 format
plot(lyl_estimation) +
  ggplot2::xlab("Age [in years]") +
  ggplot2::ggtitle("Life Years Lost at age 45 years")
</code></pre>

<hr>
<h2 id='plot.lyl_aggregated'>Plot Life Years Lost at one specific age for two different populations obtained from
aggregated data</h2><span id='topic+plot.lyl_aggregated'></span>

<h3>Description</h3>

<p><code>plot</code> for objects of class <code>lyl_aggregated</code> creates a figure of Life Years Lost
at one specific age for two different populations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl_aggregated'
plot(
  x,
  color_alive = NA,
  colors = NA,
  labels = c("Population of interest", "Reference population"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.lyl_aggregated_+3A_x">x</code></td>
<td>
<p>An object of class <code>lyl_aggregated</code> (obtained with function <code>lyl_aggregated</code>).</p>
</td></tr>
<tr><td><code id="plot.lyl_aggregated_+3A_color_alive">color_alive</code></td>
<td>
<p>Color to be used for the censoring category. Default is NA, and
default color is &quot;white&quot;.</p>
</td></tr>
<tr><td><code id="plot.lyl_aggregated_+3A_colors">colors</code></td>
<td>
<p>Vector with one color for each cause of death. Default is NA, and
default colors are used.</p>
</td></tr>
<tr><td><code id="plot.lyl_aggregated_+3A_labels">labels</code></td>
<td>
<p>Vector with labels for the two populations (default are &quot;Population of
interest&quot; for <code>data</code>, and &quot;Reference population&quot; for <code>data0</code>; which are provided
to function <code>lyl_aggregated</code>.)</p>
</td></tr>
<tr><td><code id="plot.lyl_aggregated_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with survival function and stacked cause-specific cumulative incidences for two
populations side by side.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_aggregated">lyl_aggregated</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(aggreg_data)
data(pop_ref)

# Estimate remaining life expectancy and Life Years
# Lost after age 70 years and before age 90 years
lyl_summary_data70 &lt;- lyl_aggregated(data = aggreg_data, age = age, rates = rate,
                                     data0 = pop_ref, age0 = age, surv0 = survival,
                                     age_specific = 70, tau = 90)

# Plot the data
plot(lyl_summary_data70)

</code></pre>

<hr>
<h2 id='plot.lyl_ci'>Plot evolution of bootstrapped parameters for Life Years Lost</h2><span id='topic+plot.lyl_ci'></span>

<h3>Description</h3>

<p><code>plot</code> for objects of class <code>lyl_ci</code> creates a figure of the bootstrapped Life Years Lost
to examine if the number of iterations is enough.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl_ci'
plot(x, level = 0.95, weights, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.lyl_ci_+3A_x">x</code></td>
<td>
<p>An object of class <code>lyl_ci</code> (obtained with function <code>lyl_ci</code>).</p>
</td></tr>
<tr><td><code id="plot.lyl_ci_+3A_level">level</code></td>
<td>
<p>Confidence level (default is 0.95 for 95% confidence intervals)</p>
</td></tr>
<tr><td><code id="plot.lyl_ci_+3A_weights">weights</code></td>
<td>
<p>Vector with age distribution of disease/condition onset to be used when Life Years Lost are estimated
over a range of ages (with <code>lyl_range</code> function).</p>
</td></tr>
<tr><td><code id="plot.lyl_ci_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with the evolution of bootstrapped parameters.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_ci">lyl_ci</a></code> to estimate bootstrapped confidence intervals.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = death,
                      age_specific = 45, tau = 95)


# Calculate bootstrapped confidence interval (10 iterations to test)
lyl_estimation_ci &lt;- lyl_ci(lyl_estimation, niter = 10)
plot(lyl_estimation_ci)

# Estimate remaining life expectancy and Life Years
# Lost after each age from 0 to 94 years and before age 95 years
lyl_estimation2 &lt;- lyl_range(data = simu_data, t = age_death, status = death,
                             age_begin = 0, age_end = 94, tau = 95)

# Calculate bootstrapped confidence interval
lyl_estimation_ci2 &lt;- lyl_ci(lyl_estimation2)
plot(lyl_estimation_ci2, weights = simu_data$age_disease)

</code></pre>

<hr>
<h2 id='plot.lyl_range'>Plot Life Years Lost at a range of different ages</h2><span id='topic+plot.lyl_range'></span>

<h3>Description</h3>

<p><code>plot</code> for objects of class <code>lyl_range</code> creates a figure of Life Years Lost
at a range of different ages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl_range'
plot(x, colors = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.lyl_range_+3A_x">x</code></td>
<td>
<p>An object of class <code>lyl_range</code> (obtained with function <code>lyl_range</code>).</p>
</td></tr>
<tr><td><code id="plot.lyl_range_+3A_colors">colors</code></td>
<td>
<p>Vector with one color for each cause of death. Default is NA, and
default colors are used.</p>
</td></tr>
<tr><td><code id="plot.lyl_range_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with age-specific life expectancy and life years lost.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)


# Estimate remaining life expectancy and Life Years
# Lost due to specific causes of death after each age
# from 30 to 40 years and before age 95 years
lyl_estimation &lt;- lyl_range(data = simu_data, t = age_death, status = cause_death,
                             age_begin = 30, age_end = 40, tau = 95)

# Summarize and plot the data
plot(lyl_estimation)
plot(lyl_estimation, colors = c("chocolate", "cornflowerblue"))

# The plot can be modified with a usual ggplot2 format
plot(lyl_estimation) +
  ggplot2::xlab("Age [in years]") +
  ggplot2::ggtitle("Life Years Lost at ages 30-40 years")


</code></pre>

<hr>
<h2 id='pop_ref'>Aggregated data for Life Years Lost estimation.</h2><span id='topic+pop_ref'></span>

<h3>Description</h3>

<p>A dataset containing age-specific survival probability and mortality
rates for Danish women in years 2017-2018.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pop_ref
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 3 variables:
</p>

<dl>
<dt>age</dt><dd><p>age</p>
</dd>
<dt>survival</dt><dd><p>survival probability at that specific age</p>
</dd>
<dt>mortality_rates</dt><dd><p>age-specific mortality rates</p>
</dd>
</dl>



<h3>Source</h3>

<p>Statistics Danmark (https://www.dst.dk/en/Statistik/emner/befolkning-og-valg/)
</p>

<hr>
<h2 id='simu_data'>Simulated population for Life Years Lost estimation.</h2><span id='topic+simu_data'></span>

<h3>Description</h3>

<p>A dataset containing age and cause of death, as well as
age at disease diagnosis (or start of a condition) for
100,000 simulated persons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simu_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 100000 rows and 6 variables:
</p>

<dl>
<dt>id</dt><dd><p>unique identifier of each person</p>
</dd>
<dt>age_start</dt><dd><p>age at start of follow-up (0 for all individuals)</p>
</dd>
<dt>age_death</dt><dd><p>age at end of follow-up (death or censoring)</p>
</dd>
<dt>death</dt><dd><p>logical variable (<code>TRUE</code> = death / <code>FALSE</code> = censoring)</p>
</dd>
<dt>cause_death</dt><dd><p>factor variable with 3 levels: <code>"Alive"</code> (for those
censored) and <code>"Natural"</code> and <code>"Unnatural"</code> (for those dying of natural
and unnatural causes of death, respectively)</p>
</dd>
<dt>age_disease</dt><dd><p>age at developing a specific disease or condition for those
32,391 individuals that develop the disease (missing for the remaining 67,609)</p>
</dd>
</dl>



<h3>Source</h3>

<p>Simulated data
</p>

<hr>
<h2 id='summary.lyl'>Summarize Life Years Lost at one specific age</h2><span id='topic+summary.lyl'></span>

<h3>Description</h3>

<p><code>summary</code> for objects of class <code>lyl</code> summarizes Life Years Lost
at one specific age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl'
summary(object, decimals = 2, difference = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.lyl_+3A_object">object</code></td>
<td>
<p>An object of class <code>lyl</code> (obtained with function <code>lyl</code>).</p>
</td></tr>
<tr><td><code id="summary.lyl_+3A_decimals">decimals</code></td>
<td>
<p>Number of decimals to be reported (default is 2).</p>
</td></tr>
<tr><td><code id="summary.lyl_+3A_difference">difference</code></td>
<td>
<p>Parameter automatically created by the package.</p>
</td></tr>
<tr><td><code id="summary.lyl_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with the summary of the results.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = death,
                      age_specific = 45, tau = 95)

# Summarize and plot the data
summary(lyl_estimation)

</code></pre>

<hr>
<h2 id='summary.lyl_aggregated'>Summarize Life Years Lost at one specific age</h2><span id='topic+summary.lyl_aggregated'></span>

<h3>Description</h3>

<p><code>summary</code> for objects of class <code>lyl_aggregated</code> summarizes Life Years Lost.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl_aggregated'
summary(object, decimals = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.lyl_aggregated_+3A_object">object</code></td>
<td>
<p>An object of class <code>lyl_aggregated</code> (obtained with function
<code>lyl_aggregated</code> or <code>lyl_aggregated_range</code>).</p>
</td></tr>
<tr><td><code id="summary.lyl_aggregated_+3A_decimals">decimals</code></td>
<td>
<p>Number of decimals to be reported (default is 2).</p>
</td></tr>
<tr><td><code id="summary.lyl_aggregated_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with the summary of the results.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_aggregated">lyl_aggregated</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_aggregated_range">lyl_aggregated_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(aggreg_data)
data(pop_ref)

# Estimate remaining life expectancy and Life Years
# Lost after age 70 years and before age 90 years
lyl_summary_data70 &lt;- lyl_aggregated(data = aggreg_data, age = age, rates = rate,
                                     data0 = pop_ref, age0 = age, surv0 = survival,
                                     age_specific = 70, tau = 90)

# Summarize and plot the data
summary(lyl_summary_data70)

</code></pre>

<hr>
<h2 id='summary.lyl_ci'>Summarize Life Years Lost with confidence intervals</h2><span id='topic+summary.lyl_ci'></span>

<h3>Description</h3>

<p><code>summary</code> for objects of class <code>lyl_ci</code> summarizes Life Years Lost
at one specific age or over a range of different ages, including bootstrapped
confidence intervals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl_ci'
summary(
  object,
  decimals = 2,
  level = 0.95,
  weights = NA,
  difference = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.lyl_ci_+3A_object">object</code></td>
<td>
<p>An object of class <code>lyl_ci</code> (obtained with function <code>lyl_ci</code>).</p>
</td></tr>
<tr><td><code id="summary.lyl_ci_+3A_decimals">decimals</code></td>
<td>
<p>Number of decimals to be reported (default is 2).</p>
</td></tr>
<tr><td><code id="summary.lyl_ci_+3A_level">level</code></td>
<td>
<p>Confidence level (default is 0.95 for 95% confidence intervals)</p>
</td></tr>
<tr><td><code id="summary.lyl_ci_+3A_weights">weights</code></td>
<td>
<p>Vector with age distribution of disease/condition onset to be used when Life Years Lost are estimated
over a range of ages (with <code>lyl_range</code> function). If weights are not provided (dafault is <code>weights = NA</code>),
then the differences in Life Years Lost at each age is provided. If weights are provided, then a weighted average is provided.</p>
</td></tr>
<tr><td><code id="summary.lyl_ci_+3A_difference">difference</code></td>
<td>
<p>Parameter automatically created by the package.</p>
</td></tr>
<tr><td><code id="summary.lyl_ci_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with the summary of the results.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl">lyl</a></code> for estimation of Life Years Lost at one specific age.
</p>
</li>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li>
<li><p><code><a href="#topic+lyl_ci">lyl_ci</a></code> to estimate bootstrapped confidence intervals.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)

# Estimate remaining life expectancy and Life Years
# Lost after age 45 years and before age 95 years
lyl_estimation &lt;- lyl(data = simu_data, t = age_death, status = death,
                      age_specific = 45, tau = 95)

# Calculate bootstrapped confidence interval (3 iterations to test; more are necessary)
lyl_estimation_ci &lt;- lyl_ci(lyl_estimation, niter = 3)
summary(lyl_estimation_ci)


# Estimate remaining life expectancy and Life Years
# Lost after each age from 0 to 94 years and before age 95 years
lyl_estimation2 &lt;- lyl_range(data = simu_data, t = age_death, status = death,
                             age_begin = 0, age_end = 94, tau = 95)

# Calculate bootstrapped confidence interval (3 iterations to test; more are necessary)
lyl_estimation_ci2 &lt;- lyl_ci(lyl_estimation2, niter = 3)
summary(lyl_estimation_ci2, weights = simu_data$age_disease)

</code></pre>

<hr>
<h2 id='summary.lyl_range'>Summarize Life Years Lost over a range of differents ages</h2><span id='topic+summary.lyl_range'></span>

<h3>Description</h3>

<p><code>summary</code> for objects of class <code>lyl_range</code> summarizes Life Years Lost
over a range of different ages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lyl_range'
summary(object, decimals = 2, weights = NA, difference = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.lyl_range_+3A_object">object</code></td>
<td>
<p>An object of class <code>lyl_range</code> (obtained with function <code>lyl_range</code>).</p>
</td></tr>
<tr><td><code id="summary.lyl_range_+3A_decimals">decimals</code></td>
<td>
<p>Number of decimals to be reported (default is 2).</p>
</td></tr>
<tr><td><code id="summary.lyl_range_+3A_weights">weights</code></td>
<td>
<p>Vector with age distribution of disease/condition onset. If weights are not provided (dafault is <code>weights = NA</code>),
then the differences in Life Years Lost at each age are summarized. If weights are provided, then a weighted average is provided.</p>
</td></tr>
<tr><td><code id="summary.lyl_range_+3A_difference">difference</code></td>
<td>
<p>Parameter automatically created by the package.</p>
</td></tr>
<tr><td><code id="summary.lyl_range_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with the summary of the results.
</p>


<h3>References</h3>


<ul>
<li><p>Plana-Ripoll et al. lillies – An R package for the estimation of excess Life Years Lost among patients with a given disease or condition.
<em>PLoS ONE</em>. 2020;15(3):e0228073.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li><p><code><a href="#topic+lyl_range">lyl_range</a></code> for estimation of Life Years Lost for a range of different ages.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load simulated data as example
data(simu_data)


# Estimate remaining life expectancy and Life Years
# Lost after each age from 0 to 94 years and before age 95 years
lyl_estimation &lt;- lyl_range(data = simu_data, t = age_death, status = death,
                            age_begin = 0, age_end = 94, tau = 95)

# Visualize data at each different specific age
summary(lyl_estimation)

# Summarize data over an age distribution
summary(lyl_estimation, weights = simu_data$age_disease)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package manymodelr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {manymodelr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_model_predictions'><p>Add predictions to the data set.</p>
A dplyr compatible way to add predictions to a data set.</a></li>
<li><a href='#add_model_residuals'><p>Add model residuals</p></a></li>
<li><a href='#agg_by_group'><p>A convenient way to perform grouped operations</p></a></li>
<li><a href='#drop_non_numeric'><p>Drops non numeric columns from a data.frame object</p></a></li>
<li><a href='#extract_model_info'><p>Extract important model attributes</p></a></li>
<li><a href='#fit_model'><p>Fit and predict in a single function.</p></a></li>
<li><a href='#fit_models'><p>Fit several models with different response variables</p></a></li>
<li><a href='#get_data_Stats'><p>A pipe friendly way to get summary stats for exploratory data analysis</p></a></li>
<li><a href='#get_exponent'><p>Get the exponent of any number or numbers</p></a></li>
<li><a href='#get_mode'><p>A convenience function that returns the mode</p></a></li>
<li><a href='#get_this'><p>Helper function to easily access elements</p></a></li>
<li><a href='#get_var_corr'><p>Get correlations between variables</p></a></li>
<li><a href='#get_var_corr_'><p>Get correlations for combinations</p></a></li>
<li><a href='#multi_model_1'><p>Simultaneously train and predict on new data.</p></a></li>
<li><a href='#multi_model_2'><p>Fit and predict in one function</p></a></li>
<li><a href='#na_replace'><p>Replace missing values</p></a></li>
<li><a href='#na_replace_grouped'><p>Replace NAs by group</p></a></li>
<li><a href='#plot_corr'><p>Plot a correlations matrix</p></a></li>
<li><a href='#report_model'><p>Create a simplified report of a model's summary</p></a></li>
<li><a href='#rowdiff'><p>Get row differences between values</p></a></li>
<li><a href='#select_col'><p>A convenient selector gadget</p></a></li>
<li><a href='#select_percentile'><p>Get the row corresponding to a given percentile</p></a></li>
<li><a href='#yields'><p>Plant yields</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Build and Tune Several Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.9</td>
</tr>
<tr>
<td>Description:</td>
<td>Frequently one needs a convenient way to build and tune
             several models in one go.The goal is to provide a number of machine learning convenience 
             functions. It provides the ability to build, tune and obtain predictions of 
             several models in one function. The models are built using functions from
             'caret' with easier to read syntax.
             Kuhn(2014) &lt;<a href="https://doi.org/10.48550%2FarXiv.1405.6974">doi:10.48550/arXiv.1405.6974</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), ggplot2 (&ge; 3.3.5), lme4 (&ge; 1.1.27.1),
stringr (&ge; 1.4.0)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.4), caret (&ge; 6.0.88), Metrics (&ge; 0.1.4), e1071 (&ge;
1.7.8)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Nelson-Gon/manymodelr">https://github.com/Nelson-Gon/manymodelr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Nelson-Gon/manymodelr/issues">https://github.com/Nelson-Gon/manymodelr/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, covr, markdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>True</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-20 02:12:21 UTC; nelson</td>
</tr>
<tr>
<td>Author:</td>
<td>Nelson Gonzabato [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nelson Gonzabato &lt;gonzabato@hotmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-20 07:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_model_predictions'>Add predictions to the data set.
A dplyr compatible way to add predictions to a data set.</h2><span id='topic+add_model_predictions'></span>

<h3>Description</h3>

<p>Add predictions to the data set.
A dplyr compatible way to add predictions to a data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_model_predictions(model = NULL, old_data = NULL, new_data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_model_predictions_+3A_model">model</code></td>
<td>
<p>A model object from 'fit_model'</p>
</td></tr>
<tr><td><code id="add_model_predictions_+3A_old_data">old_data</code></td>
<td>
<p>The data set to which predicted values will be added.</p>
</td></tr>
<tr><td><code id="add_model_predictions_+3A_new_data">new_data</code></td>
<td>
<p>The data set to use for predicting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame object with a new column for predicted values
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit_model">fit_model</a></code> <code><a href="#topic+extract_model_info">extract_model_info</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("yields", package="manymodelr")
yields1 &lt;- yields[1:50,]
yields2&lt;- yields[51:100,]
lm_model &lt;- fit_model(yields1,"weight","height","lm") 
head(add_model_predictions(lm_model,yields1,yields2))
</code></pre>

<hr>
<h2 id='add_model_residuals'>Add model residuals</h2><span id='topic+add_model_residuals'></span>

<h3>Description</h3>

<p>A dplyr compatible convenience function to add residuals to a data set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_model_residuals(model = NULL, old_data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_model_residuals_+3A_model">model</code></td>
<td>
<p>A model object from 'fit_model'</p>
</td></tr>
<tr><td><code id="add_model_residuals_+3A_old_data">old_data</code></td>
<td>
<p>The data set to which predicted values will be added.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame object with residuals added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("yields", package="manymodelr")
yields1 &lt;- yields[1:50,]
yields2 &lt;- yields[51:100,]
lm_model &lt;- fit_model(yields1,"weight","height","lm") 
head(add_model_residuals(lm_model, yields2))
</code></pre>

<hr>
<h2 id='agg_by_group'>A convenient way to perform grouped operations</h2><span id='topic+agg_by_group'></span>

<h3>Description</h3>

<p>This function performs operations by grouping the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>agg_by_group(data_set = NULL, my_formula = NULL, func = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="agg_by_group_+3A_data_set">data_set</code></td>
<td>
<p>The data set for which correlations are required</p>
</td></tr>
<tr><td><code id="agg_by_group_+3A_my_formula">my_formula</code></td>
<td>
<p>A formula such as A~B where B is the grouping variable(normally a factor).
See examples below</p>
</td></tr>
<tr><td><code id="agg_by_group_+3A_func">func</code></td>
<td>
<p>The kind of operation e.g sum,mean,min,max,manymodelr::get_mode</p>
</td></tr>
<tr><td><code id="agg_by_group_+3A_...">...</code></td>
<td>
<p>Other arguments to 'aggregate' see ?aggregate for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grouped data.frame object with results of the chosen operation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(agg_by_group(airquality,.~Month,sum))
</code></pre>

<hr>
<h2 id='drop_non_numeric'>Drops non numeric columns from a data.frame object</h2><span id='topic+drop_non_numeric'></span>

<h3>Description</h3>

<p>Drops non numeric columns from a data.frame object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_non_numeric(df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop_non_numeric_+3A_df">df</code></td>
<td>
<p>A data.frame object for which non-numeric columns will be dropped</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'> drop_non_numeric(data.frame(A=1:2, B=c("A", "B")))
</code></pre>

<hr>
<h2 id='extract_model_info'>Extract important model attributes</h2><span id='topic+extract_model_info'></span>

<h3>Description</h3>

<p>Provides a convenient way to extract any kind of model information from
common model objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_model_info(model_object = NULL, what = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_model_info_+3A_model_object">model_object</code></td>
<td>
<p>A model object for example a linear model object, generalized linear model object,
analysis of variance object.</p>
</td></tr>
<tr><td><code id="extract_model_info_+3A_what">what</code></td>
<td>
<p>character. The attribute you would like to obtain for instance p_value</p>
</td></tr>
<tr><td><code id="extract_model_info_+3A_...">...</code></td>
<td>
<p>Arguments to other functions e.g. AIC, BIC, deviance etc</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This provides a convenient way to extract model information for any kind of model. For linear models,
one can extract such attributes as coefficients, p value(&quot;p_value&quot;), standard error(&quot;std_err&quot;),
estimate, t value(&quot;t_value&quot;), residuals, aic and other known attributes.
For analysis of variance (aov), other attributes like sum squared(ssq),
mean squared error(msq), degrees of freedom(df),p_value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># perform analysis of variance
data("yields", package="manymodelr")
aov_mod &lt;- fit_model(yields, "weight","height + normal","aov")
extract_model_info(aov_mod, "ssq")
extract_model_info(aov_mod, c("ssq","predictors"))
# linear regression
lm_model &lt;-fit_model(yields, "weight","height","lm")
extract_model_info(lm_model,c("aic","bic"))
## glm
glm_model &lt;- fit_model(yields, "weight","height","glm")
extract_model_info(glm_model,"aic")
</code></pre>

<hr>
<h2 id='fit_model'>Fit and predict in a single function.</h2><span id='topic+fit_model'></span>

<h3>Description</h3>

<p>Fit and predict in a single function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_model(
  df = NULL,
  yname = NULL,
  xname = NULL,
  modeltype = NULL,
  drop_non_numeric = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit_model_+3A_df">df</code></td>
<td>
<p>A data.frame object</p>
</td></tr>
<tr><td><code id="fit_model_+3A_yname">yname</code></td>
<td>
<p>The outcome variable</p>
</td></tr>
<tr><td><code id="fit_model_+3A_xname">xname</code></td>
<td>
<p>The predictor variable(s)</p>
</td></tr>
<tr><td><code id="fit_model_+3A_modeltype">modeltype</code></td>
<td>
<p>A character specifying the model type e.g lm for 
linear model</p>
</td></tr>
<tr><td><code id="fit_model_+3A_drop_non_numeric">drop_non_numeric</code></td>
<td>
<p>Should non numeric columns be dropped? 
Defaults to FALSE</p>
</td></tr>
<tr><td><code id="fit_model_+3A_...">...</code></td>
<td>
<p>Other arguments to specific model types.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("yields", package="manymodelr")
fit_model(yields,"height","weight","lm")
fit_model(yields, "weight","height + I(yield)**2","lm")
</code></pre>

<hr>
<h2 id='fit_models'>Fit several models with different response variables</h2><span id='topic+fit_models'></span>

<h3>Description</h3>

<p>Fit several models with different response variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_models(
  df = NULL,
  yname = NULL,
  xname = NULL,
  modeltype = NULL,
  drop_non_numeric = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit_models_+3A_df">df</code></td>
<td>
<p>A data.frame object</p>
</td></tr>
<tr><td><code id="fit_models_+3A_yname">yname</code></td>
<td>
<p>The outcome variable</p>
</td></tr>
<tr><td><code id="fit_models_+3A_xname">xname</code></td>
<td>
<p>The predictor variable(s)</p>
</td></tr>
<tr><td><code id="fit_models_+3A_modeltype">modeltype</code></td>
<td>
<p>A character specifying the model type e.g lm for 
linear model</p>
</td></tr>
<tr><td><code id="fit_models_+3A_drop_non_numeric">drop_non_numeric</code></td>
<td>
<p>Should non numeric columns be dropped? 
Defaults to FALSE</p>
</td></tr>
<tr><td><code id="fit_models_+3A_...">...</code></td>
<td>
<p>Other arguments to specific model types.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of model objects that can be used later.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("yields", package="manymodelr")
fit_models(df=yields,yname=c("height","yield"),xname="weight",modeltype="lm")
#many model types
fit_models(df=yields,yname=c("height","yield"),xname="weight",
modeltype=c("lm", "glm"))
</code></pre>

<hr>
<h2 id='get_data_Stats'>A pipe friendly way to get summary stats for exploratory data analysis</h2><span id='topic+get_data_Stats'></span><span id='topic+get_stats'></span>

<h3>Description</h3>

<p>A pipe friendly way to get summary stats for exploratory data analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_data_Stats(
  x = NULL,
  func = NULL,
  exclude = NULL,
  na.rm = FALSE,
  na_action = NULL,
  ...
)

get_stats(
  x = NULL,
  func = NULL,
  exclude = NULL,
  na.rm = FALSE,
  na_action = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_data_Stats_+3A_x">x</code></td>
<td>
<p>The data for which stats are required</p>
</td></tr>
<tr><td><code id="get_data_Stats_+3A_func">func</code></td>
<td>
<p>The nature of function to apply</p>
</td></tr>
<tr><td><code id="get_data_Stats_+3A_exclude">exclude</code></td>
<td>
<p>What kind of data should be excluded? Use for example c(&quot;character&quot;,&quot;factor&quot;) to drop character and factor columns</p>
</td></tr>
<tr><td><code id="get_data_Stats_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. Should NAs be removed. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="get_data_Stats_+3A_na_action">na_action</code></td>
<td>
<p>If na.rm is set to TRUE, this uses na_replace to replace missing values.</p>
</td></tr>
<tr><td><code id="get_data_Stats_+3A_...">...</code></td>
<td>
<p>Other arguments to na_replace
See ?na_replace for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A convenient wrapper especially useful for get_mode
</p>


<h3>Value</h3>

<p>A data.frame object showing the requested stats
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(get_data_Stats(airquality,mean,na.rm = TRUE,na_action = "get_mode"))
get_stats(airquality,mean,"non_numeric",na.rm = TRUE,na_action = "get_mode")
</code></pre>

<hr>
<h2 id='get_exponent'>Get the exponent of any number or numbers</h2><span id='topic+get_exponent'></span>

<h3>Description</h3>

<p>Get the exponent of any number or numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_exponent(y = NULL, x = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_exponent_+3A_y">y</code></td>
<td>
<p>The number or numeric columns for which an exponent is required</p>
</td></tr>
<tr><td><code id="get_exponent_+3A_x">x</code></td>
<td>
<p>The power to which y is raised</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Depends on the expo and expo1 functions in expo
</p>


<h3>Value</h3>

<p>A data.frame object showing the value,power and result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df&lt;-data.frame(A=c(1123,25657,3987))
get_exponent(df,3)
get_exponent(1:5, 2)
</code></pre>

<hr>
<h2 id='get_mode'>A convenience function that returns the mode</h2><span id='topic+get_mode'></span>

<h3>Description</h3>

<p>A convenience function that returns the mode
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_mode(x, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_mode_+3A_x">x</code></td>
<td>
<p>The dataframe or vector for which the mode is required.</p>
</td></tr>
<tr><td><code id="get_mode_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. Should 'NA's be dropped? Defaults to 'TRUE'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Useful when used together with get_stats in a pipe fashion.
These functions are for exploratory data analysis
The smallest number is returned if there is a tie in values
The function is currently slow for greater than 300,000 rows. It may take up to a minute.
may work with inaccuracies. By default, NAs are discarded.
</p>


<h3>Value</h3>

<p>a data.frame or vector showing the mode of the variable(s)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test&lt;-c(1,2,3,3,3,3,4,5)
test2&lt;-c(455,7878,908981,NA,456,455,7878,7878,NA)
get_mode(test)
get_mode(test2)
## Not run: 
mtcars %&gt;%
get_data_Stats(get_mode)
get_data_Stats(mtcars,get_mode)
## End(Not run)
</code></pre>

<hr>
<h2 id='get_this'>Helper function to easily access elements</h2><span id='topic+get_this'></span>

<h3>Description</h3>

<p>Helper function to easily access elements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_this(where = NULL, what = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_this_+3A_where">where</code></td>
<td>
<p>Where do you want to get it from? Currently only supports 'list's
and 'data.frame'objects.</p>
</td></tr>
<tr><td><code id="get_this_+3A_what">what</code></td>
<td>
<p>What do you want to extract from the 'data.frame' or 'list'? No quotes. See
examples below.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a helper function useful if you would like to extract data from
the output of 'multi_model_1'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>my_list&lt;-list(list(A=520),list(B=456,C=567))
get_this(what="A",my_list)
get_this(my_list,"C")
# use values
get_this(my_list, "B")
</code></pre>

<hr>
<h2 id='get_var_corr'>Get correlations between variables</h2><span id='topic+get_var_corr'></span>

<h3>Description</h3>

<p>This function returns the correlations between different variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_var_corr(
  df,
  comparison_var = NULL,
  other_vars = NULL,
  method = "pearson",
  drop_columns = c("factor", "character"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_var_corr_+3A_df">df</code></td>
<td>
<p>The data set for which correlations are required</p>
</td></tr>
<tr><td><code id="get_var_corr_+3A_comparison_var">comparison_var</code></td>
<td>
<p>The variable to compare to</p>
</td></tr>
<tr><td><code id="get_var_corr_+3A_other_vars">other_vars</code></td>
<td>
<p>variables for which correlation with comparison_var is required. If not
supplied, all variables will be used.</p>
</td></tr>
<tr><td><code id="get_var_corr_+3A_method">method</code></td>
<td>
<p>The method used to perform the correlation test as defined in 'cor.test'.
Defaults to pearson.</p>
</td></tr>
<tr><td><code id="get_var_corr_+3A_drop_columns">drop_columns</code></td>
<td>
<p>A character vector specifying column classes to drop. Defaults to 
c(&quot;factor&quot;,&quot;character&quot;)</p>
</td></tr>
<tr><td><code id="get_var_corr_+3A_...">...</code></td>
<td>
<p>Other arguments to 'cor.test' see ?cor.test for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame object containing correlations between comparison_var and each of other_vars
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get correlations between all variables
get_var_corr(mtcars,"mpg")
# Use only a few variables
get_var_corr(mtcars,"mpg", other_vars = c("disp","drat"), method = "kendall",exact=FALSE)
</code></pre>

<hr>
<h2 id='get_var_corr_'>Get correlations for combinations</h2><span id='topic+get_var_corr_'></span>

<h3>Description</h3>

<p>Get correlations for combinations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_var_corr_(
  df,
  subset_cols = NULL,
  drop_columns = c("character", "factor"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_var_corr__+3A_df">df</code></td>
<td>
<p>A 'data.frame' object for which correlations are required in combinations.</p>
</td></tr>
<tr><td><code id="get_var_corr__+3A_subset_cols">subset_cols</code></td>
<td>
<p>A 'list' of length 2. The values in the list correspond to the comparison
and other_Var arguments in 'get_var_corr'. See examples below.</p>
</td></tr>
<tr><td><code id="get_var_corr__+3A_drop_columns">drop_columns</code></td>
<td>
<p>A character vector specifying column classes to drop. Defaults to 
c(&quot;factor&quot;,&quot;character&quot;)</p>
</td></tr>
<tr><td><code id="get_var_corr__+3A_...">...</code></td>
<td>
<p>Other arguments to 'get_var_corr'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extends get_var_corr by providing an opportunity to get correlations
for combinations of variables. It is currently slow and may take up to a minute depending on system specifications.
</p>


<h3>Value</h3>

<p>A data.frame object with combinations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_var_corr_(mtcars,method="pearson")
#use only a subset of the data.
 get_var_corr_(mtcars,
             subset_cols = list(c("mpg","vs"),
                                c("disp","wt")),
             method="spearman",exact=FALSE)
</code></pre>

<hr>
<h2 id='multi_model_1'>Simultaneously train and predict on new data.</h2><span id='topic+multi_model_1'></span>

<h3>Description</h3>

<p>This function provides a convenient way to train several model types.
It allows a user to predict on new data and depending on the  metrics, the user is able to decide which model
predictions to finally use. The models are built based on Max Kuhn's models in the caret package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_model_1(
  old_data,
  yname,
  xname,
  method = NULL,
  metric = NULL,
  control = NULL,
  new_data = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multi_model_1_+3A_old_data">old_data</code></td>
<td>
<p>The data holding the training dataset</p>
</td></tr>
<tr><td><code id="multi_model_1_+3A_yname">yname</code></td>
<td>
<p>The outcome variable</p>
</td></tr>
<tr><td><code id="multi_model_1_+3A_xname">xname</code></td>
<td>
<p>The predictor variable(s)</p>
</td></tr>
<tr><td><code id="multi_model_1_+3A_method">method</code></td>
<td>
<p>A vector containing methods to be used as defined in the caret package</p>
</td></tr>
<tr><td><code id="multi_model_1_+3A_metric">metric</code></td>
<td>
<p>One of several metrics. Accuracy,RMSE,MAE,etc</p>
</td></tr>
<tr><td><code id="multi_model_1_+3A_control">control</code></td>
<td>
<p>See caret ?trainControl for details.</p>
</td></tr>
<tr><td><code id="multi_model_1_+3A_new_data">new_data</code></td>
<td>
<p>A data set to validate the model or for which predictions are required</p>
</td></tr>
<tr><td><code id="multi_model_1_+3A_...">...</code></td>
<td>
<p>Other arguments to caret's train function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most of the details of the parameters can be found in the caret package documentation.
This function is meant to help in exploratory analysis to
make an informed choice of the best models
</p>


<h3>Value</h3>

<p>A list containing two objects. A tibble containing a summary of the metrics per model,
a tibble containing predicted values and information concerning the model
</p>


<h3>References</h3>

<p>Kuhn (2014), &quot;Futility Analysis in the Cross-Validation of Machine Learning Models&quot; http://arxiv.org/abs/1405.6974,
</p>
<p>Kuhn (2008), &quot;Building Predictive Models in R Using the caret&quot; (http://www.jstatsoft.org/article/view/v028i05/v28i05.pold_data)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("yields", package="manymodelr")
train_set&lt;-createDataPartition(yields$normal,p=0.8,list=FALSE)
valid_set&lt;-yields[-train_set,]
train_set&lt;-yields[train_set,]
ctrl&lt;-trainControl(method="cv",number=5)
set.seed(233)
m&lt;-multi_model_1(train_set,"normal",".",c("knn","rpart"),
"Accuracy",ctrl,new_data =valid_set)
m$Predictions
m$Metrics
m$modelInfo
</code></pre>

<hr>
<h2 id='multi_model_2'>Fit and predict in one function</h2><span id='topic+multi_model_2'></span>

<h3>Description</h3>

<p>Fit and predict in one function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_model_2(old_data, new_data, yname, xname, modeltype, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multi_model_2_+3A_old_data">old_data</code></td>
<td>
<p>The data set to which predicted values will be added.</p>
</td></tr>
<tr><td><code id="multi_model_2_+3A_new_data">new_data</code></td>
<td>
<p>The data set to use for predicting.</p>
</td></tr>
<tr><td><code id="multi_model_2_+3A_yname">yname</code></td>
<td>
<p>The outcome variable</p>
</td></tr>
<tr><td><code id="multi_model_2_+3A_xname">xname</code></td>
<td>
<p>The predictor variable(s)</p>
</td></tr>
<tr><td><code id="multi_model_2_+3A_modeltype">modeltype</code></td>
<td>
<p>A character specifying the model type e.g lm for 
linear model</p>
</td></tr>
<tr><td><code id="multi_model_2_+3A_...">...</code></td>
<td>
<p>Other arguments to specific model types.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># fit a linear model and get predictions
multi_model_2(iris[1:50,],iris[50:99,],"Sepal.Length","Petal.Length","lm")
# multilinear
multi_model_2(iris[1:50,],iris[50:99,],"Sepal.Length",
    "Petal.Length + Sepal.Width","lm")
# glm
multi_model_2(iris[1:50,],iris[50:99,],"Sepal.Length","Petal.Length","glm")
</code></pre>

<hr>
<h2 id='na_replace'>Replace missing values</h2><span id='topic+na_replace'></span>

<h3>Description</h3>

<p>Replace missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>na_replace(df, how = NULL, value = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="na_replace_+3A_df">df</code></td>
<td>
<p>The data set(data.frame or vector) for which replacements are required</p>
</td></tr>
<tr><td><code id="na_replace_+3A_how">how</code></td>
<td>
<p>How should missing values be replaced?  One of ffill, samples,value or any other known
method e.g mean, median, max ,min. The default is NULL meaning no  imputation is done. For character vectors,
the use of 'get_mode' is also supported. No implementation for class factor(yet).</p>
</td></tr>
<tr><td><code id="na_replace_+3A_value">value</code></td>
<td>
<p>If how is set to value, this allows the user to provide a specific fill value for the NAs.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function currently does not support grouping although this may be achieved with some
inaccuracies using grouping functions from other packages.
</p>


<h3>Value</h3>

<p>A data.frame object with missing values replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(na_replace(airquality,how="value", value="Missing"))
</code></pre>

<hr>
<h2 id='na_replace_grouped'>Replace NAs by group</h2><span id='topic+na_replace_grouped'></span>

<h3>Description</h3>

<p>A convenient way to replace NAs by group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>na_replace_grouped(df, group_by_cols = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="na_replace_grouped_+3A_df">df</code></td>
<td>
<p>A data.frame object for which grouped NA replacement is desired.</p>
</td></tr>
<tr><td><code id="na_replace_grouped_+3A_group_by_cols">group_by_cols</code></td>
<td>
<p>The column(s) used to use for the grouping.</p>
</td></tr>
<tr><td><code id="na_replace_grouped_+3A_...">...</code></td>
<td>
<p>Other arguments to 'na_replace'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'data.frame' object with 'NA's replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test2 &lt;- data.frame(A=c("A","A","A","B","B","B"),
B=c(NA,5,2,2,NA,2))
head(na_replace_grouped(test2,"A",how="value","Replaced"))
</code></pre>

<hr>
<h2 id='plot_corr'>Plot a correlations matrix</h2><span id='topic+plot_corr'></span>

<h3>Description</h3>

<p>This function plots the results produced by
'get_var_corr_'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_corr(
  df,
  x = "comparison_var",
  y = "other_var",
  xlabel = "comparison_variable",
  ylabel = "other_variable",
  title = "Correlations Plot",
  plot_style = "circles",
  title_just = 0.5,
  round_which = NULL,
  colour_by = NULL,
  decimals = 2,
  show_which = "corr",
  size = 12.6,
  value_angle = 360,
  shape = 16,
  value_size = 3.5,
  value_col = "black",
  width = 1.1,
  custom_cols = c("indianred2", "green2", "gray34"),
  legend_labels = waiver(),
  legend_title = NULL,
  signif_cutoff = 0.05,
  signif_size = 7,
  signif_col = "gray13",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_corr_+3A_df">df</code></td>
<td>
<p>The data to be plotted. A 'data.frame' object produced
by 'get_var_corr_'</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_x">x</code></td>
<td>
<p>Value for the x axis. Defaults to &quot;comparison_var&quot;</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_y">y</code></td>
<td>
<p>Values for the y axis. Defaults to &quot;other_var.&quot;</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_xlabel">xlabel</code></td>
<td>
<p>label for the x axis</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_ylabel">ylabel</code></td>
<td>
<p>label for the y axis</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_title">title</code></td>
<td>
<p>plot title.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_plot_style">plot_style</code></td>
<td>
<p>One of squares and circles(currently).</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_title_just">title_just</code></td>
<td>
<p>Justification of the title. Defaults to 0.5, title is centered.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_round_which">round_which</code></td>
<td>
<p>Character. The column name to be rounded off.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_colour_by">colour_by</code></td>
<td>
<p>The column to use for coloring. Defaults to  &quot;correlation&quot;. Colour strength thus
indicates the strength of correlations.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_decimals">decimals</code></td>
<td>
<p>Numeric. To how many decimal places should the rounding be done?
Defaults to 2.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_show_which">show_which</code></td>
<td>
<p>Character. One of either corr or signif to control whether to show the
correlation values or significance stars of the correlations. This is case sensitive and defaults to
corr i.e. correlation values are shown.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_size">size</code></td>
<td>
<p>Size of the circles for plot_style set to circles</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_value_angle">value_angle</code></td>
<td>
<p>What angle should the text be?</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_shape">shape</code></td>
<td>
<p>Values for the shape if plot_style is circles</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_value_size">value_size</code></td>
<td>
<p>Size of the text.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_value_col">value_col</code></td>
<td>
<p>What colour should the text in the squares/circles be?</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_width">width</code></td>
<td>
<p>width value for plot_style set to squares.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_custom_cols">custom_cols</code></td>
<td>
<p>A vector(length 2) of colors to use for the plot. The first colour specifies the lower end of the
correlations. The second specifies  the higher end.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_legend_labels">legend_labels</code></td>
<td>
<p>Text to use for the legend labels. Defaults to the default
labels produced by the plot method.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_legend_title">legend_title</code></td>
<td>
<p>Title to use for the legend.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_signif_cutoff">signif_cutoff</code></td>
<td>
<p>Numeric. If show_signif is TRUE, this defines the cutoff point for significance. Defaults to
0.05.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_signif_size">signif_size</code></td>
<td>
<p>Numeric. Defines size of the significance stars.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_signif_col">signif_col</code></td>
<td>
<p>Character. Defines the col for the significance stars.</p>
</td></tr>
<tr><td><code id="plot_corr_+3A_...">...</code></td>
<td>
<p>Other arguments to get_var_corr_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses 'ggplot2' backend. 'ggplot2' is thus required for the plots to work.
Since the correlations are obtained by 'get_var_corr_', the default is to omit correlation between a variable and itself. Therefore
blanks in the plot would indicate a correlation of 1.
</p>


<h3>Value</h3>

<p>A 'ggplot2' object showing the correlations plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot_corr(mtcars,show_which = "corr",
round_values = TRUE,
round_which = "correlation",decimals = 2,x="other_var",
y="comparison_var",plot_style = "circles",width = 1.1,
custom_cols = c("green","blue","red"),colour_by = "correlation")
</code></pre>

<hr>
<h2 id='report_model'>Create a simplified report of a model's summary</h2><span id='topic+report_model'></span>

<h3>Description</h3>

<p>Create a simplified report of a model's summary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report_model(model_object = NULL, response_name = "Score")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="report_model_+3A_model_object">model_object</code></td>
<td>
<p>A model object</p>
</td></tr>
<tr><td><code id="report_model_+3A_response_name">response_name</code></td>
<td>
<p>Name of the response variable. Defaults to &quot;Score&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame object showing a simple model report that includes the
effect of each predictor variable on the response.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>models&lt;-fit_models(df=yields,yname=c("height","yield"),xname="weight",
modeltype=c("lm", "glm"))
report_model(models[[2]][[1]])
</code></pre>

<hr>
<h2 id='rowdiff'>Get row differences between values</h2><span id='topic+rowdiff'></span>

<h3>Description</h3>

<p>This function returns the differences between rows depending on the user's choice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rowdiff(
  df,
  direction = "forward",
  exclude = NULL,
  na.rm = FALSE,
  na_action = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rowdiff_+3A_df">df</code></td>
<td>
<p>The data set for which differences are required</p>
</td></tr>
<tr><td><code id="rowdiff_+3A_direction">direction</code></td>
<td>
<p>One of forward and reverse. The default is forward meaning the differences
are calculated
in such a way that the difference
between the current value and the next is returned</p>
</td></tr>
<tr><td><code id="rowdiff_+3A_exclude">exclude</code></td>
<td>
<p>A character vector specifying what classes should be removed. See examples below</p>
</td></tr>
<tr><td><code id="rowdiff_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. Should missing values be removed? The missing values referred to are those introduced during the calculation ie when subtracting a row with itself.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="rowdiff_+3A_na_action">na_action</code></td>
<td>
<p>If na.rm is TRUE, how should missing values be replaced? Depending on the 
value as set out in &lsquo;na_replace', the value can be replaced as per the user&rsquo;s requirement.</p>
</td></tr>
<tr><td><code id="rowdiff_+3A_...">...</code></td>
<td>
<p>Other arguments to 'na_replace'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame object of row differences
</p>


<h3>See Also</h3>

<p><code><a href="#topic+na_replace">na_replace</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Remove factor columns
data("yields", package="manymodelr")
rowdiff(yields,exclude = "factor",direction = "reverse")
rowdiff(yields[1:5,], exclude="factor", na.rm = TRUE, 
na_action = "get_mode",direction = "reverse")
</code></pre>

<hr>
<h2 id='select_col'>A convenient selector gadget</h2><span id='topic+select_col'></span>

<h3>Description</h3>

<p>A convenient selector gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_col(df, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_col_+3A_df">df</code></td>
<td>
<p>The data set from which to select a column</p>
</td></tr>
<tr><td><code id="select_col_+3A_...">...</code></td>
<td>
<p>columns to select, no quotes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A friendly way to select a column or several columns. Mainly for non-pipe usage
It is recommended to use known select functions to do pipe manipulations. Otherwise convert to tibble
</p>


<h3>Value</h3>

<p>Returns a dataframe with selected columns
</p>


<h3>Examples</h3>

<pre><code class='language-R'>select_col(yields,height,weight,normal)
# A pipe friendly example
## Not run: 
library(dplyr)
as_tibble(yields) %&gt;%
select_col(height, weight, normal)

## End(Not run)
</code></pre>

<hr>
<h2 id='select_percentile'>Get the row corresponding to a given percentile</h2><span id='topic+select_percentile'></span>

<h3>Description</h3>

<p>Get the row corresponding to a given percentile
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_percentile(df = NULL, percentile = NULL, descend = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_percentile_+3A_df">df</code></td>
<td>
<p>A 'data.frame' object for which a percentile is required. Other data structures are not yet supported.</p>
</td></tr>
<tr><td><code id="select_percentile_+3A_percentile">percentile</code></td>
<td>
<p>The percentile required eg 10 percentile</p>
</td></tr>
<tr><td><code id="select_percentile_+3A_descend">descend</code></td>
<td>
<p>Logical. Should the data be arranged in descending order? Defaults
to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the value corresponding to a percentile. 
Returns mean values if the position of the percentile is  whole number.
Values are sorted in ascending order. You can change this by setting descend to TRUE.
</p>


<h3>Value</h3>

<p>A dataframe showing the row corresponding to the required percentile.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("yields", package="manymodelr")
select_percentile(yields,5)
</code></pre>

<hr>
<h2 id='yields'>Plant yields</h2><span id='topic+yields'></span>

<h3>Description</h3>

<p>A simulated data set of plant yields, height, weight, and a binary
class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yields
</code></pre>


<h3>Author(s)</h3>

<p>Nelson Gonzabato
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

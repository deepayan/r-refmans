<!DOCTYPE html><html><head><title>Help for package fpa</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fpa}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fpa-package'>
<p>Spatio-temporal Fixation Pattern Analysis</p></a></li>
<li><a href='#ft2fp'>
<p>Convert fixation time to fixation probability</p></a></li>
<li><a href='#get_pattern'>
<p>Get the general fixation pattern</p></a></li>
<li><a href='#lineplot'>
<p>Plot the fixation probabilities for specific details</p></a></li>
<li><a href='#newdata'><p>Fixation probability data generated by ft2fp() function</p></a></li>
<li><a href='#pattern'><p>Summary of fixation pattern generated by get_pattern() function</p></a></li>
<li><a href='#plot_pattern'>
<p>Plot the general fixation pattern</p></a></li>
<li><a href='#rawdata'><p>Fixation time data of an eye movement experiment</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Spatio-Temporal Fixation Pattern Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-08-13</td>
</tr>
<tr>
<td>Author:</td>
<td>Jinlu Cao</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jinlu Cao &lt;caojinlu@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Spatio-temporal Fixation Pattern Analysis (FPA) is a new method of analyzing eye 
  movement data, developed by Mr. Jinlu Cao under the supervision of Prof. Chen Hsuan-Chih at 
  The Chinese University of Hong Kong, and Prof. Wang Suiping at the South China Normal 
  Univeristy. The package "fpa" is a R implementation which makes FPA analysis much easier. 
  There are four major functions in the package: ft2fp(), get_pattern(), plot_pattern(), and 
  lineplot(). The function ft2fp() is the core function, which can complete all the preprocessing 
  within moments. The other three functions are supportive functions which visualize the eye 
  fixation patterns.</td>
</tr>
<tr>
<td>Depends:</td>
<td>reshape, fields</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-08-31 07:19:08 UTC; psyuser</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-08-31 10:21:24</td>
</tr>
</table>
<hr>
<h2 id='fpa-package'>
Spatio-temporal Fixation Pattern Analysis
</h2><span id='topic+fpa-package'></span><span id='topic+fpa'></span>

<h3>Description</h3>

<p>&quot;Spatio-temporal Fixation Pattern Analysis&quot; (FPA) is a new method of analyzing eye movement data, developed by Mr. Jinlu Cao under the supervision of Prof. CHEN Hsuan-Chih at The Chinese Univeristy of Hong Kong, and Prof. Wang Suiping at The South China Normal Univeristy. The method provides a new way to inspect the spato-temporal fixation patterns of eye movements. 
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> fpa</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-08-13</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The package &quot;fpa&quot; is a R implementation which makes FPA analysis much easier. There are four major functions in the package: ft2fp(), get_pattern(), plot_pattern(), and lineplot(). The function ft2fp() is the core function, which can complete all the preprocessing within seconds or minutes. The other three functions are supportive functions which visualize the eye fixation patterns.
</p>


<h3>Author(s)</h3>

<p>Jinlu Cao
</p>
<p>Maintainer: Jinlu Cao &lt;caojinlu@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ft2fp">ft2fp</a></code>, <code><a href="#topic+get_pattern">get_pattern</a></code>, <code><a href="#topic+plot_pattern">plot_pattern</a></code>, <code><a href="#topic+lineplot">lineplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(rawdata)
newdata &lt;- ft2fp (rawdata, 4, 3000, 100)
pattern &lt;- get_pattern(newdata)
plot_pattern(pattern)
</code></pre>

<hr>
<h2 id='ft2fp'>
Convert fixation time to fixation probability
</h2><span id='topic+ft2fp'></span>

<h3>Description</h3>

<p>The ft2fp() function transforms the fixation time (start and end time for each fixation) data to fixation probability data. The function can finish all the preprocessing of using FPA to analyze eye movement data. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft2fp(data,CriticalRegion,TimeCourse,Interval,norm=TRUE,rm.nr=FALSE,rm.1p=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft2fp_+3A_data">data</code></td>
<td>

<p>the raw eye movement data provided by user. A data frame which contains variables of &quot;List&quot;, &quot;Subject&quot;, &quot;Item&quot;, &quot;Condition&quot;, &quot;Region&quot;, &quot;Fix_Start&quot;, and &quot;Fix_End&quot;. The names and number of variables in your data should be exactly same with above.
</p>
</td></tr>
<tr><td><code id="ft2fp_+3A_criticalregion">CriticalRegion</code></td>
<td>

<p>the No. of region in which the researcher is interested. All fixation information before the first-pass on that region will be discarded for each trial.
</p>
</td></tr>
<tr><td><code id="ft2fp_+3A_timecourse">TimeCourse</code></td>
<td>

<p>the time course to be analyzed after the first-pass of critical region. The unit is millisecond.
</p>
</td></tr>
<tr><td><code id="ft2fp_+3A_interval">Interval</code></td>
<td>

<p>the time interval (or bin) to show in the time course of interest. The unit is millisecond, and the value should be smaller than the value for TimeCourse.
</p>
</td></tr>
<tr><td><code id="ft2fp_+3A_norm">norm</code></td>
<td>

<p>to choose whether to normalize the fixation duration according to each subject's mean duration and general mean duration. If TRUE, the fixation durations are adjusted for each subject's reading rate. The default value if TRUE.
</p>
</td></tr>
<tr><td><code id="ft2fp_+3A_rm.nr">rm.nr</code></td>
<td>

<p>to choose whether to exclude the trials with no regression after the first-pass on critical region. The default value is FALSE.
</p>
</td></tr>
<tr><td><code id="ft2fp_+3A_rm.1p">rm.1p</code></td>
<td>

<p>to choose whether to exclude the fixations at the first pass (or Gaze duration) on critical region. The default value is TRUE.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with the variables of &quot;list&quot;, &quot;subject&quot;, &quot;condition&quot;, &quot;region&quot;, &quot;time&quot;, &quot;fix_prob&quot; (fixation probability), &quot;y&quot; (number of trials with fixation) and &quot;N&quot; (number of total valid trials).
</p>


<h3>Author(s)</h3>

<p>Jinlu Cao
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fpa">fpa</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(rawdata)
newdata &lt;- ft2fp (rawdata, 4, 3000, 100)
newdata &lt;- ft2fp (rawdata, 4, 3000, 100, norm=TRUE, rm.nr=TRUE, rm.1p=FALSE) 
</code></pre>

<hr>
<h2 id='get_pattern'>
Get the general fixation pattern
</h2><span id='topic+get_pattern'></span>

<h3>Description</h3>

<p>The get_pattern() function aggregates the data so that the general fixation pattern can be shown for each condition. Users should provide the data frame returned in ft2fp() function. Users can use the returned data frame of this function to make plots on the pattern by themselves, or use plot_pattern() and lineplot() functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pattern(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_pattern_+3A_data">data</code></td>
<td>

<p>is the data frame returned by the ft2fp function.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame which shows the averaged fixation probabilities for each spatio-temporal unit for each condition.
</p>


<h3>Author(s)</h3>

<p>Jinlu Cao
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ft2fp">ft2fp</a></code>, <code><a href="#topic+plot_pattern">plot_pattern</a></code>, <code><a href="#topic+lineplot">lineplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(newdata)
pattern &lt;- get_pattern(newdata)
</code></pre>

<hr>
<h2 id='lineplot'>
Plot the fixation probabilities for specific details
</h2><span id='topic+lineplot'></span>

<h3>Description</h3>

<p>The function lineplot() provides quick tools for plotting more detailed fixation probabilities for specific condition(s) and region(s). The function generates 2-dimensional line plots with &quot;Time&quot; as x, and &quot;Fixation Probability&quot; as y. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lineplot(data, Region = "All", Condition = "All")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lineplot_+3A_data">data</code></td>
<td>

<p>the data frame returned by get_pattern function.
</p>
</td></tr>
<tr><td><code id="lineplot_+3A_region">Region</code></td>
<td>

<p>the intended region(s) to plot. It can be a string (&quot;All&quot;), a number (e.g., 1), or a vector (e.g., c(1,2)).
</p>
</td></tr>
<tr><td><code id="lineplot_+3A_condition">Condition</code></td>
<td>

<p>the intended condition(s) to plot. It can be a string (&quot;All&quot;), a number (e.g., 1), or a vector (e.g., c(1,2)). 
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jinlu Cao
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_pattern">get_pattern</a></code>, <code><a href="#topic+ft2fp">ft2fp</a></code>, <code><a href="#topic+plot_pattern">plot_pattern</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pattern)
lineplot(pattern)
lineplot(pattern, Region="All", Condition=1)
lineplot(pattern, Condition=c(1,2))
lineplot(pattern, Region=2)
lineplot(pattern, Region=c(2,3), Condition=c(3,4,5))
</code></pre>

<hr>
<h2 id='newdata'>Fixation probability data generated by ft2fp() function</h2><span id='topic+newdata'></span>

<h3>Description</h3>

<p>This data set is the fixation probability data generated by the ft2fp() 
function. The data set retains the information of list, subject, and
condition of original fixation time data set. The variable &quot;Time&quot; is
generated based on the TimeCourse and TimeInterval arguments defined 
by users. The variable &quot;N&quot; is the total number of valid trials after
the deletion of invalid ones for the corresponding spatio-temporal 
unit. The variable &quot;y&quot; is the number of trials with fixations on that 
particular region at that time point. Fixation probability is calculated
by dividing y by N. &quot;N&quot; and &quot;y&quot; would be used for further analysis in
empirical logistic transformation and lme modeling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  data(newdata)
</code></pre>


<h3>Format</h3>

<p>In the data frame each row represents the fixation probability 
and other information for one spatio-temporal unit. The data frame has 
the following columns:
</p>

<dl>
<dt><code>list</code></dt><dd><p>the id of the list</p>
</dd>
<dt><code>subject</code></dt><dd><p>the id of the subject</p>
</dd>
<dt><code>condition</code></dt><dd><p>the id of the condition</p>
</dd>
<dt><code>region</code></dt><dd><p>the id of the region</p>
</dd>
<dt><code>Time</code></dt><dd><p>the time after eyes leave critical region</p>
</dd>
<dt><code>N</code></dt><dd><p>total number of valid trials</p>
</dd>
<dt><code>y</code></dt><dd><p>number of trials with fixations</p>
</dd>
<dt><code>fix_prob</code></dt><dd><p>the fixation probability</p>
</dd></dl>

<hr>
<h2 id='pattern'>Summary of fixation pattern generated by get_pattern() function</h2><span id='topic+pattern'></span>

<h3>Description</h3>

<p>This data set is generated by get_pattern() function, and describes the 
general fixation pattern for different conditions. The values under time
variables are the aggregated fixation probabilities for each spatio-temporal
unit. Users may use the data set to make plots of the pattern by themselves
or use the dataset as argument of plot_pattern() and lineplot() functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  data(pattern)
</code></pre>


<h3>Format</h3>

<p>The data set aggregates the fixation probability data, and show
the general fixation pattern. The data frame has the following core
columns:
</p>

<dl>
<dt><code>condition</code></dt><dd><p>the id of the condition</p>
</dd>
<dt><code>region</code></dt><dd><p>the id of the region</p>
</dd>
<dt><code>0</code></dt><dd><p>averaged fixation probability at time 0</p>
</dd>
<dt><code>2500</code></dt><dd><p>averaged fixation probability at time 0</p>
</dd></dl>

<hr>
<h2 id='plot_pattern'>
Plot the general fixation pattern
</h2><span id='topic+plot_pattern'></span>

<h3>Description</h3>

<p>The plot_pattern() function provides a quick tool to plot the fixation pattern for conditions. It generates 3-dimensional data, with x of &quot;Time&quot;, y of &quot;Region&quot;, and the colors representing the value of fixation probabilities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_pattern(data, Condition = "All")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_pattern_+3A_data">data</code></td>
<td>

<p>the data frame returned by the get_pattern function.
</p>
</td></tr>
<tr><td><code id="plot_pattern_+3A_condition">Condition</code></td>
<td>

<p>the conditions which the user would like to plot. It can be a string (&quot;All&quot;), a number (e.g., 1), or a vector (e.g., c(1,2)). The default value is &quot;All&quot;, meaning all conditions will be plotted.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jinlu Cao
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_pattern">get_pattern</a></code>, <code><a href="#topic+ft2fp">ft2fp</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pattern)
plot_pattern(pattern)
plot_pattern(pattern, Condition=1)
plot_pattern(pattern, Condition=c(1,2))
</code></pre>

<hr>
<h2 id='rawdata'>Fixation time data of an eye movement experiment</h2><span id='topic+rawdata'></span>

<h3>Description</h3>

<p>This data set is the eye movement data recorded during reading sentences. 
The sentences consists of 8 regions defined by the researcher. The 
experiment consists of 2 lists (8 items in each list), 2 subjects, and 
4 conditions. Each row contains the information of one fixation. This data
frame is a template for the data to be provided by users of fpa-package,
and the number and names of variables should be same with this data frame.
If the user does not have several lists in his/her experiment, lease use
the id 1 for every row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  data(rawdata)
</code></pre>


<h3>Format</h3>

<p>In the data frame each row represents one fixation of the eyes.  
Fixations are ordered chronologically within trial.  The data frame has 
the following columns:
</p>

<dl>
<dt><code>List</code></dt><dd><p>the id of the list</p>
</dd>
<dt><code>Subject</code></dt><dd><p>the id of the subject</p>
</dd>
<dt><code>Condition</code></dt><dd><p>the id of the condition</p>
</dd>
<dt><code>Item</code></dt><dd><p>the id of the item</p>
</dd>
<dt><code>Region</code></dt><dd><p>the id of the region being fixed on</p>
</dd>
<dt><code>Fix_Start</code></dt><dd><p>the start time of the fixation</p>
</dd>
<dt><code>Fix_End</code></dt><dd><p>the end time of the fixation</p>
</dd></dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package wikkitidy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wikkitidy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#wikkitidy-package'><p>wikkitidy: Tidy Analysis of Wikipedia</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#append_query_result'><p>Combine new results for a query with previously downloaded results</p></a></li>
<li><a href='#check_limit'><p>Ensure that the limit is correct for the endpoint. Raise an error if not.</p></a></li>
<li><a href='#check_namespace'><p>Ensure namespace arguments are valid</p></a></li>
<li><a href='#continue_query'><p>Query the Action API continually until a continuation condition no longer</p>
holds.</a></li>
<li><a href='#get_diff'><p>Search for insertions, deletions or relocations of text between two versions</p>
of a Wikipedia page</a></li>
<li><a href='#get_history_count'><p>Count how many times Wikipedia articles have been edited</p></a></li>
<li><a href='#get_query_results'><p>Perform a query using the <a href="https://www.mediawiki.org/wiki/Special:MyLanguage/API:Main_page">MediaWiki Action API</a></p></a></li>
<li><a href='#get_rest_resource'><p>Get resources from one of Wikipedia's <a href="https://www.mediawiki.org/wiki/API">two REST APIs</a></p></a></li>
<li><a href='#id_or_title'><p>Determine if a page parameter comprises titles or pageids, and prefix</p>
accordingly.</a></li>
<li><a href='#new_generator_query'><p>Constructor for generator query type</p></a></li>
<li><a href='#new_list_query'><p>Constructor for <a href="https://www.mediawiki.org/wiki/API:Lists">list</a> queries</p></a></li>
<li><a href='#new_prop_query'><p>Constructor for the property query type</p></a></li>
<li><a href='#page_vector_functions'><p>Get data about pages from their titles</p></a></li>
<li><a href='#parse_response.wikidiff2'><p>Convert a response from a Wikipedia API into a convenient format</p></a></li>
<li><a href='#perform_query'><p>Perform a single request to the Action API.</p></a></li>
<li><a href='#prefix_params'><p>Add required prefix to URL parameters for MediaWiki Action API request</p></a></li>
<li><a href='#process_timestamps'><p>Convert passed objects into ISO8601 strings for API requests</p></a></li>
<li><a href='#query_by_'><p>Query the <a href="https://www.mediawiki.org/wiki/API:Main_page">MediaWiki Action API</a> using a vector of</p>
Wikipedia pages</a></li>
<li><a href='#query_category_members'><p>Explore Wikipedia's category system</p></a></li>
<li><a href='#query_generate_pages'><p>Generate pages that meet certain criteria, or which are related to a set of</p>
known pages by certain properties</a></li>
<li><a href='#query_list_pages'><p>List pages that meet certain criteria</p></a></li>
<li><a href='#query_page_properties'><p>Choose properties to return for pages from the action API</p></a></li>
<li><a href='#query_tbl'><p>Representation of Wikipedia data returned from an <a href="https://www.mediawiki.org/wiki/API:Query">Action API Query module</a> as tibble, with request</p>
metadata stored as attributes.</a></li>
<li><a href='#tidyeval'><p>Tidy eval helpers</p></a></li>
<li><a href='#verify_xml_integrity'><p>Check that a Wikimedia XML file has not been corrupted</p></a></li>
<li><a href='#wiki_action_request'><p>Query Wikipedia using the <a href="https://www.mediawiki.org/wiki/API:Main_page">MediaWiki Action API</a></p></a></li>
<li><a href='#wikimedia_rest_apis'><p>Build a REST request to one of the Wikimedia Foundation's central APIs</p></a></li>
<li><a href='#wikipedia_rest_apis'><p>Build a REST request to one of Wikipedia's specific REST APIs</p></a></li>
<li><a href='#wikkitidy_example'><p>Get path to wikkitidy example</p></a></li>
<li><a href='#xtools_page'><p>Access page-level statistics from the <a href="https://www.mediawiki.org/wiki/XTools/API/Page">XTools Page API endpoint</a></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tidy Analysis of Wikipedia</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.12</td>
</tr>
<tr>
<td>Description:</td>
<td>Access 'Wikipedia' through the several 'MediaWiki' APIs
    (<a href="https://www.mediawiki.org/wiki/API">https://www.mediawiki.org/wiki/API</a>), as well as through the
    'XTools' API (<a href="https://www.mediawiki.org/wiki/XTools/API">https://www.mediawiki.org/wiki/XTools/API</a>). Ensure
    your API calls are correct, and receive results in tidy tibbles.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://wikihistories.github.io/wikkitidy/">https://wikihistories.github.io/wikkitidy/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wikihistories/wikkitidy/issues">https://github.com/wikihistories/wikkitidy/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, glue, httr2, lubridate, magrittr, openssl, pillar,
purrr, rlang (&ge; 0.4.11), stringr, tibble, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, igraph, roxygen2, testthat (&ge; 3.0.0), tidyr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-09 03:23:29 UTC; michaelgfalk</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Falk <a href="https://orcid.org/0000-0001-9261-8390"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Falk &lt;michaelgfalk@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-09 08:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='wikkitidy-package'>wikkitidy: Tidy Analysis of Wikipedia</h2><span id='topic+wikkitidy'></span><span id='topic+wikkitidy-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Access 'Wikipedia' through the several 'MediaWiki' APIs (<a href="https://www.mediawiki.org/wiki/API">https://www.mediawiki.org/wiki/API</a>), as well as through the 'XTools' API (<a href="https://www.mediawiki.org/wiki/XTools/API">https://www.mediawiki.org/wiki/XTools/API</a>). Ensure your API calls are correct, and receive results in tidy tibbles.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Michael Falk <a href="mailto:michaelgfalk@gmail.com">michaelgfalk@gmail.com</a> (<a href="https://orcid.org/0000-0001-9261-8390">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://wikihistories.github.io/wikkitidy/">https://wikihistories.github.io/wikkitidy/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/wikihistories/wikkitidy/issues">https://github.com/wikihistories/wikkitidy/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='append_query_result'>Combine new results for a query with previously downloaded results</h2><span id='topic+append_query_result'></span>

<h3>Description</h3>

<p>Combine new results for a query with previously downloaded results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>append_query_result(old, new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="append_query_result_+3A_old">old</code></td>
<td>
<p>The <a href="#topic+query_tbl">query_tbl</a> of previous results</p>
</td></tr>
<tr><td><code id="append_query_result_+3A_new">new</code></td>
<td>
<p>The <a href="#topic+query_tbl">query_tbl</a> of new results from the server</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new <a href="#topic+query_tbl">query_tbl</a> of the appropriate subclass, depending on whether
the batch is complete.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+perform_query">perform_query()</a></code>
</p>

<hr>
<h2 id='check_limit'>Ensure that the limit is correct for the endpoint. Raise an error if not.</h2><span id='topic+check_limit'></span>

<h3>Description</h3>

<p>Ensure that the limit is correct for the endpoint. Raise an error if not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_limit(limit, max)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_limit_+3A_limit">limit</code></td>
<td>
<p>The limit to be added to the query</p>
</td></tr>
<tr><td><code id="check_limit_+3A_max">max</code></td>
<td>
<p>The maximum allowed for the given endpoint</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>limit</code>, assuming no errors
</p>

<hr>
<h2 id='check_namespace'>Ensure namespace arguments are valid</h2><span id='topic+check_namespace'></span>

<h3>Description</h3>

<p>Ensure namespace arguments are valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_namespace(namespace)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_namespace_+3A_namespace">namespace</code></td>
<td>
<p>An integer vector of namespace ids, or NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of namespace, spliced together with a <code>|</code>, or NULL
</p>

<hr>
<h2 id='continue_query'>Query the Action API continually until a continuation condition no longer
holds.</h2><span id='topic+continue_query'></span>

<h3>Description</h3>

<p>Query the Action API continually until a continuation condition no longer
holds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>continue_query(last_result, predicate, max_requests = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="continue_query_+3A_last_result">last_result</code></td>
<td>
<p>The query_tbl of results to complete</p>
</td></tr>
<tr><td><code id="continue_query_+3A_predicate">predicate</code></td>
<td>
<p>The while condition. Results will be continually
requested until this evaluates 'false'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A query_tbl: an S3 dataframe that is a subclass of tibble::tibble
</p>

<hr>
<h2 id='get_diff'>Search for insertions, deletions or relocations of text between two versions
of a Wikipedia page</h2><span id='topic+get_diff'></span>

<h3>Description</h3>

<p>Any two revisions of a Wikipedia page can be compared using the 'diff' tool.
The tool compares the 'from' revision to the 'to' revision, looking for
insertions, deletions or relocations of text. This operation can be performed
in any order, across any span of revisions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_diff(from, to, language = "en", simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_diff_+3A_from">from</code></td>
<td>
<p>Vector of revision ids</p>
</td></tr>
<tr><td><code id="get_diff_+3A_to">to</code></td>
<td>
<p>Vector of revision ids</p>
</td></tr>
<tr><td><code id="get_diff_+3A_language">language</code></td>
<td>
<p>Vector of two-letter language codes (will be recycled if
length==1)</p>
</td></tr>
<tr><td><code id="get_diff_+3A_simplify">simplify</code></td>
<td>
<p>logical: should R simplify the result (see <a href="base.html#topic+return">return</a>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The return value depends on the <code>simplify</code> parameter.
</p>

<ul>
<li><p> If <code>simplify</code> == TRUE: A list of <a href="tibble.html#topic+tbl_df-class">tibble::tbl_df</a> objects the same
length as <code>from</code> and <code>to</code>. Most of the response data is stripped away,
leaving just the textual differences between the revisions, their location,
type and 'highlightRanges' if the textual differences are complicated.
</p>
</li>
<li><p> If <code>simplify</code> == FALSE: A list the same length as <code>from</code> and <code>to</code>
containing the full <a href="https://www.mediawiki.org/wiki/API:REST_API/Reference#Response_schema_3">wikidiff2 response</a>
for each pair of revisions. This response includes additional data for
displaying diffs onscreen.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Compare revision 847170467 to 851733941 on English Wikipedia
get_diff(847170467, 851733941)

# The function is vectorised, so you can compare multiple pairs of revisions
# in a single call
# See diffs for the last two revisions of the Main Page
revisions &lt;- wiki_action_request() %&gt;%
  query_by_title("Main Page") %&gt;%
  query_page_properties(
    "revisions",
    rvlimit = 2, rvprop = "ids", rvdir = "older"
  ) %&gt;%
  next_result() %&gt;%
  tidyr::unnest(cols = c(revisions)) %&gt;%
  dplyr::mutate(diffs = get_diff(from = parentid, to = revid))
revisions
</code></pre>

<hr>
<h2 id='get_history_count'>Count how many times Wikipedia articles have been edited</h2><span id='topic+get_history_count'></span>

<h3>Description</h3>

<p>Count how many times Wikipedia articles have been edited
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_history_count(
  title,
  type = c("edits", "anonymous", "bot", "editors", "minor", "reverted"),
  from = NULL,
  to = NULL,
  language = "en"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_history_count_+3A_title">title</code></td>
<td>
<p>A vector of article titles</p>
</td></tr>
<tr><td><code id="get_history_count_+3A_type">type</code></td>
<td>
<p>The <a href="https://www.mediawiki.org/wiki/API:REST_API/Reference#Parameters_12">type of edit to count</a></p>
</td></tr>
<tr><td><code id="get_history_count_+3A_from">from</code></td>
<td>
<p>Optional: a vector of revision ids</p>
</td></tr>
<tr><td><code id="get_history_count_+3A_to">to</code></td>
<td>
<p>Optional: a vector of revision ids</p>
</td></tr>
<tr><td><code id="get_history_count_+3A_language">language</code></td>
<td>
<p>Vector of two-letter language codes for Wikipedia editions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tbl_df-class">tibble::tbl_df</a> with two columns:
</p>

<ul>
<li><p> 'count': integer, the number of edits of the given type
</p>
</li>
<li><p> 'limit': logical, whether the 'count' exceeds the API's limit. Each type of
edit has a different limit. If the 'count' exceeds the limit, then the
limit is returned as the count and 'limit' is set to TRUE
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Get the number of edits made by auto-confirmed editors to a page between
# revisions 384955912 and 406217369
get_history_count("Jupiter", "editors", 384955912, 406217369)

# Compare which authors have the most edit activity
authors &lt;- tibble::tribble(
  ~author,
  "Jane Austen",
  "William Shakespeare",
  "Emily Dickinson"
) %&gt;%
  dplyr::mutate(get_history_count(author))
authors
</code></pre>

<hr>
<h2 id='get_query_results'>Perform a query using the <a href="https://www.mediawiki.org/wiki/Special:MyLanguage/API:Main_page">MediaWiki Action API</a></h2><span id='topic+get_query_results'></span><span id='topic+next_result'></span><span id='topic+next_batch'></span><span id='topic+retrieve_all'></span>

<h3>Description</h3>

<p><code>next_result()</code> sends exactly one request to the server.
</p>
<p><code>next_batch()</code> requests results from the server until data is complete the
latest batch of pages in the result.
</p>
<p><code>retrieve_all()</code> keeps requesting data until all the pages from the query
have been returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>next_result(x)

next_batch(x)

retrieve_all(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_query_results_+3A_x">x</code></td>
<td>
<p>The query. Either a <a href="#topic+wiki_action_request">wiki_action_request</a> or a <a href="#topic+query_tbl">query_tbl</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is rare that a query can be fulfilled in a single request to the
server. There are two ways a query can be incomplete. All queries return a
list of pages as their result. The result may be incomplete because not all
the data for each page has been returned. In this case the <em>batch</em> is
incomplete. Or the data may be complete for all pages, but there are more
pages available on the server. In this case the query can be <em>continued</em>.
Thus the three functions for <code>next_result()</code>, <code>next_batch()</code> and
<code>retrieve_all()</code>.
</p>


<h3>Value</h3>

<p>A <a href="#topic+query_tbl">query_tbl</a> containing results of the query. If <code>x</code> is a
<a href="#topic+query_tbl">query_tbl</a>, then the function will return a new data with the new data
appended to it. If <code>x</code> is a <a href="#topic+wiki_action_request">wiki_action_request</a>, then the returned
<a href="#topic+query_tbl">query_tbl</a> will contain the necessary data to supply future calls to
<code>next_result()</code>, <code>next_batch()</code> or <code>retrieve_all()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Try out a request using next_result(), then retrieve the rest of the
# results. The clllimt limits the first request to 40 results.
preview &lt;- wiki_action_request() %&gt;%
  query_by_title("Steve Wozniak") %&gt;%
  query_page_properties("categories", cllimit = 40) %&gt;%
  next_result()
preview

all_results &lt;- retrieve_all(preview)
all_results

# tidyr is useful for list-columns.
all_results %&gt;%
  tidyr::unnest(cols=c(categories), names_sep = "_")
</code></pre>

<hr>
<h2 id='get_rest_resource'>Get resources from one of Wikipedia's <a href="https://www.mediawiki.org/wiki/API">two REST APIs</a></h2><span id='topic+get_rest_resource'></span>

<h3>Description</h3>

<p>This function is intended for developer use. It makes it easy to quickly
generate vectorised calls to the different APIs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rest_resource(
  ...,
  language = "en",
  api = c("core", "wikimedia", "wikimedia_org", "xtools"),
  response_format = c("json", "html"),
  response_type = NULL,
  failure_mode = c("error", "quiet")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_rest_resource_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; The URL components and query
parameters of the desired resources. Names of the arguments are ignored.
The function follows the <a href="https://vctrs.r-lib.org/reference/vector_recycling_rules">tidyverse vector recycling rules</a>, so all
vectors must have the same length or be of length one. Unnamed arguments
will be appended to the URL path; named arguments will be added as query
parameters</p>
</td></tr>
<tr><td><code id="get_rest_resource_+3A_language">language</code></td>
<td>
<p>Character vector of two-letter language codes</p>
</td></tr>
<tr><td><code id="get_rest_resource_+3A_api">api</code></td>
<td>
<p>The desired REST api:
&quot;<a href="https://www.mediawiki.org/wiki/API:REST_API">core</a>&quot;,
&quot;<a href="https://www.mediawiki.org/wiki/Wikimedia_REST_API">wikimedia</a>&quot;,
&quot;<a href="https://wikimedia.org/api/rest_v1/">wikimedia_org</a>&quot;, or
&quot;<a href="https://www.mediawiki.org/wiki/XTools/API">xtools</a>&quot;</p>
</td></tr>
<tr><td><code id="get_rest_resource_+3A_response_format">response_format</code></td>
<td>
<p>The expected Content-Type of the response. Currently &quot;html&quot; and
&quot;json&quot; are supported.</p>
</td></tr>
<tr><td><code id="get_rest_resource_+3A_response_type">response_type</code></td>
<td>
<p>The schema of the response. If supplied, the results will
be parsed using the schema.</p>
</td></tr>
<tr><td><code id="get_rest_resource_+3A_failure_mode">failure_mode</code></td>
<td>
<p>How to respond if a request fails
&quot;error&quot;, the default: raise an error
&quot;quiet&quot;, silently return NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of responses. If <code>response_format</code> == &quot;json&quot;, then the responses
will be simple R lists. If <code>response_format</code> == &quot;html&quot;, then the responses
will <code>xml_document</code> objects. If <code>response_type</code> is supplied, the response
will be coerced into a <a href="tibble.html#topic+tbl_df-class">tibble::tbl_df</a> or vector using the relevant schema.
If the response is a 'scalar list' (i.e. a list of length == 1), then it is
silently unlisted, returning a simple list or vector.
</p>

<hr>
<h2 id='id_or_title'>Determine if a page parameter comprises titles or pageids, and prefix
accordingly.</h2><span id='topic+id_or_title'></span><span id='topic+id_or_title.character'></span><span id='topic+id_or_title.numeric'></span>

<h3>Description</h3>

<p>Determine if a page parameter comprises titles or pageids, and prefix
accordingly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>id_or_title(page, prefix = NULL)

## S3 method for class 'character'
id_or_title(page, prefix = NULL)

## S3 method for class 'numeric'
id_or_title(page, prefix = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="id_or_title_+3A_page">page</code></td>
<td>
<p>Either a character or numeric vector. If a character vector, it
is interpreted as a vector of page titles. If a numeric vector, of pageids.</p>
</td></tr>
<tr><td><code id="id_or_title_+3A_prefix">prefix</code></td>
<td>
<p>Optional: A prefix to affix to the page titles if it is missing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list
</p>

<hr>
<h2 id='new_generator_query'>Constructor for generator query type</h2><span id='topic+new_generator_query'></span>

<h3>Description</h3>

<p>Construct a new query to a <a href="https://www.mediawiki.org/wiki/API:Query#Example_6:_Generators">generator module</a> of
the Action API. This low-level constructor only performs basic type-checking.
It is your responsibility to ensure that the chosen <code>generator</code> is an
existing API endpoint, and that you have composed the query correctly. For
a more user-friendly interface, use <a href="#topic+query_generate_pages">query_generate_pages</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_generator_query(.req, generator, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_generator_query_+3A_.req">.req</code></td>
<td>
<p>A <code><a href="#topic+wiki_action_request">query/action_api/httr2_request</a></code> object,
or a generator query as returned by this function.</p>
</td></tr>
<tr><td><code id="new_generator_query_+3A_generator">generator</code></td>
<td>
<p>The generator to add to the query. If the generator is based
on a <a href="https://www.mediawiki.org/wiki/API:Properties">property module</a>, then
<code>.req</code> must be a subtype of
<code><a href="#topic+new_prop_query">prop/query/action_api/httr2_request</a></code>. If the generator
is based on a <a href="https://www.mediawiki.org/wiki/API:Lists">list module</a>, then
<code>.req</code> must subclass
<code><a href="#topic+wiki_action_request">query/action_api/httr2_request</a></code> directly.</p>
</td></tr>
<tr><td><code id="new_generator_query_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Further parameters to the generator</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output type depends on the input. If <code>.req</code> is a
<code><a href="#topic+wiki_action_request">query/action_api/httr2_request</a></code>, then the output
will be a <code>generator/query/action_api/httr2_request</code>. If <code>.req</code> is a
<code><a href="#topic+new_prop_query">prop/query/action_api/httr2_request</a></code>, then the return
object will be a subclass of the passed request, with &quot;generator&quot; as the
first term in the class vector, i.e.
<code>generator/(titles|pageids|revids)/prop/query/action_api/httr2_request</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Build a generator query using a list module
# List all members of Category:Physics on English Wikipedia
physics &lt;- wiki_action_request() %&gt;%
  new_generator_query("categorymembers", gcmtitle = "Category:Physics")

# Build a generator query on a property module
# Generate the pages that are linked to Albert Einstein's page on English
# Wikipedia
einstein_categories &lt;- wiki_action_request() %&gt;%
  new_prop_query("titles", "Albert Einstein") %&gt;%
  new_generator_query("iwlinks")

</code></pre>

<hr>
<h2 id='new_list_query'>Constructor for <a href="https://www.mediawiki.org/wiki/API:Lists">list</a> queries</h2><span id='topic+new_list_query'></span><span id='topic+new_list_query.list'></span><span id='topic+new_list_query.generator'></span><span id='topic+new_list_query.prop'></span><span id='topic+new_list_query.query'></span>

<h3>Description</h3>

<p>This low-level constructor only performs basic type checking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_list_query(.req, list, ...)

## S3 method for class 'list'
new_list_query(.req, list, ...)

## S3 method for class 'generator'
new_list_query(.req, list, ...)

## S3 method for class 'prop'
new_list_query(.req, list, ...)

## S3 method for class 'query'
new_list_query(.req, list, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_list_query_+3A_.req">.req</code></td>
<td>
<p>A <code><a href="#topic+wiki_action_request">query/action_api/httr2_request</a></code>
object, or a <code>list/query/action_api/httr2_request</code> as returned by this
function.</p>
</td></tr>
<tr><td><code id="new_list_query_+3A_list">list</code></td>
<td>
<p>The <a href="https://www.mediawiki.org/wiki/API:Lists">list module</a> to
add to the query</p>
</td></tr>
<tr><td><code id="new_list_query_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Parameters to the list module</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of type <code>list/query/action_api/httr2_request</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a query to list all members of Category:Physics
physics_query &lt;- wiki_action_request() %&gt;%
  new_list_query("categorymembers", cmtitle="Category:Physics")

</code></pre>

<hr>
<h2 id='new_prop_query'>Constructor for the property query type</h2><span id='topic+new_prop_query'></span>

<h3>Description</h3>

<p>The intended use for this query is to set the 'titles', 'pageids' or 'revids'
parameter, and enforce that only one of these is set. All <a href="https://www.mediawiki.org/wiki/API:Properties">property modules API</a> in the Action API require
this parameter to be set, or they require a
<code><a href="#topic+new_generator_query">generator</a></code> parameter to be set instead. The
<code>prop/query</code> type is an abstract type representing the three possible kinds
of property query that do not rely on a generator (see below on the return
value). A complication is that a <code>prop/query</code> can <em>itself</em> be used as the
basis for a generator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_prop_query(.req, by, pages, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_prop_query_+3A_.req">.req</code></td>
<td>
<p>A <code><a href="#topic+wiki_action_request">query/action_api/httr2_request</a></code> object,
or a <code>prop</code> query object as returned by this function. This parameter is
covariant on the type, so you can also pass all subtypes of <code>prop</code>.</p>
</td></tr>
<tr><td><code id="new_prop_query_+3A_by">by</code></td>
<td>
<p>The type of page. Allowed values are: pageids, titles, revids</p>
</td></tr>
<tr><td><code id="new_prop_query_+3A_pages">pages</code></td>
<td>
<p>A string, the pages to query by, corresponding to the 'by'
parameter. Multiple values should be separated with &quot;|&quot;</p>
</td></tr>
<tr><td><code id="new_prop_query_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Further parameters to the
query</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A properly qualified <code>prop/query</code> object. There are six
possibilities:
</p>

<ul>
<li> <p><code>titles/prop/query</code>
</p>
</li>
<li> <p><code>pageids/prop/query</code>
</p>
</li>
<li> <p><code>revids/prop/query</code>
</p>
</li>
<li> <p><code>generator/titles/prop/query</code>
</p>
</li>
<li> <p><code>generator/pageids/prop/query</code>
</p>
</li>
<li> <p><code>generator/revids/prop/query</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Build a query on a set of pageids
# 963273 and 1159171 are Kate Bush albums
bush_albums_query &lt;- wiki_action_request() %&gt;%
  new_prop_query("pageids", "963273|1159171")

</code></pre>

<hr>
<h2 id='page_vector_functions'>Get data about pages from their titles</h2><span id='topic+page_vector_functions'></span><span id='topic+get_latest_revision'></span><span id='topic+get_page_html'></span><span id='topic+get_page_summary'></span><span id='topic+get_page_related'></span><span id='topic+get_page_talk'></span><span id='topic+get_page_langlinks'></span>

<h3>Description</h3>

<p><code>get_latest_revision()</code> returns metadata about the latest
revision of each
page.
</p>
<p><code>get_page_html()</code> returns the rendered html for each
page.
</p>
<p><code>get_page_summary()</code> returns metadata about the latest revision, along
with the page description and a summary extracted from the opening
paragraph
</p>
<p><code>get_page_related()</code> returns summaries for 20 related pages for each
passed page
</p>
<p><code>get_page_talk()</code> returns structured talk page content for each
title. You must ensure to use the title for the Talk page itself, e.g.
&quot;Talk:Earth&quot; rather than &quot;Earth&quot;
</p>
<p><code>get_page_langlinks()</code> returns interwiki links for each
title
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_latest_revision(title, language = "en")

get_page_html(title, language = "en")

get_page_summary(title, language = "en")

get_page_related(title, language = "en")

get_page_talk(title, language = "en")

get_page_langlinks(title, language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="page_vector_functions_+3A_title">title</code></td>
<td>
<p>A character vector of page titles.</p>
</td></tr>
<tr><td><code id="page_vector_functions_+3A_language">language</code></td>
<td>
<p>A character vector of two-letter language codes, either of
length 1 or the same length as <code>title</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list, vector or tibble, the same length as <code>title</code>, with the
desired data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get language links for a known page on English Wikipedia
get_page_langlinks("Charles Harpur")

# Many of these functions return a list of data frames. Tidyr can be useful.
# Get 20 related pages for German City
cities &lt;- tibble::tribble(
  ~city,
  "Berlin",
  "Darmstadt",
) %&gt;%
  dplyr::mutate(related = get_page_related(city))
cities

# Unest to get one row per related page:
tidyr::unnest(cities, "related")

# The functions are vectorised over title and language
# Find all articles about Joanna Baillie, and retrieve summary data for
# the first two.
baillie &lt;- get_page_langlinks("Joanna Baillie") %&gt;%
  dplyr::slice(1:2) %&gt;%
  dplyr::mutate(get_page_summary(title = title, language = code))
baillie
</code></pre>

<hr>
<h2 id='parse_response.wikidiff2'>Convert a response from a Wikipedia API into a convenient format</h2><span id='topic+parse_response.wikidiff2'></span><span id='topic+parse_response'></span><span id='topic+parse_response.default'></span><span id='topic+parse_response.row_list'></span>

<h3>Description</h3>

<p>Wikipedia's APIs provide data using a range of different json schemas.
This generic function converts the data into a convenient formats for use
in an R data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'wikidiff2'
parse_response(response)

parse_response(response)

## Default S3 method:
parse_response(response)

## S3 method for class 'row_list'
parse_response(response)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_response.wikidiff2_+3A_response">response</code></td>
<td>
<p>The data retrieved from Wikipedia.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector the same length as the response. Generally, this will be
a simple vector, a <a href="tibble.html#topic+tbl_df-class">tibble::tbl_df</a> or a list of <a href="tibble.html#topic+tbl_df-class">tibble::tbl_df</a> objects.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>parse_response(wikidiff2)</code>: Simplify a wikidiff2 response to a dataframe of
textual differences, discarding display data
</p>
</li>
<li> <p><code>parse_response(default)</code>: By default, create a list of nested tbl_dfs
</p>
</li>
<li> <p><code>parse_response(row_list)</code>: Many of the endpoints return a list of named
values for each page, which can easily be row-bound. They often contain
nested data, however, which is automatically unnested by dplyr::bind_rows.
Hence this more basic approach.
</p>
</li></ul>

<hr>
<h2 id='perform_query'>Perform a single request to the Action API.</h2><span id='topic+perform_query'></span>

<h3>Description</h3>

<p>This function is the workhorse behind the user-facing <code><a href="#topic+next_result">next_result()</a></code>,
<code><a href="#topic+next_batch">next_batch()</a></code> and <code><a href="#topic+retrieve_all">retrieve_all()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perform_query(request, continue)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="perform_query_+3A_request">request</code></td>
<td>
<p>The request object</p>
</td></tr>
<tr><td><code id="perform_query_+3A_continue">continue</code></td>
<td>
<p>The continue parameter returned by the previous request</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+query_tbl">query_tbl()</a></code> of the results
</p>


<h3>See Also</h3>

<p><code><a href="#topic+append_query_result">append_query_result()</a></code>
</p>

<hr>
<h2 id='prefix_params'>Add required prefix to URL parameters for MediaWiki Action API request</h2><span id='topic+prefix_params'></span>

<h3>Description</h3>

<p>Add required prefix to URL parameters for MediaWiki Action API request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prefix_params(params, prefix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prefix_params_+3A_params">params</code></td>
<td>
<p>A character vector</p>
</td></tr>
<tr><td><code id="prefix_params_+3A_prefix">prefix</code></td>
<td>
<p>A character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>

<hr>
<h2 id='process_timestamps'>Convert passed objects into ISO8601 strings for API requests</h2><span id='topic+process_timestamps'></span>

<h3>Description</h3>

<p>Convert passed objects into ISO8601 strings for API requests
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_timestamps(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="process_timestamps_+3A_...">...</code></td>
<td>
<p>Dynamic dots: the objects to be coerced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of ISO strings, the same length as <code>...</code>
</p>

<hr>
<h2 id='query_by_'>Query the <a href="https://www.mediawiki.org/wiki/API:Main_page">MediaWiki Action API</a> using a vector of
Wikipedia pages</h2><span id='topic+query_by_'></span><span id='topic+query_by_title'></span><span id='topic+query_by_pageid'></span><span id='topic+query_by_revid'></span>

<h3>Description</h3>

<p>These functions help you to build a query for the <a href="https://www.mediawiki.org/wiki/API:Main_page">MediaWiki Action API</a> if you already have a set
of pages that you wish to investigate. These functions can be combined with
<a href="#topic+query_page_properties">query_page_properties</a> to choose which properties to return for the passed
pages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_by_title(.req, title)

query_by_pageid(.req, pageid)

query_by_revid(.req, revid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_by__+3A_.req">.req</code></td>
<td>
<p>A <a href="#topic+wiki_action_request">wiki_action_request</a> query to modify</p>
</td></tr>
<tr><td><code id="query_by__+3A_title">title</code></td>
<td>
<p>A character vector of page titles</p>
</td></tr>
<tr><td><code id="query_by__+3A_pageid">pageid</code></td>
<td>
<p>A character or numeric vector of page ids</p>
</td></tr>
<tr><td><code id="query_by__+3A_revid">revid</code></td>
<td>
<p>A character or numeric vector of revision ids</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you don't already know which pages you wish to examine, you can build a
query to find pages that meet certain criteria using <a href="#topic+query_list_pages">query_list_pages</a> or
<a href="#topic+query_generate_pages">query_generate_pages</a>.
</p>


<h3>Value</h3>

<p>A request object of type <code>pages/query/action_api/httr2_request</code>. To
perform the query, pass the object to <a href="#topic+next_batch">next_batch</a> or <a href="#topic+retrieve_all">retrieve_all</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Retrieve the categories for Charles Harpur's Wikipedia page
 resp &lt;- wiki_action_request() %&gt;%
  query_by_title("Charles Harpur") %&gt;%
  query_page_properties("categories") %&gt;%
  next_batch()
</code></pre>

<hr>
<h2 id='query_category_members'>Explore Wikipedia's category system</h2><span id='topic+query_category_members'></span><span id='topic+build_category_tree'></span>

<h3>Description</h3>

<p>These functions provide access to the
<a href="https://www.mediawiki.org/wiki/API:Categorymembers">CategoryMembers</a>
endpoint of the Action API.
</p>
<p><code><a href="#topic+query_category_members">query_category_members()</a></code> builds a <a href="#topic+query_generate_pages">generator query</a> to return the members of a given category.
</p>
<p><code><a href="#topic+build_category_tree">build_category_tree()</a></code> finds all the pages and subcategories beneath the
passed category, then recursively finds all the pages and subcategories
beneath them, until it can find no more subcategories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_category_members(
  .req,
  category,
  namespace = NULL,
  type = c("file", "page", "subcat"),
  limit = 10,
  sort = c("sortkey", "timestamp"),
  dir = c("ascending", "descending", "newer", "older"),
  start = NULL,
  end = NULL,
  language = "en"
)

build_category_tree(category, language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_category_members_+3A_.req">.req</code></td>
<td>
<p>A <a href="#topic+wiki_action_request">query request object</a></p>
</td></tr>
<tr><td><code id="query_category_members_+3A_category">category</code></td>
<td>
<p>The category to start from. <code><a href="#topic+query_category_members">query_category_members()</a></code>
accepts either a numeric pageid or the page title. <code><a href="#topic+build_category_tree">build_category_tree()</a></code>
accepts a vector of page titles.</p>
</td></tr>
<tr><td><code id="query_category_members_+3A_namespace">namespace</code></td>
<td>
<p>Only return category members from the provided namespace</p>
</td></tr>
<tr><td><code id="query_category_members_+3A_type">type</code></td>
<td>
<p>Alternative to <code>namespace</code>: the type of category member to
return. Multiple types can be requested using a character vector. Defaults
to all.</p>
</td></tr>
<tr><td><code id="query_category_members_+3A_limit">limit</code></td>
<td>
<p>The number to return each batch. Max 500.</p>
</td></tr>
<tr><td><code id="query_category_members_+3A_sort">sort</code></td>
<td>
<p>How to sort the returned category members. 'timestamp' sorts them
by the date they were included in the category; 'sortkey' by the category
member's unique hexadecimal code</p>
</td></tr>
<tr><td><code id="query_category_members_+3A_dir">dir</code></td>
<td>
<p>The direction in which to sort them</p>
</td></tr>
<tr><td><code id="query_category_members_+3A_start">start</code></td>
<td>
<p>If <code>sort</code> == 'timestamp', only return category members from
after this date. The argument is parsed by <code><a href="lubridate.html#topic+as_date">lubridate::as_date()</a></code></p>
</td></tr>
<tr><td><code id="query_category_members_+3A_end">end</code></td>
<td>
<p>If <code>sort</code> == 'timestamp', only return category members included in
the category from before this date. The argument is parsed by
<code><a href="lubridate.html#topic+as_date">lubridate::as_date()</a></code></p>
</td></tr>
<tr><td><code id="query_category_members_+3A_language">language</code></td>
<td>
<p>The language edition of Wikipedia to query</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+query_category_members">query_category_members()</a></code>: A request object of type
<code>generator/query/action_api/httr2_request</code>, which can be passed to
<code><a href="#topic+next_batch">next_batch()</a></code> or <code><a href="#topic+retrieve_all">retrieve_all()</a></code>. You can specify which properties to
retrieve for each page using <code><a href="#topic+query_page_properties">query_page_properties()</a></code>.
</p>
<p><code><a href="#topic+build_category_tree">build_category_tree()</a></code>: A list containing two dataframes. <code>nodes</code> lists
all the subcategories and pages found underneath the passed categories.
<code>edges</code> records the connections between them. The <code>source</code> column gives the
pageid of the parent category, while the <code>target</code> column gives the pageid
of any categories, pages or files contained within the <code>source</code> category.
The <code>timestamp</code> records the moment when the <code>target</code> page or subcategory
was included in the <code>source</code> category. The two dataframes in the list can
be passed to <a href="igraph.html#topic+graph_from_data_frame">igraph::graph_from_data_frame</a> for network analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the first 10 pages in 'Category:Physics' on English Wikipedia
physics_members &lt;- wiki_action_request() %&gt;%
  query_category_members("Physics") %&gt;% next_batch()
physics_members


# Build the tree of all albums for the Melbourne band Custard
tree &lt;- build_category_tree("Category:Custard_(band)_albums")
tree

# For network analysis and visualisation, you can pass the category tree
# to igraph
tree_graph &lt;- igraph::graph_from_data_frame(tree$edges, vertices = tree$nodes)
tree_graph
</code></pre>

<hr>
<h2 id='query_generate_pages'>Generate pages that meet certain criteria, or which are related to a set of
known pages by certain properties</h2><span id='topic+query_generate_pages'></span><span id='topic+list_all_generators'></span>

<h3>Description</h3>

<p>Many of the endpoints on the Action API can be used as <code>generators</code>. Use
<code><a href="#topic+list_all_generators">list_all_generators()</a></code> to see a complete list. The main advantage of using a
generator is that you can chain it with calls to <code><a href="#topic+query_page_properties">query_page_properties()</a></code> to
find out specific information about the pages. This is not possible for
queries constructed using <code><a href="#topic+query_list_pages">query_list_pages()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_generate_pages(.req, generator, ...)

list_all_generators()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_generate_pages_+3A_.req">.req</code></td>
<td>
<p>A httr2_request, e.g. generated by <code>wiki_action_request</code></p>
</td></tr>
<tr><td><code id="query_generate_pages_+3A_generator">generator</code></td>
<td>
<p>The generator module you wish to use. Most
<a href="https://www.mediawiki.org/wiki/API:Lists">list</a> and
<a href="https://www.mediawiki.org/wiki/API:Properties">property</a> modules can be
used, though not all.</p>
</td></tr>
<tr><td><code id="query_generate_pages_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Additional parameters to the
generator</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are two kinds of <code>generator</code>: list-generators and prop-generators. If
using a prop-generator, then you need to use a <code><a href="#topic+query_by_">query_by_()</a></code> function to tell
the API where to start from, as shown in the examples.
</p>
<p>To set additional parameters to a generator, prepend the parameter with &quot;g&quot;.
For instance, to set a limit of 10 to the number of pages returned by the
<code>categorymembers</code> generator, set the parameter <code>gcmlimit = 10</code>.
</p>


<h3>Value</h3>

<p><a href="#topic+query_generate_pages">query_generate_pages</a>: The modfied request, which can be passed to <a href="#topic+next_batch">next_batch</a> or
<a href="#topic+retrieve_all">retrieve_all</a> as appropriate.
</p>
<p><a href="#topic+list_all_generators">list_all_generators</a>: a <a href="tibble.html#topic+tbl_df-class">tibble</a> of all the available generator
modules. The <code>name</code> column gives the name of the generator, while the
<code>group</code> column indicates whether the generator is based on a list module
or a property module. Generators based on property modules can only be
added to a query if you have already used <a href="#topic+query_by_">query_by_</a> to specify which
pages' properties should be generated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Search for articles about seagulls
seagulls &lt;- wiki_action_request() %&gt;%
  query_generate_pages("search", gsrsearch = "seagull") %&gt;%
  next_batch()

seagulls
</code></pre>

<hr>
<h2 id='query_list_pages'>List pages that meet certain criteria</h2><span id='topic+query_list_pages'></span><span id='topic+list_all_list_modules'></span>

<h3>Description</h3>

<p>See <a href="https://www.mediawiki.org/wiki/API:Lists">API:Lists</a> for available
list actions. Each list action returns a list of pages, typically including
their pageid, <a href="https://www.mediawiki.org/wiki/Manual:Namespace">namespace</a>
and title. Individual lists have particular properties that can be requested,
which are usually prefaced with a two-word code based on the name of the
list (e.g. specific properties for the <code>categorymembers</code> list action are
prefixed with <code>cm</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_list_pages(.req, list, ...)

list_all_list_modules()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_list_pages_+3A_.req">.req</code></td>
<td>
<p>A httr2_request, e.g. generated by <code>wiki_action_request</code></p>
</td></tr>
<tr><td><code id="query_list_pages_+3A_list">list</code></td>
<td>
<p>The <a href="https://www.mediawiki.org/wiki/API:Lists">type of list</a> to return</p>
</td></tr>
<tr><td><code id="query_list_pages_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Additional parameters to the query, e.g. to set configure list</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When the request is performed, the data is returned in the body of the
request under the <code>query</code> object, labeled by the chosen list action.
</p>
<p>If you want to study the actual pages listed, it is advisable to retrieve
the pages directly using a generator, rather than listing their IDs using a
list action. When using a list action, a second request is required to get
further information about each page. Using a generator, you can query pages
and retrieve their relevant properties in a single API call.
</p>


<h3>Value</h3>

<p>An HTTP response: an S3 list with class httr2_request
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the ten most recently added pages in Category:Physics
physics_pages &lt;- wiki_action_request() %&gt;%
  query_list_pages("categorymembers",
    cmsort = "timestamp",
    cmdir = "desc", cmtitle = "Category:Physics"
  ) %&gt;%
  next_batch()

physics_pages
</code></pre>

<hr>
<h2 id='query_page_properties'>Choose properties to return for pages from the action API</h2><span id='topic+query_page_properties'></span><span id='topic+list_all_property_modules'></span>

<h3>Description</h3>

<p>See <a href="https://www.mediawiki.org/wiki/API:Properties">API:Properties</a> for a
list of available properties. Many have additional parameters to control
their behavior, which can be passed to this function as named arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_page_properties(.req, property, ...)

list_all_property_modules()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_page_properties_+3A_.req">.req</code></td>
<td>
<p>A httr2_request, e.g. generated by <code>wiki_action_request</code></p>
</td></tr>
<tr><td><code id="query_page_properties_+3A_property">property</code></td>
<td>
<p>The property to request</p>
</td></tr>
<tr><td><code id="query_page_properties_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Additional parameters to pass, e.g. to modify what is returned by
the property request</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="#topic+query_page_properties">query_page_properties</a> is not useful on its own. It must be combined with a
<a href="#topic+query_by_">query_by_</a> function or <a href="#topic+query_generate_pages">query_generate_pages</a> to specify which pages
properties are to be returned. It should be noted that many of the
<a href="https://www.mediawiki.org/wiki/API:Properties">API:Properties</a> modules can
themselves be used as generators. If you wish to use a property module in
this way, then you must use <a href="#topic+query_generate_pages">query_generate_pages</a>, passing the name of the
property module as the <code>genenerator</code>.
</p>


<h3>Value</h3>

<p>An HTTP response: an S3 list with class httr2_request
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Search for articles about seagulls and retrieve their number of
# watchers

resp &lt;- wiki_action_request() %&gt;%
  query_generate_pages("search", gsrsearch = "seagull") %&gt;%
  query_page_properties("info", inprop = "watchers") %&gt;%
  next_batch() %&gt;%
  dplyr::select(pageid, ns, title, watchers)
resp
</code></pre>

<hr>
<h2 id='query_tbl'>Representation of Wikipedia data returned from an <a href="https://www.mediawiki.org/wiki/API:Query">Action API Query module</a> as tibble, with request
metadata stored as attributes.</h2><span id='topic+query_tbl'></span>

<h3>Description</h3>

<p>Representation of Wikipedia data returned from an <a href="https://www.mediawiki.org/wiki/API:Query">Action API Query module</a> as tibble, with request
metadata stored as attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_tbl(x, request, continue, batchcomplete)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_tbl_+3A_x">x</code></td>
<td>
<p>A tibble</p>
</td></tr>
<tr><td><code id="query_tbl_+3A_request">request</code></td>
<td>
<p>The httr2_request object used to generate the tibble</p>
</td></tr>
<tr><td><code id="query_tbl_+3A_continue">continue</code></td>
<td>
<p>The continue parameter returned by the API</p>
</td></tr>
<tr><td><code id="query_tbl_+3A_batchcomplete">batchcomplete</code></td>
<td>
<p>The batchcomplete parameter returned by the API</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble: an S3 data.frame with class <code>query_tbl</code>.
</p>

<hr>
<h2 id='tidyeval'>Tidy eval helpers</h2><span id='topic+tidyeval'></span><span id='topic+enquo'></span><span id='topic+enquos'></span><span id='topic+.data'></span><span id='topic++3A+3D'></span><span id='topic+as_name'></span><span id='topic+as_label'></span>

<h3>Description</h3>

<p>This page lists the tidy eval tools reexported in this package
from rlang. To learn about using tidy eval in scripts and packages at a high
level, see the <a href="https://dplyr.tidyverse.org/articles/programming.html">dplyr programming vignette</a> and the
<a href="https://ggplot2.tidyverse.org/articles/ggplot2-in-packages.html">ggplot2 in packages vignette</a>.
The <a href="https://adv-r.hadley.nz/metaprogramming.html">Metaprogramming section</a>
of <a href="https://adv-r.hadley.nz">Advanced R</a> may also be useful for a deeper
dive.
</p>

<ul>
<li><p> The tidy eval operators <code style="white-space: pre;">&#8288;{{&#8288;</code>, <code style="white-space: pre;">&#8288;!!&#8288;</code>, and <code style="white-space: pre;">&#8288;!!!&#8288;</code> are syntactic
constructs which are specially interpreted by tidy eval functions.
You will mostly need <code style="white-space: pre;">&#8288;{{&#8288;</code>, as <code style="white-space: pre;">&#8288;!!&#8288;</code> and <code style="white-space: pre;">&#8288;!!!&#8288;</code> are more advanced
operators which you should not have to use in simple cases.
</p>
<p>The curly-curly operator <code style="white-space: pre;">&#8288;{{&#8288;</code> allows you to tunnel data-variables
passed from function arguments inside other tidy eval functions.
<code style="white-space: pre;">&#8288;{{&#8288;</code> is designed for individual arguments. To pass multiple
arguments contained in dots, use <code>...</code> in the normal way.
</p>
<div class="sourceCode"><pre>my_function &lt;- function(data, var, ...) {
  data %&gt;%
    group_by(...) %&gt;%
    summarise(mean = mean({{ var }}))
}
</pre></div>
</li>
<li> <p><code><a href="#topic+enquo">enquo()</a></code> and <code><a href="#topic+enquos">enquos()</a></code> delay the execution of one or several
function arguments. The former returns a single expression, the
latter returns a list of expressions. Once defused, expressions
will no longer evaluate on their own. They must be injected back
into an evaluation context with <code style="white-space: pre;">&#8288;!!&#8288;</code> (for a single expression) and
<code style="white-space: pre;">&#8288;!!!&#8288;</code> (for a list of expressions).
</p>
<div class="sourceCode"><pre>my_function &lt;- function(data, var, ...) {
  # Defuse
  var &lt;- enquo(var)
  dots &lt;- enquos(...)

  # Inject
  data %&gt;%
    group_by(!!!dots) %&gt;%
    summarise(mean = mean(!!var))
}
</pre></div>
<p>In this simple case, the code is equivalent to the usage of <code style="white-space: pre;">&#8288;{{&#8288;</code>
and <code>...</code> above. Defusing with <code>enquo()</code> or <code>enquos()</code> is only
needed in more complex cases, for instance if you need to inspect
or modify the expressions in some way.
</p>
</li>
<li><p> The <code>.data</code> pronoun is an object that represents the current
slice of data. If you have a variable name in a string, use the
<code>.data</code> pronoun to subset that variable with <code>[[</code>.
</p>
<div class="sourceCode"><pre>my_var &lt;- "disp"
mtcars %&gt;% summarise(mean = mean(.data[[my_var]]))
</pre></div>
</li>
<li><p> Another tidy eval operator is <code style="white-space: pre;">&#8288;:=&#8288;</code>. It makes it possible to use
glue and curly-curly syntax on the LHS of <code>=</code>. For technical
reasons, the R language doesn't support complex expressions on
the left of <code>=</code>, so we use <code style="white-space: pre;">&#8288;:=&#8288;</code> as a workaround.
</p>
<div class="sourceCode"><pre>my_function &lt;- function(data, var, suffix = "foo") {
  # Use `{{` to tunnel function arguments and the usual glue
  # operator `{` to interpolate plain strings.
  data %&gt;%
    summarise("{{ var }}_mean_{suffix}" := mean({{ var }}))
}
</pre></div>
</li>
<li><p> Many tidy eval functions like <code>dplyr::mutate()</code> or
<code>dplyr::summarise()</code> give an automatic name to unnamed inputs. If
you need to create the same sort of automatic names by yourself,
use <code>as_label()</code>. For instance, the glue-tunnelling syntax above
can be reproduced manually with:
</p>
<div class="sourceCode"><pre>my_function &lt;- function(data, var, suffix = "foo") {
  var &lt;- enquo(var)
  prefix &lt;- as_label(var)
  data %&gt;%
    summarise("{prefix}_mean_{suffix}" := mean(!!var))
}
</pre></div>
<p>Expressions defused with <code>enquo()</code> (or tunnelled with <code style="white-space: pre;">&#8288;{{&#8288;</code>) need
not be simple column names, they can be arbitrarily complex.
<code>as_label()</code> handles those cases gracefully. If your code assumes
a simple column name, use <code>as_name()</code> instead. This is safer
because it throws an error if the input is not a name as expected.
</p>
</li></ul>



<h3>Value</h3>

<p>Consult the original rlang documentation for the return types of these
re-exported functions.
</p>

<hr>
<h2 id='verify_xml_integrity'>Check that a Wikimedia XML file has not been corrupted</h2><span id='topic+verify_xml_integrity'></span>

<h3>Description</h3>

<p>The Wikimedia Foundation publishes MD5 checksums for all its database dumps.
This function looks up the published sha1 checksums based on the file name,
then compares them to the locally calcualte has using the <code>openssl</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_xml_integrity(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_xml_integrity_+3A_path">path</code></td>
<td>
<p>The path to the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>True (invisibly) if successful, otherwise error
</p>

<hr>
<h2 id='wiki_action_request'>Query Wikipedia using the <a href="https://www.mediawiki.org/wiki/API:Main_page">MediaWiki Action API</a></h2><span id='topic+wiki_action_request'></span>

<h3>Description</h3>

<p>Wikipedia exposes a To build up a query, you first call
<code><a href="#topic+wiki_action_request">wiki_action_request()</a></code> to create the basic request object, then use the
helper functions <code><a href="#topic+query_page_properties">query_page_properties()</a></code>, <code><a href="#topic+query_list_pages">query_list_pages()</a></code> and
<code><a href="#topic+query_generate_pages">query_generate_pages()</a></code> to modify the request, before calling <code><a href="#topic+next_batch">next_batch()</a></code>
or <code><a href="#topic+retrieve_all">retrieve_all()</a></code> to perform the query and download results from the
server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wiki_action_request(..., action = "query", language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wiki_action_request_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Parameters for the request</p>
</td></tr>
<tr><td><code id="wiki_action_request_+3A_action">action</code></td>
<td>
<p>The action to perform, typically 'query'</p>
</td></tr>
<tr><td><code id="wiki_action_request_+3A_language">language</code></td>
<td>
<p>The language edition of Wikipedia to request, e.g. 'en' or
'fr'</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="#topic+wikkitidy">wikkitidy</a> provides an ergonomic API for the Action API's <a href="https://www.mediawiki.org/wiki/API:Query">Query modules</a>. These modules are most
useful for researchers, because they allow you to explore the stucture of
Wikipedia and its back pages. You can obtain a list of available modules in
your R console using <code><a href="#topic+list_all_property_modules">list_all_property_modules()</a></code>, <code><a href="#topic+list_all_list_modules">list_all_list_modules()</a></code>
and <code><a href="#topic+list_all_generators">list_all_generators()</a></code>,
</p>


<h3>Value</h3>

<p>An <code>action_api</code> object, an S3 list that subclasses <a href="httr2.html#topic+request">httr2::request</a>.
The dependencies between different aspects of the Action API are complex.
At the time of writing, there are five major subclasses of
<code>action_api/httr2_request</code>:
</p>

<ul>
<li> <p><code>generator/action_api/httr2_request</code>, returned (sometimes) by <a href="#topic+query_generate_pages">query_generate_pages</a>
</p>
</li>
<li> <p><code>list/action_api/httr2_request</code>, returned by <a href="#topic+query_list_pages">query_list_pages</a>
</p>
</li>
<li> <p><code>titles</code>, <code>pageids</code> and <code>revids/action_api/httr2_request</code>, returned by the various <a href="#topic+query_by_">query_by_</a> functions
</p>
<p>You can use <a href="#topic+query_page_properties">query_page_properties</a> to modify any kind of query <em>except</em>
for <code>list</code> queries: indeed, the central limitation of the <code>list</code> queries is
that you cannot choose what properties to return for the pages the meet the
given criterion. The concept of a <code>generator</code> is complex. If the
<code>generator</code> is based on a
<a href="https://www.mediawiki.org/wiki/API:Properties">property</a> module, then it
must be combined with a <a href="#topic+query_by_">query_by_</a> function to produce a valid query. If
the generator is based on a <a href="https://www.mediawiki.org/wiki/API:Lists">list module</a>, then it <em>cannot</em> be
combined with a <a href="#topic+query_by_">query_by_</a> query.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># List the first 10 pages in the category 'Australian historians'
historians &lt;- wiki_action_request() %&gt;%
  query_list_pages(
    "categorymembers",
    cmtitle = "Category:Australian_historians",
    cmlimit = 10
  ) %&gt;%
  next_batch()
historians
</code></pre>

<hr>
<h2 id='wikimedia_rest_apis'>Build a REST request to one of the Wikimedia Foundation's central APIs</h2><span id='topic+wikimedia_rest_apis'></span><span id='topic+wikimedia_org_rest_request'></span><span id='topic+xtools_rest_request'></span>

<h3>Description</h3>

<p><code>wikimedia_org_rest_request()</code> builds a request for the
<a href="https://wikimedia.org/api/rest_v1/">wikimedia.org REST API</a>, which
provides statistical data about Wikimedia Foundation projects
</p>
<p><code>xtools_rest_request()</code> builds a request to the <a href="https://www.mediawiki.org/wiki/XTools/API">XTools API</a>, which provides additional
statistical data about Wikimedia foundation projects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wikimedia_org_rest_request(endpoint, ..., language = "en")

xtools_rest_request(endpoint, ..., language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wikimedia_rest_apis_+3A_endpoint">endpoint</code></td>
<td>
<p>The endpoint for the specific kind of request; for wikimedia
apis, this comprises the path components in between the general API
endpoint and the component specifying the project to query</p>
</td></tr>
<tr><td><code id="wikimedia_rest_apis_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Components to add to the URL.
Unnamed arguments are added to the path of the request, while named
arguments are added as query parameters.</p>
</td></tr>
<tr><td><code id="wikimedia_rest_apis_+3A_language">language</code></td>
<td>
<p>Two-letter language code for the desired Wikipedia edition.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>wikimedia_org/rest</code> or <code>xtools/rest</code> object, an S3 vector that
subclasses <a href="httr2.html#topic+request">httr2::request</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Build request for articleinfo about Kate Bush's page on English Wikipedia
request &lt;- xtools_rest_request("page/articleinfo", "Kate_Bush")

# Build request for most-viewed pages on German Wikipedia in July 2020
request &lt;- wikimedia_org_rest_request(
    "metrics/pageviews/top",
    "all-access", "2020", "07", "all-days",
    language = "de"
    )
</code></pre>

<hr>
<h2 id='wikipedia_rest_apis'>Build a REST request to one of Wikipedia's specific REST APIs</h2><span id='topic+wikipedia_rest_apis'></span><span id='topic+core_rest_request'></span><span id='topic+wikimedia_rest_request'></span>

<h3>Description</h3>

<p><code>core_request_request()</code> builds a request for the <a href="https://www.mediawiki.org/wiki/API:REST_API">MediaWiki Core REST API</a>, the basic REST
API available on all MediaWiki wikis.
</p>
<p><code>wikimedia_rest_request()</code> builds a request for the <a href="https://www.mediawiki.org/wiki/Wikimedia_REST_API">Wikimedia REST API</a>, an additional
api just for Wikipedia and other wikis managed by the Wikimedia
Foundation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>core_rest_request(..., language = "en")

wikimedia_rest_request(..., language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wikipedia_rest_apis_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Components to add to the URL.
Unnamed arguments are added to the path of the request, while named
arguments are added as query parameters.</p>
</td></tr>
<tr><td><code id="wikipedia_rest_apis_+3A_language">language</code></td>
<td>
<p>The two-letter language code for the Wikipedia edition</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>core/rest</code>, <code>wikimedia/rest</code>, object, an S3 vector that subclasses
<code>httr2_request</code> (see <a href="httr2.html#topic+request">httr2::request</a>). The request needs to be passed to
<a href="httr2.html#topic+req_perform">httr2::req_perform</a> to retrieve data from the API.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the html of the 'Earth' article on English Wikipedia
response &lt;- core_rest_request("page", "Earth", "html") %&gt;%
  httr2::req_perform()

response &lt;- wikimedia_rest_request("page", "html", "Earth") %&gt;%
  httr2::req_perform()

# Some REST requests take query parameters. Pass these as named arguments.
# To search German Wikipedia for articles about Goethe
response &lt;- core_rest_request("search/page", q = "Goethe", limit = 2, language = "de") %&gt;%
  httr2::req_perform() %&gt;%
  httr2::resp_body_json()
</code></pre>

<hr>
<h2 id='wikkitidy_example'>Get path to wikkitidy example</h2><span id='topic+wikkitidy_example'></span>

<h3>Description</h3>

<p>wikkitidy comes bundled with a number of sample files in its <code>inst/extdata</code>
directory. This function make them easy to access
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wikkitidy_example(file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wikkitidy_example_+3A_file">file</code></td>
<td>
<p>Name of file. If <code>NULL</code>, the example files will be listed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector, containing either the path of the chosen file, or
the nicknames of all available example files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>wikkitidy_example()
wikkitidy_example("akan_wiki")
</code></pre>

<hr>
<h2 id='xtools_page'>Access page-level statistics from the <a href="https://www.mediawiki.org/wiki/XTools/API/Page">XTools Page API endpoint</a></h2><span id='topic+xtools_page'></span><span id='topic+get_xtools_page_info'></span><span id='topic+get_xtools_page_prose'></span><span id='topic+get_xtools_page_links'></span><span id='topic+get_xtools_page_top_editors'></span><span id='topic+get_xtools_page_assessment'></span>

<h3>Description</h3>

<p><code>get_xtools_page_info()</code> returns <a href="https://www.mediawiki.org/wiki/XTools/API/Page#Article_info">basic statistics</a>
about articles' history and quality, including their total edits, creation
date, and assessment value (good, featured etc.)
</p>
<p><code>get_xtools_page_prose()</code> returns <a href="https://www.mediawiki.org/wiki/XTools/API/Page#Prose">statistics about the word counts and referencing</a> of
articles
</p>
<p><code>get_xtools_page_links()</code> returns <a href="https://www.mediawiki.org/wiki/XTools/API/Page#Links">the number of ingoing and outgoing links to articles, including redirects</a>
</p>
<p><code>get_xtools_page_top_editors()</code> returns the <a href="https://www.mediawiki.org/wiki/XTools/API/Page#Top_editors">list of top editors for articles</a>, with
optional filters by date range and non-bot status
</p>
<p><code>get_xtools_page_assessment()</code> returns more detailed <a href="https://www.mediawiki.org/wiki/XTools/API/Page#Assessments">statistics about articles' assessment status and Wikiproject importance levels</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_xtools_page_info(
  title,
  language = "en",
  failure_mode = c("error", "quiet")
)

get_xtools_page_prose(
  title,
  language = "en",
  failure_mode = c("error", "quiet")
)

get_xtools_page_links(
  title,
  language = "en",
  failure_mode = c("error", "quiet")
)

get_xtools_page_top_editors(
  title,
  start = NULL,
  end = NULL,
  limit = 1000,
  nobots = FALSE,
  language = "en",
  failure_mode = c("error", "quiet")
)

get_xtools_page_assessment(
  title,
  classonly = FALSE,
  language = "en",
  failure_mode = c("error", "quiet")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xtools_page_+3A_title">title</code></td>
<td>
<p>Character vector of page titles</p>
</td></tr>
<tr><td><code id="xtools_page_+3A_language">language</code></td>
<td>
<p>Language code for the version of Wikipedia to query</p>
</td></tr>
<tr><td><code id="xtools_page_+3A_failure_mode">failure_mode</code></td>
<td>
<p>What to do if no data is found. See <code><a href="#topic+get_rest_resource">get_rest_resource()</a></code></p>
</td></tr>
<tr><td><code id="xtools_page_+3A_start">start</code></td>
<td>
<p>A character vector or date object (optional): the start date for
calculating top editors</p>
</td></tr>
<tr><td><code id="xtools_page_+3A_end">end</code></td>
<td>
<p>A character vector or date object (optional): the end date for
calculating top editors</p>
</td></tr>
<tr><td><code id="xtools_page_+3A_limit">limit</code></td>
<td>
<p>An integer: the maximum number of top editors to return</p>
</td></tr>
<tr><td><code id="xtools_page_+3A_nobots">nobots</code></td>
<td>
<p>TRUE or FALSE: if TRUE, bots are excluded from the top editor
calculation</p>
</td></tr>
<tr><td><code id="xtools_page_+3A_classonly">classonly</code></td>
<td>
<p>TRUE or FALSE: if TRUE, only return the article's assessment
status, without Wikiproject information</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list or tbl of results, the same length as <code>title</code>. <strong>NB:</strong> The
results for <code>get_xtools_page_assessment</code> are still not parsed properly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get basic statistics about Erich Auerbach on German Wikipedia
auerbach &lt;- get_xtools_page_info("Erich Auerbach", language = "de")
auerbach
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package XBRL</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {XBRL}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Low-level functions'><p>Set of low-level functions to parse an XBRL file and extract</p>
information from it.</a></li>
<li><a href='#XBRL'><p>&quot;Mutable state&quot; function that exposes &quot;methods&quot; that analyze an</p>
XBRL instance an its associated DTS.</a></li>
<li><a href='#XBRL-package'><p>Extraction of business financial information from XBRL documents.</p></a></li>
<li><a href='#xbrlDoAll'><p>Function to do all required work on an XBRL instance and its</p>
associated DTS.</a></li>
<li><a href='#xbrlSECdev01'><p>&quot;Mutable state&quot; function that exposes &quot;methods&quot; that analyze a</p>
US SEC submission.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Extraction of Business Financial Information from 'XBRL'
Documents</td>
</tr>
<tr>
<td>Version:</td>
<td>0.99.19.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-10-18</td>
</tr>
<tr>
<td>Author:</td>
<td>Roberto Bertolusso</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Roberto Bertolusso &lt;rbertolusso@rice.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
  Functions to extract business financial information from
  an Extensible Business Reporting Language ('XBRL') instance file and the
  associated collection of files that defines its 'Discoverable' Taxonomy
  Set ('DTS').</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, Rcpp (&ge; 0.10.4)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>libxml2 (&gt;= 2.9.1)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-28 12:05:17 UTC; tomas</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-28 17:03:52 UTC</td>
</tr>
</table>
<hr>
<h2 id='Low-level+20functions'>Set of low-level functions to parse an XBRL file and extract
information from it.</h2><span id='topic+xbrlParse'></span><span id='topic+xbrlFree'></span><span id='topic+xbrlGetSchemaName'></span><span id='topic+xbrlGetLinkbaseNames'></span><span id='topic+xbrlGetImportNames'></span><span id='topic+xbrlProcessElements'></span><span id='topic+xbrlProcessLabels'></span><span id='topic+xbrlProcessArcs'></span><span id='topic+xbrlProcessRoles'></span><span id='topic+xbrlProcessContexts'></span><span id='topic+xbrlProcessFacts'></span><span id='topic+xbrlProcessUnits'></span><span id='topic+xbrlProcessFootnotes'></span>

<h3>Description</h3>

<p><code>xbrlParse</code> performs the parsing of the document. It returns a
pointer to external memory used by the low-level
functions. <code>xbrlFree</code> releases the external memory used.
</p>
<p><code>xbrlGetSchemaName</code> is used on an instance document to extract the
name of the associated schema. <code>xbrlGetLinkbaseNames</code> and
<code>xbrlGetImportNames</code> are used on a taxonomy document to extract the
names of linked documents during the process of discovery.
</p>
<p><code>xbrlProcessXXX</code> functions are used to extract information from
taxonomy and instance files in the form of data frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Use on any XBRL file
xbrlParse(file)
xbrlFree(doc)

## Use on an instance file
xbrlGetSchemaName(doc)

## Use on a taxonomy file
xbrlGetLinkbaseNames(doc)
xbrlGetImportNames(doc)

xbrlProcessElements(doc)
xbrlProcessLabels(doc)
xbrlProcessArcs(doc, arcType)

## Use on a schema file
xbrlProcessRoles(doc)

## Use on an instance file
xbrlProcessContexts(doc)
xbrlProcessFacts(doc)
xbrlProcessUnits(doc)
xbrlProcessFootnotes(doc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Low-level+2B20functions_+3A_file">file</code></td>
<td>
<p>the name of the XBRL document. It can be a URL or local file name</p>
</td></tr>
<tr><td><code id="Low-level+2B20functions_+3A_doc">doc</code></td>
<td>
<p>pointer to external memory, returned by <code>xbrlParse</code></p>
</td></tr>
<tr><td><code id="Low-level+2B20functions_+3A_arctype">arcType</code></td>
<td>
<p>Either &quot;presentation&quot;, &quot;calculation&quot;, or &quot;definition&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>xbrlParse</code> returns an external pointer.
</p>
<p><code>xbrlFree</code> returns NULL.
</p>
<p><code>xbrlGetSchemaName</code>, <code>xbrlGetLinkbaseNames</code> and
<code>xbrlGetImportNames</code> return a character vector
</p>
<p><code>xbrlProcessXXX</code> returns a data.frame
</p>


<h3>Author(s)</h3>

<p>Roberto Bertolusso and Marek Kimmel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xbrlDoAll">xbrlDoAll</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Setting stringsAsFactors = FALSE is highly recommended
## to avoid data frames to create factors from character vectors.
options(stringsAsFactors = FALSE)

## XBRL instance file to be analyzed.
## NOTE: in this case, inst needs to be a local file, or accessible
##       as http (not https).
inst &lt;- "ko-20130927.xml"
## Parse the instance (doc is an pointer to
## external memory that needs to be freed after use):
doc &lt;- xbrlParse(inst)
## Get a data frame with facts:
fct &lt;- xbrlProcessFacts(doc)
## Get a data frame with contexts:
cts &lt;- xbrlProcessContexts(doc)
## Get a data frame with units:
unt &lt;- xbrlProcessUnits(doc)
sch &lt;- xbrlGetSchemaName(doc)
## Free the external memory used:
xbrlFree(doc)

dname &lt;- dirname(inst)
## Parse the schema file:
docS &lt;- xbrlParse(paste0(dname,"/",sch))
## Get roles:
rls &lt;- xbrlProcessRoles(docS)
head(rls)
## Free the external memory used:
xbrlFree(docS)

## End(Not run)
</code></pre>

<hr>
<h2 id='XBRL'>&quot;Mutable state&quot; function that exposes &quot;methods&quot; that analyze an
XBRL instance an its associated DTS.</h2><span id='topic+XBRL'></span>

<h3>Description</h3>

<p><code>XBRL</code> is a &quot;mutable state&quot; function that offers a object-oriented
programming-like interface, by exposing &quot;methods&quot; that perform accions
on XBRL files. It keeps a list of data frames that are populated by
the &quot;methods&quot; by calls to the low-level functions (see
<code><a href="#topic+xbrlParse">xbrlParse</a></code>).
</p>
<p>The approach used is derived from an example included in *10.7 Scope*
of *An Introduction to R*. The employed terminology may be inaccurate,
hence the quotations. <code>XBRL</code> &quot;methods&quot; are called by
<code><a href="#topic+xbrlDoAll">xbrlDoAll</a></code>. See examples of use below. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XBRL()
</code></pre>


<h3>Arguments</h3>

<p>no arguments</p>


<h3>Value</h3>

<p>a list of &quot;methods&quot;</p>


<h3>Author(s)</h3>

<p>Roberto Bertolusso and Marek Kimmel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xbrlDoAll">xbrlDoAll</a></code>, <code><a href="#topic+xbrlParse">xbrlParse</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Setting stringsAsFactors = FALSE is highly recommended
## to avoid data frames to create factors from character vectors.
options(stringsAsFactors = FALSE)

## XBRL instance file to be analyzed, accessed
## directly from SEC website:
inst &lt;- "https://www.sec.gov/Archives/edgar/data/21344/000002134413000050/ko-20130927.xml"

xbrl &lt;- XBRL()
xbrl$setCacheDir("XBRLcache")
xbrl$openInstance(inst)
## Perform a discovery of the taxonomy:
xbrl$processSchema(xbrl$getSchemaName())
## Process instance file:
xbrl$processContexts()
xbrl$processUnits()
xbrl$processFacts()
xbrl$processFootnotes()
xbrl$closeInstance()
xbrl.vars &lt;- xbrl$getResults()

## End(Not run)
</code></pre>

<hr>
<h2 id='XBRL-package'>Extraction of business financial information from XBRL documents.</h2><span id='topic+XBRL-package'></span>

<h3>Description</h3>

<p>Functions to extract business financial information from
an Extensible Business Reporting Language (XBRL) instance file and the
associated collection of files that defines its Discoverable Taxonomy
Set (DTS), usually disseminated across different remote locations.
</p>
<p>XBRL documents employ many technologies defined by XML standards, such
as XML Schema, Namespaces, XLink, and XPath, which make the extraction
of information involved. The functions provided by this package
address this complexity, returning data frames containing the enclosed
information readily available to perform analyses.
</p>
<p>XBRL has been successfully tested in analyzing 10-K and 10-Q
submissions from USA filing companies that are publicly available at
the EDGAR system of the Securities and Exchange Commission (SEC).
It has been reported to work with inline XBRL documents.
</p>
<p>As published taxonomy files (such as
&quot;http://xbrl.fasb.org/us-gaap/2013/elts/us-gaap-2013-01-31.xsd&quot;) 
are immutable and are used by most filers, XBRL offers the option of
downloading them only the first time they are referred, keeping a
local cache copy that can be used from then on. This speeds-up the
process, specially on slow connections.
</p>
<p>XBRL is not and does not aim to be (at least yet) a validating XBRL
processor.
</p>
<p>XBRL is still a work in progress. As such, functions and produced data
frames may change structure in future versions until stabilization.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> XBRL</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.99.11</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2014-01-01</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;=2)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The package offers 3 levels of access:
</p>
<p>1) A function that &quot;does it all&quot; (see <code><a href="#topic+xbrlDoAll">xbrlDoAll</a></code>).
</p>
<p>2) A &quot;mutable state&quot; function that exposes &quot;methods&quot; to be called
individually (see <code><a href="#topic+XBRL">XBRL</a></code>).
</p>
<p>3) Individual specialized functions in C++, glued to a corresponding R
calling function (see <code><a href="#topic+xbrlParse">xbrlParse</a></code>).
</p>
<p>See examples of use below.
</p>


<h3>Author(s)</h3>

<p>Roberto Bertolusso and Marek Kimmel
</p>
<p>Maintainer: Roberto Bertolusso &lt;rbertolusso@rice.edu&gt;
</p>


<h3>References</h3>

<p>http://www.xbrl.org
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xbrlDoAll">xbrlDoAll</a></code>, <code><a href="#topic+XBRL">XBRL</a></code>, <code><a href="#topic+xbrlParse">xbrlParse</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Setting stringsAsFactors = FALSE is highly recommended
## to avoid data frames to create factors from character vectors.
options(stringsAsFactors = FALSE)

## Load the library
library(XBRL)

## XBRL instance file to be analyzed, accessed
## directly from SEC website:
inst &lt;- "https://www.sec.gov/Archives/edgar/data/21344/000002134413000050/ko-20130927.xml"

## Level 1: Function that does all work and returns
## a list of data frames with extracted information:
xbrl.vars &lt;- xbrlDoAll(inst, verbose=TRUE)

## Level 2: Using the XBRL() "mutable state" function:
xbrl &lt;- XBRL()
xbrl$setCacheDir("XBRLcache")
xbrl$openInstance(inst)
## Perform a discovery of the taxonomy:
xbrl$processSchema(xbrl$getSchemaName())
## Process instance file:
xbrl$processContexts()
xbrl$processUnits()
xbrl$processFacts()
xbrl$processFootnotes()
xbrl$closeInstance()
xbrl.vars &lt;- xbrl$getResults()

## Level 3: Using specialized functions that call C++ code directly:
## Parse the instance (doc is an pointer to external memory that needs to be freed):
## NOTE: in this case, inst needs to be a local file, or accessible
##       as http (not https).
inst &lt;- "ko-20130927.xml"
doc &lt;- xbrlParse(inst)
## Get a data frame with facts:
fct &lt;- xbrlProcessFacts(doc)
## Get a data frame with contexts:
cts &lt;- xbrlProcessContexts(doc)
## Get a data frame with units:
unt &lt;- xbrlProcessUnits(doc)
## Free the external memory used:
xbrlFree(doc)

## End(Not run)
</code></pre>

<hr>
<h2 id='xbrlDoAll'>Function to do all required work on an XBRL instance and its
associated DTS.</h2><span id='topic+xbrlDoAll'></span>

<h3>Description</h3>

<p><code>xbrlDoAll</code> performs all the steps necessary to extract a list
of dataframes, starting from an XBRL instance file. <code>xbrlDoAll</code>
offers the highest level of abstraction from the required steps. A
medium-level access can be achieved by using <code><a href="#topic+XBRL">XBRL</a></code>. A
low-level access can be achieved by using the functions related to
<code><a href="#topic+xbrlParse">xbrlParse</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xbrlDoAll(file.inst, cache.dir = "xbrl.Cache", prefix.out = NULL,
          verbose = FALSE, delete.cached.inst = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xbrlDoAll_+3A_file.inst">file.inst</code></td>
<td>
<p>the name of the instance file</p>
</td></tr>
<tr><td><code id="xbrlDoAll_+3A_cache.dir">cache.dir</code></td>
<td>
<p>the name of a local directory to be used as a cache
of discovered taxonomies. if NULL, no cache is performed</p>
</td></tr>
<tr><td><code id="xbrlDoAll_+3A_prefix.out">prefix.out</code></td>
<td>
<p>if given, prefix used to create csv files with the
content of the data frames produced</p>
</td></tr>
<tr><td><code id="xbrlDoAll_+3A_verbose">verbose</code></td>
<td>
<p>Set to TRUE to see output of the process of discovery
and analysis if documents</p>
</td></tr>
<tr><td><code id="xbrlDoAll_+3A_delete.cached.inst">delete.cached.inst</code></td>
<td>
<p>Set to TRUE to delete downloaded instance,
schema and linkbase files</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of data frames with extracted information</p>


<h3>Author(s)</h3>

<p>Roberto Bertolusso and Marek Kimmel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+XBRL">XBRL</a></code>, <code><a href="#topic+xbrlParse">xbrlParse</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Setting stringsAsFactors = FALSE is highly recommended
## to avoid data frames to create factors from character vectors.
options(stringsAsFactors = FALSE)

## XBRL instance file to be analyzed, accessed
## directly from SEC website:
inst &lt;- "https://www.sec.gov/Archives/edgar/data/21344/000002134413000050/ko-20130927.xml"

xbrl.vars &lt;- xbrlDoAll(inst, cache.dir="XBRLcache", prefix.out="out", verbose=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='xbrlSECdev01'>&quot;Mutable state&quot; function that exposes &quot;methods&quot; that analyze a
US SEC submission.</h2><span id='topic+xbrlSECdev01'></span>

<h3>Description</h3>

<p><code>xbrlSECtmp</code> is a &quot;mutable state&quot; function (see
<code><a href="#topic+XBRL">XBRL</a></code>). It exposes the method
<code>showPresentationHierarchy</code>. It is a work in progress.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xbrlSECdev01(xbrl.vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xbrlSECdev01_+3A_xbrl.vars">xbrl.vars</code></td>
<td>
<p>list of variables returned by <code><a href="#topic+xbrlDoAll">xbrlDoAll</a></code></p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p>showPresentationHierarchy(showLabels=TRUE, showFacts=FALSE,
file=&quot;&quot;) Shows a tree of the presentations provided.
</p>
</li></ul>



<h3>Value</h3>

<p>a list of &quot;methods&quot;</p>


<h3>Author(s)</h3>

<p>Roberto Bertolusso and Marek Kimmel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xbrlDoAll">xbrlDoAll</a></code>, <code><a href="#topic+xbrlParse">xbrlParse</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Setting stringsAsFactors = FALSE is highly recommended
## to avoid data frames to create factors from character vectors.
options(stringsAsFactors = FALSE)

## XBRL instance file to be analyzed, accessed
## directly from SEC website:
inst &lt;- "https://www.sec.gov/Archives/edgar/data/21344/000002134413000050/ko-20130927.xml"

xbrl.vars &lt;- xbrlDoAll(inst)
xbrl.sec &lt;- xbrlSECdev01(xbrl.vars)
xbrl.sec$showPresentationHierarchy(showLabels=TRUE, showFacts=TRUE)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package itraxR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {itraxR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CD166_19_S1'><p>Itrax core scanner data for core CD166_19_S1</p></a></li>
<li><a href='#itrax_correlation'><p>Calculate a correlation matrix for Itrax result data</p></a></li>
<li><a href='#itrax_image'><p>Read an Itrax Image File</p></a></li>
<li><a href='#itrax_import'><p>Import Itrax core-scanner result file</p></a></li>
<li><a href='#itrax_join'><p>Join two or more Itrax result datasets</p></a></li>
<li><a href='#itrax_meta'><p>Parse Itrax scan metadata</p></a></li>
<li><a href='#itrax_munsell'><p>Convert an Itrax Image File into Munsell Colour</p></a></li>
<li><a href='#itrax_ordination'><p>Principle Component Analysis on Itrax scan data</p></a></li>
<li><a href='#itrax_qspecsettings'><p>Read a Q-Spec settings file and parse the key-value pairs</p></a></li>
<li><a href='#itrax_radiograph'><p>Read an Itrax Radiograph File</p></a></li>
<li><a href='#itrax_reduce'><p>Reduce Itrax XRF data</p></a></li>
<li><a href='#itrax_restspectra'><p>Make a spectrograph from raw Itrax data spectra files</p></a></li>
<li><a href='#itrax_section'><p>Cluster analysis and statistical grouping of Itrax data</p></a></li>
<li><a href='#itrax_spectra'><p>Import an individual spectra file</p></a></li>
<li><a href='#multivariate_import'><p>Prepare data for multivariate analysis</p></a></li>
<li><a href='#uid_labeller'><p>Generate uids for datasets</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Itrax Data Analysis Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>1.12.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-05-30</td>
</tr>
<tr>
<td>Author:</td>
<td>Thomas Bishop</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thomas Bishop &lt;tombishopemail@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/tombishop1/itraxR/">https://github.com/tombishop1/itraxR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tombishop1/itraxR/issues">https://github.com/tombishop1/itraxR/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Parse, trim, join, visualise and analyse data from Itrax sediment core multi-parameter 
    scanners manufactured by Cox Analytical Systems, Sweden. Functions are provided for parsing 
    XRF-peak area files, line-scan optical images, and radiographic images, alongside accompanying metadata. 
    A variety of data wrangling tasks like trimming, joining and reducing XRF-peak area data are simplified. 
    Multivariate methods are implemented with appropriate data transformation. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>dplyr, ggplot2, R (&ge; 3.5.0), compositions, grid</td>
</tr>
<tr>
<td>Imports:</td>
<td>readr, tiff, janitor, ggcorrplot, rlang, tidyr, broom, tibble,
stringr, munsellinterpol, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>magrittr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-30 22:02:22 UTC; tombi</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-30 22:20:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='CD166_19_S1'>Itrax core scanner data for core CD166_19_S1</h2><span id='topic+CD166_19_S1'></span>

<h3>Description</h3>

<p>A dataset containing XRF, optical and radiographic images and metadata for ocean core CD166_19_S1. This is a subset of a more complete dataset available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CD166_19_S1
</code></pre>


<h3>Format</h3>

<p>A list containing the following:
</p>

<dl>
<dt>xrf</dt><dd><p>a tibble of scan variables</p>
</dd>
<dt>rgb</dt><dd><p>a list containing the optical image matrix and associated metadata</p>
</dd>
<dt>rad</dt><dd><p>a list containing the radiographic image matrix and associated metadata</p>
</dd>
</dl>



<h3>Source</h3>

<p>Bishop, Thomas; Charidemou, Miros (2023): Core Scanning Data from Core CD166/19. PANGAEA, https://doi.pangaea.de/10.1594/PANGAEA.955347
</p>

<hr>
<h2 id='itrax_correlation'>Calculate a correlation matrix for Itrax result data</h2><span id='topic+itrax_correlation'></span>

<h3>Description</h3>

<p>Calculates a correlation matrix for Itrax data results including normalisation and visualisation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_correlation(
  dataframe,
  elementsonly = TRUE,
  zeros = "addone",
  transform = TRUE,
  plot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_correlation_+3A_dataframe">dataframe</code></td>
<td>
<p>pass the name of a dataframe parsed using <code>"itrax_import()"</code> or <code>"itrax_join()"</code></p>
</td></tr>
<tr><td><code id="itrax_correlation_+3A_elementsonly">elementsonly</code></td>
<td>
<p>if TRUE, only chemical elements are included. If FALSE, the data is passed unfiltered, otherwise a character vector of desired variable names can be supplied</p>
</td></tr>
<tr><td><code id="itrax_correlation_+3A_zeros">zeros</code></td>
<td>
<p>if &quot;addone&quot;, adds one to all values. If &quot;limit&quot;, replaces zero values with 0.001. Otherwise a function can be supplied to remove zero values.</p>
</td></tr>
<tr><td><code id="itrax_correlation_+3A_transform">transform</code></td>
<td>
<p>binary operator that if TRUE will center-log-transform the data, if FALSE will leave the data untransformed. Otherwise, a function can be supplied to transform the data.</p>
</td></tr>
<tr><td><code id="itrax_correlation_+3A_plot">plot</code></td>
<td>
<p>set to true if a biplot is required as a side-effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a correlation matrix object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_correlation(CD166_19_S1$xrf, plot = TRUE)

</code></pre>

<hr>
<h2 id='itrax_image'>Read an Itrax Image File</h2><span id='topic+itrax_image'></span>

<h3>Description</h3>

<p>Reads an Itrax image file and trims it according to the metadata provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_image(
  file = "optical.tif",
  meta = "document.txt",
  plot = FALSE,
  trim = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_image_+3A_file">file</code></td>
<td>
<p>defines the name of the datafile to parse</p>
</td></tr>
<tr><td><code id="itrax_image_+3A_meta">meta</code></td>
<td>
<p>defines the relating metadata</p>
</td></tr>
<tr><td><code id="itrax_image_+3A_plot">plot</code></td>
<td>
<p>would you like to create a plot as a side-effect?</p>
</td></tr>
<tr><td><code id="itrax_image_+3A_trim">trim</code></td>
<td>
<p>defines custom trim parameters. The default behaviour uses the limits from the metadata file. Set the false for no trimming, or set the position limits by passing a two element vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix of RGB values, and the relevant data from the metadata file relating to the image.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_image(file = system.file("extdata",
                         "CD166_19_S1_optical_lowres.tif",
                         package = "itraxR",
                         mustWork = TRUE),
            meta = system.file("extdata",
                         "CD166_19_S1_xrf_document.txt",
                         package = "itraxR",
                         mustWork = TRUE),
            plot = TRUE)

</code></pre>

<hr>
<h2 id='itrax_import'>Import Itrax core-scanner result file</h2><span id='topic+itrax_import'></span>

<h3>Description</h3>

<p>Imports and parses data from a results file created by Q-Spec software, part of the Itrax core scanner.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_import(
  filename = "Results.txt",
  depth_top = NA,
  trim_top = 0,
  trim_bottom = 0,
  parameters = "some"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_import_+3A_filename">filename</code></td>
<td>
<p>defines the name of the datafile to parse</p>
</td></tr>
<tr><td><code id="itrax_import_+3A_depth_top">depth_top</code></td>
<td>
<p>defines the coring in depth of the top of the core, in mm</p>
</td></tr>
<tr><td><code id="itrax_import_+3A_trim_top">trim_top</code></td>
<td>
<p>defines the length of any trimming required of data at the top of the core, in mm</p>
</td></tr>
<tr><td><code id="itrax_import_+3A_trim_bottom">trim_bottom</code></td>
<td>
<p>defines the length of any trimming required at the bottom of the core, in mm</p>
</td></tr>
<tr><td><code id="itrax_import_+3A_parameters">parameters</code></td>
<td>
<p>one of 'all' (leave all parameters), 'some' (remove some less useful parameters)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of the parsed Itrax data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_import(
  filename = system.file("extdata",
                         "CD166_19_S1_Results.txt",
                         package = "itraxR",
                         mustWork = TRUE),
  depth_top = 0)

</code></pre>

<hr>
<h2 id='itrax_join'>Join two or more Itrax result datasets</h2><span id='topic+itrax_join'></span>

<h3>Description</h3>

<p>Join two or more Itrax datasets that have been parsed using <code>"itrax_import()"</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_join(list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_join_+3A_list">list</code></td>
<td>
<p>a list of dataframes that are parsed Itrax result files &mdash; this should have been imported using <code>"itrax_import()"</code> and must have a depth variable present. This should take the form <code>"list(core1 = core1, core2 = core2)"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of all the input data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_join(list(core1 = CD166_19_S1$xrf, core2 = CD166_19_S1$xrf))
</code></pre>

<hr>
<h2 id='itrax_meta'>Parse Itrax scan metadata</h2><span id='topic+itrax_meta'></span>

<h3>Description</h3>

<p>Parses the <code>"document.txt files"</code> generated from Itrax core scanners
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_meta(datafile = "document.txt")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_meta_+3A_datafile">datafile</code></td>
<td>
<p>a <code>"document.txt files"</code> generated from an Itrax core scanner</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe of all the parsed input data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_meta(system.file("extdata",
                       "CD166_19_S1_xrf_document.txt",
                       package = "itraxR",
                       mustWork = TRUE))

</code></pre>

<hr>
<h2 id='itrax_munsell'>Convert an Itrax Image File into Munsell Colour</h2><span id='topic+itrax_munsell'></span>

<h3>Description</h3>

<p>Reads a colour calibrated Itrax image file and processes it to estimate Munsell colour.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_munsell(image, proportion = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_munsell_+3A_image">image</code></td>
<td>
<p>defines the name of the image file imported using 'itrax_image()'. It is essential that the image has been colour calibrated using a colour card or other method.</p>
</td></tr>
<tr><td><code id="itrax_munsell_+3A_proportion">proportion</code></td>
<td>
<p>defines the width down the centre of the image to use for processing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table of values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
itrax_image(file = system.file("extdata",
                              "CD166_19_S1_optical_lowres.tif",
                              package = "itraxR",
                              mustWork = TRUE),
           meta = system.file("extdata",
                              "CD166_19_S1_xrf_document.txt",
                              package = "itraxR",
                              mustWork = TRUE),
           plot = FALSE) %&gt;%
 magrittr::extract2(1) %&gt;%
 itrax_munsell() %&gt;%
 dplyr::slice_sample(n = 10)
 
## End(Not run)


</code></pre>

<hr>
<h2 id='itrax_ordination'>Principle Component Analysis on Itrax scan data</h2><span id='topic+itrax_ordination'></span>

<h3>Description</h3>

<p>Performs and visualises principle component analysis data from Itrax result data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_ordination(
  dataframe,
  elementsonly = TRUE,
  zeros = "addone",
  transform = TRUE,
  return = "list",
  plot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_ordination_+3A_dataframe">dataframe</code></td>
<td>
<p>pass the name of a dataframe parsed using <code>"itrax_import()"</code> or <code>"itrax_join()"</code></p>
</td></tr>
<tr><td><code id="itrax_ordination_+3A_elementsonly">elementsonly</code></td>
<td>
<p>if TRUE, only chemical elements are included. If FALSE, the data is passed unfiltered, otherwise a character vector of desired variable names can be supplied</p>
</td></tr>
<tr><td><code id="itrax_ordination_+3A_zeros">zeros</code></td>
<td>
<p>if &quot;addone&quot;, adds one to all values. If &quot;limit&quot;, replaces zero values with 0.001. Otherwise a function can be supplied to remove zero values.</p>
</td></tr>
<tr><td><code id="itrax_ordination_+3A_transform">transform</code></td>
<td>
<p>binary operator that if TRUE will center-log-transform the data, if FALSE will leave the data untransformed. Otherwise, a function can be supplied to transform the data.</p>
</td></tr>
<tr><td><code id="itrax_ordination_+3A_return">return</code></td>
<td>
<p>if &quot;pca&quot; the output of <code>prcomp()</code> is returned, otherwise &quot;list&quot; is a list including the transformed data, sample scores, and the output of prcomp().</p>
</td></tr>
<tr><td><code id="itrax_ordination_+3A_plot">plot</code></td>
<td>
<p>set to true if a biplot is required as a side-effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>either an output of <code>prcomp()</code>, or a list including the input data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_ordination(CD166_19_S1$xrf, plot = TRUE)

</code></pre>

<hr>
<h2 id='itrax_qspecsettings'>Read a Q-Spec settings file and parse the key-value pairs</h2><span id='topic+itrax_qspecsettings'></span>

<h3>Description</h3>

<p>This is used to retrieve settings important elsewhere, for example the mca bin width and offset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_qspecsettings(filename = "Results_settings.dfl")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_qspecsettings_+3A_filename">filename</code></td>
<td>
<p>the *.dfl settings file that relates to the rest of the data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of the parsed data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_qspecsettings(filename = system.file("extdata",
                                "Results_settings.dfl",
                                package = "itraxR",
                                mustWork = TRUE)
                                )

</code></pre>

<hr>
<h2 id='itrax_radiograph'>Read an Itrax Radiograph File</h2><span id='topic+itrax_radiograph'></span>

<h3>Description</h3>

<p>Reads an Itrax radiograph file and trims it according to the metadata provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_radiograph(
  file = "radiograph.tif",
  meta = "document.txt",
  plot = FALSE,
  trim = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_radiograph_+3A_file">file</code></td>
<td>
<p>defines the name of the datafile to parse</p>
</td></tr>
<tr><td><code id="itrax_radiograph_+3A_meta">meta</code></td>
<td>
<p>defines the relating metadata</p>
</td></tr>
<tr><td><code id="itrax_radiograph_+3A_plot">plot</code></td>
<td>
<p>would you like to create a plot as a side-effect?</p>
</td></tr>
<tr><td><code id="itrax_radiograph_+3A_trim">trim</code></td>
<td>
<p>defines positions of the trim if required, input is a vector with min and max positions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix of RGB values, and the relevant data from the metadata file relating to the image.
Also computes the aspect ratio of the image.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_radiograph(file = system.file("extdata",
                         "CD166_19_S1_radiograph_adj.tif",
                         package = "itraxR",
                         mustWork = TRUE),
                 meta = system.file("extdata",
                         "CD166_19_S1_rad_document.txt",
                         package = "itraxR",
                         mustWork = TRUE),
                 plot = TRUE)

</code></pre>

<hr>
<h2 id='itrax_reduce'>Reduce Itrax XRF data</h2><span id='topic+itrax_reduce'></span>

<h3>Description</h3>

<p>Reduces Itrax XRF data into arbitrary chunks using an arbitrary function.
This is useful when making direct comparisons between the Itrax XRF data and some other data collected at a lower resolution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_reduce(
  dataframe,
  names = c(1:length(breaks_lower)),
  breaks_lower,
  breaks_upper,
  fun = mean,
  edges = c("&gt;=", "&lt;"),
  by = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_reduce_+3A_dataframe">dataframe</code></td>
<td>
<p>defines the name of the XRF data to reduce, usually a itraxR::itrax_import like tibble</p>
</td></tr>
<tr><td><code id="itrax_reduce_+3A_names">names</code></td>
<td>
<p>optional, a vector of the same length as 'breaks'</p>
</td></tr>
<tr><td><code id="itrax_reduce_+3A_breaks_lower">breaks_lower</code></td>
<td>
<p>a vector of the lower limit of each chunk</p>
</td></tr>
<tr><td><code id="itrax_reduce_+3A_breaks_upper">breaks_upper</code></td>
<td>
<p>a vector of the upper limit of each chunk</p>
</td></tr>
<tr><td><code id="itrax_reduce_+3A_fun">fun</code></td>
<td>
<p>the function to apply in order to reduce the data. Default is mean(), but sd() is also common</p>
</td></tr>
<tr><td><code id="itrax_reduce_+3A_edges">edges</code></td>
<td>
<p>a vector of length 2 with the upper and lower bound behaviour; can be any of '&lt;', '&lt;=', '&gt;', '&gt;='</p>
</td></tr>
<tr><td><code id="itrax_reduce_+3A_by">by</code></td>
<td>
<p>if contiguous samples of even sizes are required, 'by' defines the chunk size and will automatically generate 'breaks'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble with the same number of rows as 'breaks' and the same number of columns as 'dataframe'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_reduce(dataframe = CD166_19_S1$xrf, by = 10)

</code></pre>

<hr>
<h2 id='itrax_restspectra'>Make a spectrograph from raw Itrax data spectra files</h2><span id='topic+itrax_restspectra'></span>

<h3>Description</h3>

<p>Parses a folder full of raw spectra files from an Itrax core scanner and produces a spectral graph of all the data by position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_restspectra(
  foldername = "XRF data",
  parameters = "settings.dfl",
  datapos = 37,
  depthpos = 6,
  plot = TRUE,
  trans = "pseudo_log"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_restspectra_+3A_foldername">foldername</code></td>
<td>
<p>defines the folder where the spectra <code>"*.spe"</code> files are located - or the path of the zipped folder where it is stored.</p>
</td></tr>
<tr><td><code id="itrax_restspectra_+3A_parameters">parameters</code></td>
<td>
<p>optionally, defines the Q-Spec settings file from which to calculate the channel energies</p>
</td></tr>
<tr><td><code id="itrax_restspectra_+3A_datapos">datapos</code></td>
<td>
<p>defines the row at which spectral data begins in the files</p>
</td></tr>
<tr><td><code id="itrax_restspectra_+3A_depthpos">depthpos</code></td>
<td>
<p>defines the row at which depth data begins is located in the files</p>
</td></tr>
<tr><td><code id="itrax_restspectra_+3A_plot">plot</code></td>
<td>
<p>TRUE/FALSE, selects whether to create a plot as a side-effect</p>
</td></tr>
<tr><td><code id="itrax_restspectra_+3A_trans">trans</code></td>
<td>
<p>transformation applied in the plot - see '?ggplot2::scales_colour_gradient()' for options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe of all the spectral data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: itrax_restspectra("~/itraxBook/CD166_19_(2020)/CD166_19_S1/CD166_19_S1/XRF data")

</code></pre>

<hr>
<h2 id='itrax_section'>Cluster analysis and statistical grouping of Itrax data</h2><span id='topic+itrax_section'></span>

<h3>Description</h3>

<p>Performs a cluster analysis and automatic statistical grouping of parsed Itrax results data to n groups.
Also provides information on the most &quot;representative&quot; (central) of each group. These can be used to develop a
sub-sampling regime for calibration using another method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_section(
  dataframe,
  divisions = 30,
  elementsonly = TRUE,
  zeros = "addone",
  transform = TRUE,
  plot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_section_+3A_dataframe">dataframe</code></td>
<td>
<p>pass the name of a dataframe parsed using <code>"itrax_import()"</code> or <code>"itrax_join()"</code> or <code>"itrax_reduce()"</code>.</p>
</td></tr>
<tr><td><code id="itrax_section_+3A_divisions">divisions</code></td>
<td>
<p>the number of groups to slice into - also the number of representative samples returned.</p>
</td></tr>
<tr><td><code id="itrax_section_+3A_elementsonly">elementsonly</code></td>
<td>
<p>if TRUE, only chemical elements are included. If FALSE, the data is passed unfiltered, otherwise a character vector of desired variable names can be supplied.</p>
</td></tr>
<tr><td><code id="itrax_section_+3A_zeros">zeros</code></td>
<td>
<p>if &quot;addone&quot;, adds one to all values. If &quot;limit&quot;, replaces zero values with 0.001. Otherwise a function can be supplied to remove zero values.</p>
</td></tr>
<tr><td><code id="itrax_section_+3A_transform">transform</code></td>
<td>
<p>binary operator that if TRUE will center-log-transform the data, if FALSE will leave the data untransformed. Otherwise, a function can be supplied to transform the data.</p>
</td></tr>
<tr><td><code id="itrax_section_+3A_plot">plot</code></td>
<td>
<p>set to true if a summary plot is required as a side-effect - the input dataset must have a depth or position variable - depth is used preferentially.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the input data with additional columns 'group' and 'calib_sample', and possibly 'uid' if not supplied.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itrax_section(CD166_19_S1$xrf, plot = TRUE)
itrax_section(CD166_19_S1$xrf %&gt;% itrax_reduce(by = 10), plot = TRUE)

</code></pre>

<hr>
<h2 id='itrax_spectra'>Import an individual spectra file</h2><span id='topic+itrax_spectra'></span>

<h3>Description</h3>

<p>Sometimes it is helpful to read an individual spectral file for diagnostics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itrax_spectra(filename, parameters = "settings.dfl", plot = TRUE, datapos = 37)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itrax_spectra_+3A_filename">filename</code></td>
<td>
<p>defines the name of the *.spe datafile from the core scanner to parse</p>
</td></tr>
<tr><td><code id="itrax_spectra_+3A_parameters">parameters</code></td>
<td>
<p>optionally defines a relevant Q-Spec settings file in order to compute the energy scale, otherwise channel numbers are reported</p>
</td></tr>
<tr><td><code id="itrax_spectra_+3A_plot">plot</code></td>
<td>
<p>logical, if TRUE a side-plot is created</p>
</td></tr>
<tr><td><code id="itrax_spectra_+3A_datapos">datapos</code></td>
<td>
<p>defines the row at which spectral data begins in the files</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of the parsed data
</p>


<h3>Examples</h3>

<pre><code class='language-R'> itrax_spectra(filename   = system.file("extdata",
                                      "L000676.spe",
                                      package = "itraxR",
                                      mustWork = TRUE),
               parameters = system.file("extdata",
                                        "Results_settings.dfl",
                                        package = "itraxR",
                                        mustWork = TRUE)
               )

</code></pre>

<hr>
<h2 id='multivariate_import'>Prepare data for multivariate analysis</h2><span id='topic+multivariate_import'></span>

<h3>Description</h3>

<p>does all the preparation work for multivariate methods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multivariate_import(dataframe, elementsonly, zeros, transform)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multivariate_import_+3A_dataframe">dataframe</code></td>
<td>
<p>pass the name of a dataframe parsed using <code>"itrax_import()"</code> or <code>"itrax_join()"</code></p>
</td></tr>
<tr><td><code id="multivariate_import_+3A_elementsonly">elementsonly</code></td>
<td>
<p>if TRUE, only chemical elements are included. If FALSE, the data is passed unfiltered, otherwise a character vector of desired variable names can be supplied</p>
</td></tr>
<tr><td><code id="multivariate_import_+3A_zeros">zeros</code></td>
<td>
<p>if &quot;addone&quot;, adds one to all values. If &quot;limit&quot;, replaces zero values with 0.001. Otherwise a function can be supplied to remove zero values.</p>
</td></tr>
<tr><td><code id="multivariate_import_+3A_transform">transform</code></td>
<td>
<p>binary operator that if TRUE will center-log-transform the data, if FALSE will leave the data untransformed. Otherwise, a function can be supplied to transform the data.</p>
</td></tr>
</table>

<hr>
<h2 id='uid_labeller'>Generate uids for datasets</h2><span id='topic+uid_labeller'></span>

<h3>Description</h3>

<p>Assigns unique identifiers to dataset observations. 
If there is already a column called uid, that does infact contain unique ids, it simply uses them. 
Otherwise, it looks for the columns 'depth' and 'label', and generates a meaningful identifier by combining them.
Otherwise, it simply uses consecutive numbers prefixed by 'uid'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uid_labeller(dataframe)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uid_labeller_+3A_dataframe">dataframe</code></td>
<td>
<p>pass the name of a dataframe parsed using <code>"itrax_import()"</code> or <code>"itrax_join()"</code></p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package BiostatsUHNplus</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BiostatsUHNplus}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ae'><p>Simulated adverse events for patients receiving two study agents.</p></a></li>
<li><a href='#ae_timeline_plot'><p>Outputs related adverse event timeline plots including just system organ class</p>
(AE category), or system organ class and lowest level term (AE detail). This
function can fit up to 5 different attributions. Modify width, height and scale
parameters in ggsave() to customize fit for large plot.</a></li>
<li><a href='#as_numeric_parse'><p>Modification of the as.numeric function that prints entries that</p>
fail to parse as a message</a></li>
<li><a href='#caterpillar_plot'><p>Caterpillar plot. Useful for plotting random effects from hierarchical models,</p>
such as MCMCglmm::MCMCglmm() object, that have binary outcome.</a></li>
<li><a href='#covsum_nested'><p>Nested version of reportRmd covsum()</p></a></li>
<li><a href='#demography'><p>Simulated demography for patients.</p></a></li>
<li><a href='#drug1_admin'><p>Simulated study agent 1 for patients.</p></a></li>
<li><a href='#drug2_admin'><p>Simulated study agent 2 for patients.</p></a></li>
<li><a href='#dsmb_ccru'><p>Outputs the three DSMB-CCRU AE summary tables in Excel format per UHN template</p></a></li>
<li><a href='#enrollment'><p>Enrollment data</p>
</p>
<p>Simulated enrollment for patients.</p></a></li>
<li><a href='#ineligibility'><p>Simulated ineligibility for patients.</p></a></li>
<li><a href='#nice_mcmcglmm'><p>Nice table of model output from MCMCglmm::MCMCglmm()</p></a></li>
<li><a href='#nice_mcmcglmm_icc'><p>Nice table of intraclass correlation coefficients from MCMCglmm::MCMCglmm()</p>
model output</a></li>
<li><a href='#rm_covsum_nested'><p>Outputs a nested version of reportRmd::rm_covsum()</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Nested Data Summary and Adverse Events</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.9</td>
</tr>
<tr>
<td>Description:</td>
<td>Miscellaneous code snippets and functions with pipes and
    multiple package dependencies used for summarizing nested data and 
    adverse events.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>afex, coda, cowplot, dplyr, forcats, ggh4x, ggplot2, ggstance,
lifecycle, MCMCglmm, modeest, openxlsx, plyr, purrr, reportRmd,
rlang, rstatix, stats, stringr, tibble, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'data.R' 'globals.R' 'as_numeric_parse.R' 'covsum_nested.R'
'dsmb_ccru.R' 'nice_mcmcglmm.R' 'nice_mcmcglmm_icc.R'
'ae_timeline_plot.R' 'caterpillar_plot.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-04 14:01:06 UTC; t109810uhn</td>
</tr>
<tr>
<td>Author:</td>
<td>Lisa Avery <a href="https://orcid.org/0000-0002-8431-5143"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Zeynep Baskurt [aut],
  Osvaldo Espin-Garcia [aut],
  Katrina Hueniken [aut],
  Katherine Lajkosz <a href="https://orcid.org/0000-0003-3760-5401"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Xuan Li [aut],
  Tyler Pittman <a href="https://orcid.org/0000-0002-5013-6980"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Anna Santiago <a href="https://orcid.org/0000-0002-0932-2386"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Jessica Weiss [aut],
  Wei Xu [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tyler Pittman &lt;tyler.pittman@uhn.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-04 14:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ae'>Simulated adverse events for patients receiving two study agents.</h2><span id='topic+ae'></span>

<h3>Description</h3>

<p>Simulated adverse events for patients receiving two study agents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ae
</code></pre>


<h3>Format</h3>

<p>A data frame with 394 rows and 9 variables:
</p>

<dl>
<dt>Subject</dt><dd><p>Patient ID</p>
</dd>
<dt>ae_detail</dt><dd><p>Adverse event detail, also known as lowest level term</p>
</dd>
<dt>ae_category</dt><dd><p>Adverse event category, also known as system organ class</p>
</dd>
<dt>CTCAE5_LLT_NM</dt><dd><p>Common Terminology Criteria for Adverse Events (CTCAE) version 5</p>
</dd>
<dt>AE_VERBATIM_TRM_TXT</dt><dd><p>Adverse event verbatim text entered by clinical registered nurse, for &quot;Other, specify&quot;</p>
</dd>
<dt>AE_SEV_GD</dt><dd><p>Adverse event severity grade, scale from 1 to 5</p>
</dd>
<dt>AE_ONSET_DT_INT</dt><dd><p>Adverse event onset date</p>
</dd>
<dt>CTC_AE_ATTR_SCALE</dt><dd><p>Attribution scale of adverse event to first study agent</p>
</dd>
<dt>CTC_AE_ATTR_SCALE_1</dt><dd><p>Attribution scale of adverse event to second study agent</p>
</dd>
</dl>


<hr>
<h2 id='ae_timeline_plot'>Outputs related adverse event timeline plots including just system organ class
(AE category), or system organ class and lowest level term (AE detail). This
function can fit up to 5 different attributions. Modify width, height and scale
parameters in ggsave() to customize fit for large plot.</h2><span id='topic+ae_timeline_plot'></span>

<h3>Description</h3>

<p>Outputs related adverse event timeline plots including just system organ class
(AE category), or system organ class and lowest level term (AE detail). This
function can fit up to 5 different attributions. Modify width, height and scale
parameters in ggsave() to customize fit for large plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ae_timeline_plot(
  subjID,
  subjID_ineligText = NULL,
  baseline_datasets,
  ae_dataset,
  ae_attribVars,
  ae_attribVarsName = NULL,
  ae_attribVarText = NULL,
  startDtVars,
  ae_detailVar,
  ae_categoryVar,
  ae_severityVar,
  ae_onsetDtVar,
  time_unit = c("day", "week", "month", "year"),
  include_ae_detail = TRUE,
  legendPerSpace = NULL,
  fonts = NULL,
  fontColours = NULL,
  panelColours = NULL,
  attribColours = NULL,
  attribSymbols = NULL,
  columnWidths = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ae_timeline_plot_+3A_subjid">subjID</code></td>
<td>
<p>key identifier field for participant ID in data sets</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_subjid_ineligtext">subjID_ineligText</code></td>
<td>
<p>character text that denotes participant IDs to exclude,
for example, c(&quot;New Subject&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_baseline_datasets">baseline_datasets</code></td>
<td>
<p>list of data frames that contain baseline participant characteristics,
for example, list(enrollment_DF,demography_DF,ineligibility_DF)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_dataset">ae_dataset</code></td>
<td>
<p>data frame that contains subject AEs</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_attribvars">ae_attribVars</code></td>
<td>
<p>field(s) that denotes attribution to intervention under study,
for example, c(&quot;CTC_AE_ATTR_SCALE&quot;,&quot;CTC_AE_ATTR_SCALE_1&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_attribvarsname">ae_attribVarsName</code></td>
<td>
<p>character text that denotes name of interventions under study,
for example, c(&quot;Drug 1&quot;, &quot;Drug 2&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_attribvartext">ae_attribVarText</code></td>
<td>
<p>character text that denotes related attribution, for example
c(&quot;Definite&quot;, &quot;Probable&quot;, &quot;Possible&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_startdtvars">startDtVars</code></td>
<td>
<p>field(s) that denotes participant start date (i.e. 10MAY2021). For example,
it could be enrollment date or screening date. If more than one field given
(unique names are required), each field is assumed to be specific start date
for attribution in corresponding field order</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_detailvar">ae_detailVar</code></td>
<td>
<p>field that denotes participant AE detail (lowest level term)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_categoryvar">ae_categoryVar</code></td>
<td>
<p>field that denotes participant AE category (system organ class)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_severityvar">ae_severityVar</code></td>
<td>
<p>field that denotes participant AE severity grade (numeric)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_ae_onsetdtvar">ae_onsetDtVar</code></td>
<td>
<p>field that denotes participant AE onset date</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_time_unit">time_unit</code></td>
<td>
<p>character text that denotes time unit for desired timeline,
for example, could be one of c(&quot;day&quot;,&quot;week&quot;,&quot;month&quot;,&quot;year&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_include_ae_detail">include_ae_detail</code></td>
<td>
<p>boolean that denotes if AE detail should be included
in timeline plot. Default is True</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_legendperspace">legendPerSpace</code></td>
<td>
<p>parameter at denotes proportion of vertical image space
dedicated to legend at bottom. Default is 0.05 for AE detail and 0.1 for AE Category</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_fonts">fonts</code></td>
<td>
<p>character text that denotes font for AE category, AE detail, axis,
legend and plot labels (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_fontcolours">fontColours</code></td>
<td>
<p>character text that denotes system font colours for AE category and
AE detail (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_panelcolours">panelColours</code></td>
<td>
<p>character text that denotes panel background colours for AE category,
AE detail and plot area (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_attribcolours">attribColours</code></td>
<td>
<p>character text that denotes colours for attributions, supports up to 10
distinct colours (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_attribsymbols">attribSymbols</code></td>
<td>
<p>text that denotes median plot symbols for attributions, supports up to 10
distinct symbols (if provided)</p>
</td></tr>
<tr><td><code id="ae_timeline_plot_+3A_columnwidths">columnWidths</code></td>
<td>
<p>text that denotes character columns widths for AE category and AE detail
columns (if provided)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object of AE timeline plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("drug1_admin", "drug2_admin", "ae");
p &lt;- ae_timeline_plot(subjID="Subject",subjID_ineligText=c("01","11"),
                      baseline_datasets=list(drug1_admin, drug2_admin),
                      ae_dataset=ae,
                      ae_attribVars=c("CTC_AE_ATTR_SCALE","CTC_AE_ATTR_SCALE_1"),
                      ae_attribVarsName=c("Drug 1","Drug 2"),
                      ae_attribVarText=c("Definite", "Probable", "Possible"),
                      startDtVars=c("TX1_DATE_INT","TX2_DATE_INT"),
                      ae_detailVar="ae_detail",
                      ae_categoryVar="ae_category",ae_severityVar="AE_SEV_GD",
                      ae_onsetDtVar="AE_ONSET_DT_INT",time_unit="month",
                      include_ae_detail=FALSE,
                      fonts=c("Calibri","Albany AMT","Gadugi","French Script MT","Forte"),
                      fontColours=c("#FFE135"),
                      panelColours=c("#E52B50",NA,"#FFE4C4"),
                      attribColours=c("#9AB973","#01796F","#FFA343","#CC7722"),   
                      attribSymbols=c(7,8,5,6),
                      columnWidths=c(23))
</code></pre>

<hr>
<h2 id='as_numeric_parse'>Modification of the as.numeric function that prints entries that
fail to parse as a message</h2><span id='topic+as_numeric_parse'></span>

<h3>Description</h3>

<p>Modification of the as.numeric function that prints entries that
fail to parse as a message
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_numeric_parse(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_numeric_parse_+3A_x">x</code></td>
<td>
<p>string or vector to coerce to numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- as_numeric_parse(c(1:5, "String1",6:10,"String2"))
z
</code></pre>

<hr>
<h2 id='caterpillar_plot'>Caterpillar plot. Useful for plotting random effects from hierarchical models,
such as MCMCglmm::MCMCglmm() object, that have binary outcome.</h2><span id='topic+caterpillar_plot'></span>

<h3>Description</h3>

<p>Caterpillar plot. Useful for plotting random effects from hierarchical models,
such as MCMCglmm::MCMCglmm() object, that have binary outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caterpillar_plot(
  subjID,
  remove.text.subjID = FALSE,
  mcmcglmm_object,
  orig_dataset,
  binaryOutcomeVar,
  prob = NULL,
  title = NULL,
  no.title = FALSE,
  subtitle = NULL,
  ncol = NULL,
  fonts = NULL,
  columnTextWidth = NULL,
  break.label.summary = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="caterpillar_plot_+3A_subjid">subjID</code></td>
<td>
<p>key identifier field for participant ID in data sets</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_remove.text.subjid">remove.text.subjID</code></td>
<td>
<p>boolean indicating if non-numeric text should be
removed from subjID in plot label. Note that this can only be used if there
are non-duplicate participant IDs when non-numeric text is removed. Default
is FALSE (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_mcmcglmm_object">mcmcglmm_object</code></td>
<td>
<p>MCMCglmm model output</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_orig_dataset">orig_dataset</code></td>
<td>
<p>data frame supplied to MCMCglmm function</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_binaryoutcomevar">binaryOutcomeVar</code></td>
<td>
<p>name of binary variable (0,1) that denotes outcome
in MCMCglmm model</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_prob">prob</code></td>
<td>
<p>probability for highest posterior density interval, similar to a
confidence interval. Default is 0.95 (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_title">title</code></td>
<td>
<p>title of the plot. Overrides default title (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_no.title">no.title</code></td>
<td>
<p>boolean that denotes if title should be outputted in plot. Default
is TRUE (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_subtitle">subtitle</code></td>
<td>
<p>subtitle of the plot. Overrides default subtitle (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_ncol">ncol</code></td>
<td>
<p>number of columns in plot. Default is 2 (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_fonts">fonts</code></td>
<td>
<p>character text that denotes font for title, subtitle, category labels,
x-axis plot labels (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_columntextwidth">columnTextWidth</code></td>
<td>
<p>numeric that denotes character width for label text before
breaking to start new line. Default is 20 characters (if provided)</p>
</td></tr>
<tr><td><code id="caterpillar_plot_+3A_break.label.summary">break.label.summary</code></td>
<td>
<p>boolean to indicate if new line should start in label
before (n, event) summary. Default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object of caterpillar plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("ae");

ae$G3Plus &lt;- 0;
ae$G3Plus[ae$AE_SEV_GD %in% c("3", "4", "5")] &lt;- 1;
ae$Drug_1_Attribution &lt;- 0;
ae$Drug_1_Attribution[ae$CTC_AE_ATTR_SCALE %in% c("Definite", "Probable", "Possible")] &lt;- 1;
ae$Drug_2_Attribution &lt;- 0;
ae$Drug_2_Attribution[ae$CTC_AE_ATTR_SCALE_1 %in% c("Definite", "Probable", "Possible")] &lt;- 1;

prior2RE &lt;- list(R = list(V = diag(1), fix = 1),
  G=list(G1=list(V=1, nu=0.02), G2=list(V=1, nu=0.02)));
  
model1 &lt;- MCMCglmm::MCMCglmm(G3Plus ~ Drug_1_Attribution + Drug_2_Attribution, 
  random=~Subject + ae_category, family="categorical", data=ae, saveX=TRUE, 
  verbose=FALSE, burnin=2000, nitt=10000, thin=10, pr=TRUE, prior=prior2RE);
  
p &lt;- caterpillar_plot(subjID = "Subject",
  mcmcglmm_object = model1,
  prob = 0.99,
  orig_dataset = ae,
  binaryOutcomeVar = "G3Plus")
  
p &lt;- caterpillar_plot(subjID = "ae_category",
  mcmcglmm_object = model1,
  prob = 0.95,
  orig_dataset = ae,
  remove.text.subjID = FALSE,
  ncol = 4,
  binaryOutcomeVar = "G3Plus",
  subtitle = "System organ class (n, event)",
  title = "Odds Ratio for G3+ Severity with 95% Highest Posterior Density Interval",
  fonts = c("Arial", "Arial", "Arial", "Arial"),
  break.label.summary = TRUE)
</code></pre>

<hr>
<h2 id='covsum_nested'>Nested version of reportRmd covsum()</h2><span id='topic+covsum_nested'></span>

<h3>Description</h3>

<p>Nested version of reportRmd covsum()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covsum_nested(
  data,
  covs,
  maincov = NULL,
  id = NULL,
  digits = 1,
  numobs = NULL,
  markup = TRUE,
  sanitize = TRUE,
  nicenames = TRUE,
  IQR = FALSE,
  all.stats = FALSE,
  pvalue = TRUE,
  effSize = TRUE,
  show.tests = TRUE,
  nCores = NULL,
  nested.test = NULL,
  nsim = NULL,
  excludeLevels = NULL,
  dropLevels = TRUE,
  full = TRUE,
  digits.cat = 0,
  testcont = c("rank-sum test", "ANOVA"),
  testcat = c("Chi-squared", "Fisher"),
  include_missing = FALSE,
  percentage = c("column", "row")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covsum_nested_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_covs">covs</code></td>
<td>
<p>character vector with the names of columns to include in table</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_maincov">maincov</code></td>
<td>
<p>covariate to stratify table by</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_id">id</code></td>
<td>
<p>covariates to nest summary by</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_digits">digits</code></td>
<td>
<p>number of digits for summarizing mean data, does not affect
p-values</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_numobs">numobs</code></td>
<td>
<p>named list overriding the number of people you expect to have
the covariate</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_markup">markup</code></td>
<td>
<p>boolean indicating if you want latex markup</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_sanitize">sanitize</code></td>
<td>
<p>boolean indicating if you want to sanitize all strings to not
break LaTeX</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_iqr">IQR</code></td>
<td>
<p>boolean indicating if you want to display the inter quantile range
(Q1,Q3) as opposed to (min,max) in the summary for continuous variables</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_all.stats">all.stats</code></td>
<td>
<p>boolean indicating if all summary statistics (Q1,Q3 +
min,max on a separate line) should be displayed. Overrides IQR.</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_pvalue">pvalue</code></td>
<td>
<p>boolean indicating if you want p-values included in the table</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_effsize">effSize</code></td>
<td>
<p>boolean indicating if you want effect sizes included in the
table. Can only be obtained if pvalue is also requested.</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_show.tests">show.tests</code></td>
<td>
<p>boolean indicating if the type of statistical used should
be shown in a column beside the p-values. Ignored if pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_ncores">nCores</code></td>
<td>
<p>if &gt; 1, specifies number of cores to use for parallel processing
for calculating the nested p-value (default: 1).</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_nested.test">nested.test</code></td>
<td>
<p>specifies test used for calculating nested p-value from
afex::mixed function. Either <em>parametric bootstrap</em> method
or <em>likelihood ratio test</em> method (default: &quot;LRT&quot;). Parametric bootstrap
takes longer.</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_nsim">nsim</code></td>
<td>
<p>specifies number of simulations to use for calculating nested p-value
with <em>parametric bootstrap</em> method used for nested.test (default: 1000).</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_excludelevels">excludeLevels</code></td>
<td>
<p>a named list of covariate levels to exclude from
statistical tests in the form list(varname =c('level1','level2')). These
levels will be excluded from association tests, but not the table. This can
be useful for levels where there is a logical skip (i.e. not missing, but not
presented). Ignored if pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_droplevels">dropLevels</code></td>
<td>
<p>logical, indicating if empty factor levels be dropped from
the output, default is TRUE.</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_full">full</code></td>
<td>
<p>boolean indicating if you want the full sample included in the
table, ignored if maincov is NULL</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_digits.cat">digits.cat</code></td>
<td>
<p>number of digits for the proportions when summarizing
categorical data (default: 0)</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_testcont">testcont</code></td>
<td>
<p>test of choice for continuous variables,one of
<em>rank-sum</em> (default) or <em>ANOVA</em></p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_testcat">testcat</code></td>
<td>
<p>test of choice for categorical variables,one of
<em>Chi-squared</em> (default) or <em>Fisher</em></p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_include_missing">include_missing</code></td>
<td>
<p>Option to include NA values of maincov. NAs will not
be included in statistical tests</p>
</td></tr>
<tr><td><code id="covsum_nested_+3A_percentage">percentage</code></td>
<td>
<p>choice of how percentages are presented, one of
<em>column</em> (default) or <em>row</em></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+fisher.test">fisher.test</a></code>,<code><a href="stats.html#topic+chisq.test">chisq.test</a></code>,
<code><a href="stats.html#topic+wilcox.test">wilcox.test</a></code>,<code><a href="stats.html#topic+kruskal.test">kruskal.test</a></code>,
<code><a href="stats.html#topic+anova">anova</a></code> and <code><a href="afex.html#topic+mixed">mixed</a></code>
</p>

<hr>
<h2 id='demography'>Simulated demography for patients.</h2><span id='topic+demography'></span>

<h3>Description</h3>

<p>Simulated demography for patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>demography
</code></pre>


<h3>Format</h3>

<p>A data frame with 12 rows and 2 variables:
</p>

<dl>
<dt>Subject</dt><dd><p>Patient ID</p>
</dd>
<dt>GENDER_CODE</dt><dd><p>Patient gender</p>
</dd>
</dl>


<hr>
<h2 id='drug1_admin'>Simulated study agent 1 for patients.</h2><span id='topic+drug1_admin'></span>

<h3>Description</h3>

<p>Simulated study agent 1 for patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drug1_admin
</code></pre>


<h3>Format</h3>

<p>A data frame with 12 rows and 2 variables:
</p>

<dl>
<dt>Subject</dt><dd><p>Patient ID</p>
</dd>
<dt>TX1_DATE_INT</dt><dd><p>Study agent 1 start date of patient on study</p>
</dd>
</dl>


<hr>
<h2 id='drug2_admin'>Simulated study agent 2 for patients.</h2><span id='topic+drug2_admin'></span>

<h3>Description</h3>

<p>Simulated study agent 2 for patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drug2_admin
</code></pre>


<h3>Format</h3>

<p>A data frame with 12 rows and 2 variables:
</p>

<dl>
<dt>Subject</dt><dd><p>Patient ID</p>
</dd>
<dt>TX2_DATE_INT</dt><dd><p>Study agent 2 start date of patient on study</p>
</dd>
</dl>


<hr>
<h2 id='dsmb_ccru'>Outputs the three DSMB-CCRU AE summary tables in Excel format per UHN template</h2><span id='topic+dsmb_ccru'></span>

<h3>Description</h3>

<p>Outputs the three DSMB-CCRU AE summary tables in Excel format per UHN template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dsmb_ccru(
  protocol,
  setwd,
  title,
  comp = NULL,
  pi,
  presDate,
  cutDate,
  boundDate = NULL,
  subjID,
  subjID_ineligText = NULL,
  baseline_datasets,
  ae_dataset,
  ineligVar,
  ineligVarText = NULL,
  genderVar,
  enrolDtVar,
  ae_detailVar,
  ae_categoryVar,
  ae_severityVar,
  ae_onsetDtVar,
  ae_detailOtherText = NULL,
  ae_detailOtherVar = NULL,
  ae_verbatimVar = NULL,
  numSubj = NULL,
  fileNameUnderscore = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsmb_ccru_+3A_protocol">protocol</code></td>
<td>
<p>study protocol name (uppercase, no spaces permitted)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_setwd">setwd</code></td>
<td>
<p>directory to write Excel summary files to</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_title">title</code></td>
<td>
<p>full character vector with name of study</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_comp">comp</code></td>
<td>
<p>baseline comparison group, for example, cohort (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_pi">pi</code></td>
<td>
<p>character vector name of study principal investigator</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_presdate">presDate</code></td>
<td>
<p>presentation date (i.e. 17NOV2023) for DSMB</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_cutdate">cutDate</code></td>
<td>
<p>recent cutoff date for AEs (i.e. 31AUG2023)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_bounddate">boundDate</code></td>
<td>
<p>lower bound cutoff date for AEs (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_subjid">subjID</code></td>
<td>
<p>key identifier field for participant ID in data sets</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_subjid_ineligtext">subjID_ineligText</code></td>
<td>
<p>character text that denotes participant IDs to exclude,
for example, c(&quot;New Subject&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_baseline_datasets">baseline_datasets</code></td>
<td>
<p>list of data frames that contain baseline participant characteristics,
for example, list(enrollment_DF,demography_DF,ineligibility_DF)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_dataset">ae_dataset</code></td>
<td>
<p>data frame that contains subject AEs</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ineligvar">ineligVar</code></td>
<td>
<p>field that denotes participant ineligibility</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ineligvartext">ineligVarText</code></td>
<td>
<p>character text that denotes participant ineligibility,
for example, c(&quot;Yes&quot;, &quot;Y&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_gendervar">genderVar</code></td>
<td>
<p>field that denotes participant gender</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_enroldtvar">enrolDtVar</code></td>
<td>
<p>field that denotes participant enrollment date (i.e. 10MAY2021)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_detailvar">ae_detailVar</code></td>
<td>
<p>field that denotes participant AE detail (lowest level term)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_categoryvar">ae_categoryVar</code></td>
<td>
<p>field that denotes participant AE category (system organ class)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_severityvar">ae_severityVar</code></td>
<td>
<p>field that denotes participant AE severity grade (numeric)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_onsetdtvar">ae_onsetDtVar</code></td>
<td>
<p>field that denotes participant AE onset date</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_detailothertext">ae_detailOtherText</code></td>
<td>
<p>character text that denotes referencing verbatim AE field,
for example, c(&quot;Other, specify&quot;, &quot;OTHER&quot;) (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_detailothervar">ae_detailOtherVar</code></td>
<td>
<p>field that denotes participant AE detail other (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_ae_verbatimvar">ae_verbatimVar</code></td>
<td>
<p>field that denotes participant AE detail verbatim (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_numsubj">numSubj</code></td>
<td>
<p>vector to override value for number of participants in summary (if provided)</p>
</td></tr>
<tr><td><code id="dsmb_ccru_+3A_filenameunderscore">fileNameUnderscore</code></td>
<td>
<p>boolean that denotes if spaces should be underscore in filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>three Excel files containing DSMB-CCRU AE summary tables
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("enrollment", "demography", "ineligibility", "ae");
dsmb_ccru(protocol="EXAMPLE_STUDY",setwd="./man/tables/",
  title="Phase X Study to Evaluate Treatments A-D",
  comp="COHORT",pi="Dr. Principal Investigator",
  presDate="30OCT2020",cutDate="31AUG2020",
  boundDate=NULL,subjID="Subject",subjID_ineligText=c("New Subject","Test"),
  baseline_datasets=list(enrollment,demography,ineligibility),
  ae_dataset=ae,ineligVar="INELIGIBILITY_STATUS",ineligVarText=c("Yes","Y"),
  genderVar="GENDER_CODE",enrolDtVar="ENROL_DATE_INT",ae_detailVar="ae_detail",
  ae_categoryVar="ae_category",ae_severityVar="AE_SEV_GD",
  ae_onsetDtVar="AE_ONSET_DT_INT",ae_detailOtherText="Other, specify",
  ae_detailOtherVar="CTCAE5_LLT_NM",ae_verbatimVar="AE_VERBATIM_TRM_TXT",
  numSubj=c(2,4,5,6))
</code></pre>

<hr>
<h2 id='enrollment'>Enrollment data
Simulated enrollment for patients.</h2><span id='topic+enrollment'></span>

<h3>Description</h3>

<p>Enrollment data
</p>
<p>Simulated enrollment for patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enrollment
</code></pre>


<h3>Format</h3>

<p>A data frame with 12 rows and 3 variables:
</p>

<dl>
<dt>Subject</dt><dd><p>Patient ID</p>
</dd>
<dt>COHORT</dt><dd><p>Study cohort for patient</p>
</dd>
<dt>ENROL_DATE_INT</dt><dd><p>Enrollment date of patient to study</p>
</dd>
</dl>


<hr>
<h2 id='ineligibility'>Simulated ineligibility for patients.</h2><span id='topic+ineligibility'></span>

<h3>Description</h3>

<p>Simulated ineligibility for patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ineligibility
</code></pre>


<h3>Format</h3>

<p>A data frame with 11 rows and 2 variables:
</p>

<dl>
<dt>Subject</dt><dd><p>Patient ID</p>
</dd>
<dt>INELIGIBILITY_STATUS</dt><dd><p>Recorded ineligibility status of patient to study</p>
</dd>
</dl>


<hr>
<h2 id='nice_mcmcglmm'>Nice table of model output from MCMCglmm::MCMCglmm()</h2><span id='topic+nice_mcmcglmm'></span>

<h3>Description</h3>

<p>Nice table of model output from MCMCglmm::MCMCglmm()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nice_mcmcglmm(mcmcglmm_object, dataset)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nice_mcmcglmm_+3A_mcmcglmm_object">mcmcglmm_object</code></td>
<td>
<p>returned output from MCMCglmm()</p>
</td></tr>
<tr><td><code id="nice_mcmcglmm_+3A_dataset">dataset</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>grouped_df
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(ae)

ae$AE_SEV_GD &lt;- as.numeric(ae$AE_SEV_GD);
ae$Drug_1_Attribution &lt;- "No";
ae$Drug_1_Attribution[ae$CTC_AE_ATTR_SCALE %in% c("Definite", "Probable", "Possible")] &lt;- "Yes";
ae$Drug_1_Attribution &lt;- as.factor(ae$Drug_1_Attribution);
ae$Drug_2_Attribution &lt;- "No";
ae$Drug_2_Attribution[ae$CTC_AE_ATTR_SCALE_1 %in% c("Definite", "Probable", "Possible")] &lt;- "Yes";
ae$Drug_2_Attribution &lt;- as.factor(ae$Drug_2_Attribution);

prior2RE &lt;- list(R = list(V = diag(1), fix = 1), G=list(G1=list(V=1, nu=0.02), 
          G2=list(V=1, nu=0.02)));

model1 &lt;- MCMCglmm::MCMCglmm(Drug_1_Attribution ~ AE_SEV_GD + Drug_2_Attribution, 
          random=~ae_detail + Subject, family="categorical", data=ae, saveX=TRUE, 
          verbose=FALSE, burnin=2000, nitt=10000, thin=10, pr=TRUE, prior=prior2RE);

mcmcglmm_mva &lt;- nice_mcmcglmm(model1, ae);

## End(Not run)
</code></pre>

<hr>
<h2 id='nice_mcmcglmm_icc'>Nice table of intraclass correlation coefficients from MCMCglmm::MCMCglmm()
model output</h2><span id='topic+nice_mcmcglmm_icc'></span>

<h3>Description</h3>

<p>Nice table of intraclass correlation coefficients from MCMCglmm::MCMCglmm()
model output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nice_mcmcglmm_icc(mcmcglmm_object, prob = NULL, decimals = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nice_mcmcglmm_icc_+3A_mcmcglmm_object">mcmcglmm_object</code></td>
<td>
<p>returned output from MCMCglmm()</p>
</td></tr>
<tr><td><code id="nice_mcmcglmm_icc_+3A_prob">prob</code></td>
<td>
<p>probability for highest posterior density interval, similar to a
confidence interval. Default is 0.95 (if provided)</p>
</td></tr>
<tr><td><code id="nice_mcmcglmm_icc_+3A_decimals">decimals</code></td>
<td>
<p>number of decimal places to use in estimates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>grouped_df
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(ae)
ae$AE_SEV_GD &lt;- as.numeric(ae$AE_SEV_GD);
ae$Drug_1_Attribution &lt;- 0;
ae$Drug_1_Attribution[ae$CTC_AE_ATTR_SCALE %in% c("Definite", "Probable", "Possible")] &lt;- 1;
ae$Drug_2_Attribution &lt;- 0;
ae$Drug_2_Attribution[ae$CTC_AE_ATTR_SCALE_1 %in% c("Definite", "Probable", "Possible")] &lt;- 1;
prior2RE &lt;- list(R = list(V = diag(1), fix = 1), G=list(G1=list(V=1, nu=0.02), 
   G2=list(V=1, nu=0.02)));
model1 &lt;- MCMCglmm::MCMCglmm(Drug_1_Attribution ~ AE_SEV_GD + Drug_2_Attribution, 
   random=~ae_detail + Subject, family="categorical", data=ae, saveX=TRUE, 
   verbose=FALSE, burnin=2000, nitt=10000, thin=10, pr=TRUE, prior=prior2RE);
mcmcglmm_icc &lt;- nice_mcmcglmm_icc(model1);

## End(Not run)
</code></pre>

<hr>
<h2 id='rm_covsum_nested'>Outputs a nested version of reportRmd::rm_covsum()</h2><span id='topic+rm_covsum_nested'></span>

<h3>Description</h3>

<p>Outputs a nested version of reportRmd::rm_covsum()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_covsum_nested(
  data,
  covs,
  maincov = NULL,
  id = NULL,
  caption = NULL,
  tableOnly = FALSE,
  covTitle = "",
  digits = 1,
  digits.cat = 0,
  nicenames = TRUE,
  IQR = FALSE,
  all.stats = FALSE,
  pvalue = TRUE,
  effSize = TRUE,
  p.adjust = "none",
  unformattedp = FALSE,
  show.tests = TRUE,
  just.nested.pvalue = FALSE,
  nCores = NULL,
  nested.test = NULL,
  nsim = NULL,
  testcont = c("rank-sum test", "ANOVA"),
  testcat = c("Chi-squared", "Fisher"),
  full = TRUE,
  include_missing = FALSE,
  percentage = c("column", "row"),
  dropLevels = TRUE,
  excludeLevels = NULL,
  numobs = NULL,
  markup = TRUE,
  sanitize = TRUE,
  chunk_label
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_covsum_nested_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_covs">covs</code></td>
<td>
<p>character vector with the names of columns to include in table</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_maincov">maincov</code></td>
<td>
<p>covariate to stratify table by</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_id">id</code></td>
<td>
<p>covariates to nest summary by</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_caption">caption</code></td>
<td>
<p>character containing table caption (default is no caption)</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_tableonly">tableOnly</code></td>
<td>
<p>Logical, if TRUE then a dataframe is returned, otherwise a
formatted printed object is returned (default).</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_covtitle">covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_digits">digits</code></td>
<td>
<p>number of digits for summarizing mean data</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_digits.cat">digits.cat</code></td>
<td>
<p>number of digits for the proportions when summarizing
categorical data (default: 0)</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_iqr">IQR</code></td>
<td>
<p>boolean indicating if you want to display the inter quantile range
(Q1,Q3) as opposed to (min,max) in the summary for continuous variables</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_all.stats">all.stats</code></td>
<td>
<p>boolean indicating if all summary statistics (Q1,Q3 +
min,max on a separate line) should be displayed. Overrides IQR.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_pvalue">pvalue</code></td>
<td>
<p>boolean indicating if you want p-values included in the table</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_effsize">effSize</code></td>
<td>
<p>boolean indicating if you want effect sizes included in the
table. Can only be obtained if pvalue is also requested.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_p.adjust">p.adjust</code></td>
<td>
<p>p-adjustments to be performed</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_unformattedp">unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Best used with
tableOnly = T and outTable function.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_show.tests">show.tests</code></td>
<td>
<p>boolean indicating if the type of statistical used should
be shown in a column beside the p-values. Ignored if pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_just.nested.pvalue">just.nested.pvalue</code></td>
<td>
<p>boolean indicating if the just the nested p-value
should be shown in a column, and not unnested p-value, unnested statistical
tests and effect size. Overrides effSize and show.tests arguments.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_ncores">nCores</code></td>
<td>
<p>number of cores to use for parallel processing if calculating
the nested p-value (if provided).</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_nested.test">nested.test</code></td>
<td>
<p>specifies test used for calculating nested p-value from
afex::mixed function. Either <em>parametric bootstrap</em> method
or <em>likelihood ratio test</em> method (default: &quot;LRT&quot;). Parametric bootstrap
takes longer.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_nsim">nsim</code></td>
<td>
<p>specifies number of simulations to use for calculating nested p-value
with <em>parametric bootstrap</em> method used for nested.test (default: 1000).</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_testcont">testcont</code></td>
<td>
<p>test of choice for continuous variables,one of
<em>rank-sum</em> (default) or <em>ANOVA</em></p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_testcat">testcat</code></td>
<td>
<p>test of choice for categorical variables,one of
<em>Chi-squared</em> (default) or <em>Fisher</em></p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_full">full</code></td>
<td>
<p>boolean indicating if you want the full sample included in the
table, ignored if maincov is NULL</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_include_missing">include_missing</code></td>
<td>
<p>Option to include NA values of maincov. NAs will not
be included in statistical tests</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_percentage">percentage</code></td>
<td>
<p>choice of how percentages are presented, one of
<em>column</em> (default) or <em>row</em></p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_droplevels">dropLevels</code></td>
<td>
<p>logical, indicating if empty factor levels be dropped from
the output, default is TRUE.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_excludelevels">excludeLevels</code></td>
<td>
<p>a named list of covariate levels to exclude from
statistical tests in the form list(varname =c('level1','level2')). These
levels will be excluded from association tests, but not the table. This can
be useful for levels where there is a logical skip (ie not missing, but not
presented). Ignored if pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_numobs">numobs</code></td>
<td>
<p>named list overriding the number of people you expect to have
the covariate</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_markup">markup</code></td>
<td>
<p>boolean indicating if you want latex markup</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_sanitize">sanitize</code></td>
<td>
<p>boolean indicating if you want to sanitize all strings to not
break LaTeX</p>
</td></tr>
<tr><td><code id="rm_covsum_nested_+3A_chunk_label">chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code><a href="reportRmd.html#topic+covsum">covsum</a></code>,<code><a href="stats.html#topic+fisher.test">fisher.test</a></code>,
<code><a href="stats.html#topic+chisq.test">chisq.test</a></code>, <code><a href="stats.html#topic+wilcox.test">wilcox.test</a></code>,
<code><a href="stats.html#topic+kruskal.test">kruskal.test</a></code>, <code><a href="stats.html#topic+anova">anova</a></code>,
<code><a href="afex.html#topic+mixed">mixed</a></code> and <code><a href="reportRmd.html#topic+outTable">outTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Example 1
data(ae)
rm_covsum_nested(data = ae, id = c("ae_detail", "Subject"), covs = c("AE_SEV_GD", 
"AE_ONSET_DT_INT"), maincov = "CTC_AE_ATTR_SCALE")

# Example 2: set variable labels and other options, save output with markup
data("ae")
lbls &lt;- data.frame(c1=c('AE_SEV_GD','AE_ONSET_DT_INT'),
    c2=c('Adverse event severity grade','Adverse event onset date'))
ae$AE_SEV_GD &lt;- as.numeric(ae$AE_SEV_GD)
ae &lt;- reportRmd::set_labels(ae, lbls)
output_tab &lt;- rm_covsum_nested(data = ae, id = c("ae_detail", "Subject"), 
    covs = c("AE_SEV_GD", "AE_ONSET_DT_INT"), maincov = "CTC_AE_ATTR_SCALE", 
    testcat = "Fisher", percentage = c("col"), show.tests = FALSE, pvalue = TRUE, 
    effSize = FALSE, full = TRUE, IQR = FALSE, nicenames = TRUE, sanitize = TRUE, 
    markup = TRUE, include_missing = TRUE, just.nested.pvalue = TRUE, 
    tableOnly = TRUE)
cat(reportRmd::outTable(tab=output_tab))
cat(reportRmd::outTable(output_tab, format="html"), file = paste("./man/tables/", 
    "output_tab.html", sep=""))
cat(reportRmd::outTable(output_tab, format="latex"), file = paste("./man/tables/", 
    "output_tab.tex", sep=""))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

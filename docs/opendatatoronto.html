<!DOCTYPE html><html><head><title>Help for package opendatatoronto</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {opendatatoronto}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#browse_package'><p>Open the package's page in your browser</p></a></li>
<li><a href='#browse_portal'><p>Open the City of Toronto Open Data Portal in your browser</p></a></li>
<li><a href='#browse_resource'><p>Open the resource's package page in your browser</p></a></li>
<li><a href='#get_resource'><p>Download a resource into your R session</p></a></li>
<li><a href='#list_package_resources'><p>List resources for a package</p></a></li>
<li><a href='#list_packages'><p>List packages</p></a></li>
<li><a href='#opendatatoronto-package'><p>opendatatoronto</p></a></li>
<li><a href='#search_packages'><p>Search packages by title</p></a></li>
<li><a href='#show_package'><p>Show a package's metadata</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Access the City of Toronto Open Data Portal</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Access data from the "City of Toronto
    Open Data Portal" (<a href="https://open.toronto.ca">https://open.toronto.ca</a>) directly from R.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://sharlagelfand.github.io/opendatatoronto/">https://sharlagelfand.github.io/opendatatoronto/</a>,
<a href="https://github.com/sharlagelfand/opendatatoronto/">https://github.com/sharlagelfand/opendatatoronto/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sharlagelfand/opendatatoronto/issues">https://github.com/sharlagelfand/opendatatoronto/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ckanr (&ge; 0.6.0), magrittr, readxl, sf, tibble, xml2, curl</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, dplyr, ggiraph, ggplot2, knitr, purrr, tidyr,
rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-11 20:24:48 UTC; sharla</td>
</tr>
<tr>
<td>Author:</td>
<td>Sharla Gelfand [aut, cre],
  City of Toronto [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sharla Gelfand &lt;sharla.gelfand@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-13 11:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='browse_package'>Open the package's page in your browser</h2><span id='topic+browse_package'></span>

<h3>Description</h3>

<p>Opens a browser to the package's page on the City of Toronto Open Data Portal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browse_package(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="browse_package_+3A_package">package</code></td>
<td>
<p>A way to identify the package. Either a package ID (passed as a character vector directly), a single package resulting from <code><a href="#topic+list_packages">list_packages</a></code> or <code><a href="#topic+search_packages">search_packages</a></code>, or the package's URL from the portal.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A browser is opened to the package's page  on the City of Toronto Open
Data Portal website if the session is interactive. The URL is returned as a character
string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ttc_subway_delays &lt;- search_packages("ttc subway delay")
browse_package(ttc_subway_delays)
browse_package("https://open.toronto.ca/dataset/business-improvement-areas/")

</code></pre>

<hr>
<h2 id='browse_portal'>Open the City of Toronto Open Data Portal in your browser</h2><span id='topic+browse_portal'></span>

<h3>Description</h3>

<p>Opens a browser to <code>https://open.toronto.ca</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browse_portal()
</code></pre>


<h3>Value</h3>

<p>A browser is opened to the City of Toronto Open Data Portal website
if the session is interactive. The URL is returned as a character string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
browse_portal()

</code></pre>

<hr>
<h2 id='browse_resource'>Open the resource's package page in your browser</h2><span id='topic+browse_resource'></span>

<h3>Description</h3>

<p>Opens a browser to the resource's package page on the City of Toronto Open Data Portal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browse_resource(resource)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="browse_resource_+3A_resource">resource</code></td>
<td>
<p>A way to identify the resource. Either a resource ID (passed as a character vector directly) or a single resource resulting from <code><a href="#topic+list_package_resources">list_package_resources</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A browser is opened to the resource's package page on the City of Toronto Open
Data Portal website if the session is interactive. The URL is returned as a character
string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ttc_subway_delays &lt;- search_packages("ttc subway delay")
res &lt;- list_package_resources(ttc_subway_delays)
browse_resource(res[1, ])

</code></pre>

<hr>
<h2 id='get_resource'>Download a resource into your R session</h2><span id='topic+get_resource'></span>

<h3>Description</h3>

<p>Download a resource from the portal directly into your R session. CSV, XLS, XLSX, XML, JSON, SHP, ZIP, and GeoJSON resources are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_resource(resource)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_resource_+3A_resource">resource</code></td>
<td>
<p>A way to identify the resource. Either a resource ID (passed as a character vector directly) or a single resource resulting from <code><a href="#topic+list_package_resources">list_package_resources</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>In most cases, the resource is returned as a tibble or list of tibbles.
If it is a spatial resource (i.e. SHP or GeoJSON), it is returned as an sf object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
list_package_resources("https://open.toronto.ca/dataset/neighbourhoods/") %&gt;%
head(1) %&gt;%
get_resource()

</code></pre>

<hr>
<h2 id='list_package_resources'>List resources for a package</h2><span id='topic+list_package_resources'></span>

<h3>Description</h3>

<p>List resources for a package on the portal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_package_resources(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_package_resources_+3A_package">package</code></td>
<td>
<p>A way to identify the package. Either a package ID (passed as a character vector directly), a single package resulting from <code><a href="#topic+list_packages">list_packages</a></code> or <code><a href="#topic+search_packages">search_packages</a></code>, or the package's URL from the portal.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of resources along with metadata, including <code>name</code>,
<code>id</code>, <code>format</code> (the format of the resource file), and
<code>last_modified</code> (the date the resource was last modified).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
list_package_resources("1db34737-ffad-489d-a590-9171d500d453")
list_package_resources("https://open.toronto.ca/dataset/ttc-subway-delay-data")

</code></pre>

<hr>
<h2 id='list_packages'>List packages</h2><span id='topic+list_packages'></span>

<h3>Description</h3>

<p>List packages available on the portal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_packages(limit = 50)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_packages_+3A_limit">limit</code></td>
<td>
<p>The maximum number of packages to return. The default is 50.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of available packages and metadata, including <code>title</code>, <code>id</code>, <code>topics</code>, <code>civic_issues</code>, <code>excerpt</code>, <code>publisher</code>, <code>dataset_category</code>, <code>num_resources</code> (the number of resources in the package), <code>formats</code> (the different formats of the resources), <code>refresh_rate</code> (how often the package is refreshed), and <code>last_refreshed</code> (the date it was last refreshed).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
list_packages(5)

</code></pre>

<hr>
<h2 id='opendatatoronto-package'>opendatatoronto</h2><span id='topic+opendatatoronto'></span><span id='topic+opendatatoronto-package'></span>

<h3>Description</h3>

<p>opendatatoronto is an R interface to the <a href="https://open.toronto.ca/">City of Toronto's Open Data Portal</a>.
The goal of the package is to help read data directly into R without needing
to manually download it via the portal.
</p>


<h3>Details</h3>

<p>For more information, please start with the vignettes: <code>browseVignettes(package = "opendatatoronto")</code> or visit the <a href="https://sharlagelfand.github.io/opendatatoronto/">package website</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Sharla Gelfand <a href="mailto:sharla.gelfand@gmail.com">sharla.gelfand@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> City of Toronto [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://sharlagelfand.github.io/opendatatoronto/">https://sharlagelfand.github.io/opendatatoronto/</a>
</p>
</li>
<li> <p><a href="https://github.com/sharlagelfand/opendatatoronto/">https://github.com/sharlagelfand/opendatatoronto/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/sharlagelfand/opendatatoronto/issues">https://github.com/sharlagelfand/opendatatoronto/issues</a>
</p>
</li></ul>


<hr>
<h2 id='search_packages'>Search packages by title</h2><span id='topic+search_packages'></span>

<h3>Description</h3>

<p>Search portal packages by title.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_packages(title, limit = 50)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_packages_+3A_title">title</code></td>
<td>
<p>Title to search (case-insensitive).</p>
</td></tr>
<tr><td><code id="search_packages_+3A_limit">limit</code></td>
<td>
<p>Maximum number of packages to return. The default is 50. The maximum limit is 1000.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of matching packages along with package metadata, including <code>title</code>, <code>id</code>, <code>topics</code>, <code>civic_issues</code>, <code>excerpt</code>, <code>publisher</code>, <code>dataset_category</code>, <code>num_resources</code> (the number of resources in the package), <code>formats</code> (the different formats of the resources), <code>refresh_rate</code> (how often the package is refreshed), and <code>last_refreshed</code> (the date it was last refreshed).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
search_packages("ttc")

</code></pre>

<hr>
<h2 id='show_package'>Show a package's metadata</h2><span id='topic+show_package'></span>

<h3>Description</h3>

<p>Show a portal package's metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_package(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_package_+3A_package">package</code></td>
<td>
<p>A way to identify the package. Either a package ID (passed as a character vector directly) or the package's URL from the portal.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble including <code>title</code>, <code>id</code>, <code>topics</code>, <code>civic_issues</code>, <code>excerpt</code>, <code>publisher</code>, <code>dataset_category</code>, <code>num_resources</code> (the number of resources in the package), <code>formats</code> (the different formats of the resources), <code>refresh_rate</code> (how often the package is refreshed), and <code>last_refreshed</code> (the date it was last refreshed).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
show_package("c01c6d71-de1f-493d-91ba-364ce64884ac")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

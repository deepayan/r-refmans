<!DOCTYPE html><html><head><title>Help for package amelie</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {amelie}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ad'><p>ad: anomaly detection with normal probability density functions.</p></a></li>
<li><a href='#amelie'><p>amelie: A package for anomaly detection.</p></a></li>
<li><a href='#pdfunc'><p>Compute the probability density function of a matrix of features.</p></a></li>
<li><a href='#predict.ad'><p>Predict method for ad Objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Anomaly Detection with Normal Probability Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements anomaly detection as binary classification for cross-sectional data. Uses maximum likelihood estimates and normal probability functions to classify observations as anomalous. The method is presented in the following lecture from the Machine Learning course by Andrew Ng: <a href="https://www.coursera.org/learn/machine-learning/lecture/C8IJp/algorithm/">https://www.coursera.org/learn/machine-learning/lecture/C8IJp/algorithm/</a>, and is also described in: Aleksandar Lazarevic, Levent Ertoz, Vipin Kumar, Aysel Ozgur, Jaideep Srivastava (2003) &lt;<a href="https://doi.org/10.1137%2F1.9781611972733.3">doi:10.1137/1.9781611972733.3</a>&gt;.</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-03-18 06:37:38 UTC; db</td>
</tr>
<tr>
<td>Author:</td>
<td>Dmitriy Bolotov [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dmitriy Bolotov &lt;dbolotov@live.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-03-18 06:53:42 UTC</td>
</tr>
</table>
<hr>
<h2 id='ad'>ad: anomaly detection with normal probability density functions.</h2><span id='topic+ad'></span><span id='topic+ad.formula'></span><span id='topic+ad.default'></span><span id='topic+print.ad'></span>

<h3>Description</h3>

<p>ad: anomaly detection with normal probability density functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ad(x, ...)

## S3 method for class 'formula'
ad(formula, data, na.action = na.omit, ...)

## Default S3 method:
ad(x, y, univariate = TRUE, score = "f1",
  steps = 1000, ...)

## S3 method for class 'ad'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ad_+3A_x">x</code></td>
<td>
<p>A matrix of numeric features.</p>
</td></tr>
<tr><td><code id="ad_+3A_...">...</code></td>
<td>
<p>Optional parameters to be passed to ad.default.</p>
</td></tr>
<tr><td><code id="ad_+3A_formula">formula</code></td>
<td>
<p>An object of class &quot;formula&quot;: a symbolic description of the
model to be fitted.</p>
</td></tr>
<tr><td><code id="ad_+3A_data">data</code></td>
<td>
<p>A data frame containing the features (predictors) and target.</p>
</td></tr>
<tr><td><code id="ad_+3A_na.action">na.action</code></td>
<td>
<p>A function specifying the action to be taken if NAs are
found.</p>
</td></tr>
<tr><td><code id="ad_+3A_y">y</code></td>
<td>
<p>A vector of numeric target values, either 0 or 1, with 1
assumed to be anomalous.</p>
</td></tr>
<tr><td><code id="ad_+3A_univariate">univariate</code></td>
<td>
<p>Logical indicating whether the univariate pdf should be used.</p>
</td></tr>
<tr><td><code id="ad_+3A_score">score</code></td>
<td>
<p>String indicating which score to use in optimization:
<code>f1</code> (default) or <code>mcc</code>.</p>
</td></tr>
<tr><td><code id="ad_+3A_steps">steps</code></td>
<td>
<p>Integer number of steps to take during epsilon optimization, default 1e3.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>amelie</code> implements anomaly detection with normal probability
functions and maximum likelihood estimates.
</p>
<p>Features are assumed to be continuous, and the target is assumed to take
on values of <code>0</code> (negative case, no anomaly) or <code>1</code> (positive
case, anomaly).
</p>
<p>The threshold <code>epsilon</code> is optimized using the either the Matthews
correlation coefficient or F1 score.
</p>
<p>Variance and covariance are computed using <code>var</code> and <code>cov</code>, where
denominator <code>n-1</code> is used.
</p>
<p>Algorithm details are described in the Introduction vignette.
</p>
<p>The package follows the anomaly detection approach in Andrew Ng's course on
machine learning.
</p>


<h3>Value</h3>

<p>An object of class <code>ad</code>:
</p>
<table>
<tr><td><code>call</code></td>
<td>
<p>The original call to <code>ad</code>.</p>
</td></tr>
<tr><td><code>univariate</code></td>
<td>
<p>Logical indicating which pdf was computed.</p>
</td></tr>
<tr><td><code>score</code></td>
<td>
<p>The score that was used for optimization.</p>
</td></tr>
<tr><td><code>epsilon</code></td>
<td>
<p>The threshold value.</p>
</td></tr>
<tr><td><code>train_mean</code></td>
<td>
<p>Means of features in the training set.</p>
</td></tr>
<tr><td><code>train_var</code></td>
<td>
<p>Variances of features in the training set. If <code>univariate=FALSE</code></p>
</td></tr></table>
<p>, holds the covariance matrix for the features.
</p>
<table>
<tr><td><code>val_score</code></td>
<td>
<p>The score obtained on the validation data set.
0 to 1 for F1 score, -1 to 1 for Matthews correlation coefficient</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://www.coursera.org/learn/machine-learning">Machine learning course</a>
</p>
<p><a href="https://en.wikipedia.org/wiki/Confusion_matrix">Confusion matrix</a>
</p>
<p><a href="https://en.wikipedia.org/wiki/Matthews_correlation_coefficient">Matthews correlation coefficient</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x1 &lt;- c(1,.2,3,1,1,.7,-2,-1)
x2 &lt;- c(0,.5,0,.4,0,1,-.3,-.1)
x &lt;- do.call(cbind,list(x1,x2))
y &lt;- c(0,0,0,0,0,0,1,1)
dframe &lt;- data.frame(x,y)
df_fit &lt;- ad(y ~ x1 + x2, dframe)
mat_fit &lt;- ad(x = x, y = y)

</code></pre>

<hr>
<h2 id='amelie'>amelie: A package for anomaly detection.</h2><span id='topic+amelie'></span><span id='topic+amelie-package'></span>

<h3>Description</h3>

<p>Anomaly detection with maximum likelihood estimates and normal probability functions.
</p>


<h3>Amelie functions</h3>

<p>The package contains a function for running the anomaly detection algorithm.
</p>


<h3>More information</h3>

<p><code><a href="#topic+ad">ad</a></code> documents the main <code>ad</code> function.
</p>
<p>For more details and examples, see the vignette.
</p>

<hr>
<h2 id='pdfunc'>Compute the probability density function of a matrix of features.</h2><span id='topic+pdfunc'></span>

<h3>Description</h3>

<p>Compute the probability density function of a matrix of features.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdfunc(x, univariate = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdfunc_+3A_x">x</code></td>
<td>
<p>A matrix of numeric features.</p>
</td></tr>
<tr><td><code id="pdfunc_+3A_univariate">univariate</code></td>
<td>
<p>Logical indicating whether the univariate pdf should be
computed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pdfunc</code> computes univariate or multivariate probabilities for a set of
observations.
</p>
<p>All columns of a row are used in computing the pdf.
</p>
<p>Variance and covariance are computed using <code>var</code> and <code>cov</code>, where
the denominator <code>n-1</code> is used.
</p>


<h3>Value</h3>

<p>A vector with values of the density function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dmat &lt;- matrix(c(3,1,3,1,2,3,-1,0),nrow=2)
pdfunc(dmat,TRUE)

#'@importFrom stats cov
</code></pre>

<hr>
<h2 id='predict.ad'>Predict method for ad Objects</h2><span id='topic+predict.ad'></span>

<h3>Description</h3>

<p>Predict method for ad Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ad'
predict(object, newdata, type = "class",
  na.action = na.pass, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.ad_+3A_object">object</code></td>
<td>
<p>An object of class <code>ad</code>, created by the function <code>ad</code>.</p>
</td></tr>
<tr><td><code id="predict.ad_+3A_newdata">newdata</code></td>
<td>
<p>A data frame or matrix containing new data.</p>
</td></tr>
<tr><td><code id="predict.ad_+3A_type">type</code></td>
<td>
<p>One of 'class' (for class prediction) or 'prob' (for probabilities).</p>
</td></tr>
<tr><td><code id="predict.ad_+3A_na.action">na.action</code></td>
<td>
<p>A function specifying the action to be taken if NAs are
found; default is to predict NA (na.pass).</p>
</td></tr>
<tr><td><code id="predict.ad_+3A_...">...</code></td>
<td>
<p>Currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specifying 'class' for <code>type</code> returns the class of each
observation as anomalous or non-anomalous. Specifying 'prob' returns the
probability of each observation.
</p>


<h3>Value</h3>

<p>A vector of predicted values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x1 &lt;- c(1,.2,3,1,1,.7,-2,-1)
x2 &lt;- c(0,.5,0,.4,0,1,-.3,-.1)
x &lt;- do.call(cbind,list(x1,x2))
y &lt;- c(0,0,0,0,0,0,1,1)
dframe &lt;- data.frame(x,y)
df_fit &lt;- ad(y ~ x1 + x2, dframe)
predict(df_fit, newdata = dframe)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

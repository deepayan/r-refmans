<!DOCTYPE html><html><head><title>Help for package PolicyPortfolios</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PolicyPortfolios}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#burden'><p>Calculate burden based on how different learning assumptions affect portfolio size</p></a></li>
<li><a href='#configurations'><p>Calculate a configuration of instruments</p></a></li>
<li><a href='#consensus'><p>Policy portfolios for the dataset of the CONSENSUS research project.</p></a></li>
<li><a href='#consensus.instruments'><p>Meta-data on Instruments for the dataset of the CONSENSUS research project.</p></a></li>
<li><a href='#consensus.targets'><p>Meta-data on Targets for the dataset of the CONSENSUS research project.</p></a></li>
<li><a href='#diversity_aid'><p>Calculate portfolio diversity (Average Instrument Diversity)</p></a></li>
<li><a href='#P.education'><p>Simulated policy portfolio with fake data for the education sector.</p></a></li>
<li><a href='#P.energy'><p>Simulated policy portfolio with fake data for the energy sector.</p></a></li>
<li><a href='#pass.id'><p>Subset a full dataset with only certain cases (Country / Year)</p></a></li>
<li><a href='#PolicyPortfolios'><p>Tools for managing, measuring and visualizing policy portfolios</p></a></li>
<li><a href='#pp_array'><p>Convert a tidy dataset into a matrix of policy portfolios</p></a></li>
<li><a href='#pp_clean'><p>Tidy a dataset with a &quot;long&quot; policy portfolio structure</p></a></li>
<li><a href='#pp_complete'><p>Complete a policy portfolio</p></a></li>
<li><a href='#pp_measures'><p>Measures of interest of a policy portfolio</p></a></li>
<li><a href='#pp_plot'><p>Plot a policy portfolio</p></a></li>
<li><a href='#pp_report'><p>Produce a report of policy portfolios</p></a></li>
<li><a href='#pp_similarity'><p>Calculate the similarity between different portfolios</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools for Managing, Measuring and Visualizing Policy Portfolios</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for simplifying the creation and management of data structures
    suitable for dealing with policy portfolios, that is, two-dimensional spaces 
    of policy instruments and policy targets. The package also allows to generate measures of
    portfolio characteristics and facilitates their visualization.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5), dplyr (&ge; 1.0),</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, vegan, ineq, mgcv, reshape2,</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, devtools, rmarkdown, knitr, tidyr,</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://xavier-fim.net/packages/PolicyPortfolios/">http://xavier-fim.net/packages/PolicyPortfolios/</a>,
<a href="https://github.com/xfim/PolicyPortfolios">https://github.com/xfim/PolicyPortfolios</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/xfim/PolicyPortfolios/issues">https://github.com/xfim/PolicyPortfolios/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-11 14:00:45 UTC; xavier</td>
</tr>
<tr>
<td>Author:</td>
<td>Xavier Fernández i Marín
    <a href="https://orcid.org/0000-0002-9522-8870"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Xavier Fernández i Marín &lt;xavier.fim@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-11 15:40:13 UTC</td>
</tr>
</table>
<hr>
<h2 id='burden'>Calculate burden based on how different learning assumptions affect portfolio size</h2><span id='topic+burden'></span>

<h3>Description</h3>

<p>Internal function to calculate a transformation of portfolio size based on a
non-regular assumption of how policy learning works at the instrument level.
This generates a weighted portfolio size that can be understood as the
&quot;burden&quot; of its size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>burden(M, nI, nT, learning, weight_by = "instrument")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="burden_+3A_m">M</code></td>
<td>
<p>Matrix with the policy portfolio, where the first dimension contains instruments and the second contains targets.</p>
</td></tr>
<tr><td><code id="burden_+3A_ni">nI</code></td>
<td>
<p>Integer with the number of Instruments.</p>
</td></tr>
<tr><td><code id="burden_+3A_nt">nT</code></td>
<td>
<p>Integer with the number of Targets.</p>
</td></tr>
<tr><td><code id="burden_+3A_learning">learning</code></td>
<td>
<p>The assumption of the decay of learning. It is either &quot;continuous&quot; (arithmetical decay), &quot;steep&quot; (geometrical decay) or &quot;capped&quot; (sudden decay and constant hereafter).</p>
</td></tr>
<tr><td><code id="burden_+3A_weight_by">weight_by</code></td>
<td>
<p>By default learning assumptions are done on different instrument levels (&quot;instrument&quot;). But it is also possible to use Target levels when using &quot;target&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>- Arithmetical: assumes a continuous learning.
- Geometrical: assumes steep learning.
- Radical: assumes capped learning.
</p>
<p>This contrasts with the regular portfolio size that assumes no learning is
produced between policy instruments.
</p>


<h3>Value</h3>

<p>A value of burden (portfolio size using a different learning assumption).
</p>

<hr>
<h2 id='configurations'>Calculate a configuration of instruments</h2><span id='topic+configurations'></span>

<h3>Description</h3>

<p>Internal function used to assess the number of configurations of
instruments. Configurations are specific combinations of instruments thay
may appear in different targets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>configurations(M)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="configurations_+3A_m">M</code></td>
<td>
<p>Matrix with the policy portfolio, where the first dimension contains instruments and the second contains targets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector with the distribution of configurations
</p>

<hr>
<h2 id='consensus'>Policy portfolios for the dataset of the CONSENSUS research project.</h2><span id='topic+consensus'></span>

<h3>Description</h3>

<p>A tidy dataset of a policy portfolios in social and environmental policies for the CONSENSUS research project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(consensus)
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) containing the coverage of state intervention in a specific policy space (presence = 1 or absence = 0) for the CONSENSUS research project (). It covers 23 countries in two sectors (Environmental, with 49 Targets and 11 Instruments; and Social, with X Targets and X Instruments) between 1976 and 2005.
</p>


<h3>Details</h3>

<p>When using the dataset, please cite:
</p>
<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>
<p>Knill, C., Schulze, K. &amp; Tosun, J. (2012). Regulatory Policy Outputs and Impacts. Exploring a Complex Relationship. _Regulation &amp; Governance_, 5(4), 427-444. doi:10.1111/j.1748-5991.2012.01150.x.
</p>


<h3>Source</h3>

<p>Consensus research project (217239): https://cordis.europa.eu/project/id/217239
</p>


<h3>References</h3>

<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>
<p>Knill, C., Schulze, K. &amp; Tosun, J. (2012). Regulatory Policy Outputs and Impacts. Exploring a Complex Relationship. _Regulation &amp; Governance_, 5(4), 427-444. doi:10.1111/j.1748-5991.2012.01150.x.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+consensus.instruments">consensus.instruments</a></code> and <code><a href="#topic+consensus.targets">consensus.targets</a></code> for meta data about Instrument id and types, and Target id and Subsector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(consensus)
str(consensus)
</code></pre>

<hr>
<h2 id='consensus.instruments'>Meta-data on Instruments for the dataset of the CONSENSUS research project.</h2><span id='topic+consensus.instruments'></span>

<h3>Description</h3>

<p>A tidy dataset of the characteristics of Instruments in social and environmental policies for the CONSENSUS research project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(consensus.instruments)
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) containing the characteristics of Instruments, namely the Sector, the type of Instrument and the internal id in the original coding manual.
</p>


<h3>Details</h3>

<p>When using the dataset, please cite:
</p>
<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>
<p>Knill, C., Schulze, K. &amp; Tosun, J. (2012). Regulatory Policy Outputs and Impacts. Exploring a Complex Relationship. _Regulation &amp; Governance_, 5(4), 427-444. doi:10.1111/j.1748-5991.2012.01150.x.
</p>


<h3>Source</h3>

<p>Consensus research project (217239): https://cordis.europa.eu/project/id/217239
</p>


<h3>References</h3>

<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>
<p>Knill, C., Schulze, K. &amp; Tosun, J. (2012). Regulatory Policy Outputs and Impacts. Exploring a Complex Relationship. _Regulation &amp; Governance_, 5(4), 427-444. doi:10.1111/j.1748-5991.2012.01150.x.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+consensus">consensus</a></code> for the full dataset and <code><a href="#topic+consensus.targets">consensus.targets</a></code> for meta data about Target id and Subsector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(consensus.instruments)
str(consensus.instruments)
</code></pre>

<hr>
<h2 id='consensus.targets'>Meta-data on Targets for the dataset of the CONSENSUS research project.</h2><span id='topic+consensus.targets'></span>

<h3>Description</h3>

<p>A tidy dataset of the characteristics of Targets in social and environmental policies for the CONSENSUS research project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(consensus.targets)
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) containing the characteristics of Targets, namely the Subsector and the internal id in the original coding manual.
</p>


<h3>Details</h3>

<p>When using the dataset, please cite:
</p>
<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>
<p>Knill, C., Schulze, K. &amp; Tosun, J. (2012). Regulatory Policy Outputs and Impacts. Exploring a Complex Relationship. _Regulation &amp; Governance_, 5(4), 427-444. doi:10.1111/j.1748-5991.2012.01150.x.
</p>


<h3>Source</h3>

<p>Consensus research project (217239): https://cordis.europa.eu/project/id/217239
</p>


<h3>References</h3>

<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>
<p>Knill, C., Schulze, K. &amp; Tosun, J. (2012). Regulatory Policy Outputs and Impacts. Exploring a Complex Relationship. _Regulation &amp; Governance_, 5(4), 427-444. doi:10.1111/j.1748-5991.2012.01150.x.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+consensus">consensus</a></code> for the full dataset and <code><a href="#topic+consensus.instruments">consensus.instruments</a></code> for meta data about Instrument id and instrument type.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(consensus.targets)
str(consensus.targets)
</code></pre>

<hr>
<h2 id='diversity_aid'>Calculate portfolio diversity (Average Instrument Diversity)</h2><span id='topic+diversity_aid'></span>

<h3>Description</h3>

<p>Function used to calculate the diversity of a portfolio (Average Instrument Diversity, AID).
It is adapted from the idea of a Gini-Simpson diversity index.
The measure can be interpreted as the average probability that picking two
policy spaces from different Targets, they use a different Instrument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diversity_aid(M)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diversity_aid_+3A_m">M</code></td>
<td>
<p>Matrix with two dimensions (Instrument, Target) containing absence (0) or presence (1) of policy intervention.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A value of the portfolio diversity.
</p>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">
\forall_{t=1..T},  \forall_{i=1..I} \sum_{c=1}^{C} \frac{c_{t,i} = c_{!t,!i}}{C}
</code>
</p>

<p>where:
</p>
<p>T are the targets covered by at least one policy instrument
I are the instruments addressing at least one policy target
C are the entirety of target-instrument-constellations
</p>
<p>It is applied only to matrices, not to tidy objects in a proper policy portfolio.
For a proper treatment using tidy data, use it through pp_measures().
</p>


<h3>References</h3>

<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(consensus)
consensus %&gt;%
  filter(Sector == "Environmental") %&gt;%
  filter(Country %in% c("France", "United States")) %&gt;%
  filter(Year %in% c(1976, 2005)) %&gt;%
  pp_array() %&gt;%
  apply(., c(1, 2, 3), diversity_aid) %&gt;%
  as.vector() %&gt;%
  round(digits = 3)
# 1976 (FR, US), 2005 (FR, US)
</code></pre>

<hr>
<h2 id='P.education'>Simulated policy portfolio with fake data for the education sector.</h2><span id='topic+P.education'></span>

<h3>Description</h3>

<p>A tidy dataset of a policy portfolio in an imaginary sector (education), containing 3 countries, 10 Instruments and 15 Targets, for 11 years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(P.education)
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) containing the coverage of state intervention in a specific policy space (presence = 1 or absence = 0).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(P.education)
str(P.education)
</code></pre>

<hr>
<h2 id='P.energy'>Simulated policy portfolio with fake data for the energy sector.</h2><span id='topic+P.energy'></span>

<h3>Description</h3>

<p>A tidy dataset of a policy portfolio in an imaginary sector (energy), containing 3 countries, 15 Instruments and 25 Targets, for 11 years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(P.energy)
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) containing the coverage of state intervention in a specific policy space (presence = 1 or absence = 0).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(P.energy)
str(P.energy)
</code></pre>

<hr>
<h2 id='pass.id'>Subset a full dataset with only certain cases (Country / Year)</h2><span id='topic+pass.id'></span>

<h3>Description</h3>

<p>Internal function used to select a subset of cases (Country / Sector / Year)
from a tidy dataset with portfolio data.
When subsetting a sector, the remaining object limits the results to the available
Instruments and Sectors found in the original object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pass.id(D, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pass.id_+3A_d">D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td></tr>
<tr><td><code id="pass.id_+3A_id">id</code></td>
<td>
<p>A list with up to three elements, namely &quot;Country&quot;, &quot;Sector&quot; and &quot;Year&quot; indicating the specific identification characteristics of the portfolio(s) that must be processed; and optionally &quot;clean&quot; (logical, FALSE by default) to remove non observed factor levels in Instruments, Targets, Country, Sector and Year.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Data frame (tibble) with a part of the original input, defined by id.
</p>

<hr>
<h2 id='PolicyPortfolios'>Tools for managing, measuring and visualizing policy portfolios</h2><span id='topic+PolicyPortfolios'></span><span id='topic+policyportfolios'></span>

<h3>Description</h3>

<p>Tools for simplifying the creation and management of data structures suitable
for dealing with policy portfolios, that is, two-dimensional spaces of
of policy instruments and policy targets. It allows to generate measures of
portfolio characteristics and facilitates their visualization.
</p>


<h3>References</h3>

<p><a href="http://xavier-fim.net/packages/PolicyPortfolios/">http://xavier-fim.net/packages/PolicyPortfolios/</a>.
</p>
<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>
<p>Knill, C., Schulze, K. &amp; Tosun, J. (2012). Regulatory Policy Outputs and Impacts. Exploring a Complex Relationship. _Regulation &amp; Governance_, 5(4), 427-444. doi:10.1111/j.1748-5991.2012.01150.x.
</p>

<hr>
<h2 id='pp_array'>Convert a tidy dataset into a matrix of policy portfolios</h2><span id='topic+pp_array'></span>

<h3>Description</h3>

<p>Take a tidy dataset containing one or several policy portfolios and convert it into a matrix or an array.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pp_array(D, return_matrix = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pp_array_+3A_d">D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td></tr>
<tr><td><code id="pp_array_+3A_return_matrix">return_matrix</code></td>
<td>
<p>Logical value indicating whether the output must be in the form of an array with Country, Sector and Year dimensions present (although equal to one), or a simplified matrix of Instruments and Targets. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An array when return_single is FALSE (the default), or a two-dimensional matrix with Instruments and Targets as first and second dimensions, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(P.education)
# Returns an array
A &lt;- pp_array(P.education)
dim(A)

# Returns a matrix
M &lt;- pp_array(subset(P.education, Country == "Syldavia" &amp; Year == 2022),
  return_matrix = TRUE)
dim(M)
</code></pre>

<hr>
<h2 id='pp_clean'>Tidy a dataset with a &quot;long&quot; policy portfolio structure</h2><span id='topic+pp_clean'></span>

<h3>Description</h3>

<p>Clean a policy portfolio dataset into a tidy object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pp_clean(
  d,
  Sector = NULL,
  Country.name = "Country",
  Year.name = "Year",
  Instrument.name = "Instrument",
  Target.name = "Target",
  coding.category.name = "Coding category",
  coding.category = 2,
  Direction.name = "Direction",
  directions = c(0, 1, -1),
  associated.vars = NULL,
  date = FALSE,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pp_clean_+3A_d">d</code></td>
<td>
<p>Data frame in an uncleaned and untidy structure containing data from a policy portfolio.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_sector">Sector</code></td>
<td>
<p>Character vector with the Sector of the dataset.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_country.name">Country.name</code></td>
<td>
<p>Character vector of length one with the name of the variable that contains the country name.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_year.name">Year.name</code></td>
<td>
<p>Character vector of length one with the name of the variable that contains the year.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_instrument.name">Instrument.name</code></td>
<td>
<p>Character vector of length one with the name of the variable that contains the instruments.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_target.name">Target.name</code></td>
<td>
<p>Character vector of length one with the name of the variable that contains the targets.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_coding.category.name">coding.category.name</code></td>
<td>
<p>Character vector of length one with the name of the variable that contains the coding category.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_coding.category">coding.category</code></td>
<td>
<p>Numerical value with the level of the category that captures the combination of instrument and target.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_direction.name">Direction.name</code></td>
<td>
<p>Character vector of length one with the name of the variable that contains the direction of the policy change.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_directions">directions</code></td>
<td>
<p>Numerical vector with the numeric values of the direction of the policy changes, namely &quot;Status quo&quot;, &quot;Expansion&quot; and &quot;Dismantling&quot;. Defaults to, 0, 1 and -1, respectively.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_associated.vars">associated.vars</code></td>
<td>
<p>Character vector indicating variables that contain characteristics of the policy space.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_date">date</code></td>
<td>
<p>By default, return Year as the only time indicator. If TRUE, return the full date with dd-mm-YYYY.</p>
</td></tr>
<tr><td><code id="pp_clean_+3A_debug">debug</code></td>
<td>
<p>Logical value. When TRUE, print more verbose information about the cleaning process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>D Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
X &lt;- read.table("raw_data.csv", header = TRUE)
D &lt;- pp_clean(X, Sector = "Education")

# Now 'D' is a tidy dataset suitable for being used in the context of the 'PolicyPortfolio' package.

## End(Not run)
</code></pre>

<hr>
<h2 id='pp_complete'>Complete a policy portfolio</h2><span id='topic+pp_complete'></span>

<h3>Description</h3>

<p>Complete an already tidy dataset with the full set of instruments, targets and years.
Used also to specify the order of instruments and targets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pp_complete(
  D,
  year.range = NULL,
  Instrument.set = NULL,
  Target.set = NULL,
  date = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pp_complete_+3A_d">D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td></tr>
<tr><td><code id="pp_complete_+3A_year.range">year.range</code></td>
<td>
<p>Numerical vector of length two with the initial and final value of the years considered</p>
</td></tr>
<tr><td><code id="pp_complete_+3A_instrument.set">Instrument.set</code></td>
<td>
<p>Ordered factor with the full set of values of Instruments, to be combined with the already existing Instruments.</p>
</td></tr>
<tr><td><code id="pp_complete_+3A_target.set">Target.set</code></td>
<td>
<p>Ordered factor with the full set of values of Targets, to be combined with the already existing Targets.</p>
</td></tr>
<tr><td><code id="pp_complete_+3A_date">date</code></td>
<td>
<p>By default a portfolio by every year is employed. Otherwise, use a full date (DD-MM-YYYY).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>D Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors. It differs from the input in that this one includes the full set of pre-specified Instruments, Targets and temporal range.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(P.education)
range(P.education$Year)

P.education.full &lt;- pp_complete(P.education, year.range = c(2000, 2035))
range(P.education.full$Year)
</code></pre>

<hr>
<h2 id='pp_measures'>Measures of interest of a policy portfolio</h2><span id='topic+pp_measures'></span>

<h3>Description</h3>

<p>Calculate measures of interest of a policy portfolio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pp_measures(D, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pp_measures_+3A_d">D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td></tr>
<tr><td><code id="pp_measures_+3A_id">id</code></td>
<td>
<p>A list with up to two elements, namely &quot;Country&quot;, and &quot;Year&quot; indicating the specific identification characteristics of the portfolio(s) that must be processed. Defaults to NULL to process all portfolios.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tidy dataset containing the portfolio identificators (Country, Sector and Year) plus the Measure identificators (Measure and Measure.label) and the value of the portfolio characteristic.
</p>


<h3>References</h3>

<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first. For Average Instrument Diversity.
</p>
<p>Adam, C., Knill, C. &amp; Fernández-i-Marín, X. (2016). Rule growth and government effectiveness: why it takes the capacity to learn and coordinate to constrain rule growth. _Policy Sciences_, 50, 241–268. doi:10.1007/s11077-016-9265-x. For portfolio size.
</p>


<h3>See Also</h3>

<p><code><a href="vegan.html#topic+diversity">diversity</a></code> for Average Instrument Diversity, <code><a href="ineq.html#topic+Gini">Gini</a></code>, <code><a href="vegan.html#topic+diversity">diversity</a></code> <code><a href="#topic+configurations">configurations</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(P.education)
m.education &lt;- pp_measures(P.education)
m.education

# Calculate portfolio measures for a restricted set of portfolios defined by a list.
data(P.energy)
m.energy &lt;- pp_measures(P.energy, id = list(Country = "Borduria", Year = 2022))
m.energy
</code></pre>

<hr>
<h2 id='pp_plot'>Plot a policy portfolio</h2><span id='topic+pp_plot'></span>

<h3>Description</h3>

<p>Plot a policy portfolio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pp_plot(D, id = NULL, spacing = FALSE, subtitle = TRUE, caption = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pp_plot_+3A_d">D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td></tr>
<tr><td><code id="pp_plot_+3A_id">id</code></td>
<td>
<p>A list with up to two elements, namely &quot;Country&quot;, and &quot;Year&quot; indicating the specific identification characteristics of the portfolio(s) that must be processed.</p>
</td></tr>
<tr><td><code id="pp_plot_+3A_spacing">spacing</code></td>
<td>
<p>Logical value. When TRUE, some space is added between tiles to help distinguish adjacent spaces. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="pp_plot_+3A_subtitle">subtitle</code></td>
<td>
<p>Logical value. When TRUE (the default), a subtitle with the measures of the portfolio is included.</p>
</td></tr>
<tr><td><code id="pp_plot_+3A_caption">caption</code></td>
<td>
<p>A character vector to overimpose the Source of the data. For the CONSENSUS dataset, please use &quot;citation(PolicyPortfolios)&quot; to properly cite its source.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tidy dataset containing the portfolio identificators (Country, Sector and Year) plus the Measure identificators (Measure and Measure.label) and the value of the portfolio characteristic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(P.education)
pp_plot(P.education, id = list(Country = "Borduria", Year = 2025))
</code></pre>

<hr>
<h2 id='pp_report'>Produce a report of policy portfolios</h2><span id='topic+pp_report'></span>

<h3>Description</h3>

<p>Produce a report of policy portfolios.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pp_report(
  D,
  id = NULL,
  file = NULL,
  title = NULL,
  plot = c("single", "comparative"),
  text = TRUE,
  width = 12,
  height = 7,
  comparative = c("temporal", "static"),
  between = "",
  within = "",
  dev_type_html = "svg",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pp_report_+3A_d">D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_id">id</code></td>
<td>
<p>A list with up to two elements, namely &quot;Country&quot;, and &quot;Year&quot; indicating the specific identification characteristics of the portfolio(s) that must be processed. Defaults to NULL to process all portfolios.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_file">file</code></td>
<td>
<p>Character vector with the name of the file to create. Defaults to a combination of the date and time of production and policy portfolio report.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_title">title</code></td>
<td>
<p>A character vector with the title of the report. If no title is passed, the default (NULL) is to use the id, or a generic title with the date and time of its production.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_plot">plot</code></td>
<td>
<p>A character vector with the types of plot to perform. If no plot is desired, set it to NULL. By default it plots individual portfolios (&quot;single&quot;) as well as comparative figures with portfolio measures (&quot;comparative&quot;).</p>
</td></tr>
<tr><td><code id="pp_report_+3A_text">text</code></td>
<td>
<p>A logical vector of whether in the case of single portfolios a textual report should be included.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_width">width</code></td>
<td>
<p>A number with the width of the device for individual portfolio figures. Defaults to 12 for the svg device.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_height">height</code></td>
<td>
<p>A number with the width of the device for individual portfolio figures. Defaults to 7 for the svg device.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_comparative">comparative</code></td>
<td>
<p>A character vector with the types of comparative plots to perform. If no comparative plot is desired, set it to NULL. Valid types of comparative plots are &quot;temporal&quot; (for showing time series of measures of portfolios) or &quot;static&quot; (for dotplots with the values of a single time period. If multiple years are passed and &quot;static&quot; is set, then the last year is used.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_between">between</code></td>
<td>
<p>A character vector indicating the variable to which the between-comparison must be performed. Defaults to &quot;Sector&quot;. Not yet implemented.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_within">within</code></td>
<td>
<p>A character vector indicating the variable to which the between-comparison must be performed. Defaults to &quot;Country&quot;. Not yet implemented.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_dev_type_html">dev_type_html</code></td>
<td>
<p>Character. Character vector indicating the type of graphical device for the html output. By default, svg. See RMarkdown.</p>
</td></tr>
<tr><td><code id="pp_report_+3A_...">...</code></td>
<td>
<p>Other options passed to intermediate functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An html report.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(P.education)
pp_report(P.education)

pp_report(P.education, id = list(Country = "Borduria", Year = 2025))

## End(Not run)
</code></pre>

<hr>
<h2 id='pp_similarity'>Calculate the similarity between different portfolios</h2><span id='topic+pp_similarity'></span>

<h3>Description</h3>

<p>Calculate similarity between portfolios.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pp_similarity(D, id = NULL, method = "all", return_all = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pp_similarity_+3A_d">D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: &quot;Country&quot;, &quot;Sector&quot;, &quot;Year&quot;, &quot;Instrument&quot;, &quot;Target&quot; and &quot;covered&quot;. &quot;covered&quot; is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that &quot;Year&quot; is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td></tr>
<tr><td><code id="pp_similarity_+3A_id">id</code></td>
<td>
<p>A list with up to two elements, namely &quot;Country&quot;, and &quot;Year&quot; indicating the specific identification characteristics of the portfolio(s) that must be processed. Defaults to NULL to process all portfolios.</p>
</td></tr>
<tr><td><code id="pp_similarity_+3A_method">method</code></td>
<td>
<p>A character vector containing the indices of similarity requested. Defaults to &quot;all&quot;. The implemented indices of binary similarity are &quot;jaccard&quot; (), &quot;</p>
</td></tr>
<tr><td><code id="pp_similarity_+3A_return_all">return_all</code></td>
<td>
<p>Logical indicating whether all possible combinations (countries and years of origin and destination) must be returned or only when they are different. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tidy dataset containing the portfolio identificators (Country, Sector and Year) plus the similarity measures and their values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(P.education)
pp_similarity(P.education, id = list(Year = 2025))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

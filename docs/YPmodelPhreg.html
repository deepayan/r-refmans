<!DOCTYPE html><html><head><title>Help for package YPmodelPhreg</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {YPmodelPhreg}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#YPmodelPhreg-package'>
<p>The Short-Term and Long-Term Hazard Ratio Model with Proportional Adjustment</p></a></li>
<li><a href='#colonexample'><p>An example from Chemotherapy for Stage B/C colon cancer</p></a></li>
<li><a href='#YPmodelPhreg-internal'><p>Internal functions for the YPmodelPhreg package</p></a></li>
<li><a href='#ypreg'>
<p>Fit a short-term and long-term hazard ratio model with proportional adjustment</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>The Short-Term and Long-Term Hazard Ratio Model with
Proportional Adjustment</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daewoo Pak &lt;dpak@yonsei.ac.kr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides covariate-adjusted comparison of two groups of right 
    censored data, where the binary group variable has separate short-term 
    and long-term effects on the hazard function, while effects of covariates 
    such as age, blood pressure, etc. are proportional on the hazard. The model 
    was studied in Yang and Prentice (2015) &lt;<a href="https://doi.org/10.1002%2Fsim.6453">doi:10.1002/sim.6453</a>&gt; and it extends 
    the two sample version of the short-term and long-term hazard ratio model
    proposed in Yang and Prentice (2005) &lt;<a href="https://doi.org/10.1093%2Fbiomet%2F92.1.1">doi:10.1093/biomet/92.1.1</a>&gt;. The model 
    extends the usual Cox proportional hazards model to allow more flexible 
    hazard ratio patterns, such as gradual onset of effect, diminishing effect, 
    and crossing hazard or survival functions. This package provides 
    the following: 1) point estimates and confidence intervals for model 
    parameters; 2) point estimate and confidence interval of the average hazard 
    ratio; and 3) plots of estimated hazard ratio function with point-wise and 
    simultaneous confidence bands.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Author:</td>
<td>Daewoo Pak [aut, cre],
  Song Yang [aut]</td>
</tr>
<tr>
<td>Imports:</td>
<td>survival</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-03 23:30:02 UTC; dpak</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-05 17:33:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='YPmodelPhreg-package'>
The Short-Term and Long-Term Hazard Ratio Model with Proportional Adjustment
</h2><span id='topic+YPmodelPhreg-package'></span>

<h3>Description</h3>

<p>This package fits a semiparametric short term and long term hazard ratio model for the group variable, adjusted for proportional covariate effects. The model was studied in Yang and Prentice (2015), and it extends the two sample results in Yang and Prentice (2005). The model accommodates various non-proportional hazards scenarios including those with crossing hazards or survival functions. The main function of the package is <code><a href="#topic+ypreg">ypreg</a></code>, which provides the estimates and confidence intervals  of the model parameters, the average hazard ratio, and the hazard ratios at user-specified time points. Plots of point-wise and simultaneous confidence bands are also given.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> YPmodelPhreg</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2023-04-21</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Daewoo Pak and Song Yang
Maintainer: Daewoo Pak &lt;dpak@yonsei.ac.kr&gt;
</p>


<h3>References</h3>

<p>Yang, S., &amp; Prentice, R. (2005). Semiparametric analysis of short-term and long-term hazard ratios with two-sample survival data. <em>Biometrika</em>, 92(1), 1-17.
</p>
<p>Yang, S., &amp; Prentice, R. L. (2015). Assessing potentially time-dependent treatment effect from clinical trials and observational studies for survival data, with applications to the Women's Health Initiative combined hormone therapy trial. <em>Statistics in medicine</em>, 34(11), 1801-1817.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ypreg">ypreg</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(YPmodelPhreg)
data(colonexample)
head(colonexample)

res &lt;- ypreg(colonexample, time.hr = c(1, 7))
res
plot(res)
</code></pre>

<hr>
<h2 id='colonexample'>An example from Chemotherapy for Stage B/C colon cancer</h2><span id='topic+colonexample'></span>

<h3>Description</h3>

<p>The example <code>colonexample</code> in this package was created using data from one of the first successful trials of adjuvant chemotherapy for colon cancer. The original data set is available from <code>colon</code> in the <code>survival</code> library. The data set <code>colonexample</code> here uses only records with <code>etype = 2</code> and <code>rx = 1 or 3</code>, and it includes three variables: <code>extent</code>, <code>surg</code>, and <code>node4</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("colonexample")</code></pre>


<h3>Format</h3>

<p>A data frame with 619 observations on the following 6 variables.
</p>

<dl>
<dt><code>time</code></dt><dd><p>time until event or censoring (in years)</p>
</dd>
<dt><code>event</code></dt><dd><p>censoring status (1 = event, 0 = censored)</p>
</dd>
<dt><code>group</code></dt><dd><p>group indicator (1 = Lev(amisole)+5-FU), 0 = Obs(ervation))</p>
</dd>
<dt><code>X1</code></dt><dd><p>a binary covariate for <code>extent</code> (1 = serosa or contiguous structures, 0 = submucosa or muscle)</p>
</dd>
<dt><code>X2</code></dt><dd><p>a binary covariate for <code>surg</code> (1=long, 0=short)</p>
</dd>
<dt><code>X3</code></dt><dd><p>a binary covariate for <code>node4</code> (1 = more than 4 positive lymph nodes, 0 = otherwise)</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+ypreg">ypreg</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>library(YPmodelPhreg)
data(colonexample)
head(colonexample)
</code></pre>

<hr>
<h2 id='YPmodelPhreg-internal'>Internal functions for the YPmodelPhreg package</h2><span id='topic+YPmodelPhreg-internal'></span><span id='topic+fn_ux'></span><span id='topic+fn_uhx'></span><span id='topic+fn_uh'></span><span id='topic+fn_u'></span><span id='topic+fn_summ'></span><span id='topic+fn_hrci'></span><span id='topic+fn_est0_ypmodel0'></span><span id='topic+fn_est_ypmodel0'></span><span id='topic+fn_est_ypmodelx'></span>

<h3>Description</h3>

<p>Internal functions for the YPmodelPhreg package.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='ypreg'>
Fit a short-term and long-term hazard ratio model with proportional adjustment
</h2><span id='topic+ypreg'></span><span id='topic+ypreg.default'></span><span id='topic+print.ypreg'></span><span id='topic+plot.ypreg'></span>

<h3>Description</h3>

<p>The main results of the function are the estimations of:
</p>

<ul>
<li><p> parameters in the covariate-adjusted short-term and long-term hazard ratio model with confidence intervals;
</p>
</li>
<li><p> the average hazard ratio with the confidence interval; and
</p>
</li>
<li><p> the hazard ratio function along with point-wise and simultaneous confidence bands (confidence intervals for the hazard ratios at specific user input time points are also given).
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
ypreg(data, alpha = 0.05, time.hr = NULL,
  L = NULL, U = NULL, repnum = 5000, tau = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ypreg_+3A_...">...</code></td>
<td>
<p>for S4 method only.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_data">data</code></td>
<td>
<p>A numeric matrix containing all variables in the data set. The columns must follow this order: 1) time until event or censoring, 2) censoring status (1 = event, 0 = censored), 3) binary group indicator taking values of 0 and 1 (e.g., 1 = treatment, 0 = control for a randomized trial), and 4) a set of numeric vectors of covariates. See the data structure of <code><a href="#topic+colonexample">colonexample</a></code>.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_alpha">alpha</code></td>
<td>
<p>A numeric value for the significance level. The default is <code class="reqn">0.05</code>.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_time.hr">time.hr</code></td>
<td>
<p>A numeric vector of time points at which hazard ratios will be estimated along with confidence intervals.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_l">L</code></td>
<td>
<p>A numeric value for the lower bound of the range [<code>L</code>, <code>U</code>] over which the simultaneous confidence bands for the hazard function are calculated. There must be at least one uncensored observation after the value of <code>L</code> and <code>L</code> &lt; <code>U</code>.
</p>
</td></tr>
<tr><td><code id="ypreg_+3A_u">U</code></td>
<td>
<p>A numeric value for the upper bound of the range [<code>L</code>, <code>U</code>] over which the simultaneous confidence bands for the hazard function are calculated. There must be at least one uncensored observation before the value of <code>U</code> and <code>U</code> &gt; <code>L</code>.
</p>
</td></tr>
<tr><td><code id="ypreg_+3A_repnum">repnum</code></td>
<td>
<p>The number of replications for the re-sampling method. The default is <code class="reqn">5000</code>.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_tau">tau</code></td>
<td>
<p>A numeric value for the maximum follow-up time. The default is <code class="reqn">0.9\times</code>the maximum of all observations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The confidence intervals for the hazard ratios are obtained using the logarithmic transformation. When the user input interval [<code>L</code>, <code>U</code>] is different from the default interval, the intersection of the user input interval and the default interval is used. The point-wise confidence intervals and the simultaneous confidence bands can be plotted by supplying the object being returned by the function <code><a href="#topic+ypreg">ypreg</a></code> to the function <code><a href="#topic+plot.ypreg">plot.ypreg</a></code>.
</p>


<h3>Value</h3>

<p>an object of S3 <code>ypreg</code> class representing the fit. The object also includes the results of the Cox proportional hazards model, implemented by using the <code>coxph</code> function in the <code>survival</code> library.
</p>
<p>A list with at least the following elements:
</p>
<table>
<tr><td><code>fit_coxph</code></td>
<td>
<p>estimation results from the Cox proportional hazards model</p>
</td></tr>
<tr><td><code>best_b0</code></td>
<td>
<p>the estimates from the short-term and long-term hazard ratio model without proportional adjustment</p>
</td></tr>
<tr><td><code>best_ypx</code></td>
<td>
<p>the estimates from the short-term and long-term hazard ratio model with proportional adjustment</p>
</td></tr>
<tr><td><code>res_summ</code></td>
<td>
<p>summary of estimation results with the covariate-adjusted short-term and long-term hazard ratio model</p>
</td></tr>
<tr><td><code>res_hrci</code></td>
<td>
<p>estimation results of hazard ratios at <code>time.hr</code></p>
</td></tr>
</table>


<h3>References</h3>

<p>Yang, S., &amp; Prentice, R. (2005). Semiparametric analysis of short-term and long-term hazard ratios with two-sample survival data. <em>Biometrika</em>, 92(1), 1-17.
</p>
<p>Yang, S., &amp; Prentice, R. L. (2015). Assessing potentially time-dependent treatment effect from clinical trials and observational studies for survival data, with applications to the Women's Health Initiative combined hormone therapy trial. <em>Statistics in medicine</em>, 34(11), 1801-1817.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.ypreg">plot.ypreg</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(YPmodelPhreg)
data(colonexample)
head(colonexample)

res &lt;- ypreg(colonexample, time.hr = c(1, 7))
res
plot(res)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

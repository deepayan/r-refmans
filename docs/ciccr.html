<!DOCTYPE html><html><head><title>Help for package ciccr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ciccr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AAA_DML'><p>Average Adjusted Association</p></a></li>
<li><a href='#ACS'><p>ACS</p></a></li>
<li><a href='#ACS_CC'><p>ACS_CC</p></a></li>
<li><a href='#ACS_CP'><p>ACS_CP</p></a></li>
<li><a href='#avg_AR_logit'><p>An Average of the Upper Bound on Causal Attributable Risk</p></a></li>
<li><a href='#avg_RR_logit'><p>An Average of the Log Odds Ratio</p></a></li>
<li><a href='#cicc_AR'><p>Causal Inference on Attributable Risk</p></a></li>
<li><a href='#cicc_plot'><p>Plotting Upper Bounds on Relative and Attributable Risk</p></a></li>
<li><a href='#cicc_RR'><p>Causal Inference on Relative Risk</p></a></li>
<li><a href='#ciccr-package'><p>ciccr: Causal Inference in Case-Control and Case-Population Studies</p></a></li>
<li><a href='#DZ_CC'><p>DZ_CC</p></a></li>
<li><a href='#FG'><p>FG</p></a></li>
<li><a href='#FG_CC'><p>FG_CC</p></a></li>
<li><a href='#FG_CP'><p>FG_CP</p></a></li>
<li><a href='#trim_pr'><p>Trimming the estimates to be strictly between 0 and 1</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Causal Inference in Case-Control and Case-Population Studies</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimation and inference methods for causal relative and attributable risk in case-control and case-population studies
  under the monotone treatment response and monotone treatment selection assumptions.
  For more details, see the paper by Jun and Lee (2023), 
  "Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions," &lt;<a href="https://arxiv.org/abs/2004.08318">arXiv:2004.08318</a> [econ.EM]&gt;,
  accepted for publication in Journal of Business &amp; Economic Statistics.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, glmnet</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, MASS, splines, Matrix</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sokbae/ciccr/">https://github.com/sokbae/ciccr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sokbae/ciccr/issues">https://github.com/sokbae/ciccr/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-20 16:29:09 UTC; sokbaelee</td>
</tr>
<tr>
<td>Author:</td>
<td>Sung Jae Jun [aut],
  Sokbae Lee [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sokbae Lee &lt;sl3841@columbia.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-20 21:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='AAA_DML'>Average Adjusted Association</h2><span id='topic+AAA_DML'></span>

<h3>Description</h3>

<p>Averages the log odds ratio using prospective or retrospective high-dimensional logistic regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AAA_DML(y, t, x, type = "pro", k = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AAA_DML_+3A_y">y</code></td>
<td>
<p>n-dimensional vector of binary outcomes</p>
</td></tr>
<tr><td><code id="AAA_DML_+3A_t">t</code></td>
<td>
<p>n-dimensional vector of binary treatments</p>
</td></tr>
<tr><td><code id="AAA_DML_+3A_x">x</code></td>
<td>
<p>n by d matrix of covariates</p>
</td></tr>
<tr><td><code id="AAA_DML_+3A_type">type</code></td>
<td>
<p>'pro' if the average is based on prospective regression;
'retro' if it is based on prospective regression (default = 'pro')</p>
</td></tr>
<tr><td><code id="AAA_DML_+3A_k">k</code></td>
<td>
<p>number of folds in k-fold partition (default = 10)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object of type &quot;ciccr&quot;. The object has the following elements.
</p>
<table>
<tr><td><code>est</code></td>
<td>
<p>a scalar estimate</p>
</td></tr>
<tr><td><code>se</code></td>
<td>
<p>standard error</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jun, S.J. and Lee, S. (2020). Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions.
<a href="https://arxiv.org/abs/2004.08318">https://arxiv.org/abs/2004.08318</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use the ACS dataset included in the package
  y = ciccr::ACS$topincome
  t = ciccr::ACS$baplus
  age = ciccr::ACS$age
  x = splines::bs(age, df=6) # b-splines for age

  results = AAA_DML(y, t, x, 'pro', k=2)

</code></pre>

<hr>
<h2 id='ACS'>ACS</h2><span id='topic+ACS'></span>

<h3>Description</h3>

<p>Sample extracted from American Community Survey (ACS) 2018, restricted to white males residing in California with at least a bachelor's degree.
The sample is composed of 17,816 individuals whose age is restricted to be between 25 and 70.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACS
</code></pre>


<h3>Format</h3>

<p>A data frame with 17,816 rows and 4 variables:
</p>

<dl>
<dt>age</dt><dd><p>age, in years</p>
</dd>
<dt>ind</dt><dd><p>industry code, in four digits</p>
</dd>
<dt>baplus</dt><dd><p>1 if a respondent has a master’s degree, a professional degree, or a doctoral degree; 0 otherwise</p>
</dd>
<dt>topincome</dt><dd><p>1 if income is top-coded; 0 otherwise</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://usa.ipums.org/usa/">https://usa.ipums.org/usa/</a>
</p>

<hr>
<h2 id='ACS_CC'>ACS_CC</h2><span id='topic+ACS_CC'></span>

<h3>Description</h3>

<p>A case-control sample extracted from American Community Survey (ACS) 2018, restricted to white males residing in California with at least a bachelor's degree.
The original ACS dataset is not from case-control sampling, but this case-control sample is obtained by the following procedure.
The case sample is composed of 921 individuals whose income is top-coded.
The control sample of equal size is randomly drawn without replacement from the pool of individuals whose income is not top-coded.
Age is restricted to be between 25 and 70.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACS_CC
</code></pre>


<h3>Format</h3>

<p>A data frame with 1842 rows and 4 variables:
</p>

<dl>
<dt>age</dt><dd><p>age, in years</p>
</dd>
<dt>ind</dt><dd><p>industry code, in four digits</p>
</dd>
<dt>baplus</dt><dd><p>1 if a respondent has a master’s degree, a professional degree, or a doctoral degree; 0 otherwise</p>
</dd>
<dt>topincome</dt><dd><p>1 if income is top-coded; 0 otherwise</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://usa.ipums.org/usa/">https://usa.ipums.org/usa/</a>
</p>

<hr>
<h2 id='ACS_CP'>ACS_CP</h2><span id='topic+ACS_CP'></span>

<h3>Description</h3>

<p>A case-population sample extracted from American Community Survey (ACS) 2018, restricted to white males residing in California with at least a bachelor's degree.
The original ACS dataset is not from case-population sampling, but this case-population sample is obtained by the following procedure.
The case sample is composed of 921 individuals whose income is top-coded.
The control sample of equal size is randomly drawn without replacement from all observations and its top-coded status is coded missing.
Age is restricted to be between 25 and 70.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACS_CP
</code></pre>


<h3>Format</h3>

<p>A data frame with 1842 rows and 4 variables:
</p>

<dl>
<dt>age</dt><dd><p>age, in years</p>
</dd>
<dt>ind</dt><dd><p>industry code, in four digits</p>
</dd>
<dt>baplus</dt><dd><p>1 if a respondent has a master’s degree, a professional degree, or a doctoral degree; 0 otherwise</p>
</dd>
<dt>topincome</dt><dd><p>1 if an observation belongs to the case sample; NA otherwise</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://usa.ipums.org/usa/">https://usa.ipums.org/usa/</a>
</p>

<hr>
<h2 id='avg_AR_logit'>An Average of the Upper Bound on Causal Attributable Risk</h2><span id='topic+avg_AR_logit'></span>

<h3>Description</h3>

<p>Averages the upper bound on causal attributable risk using prospective and retrospective logistic regression models
under the monotone treatment response (MTR) and monotone treatment selection (MTS) assumptions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avg_AR_logit(
  y,
  t,
  x,
  sampling = "cc",
  p_upper = 1L,
  length = 21L,
  interaction = TRUE,
  eps = 1e-08
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="avg_AR_logit_+3A_y">y</code></td>
<td>
<p>n-dimensional vector of binary outcomes</p>
</td></tr>
<tr><td><code id="avg_AR_logit_+3A_t">t</code></td>
<td>
<p>n-dimensional vector of binary treatments</p>
</td></tr>
<tr><td><code id="avg_AR_logit_+3A_x">x</code></td>
<td>
<p>n by d matrix of covariates</p>
</td></tr>
<tr><td><code id="avg_AR_logit_+3A_sampling">sampling</code></td>
<td>
<p>'cc' for case-control sampling; 'cp' for case-population sampling; 'rs' for random sampling (default =  'cc')</p>
</td></tr>
<tr><td><code id="avg_AR_logit_+3A_p_upper">p_upper</code></td>
<td>
<p>specified upper bound for the unknown true case probability (default = 1)</p>
</td></tr>
<tr><td><code id="avg_AR_logit_+3A_length">length</code></td>
<td>
<p>specified length of a sequence from 0 to p_upper (default = 21)</p>
</td></tr>
<tr><td><code id="avg_AR_logit_+3A_interaction">interaction</code></td>
<td>
<p>TRUE if there are interaction terms in the retrospective logistic model; FALSE if not (default = TRUE)</p>
</td></tr>
<tr><td><code id="avg_AR_logit_+3A_eps">eps</code></td>
<td>
<p>a small constant that determines the trimming of the estimated probabilities.
Specifically, the estimate probability is trimmed to be between eps and 1-eps (default = 1e-8).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object of type &quot;ciccr&quot;. The object has the following elements.
</p>
<table>
<tr><td><code>est</code></td>
<td>
<p>(length)-dimensional vector of the average of the upper bound of causal attributable risk</p>
</td></tr>
<tr><td><code>pseq</code></td>
<td>
<p>(length)-dimensional vector of a grid from 0 to p_upper</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jun, S.J. and Lee, S. (2023). Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions.
<a href="https://arxiv.org/abs/2004.08318">https://arxiv.org/abs/2004.08318</a>.
</p>
<p>Manski, C.F. (1997). Monotone Treatment Response.
Econometrica, 65(6), 1311-1334.
</p>
<p>Manski, C.F. and Pepper, J.V. (2000). Monotone Instrumental Variables: With an Application to the Returns to Schooling.
Econometrica, 68(4), 997-1010.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use the ACS_CC dataset included in the package.
  y = ciccr::ACS_CC$topincome
  t = ciccr::ACS_CC$baplus
  x = ciccr::ACS_CC$age
  results = avg_AR_logit(y, t, x, sampling = 'cc')

</code></pre>

<hr>
<h2 id='avg_RR_logit'>An Average of the Log Odds Ratio</h2><span id='topic+avg_RR_logit'></span>

<h3>Description</h3>

<p>Averages the log odds ratio using retrospective logistic regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avg_RR_logit(y, t, x, w = "control")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="avg_RR_logit_+3A_y">y</code></td>
<td>
<p>n-dimensional vector of binary outcomes</p>
</td></tr>
<tr><td><code id="avg_RR_logit_+3A_t">t</code></td>
<td>
<p>n-dimensional vector of binary treatments</p>
</td></tr>
<tr><td><code id="avg_RR_logit_+3A_x">x</code></td>
<td>
<p>n by d matrix of covariates</p>
</td></tr>
<tr><td><code id="avg_RR_logit_+3A_w">w</code></td>
<td>
<p>'case' if the average is conditional on the case sample;
'control' if it is conditional on the control sample;
'all' if it is based on the whole sample;
default w =  'control'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object of type &quot;ciccr&quot;. The object has the following elements.
</p>
<table>
<tr><td><code>est</code></td>
<td>
<p>a scalar estimate of the weighted average of the log odds ratio using retrospective logistic regression</p>
</td></tr>
<tr><td><code>se</code></td>
<td>
<p>standard error</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jun, S.J. and Lee, S. (2023). Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions.
<a href="https://arxiv.org/abs/2004.08318">https://arxiv.org/abs/2004.08318</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use the ACS_CC dataset included in the package
  y = ciccr::ACS_CC$topincome
  t = ciccr::ACS_CC$baplus
  x = ciccr::ACS_CC$age
# use 'case' to condition on the distribution of covariates given y = 1
  results = avg_RR_logit(y, t, x, 'case')

</code></pre>

<hr>
<h2 id='cicc_AR'>Causal Inference on Attributable Risk</h2><span id='topic+cicc_AR'></span>

<h3>Description</h3>

<p>Provides an upper bound on the average of attributable risk
under the monotone treatment response (MTR) and monotone treatment selection (MTS) assumptions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cicc_AR(
  y,
  t,
  x,
  sampling = "cc",
  p_upper = 1L,
  cov_prob = 0.95,
  length = 21L,
  interaction = TRUE,
  no_boot = 0L,
  eps = 1e-08
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cicc_AR_+3A_y">y</code></td>
<td>
<p>n-dimensional vector of binary outcomes</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_t">t</code></td>
<td>
<p>n-dimensional vector of binary treatments</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_x">x</code></td>
<td>
<p>n by d matrix of covariates</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_sampling">sampling</code></td>
<td>
<p>'cc' for case-control sampling; 'cp' for case-population sampling; 'rs' for random sampling (default =  'cc')</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_p_upper">p_upper</code></td>
<td>
<p>a specified upper bound for the unknown true case probability (default = 1)</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_cov_prob">cov_prob</code></td>
<td>
<p>coverage probability of a confidence interval (default = 0.95)</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_length">length</code></td>
<td>
<p>specified length of a sequence from 0 to p_upper (default = 21)</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_interaction">interaction</code></td>
<td>
<p>TRUE if there are interaction terms in the retrospective logistic model; FALSE if not (default = TRUE)</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_no_boot">no_boot</code></td>
<td>
<p>number of bootstrap repetitions to compute the confidence intervals (default = 0)</p>
</td></tr>
<tr><td><code id="cicc_AR_+3A_eps">eps</code></td>
<td>
<p>a small constant that determines the trimming of the estimated probabilities.
Specifically, the estimate probability is trimmed to be between eps and 1-eps (default = 1e-8).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object of type &quot;ciccr&quot;. The object has the following elements:
</p>
<table>
<tr><td><code>est</code></td>
<td>
<p>(length)-dimensional vector of the upper bounds on the average of attributable risk</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>(length)-dimensional vector of the upper ends of pointwise one-sided confidence intervals</p>
</td></tr>
<tr><td><code>pseq</code></td>
<td>
<p>(length)-dimensional vector of a grid from 0 to p_upper</p>
</td></tr>
<tr><td><code>cov_prob</code></td>
<td>
<p>the nominal coverage probability</p>
</td></tr>
<tr><td><code>return_code</code></td>
<td>
<p>status of existence of missing values in bootstrap replications</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jun, S.J. and Lee, S. (2020). Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions.
<a href="https://arxiv.org/abs/2004.08318">https://arxiv.org/abs/2004.08318</a>.
</p>
<p>Manski, C.F. (1997). Monotone Treatment Response.
Econometrica, 65(6), 1311-1334.
</p>
<p>Manski, C.F. and Pepper, J.V. (2000). Monotone Instrumental Variables: With an Application to the Returns to Schooling.
Econometrica, 68(4), 997-1010.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use the ACS_CC dataset included in the package.
  y = ciccr::ACS_CC$topincome
  t = ciccr::ACS_CC$baplus
  x = ciccr::ACS_CC$age
  results_AR = cicc_AR(y, t, x, sampling = 'cc', no_boot = 100)

</code></pre>

<hr>
<h2 id='cicc_plot'>Plotting Upper Bounds on Relative and Attributable Risk</h2><span id='topic+cicc_plot'></span>

<h3>Description</h3>

<p>Plots upper bounds on relative and attributable risk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cicc_plot(
  results,
  parameter = "RR",
  sampling = "cc",
  save_plots = FALSE,
  file_name = Sys.Date(),
  plots_ctl = 0.3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cicc_plot_+3A_results">results</code></td>
<td>
<p>estimation results from either cicc_RR or cicc_AR</p>
</td></tr>
<tr><td><code id="cicc_plot_+3A_parameter">parameter</code></td>
<td>
<p>'RR' for relative risk; 'AR' for attributable risk (default =  'RR')</p>
</td></tr>
<tr><td><code id="cicc_plot_+3A_sampling">sampling</code></td>
<td>
<p>'cc' for case-control sampling; 'cp' for case-population sampling (default =  'cc')</p>
</td></tr>
<tr><td><code id="cicc_plot_+3A_save_plots">save_plots</code></td>
<td>
<p>TRUE if the plots are saved as pdf files; FALSE if not (default = FALSE)</p>
</td></tr>
<tr><td><code id="cicc_plot_+3A_file_name">file_name</code></td>
<td>
<p>the pdf file name to save the plots (default = Sys.Date())</p>
</td></tr>
<tr><td><code id="cicc_plot_+3A_plots_ctl">plots_ctl</code></td>
<td>
<p>value to determine the topleft position of the legend in the figure
a large value makes the legend far away from the confidence intervals (default = 0.3)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A X-Y plot where the X axis shows the range of p from 0 to p_upper and
the Y axis depicts both point estimates and the upper end point of the one-sided confidence intervals.
</p>


<h3>References</h3>

<p>Jun, S.J. and Lee, S. (2020). Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions.
<a href="https://arxiv.org/abs/2004.08318">https://arxiv.org/abs/2004.08318</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use the ACS_CC dataset included in the package.
  y = ciccr::ACS_CC$topincome
  t = ciccr::ACS_CC$baplus
  x = ciccr::ACS_CC$age
  results = cicc_RR(y, t, x)
  cicc_plot(results)

</code></pre>

<hr>
<h2 id='cicc_RR'>Causal Inference on Relative Risk</h2><span id='topic+cicc_RR'></span>

<h3>Description</h3>

<p>Provides upper bounds on the average of log relative risk
under the monotone treatment response (MTR) and monotone treatment selection (MTS) assumptions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cicc_RR(y, t, x, sampling = "cc", cov_prob = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cicc_RR_+3A_y">y</code></td>
<td>
<p>n-dimensional vector of binary outcomes</p>
</td></tr>
<tr><td><code id="cicc_RR_+3A_t">t</code></td>
<td>
<p>n-dimensional vector of binary treatments</p>
</td></tr>
<tr><td><code id="cicc_RR_+3A_x">x</code></td>
<td>
<p>n by d matrix of covariates</p>
</td></tr>
<tr><td><code id="cicc_RR_+3A_sampling">sampling</code></td>
<td>
<p>'cc' for case-control sampling; 'cp' for case-population sampling; 'rs' for random sampling (default =  'cc')</p>
</td></tr>
<tr><td><code id="cicc_RR_+3A_cov_prob">cov_prob</code></td>
<td>
<p>coverage probability of a uniform confidence band (default = 0.95)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object of type &quot;ciccr&quot;. The object has the following elements:
</p>
<table>
<tr><td><code>est</code></td>
<td>
<p>estimates of the upper bounds on the average of log relative risk at p=0 and p=1</p>
</td></tr>
<tr><td><code>se</code></td>
<td>
<p>pointwise standard errors at p=0 and p=1</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>the upper end points of the uniform confidence band at p=0 and p=1</p>
</td></tr>
<tr><td><code>pseq</code></td>
<td>
<p>two end points: p=0 and p=1</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jun, S.J. and Lee, S. (2023). Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions.
<a href="https://arxiv.org/abs/2004.08318">https://arxiv.org/abs/2004.08318</a>.
</p>
<p>Manski, C.F. (1997). Monotone Treatment Response.
Econometrica, 65(6), 1311-1334.
</p>
<p>Manski, C.F. and Pepper, J.V. (2000). Monotone Instrumental Variables: With an Application to the Returns to Schooling.
Econometrica, 68(4), 997-1010.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use the ACS_CC dataset included in the package.
  y = ciccr::ACS_CC$topincome
  t = ciccr::ACS_CC$baplus
  x = ciccr::ACS_CC$age
  results_RR = cicc_RR(y, t, x, sampling = 'cc', cov_prob = 0.95)

</code></pre>

<hr>
<h2 id='ciccr-package'>ciccr: Causal Inference in Case-Control and Case-Population Studies</h2><span id='topic+ciccr'></span><span id='topic+ciccr-package'></span>

<h3>Description</h3>

<p>Estimation and inference methods for causal relative and attributable risk in case-control and case-population studies under the monotone treatment response and monotone treatment selection assumptions. For more details, see the paper by Jun and Lee (2023), &quot;Causal Inference under Outcome-Based Sampling with Monotonicity Assumptions,&quot; <a href="https://arxiv.org/abs/2004.08318">arXiv:2004.08318 [econ.EM]</a>, accepted for publication in Journal of Business &amp; Economic Statistics.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Sokbae Lee <a href="mailto:sl3841@columbia.edu">sl3841@columbia.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Sung Jae Jun <a href="mailto:suj14@psu.edu">suj14@psu.edu</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/sokbae/ciccr/">https://github.com/sokbae/ciccr/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/sokbae/ciccr/issues">https://github.com/sokbae/ciccr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='DZ_CC'>DZ_CC</h2><span id='topic+DZ_CC'></span>

<h3>Description</h3>

<p>Case-control sample extracted from Delavande and Zafar (2019).
The sample is composed of 689 students who attended either &quot;Very Selective University&quot; (VSU) or &quot;Selective University&quot; (SU).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DZ_CC
</code></pre>


<h3>Format</h3>

<p>A data frame with 689 rows and 5 variables:
</p>

<dl>
<dt>parent_ba</dt><dd><p>indicator: at least one college-educated parent</p>
</dd>
<dt>private_school</dt><dd><p>indicator: attended private school before unversity</p>
</dd>
<dt>parent_inc</dt><dd><p>parents' monthly income (in 1000s Rs)</p>
</dd>
<dt>case_sample</dt><dd><p>indicator: attended &quot;Very Selective University&quot; (VSU)</p>
</dd>
<dt>control_sample</dt><dd><p>indicator: attended the other simply &quot;Selective University&quot; (SU)</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.journals.uchicago.edu/doi/suppl/10.1086/701808/suppl_file/2014399data.zip">https://www.journals.uchicago.edu/doi/suppl/10.1086/701808/suppl_file/2014399data.zip</a>
</p>


<h3>References</h3>

<p>Delavande, A. and Zafar, B. (2019). University Choice: The Role of Expected Earnings, Non-Pecuniary Outcomes, and Financial Constraints.
Journal of Political Economy 127(5), 2343-2393.
</p>

<hr>
<h2 id='FG'>FG</h2><span id='topic+FG'></span>

<h3>Description</h3>

<p>Dataset from Fang and Gong (2017,2020).
The original dataset in Fang and Gong (2017) is updated in Fang and Gong (2020) after Matsumoto (2020) pointed out data and coding errors in the original work.
We use the updated version of the dataset.
The sample is composed of 78,165 physicians who billed at least 20 hours per week.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FG
</code></pre>


<h3>Format</h3>

<p>A data frame with 78,165 rows and 5 variables:
</p>

<dl>
<dt>male</dt><dd><p>indicator: physician is male</p>
</dd>
<dt>isMD</dt><dd><p>indicator: physician has a MD degree</p>
</dd>
<dt>experYear</dt><dd><p>experience in years</p>
</dd>
<dt>flag</dt><dd><p>indicator: physician billed for more than 100 hours per week</p>
</dd>
<dt>smallPractice</dt><dd><p>indicator: number of group practice members less than 6</p>
</dd>
</dl>



<h3>Source</h3>

<p>Fang, H. and Gong, Q. (2020) Data and Code for: Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Reply.
Nashville, TN: American Economic Association [publisher]. Ann Arbor, MI: Inter-university Consortium for Political and Social Research [distributor], 2020-11-23.
<a href="https://doi.org/10.3886/E119192V1">doi:10.3886/E119192V1</a>
</p>


<h3>References</h3>

<p>Fang, H. and Gong, Q. (2017). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked.
American Economic Review, 107(2), 562-91.
</p>
<p>Matsumoto, B. (2020). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Comment.
American Economic Review, 110(12), 3991-4003.
</p>
<p>Fang, H. and Gong, Q. (2020). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Reply.
American Economic Review, 110(12): 4004-10.
</p>

<hr>
<h2 id='FG_CC'>FG_CC</h2><span id='topic+FG_CC'></span>

<h3>Description</h3>

<p>Case-control sample extracted from Fang and Gong (2020).
The case-control sample is extracted from Fang and Gong (2020) by the following procedure.
The case sample is composed of 2,261 flagged physicians (that is, those who billed for more than 100 hours per week).
The control sample of equal size is randomly drawn without replacement from the pool of physicians who were never flagged.
The sample is composed of 4,522 physicians who billed at least 20 hours per week.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FG_CC
</code></pre>


<h3>Format</h3>

<p>A data frame with 4,522 rows and 5 variables:
</p>

<dl>
<dt>male</dt><dd><p>indicator: physician is male</p>
</dd>
<dt>isMD</dt><dd><p>indicator: physician has a MD degree</p>
</dd>
<dt>experYear</dt><dd><p>experience in years</p>
</dd>
<dt>flag</dt><dd><p>indicator: physician billed for more than 100 hours per week</p>
</dd>
<dt>smallPractice</dt><dd><p>indicator: number of group practice members less than 6</p>
</dd>
</dl>



<h3>Source</h3>

<p>Fang, H. and Gong, Q. (2020) Data and Code for: Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Reply.
Nashville, TN: American Economic Association [publisher]. Ann Arbor, MI: Inter-university Consortium for Political and Social Research [distributor], 2020-11-23.
<a href="https://doi.org/10.3886/E119192V1">doi:10.3886/E119192V1</a>
</p>


<h3>References</h3>

<p>Fang, H. and Gong, Q. (2017). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked.
American Economic Review, 107(2), 562-91.
</p>
<p>Matsumoto, B. (2020). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Comment.
American Economic Review, 110(12), 3991-4003.
</p>
<p>Fang, H. and Gong, Q. (2020). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Reply.
American Economic Review, 110(12), 4004-10.
</p>

<hr>
<h2 id='FG_CP'>FG_CP</h2><span id='topic+FG_CP'></span>

<h3>Description</h3>

<p>Case-population sample extracted from Fang and Gong (2020).
The case-population sample is extracted from Fang and Gong (2020) by the following procedure.
The case sample is composed of 2,261 flagged physicians (that is, those who billed for more than 100 hours per week).
The control sample of equal size is randomly drawn without replacement from all observations and its flagged status is coded missing.
The sample is composed of 4,522 physicians who billed at least 20 hours per week.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FG_CP
</code></pre>


<h3>Format</h3>

<p>A data frame with 4,522 rows and 5 variables:
</p>

<dl>
<dt>male</dt><dd><p>indicator: physician is male</p>
</dd>
<dt>isMD</dt><dd><p>indicator: physician has a MD degree</p>
</dd>
<dt>experYear</dt><dd><p>experience in years</p>
</dd>
<dt>flag</dt><dd><p>1 if an observation belongs to the case sample; NA otherwise</p>
</dd>
<dt>smallPractice</dt><dd><p>indicator: number of group practice members less than 6</p>
</dd>
</dl>



<h3>Source</h3>

<p>Fang, H. and Gong, Q. (2020) Data and Code for: Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Reply.
Nashville, TN: American Economic Association [publisher]. Ann Arbor, MI: Inter-university Consortium for Political and Social Research [distributor], 2020-11-23.
<a href="https://doi.org/10.3886/E119192V1">doi:10.3886/E119192V1</a>
</p>


<h3>References</h3>

<p>Fang, H. and Gong, Q. (2017). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked.
American Economic Review, 107(2), 562-91.
</p>
<p>Matsumoto, B. (2020). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Comment.
American Economic Review, 110(12), 3991-4003.
</p>
<p>Fang, H. and Gong, Q. (2020). Detecting Potential Overbilling in Medicare Reimbursement via Hours Worked: Reply.
American Economic Review, 110(12): 4004-10.
</p>

<hr>
<h2 id='trim_pr'>Trimming the estimates to be strictly between 0 and 1</h2><span id='topic+trim_pr'></span>

<h3>Description</h3>

<p>Trimming the estimates to be strictly between 0 and 1
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_pr(ps, eps = 1e-08)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_pr_+3A_ps">ps</code></td>
<td>
<p>n-dimensional vector of estimated probabilities</p>
</td></tr>
<tr><td><code id="trim_pr_+3A_eps">eps</code></td>
<td>
<p>a small constant that determines the trimming of the estimated probabilities.
Specifically, the estimate probability is trimmed to be between eps and 1-eps (default = 1e-8).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>ps_tr</code></td>
<td>
<p>n-dimensional trimmed estimates</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

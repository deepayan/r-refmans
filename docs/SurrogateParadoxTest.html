<!DOCTYPE html><html lang="en"><head><title>Help for package SurrogateParadoxTest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SurrogateParadoxTest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#a_b_hat'>
<p>Helper function</p></a></li>
<li><a href='#barrett_donald_cutoff'>
<p>Helper function for stochastic dominance test</p></a></li>
<li><a href='#barrett_donald_p'>
<p>Helper function for stochastic dominance test</p></a></li>
<li><a href='#calculate_bandwidth'>
<p>Helper function for kernel smoother</p></a></li>
<li><a href='#gaussian_kernel'>
<p>Helper function for kernel smoother</p></a></li>
<li><a href='#modified_S_stat'>
<p>Helper function for non-negative residual treatment effect test.</p></a></li>
<li><a href='#monotonicity_test'>
<p>Monotonicity test</p></a></li>
<li><a href='#nnr_test'>
<p>Non-negative residual treatment effect function</p></a></li>
<li><a href='#Q'>
<p>Helper function for monotonicity test</p></a></li>
<li><a href='#S'>
<p>Helper function</p></a></li>
<li><a href='#sd_test'>
<p>Stochastic dominance test function</p></a></li>
<li><a href='#smoother_fitter'>
<p>Helper function</p></a></li>
<li><a href='#T_m'>
<p>Helper function for monotonicity test</p></a></li>
<li><a href='#test_assumptions'>
<p>Test assumptions to prevent surrogate paradox</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Empirical Testing of Surrogate Paradox Assumptions</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-01-20</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions to nonparametrically assess assumptions necessary to prevent the surrogate paradox through hypothesis tests of stochastic dominance, monotonicity of regression functions, and non-negative residual treatment effects. More details are available in Hsiao et al 2025 (under review). A tutorial for this package can be found at <a href="https://laylaparast.com/home/SurrogateParadoxTest.html">https://laylaparast.com/home/SurrogateParadoxTest.html</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, MonotonicityTest</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-20 20:17:31 UTC; parastlm</td>
</tr>
<tr>
<td>Author:</td>
<td>Emily Hsiao [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Emily Hsiao &lt;ehsiao@utexas.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-20 23:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='a_b_hat'>
Helper function
</h2><span id='topic+a_b_hat'></span>

<h3>Description</h3>

<p>Helper function for monotonicity test
</p>


<h3>Usage</h3>

<pre><code class='language-R'>a_b_hat(r, s, X, Y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="a_b_hat_+3A_r">r</code></td>
<td>

<p>Index to start summation.
</p>
</td></tr>
<tr><td><code id="a_b_hat_+3A_s">s</code></td>
<td>

<p>Index to end summation.
</p>
</td></tr>
<tr><td><code id="a_b_hat_+3A_x">X</code></td>
<td>

<p>Vector of X values.
</p>
</td></tr>
<tr><td><code id="a_b_hat_+3A_y">Y</code></td>
<td>

<p>Vector of Y values.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>a_hat</code></td>
<td>
<p>Numeric value of a_hat</p>
</td></tr>
<tr><td><code>b_hat</code></td>
<td>
<p>Numeric value of b_hat</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='barrett_donald_cutoff'>
Helper function for stochastic dominance test
</h2><span id='topic+barrett_donald_cutoff'></span>

<h3>Description</h3>

<p>Rejection cutoff value for stochastic dominance value based on alpha level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>barrett_donald_cutoff(alpha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="barrett_donald_cutoff_+3A_alpha">alpha</code></td>
<td>

<p>Desired alpha level for stochastic dominance test.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Cutoff value for stochastic dominance test
</p>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='barrett_donald_p'>
Helper function for stochastic dominance test
</h2><span id='topic+barrett_donald_p'></span>

<h3>Description</h3>

<p>Calculates p-value of the stochastic dominance test
</p>


<h3>Usage</h3>

<pre><code class='language-R'>barrett_donald_p(statistic)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="barrett_donald_p_+3A_statistic">statistic</code></td>
<td>

<p>Test statistic calculated in stochastic dominance test
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>p-value of the test statistic
</p>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='calculate_bandwidth'>
Helper function for kernel smoother
</h2><span id='topic+calculate_bandwidth'></span>

<h3>Description</h3>

<p>Calculates the appropriate bandwidth for Nadaraya-Watson kernel smoother.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_bandwidth(s)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculate_bandwidth_+3A_s">s</code></td>
<td>

<p>Vector of surrogate values.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Desired bandwidth for kernel smoother.
</p>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='gaussian_kernel'>
Helper function for kernel smoother
</h2><span id='topic+gaussian_kernel'></span>

<h3>Description</h3>

<p>Gaussian kernel used for kernel smoother.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gaussian_kernel(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gaussian_kernel_+3A_x">x</code></td>
<td>

<p>x
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Gaussian kernel applied to x
</p>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='modified_S_stat'>
Helper function for non-negative residual treatment effect test.
</h2><span id='topic+modified_S_stat'></span>

<h3>Description</h3>

<p>Calculates the value of the test statistic in the NNR test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modified_S_stat(mu0_hat, mu1_hat, s0, y0, s1, y1, grid_x, boot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modified_S_stat_+3A_mu0_hat">mu0_hat</code></td>
<td>

<p>Kernel-smoothed estimate of <code class="reqn">\mu_0</code> function.
</p>
</td></tr>
<tr><td><code id="modified_S_stat_+3A_mu1_hat">mu1_hat</code></td>
<td>

<p>Kernel-smoothed estimate of <code class="reqn">\mu_1</code> function.
</p>
</td></tr>
<tr><td><code id="modified_S_stat_+3A_s0">s0</code></td>
<td>

<p>Vector of surrogate values in control group.
</p>
</td></tr>
<tr><td><code id="modified_S_stat_+3A_y0">y0</code></td>
<td>

<p>Vector of endpoint values in control group.
</p>
</td></tr>
<tr><td><code id="modified_S_stat_+3A_s1">s1</code></td>
<td>

<p>Vector of surrogate values in treatment group.
</p>
</td></tr>
<tr><td><code id="modified_S_stat_+3A_y1">y1</code></td>
<td>

<p>Vector of endpoing values in the treatment group.
</p>
</td></tr>
<tr><td><code id="modified_S_stat_+3A_grid_x">grid_x</code></td>
<td>

<p>Values of s over which supremum is calculated.
</p>
</td></tr>
<tr><td><code id="modified_S_stat_+3A_boot">boot</code></td>
<td>

<p>Whether this is a bootstrapped statistic or the test statistic. 
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>s_hat</code></td>
<td>
<p>Value of the test statistic</p>
</td></tr>
<tr><td><code>sup</code></td>
<td>
<p>Value of the supremum over grid_x</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='monotonicity_test'>
Monotonicity test
</h2><span id='topic+monotonicity_test'></span>

<h3>Description</h3>

<p>Runs the test of monotonicity for a regression function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>monotonicity_test(X, Y, h = NA, m = 5, bootstrap_n = 100, 
alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="monotonicity_test_+3A_x">X</code></td>
<td>

<p>Vector of X values.
</p>
</td></tr>
<tr><td><code id="monotonicity_test_+3A_y">Y</code></td>
<td>

<p>Vector of Y values.
</p>
</td></tr>
<tr><td><code id="monotonicity_test_+3A_h">h</code></td>
<td>

<p>Bandwidth for the kernel smoother.
</p>
</td></tr>
<tr><td><code id="monotonicity_test_+3A_m">m</code></td>
<td>

<p>Window size to calculate linear regression.
</p>
</td></tr>
<tr><td><code id="monotonicity_test_+3A_bootstrap_n">bootstrap_n</code></td>
<td>

<p>Desired number of bootstrap samples.
</p>
</td></tr>
<tr><td><code id="monotonicity_test_+3A_alpha">alpha</code></td>
<td>

<p>Desired alpha level of the test.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>T_m_value</code></td>
<td>
<p>Value of the test statistic.</p>
</td></tr>
<tr><td><code>p_val</code></td>
<td>
<p>p-value of test</p>
</td></tr>
<tr><td><code>reject</code></td>
<td>
<p>whether the test rejects the null</p>
</td></tr>
<tr><td><code>T_m_samples</code></td>
<td>
<p>Vector of bootstrapped values of test statistic</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>


<h3>References</h3>

<p>Hall, Peter, and Nancy E. Heckman. &quot;Testing for monotonicity of a regression mean by calibrating for linear functions.&quot; Annals of Statistics (2000): 20-39.
</p>

<hr>
<h2 id='nnr_test'>
Non-negative residual treatment effect function
</h2><span id='topic+nnr_test'></span>

<h3>Description</h3>

<p>Runs the test of non-negative residual treatment effect given two sets of surrogate and primary endpoint values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nnr_test(s0, y0, s1, y1, n_bootstrap = 200, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nnr_test_+3A_s0">s0</code></td>
<td>

<p>Vector of surrogate values in control group.
</p>
</td></tr>
<tr><td><code id="nnr_test_+3A_y0">y0</code></td>
<td>

<p>Vector of endpoint values in control group.
</p>
</td></tr>
<tr><td><code id="nnr_test_+3A_s1">s1</code></td>
<td>

<p>Vector of surrogate values in treatment group.
</p>
</td></tr>
<tr><td><code id="nnr_test_+3A_y1">y1</code></td>
<td>

<p>Vector of endpoint values in treatment group.
</p>
</td></tr>
<tr><td><code id="nnr_test_+3A_n_bootstrap">n_bootstrap</code></td>
<td>

<p>Desired number of bootstrap samples.
</p>
</td></tr>
<tr><td><code id="nnr_test_+3A_alpha">alpha</code></td>
<td>

<p>Desired alpha level of test.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>p_value</code></td>
<td>
<p>p-value of test.</p>
</td></tr>
<tr><td><code>reject</code></td>
<td>
<p>Whether the test rejects the null hypothesis.</p>
</td></tr>
<tr><td><code>s_hat</code></td>
<td>
<p>Calculated value of test statistic.</p>
</td></tr>
<tr><td><code>s_vec</code></td>
<td>
<p>Vector of bootstrapped values of test statistic.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>


<h3>References</h3>

<p>Hsiao et all 2024 (Under review)
</p>

<hr>
<h2 id='Q'>
Helper function for monotonicity test
</h2><span id='topic+Q'></span>

<h3>Description</h3>

<p>Helper function for monotonicity test; should not be called directly by user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Q(r, s, X)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Q_+3A_r">r</code></td>
<td>

<p>Index to start summation.
</p>
</td></tr>
<tr><td><code id="Q_+3A_s">s</code></td>
<td>

<p>Index to end summation.
</p>
</td></tr>
<tr><td><code id="Q_+3A_x">X</code></td>
<td>

<p>Vector of X values over which to sum.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Q
</p>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>


<h3>References</h3>

<p>Hall, Peter, and Nancy E. Heckman. &quot;Testing for monotonicity of a regression mean by calibrating for linear functions.&quot; Annals of Statistics (2000): 20-39.
</p>

<hr>
<h2 id='S'>
Helper function
</h2><span id='topic+S'></span>

<h3>Description</h3>

<p>Helper function for monotonicity test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>S(a, b, r, s, X, Y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="S_+3A_a">a</code></td>
<td>

<p>Value of a (regression coefficient)
</p>
</td></tr>
<tr><td><code id="S_+3A_b">b</code></td>
<td>

<p>Value of b (regression coefficient)
</p>
</td></tr>
<tr><td><code id="S_+3A_r">r</code></td>
<td>

<p>Index to start summation
</p>
</td></tr>
<tr><td><code id="S_+3A_s">s</code></td>
<td>

<p>Index to end summation
</p>
</td></tr>
<tr><td><code id="S_+3A_x">X</code></td>
<td>

<p>Vector of X values
</p>
</td></tr>
<tr><td><code id="S_+3A_y">Y</code></td>
<td>

<p>Vector of Y values
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Mean-squared error
</p>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='sd_test'>
Stochastic dominance test function
</h2><span id='topic+sd_test'></span>

<h3>Description</h3>

<p>Runs the test of stochastic dominance given two vectors of surrogate values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_test(s0, s1, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_test_+3A_s0">s0</code></td>
<td>

<p>Vector of surrogate values in control group.
</p>
</td></tr>
<tr><td><code id="sd_test_+3A_s1">s1</code></td>
<td>

<p>Vector of surrogate values in treatment group.
</p>
</td></tr>
<tr><td><code id="sd_test_+3A_alpha">alpha</code></td>
<td>

<p>Desired alpha level of hypothesis test.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>s_hat</code></td>
<td>
<p>Value of test statistic</p>
</td></tr>
<tr><td><code>p.value</code></td>
<td>
<p>p-value of test</p>
</td></tr>
<tr><td><code>reject</code></td>
<td>
<p>Rejection decision of test</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>


<h3>References</h3>

<p>Barrett, Garry F., and Stephen G. Donald. &quot;Consistent tests for stochastic dominance.&quot; Econometrica 71.1 (2003): 71-104.
</p>

<hr>
<h2 id='smoother_fitter'>
Helper function
</h2><span id='topic+smoother_fitter'></span>

<h3>Description</h3>

<p>Nadaraya-Watson kernel smoother
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smoother_fitter(X, Y, kernel = gaussian_kernel, h)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="smoother_fitter_+3A_x">X</code></td>
<td>

<p>Vector of X values 
</p>
</td></tr>
<tr><td><code id="smoother_fitter_+3A_y">Y</code></td>
<td>

<p>Vector of Y values
</p>
</td></tr>
<tr><td><code id="smoother_fitter_+3A_kernel">kernel</code></td>
<td>

<p>Kernel to use in the kernel smoother; defaults to Gaussian kernel
</p>
</td></tr>
<tr><td><code id="smoother_fitter_+3A_h">h</code></td>
<td>

<p>Bandwidth
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a function which is the smoothed function; input takes in an x value.
</p>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='T_m'>
Helper function for monotonicity test
</h2><span id='topic+T_m'></span>

<h3>Description</h3>

<p>Calculates the test statistic 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>T_m(m, X, Y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="T_m_+3A_m">m</code></td>
<td>

<p>m window size
</p>
</td></tr>
<tr><td><code id="T_m_+3A_x">X</code></td>
<td>

<p>Vector of X values
</p>
</td></tr>
<tr><td><code id="T_m_+3A_y">Y</code></td>
<td>

<p>Vector of Y values
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>stat</code></td>
<td>
<p>Value of the test statistic</p>
</td></tr>
<tr><td><code>stat_vals</code></td>
<td>
<p>Vector of statistics before taking maximum</p>
</td></tr>
<tr><td><code>b_vals</code></td>
<td>
<p>Values of b</p>
</td></tr>
<tr><td><code>Q_vals</code></td>
<td>
<p>Values of Q</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>

<hr>
<h2 id='test_assumptions'>
Test assumptions to prevent surrogate paradox
</h2><span id='topic+test_assumptions'></span>

<h3>Description</h3>

<p>Tests the assumptions necessary to prevent the surrogate paradox: stochastic dominance of
surrogate values in the treatment group over control group, monotonicity of the relationship 
between surrogate and primary endpoint in both treatment and control group, and non-negative
residual treatment effect of the treatment group over the control group. For computational efficiency, 
Version 2.0 of this package uses the monotonicity_test function from the MonotonicityTest package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_assumptions(s0 = NULL, y0 = NULL, s1 = NULL, y1 = NULL, trim = 0.95, 
alpha = 0.05, type = "all", all_results = TRUE, direction = "positive",  
monotonicity_bootstrap_n = 100, nnr_bootstrap_n = 200)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_assumptions_+3A_s0">s0</code></td>
<td>

<p>Vector of surrogate values in control group.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_y0">y0</code></td>
<td>

<p>Vector of primary endpoint values in control group.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_s1">s1</code></td>
<td>

<p>Vector of surrogate values in treatment group.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_y1">y1</code></td>
<td>

<p>Vector of primary endpoint values in treatment group.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_trim">trim</code></td>
<td>

<p>Proportion of data to keep after trimming the outliers. Defaults to 95%. 
Trims data by sorting by surrogate value and removing (1 - trim)/2 % of the
lowest and highest surrogate values with their corresponding primary endpoint
values.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_alpha">alpha</code></td>
<td>

<p>Desired alpha level of tests.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_type">type</code></td>
<td>

<p>Type of test to run. Defaults to &quot;all&quot;; possible inputs are &quot;sd&quot; (stochastic dominance),
&quot;monotonicity&quot; (monotonicity), and &quot;nnr&quot; (non-negative residual treatment effect).
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_all_results">all_results</code></td>
<td>

<p>TRUE or FALSE; return all outputs from hypothesis tests. Defaults to TRUE. 
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_direction">direction</code></td>
<td>

<p>Direction of the test. Defaults to &quot;positive&quot;, which tests that the treatment group stochastically dominates the control group, that <code class="reqn">\mu_0</code> and <code class="reqn">\mu_1</code> are monotonically increasing, and that <code class="reqn">\mu_0 \leq \mu_1 \forall s</code>. Parameter &quot;negative&quot; tests that the control group stochastically dominates the treatment group, that <code class="reqn">\mu_0</code> and <code class="reqn">\mu_1</code> are monotonically decreasing, and that <code class="reqn">\mu_1 \leq \mu_0 \forall s</code>.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_monotonicity_bootstrap_n">monotonicity_bootstrap_n</code></td>
<td>

<p>Number of bootstrap samples for monotonicity test.
</p>
</td></tr>
<tr><td><code id="test_assumptions_+3A_nnr_bootstrap_n">nnr_bootstrap_n</code></td>
<td>

<p>Number of bootstrap samples for nnr test.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>result</code></td>
<td>
<p>Table or string of results of the tests</p>
</td></tr>
<tr><td><code>sd_result</code></td>
<td>
<p>Detailed results of stochastic dominance test; only returned if all_results is TRUE</p>
</td></tr>
<tr><td><code>monotonicity0_result</code></td>
<td>
<p>Detailed results of monotonicity test in control group; only returned if all_results is TRUE</p>
</td></tr>
<tr><td><code>monotonicity1_result</code></td>
<td>
<p>Detailed results of monotonicity test in treatment group; only returned if all_results is TRUE</p>
</td></tr>
<tr><td><code>nnr_result</code></td>
<td>
<p>Detailed results of nnr test; only returned if all_results is TRUE</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emily Hsiao
</p>


<h3>References</h3>

<p>Barrett, Garry F., and Stephen G. Donald. &quot;Consistent tests for stochastic dominance.&quot; Econometrica 71.1 (2003): 71-104.
</p>
<p>Hall, Peter, and Nancy E. Heckman. &quot;Testing for monotonicity of a regression mean by calibrating for linear functions.&quot; Annals of Statistics (2000): 20-39.
</p>
<p>Hsiao, Tian, Parast. &quot;Avoiding the Surrogate Paradox: An Empirical Framework for Assessing Assumptions.&quot; 2025 (Under Review)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
m_c &lt;- function(s) 1 + 2 * s
m_t &lt;- function(s) 1 + 2 * s
    
s_c &lt;- rnorm(100, 3, 1)
y_c &lt;- sapply(s_c, function(s) rnorm(1, m_c(s), 1))
s_t &lt;- rnorm(100, 3, 1)
y_t &lt;- sapply(s_t, function(s) rnorm(1, m_t(s), 1))

test_assumptions(
s0 = s_c, y0 = y_t, s1 = s_t, y1 = y_t, type = "sd"
)


test_assumptions(
s0 = s_c, y0 = y_t, s1 = s_t, y1 = y_t, type = "all")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-GB"><head><title>Help for package librarian</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {librarian}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#browse_cran'><p>Search for CRAN packages by keyword/regex</p></a></li>
<li><a href='#check_attached'><p>Check if packages are attached</p></a></li>
<li><a href='#check_installed'><p>Check if packages are installed</p></a></li>
<li><a href='#check_pkg_status'><p>Check if packages are installed or attached</p></a></li>
<li><a href='#collapse_vec'><p>Collapse a vector</p></a></li>
<li><a href='#dots_is_empty'><p>Did the user pass arguments inside dots?</p></a></li>
<li><a href='#dots_length'><p>How many items are in dots?</p></a></li>
<li><a href='#dots1_is_pkglist'><p>Is the 1st 'dots' arg a character vector with length &gt; 1?</p></a></li>
<li><a href='#fuzzy_needle'><p>Turn a list of words into a fuzzy regex</p></a></li>
<li><a href='#is_valid_url'><p>Assert that a URL is complete and valid</p></a></li>
<li><a href='#lib_paths'><p>Changing and viewing the package search paths</p></a></li>
<li><a href='#lib_startup'><p>Set packages and library paths to automatically start-up with R</p></a></li>
<li><a href='#list_dependencies'><p>List the dependencies of selected packages</p></a></li>
<li><a href='#make_dirs'><p>Build a path, creating subfolders if needed</p></a></li>
<li><a href='#nse_dots'><p>Convert dots to package names</p></a></li>
<li><a href='#reshelf'><p>Detach and then reattach packages to the search path</p></a></li>
<li><a href='#sentence'><p>Keep the first sentence of a string.</p></a></li>
<li><a href='#shelf'><p>Attach packages to the search path, installing them from CRAN, GitHub, or Bioconductor if needed</p></a></li>
<li><a href='#shhh'><p>Suppresses console output, including printing</p></a></li>
<li><a href='#stock'><p>Install packages from CRAN, GitHub, or Bioconductor if needed/wanted</p></a></li>
<li><a href='#tell_user'><p>Messages for the user</p></a></li>
<li><a href='#unshelf'><p>Detach (unload) packages from the search path</p></a></li>
<li><a href='#wrap_text'><p>Produce a nicely-wrapped paragraph for console printing</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Install, Update, Load Packages from CRAN, 'GitHub', and
'Bioconductor' in One Step</td>
</tr>
<tr>
<td>Version:</td>
<td>1.8.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-07-12</td>
</tr>
<tr>
<td>Description:</td>
<td>Automatically install, update, and load 'CRAN', 'GitHub', and 'Bioconductor' 
    packages in a single function call. By accepting bare unquoted names for packages, 
    it's easy to add or remove packages from the list.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/DesiQuintans/librarian">https://github.com/DesiQuintans/librarian</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/DesiQuintans/librarian/issues">https://github.com/DesiQuintans/librarian/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>BiocManager, remotes, tools, utils</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-12 11:10:54 UTC; me</td>
</tr>
<tr>
<td>Author:</td>
<td>Desi Quintans [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Desi Quintans &lt;science@desiquintans.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-12 11:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='browse_cran'>Search for CRAN packages by keyword/regex</h2><span id='topic+browse_cran'></span>

<h3>Description</h3>

<p>Inspired by my mysterious inability to remember what the RColorBrewer package is
actually called. Lets you find relevant CRAN packages right from your terminal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browse_cran(query, fuzzy = FALSE, echo = TRUE, ignore.case = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="browse_cran_+3A_query">query</code></td>
<td>
<p>(Character) A string to <code>grep()</code> for.</p>
</td></tr>
<tr><td><code id="browse_cran_+3A_fuzzy">fuzzy</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, enables fuzzy orderless matching. Every word in
<code>query</code> (i.e. every group of characters separated with a space) will be wrapped
with a lookaround <code style="white-space: pre;">&#8288;(?=*KEYWORD)&#8288;</code>. This will match keywords regardless
of the order in which those words appear.</p>
</td></tr>
<tr><td><code id="browse_cran_+3A_echo">echo</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, print the results to the console.</p>
</td></tr>
<tr><td><code id="browse_cran_+3A_ignore.case">ignore.case</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, ignore upper/lowercase differences while
searching.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>browse_cran()</code> is run for the first time in a new session, it will
take about 6-12 seconds to download and cache CRAN data. This only happens once
per session; subsequent calls will use the cached copy.
</p>


<h3>Value</h3>

<p>Invisibly returns a dataframe of the packages that matched the query
together with their descriptions. Prints results to the console.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
browse_cran("colorbrewer")  # Search by keyword

#&gt; RColorBrewer 
#&gt;     Provides color schemes for maps (and other graphics) designed by Cynthia 
#&gt;     Brewer as described at http://colorbrewer2.org 
#&gt; 
#&gt; Redmonder 
#&gt;     Provide color schemes for maps (and other graphics) based on the color 
#&gt;     palettes of several Microsoft(r) products.


browse_cran("zero-inflat.*?(abund|count)")  # Search by regular expression

#&gt; hurdlr 
#&gt;     When considering count data, it is often the case that many more zero 
#&gt;     counts than would be expected of some given distribution are observed.

# And five other matches...


browse_cran("network twitter api", fuzzy = TRUE)  # Order-agnostic (fuzzy) search

#&gt; RKlout 
#&gt;     An interface of R to Klout API v2.


</code></pre>

<hr>
<h2 id='check_attached'>Check if packages are attached</h2><span id='topic+check_attached'></span>

<h3>Description</h3>

<p>Check if packages are attached
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_attached(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_attached_+3A_...">...</code></td>
<td>
<p>(Dots) Package names as bare names, strings, or a character vector.
If left empty, lists all attached packages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>dots</code> is empty, a character vector of all attached packages.
Otherwise, return a named logical vector where <code>TRUE</code> means the package
is attached
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
check_attached()

#&gt;   [1] "librarian" "testthat"  "magrittr"  "stats" ...

check_attached(c("utils", "stats"))

#&gt; utils stats 
#&gt; TRUE  TRUE 

check_attached("datasets", "base", fakepkg)

#&gt; datasets     base  fakepkg 
#&gt;     TRUE     TRUE    FALSE 

## End(Not run)

</code></pre>

<hr>
<h2 id='check_installed'>Check if packages are installed</h2><span id='topic+check_installed'></span>

<h3>Description</h3>

<p>Check if packages are installed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_installed(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_installed_+3A_...">...</code></td>
<td>
<p>(Dots) Package names as bare names, strings, or a character vector.
If left empty, lists all installed packages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>dots</code> is empty, a character vector of all installed packages.
Otherwise, return a named logical vector where <code>TRUE</code> means the package
is installed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
check_installed()

#&gt;   [1] "addinslist"  "antiword" " ape"  "assertthat"  ...

check_installed(c("utils", "stats"))

#&gt; utils stats 
#&gt; TRUE  TRUE 

check_installed("datasets", "base", fakepkg)

#&gt; datasets     base  fakepkg 
#&gt;     TRUE     TRUE    FALSE 

## End(Not run)

</code></pre>

<hr>
<h2 id='check_pkg_status'>Check if packages are installed or attached</h2><span id='topic+check_pkg_status'></span>

<h3>Description</h3>

<p>Check if packages are installed or attached
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_pkg_status(..., status, use_list = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_pkg_status_+3A_...">...</code></td>
<td>
<p>(Dots) Package names as bare names, strings, or a vector of strings.
If left blank, returns a list of all packages that are installed/attached
depending on the value of <code>status</code>.</p>
</td></tr>
<tr><td><code id="check_pkg_status_+3A_status">status</code></td>
<td>
<p>(Character) <code>"installed"</code> checks if packages are installed.
<code>"attached"</code> checks if packages are currently attached.</p>
</td></tr>
<tr><td><code id="check_pkg_status_+3A_use_list">use_list</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, a character vector of package names was
passed in <code>..1</code>, so use that as the results list. This is for programming
use; <code>nse_dots()</code> already detects if a char vector of length &gt; 1 is in
<code>..1</code> and uses it as the package list automatically, but it does not do
that for char vectors of length 1 because the user can offer a mix of names
and strings to <code>...</code> as a convenience.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>dots</code> is empty, a character vector of package names. Otherwise,
return a named logical vector where <code>TRUE</code> means the package is installed
or attached, depending on the value of <code>status</code>.
</p>

<hr>
<h2 id='collapse_vec'>Collapse a vector</h2><span id='topic+collapse_vec'></span>

<h3>Description</h3>

<p>I use this internally for turning a vector of package names into a string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collapse_vec(..., wrap = "'", collapse = ", ", unique = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="collapse_vec_+3A_...">...</code></td>
<td>
<p>(...) Vectors that will be concatenated and coerced to Character.</p>
</td></tr>
<tr><td><code id="collapse_vec_+3A_wrap">wrap</code></td>
<td>
<p>(Character) Placed at the left and right sides of each vector element.</p>
</td></tr>
<tr><td><code id="collapse_vec_+3A_collapse">collapse</code></td>
<td>
<p>(Character) Placed between each element of the original vector(s).</p>
</td></tr>
<tr><td><code id="collapse_vec_+3A_unique">unique</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, duplicate entries in <code>...</code> will be removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
collapse_vec(month.abb)
#&gt; [1] "'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'"

## End(Not run)

</code></pre>

<hr>
<h2 id='dots_is_empty'>Did the user pass arguments inside dots?</h2><span id='topic+dots_is_empty'></span>

<h3>Description</h3>

<p>Did the user pass arguments inside dots?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dots_is_empty(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dots_is_empty_+3A_...">...</code></td>
<td>
<p>(Dots)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> (dots is empty) or <code>FALSE</code> (dots is not empty).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
is_dots_empty(package, names, here)

#&gt; [1] FALSE

## End(Not run)

</code></pre>

<hr>
<h2 id='dots_length'>How many items are in dots?</h2><span id='topic+dots_length'></span>

<h3>Description</h3>

<p>How many items are in dots?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dots_length(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dots_length_+3A_...">...</code></td>
<td>
<p>(Dots)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dots_length(package, names, here)

#&gt; [1] 3

## End(Not run)

</code></pre>

<hr>
<h2 id='dots1_is_pkglist'>Is the 1st 'dots' arg a character vector with length &gt; 1?</h2><span id='topic+dots1_is_pkglist'></span>

<h3>Description</h3>

<p>Is the 1st 'dots' arg a character vector with length &gt; 1?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dots1_is_pkglist(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dots1_is_pkglist_+3A_...">...</code></td>
<td>
<p>(Dots)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if <code>..1</code> is a vector or list with length &gt; 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dots1_is_pkglist()

#&gt; [1] FALSE

dots1_is_pkglist("hello", "hey", "hi")

#&gt; [1] FALSE

dots1_is_pkglist(c("hello", "hey"), "hi")

#&gt; [1] TRUE

dots1_is_pkglist(c(hello, hey), "hi")

#&gt; [1] FALSE

# A common programming scenario:
pkg_list &lt;- c("only_one_package")
dots1_is_pkglist(pkg_list)

#&gt; [1] TRUE

## End(Not run)

</code></pre>

<hr>
<h2 id='fuzzy_needle'>Turn a list of words into a fuzzy regex</h2><span id='topic+fuzzy_needle'></span>

<h3>Description</h3>

<p>A fuzzy regex is one that will match search terms in any order by using PERL 
lookaround. This is very slow, but often worth the cost to get more complete
results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuzzy_needle(vec)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fuzzy_needle_+3A_vec">vec</code></td>
<td>
<p>(Character) A string containing space-separated keywords to search for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string where each word has been wrapped as a lookaround term.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fuzzy_needle("network centrality")
#&gt; [1] "(?=.*network)(?=.*centrality)"

## End(Not run)
</code></pre>

<hr>
<h2 id='is_valid_url'>Assert that a URL is complete and valid</h2><span id='topic+is_valid_url'></span>

<h3>Description</h3>

<p>Assert that a URL is complete and valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valid_url(string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_valid_url_+3A_string">string</code></td>
<td>
<p>(Character) A URL to check.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The regex I use is &quot;@stephenhay&quot; from
<a href="https://mathiasbynens.be/demo/url-regex">https://mathiasbynens.be/demo/url-regex</a> because it's the shortest regex that
matches every CRAN mirror at <a href="https://cran.r-project.org/mirrors.html">https://cran.r-project.org/mirrors.html</a>.
</p>


<h3>Value</h3>

<p>A logical value, <code>TRUE</code> if the URL is valid, <code>FALSE</code> if otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
is_valid_url("http://rstudio.com")

## End(Not run)

</code></pre>

<hr>
<h2 id='lib_paths'>Changing and viewing the package search paths</h2><span id='topic+lib_paths'></span>

<h3>Description</h3>

<p>View and edit the list of folders that R will look inside when trying to find a
package. Add an existing folder, create and add a new folder, or shuffle a folder to
the front of the list so that it is used as the default installation location for new
packages in the current session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lib_paths(path, make_path = TRUE, ask = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lib_paths_+3A_path">path</code></td>
<td>
<p>(Character, or omit) A path to add to the library search path. Can be an
absolute or relative path. If <code>path</code> has more than one element, only the first
one will be kept. Tilde expansion is performed on the input, but wildcard expansion
(globbing) is not. If <code>path</code> is omitted, return the current library search path.</p>
</td></tr>
<tr><td><code id="lib_paths_+3A_make_path">make_path</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, create <code>path</code>'s directory structure if it doesn't
exist.</p>
</td></tr>
<tr><td><code id="lib_paths_+3A_ask">ask</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, ask before creating <code>path</code>'s directory structure if
<code>make_path = TRUE</code>. Ignored if <code>make_path = FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the folders on the library search path. If <code>path</code> was not
omitted, it will be the first element.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lib_paths()

#&gt; [1] "D:/R/R-3.5.2/library"

lib_paths(file.path(tempdir(), "newlibraryfolder"), ask = FALSE)

#&gt; [1] "C:/Users/.../Temp/Rtmp0Qbvgo/newlibraryfolder"
#&gt; [2] "D:/R/R-3.5.2/library"


</code></pre>

<hr>
<h2 id='lib_startup'>Set packages and library paths to automatically start-up with R</h2><span id='topic+lib_startup'></span>

<h3>Description</h3>

<p>This function tells R to load packages and library folders at the start of every
session (or on a per-project basis). It's best to keep this auto-load list to a
minimum so that you don't forget to explicitly install/attach packages in scripts
that need them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lib_startup(..., lib = lib_paths(), global = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lib_startup_+3A_...">...</code></td>
<td>
<p>(Names) Packages as bare names. For packages that come from GitHub, you can
keep the username/package format, or omit the username and provide just the package
name. If you leave <code>...</code> blank, R will only load its default packages (see Details).</p>
</td></tr>
<tr><td><code id="lib_startup_+3A_lib">lib</code></td>
<td>
<p>(Character) The path where packages are installed. Can be an
absolute or relative path. If <code>path</code> has more than one element, only the first
one will be kept. Tilde expansion is performed on the input, but wildcard expansion
(globbing) is not. Defaults to the current library search path.</p>
</td></tr>
<tr><td><code id="lib_startup_+3A_global">global</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, write these settings to a .Rprofile file in the home
directory (on Windows, the My Documents folder). If <code>FALSE</code>, write them to a
.Rprofile file that is in the current directory (i.e. the RStudio project's folder,
or the current working directory). See Details for more.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>R's startup order is mentioned in <code>?Startup</code>, but briefly:
</p>

<ol>
<li><p> R tries to load the environmental variables file (Renviron.site)
</p>
</li>
<li><p> R tries to load the site-wide profile (Rprofile.site)
</p>
</li>
<li><p> R tries to load the user profile (.Rprofile), first in the current directory, and
then in the user's home directory (on Windows, the My Documents folder).
<strong>Only one of these files is sourced into the workspace.</strong>
</p>
</li></ol>

<p>Omitting <code>...</code> makes R load only its default packages. If these are not set in an
environmental variable (<code>R_DEFAULT_PACKAGES</code>), then R will default to loading these
packages: datasets, utils, grDevices, graphics, stats, and methods.
</p>


<h3>Value</h3>

<p>A message listing the values that were written to the .Rprofile file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#&gt; lib_startup(librarian, magrittr, lib = "C:/Dropbox/My R Library")


</code></pre>

<hr>
<h2 id='list_dependencies'>List the dependencies of selected packages</h2><span id='topic+list_dependencies'></span>

<h3>Description</h3>

<p>List the dependencies of selected packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_dependencies(of_pkgs, which = c("Depends", "Imports"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_dependencies_+3A_of_pkgs">of_pkgs</code></td>
<td>
<p>(Character) Packages whose dependencies will be found.</p>
</td></tr>
<tr><td><code id="list_dependencies_+3A_which">which</code></td>
<td>
<p>(Character) The types of dependencies to find.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of package names. Note that all dependencies of 
all requested packages will be placed into the one vector.
</p>

<hr>
<h2 id='make_dirs'>Build a path, creating subfolders if needed</h2><span id='topic+make_dirs'></span>

<h3>Description</h3>

<p>Whereas <code>base::file.path()</code> only concatenates strings to build a path, <code>make_dirs()</code>
<em>also</em> makes sure those folders exist.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_dirs(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_dirs_+3A_...">...</code></td>
<td>
<p>(Character) Arguments to send to <code>file.path()</code>. You can provide a complete
path as a single string, or incrementally build a path with many strings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(Character) A file path. Automatically adds trailing slashes if required.
</p>


<h3>Authors</h3>


<ul>
<li><p> Desi Quintans (<a href="http://www.desiquintans.com">http://www.desiquintans.com</a>)
</p>
</li></ul>



<h3>Source</h3>


<ul>
<li><p> Desiderata package (<a href="https://github.com/DesiQuintans/desiderata">https://github.com/DesiQuintans/desiderata</a>)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
make_dirs(tempdir(), "newfolder")

#&gt; [1] "C:/Users/.../Temp/RtmpSwZA8X/newfolder"

## End(Not run)

</code></pre>

<hr>
<h2 id='nse_dots'>Convert dots to package names</h2><span id='topic+nse_dots'></span>

<h3>Description</h3>

<p>Convert dots to package names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nse_dots(..., keep_user = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nse_dots_+3A_...">...</code></td>
<td>
<p>(Dots) Package names provided as bare names or strings (of length 1).
If a character vector is provided as the first argument, it will be used
and all other arguments in dots will be ignored.</p>
</td></tr>
<tr><td><code id="nse_dots_+3A_keep_user">keep_user</code></td>
<td>
<p>(Logical) If <code>FALSE</code>, omit the username from a GitHub package reference.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nse_dots(dplyr, DesiQuintans/desiderata, keep_user = FALSE)

#&gt; [1] "dplyr"   "desiderata"

nse_dots(dplyr, DesiQuintans/desiderata, keep_user = TRUE)

#&gt; [1] "dplyr"   "DesiQuintans/desiderata"

## End(Not run)

</code></pre>

<hr>
<h2 id='reshelf'>Detach and then reattach packages to the search path</h2><span id='topic+reshelf'></span>

<h3>Description</h3>

<p>Convenience shortcut for force-<code>unshelf</code>ing packages and then <code>shelf</code>ing them again.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reshelf(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reshelf_+3A_...">...</code></td>
<td>
<p>(Names) Packages as bare names. For packages that come from GitHub, you can
keep the username/package format, or omit the username and provide just the package
name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns a named logical vector, where the names are the packages
requested in <code>...</code> and <code>TRUE</code> means that the package was successfully attached.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
reshelf(datasets)

# reshelf() returns invisibly; bind its output to a variable or access the .Last.value.

print(.Last.value)

#&gt; datasets 
#&gt;     TRUE


</code></pre>

<hr>
<h2 id='sentence'>Keep the first sentence of a string.</h2><span id='topic+sentence'></span>

<h3>Description</h3>

<p>Keep the first sentence of a string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sentence(string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sentence_+3A_string">string</code></td>
<td>
<p>(Character) A string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The string with only the first sentence.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sentence("This is a sentence. And this is another sentence.")

#&gt; [1] "This is a sentence."

sentence("This is just one sentence.")

#&gt; [1] "This is just one sentence."

sentence("Is this a sentence? Or is this one. Maybe this one! What if there are lots of sentences?")

#&gt; [1] "Is this a sentence?

## End(Not run)

</code></pre>

<hr>
<h2 id='shelf'>Attach packages to the search path, installing them from CRAN, GitHub, or Bioconductor if needed</h2><span id='topic+shelf'></span>

<h3>Description</h3>

<p>Attach packages to the search path, installing them from CRAN, GitHub, or Bioconductor if needed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shelf(
  ...,
  lib = NULL,
  update_all = FALSE,
  quiet = FALSE,
  ask = TRUE,
  cran_repo = getOption("repos"),
  bioc_repo = character()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shelf_+3A_...">...</code></td>
<td>
<p>(Names) Packages as bare names. If the package is from GitHub,
include both the username and package name as UserName/package (see examples).</p>
</td></tr>
<tr><td><code id="shelf_+3A_lib">lib</code></td>
<td>
<p>(Character) By R convention, packages are installed to the first
folder in your library search path (<code>lib_paths()</code>). Here, you can set a
specific folder to install new packages to instead. If the folder doesn't exist,
you will be prompted to create it if <code>ask = TRUE</code>, otherwise it will be silently
created. Can be an absolute or relative path. Tilde expansion is performed on the
input, but wildcard expansion (globbing) is not. If <code>lib</code> has more than one element,
only the first one will be kept. See the 'Details' section below for more information.</p>
</td></tr>
<tr><td><code id="shelf_+3A_update_all">update_all</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, the packages will be re-installed even if they
are already in your library.</p>
</td></tr>
<tr><td><code id="shelf_+3A_quiet">quiet</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, suppresses most warnings and messages.</p>
</td></tr>
<tr><td><code id="shelf_+3A_ask">ask</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, and <code>lib</code> points to a folder that doesn't exist, ask
before creating the folder. If <code>FALSE</code>, the folder will be created silently.</p>
</td></tr>
<tr><td><code id="shelf_+3A_cran_repo">cran_repo</code></td>
<td>
<p>(Character) In RStudio, a default CRAN repo can be set via
<em>Options &gt; Packages &gt; Default CRAN Mirror</em>). Otherwise, provide the URL to CRAN or
one of its mirrors. If an invalid URL is given, defaults to https://cran.r-project.org.</p>
</td></tr>
<tr><td><code id="shelf_+3A_bioc_repo">bioc_repo</code></td>
<td>
<p>(Character) If you use Bioconductor, you can set the repo URLs for it here.
Defaults to Bioconductor's defaults (view them with <code>BiocInstaller::biocinstallRepos()</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You may choose to organise your library into folders to hold packages for different
tasks or projects. If you specify a <code>lib</code> folder, it will be created (if needed) and
attached to the package search path. R will look for packages by working through the
package search path in order. You can view the folders that are on this path by
calling <code>lib_paths()</code> with no arguments.
</p>
<p>If you specify a new <code>lib</code> and use the argument <code>update_all = TRUE</code> to force an
already-installed package to reinstall, a new copy of that package will be made in
<code>lib</code> and then loaded from there. This means that you can potentially have several
copies of the same package across many folders on your machine, each a different
version. This allows you to maintain a different library folder for different projects,
so that updated packages in Project B will not affect the package versions you rely on
for Project A.
</p>


<h3>Value</h3>

<p>Invisibly returns a named logical vector, where the names are the packages
requested in <code>...</code> and <code>TRUE</code> means that the package was successfully installed
and attached.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
shelf(fortunes, DesiQuintans/emptyRpackage, cowsay, lib = tempdir(), update_all = TRUE)

# shelf() returns invisibly; bind its output to a variable or access the .Last.value.

print(.Last.value)

#&gt; fortunes emptyRpackage        cowsay 
#&gt;     TRUE          TRUE          TRUE 


</code></pre>

<hr>
<h2 id='shhh'>Suppresses console output, including printing</h2><span id='topic+shhh'></span>

<h3>Description</h3>

<p>This is copied from my personal package, <code>desiderata</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shhh(expr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shhh_+3A_expr">expr</code></td>
<td>
<p>(Expression) An expression to evaluate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Evaluates <code>expr</code>.
</p>

<hr>
<h2 id='stock'>Install packages from CRAN, GitHub, or Bioconductor if needed/wanted</h2><span id='topic+stock'></span>

<h3>Description</h3>

<p>Install packages from CRAN, GitHub, or Bioconductor if needed/wanted
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stock(
  ...,
  lib = NULL,
  update_all = FALSE,
  quiet = FALSE,
  ask = TRUE,
  cran_repo = getOption("repos"),
  bioc_repo = character()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stock_+3A_...">...</code></td>
<td>
<p>(Names) Packages as bare names. If the package is from GitHub,
include both the username and package name as UserName/package (see examples).</p>
</td></tr>
<tr><td><code id="stock_+3A_lib">lib</code></td>
<td>
<p>(Character) By R convention, packages are installed to the first
folder in your library search path (<code>lib_paths()</code>). Here, you can set a
specific folder to install new packages to instead. If the folder doesn't exist,
you will be prompted to create it if <code>ask = TRUE</code>, otherwise it will be silently
created. Can be an absolute or relative path. Tilde expansion is performed on the
input, but wildcard expansion (globbing) is not. If <code>lib</code> has more than one element,
only the first one will be kept. See the 'Details' section below for more information.</p>
</td></tr>
<tr><td><code id="stock_+3A_update_all">update_all</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, the packages will be re-installed even if they
are already in your library.</p>
</td></tr>
<tr><td><code id="stock_+3A_quiet">quiet</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, suppresses most warnings and messages.</p>
</td></tr>
<tr><td><code id="stock_+3A_ask">ask</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, and <code>lib</code> points to a folder that doesn't exist, ask
before creating the folder. If <code>FALSE</code>, the folder will be created silently.</p>
</td></tr>
<tr><td><code id="stock_+3A_cran_repo">cran_repo</code></td>
<td>
<p>(Character) In RStudio, a default CRAN repo can be set via
<em>Options &gt; Packages &gt; Default CRAN Mirror</em>). Otherwise, provide the URL to CRAN or
one of its mirrors. If an invalid URL is given, defaults to https://cran.r-project.org.</p>
</td></tr>
<tr><td><code id="stock_+3A_bioc_repo">bioc_repo</code></td>
<td>
<p>(Character) If you use Bioconductor, you can set the repo URLs for it here.
Defaults to Bioconductor's defaults (view them with <code>BiocInstaller::biocinstallRepos()</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You may choose to organise your library into folders to hold packages for different
tasks or projects. If you specify a <code>lib</code> folder, it will be created (if needed) and
attached to the package search path. R will look for packages by working through the
package search path in order. You can view the folders that are on this path by
calling <code>lib_paths()</code> with no arguments.
</p>
<p>If you specify a new <code>lib</code> and use the argument <code>update_all = TRUE</code> to force an
already-installed package to reinstall, a new copy of that package will be made in
<code>lib</code> and then loaded from there. This means that you can potentially have several
copies of the same package across many folders on your machine, each a different
version. This allows you to maintain a different library folder for different projects,
so that updated packages in Project B will not affect the package versions you rely on
for Project A.
</p>


<h3>Value</h3>

<p>Invisibly returns a named logical vector, where the names are the packages
requested in <code>...</code> and <code>TRUE</code> means that the package was successfully installed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
stock(fortunes, DesiQuintans/emptyRpackage, cowsay, lib = tempdir(), update_all = TRUE)

# shelf() returns invisibly; bind its output to a variable or access the .Last.value.

print(.Last.value)

#&gt; fortunes emptyRpackage        cowsay 
#&gt;     TRUE          TRUE          TRUE 

# And to confirm that they are installed but not attached:

check_attached(fortunes, DesiQuintans/emptyRpackage, cowsay)

#&gt; fortunes emptyRpackage        cowsay 
#&gt;    FALSE         FALSE         FALSE 



</code></pre>

<hr>
<h2 id='tell_user'>Messages for the user</h2><span id='topic+tell_user'></span>

<h3>Description</h3>

<p>Messages for the user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tell_user(message, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tell_user_+3A_message">message</code></td>
<td>
<p>(Character) An identifier string for a message.</p>
</td></tr>
<tr><td><code id="tell_user_+3A_...">...</code></td>
<td>
<p>(Dots) Data to pass into the message for <code>sprintf()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
message(tell_user("not allowed to make path", "C:/fakefolder"))

## End(Not run)

</code></pre>

<hr>
<h2 id='unshelf'>Detach (unload) packages from the search path</h2><span id='topic+unshelf'></span>

<h3>Description</h3>

<p>Packages can be detached by themselves, with their dependencies safely (i.e. as
long as those dependencies are not being used by other packages), or with their
dependencies unsafely (regardless of whether those dependencies are still needed).
All non-default packages can be detached at once too, including Librarian itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unshelf(
  ...,
  everything = FALSE,
  also_depends = FALSE,
  safe = TRUE,
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unshelf_+3A_...">...</code></td>
<td>
<p>(Names) Packages as bare names. For packages that come from GitHub, you can
keep the username/package format, or omit the username and provide just the package
name.</p>
</td></tr>
<tr><td><code id="unshelf_+3A_everything">everything</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, detach every non-default package including
librarian. Any names in <code>...</code> are ignored. The default packages can be listed
with <code>getOption("defaultPackages")</code>.</p>
</td></tr>
<tr><td><code id="unshelf_+3A_also_depends">also_depends</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, also detach the dependencies of the packages
listed in <code>...</code>. This can be slow.</p>
</td></tr>
<tr><td><code id="unshelf_+3A_safe">safe</code></td>
<td>
<p>(Logical) If <code>TRUE</code>, packages won't be detached if they are needed by other
packages that are <strong>not</strong> listed in <code>...</code>.</p>
</td></tr>
<tr><td><code id="unshelf_+3A_quiet">quiet</code></td>
<td>
<p>(Logical) If <code>FALSE</code>, show a message when packages can't be detached
because they are still needed by other packages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns a named logical vector, where the names are the packages
and <code>TRUE</code> means that the package was successfully detached.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# These are the same:

#&gt; unshelf(janitor, desiderata, purrr)
#&gt; unshelf(janitor, DesiQuintans/desiderata, purrr)

# unshelf() returns invisibly; bind its output to a variable or access the .Last.value.

#&gt; print(.Last.value)

#&gt; desiderata    janitor      purrr 
#&gt;       TRUE       TRUE       TRUE 

#&gt; unshelf(everything = TRUE)
#&gt; print(.Last.value)

#&gt; librarian testthat
#&gt; TRUE      TRUE


</code></pre>

<hr>
<h2 id='wrap_text'>Produce a nicely-wrapped paragraph for console printing</h2><span id='topic+wrap_text'></span>

<h3>Description</h3>

<p>Wrapping text needs to be done separately from actually printing it with
<code>stop</code> or <code>warning</code> or <code>message</code>. This is because these functions typically
also print some information about the environment where they were called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrap_text(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wrap_text_+3A_...">...</code></td>
<td>
<p>Vectors to be coerced to Character.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The text in <code>...</code> will be collapsed and wrapped.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
wrapped &lt;- 
wrap_text(
    "Lorem ipsum dolor sit amet, ornare justo condimentum",
    "et sit lorem! Himenaeos, vel et sodales sit.",
    "Eu nulla. Magna ullamcorper nascetur placerat platea.\n\n",
    "Eleifend semper velit sed aliquam, ut ligula non commodo.")

cat(wrapped)

#&gt;  Lorem ipsum dolor sit amet, ornare justo condimentum et sit lorem! 
#&gt;  Himenaeos, vel et sodales sit. Eu nulla. Magna ullamcorper 
#&gt;  nascetur placerat platea. 
#&gt;
#&gt;  Eleifend semper velit sed aliquam, ut ligula non commodo.

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package studentlife</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {studentlife}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_block_labels'><p>add_block_labels</p></a></li>
<li><a href='#download_studentlife'><p>download_studentlife</p></a></li>
<li><a href='#get_EMA_questions'><p>get_EMA_questions</p></a></li>
<li><a href='#get_schema'><p>get_schema</p></a></li>
<li><a href='#get_table'><p>get_table</p></a></li>
<li><a href='#is_dateless_SL_tibble'><p>is_dateless_SL_tibble</p></a></li>
<li><a href='#is_dateonly_SL_tibble'><p>is_dateonly_SL_tibble</p></a></li>
<li><a href='#is_interval_SL_tibble'><p>is_interval_SL_tibble</p></a></li>
<li><a href='#is_reg_SL_tibble'><p>is_reg_SL_tibble</p></a></li>
<li><a href='#is_SL_tibble'><p>is_SL_tibble</p></a></li>
<li><a href='#is_timestamp_SL_tibble'><p>is_timestamp_SL_tibble</p></a></li>
<li><a href='#load_SL_tibble'><p>load_SL_tibble</p></a></li>
<li><a href='#PAM_categorise'><p>PAM_categorise</p></a></li>
<li><a href='#regularise_time'><p>regularise_time</p></a></li>
<li><a href='#response_hour_hist'><p>response_hour_hist</p></a></li>
<li><a href='#SL_tables'><p>List of all the tables available in the StudentLife dataset.</p></a></li>
<li><a href='#studentlife'><p>Tidy Handling and Navigation of the Student-Life Dataset</p></a></li>
<li><a href='#vis_NAs'><p>vis_NAs</p></a></li>
<li><a href='#vis_response_counts'><p>vis_response_counts</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Frycast/studentlife">https://github.com/Frycast/studentlife</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Frycast/studentlife/issues">https://github.com/Frycast/studentlife/issues</a></td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tidy Handling and Navigation of the Student-Life Dataset</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Download, navigate and analyse the Student-Life dataset. 
    The Student-Life dataset contains passive and automatic sensing data 
    from the phones of a class of 48 Dartmouth college students. 
    It was collected over a 10 week term. Additionally, the dataset contains ecological 
    momentary assessment results along with pre-study and post-study mental  
    health surveys. The intended use is to assess 
    mental health, academic performance and behavioral trends. 
    The raw dataset and additional information is 
    available at <a href="https://studentlife.cs.dartmouth.edu/">https://studentlife.cs.dartmouth.edu/</a>.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>purrr (&ge; 0.3.2), readr (&ge; 1.3.1), tidyr (&ge; 0.8.3), dplyr
(&ge; 0.8.0.1), jsonlite (&ge; 1.6), tibble (&ge; 2.0.1), R.utils (&ge;
2.8.0), skimr (&ge; 1.0.7), visdat (&ge; 0.5.3), ggplot2 (&ge;
3.1.1), crayon (&ge; 1.3.4)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-11-01 03:40:56 UTC; DFryer</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Fryer <a href="https://orcid.org/0000-0001-6032-0522"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Hien Nguyen <a href="https://orcid.org/0000-0002-9958-432X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Pierre Orban [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Fryer &lt;d.fryer@latrobe.edu.au&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-01 05:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_block_labels'>add_block_labels</h2><span id='topic+add_block_labels'></span>

<h3>Description</h3>

<p>Classify observations from an <code>SL_tibble</code>
into block labels using available
date-time information. See more information
about &quot;blocks&quot; under the details section.
Daylight savings is ignored, and started on 31st March 2013.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_block_labels(
  tab,
  type = c("hour_in_day", "epoch", "day", "week", "weekday", "month", "date"),
  interval = "start",
  warning = TRUE,
  start_date = getOption("SL_start"),
  epoch_levels = getOption("SL_epoch_levels"),
  epoch_ubs = getOption("SL_epoch_ubs"),
  unsafe = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_block_labels_+3A_tab">tab</code></td>
<td>
<p>An <code>SL_tibble</code> as returned
by the function <code><a href="#topic+load_SL_tibble">load_SL_tibble</a></code>.</p>
</td></tr>
<tr><td><code id="add_block_labels_+3A_type">type</code></td>
<td>
<p>A character vector of block label types
to include. Can be one or more of &quot;epoch&quot;, &quot;day&quot;,
&quot;week&quot;, &quot;weekday&quot;, &quot;month&quot; and &quot;date&quot;. Any block label types that
are not inferrable from the available date-time data are ignored.</p>
</td></tr>
<tr><td><code id="add_block_labels_+3A_interval">interval</code></td>
<td>
<p>A character string that decides how block
membership is decided when <code>tab</code> is of class
<code>interval_SL_tibble</code>. Can be either &quot;start&quot;
(use <code>start_timestamp</code>),
&quot;end&quot; (use <code>end_timestamp</code>) or &quot;middle&quot; (use the midpoint between
<code>start_timestamp</code> and <code>end_timestamp</code>).</p>
</td></tr>
<tr><td><code id="add_block_labels_+3A_warning">warning</code></td>
<td>
<p>Logical. If <code>TRUE</code> then a warning is produced
whenever a block label type is not inferrable from the
available date-time data.</p>
</td></tr>
<tr><td><code id="add_block_labels_+3A_start_date">start_date</code></td>
<td>
<p>Date. The date that the StudentLife study started.</p>
</td></tr>
<tr><td><code id="add_block_labels_+3A_epoch_levels">epoch_levels</code></td>
<td>
<p>A character vector of epoch levels.</p>
</td></tr>
<tr><td><code id="add_block_labels_+3A_epoch_ubs">epoch_ubs</code></td>
<td>
<p>An integer vector that defines the hour that is
the upper boundary of each epoch.</p>
</td></tr>
<tr><td><code id="add_block_labels_+3A_unsafe">unsafe</code></td>
<td>
<p>A logical. Default is <code>FALSE</code>. If this is
set to <code>TRUE</code> then less checks will be performed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Block label types can be one or more of &quot;epoch&quot;
(giving labels morning, evening, afternoon and night),
&quot;day&quot; (giving number of days since the <code>start_date</code> of the
StudentLife study),
&quot;week&quot; (giving integer number of weeks since the first week of the
StudentLife study, rounded downs),
&quot;weekday&quot; (giving the day of the week),
&quot;month&quot; (giving integer number of months since the start of the
StudentLife study, rounded down) and &quot;date&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab &lt;- load_SL_tibble(
  loc = d, schema = "sensing", table = "activity", csv_nrows = 10)

b_tab &lt;- add_block_labels(tab)
b_tab


</code></pre>

<hr>
<h2 id='download_studentlife'>download_studentlife</h2><span id='topic+download_studentlife'></span>

<h3>Description</h3>

<p>Download the entire StudentLife dataset or
a smaller sample dataset for testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_studentlife(
  url = "dartmouth",
  location = ".",
  unzip = TRUE,
  untar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_studentlife_+3A_url">url</code></td>
<td>
<p>A character string. Either
&quot;rdata&quot; for the URL to the (more efficient)
RData format version hosted on Zenodo, or
&quot;dartmouth&quot; for the (original) Dartmouth URL, or
&quot;testdata&quot; for a small sample dataset. Otherwise
a full URL of your choice can be specified leading to
the StudentLife dataset as a <code>.tar.gz</code> file.</p>
</td></tr>
<tr><td><code id="download_studentlife_+3A_location">location</code></td>
<td>
<p>The destination path. If the path does
not exist it is created with <code><a href="base.html#topic+dir.create">dir.create</a></code></p>
</td></tr>
<tr><td><code id="download_studentlife_+3A_unzip">unzip</code></td>
<td>
<p>Logical. If <code>TRUE</code> then the
dataset will be unzipped with <code><a href="R.utils.html#topic+bunzip2">bunzip2</a></code>.
Leave as default unless you plan to do it manually.</p>
</td></tr>
<tr><td><code id="download_studentlife_+3A_untar">untar</code></td>
<td>
<p>Logical. If <code>TRUE</code> then the
dataset will be untarred with <code><a href="utils.html#topic+untar">untar</a></code>.
Leave as default unless you plan to do it manually.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>url = "rdata"</code> then data will be downloaded
from &lt;https://zenodo.org/record/3529253&gt;
If <code>url = "dartmouth"</code> then data will be downloaded
from &lt;https://studentlife.cs.dartmouth.edu/dataset/dataset.tar.bz2&gt;
If <code>url = "testdata"</code> then data will be downloaded
from the test data at the studentlife GitHub repository
&lt;https://github.com/frycast/studentlife&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

## Not run: 
## With menu
load_SL_tibble(location = d)

## End(Not run)

## Without menu
SL_tables
load_SL_tibble(schema = "EMA", table = "PAM", location = d)

</code></pre>

<hr>
<h2 id='get_EMA_questions'>get_EMA_questions</h2><span id='topic+get_EMA_questions'></span>

<h3>Description</h3>

<p>Get the EMA questions from a StudentLife tibble
whose schema is &quot;EMA&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_EMA_questions(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_EMA_questions_+3A_x">x</code></td>
<td>
<p>A StudentLife tibble whose schema is
EMA, as output by the function
<code><a href="#topic+load_SL_tibble">load_SL_tibble</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The EMA_questions attribute of <code>x</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

# Returns "PAM"
get_EMA_questions(tab_PAM)

</code></pre>

<hr>
<h2 id='get_schema'>get_schema</h2><span id='topic+get_schema'></span>

<h3>Description</h3>

<p>Retrieve the schema name from a StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_schema(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_schema_+3A_x">x</code></td>
<td>
<p>An object of class StudentLife tibble
(<code>SL_tbl</code>), as produced by the function
<code><a href="#topic+load_SL_tibble">load_SL_tibble</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string indicating the schema name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

# Returns "EMA"
get_schema(tab_PAM)

</code></pre>

<hr>
<h2 id='get_table'>get_table</h2><span id='topic+get_table'></span>

<h3>Description</h3>

<p>Retrieve the table name from a StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_+3A_x">x</code></td>
<td>
<p>An object of class StudentLife tibble
(<code>SL_tbl</code>), as produced by the function
<code><a href="#topic+load_SL_tibble">load_SL_tibble</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string indicating the table name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

# Returns "PAM"
get_table(tab_PAM)

</code></pre>

<hr>
<h2 id='is_dateless_SL_tibble'>is_dateless_SL_tibble</h2><span id='topic+is_dateless_SL_tibble'></span>

<h3>Description</h3>

<p>Confirm that an object is a
dateless StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dateless_SL_tibble(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dateless_SL_tibble_+3A_x">x</code></td>
<td>
<p>Any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_S &lt;- load_SL_tibble(
  schema = "survey", table = "BigFive", location = d)

# Returns TRUE
is_dateless_SL_tibble(tab_S)

</code></pre>

<hr>
<h2 id='is_dateonly_SL_tibble'>is_dateonly_SL_tibble</h2><span id='topic+is_dateonly_SL_tibble'></span>

<h3>Description</h3>

<p>Confirm that an object is a
date-only StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dateonly_SL_tibble(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dateonly_SL_tibble_+3A_x">x</code></td>
<td>
<p>Any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_DL &lt;- load_SL_tibble(
  schema = "education", table = "deadlines", location = d)

# Returns TRUE
is_dateonly_SL_tibble(tab_DL)

</code></pre>

<hr>
<h2 id='is_interval_SL_tibble'>is_interval_SL_tibble</h2><span id='topic+is_interval_SL_tibble'></span>

<h3>Description</h3>

<p>Confirm that an object is
an interval StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_interval_SL_tibble(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_interval_SL_tibble_+3A_x">x</code></td>
<td>
<p>Any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_con &lt;- load_SL_tibble(
  schema = "sensing", table = "conversation", location = d, csv_nrow = 10)

# Returns TRUE
is_interval_SL_tibble(tab_con)

</code></pre>

<hr>
<h2 id='is_reg_SL_tibble'>is_reg_SL_tibble</h2><span id='topic+is_reg_SL_tibble'></span>

<h3>Description</h3>

<p>Confirm that an object is a
regularised StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_reg_SL_tibble(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_reg_SL_tibble_+3A_x">x</code></td>
<td>
<p>Any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

reg_PAM &lt;- regularise_time(
  tab_PAM, blocks = c("day", "epoch"), m = mean(picture_idx, na.rm = TRUE))

# Returns TRUE
is_reg_SL_tibble(reg_PAM)

</code></pre>

<hr>
<h2 id='is_SL_tibble'>is_SL_tibble</h2><span id='topic+is_SL_tibble'></span>

<h3>Description</h3>

<p>Confirm that an object is a StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_SL_tibble(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_SL_tibble_+3A_x">x</code></td>
<td>
<p>Any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

# Returns TRUE
is_SL_tibble(tab_PAM)

</code></pre>

<hr>
<h2 id='is_timestamp_SL_tibble'>is_timestamp_SL_tibble</h2><span id='topic+is_timestamp_SL_tibble'></span>

<h3>Description</h3>

<p>Confirm that an object is a
timestamped StudentLife tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_timestamp_SL_tibble(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_timestamp_SL_tibble_+3A_x">x</code></td>
<td>
<p>Any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

# Returns TRUE
is_timestamp_SL_tibble(tab_PAM)

</code></pre>

<hr>
<h2 id='load_SL_tibble'>load_SL_tibble</h2><span id='topic+load_SL_tibble'></span>

<h3>Description</h3>

<p>Import a chosen StudentLife table as
a tibble. Leave <code>schema</code> and <code>table</code>
unspecified to choose interactively via a
menu. This function is only intended for use
with the studentlife dataset in it's original
format, with the original directory structure.
See the examples below for the recommended alternative approach
to loading tables when the RData format is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_SL_tibble(
  schema,
  table,
  location = ".",
  time_options = c("interval", "timestamp", "dateonly", "dateless"),
  vars,
  csv_nrows,
  datafolder = "dataset",
  uid_range = getOption("SL_uids")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_SL_tibble_+3A_schema">schema</code></td>
<td>
<p>A character string. The menu 1 choice. Leave
blank to choose interactively.</p>
</td></tr>
<tr><td><code id="load_SL_tibble_+3A_table">table</code></td>
<td>
<p>A character string. The menu 2 choice. Leave
blank to choose interactively.</p>
</td></tr>
<tr><td><code id="load_SL_tibble_+3A_location">location</code></td>
<td>
<p>The path to a copy of the StudentLife dataset.</p>
</td></tr>
<tr><td><code id="load_SL_tibble_+3A_time_options">time_options</code></td>
<td>
<p>A character vector specifying which
table types (out of &quot;interval&quot;, &quot;timestamp&quot;, &quot;dateonly&quot; and &quot;dateless&quot;)
to include in the menu. This allows you to restrict menu options
according to the amount of date-time information present in the data.
The default includes all data. Note
this parameter only has an effect when used with the interactive menu.</p>
</td></tr>
<tr><td><code id="load_SL_tibble_+3A_vars">vars</code></td>
<td>
<p>Character vector of variable
names to import for all students. Leave
blank and this will be chosen interactively
if necesssary. If <code>vars</code> contains
&quot;timestamp&quot; then effort will be made
to convert &quot;timestamp&quot; to appropriate
variable name(s) for the target table.</p>
</td></tr>
<tr><td><code id="load_SL_tibble_+3A_csv_nrows">csv_nrows</code></td>
<td>
<p>An integer specifying the number of rows to read
per student if the target is a csv. The largest files in StudentLife are csv
files, so this allows code testing with less overhead.</p>
</td></tr>
<tr><td><code id="load_SL_tibble_+3A_datafolder">datafolder</code></td>
<td>
<p>Specifies the subfolder of <code>location</code>
that contains the relevant data. This should normally
be left as the default.</p>
</td></tr>
<tr><td><code id="load_SL_tibble_+3A_uid_range">uid_range</code></td>
<td>
<p>An integer vector. The range of uids in
the StudentLife study.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>SL_tibble</code> is returned. These inherit
properties from class <code><a href="tibble.html#topic+tibble">tibble</a></code> and
class <code><a href="base.html#topic+data.frame">data.frame</a></code>.
Depending on the date-time information available, the object
may also be a <code>timestamp_SL_tibble</code>,
<code>interval_SL_tibble</code> or
<code>dateonly_SL_tibble</code> (which are all
subclasses of <code>SL_tibble</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example that uses RData format to efficiently
## download and load tables, as an alternative
## to using this function.
## Not run: 
d &lt;- tempdir()
download_studentlife(location = d, url = "rdata")

# Choose the schema and table from the list SL_tables:
SL_tables

# Example with activity table from sensing schema
schema &lt;- "sensing"
table &lt;- "activity"
act &lt;- readRDS(paste0(d, "/dataset_rds/", schema, "/", table, ".Rds"))
act

## End(Not run)

## Example that uses the studentlife dataset in
## its original format.

# Use url = "dartmouth" for the full original dataset
d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

## Not run: 
## With menu
load_SL_tibble(location = d)

## End(Not run)

## Without menu
SL_tables
PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

## Load less data for testing with less overhead
act &lt;- load_SL_tibble(schema = "sensing", table = "activity",
                     location = d, csv_nrows = 10)

## Not run: 
## Browse all tables with timestamps (non-interval)
load_SL_tibble(location = d, time_options = "timestamp")

## Browse all tables with intervals
load_SL_tibble(location = d, time_options = "interval")

## Browse all dateless tables
load_SL_tibble(location = d, time_options = "dateless")

## End(Not run)
</code></pre>

<hr>
<h2 id='PAM_categorise'>PAM_categorise</h2><span id='topic+PAM_categorise'></span>

<h3>Description</h3>

<p>Categorise Photographic Affect Meter (PAM) scores into
4 categories by either PAM Quadrant, Valence or Arousal
(or multiple of these).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PAM_categorise(
  tab,
  pam_name = "picture_idx",
  types = c("quadrant", "valence", "arousal")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PAM_categorise_+3A_tab">tab</code></td>
<td>
<p>A data.frame (or tibble) with a column representing
Photographic Affect Meter (PAM) score.</p>
</td></tr>
<tr><td><code id="PAM_categorise_+3A_pam_name">pam_name</code></td>
<td>
<p>Character. The name of the column
representing PAM.</p>
</td></tr>
<tr><td><code id="PAM_categorise_+3A_types">types</code></td>
<td>
<p>Character vector containing the categories,
one or more of &quot;quadrant&quot;, &quot;valence&quot; and &quot;arousal&quot; into
which to code PAM scores.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 4 Quadrant categories are as follows:
Quadrant 1: negative valence, low arousal.
Quadrant 2: negative valence, high arousal.
Quadrant 3: positive valence, low arousal.
Quadrant 4: positive valence, high arousal.
</p>
<p>Valence and arousal are traditionally
scores from -2 to 2,
measuring displeasure to pleasure, and
state of activation respectively. However,
here we map those scores to positive numbers
so (-2,-1,1,2) -&gt; (1,2,3,4).
</p>


<h3>Value</h3>

<p>The data.frame (or tibble) <code>tab</code> with extra columns
<code>pam_q</code>, <code>pam_v</code>, and <code>pam_a</code> for
quadrant, valence and arousal respectively.
</p>


<h3>References</h3>

<p>Pollak, J. P., Adams, P., &amp; Gay, G. (2011, May).
PAM: a photographic affect meter for frequent,
in situ measurement of affect. In Proceedings of
the SIGCHI conference on Human factors in
computing systems (pp. 725-734). ACM.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab &lt;- load_SL_tibble(
  loc = d, schema = "EMA", table = "PAM", csv_nrows = 10)

PAM_categorise(tab)

</code></pre>

<hr>
<h2 id='regularise_time'>regularise_time</h2><span id='topic+regularise_time'></span>

<h3>Description</h3>

<p>Transform an <code>SL_tibble</code> (as produced by
<code><a href="#topic+load_SL_tibble">load_SL_tibble</a></code>)
in such a way that the observations are aggregated in
equal length intervals called 'blocks' (for more
information on blocks see
<code><a href="#topic+add_block_labels">add_block_labels</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regularise_time(
  tab,
  ...,
  blocks = c("epoch", "day"),
  add_NAs = TRUE,
  unsafe = F,
  study_duration = getOption("SL_duration"),
  start_date = getOption("SL_start"),
  epoch_levels = getOption("SL_epoch_levels"),
  epoch_ubs = getOption("SL_epoch_ubs"),
  uid_range = getOption("SL_uids"),
  date_range = seq(from = start_date, by = 1, length.out = study_duration)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regularise_time_+3A_tab">tab</code></td>
<td>
<p>An <code>SL_tibble</code> as returned
by the function <code><a href="#topic+load_SL_tibble">load_SL_tibble</a></code>.
The <code>SL_tibble</code> must have some date-time information.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="dplyr.html#topic+summarise">summarise</a></code>,
used to aggregate values when multiple
observations are encountered in a block. Any columns
not specified here or under <code>blocks</code> will be dropped.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_blocks">blocks</code></td>
<td>
<p>A character vector naming one or more of the
block options &quot;hour_in_day&quot;, &quot;epoch&quot;, &quot;day&quot;, &quot;week&quot;, &quot;weekday&quot;,
&quot;month&quot; or &quot;date&quot;.
If not present as column names in
<code>tab</code>, an attempt will be made to infer the blocks from existing
time information with <code><a href="#topic+add_block_labels">add_block_labels</a></code>.
The returned <code>data.frame</code> will
have one observation (possibly <code>NA</code>) for each block.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_add_nas">add_NAs</code></td>
<td>
<p>A logical. If TRUE then NAs will be introduced
to fill missing blocks.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_unsafe">unsafe</code></td>
<td>
<p>A logical. Default is <code>FALSE</code>. If this is
set to <code>TRUE</code> then less checks will be performed.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_study_duration">study_duration</code></td>
<td>
<p>Integer. The duration of the StudentLife
study in days. This parameter does nothing if <code>limit_date_range</code>
it <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_start_date">start_date</code></td>
<td>
<p>Date. The date that the StudentLife study started.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_epoch_levels">epoch_levels</code></td>
<td>
<p>A character vector of epoch labels.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_epoch_ubs">epoch_ubs</code></td>
<td>
<p>An integer vector that defines the hour that is
the upper boundary of each epoch.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_uid_range">uid_range</code></td>
<td>
<p>An integer vector. The range of uids in
the StudentLife study.</p>
</td></tr>
<tr><td><code id="regularise_time_+3A_date_range">date_range</code></td>
<td>
<p>A vector of dates to be
used if <code>limit_date_range</code> is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab &lt;- load_SL_tibble(
  loc = d, schema = "sensing", table = "activity", csv_nrows = 10)

r_tab &lt;- regularise_time(
  tab, blocks = c("day","weekday"),
  act_inf = max(activity_inference), add_NAs = FALSE)

r_tab

</code></pre>

<hr>
<h2 id='response_hour_hist'>response_hour_hist</h2><span id='topic+response_hour_hist'></span>

<h3>Description</h3>

<p>This function produces a histogram that visualizes the
frequencies of observations within hourly blocks,
or blocks of multiple hours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>response_hour_hist(
  tab,
  break_hours = 10,
  xlab = "Hours into study",
  main = paste0("Distribution of ", attr(tab, "table"), " response times"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="response_hour_hist_+3A_tab">tab</code></td>
<td>
<p>A StudentLife tibble with time information,
(i.e., and object of class <code>timestamp_SL_tbl</code>
or <code>interval_SL_tbl</code>) as can be returned by the function
<code><a href="#topic+load_SL_tibble">load_SL_tibble</a></code>.</p>
</td></tr>
<tr><td><code id="response_hour_hist_+3A_break_hours">break_hours</code></td>
<td>
<p>Specify the width in hours of each
histogram bin.</p>
</td></tr>
<tr><td><code id="response_hour_hist_+3A_xlab">xlab</code></td>
<td>
<p>Argument passed to <code><a href="graphics.html#topic+hist">hist</a></code>.</p>
</td></tr>
<tr><td><code id="response_hour_hist_+3A_main">main</code></td>
<td>
<p>Argument passed to <code><a href="graphics.html#topic+hist">hist</a></code>.</p>
</td></tr>
<tr><td><code id="response_hour_hist_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="graphics.html#topic+hist">hist</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

response_hour_hist(tab_PAM)

</code></pre>

<hr>
<h2 id='SL_tables'>List of all the tables available in the StudentLife dataset.</h2><span id='topic+SL_tables'></span>

<h3>Description</h3>

<p>This command returns a 5 element list. Each of the five elements
are given names corresponding to the schema names of the studentlife
data set. Each element is a vector of strings, where each string
corresponds to the name of a table within the respective schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SL_tables
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 5.
</p>


<h3>Source</h3>

<p><a href="https://studentlife.cs.dartmouth.edu/">https://studentlife.cs.dartmouth.edu/</a>
</p>

<hr>
<h2 id='studentlife'>Tidy Handling and Navigation of the Student-Life Dataset</h2><span id='topic+studentlife'></span><span id='topic+studentlife-package'></span>

<h3>Description</h3>

<p>Download, navigate and analyse the Student-Life dataset.
The Student-Life dataset contains passive and automatic sensing data
from the phones of a class of 48 de-identified Dartmouth college students.
It was collected over a 10 week term. Additionally, the dataset contains
Ecological Momentary Assessment results along with pre- and post-study
mental health surveys, such as the PHQ-9. The intended use is to assess
mental health, academic performance and behavioral trends.
The raw dataset and additional information is
available at &lt;https://studentlife.cs.dartmouth.edu/&gt;.
</p>


<h3>Details</h3>

<p>Details on the Student-Life dataset as well as the
dataset itself are available at
https://studentlife.cs.dartmouth.edu/.
</p>


<h3>Update</h3>

<p>Current updates are available through
URL: https://github.com/frycast/studentlife
</p>


<h3>BugReports</h3>

<p>https://github.com/frycast/studentlife/issues
</p>


<h3>Author(s)</h3>

<p>Daniel Fryer <a href="mailto:d.fryer@latrobe.edu.au">d.fryer@latrobe.edu.au</a>
</p>

<hr>
<h2 id='vis_NAs'>vis_NAs</h2><span id='topic+vis_NAs'></span>

<h3>Description</h3>

<p>Produce a visualisation of the number of missing values
among each student in a regularised SL_tbl.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vis_NAs(
  tab,
  response,
  main = paste0("Missing values by student (", attr(tab, "table"), ") (blocks: ",
    paste0(attr(tab, "blocks"), collapse = ", "), ")"),
  show_perc_col = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vis_NAs_+3A_tab">tab</code></td>
<td>
<p>A regularised StudentLife tibble (i.e., an object of class
<code>reg_SL_tbl</code>) as
produced by the function <code><a href="#topic+regularise_time">regularise_time</a></code>.</p>
</td></tr>
<tr><td><code id="vis_NAs_+3A_response">response</code></td>
<td>
<p>A character string naming one of the columns
in <code>tab</code> that is not in <code>attr(tab, "blocks")</code>. If
missing then this defaults to the first such column name.</p>
</td></tr>
<tr><td><code id="vis_NAs_+3A_main">main</code></td>
<td>
<p>The plot title, passed to <code><a href="ggplot2.html#topic+ggtitle">ggtitle</a></code>.</p>
</td></tr>
<tr><td><code id="vis_NAs_+3A_show_perc_col">show_perc_col</code></td>
<td>
<p>Logical passed to <code><a href="visdat.html#topic+vis_miss">vis_miss</a></code>.
TRUE adds in the percentage of missing data in each column into the x axis.</p>
</td></tr>
<tr><td><code id="vis_NAs_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="visdat.html#topic+vis_miss">vis_miss</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

reg_PAM &lt;- regularise_time(
  tab_PAM, blocks = c("day", "epoch"), m = mean(picture_idx, na.rm = TRUE))

vis_NAs(reg_PAM, response = "m")

</code></pre>

<hr>
<h2 id='vis_response_counts'>vis_response_counts</h2><span id='topic+vis_response_counts'></span>

<h3>Description</h3>

<p>Produce an ordered bar plot of the
total number of responses
for each student in a regularised SL_tbl.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vis_response_counts(
  tab,
  response,
  main = paste0("Total responses by student (", attr(tab, "table"), ")"),
  xlab = "Student UID",
  ylab = "Response count",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vis_response_counts_+3A_tab">tab</code></td>
<td>
<p>A regularised StudentLife tibble (i.e., an object of class
<code>reg_SL_tbl</code>) as
produced by the function <code><a href="#topic+regularise_time">regularise_time</a></code>.</p>
</td></tr>
<tr><td><code id="vis_response_counts_+3A_response">response</code></td>
<td>
<p>A character string naming one of the columns
in <code>tab</code> that is not in <code>attr(tab, "blocks")</code>. If
missing then this defaults to the first such column name.</p>
</td></tr>
<tr><td><code id="vis_response_counts_+3A_main">main</code></td>
<td>
<p>The plot title, passed to <code><a href="graphics.html#topic+barplot">barplot</a></code>.</p>
</td></tr>
<tr><td><code id="vis_response_counts_+3A_xlab">xlab</code></td>
<td>
<p>The x axis label, passed to <code><a href="graphics.html#topic+barplot">barplot</a></code>.</p>
</td></tr>
<tr><td><code id="vis_response_counts_+3A_ylab">ylab</code></td>
<td>
<p>The y axis label, passed to <code><a href="graphics.html#topic+barplot">barplot</a></code>.</p>
</td></tr>
<tr><td><code id="vis_response_counts_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="graphics.html#topic+barplot">barplot</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named numeric vector of response counts,
sorted in descending order.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab_PAM &lt;- load_SL_tibble(schema = "EMA", table = "PAM", location = d)

reg_PAM &lt;- regularise_time(
  tab_PAM, blocks = c("day", "epoch"), m = mean(picture_idx, na.rm = TRUE))

vis_response_counts(reg_PAM, response = "m")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package prettymapr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {prettymapr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addnortharrow'><p>Plot North Arrow</p></a></li>
<li><a href='#addscalebar'><p>Auto Plot Scalebar</p></a></li>
<li><a href='#clear_geocode_cache'><p>Clear cached results</p></a></li>
<li><a href='#geocode'><p>Geocode Locations</p></a></li>
<li><a href='#get_default_geocoder'><p>Get/Set the default geocoder</p></a></li>
<li><a href='#makebbox'><p>Create a Bounding Box</p></a></li>
<li><a href='#mergebbox'><p>Combine bounding boxes</p></a></li>
<li><a href='#plotscalebar'><p>Raw Plot Scale Bar</p></a></li>
<li><a href='#prettymap'><p>Plot A Pretty Map</p></a></li>
<li><a href='#scalebarparams'><p>Get Scale Bar Parameters</p></a></li>
<li><a href='#searchbbox'><p>Query The Interwebs For A Bounding Box</p></a></li>
<li><a href='#set_cached'><p>Internal cache methods</p></a></li>
<li><a href='#zoombbox'><p>Zoom the extents of a bounding box</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Scale Bar, North Arrow, and Pretty Margins in R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.5</td>
</tr>
<tr>
<td>Author:</td>
<td>Dewey Dunnington &lt;dewey@fishandwhistle.net&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dewey Dunnington &lt;dewey@fishandwhistle.net&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Automates the process of creating a scale bar and north arrow in
    any package that uses base graphics to plot in R. Bounding box tools help find
    and manipulate extents. Finally, there is a function to automate the process
    of setting margins, plotting the map, scale bar, and north arrow, and resetting
    graphic parameters upon completion.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>digest, rjson, httr, plyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>raster, rosm, sp</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/paleolimbot/prettymapr">https://github.com/paleolimbot/prettymapr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/paleolimbot/prettymapr/issues">https://github.com/paleolimbot/prettymapr/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-23 19:58:36 UTC; deweydunnington</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-23 20:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addnortharrow'>Plot North Arrow</h2><span id='topic+addnortharrow'></span>

<h3>Description</h3>

<p>Plot a north arrow (pointing directly &quot;up&quot;) positioned based on current
plot extents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addnortharrow(
  pos = "topright",
  padin = c(0.15, 0.15),
  scale = 1,
  lwd = 1,
  border = "black",
  cols = c("white", "black"),
  text.col = "black"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addnortharrow_+3A_pos">pos</code></td>
<td>
<p>Where to align the north arrow. One of &quot;bottomleft&quot;, &quot;bottomright&quot;, &quot;topleft&quot;,
or &quot;topright&quot;.</p>
</td></tr>
<tr><td><code id="addnortharrow_+3A_padin">padin</code></td>
<td>
<p>A vector of length 2 determining the distance in inches between the scalebar
and the edge of the plottable area.</p>
</td></tr>
<tr><td><code id="addnortharrow_+3A_scale">scale</code></td>
<td>
<p>Scale the default north arrow to make it bigger or smaller</p>
</td></tr>
<tr><td><code id="addnortharrow_+3A_lwd">lwd</code></td>
<td>
<p>The line width outlining the north arrow</p>
</td></tr>
<tr><td><code id="addnortharrow_+3A_border">border</code></td>
<td>
<p>The line color outlining the north arrow</p>
</td></tr>
<tr><td><code id="addnortharrow_+3A_cols">cols</code></td>
<td>
<p>A vector of length 2 determining the two colors to be drawn for the north arrow</p>
</td></tr>
<tr><td><code id="addnortharrow_+3A_text.col">text.col</code></td>
<td>
<p>Color of the &quot;N&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>plot(1:5, 1:5, asp=1)
addnortharrow()

</code></pre>

<hr>
<h2 id='addscalebar'>Auto Plot Scalebar</h2><span id='topic+addscalebar'></span>

<h3>Description</h3>

<p>Automatically determines the geographical scale of the plot and
draws a labelled scalebar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addscalebar(
  plotunit = NULL,
  plotepsg = NULL,
  widthhint = 0.25,
  unitcategory = "metric",
  htin = 0.1,
  padin = c(0.15, 0.15),
  style = "bar",
  bar.cols = c("black", "white"),
  lwd = 1,
  linecol = "black",
  tick.cex = 0.7,
  labelpadin = 0.08,
  label.cex = 0.8,
  label.col = "black",
  pos = "bottomleft"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addscalebar_+3A_plotunit">plotunit</code></td>
<td>
<p>The unit which the current plot is plotted in, one of <code>cm</code>,
<code>m</code>, <code>km</code>, <code>in</code>, <code>ft</code>, <code>mi</code>. or <code>latlon</code>. This
parameter is optional if <code>plotepsg</code> is passed.</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_plotepsg">plotepsg</code></td>
<td>
<p>The projection of the current plot. If extents are valid lat/lons,
the projection is assumed to be lat/lon (EPSG:4326), or Spherical Mercator otherwise
(EPSG:3857). This is done to work seamlessly with OpenStreetMap packages.</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_widthhint">widthhint</code></td>
<td>
<p>The fraction of the plottable width which the scale bar should
(mostly) occupy.</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_unitcategory">unitcategory</code></td>
<td>
<p>One of &quot;metric&quot; or &quot;imperial&quot;</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_htin">htin</code></td>
<td>
<p>Height (in inches) of the desired scale bar</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_padin">padin</code></td>
<td>
<p>A vector of length 2 determining the distance in inches between the scalebar
and the edge of the plottable area.</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_style">style</code></td>
<td>
<p>One of &quot;bar&quot; or &quot;ticks&quot;.</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_bar.cols">bar.cols</code></td>
<td>
<p>If <code>style=="bar"</code>, the colors to be repeated to make the bar.</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_lwd">lwd</code></td>
<td>
<p>The line width to use when drawing the scalebar</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_linecol">linecol</code></td>
<td>
<p>The line color to use when drawing the scalebar</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_tick.cex">tick.cex</code></td>
<td>
<p>If <code>style=="ticks"</code>, the height of interior ticks.</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_labelpadin">labelpadin</code></td>
<td>
<p>The distance between the end of the scalebar and the label (inches)</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_label.cex">label.cex</code></td>
<td>
<p>The font size of the label</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_label.col">label.col</code></td>
<td>
<p>The color of the label</p>
</td></tr>
<tr><td><code id="addscalebar_+3A_pos">pos</code></td>
<td>
<p>Where to align the scalebar. One of &quot;bottomleft&quot;, &quot;bottomright&quot;, &quot;topleft&quot;,
or &quot;topright&quot;.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>plot(1:5, 1:5, asp=1)
addscalebar(plotunit="m")

</code></pre>

<hr>
<h2 id='clear_geocode_cache'>Clear cached results</h2><span id='topic+clear_geocode_cache'></span>

<h3>Description</h3>

<p>Clears the local cache of downloaded files (by default, an
environment in the package namespace). Clearing a directory
cache will result in all files with the extention &quot;.cached&quot;
being deleted from that directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_geocode_cache(cache = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clear_geocode_cache_+3A_cache">cache</code></td>
<td>
<p>An environment, a directory name, or NA to clear
the default internal cache</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>clear_geocode_cache()

</code></pre>

<hr>
<h2 id='geocode'>Geocode Locations</h2><span id='topic+geocode'></span>

<h3>Description</h3>

<p>Geocode locations using the Google Web API, the PickPoint.io API, or the
Data Science Toolkit API. For large
requests you should really use your own API key if you are using the default (pickpoint).
Note that the Google Terms seem to indicate that you cannot place locations obtained
from their API on non-google maps. Locations are all geocoded with erorrs kept quiet,
which may result in list output containing items with a $status element describing
the error message, or data frame
output containing a non-OK status in the status column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geocode(
  location,
  output = c("data.frame", "list"),
  source = "default",
  messaging = NULL,
  limit = 1,
  key = NULL,
  quiet = TRUE,
  cache = NA,
  progress = c("time", "text", "none"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geocode_+3A_location">location</code></td>
<td>
<p>A character vector (or an object that can be coerced to one)
of locations to pass to the geocoding API.</p>
</td></tr>
<tr><td><code id="geocode_+3A_output">output</code></td>
<td>
<p>One of <code>data.frame</code> or <code>list</code>. If <code>data.frame</code>,
the results are distilled into columns: query, source, status, rank,
lon, lat, address, bbox_n, bbox_e, bbox_s, and bbox_w. Other columns may also exist
for certain API types. The data frame will have the same number of rows as the
length of the input vector, and will always have the columns query, source, status,
lon and lat. If <code>output='list'</code>,
the raw JSON output from the geocoding API is returned as a <code>list</code>
(containing lists). The list output of a failed geocode return varies by API type,
but the length of the output list is guaranteed to be the same as the input vector.</p>
</td></tr>
<tr><td><code id="geocode_+3A_source">source</code></td>
<td>
<p>One of &quot;default&quot;, &quot;google&quot;, &quot;pickpoint&quot;, or &quot;dsk&quot;. If &quot;default&quot;, the
function calls <code>getOption("prettymapr.geosource")</code> or chooses
&quot;pickpoint&quot; if none is set. If using &quot;pickpoint&quot;, please
sign up for your own (free) API key to avoid using the default excessively.</p>
</td></tr>
<tr><td><code id="geocode_+3A_messaging">messaging</code></td>
<td>
<p><code>TRUE</code> if verbose messaging is desired (now deprecated,
use 'quiet = FALSE' instead.</p>
</td></tr>
<tr><td><code id="geocode_+3A_limit">limit</code></td>
<td>
<p>The number of results to return per query. This refers to
individual locations, for which ambiguous queries may return multiple
results (e.g. Halifax, Nova Scotia; Halifax, United Kingdom, etc.). The
default is 1. Pass 0 if no limit on queries is desired.</p>
</td></tr>
<tr><td><code id="geocode_+3A_key">key</code></td>
<td>
<p>API key if <code>source="pickpoint"</code>.</p>
</td></tr>
<tr><td><code id="geocode_+3A_quiet">quiet</code></td>
<td>
<p>By default, error messages are suppressed, and are instead included in the
output as objects with a $status describing the error (list output) or the appropriate value in the
'status' column (data frame output).</p>
</td></tr>
<tr><td><code id="geocode_+3A_cache">cache</code></td>
<td>
<p>The cache to use. Use NA for the internal cache (keeps first 1000 results),
or a directory name (e.g. 'geo.cache'), which keeps an unlimited number of results. Use
<a href="#topic+clear_geocode_cache">clear_geocode_cache</a> to clear the cache.</p>
</td></tr>
<tr><td><code id="geocode_+3A_progress">progress</code></td>
<td>
<p>A plyr status bar, one of &quot;time&quot;, &quot;text&quot;, or &quot;none&quot;. Passing quiet = FALSE
will also disable the progress bar.</p>
</td></tr>
<tr><td><code id="geocode_+3A_...">...</code></td>
<td>
<p>A number of key/value pairs to append to the URL, specifying
further options specific to each API. Google users may wish to provide
<code>sensor</code>, <code>client</code> and <code>signature</code> arguments for use with the enterprise
version with the API, or to specify additional constraints on geocoding.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> or <code>data.frame</code>; see documentation for
<code>output</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# don't test to speed up checking time

geocode("wolfville, ns")
geocode("wolfville, ns", output="list")
geocode("halifax", limit=0)
geocode("Paddy's Pub Wolfville NS", source="google")
geocode(c("Houston, TX", "San Antonio TX", "Cleavland OH"), source="google")

#fails quietly
geocode("don't even think about geocoding this")
geocode("don't even think about geocoding this", output="list")


</code></pre>

<hr>
<h2 id='get_default_geocoder'>Get/Set the default geocoder</h2><span id='topic+get_default_geocoder'></span><span id='topic+set_default_geocoder'></span>

<h3>Description</h3>

<p>The <a href="#topic+geocode">geocode</a> function can use google, pickpoint, or data science toolkit
to turn human-readable names into coordinates. Use these methods to get/set
the default source. These will need to be called once per namespace load.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_default_geocoder()

set_default_geocoder(geocoder)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_default_geocoder_+3A_geocoder">geocoder</code></td>
<td>
<p>The new source to use. One of &quot;pickpoint&quot;, &quot;google&quot;, or &quot;dsk&quot;.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>get_default_geocoder()
set_default_geocoder("google")
(set_default_geocoder(NULL))

</code></pre>

<hr>
<h2 id='makebbox'>Create a Bounding Box</h2><span id='topic+makebbox'></span>

<h3>Description</h3>

<p>Convencience method to create a bounding box like that returned by <code>sp::bbox()</code>.
To generate a bounding box from lists of lat/lon values use <code>sp::bbox(cbind(lons, lats))</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makebbox(n, e, s, w)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="makebbox_+3A_n">n</code></td>
<td>
<p>North bounding latitude</p>
</td></tr>
<tr><td><code id="makebbox_+3A_e">e</code></td>
<td>
<p>East bounding longitude</p>
</td></tr>
<tr><td><code id="makebbox_+3A_s">s</code></td>
<td>
<p>South bounding latitude</p>
</td></tr>
<tr><td><code id="makebbox_+3A_w">w</code></td>
<td>
<p>West bounding longitude</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 2x2 matrix describing a bounding box like that returned by <code>sp::bbox()</code>
</p>


<h3>See Also</h3>

<p>sp::bbox
</p>


<h3>Examples</h3>

<pre><code class='language-R'>makebbox(45.125, -64.25, 44.875, -64.75)

</code></pre>

<hr>
<h2 id='mergebbox'>Combine bounding boxes</h2><span id='topic+mergebbox'></span>

<h3>Description</h3>

<p>Create a single bounding box that encloses all of the bounding boxes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergebbox(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergebbox_+3A_...">...</code></td>
<td>
<p>An arbitrary number of bounding boxes as generated by <code>sp::bbox</code>,
<a href="#topic+makebbox">makebbox</a> or <a href="#topic+searchbbox">searchbbox</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single bounding box that contains all of its arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
box1 &lt;- makebbox(45, -64, 44, -65)
box2 &lt;- makebbox(45.5, -64.5, 44.5, -65.6)
mergebbox(box1, box2)

</code></pre>

<hr>
<h2 id='plotscalebar'>Raw Plot Scale Bar</h2><span id='topic+plotscalebar'></span>

<h3>Description</h3>

<p>Just in case anybody is hoping to draw a custom scalebar, this is the
method used to plot it. If you don't know what this is, you should probably
be using <a href="#topic+addscalebar">addscalebar</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotscalebar(
  x,
  y,
  ht,
  params,
  style = "bar",
  adj = c(0, 0),
  tick.cex = 0.7,
  bar.cols = c("black", "white"),
  lwd = 1,
  linecol = "black"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotscalebar_+3A_x">x</code></td>
<td>
<p>The position (user) to draw the scale bar</p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_y">y</code></td>
<td>
<p>The position (user) to draw the scale bar</p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_ht">ht</code></td>
<td>
<p>The height(in user coordinates) to draw the scale bar</p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_params">params</code></td>
<td>
<p>Scalebar parameters as generated by <a href="#topic+scalebarparams">scalebarparams</a></p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_style">style</code></td>
<td>
<p>One of <code>bar</code> or <code>ticks</code></p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_adj">adj</code></td>
<td>
<p>Where to align the scale bar relative to <code>x</code> and <code>y</code></p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_tick.cex">tick.cex</code></td>
<td>
<p>If <code>style=="ticks"</code>, the height of interior ticks.</p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_bar.cols">bar.cols</code></td>
<td>
<p>A vector of color names to be repeated for a <code>bar</code>
style scalebar.</p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_lwd">lwd</code></td>
<td>
<p>Passed when drawing lines associated with the scalebar</p>
</td></tr>
<tr><td><code id="plotscalebar_+3A_linecol">linecol</code></td>
<td>
<p>Passed when drawing lines associated with the scalebar</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+addscalebar">addscalebar</a>
</p>

<hr>
<h2 id='prettymap'>Plot A Pretty Map</h2><span id='topic+prettymap'></span>

<h3>Description</h3>

<p>This function executes everything in <code>plotexpression</code>, then draws
north arrow and scale bar using <a href="#topic+addnortharrow">addnortharrow</a> and <a href="#topic+addscalebar">addscalebar</a>.
Specify that plot is in a non lat/lon projection by passing <code>scale.plotepsg=...</code>
or <code>plotunit="m"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prettymap(
  plotexpression,
  oma = c(0, 0, 0, 0),
  mai = c(0, 0, 0, 0),
  drawbox = FALSE,
  box.lwd = 1,
  drawscale = TRUE,
  scale.pos = "bottomleft",
  scale.htin = 0.1,
  scale.widthhint = 0.25,
  scale.unitcategory = "metric",
  scale.style = "bar",
  scale.bar.cols = c("black", "white"),
  scale.lwd = 1,
  scale.linecol = "black",
  scale.padin = c(0.15, 0.15),
  scale.labelpadin = 0.08,
  scale.label.cex = 0.8,
  scale.label.col = "black",
  scale.plotunit = NULL,
  scale.plotepsg = NULL,
  scale.tick.cex = 0.8,
  drawarrow = FALSE,
  arrow.pos = "topright",
  arrow.scale = 1,
  arrow.padin = c(0.15, 0.15),
  arrow.lwd = 1,
  arrow.cols = c("white", "black"),
  arrow.border = "black",
  arrow.text.col = "black",
  title = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prettymap_+3A_plotexpression">plotexpression</code></td>
<td>
<p>An expression to plot the map, can be in brackets. e.g.
<code>plot(stuff); text(places, "readme!")</code> or <code>{plot(stuff);
text(places, "readme!")}</code></p>
</td></tr>
<tr><td><code id="prettymap_+3A_oma">oma</code></td>
<td>
<p>A vector of length 4 describing the outer margin area. See documentation
for <code>graphics::par</code>.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_mai">mai</code></td>
<td>
<p>A vector of length 4 describing the margin area in inches. See documentation
for <code>graphics::par</code>.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_drawbox">drawbox</code></td>
<td>
<p><code>TRUE</code> if box should be drawn around map, <code>FALSE</code> otherwise.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_box.lwd">box.lwd</code></td>
<td>
<p>The line width of the box</p>
</td></tr>
<tr><td><code id="prettymap_+3A_drawscale">drawscale</code></td>
<td>
<p><code>TRUE</code> if scalebar should be drawn, <code>FALSE</code> otherwise.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.pos">scale.pos</code></td>
<td>
<p>Where to align the scalebar. One of &quot;bottomleft&quot;, &quot;bottomright&quot;, &quot;topleft&quot;,
or &quot;topright&quot;.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.htin">scale.htin</code></td>
<td>
<p>Height (in inches) of the desired scale bar</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.widthhint">scale.widthhint</code></td>
<td>
<p>The fraction of the plottable width which the scale bar should
(mostly) occupy.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.unitcategory">scale.unitcategory</code></td>
<td>
<p>One of &quot;metric&quot; or &quot;imperial&quot;</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.style">scale.style</code></td>
<td>
<p>One of &quot;bar&quot; or &quot;ticks&quot;.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.bar.cols">scale.bar.cols</code></td>
<td>
<p>If <code>style=="bar"</code>, the colors to be repeated to make the bar.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.lwd">scale.lwd</code></td>
<td>
<p>The line width to use when drawing the scalebar</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.linecol">scale.linecol</code></td>
<td>
<p>The line color to use when drawing the scalebar</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.padin">scale.padin</code></td>
<td>
<p>A vector of length 2 determining the distance in inches between the scalebar
and the edge of the plottable area.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.labelpadin">scale.labelpadin</code></td>
<td>
<p>The distance between the end of the scalebar and the label (inches)</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.label.cex">scale.label.cex</code></td>
<td>
<p>The font size of the label</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.label.col">scale.label.col</code></td>
<td>
<p>The color of the label</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.plotunit">scale.plotunit</code></td>
<td>
<p>The unit which the current plot is plotted in, one of <code>cm</code>,
<code>m</code>, <code>km</code>, <code>in</code>, <code>ft</code>, <code>mi</code>. or <code>latlon</code>. This
parameter is optional if <code>plotepsg</code> is passed.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.plotepsg">scale.plotepsg</code></td>
<td>
<p>The projection of the current plot. If extents are valid lat/lons,
the projection is assumed to be lat/lon (EPSG:4326), or Spherical Mercator otherwise
(EPSG:3857). This is done to work seamlessly with OpenStreetMap packages.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_scale.tick.cex">scale.tick.cex</code></td>
<td>
<p>If <code>style=="ticks"</code>, the height of interior ticks.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_drawarrow">drawarrow</code></td>
<td>
<p><code>TRUE</code> if north arrow should be drawn, <code>FALSE</code> otherwise</p>
</td></tr>
<tr><td><code id="prettymap_+3A_arrow.pos">arrow.pos</code></td>
<td>
<p>Where to align the north arrow. One of &quot;bottomleft&quot;, &quot;bottomright&quot;, &quot;topleft&quot;,
or &quot;topright&quot;.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_arrow.scale">arrow.scale</code></td>
<td>
<p>Scale the default north arrow to make it bigger or smaller</p>
</td></tr>
<tr><td><code id="prettymap_+3A_arrow.padin">arrow.padin</code></td>
<td>
<p>A vector of length 2 determining the distance in inches between the scalebar
and the edge of the plottable area.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_arrow.lwd">arrow.lwd</code></td>
<td>
<p>The line width outlining the north arrow</p>
</td></tr>
<tr><td><code id="prettymap_+3A_arrow.cols">arrow.cols</code></td>
<td>
<p>A vector of length 2 determining the two colors to be drawn for the north arrow</p>
</td></tr>
<tr><td><code id="prettymap_+3A_arrow.border">arrow.border</code></td>
<td>
<p>The line color outlining the north arrow</p>
</td></tr>
<tr><td><code id="prettymap_+3A_arrow.text.col">arrow.text.col</code></td>
<td>
<p>Color of the &quot;N&quot;</p>
</td></tr>
<tr><td><code id="prettymap_+3A_title">title</code></td>
<td>
<p>Plot title, or <code>NULL</code> if none is desired.</p>
</td></tr>
<tr><td><code id="prettymap_+3A_...">...</code></td>
<td>
<p>Further graphical parameters to set while executing plotting code</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>prettymap(plot(1:5, 1:5, asp=1), scale.plotunit="cm", drawarrow=FALSE)
#add a title
prettymap(plot(1:5, 1:5, asp=1), title="My Plot")

</code></pre>

<hr>
<h2 id='scalebarparams'>Get Scale Bar Parameters</h2><span id='topic+scalebarparams'></span>

<h3>Description</h3>

<p>Get default scale bar parameters based on the current plot (i.e. <code>par("usr")</code>).
The algorithm attempts to detect the best equally divisable distance to use for the
scale bar, and returns a <code>list</code> object with attributes that allow any type of
scale bar to be drawn. The only way to manipulate the values chosen by the algorithm
is to change the <code>widthhint</code> argument. For generic XY plots, pass <code>plotunit</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scalebarparams(
  plotunit = NULL,
  plotepsg = NULL,
  widthhint = 0.25,
  unitcategory = "metric",
  extents = graphics::par("usr")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scalebarparams_+3A_plotunit">plotunit</code></td>
<td>
<p>The unit which the current plot is plotted in, one of <code>cm</code>,
<code>m</code>, <code>km</code>, <code>in</code>, <code>ft</code>, <code>mi</code>. or <code>latlon</code>. This
parameter is optional if <code>plotepsg</code> is passed.</p>
</td></tr>
<tr><td><code id="scalebarparams_+3A_plotepsg">plotepsg</code></td>
<td>
<p>The projection of the current plot. If extents are valid lat/lons,
the projection is assumed to be lat/lon (EPSG:4326), or Spherical Mercator otherwise
(EPSG:3857). This is done to work seamlessly with OpenStreetMap packages.</p>
</td></tr>
<tr><td><code id="scalebarparams_+3A_widthhint">widthhint</code></td>
<td>
<p>The fraction of the plottable width which the scale bar should
(mostly) occupy.</p>
</td></tr>
<tr><td><code id="scalebarparams_+3A_unitcategory">unitcategory</code></td>
<td>
<p>One of &quot;metric&quot; or &quot;imperial&quot;</p>
</td></tr>
<tr><td><code id="scalebarparams_+3A_extents">extents</code></td>
<td>
<p>The plot extents</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code> of parameters: <code>$widthu</code> (width of the scalebar in human
readable units); <code>$unit</code> (the human readable unit); <code>$majordivu</code> (the size
of the divisions in human readable units); <code>$majordivs</code> (the number of divisions);
<code>$widthplotunit</code> (width of the scalebar in plotting units); <code>$majordivplotunit</code>
(the width of divisions in plotting units); <code>$labeltext</code> (label text); and <code>extents</code>
the user extents (<code>par('usr')</code>) that were used to calculate the parameters.
</p>


<h3>See Also</h3>

<p><a href="#topic+addscalebar">addscalebar</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(1:5, 1:5, asp=1)
scalebarparams(plotunit="m")

</code></pre>

<hr>
<h2 id='searchbbox'>Query The Interwebs For A Bounding Box</h2><span id='topic+searchbbox'></span>

<h3>Description</h3>

<p>Use the PickPoint.io API or Google API to
retreive a bounding box for the given query. Note that if
you would like to use <code>google</code> as a source, you must agree to the Google
API terms and conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>searchbbox(querystring, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="searchbbox_+3A_querystring">querystring</code></td>
<td>
<p>The search query. Passing a vector in will find the bounding box that contains
all bounding boxes returned.</p>
</td></tr>
<tr><td><code id="searchbbox_+3A_...">...</code></td>
<td>
<p>Additional paramters to be passed on to <a href="#topic+geocode">geocode</a>. Passing <code>source="google"</code>
may be useful if google is desired as a source. Use <code>options(prettymapr.geosource="google")</code>
to permanently use <code>google</code> as a source.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 2x2 matrix describing a bounding box like that returned by <code>sp::bbox()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#don't test to speed up checking time

searchbbox("kings county, NS")
searchbbox("University Ave. Wolfville NS", source="google")
searchbbox("Wolfville ns", source="google")
searchbbox(c("Vermont", "Nova Scotia"))


</code></pre>

<hr>
<h2 id='set_cached'>Internal cache methods</h2><span id='topic+set_cached'></span><span id='topic+get_cached'></span><span id='topic+clear_cache'></span><span id='topic+cache_size'></span>

<h3>Description</h3>

<p>For internal use only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cached(cache, url, data, ...)

get_cached(cache, url, ...)

clear_cache(cache, ...)

cache_size(cache, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_cached_+3A_cache">cache</code>, <code id="set_cached_+3A_url">url</code>, <code id="set_cached_+3A_data">data</code>, <code id="set_cached_+3A_...">...</code></td>
<td>
<p>For internal use only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Values for internal use
</p>

<hr>
<h2 id='zoombbox'>Zoom the extents of a bounding box</h2><span id='topic+zoombbox'></span>

<h3>Description</h3>

<p>Manipulate the extents of a bounding box by zooming and moving an
existing bbox. This is helpful when manipulating the extents of a
plot created by <code>canvec.qplot()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zoombbox(bbox, factor = 1, offset = c(0, 0))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zoombbox_+3A_bbox">bbox</code></td>
<td>
<p>An existing bbox</p>
</td></tr>
<tr><td><code id="zoombbox_+3A_factor">factor</code></td>
<td>
<p>A factor to zoom by. &gt;1 will zoom in, &lt;1 will zoom out.
If a vector is passed, the first element will zoom the X extent, the
second element will zoom the Y extent.</p>
</td></tr>
<tr><td><code id="zoombbox_+3A_offset">offset</code></td>
<td>
<p>A vector describing the X and Y offset that should be applied.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A zoomed bounding box.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>box1 &lt;- makebbox(45, -64, 44, -65)
zoombbox(box1, c(.2,.5))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

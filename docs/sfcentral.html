<!DOCTYPE html><html><head><title>Help for package sfcentral</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sfcentral}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sfcentral-package'><p>sfcentral: Spatial Centrality and Dispersion Statistics</p></a></li>
<li><a href='#st_central_point'><p>Spatial centrality</p></a></li>
<li><a href='#st_sd_box'><p>Standard deviation box calculator in 2D or 3D</p></a></li>
<li><a href='#st_sd_distance'><p>Standard deviation distance calculator</p></a></li>
<li><a href='#st_sd_ellipse'><p>Standard deviation ellipse calculator</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Spatial Centrality and Dispersion Statistics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-11</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gabriel V. Gaona &lt;gabo@gavg712.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Computing centrographic statistics (central points, standard 
    distance, standard deviation ellipse, standard deviation box) for 
    observations taken at point locations in 2D or 3D. The 'sfcentral' library 
    was inspired in 'aspace' package but conceived to be used in a spatial
    'tidyverse' context.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gavg712.gitlab.io/sfcentral/">https://gavg712.gitlab.io/sfcentral/</a>,
<a href="https://gitlab.com/gavg712/sfcentral">https://gitlab.com/gavg712/sfcentral</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://gitlab.com/gavg712/sfcentral/-/issues">https://gitlab.com/gavg712/sfcentral/-/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>geodist (&ge; 0.0.7), Hmisc (&ge; 4.6.0), lwgeom (&ge; 0.2.0),
scales (&ge; 1.2.0), sf (&ge; 1.0.8), stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2 (&ge; 3.3.6), testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-11 19:55:19 UTC; gabo</td>
</tr>
<tr>
<td>Author:</td>
<td>Gabriel V. Gaona <a href="https://orcid.org/0000-0003-4666-2248"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-12 19:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sfcentral-package'>sfcentral: Spatial Centrality and Dispersion Statistics</h2><span id='topic+sfcentral'></span><span id='topic+sfcentral-package'></span>

<h3>Description</h3>

<p>Computing centrographic statistics (central points, standard distance, standard deviation ellipse, standard deviation box) for observations taken at point locations in 2D or 3D. The 'sfcentral' library was inspired in 'aspace' package but conceived to be used in a spatial 'tidyverse' context.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gabriel V. Gaona <a href="mailto:gabo@gavg712.com">gabo@gavg712.com</a> (<a href="https://orcid.org/0000-0003-4666-2248">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gavg712.gitlab.io/sfcentral/">https://gavg712.gitlab.io/sfcentral/</a>
</p>
</li>
<li> <p><a href="https://gitlab.com/gavg712/sfcentral">https://gitlab.com/gavg712/sfcentral</a>
</p>
</li>
<li><p> Report bugs at <a href="https://gitlab.com/gavg712/sfcentral/-/issues">https://gitlab.com/gavg712/sfcentral/-/issues</a>
</p>
</li></ul>


<hr>
<h2 id='st_central_point'>Spatial centrality</h2><span id='topic+st_central_point'></span><span id='topic+st_central_point.sfg'></span><span id='topic+st_central_point.sf'></span><span id='topic+st_central_point.sfc'></span>

<h3>Description</h3>

<p>Functions to find spatial measures of gravity centers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_central_point(.x, .y, ...)

## S3 method for class 'sfg'
st_central_point(
  .x,
  .y = NULL,
  weights = NULL,
  method = c("mean", "median", "geometric", "feature", "min.dist"),
  ...
)

## S3 method for class 'sf'
st_central_point(
  .x,
  .y = NULL,
  weights = NULL,
  method = c("mean", "median", "geometric", "feature", "min.dist"),
  ...
)

## S3 method for class 'sfc'
st_central_point(
  .x,
  .y = NULL,
  weights = NULL,
  method = c("mean", "median", "geometric", "feature", "min.dist"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="st_central_point_+3A_.x">.x</code>, <code id="st_central_point_+3A_.y">.y</code></td>
<td>
<p><code>sf</code> points 2D or 3D</p>
</td></tr>
<tr><td><code id="st_central_point_+3A_...">...</code></td>
<td>
<p>arguments to be passed to or from other methods</p>
</td></tr>
<tr><td><code id="st_central_point_+3A_weights">weights</code></td>
<td>
<p>Numeric. Used in for weigthed Mean Center. Has to be same length
as number of points.</p>
</td></tr>
<tr><td><code id="st_central_point_+3A_method">method</code></td>
<td>
<p>Character. Type of center point to calculate</p>
</td></tr>
<tr><td><code id="st_central_point_+3A_dist">dist</code></td>
<td>
<p>Atomic numeric, Default 100. Starting distance value for center
moving during iterations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Spatial centers are spatial measures of the gravity center.
</p>
<p><code>methods</code> options are:
<code>"mean"</code> is the mean center (equivalent to centroid of the points) calculated by
the arithmetic mean of each axis;
<code>"geometric"</code>, is the corresponding geometric mean of each axis;
<code>"median"</code>, is the median center, a pair of c(median(x), median(y)) coordinates;
<code>"feature"</code>, is a minimization of the sum of distances from <em>ith</em> point to every point;
<code>"min.dist"</code>, is iterative looking for the closest point in bbox of .x
that minimizes the sum of distances from <em>ith</em> point to every point in the dataset
</p>


<h3>Value</h3>

<p><code>"Simple Features"</code> of lenght 1.
</p>


<h3>Note</h3>

<p>Inspired on <code style="white-space: pre;">&#8288;aspace::*()&#8288;</code> from Ron Buliung &amp; Randy Bui (2012)
</p>


<h3>Author(s)</h3>

<p>Gabriel Gaona
</p>


<h3>Examples</h3>

<pre><code class='language-R'>requireNamespace("ggplot2", quietly = TRUE)
library(sf, quietly = TRUE)
library(ggplot2)
bbx &lt;- matrix(c(697047,9553483,
                696158,9560476,
                700964,9561425,
                701745,9555358),
              byrow = TRUE,
              ncol = 2)
bbx &lt;- st_multipoint(bbx)
bbx &lt;- st_cast(bbx,"POLYGON")
bbx &lt;- st_sfc(bbx, crs = 31992)
set.seed(1234)
points &lt;- st_sf(geometry = st_sample(bbx, 100))
mean_center &lt;- st_central_point(points, method = "mean")
median_center &lt;- st_central_point(points, method = "median")
geom_center &lt;- st_central_point(points, method = "geometric")
central_feature &lt;- st_central_point(points, method = "feature")
min_dist_center &lt;- st_central_point(points, method = "min.dist")
ggplot() +
  geom_sf(data = points, color = "steelblue", size = 0.5) +
  geom_sf(data = mean_center, color = "blue", size = 3) +
  geom_sf(data = median_center, color = "red") +
  geom_sf(data = geom_center, color = "grey80") +
  geom_sf(data = central_feature, color = "orange") +
  geom_sf(data = min_dist_center, color = "green")
</code></pre>

<hr>
<h2 id='st_sd_box'>Standard deviation box calculator in 2D or 3D</h2><span id='topic+st_sd_box'></span><span id='topic+st_sd_box.sfg'></span><span id='topic+st_sd_box.sf'></span><span id='topic+st_sd_box.sfc'></span>

<h3>Description</h3>

<p>Calculate the spatial deviaction box from a points sf dataset.
#' @author Gabriel Gaona
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_sd_box(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sfg'
st_sd_box(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sf'
st_sd_box(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sfc'
st_sd_box(.x, centre = NULL, weights = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="st_sd_box_+3A_.x">.x</code></td>
<td>
<p><code>sf</code> points 2D or 3D</p>
</td></tr>
<tr><td><code id="st_sd_box_+3A_centre">centre</code></td>
<td>
<p>Numeric. Coordinates 2D or 3D of central point. Default NULL,
performs a calculation of mean_centre() from point localities</p>
</td></tr>
<tr><td><code id="st_sd_box_+3A_weights">weights</code></td>
<td>
<p>Numeric. Same length of number of .x.</p>
</td></tr>
<tr><td><code id="st_sd_box_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depends on input, &quot;coords&quot; returns a data.frame of 2 or 3 columns and
4 or 8 point coordinates. &quot;param&quot; returns a data.frame with centre
coordinates, standard deviation in each axis, space(area for 2D, volume for
3D) and number of dimensions in coordinates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> requireNamespace("ggplot2", quietly = TRUE)
 library(sf, quietly = TRUE)
 library(ggplot2)
 bbx &lt;- matrix(c(697047,9553483,
                 696158,9560476,
                 700964,9561425,
                 701745,9555358),
               byrow = TRUE,
               ncol = 2)
 bbx &lt;- st_multipoint(bbx)
 bbx &lt;- st_cast(bbx,"POLYGON")
 bbx &lt;- st_sfc(bbx, crs = 31992)
 set.seed(1234)
 points &lt;- st_sf(geometry = st_sample(bbx, 100))
 SD_BOX &lt;- st_sd_box(points)
 ggplot() +
   geom_sf(data = SD_BOX, fill = NA, color = "darkolivegreen") +
   geom_sf(data = points, color = "steelblue", size = 0.5)
</code></pre>

<hr>
<h2 id='st_sd_distance'>Standard deviation distance calculator</h2><span id='topic+st_sd_distance'></span><span id='topic+st_sd_distance.sfg'></span><span id='topic+st_sd_distance.sf'></span><span id='topic+st_sd_distance.sfc'></span>

<h3>Description</h3>

<p>Calculate the spatial deviaction distance from a points sf dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_sd_distance(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sfg'
st_sd_distance(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sf'
st_sd_distance(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sfc'
st_sd_distance(.x, centre = NULL, weights = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="st_sd_distance_+3A_.x">.x</code></td>
<td>
<p><a href="sf.html#topic+sf">sf</a> points 2D or 3D</p>
</td></tr>
<tr><td><code id="st_sd_distance_+3A_centre">centre</code></td>
<td>
<p>One central point of class <em>sf</em>, <em>sfc</em>, <em>numeric</em>
(length 2), <em>matrix</em> (2 col, 1 row), <em>data.frame</em>  (2 col, 1 row),
or <em>list</em> (length 2). Default <code>NULL</code>, means a calculation of the <code><a href="#topic+st_central_point">st_central_point()</a></code>
from <code>.x</code> localities.</p>
</td></tr>
<tr><td><code id="st_sd_distance_+3A_weights">weights</code></td>
<td>
<p>Numeric. Same length as number of points in <code>.x</code>.</p>
</td></tr>
<tr><td><code id="st_sd_distance_+3A_...">...</code></td>
<td>
<p>other parameters for <code><a href="sf.html#topic+geos_measures">sf::st_distance()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A sf <code>"POLYGON"</code> with atributes:
</p>

<ul>
<li> <p><code>radius</code> (standard deviation distance)
</p>
</li>
<li> <p><code>area</code> surrounding,
</p>
</li>
<li> <p><code>perimeter</code>,
</p>
</li>
<li> <p><code>center</code> coordinates,
</p>
</li>
<li> <p><code>weigted</code> indicator if weights were used or not in the calculaton.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Gabriel Gaona
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  requireNamespace("ggplot2", quietly = TRUE)
  library(sf, quietly = TRUE)
  library(ggplot2)
  bbx &lt;- matrix(c(697047,9553483,
                  696158,9560476,
                  700964,9561425,
                  701745,9555358),
                byrow = TRUE,
                ncol = 2)
  bbx &lt;- st_multipoint(bbx)
  bbx &lt;- st_cast(bbx,"POLYGON")
  bbx &lt;- st_sfc(bbx, crs = 31992)
  set.seed(1234)
  points &lt;- st_sf(geometry = st_sample(bbx, 100))
  SDD &lt;- st_sd_distance(points)
  ggplot() +
    geom_sf(data = SDD, fill = NA, color = "darkolivegreen") +
    geom_sf(data = points, color = "steelblue", size = 0.5)
</code></pre>

<hr>
<h2 id='st_sd_ellipse'>Standard deviation ellipse calculator</h2><span id='topic+st_sd_ellipse'></span><span id='topic+st_sd_ellipse.sfg'></span><span id='topic+st_sd_ellipse.sf'></span><span id='topic+st_sd_ellipse.sfc'></span>

<h3>Description</h3>

<p>Calculate the spatial deviaction ellipse from a points sf dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_sd_ellipse(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sfg'
st_sd_ellipse(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sf'
st_sd_ellipse(.x, centre = NULL, weights = NULL, ...)

## S3 method for class 'sfc'
st_sd_ellipse(.x, centre = NULL, weights = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="st_sd_ellipse_+3A_.x">.x</code></td>
<td>
<p><code>sf</code> points 2D or 3D</p>
</td></tr>
<tr><td><code id="st_sd_ellipse_+3A_centre">centre</code></td>
<td>
<p>Numeric. Coordinates 2D of central point. Default NULL,
performs a calculation of <code>mean_centre()</code> from point localities</p>
</td></tr>
<tr><td><code id="st_sd_ellipse_+3A_weights">weights</code></td>
<td>
<p>Numeric. Same length of number of points.</p>
</td></tr>
<tr><td><code id="st_sd_ellipse_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>simple features as &quot;POLYGON&quot;  with atributes:
centre coordinates, values for mayor and minor axis radius (sigma.x and sigma.y),
rotation (theta and theta_corrected) and geometry properties (eccentricity, area
and perimeter)
</p>


<h3>Author(s)</h3>

<p>Gabriel Gaona
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  requireNamespace("ggplot2", quietly = TRUE)
  library(sf, quietly = TRUE)
  library(ggplot2)
  bbx &lt;- matrix(c(697047,9553483,
                  696158,9560476,
                  700964,9561425,
                  701745,9555358),
                byrow = TRUE,
                ncol = 2)
  bbx &lt;- st_multipoint(bbx)
  bbx &lt;- st_cast(bbx,"POLYGON")
  bbx &lt;- st_sfc(bbx, crs = 31992)
  set.seed(1234)
  points &lt;- st_sf(geometry = st_sample(bbx, 100))
  SDE &lt;- st_sd_ellipse(points)
  ggplot() +
    geom_sf(data = SDE, fill = NA, color = "darkolivegreen") +
    geom_sf(data = points, color = "steelblue", size = 0.5)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

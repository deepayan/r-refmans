<!DOCTYPE html><html><head><title>Help for package fedregs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fedregs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cfr_part'><p>Parse the Relevant Details for CFR xml files</p></a></li>
<li><a href='#cfr_text'><p>Extract the Text for a Given Year, Title, Chapter, and Part</p></a></li>
<li><a href='#fedregs'><p><code>fedregs</code> package</p></a></li>
<li><a href='#numextract'><p>Extract the Part Numbers</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Text Analysis of the US Code of Federal Regulations</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The Code of Federal Regulations (CFR) annual edition is the codification 
    of the general and permanent rules published in the Federal Register by the departments
    and agencies of the Federal Government of the United States of America. Simply, the 
    'fedregs' package facilitates word processing and sentiment analysis of the CFR using tidy 
    principles. Note: According to the Code of Federal Regulations XML Rendition User Guide Document: 
    "In general, there are no restrictions on re-use of information in Code of Federal Regulations
    material because U.S. Government works are not subject to copyright. OFR and GPO do not
    restrict downstream uses of Code of Federal Regulations data, except that independent providers
    should be aware that only the OFR and GPO are entitled to represent that they are the providers
    of the official versions of the Code of Federal Regulations and related Federal Register
    publications."</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/slarge/fedregs/issues">https://github.com/slarge/fedregs/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0),</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.7.4), magrittr (&ge; 1.5), xml2 (&ge; 1.2.0), purrr(&ge;
0.2.5), rvest(&ge; 0.3.2), stringi(&ge; 1.1.7), httr (&ge; 1.3.1),
tidyr (&ge; 1.0.0), tidytext (&ge; 0.1.9)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2 (&ge; 2.2.1), testthat (&ge; 2.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-09-16 19:32:05 UTC; scott.large</td>
</tr>
<tr>
<td>Author:</td>
<td>Scott Large [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Scott Large &lt;scott.large@noaa.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-09-16 20:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='cfr_part'>Parse the Relevant Details for CFR xml files</h2><span id='topic+cfr_part'></span>

<h3>Description</h3>

<p><code>cfr_part</code> returns a data_frame year, title, volume, chapters, parts, and file path for each xml file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfr_part(file_path, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cfr_part_+3A_file_path">file_path</code></td>
<td>
<p>file path coming from the bulk download</p>
</td></tr>
<tr><td><code id="cfr_part_+3A_verbose">verbose</code></td>
<td>
<p>logical. Will return &quot;helpful&quot; messages regarding the status of the file path.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>cfr_part
</p>
<p>Since we're after more refined data than a single volume, we need to figure out what chapters and parts are associated with each volume. This function parses the xml and scrapes the Table of Contents for the information held in each volume.
</p>


<h3>Value</h3>

<p>Numeric (year, title, volume, and chapters) and characters (parts and file path).
</p>

<hr>
<h2 id='cfr_text'>Extract the Text for a Given Year, Title, Chapter, and Part</h2><span id='topic+cfr_text'></span>

<h3>Description</h3>

<p><code>cfr_text</code> returns a tibble of CFR text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfr_text(year, title_number, chapter, part, token = "words",
  return_tidytext = TRUE, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cfr_text_+3A_year">year</code></td>
<td>
<p>numeric between 1996 and 2018.</p>
</td></tr>
<tr><td><code id="cfr_text_+3A_title_number">title_number</code></td>
<td>
<p>numeric between 1 and 50.</p>
</td></tr>
<tr><td><code id="cfr_text_+3A_chapter">chapter</code></td>
<td>
<p>numeric or roman numeral.</p>
</td></tr>
<tr><td><code id="cfr_text_+3A_part">part</code></td>
<td>
<p>numeric.</p>
</td></tr>
<tr><td><code id="cfr_text_+3A_token">token</code></td>
<td>
<p>character. Unit for tokenizing. Currently</p>
</td></tr>
<tr><td><code id="cfr_text_+3A_return_tidytext">return_tidytext</code></td>
<td>
<p>logical. TRUE = tidytext, FALSE = raw data</p>
</td></tr>
<tr><td><code id="cfr_text_+3A_verbose">verbose</code></td>
<td>
<p>logical. Will return &quot;helpful&quot; messages regarding the status of the URL.</p>
</td></tr>
<tr><td><code id="cfr_text_+3A_...">...</code></td>
<td>
<p>Extra arguments passed on to tokenizers, such as n and k for &quot;ngrams&quot; and &quot;skip_ngrams&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>cfr_text
</p>
<p>This function is the main function of the <code>fedregs</code> package. It takes the title, chapter, part, and year and returns a tibble of raw text (<code>return_tidytext = FALSE</code>) or <a href="https://www.tidytextmining.com/tidytext.html">tidytext</a> text (<code>return_tidytext = TRUE</code>). N.b., it has not been extensively tested on titles and chapters other than Title 50 chapter VI and part 648.
</p>


<h3>Value</h3>

<p>a tibble with year, title_number, chapter, part, and text nested by subpart
</p>


<h3>Examples</h3>

<pre><code class='language-R'>regs &lt;- cfr_text(year = 2018,
title_number = 50,
chapter = 6,
part = 648,
return_tidytext = TRUE,
token = "words",
verbose = TRUE)
head(regs)

</code></pre>

<hr>
<h2 id='fedregs'><code>fedregs</code> package</h2><span id='topic+fedregs'></span><span id='topic+fedregs-package'></span>

<h3>Description</h3>

<p>Text Analysis of the US Code of Federal Regulations
</p>


<h3>Details</h3>

<p>See the README on
<a href="https://github.com/slarge/fedregs/blob/master/README.md">GitHub</a>
</p>

<hr>
<h2 id='numextract'>Extract the Part Numbers</h2><span id='topic+numextract'></span>

<h3>Description</h3>

<p><code>numextract</code> takes the part numbers from <code>cfr_part</code> output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>numextract(string, return = c("min", "max")[1])
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="numextract_+3A_string">string</code></td>
<td>
<p>ideally <code>cfr_part()</code>$parts</p>
</td></tr>
<tr><td><code id="numextract_+3A_return">return</code></td>
<td>
<p>min or max, default is &quot;min&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>numextract
</p>
<p>Each CFR chapter has multiple parts that often span volumes. To facilitate targeting a specific part, it's necessary to evaluate which parts are in each volume (e.g., Parts 18 to 199). The CFR sometimes uses terms like &quot;END&quot; or &quot;end&quot; to denote the maximum part in each chapter. <code>numextract</code> simply returns the max as 'Inf' in these situations.
</p>


<h3>Value</h3>

<p>numeric value from 1 to 'Inf&ldquo;
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

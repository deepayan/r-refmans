<!DOCTYPE html><html><head><title>Help for package parttime</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {parttime}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.i'><p>shorthand for converting dimnames to indices, for easier column subtraction</p></a></li>
<li><a href='#+,partial_time,Period-method'><p>Addition of a lubridate Period to a parttime partial_time</p></a></li>
<li><a href='#as.interval,partial_time-method'><p>Wrapper for lubridate as.interval</p></a></li>
<li><a href='#as.interval,timespan-method'><p>Wrapper for lubridate as.interval</p></a></li>
<li><a href='#as.parttime'><p>Coerce an object to a parttime object</p></a></li>
<li><a href='#as.timespan'><p>Cast an object to a timespan</p></a></li>
<li><a href='#c.partial_time'><p>Concatenate parttimes</p></a></li>
<li><a href='#definitely'><p>&quot;Definitely&quot; generic for resolving uncertainty</p></a></li>
<li><a href='#definitely.partial_time_logical'><p>Determine whether a partial_time logical matrix is definitely TRUE</p></a></li>
<li><a href='#dim.partial_time'><p>parttime vector dimensions</p></a></li>
<li><a href='#end'><p>end S3 generic</p></a></li>
<li><a href='#eq_parttimes'><p>Equal comparison handler for partial_time objects</p></a></li>
<li><a href='#extract'><p>Similar to matrix and array <code>[</code> behavior, but allows for providing a numeric</p>
vector of dimensions to drop</a></li>
<li><a href='#format_field_matrix'><p>Format individual components of a parttime matrix</p></a></li>
<li><a href='#format.partial_time'><p>Format a parttime object</p></a></li>
<li><a href='#format.pillar_shaft_partial_time'><p>parttime pillar formatting</p></a></li>
<li><a href='#has_partial'><p>Test whether a partial_time object is incomplete</p></a></li>
<li><a href='#has_partial_date'><p>Test whether a partial_time object's date components are incomplete</p></a></li>
<li><a href='#has_partial_time'><p>Test whether a partial_time object's time components are incomplete</p></a></li>
<li><a href='#impute_time'><p>Impute a partial time object with a timestamp or specific fields</p></a></li>
<li><a href='#includes'><p>Determine whether one object includes another</p></a></li>
<li><a href='#includes.partial_time'><p>Determine whether a partial time contains an object</p></a></li>
<li><a href='#includes.partial_time.partial_time'><p>Test for whether a timestamp could be included within parttime uncertainty</p></a></li>
<li><a href='#is_partial_time'><p>Shorthand for checking partial time inheritance</p></a></li>
<li><a href='#is_timespan'><p>Shorthand for checking timespan inheritance</p></a></li>
<li><a href='#is.na.partial_time'><p>Check if elements of a partial time vector is NA</p></a></li>
<li><a href='#is.na.timespan'><p>Check if elements of a partial time vector is NA</p></a></li>
<li><a href='#is.timespan'><p>Shorthand for checking timespan inheritance</p></a></li>
<li><a href='#max.partial_time'><p>Get the maximum of a parttime vector</p></a></li>
<li><a href='#min.partial_time'><p>Get the minimum of aparttime vector</p></a></li>
<li><a href='#neq_parttimes'><p>Not-equal comparison handler for partial_time objects</p></a></li>
<li><a href='#normalize_month_day'><p>Normalize days in month back to day limit for a given month</p></a></li>
<li><a href='#obj_print_data.partial_time'><p>parttime data output</p></a></li>
<li><a href='#obj_print_footer.partial_time'><p>parttime footer</p></a></li>
<li><a href='#obj_print_header.partial_time'><p>parttime output header</p></a></li>
<li><a href='#Ops.partial_time'><p>Handler for Ops generics for partial_time objects</p></a></li>
<li><a href='#Ops.timespan'><p>Handler for Ops generics for timespan objects</p></a></li>
<li><a href='#parse_cdisc_datetime'><p>Parse cdisc datetime strings as parttime matrix</p></a></li>
<li><a href='#parse_failure_message'><p>Format a message communicating parse failure information</p></a></li>
<li><a href='#parse_iso8601_helpers'><p>Inspecting and manipulating intermediate iso8601 matrices</p></a></li>
<li><a href='#parse_iso8601_matrix'><p>Parse an iso8601 datetime to a parttime-like matrix</p></a></li>
<li><a href='#parttime'><p>Create a parttime object</p></a></li>
<li><a href='#parttime_access_and_assign'><p>Datetime component access and assignment functions</p></a></li>
<li><a href='#parttime_extract'><p>Indexing operators for partial_time objects</p></a></li>
<li><a href='#parttime_logical'><p>This class is purely for retaining logical information for immediate</p>
truncation as to not overccomplicate coersion needs with another vctr class</a></li>
<li><a href='#pillar_shaft.partial_time'><p>parttime as pillar shaft</p></a></li>
<li><a href='#pmax'><p>Maxima and Minima</p></a></li>
<li><a href='#pmax.partial_time'><p>Get the elementwise maximum of parttime vectors</p></a></li>
<li><a href='#pmin'><p>Maxima and Minima</p></a></li>
<li><a href='#pmin.partial_time'><p>Get the elementwise minimum of parttime vectors</p></a></li>
<li><a href='#possibly'><p>&quot;Possibly&quot; generic for resolving uncertainty</p></a></li>
<li><a href='#possibly.partial_time_logical'><p>Determine whether a partial_time logical matrix is possibly TRUE</p></a></li>
<li><a href='#propagate_na'><p>Propegate field missingness from higher to lower resolution</p></a></li>
<li><a href='#re_cdisc_datetime'><p>Regular expression for CDISC-style datetime parsing</p></a></li>
<li><a href='#re_iso8601'><p>slightly modified from parsedate - added 'secfrac' capture group</p></a></li>
<li><a href='#reflow_fields'><p>Reflow potentially invalid time components to adjacent fields</p></a></li>
<li><a href='#register_unknown_s3_generics'><p>Export S3 generics only if as-of-yet unknown</p></a></li>
<li><a href='#sample_date_string_styles'><p>Find unique forms of inputs</p></a></li>
<li><a href='#sample_partial_styles'><p>Find unique forms of missingness</p></a></li>
<li><a href='#start'><p>start S3 generic</p></a></li>
<li><a href='#timespan'><p>Create a partial timespan object</p></a></li>
<li><a href='#to_gmt'><p>Generic for coercing timestamps to GMT timezone</p></a></li>
<li><a href='#trim'><p>Shorten a timespan</p></a></li>
<li><a href='#type_sum.partial_time'><p>parttime type name</p></a></li>
<li><a href='#vec_cast.logical.partial_time'><p>Cast partial time to logical</p></a></li>
<li><a href='#vec_cast.partial_time'><p>Cast to partial time object</p></a></li>
<li><a href='#vec_cast.partial_time.character'><p>Coerce character date representations to parttime objects</p></a></li>
<li><a href='#vec_cast.partial_time.default'><p>Default handler for casting to a partial time</p></a></li>
<li><a href='#vec_cast.partial_time.matrix'><p>Cast a matrix to a partial time</p></a></li>
<li><a href='#vec_cast.timespan'><p>Cast to timespan object</p></a></li>
<li><a href='#vec_cast.timespan.character'><p>Cast partial time to timespan, representing uncertainty as a range</p></a></li>
<li><a href='#vec_cast.timespan.default'><p>Default handler for casting to a timespan</p></a></li>
<li><a href='#vec_cast.timespan.double'><p>Cast an array to a timespan</p></a></li>
<li><a href='#vec_cast.timespan.numeric'><p>Cast an array to a timespan</p></a></li>
<li><a href='#vec_cast.timespan.partial_time'><p>Cast partial time to timespan, representing uncertainty as a range</p></a></li>
<li><a href='#vec_ptype_abbr.partial_time'><p>Abbreviated partial time class name</p></a></li>
<li><a href='#vec_ptype_full.partial_time'><p>Full parttime class name</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Partial Datetime Handling</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Datetimes and timestamps are invariably an imprecise notation, with any
    partial representation implying some amount of uncertainty. To handle this,
    'parttime' provides classes for embedding partial missingness as a central
    part of its datetime classes. This central feature allows for more ergonomic
    use of datetimes for challenging datetime computation, including
    calculations of overlapping date ranges, imputations, and more thoughtful
    handling of ambiguity that arises from uncertain time zones. This package was
    developed first and foremost with pharmaceutical applications in mind, but
    aims to be agnostic to application to accommodate general use cases just as
    conveniently.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dgkf/parttime/issues">https://github.com/dgkf/parttime/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://dgkf.github.io/parttime/">https://dgkf.github.io/parttime/</a>, <a href="https://github.com/dgkf/parttime">https://github.com/dgkf/parttime</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>crayon, lubridate, methods, pillar, utils, vctrs (&ge; 0.2.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, withr, testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-24 22:17:46 UTC; root</td>
</tr>
<tr>
<td>Author:</td>
<td>Doug Kelkhoff [aut, cre],
  Bill Denney <a href="https://orcid.org/0000-0002-5759-428X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Doug Kelkhoff &lt;doug.kelkhoff@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-24 23:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='.i'>shorthand for converting dimnames to indices, for easier column subtraction</h2><span id='topic+.i'></span>

<h3>Description</h3>

<p>shorthand for converting dimnames to indices, for easier column subtraction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.i(x, dim, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".i_+3A_x">x</code></td>
<td>
<p>an object with dimnames&lt;- defined</p>
</td></tr>
<tr><td><code id=".i_+3A_dim">dim</code></td>
<td>
<p>the dimension to index</p>
</td></tr>
<tr><td><code id=".i_+3A_...">...</code></td>
<td>
<p>names selected by which</p>
</td></tr>
</table>

<hr>
<h2 id='+2B+2Cpartial_time+2CPeriod-method'>Addition of a lubridate Period to a parttime partial_time</h2><span id='topic++2B+2Cpartial_time+2CPeriod-method'></span>

<h3>Description</h3>

<p>Addition of a lubridate Period to a parttime partial_time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'partial_time,Period'
e1 + e2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B2B+2B2Cpartial_time+2B2CPeriod-method_+3A_e1">e1</code></td>
<td>
<p>A partial_time object</p>
</td></tr>
<tr><td><code id="+2B2B+2B2Cpartial_time+2B2CPeriod-method_+3A_e2">e2</code></td>
<td>
<p>A lubridate Period object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new <code>partial_time</code> object offset by <code>Period</code> <code>e2</code>
</p>

<hr>
<h2 id='as.interval+2Cpartial_time-method'>Wrapper for lubridate as.interval</h2><span id='topic+as.interval+2Cpartial_time-method'></span>

<h3>Description</h3>

<p>Wrapper for lubridate as.interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'partial_time'
as.interval(x, start, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.interval+2B2Cpartial_time-method_+3A_x">x</code></td>
<td>
<p>a duration, difftime, period, or numeric object that describes the length of the interval</p>
</td></tr>
<tr><td><code id="as.interval+2B2Cpartial_time-method_+3A_start">start</code></td>
<td>
<p>a POSIXt or Date object that describes when the interval begins</p>
</td></tr>
<tr><td><code id="as.interval+2B2Cpartial_time-method_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to as.interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_timespan</code> vector
</p>

<hr>
<h2 id='as.interval+2Ctimespan-method'>Wrapper for lubridate as.interval</h2><span id='topic+as.interval+2Ctimespan-method'></span>

<h3>Description</h3>

<p>Wrapper for lubridate as.interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timespan'
as.interval(x, start, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.interval+2B2Ctimespan-method_+3A_x">x</code></td>
<td>
<p>a duration, difftime, period, or numeric object that describes the length of the interval</p>
</td></tr>
<tr><td><code id="as.interval+2B2Ctimespan-method_+3A_start">start</code></td>
<td>
<p>a POSIXt or Date object that describes when the interval begins</p>
</td></tr>
<tr><td><code id="as.interval+2B2Ctimespan-method_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to as.interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An unaffected <code>partial_timespan</code>
</p>

<hr>
<h2 id='as.parttime'>Coerce an object to a parttime object</h2><span id='topic+as.parttime'></span>

<h3>Description</h3>

<p>Coerce an object to a parttime object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.parttime(x, ..., format = parse_iso8601_datetime, on.na = "warning")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.parttime_+3A_x">x</code></td>
<td>
<p>an object for coersion</p>
</td></tr>
<tr><td><code id="as.parttime_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>format</code> when a function is
provided.</p>
</td></tr>
<tr><td><code id="as.parttime_+3A_format">format</code></td>
<td>
<p>a <code>function</code> or <code>character</code> value. If a
<code>function</code>, it should accept a character vector and return a matrix of
parttime components. If a <code>character</code> it should provide a regular
exprssion which contains capture groups for each of the parttime
components.  See <a href="#topic+parse_to_parttime_matrix">parse_to_parttime_matrix</a>'s <code>regex</code> parameter
for more details.</p>
</td></tr>
<tr><td><code id="as.parttime_+3A_on.na">on.na</code></td>
<td>
<p>a <code>function</code> used to signal a condition for new <code>NA</code> values
introduced by coercion, a <code>character</code> value among <code>"error"</code>, <code>"warning"</code> or
<code>"suppress"</code> (for silencing messages) or <code>NULL</code> equivalent to <code>"suppress"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>parttime</code> vector. See the Details section of <a href="#topic+parttime">parttime</a> for
further information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as.parttime(c("1985-10-18", "1991-08-23", "1996-09-26"))
# &lt;partial_time&lt;YMDhmsZ&gt;[3]&gt;
# [1] "1985-10-18" "1991-08-23" "1996-09-26"

as.parttime(c("1234", "5678"), format = "(?&lt;year&gt;\\d{4})")
# &lt;partial_time&lt;YMDhmsZ&gt;[2]&gt;
# [1] "1234" "5678"

# format function that returns a matrix of components
utf8_str &lt;- function(x) intToUtf8(utf8ToInt(x) - 16)
as.parttime(c("B@", "B@A@"), format = function(x) cbind(year = sapply(x, utf8_str)))
# &lt;partial_time&lt;YMDhmsZ&gt;[2]&gt;
# [1] "2000" "2010"

# format function that returns a parttime object by first pre-processing input
as.parttime("B@BB", format = function(x) as.parttime(utf8_str(x)))
# &lt;partial_time&lt;YMDhmsZ&gt;[1]&gt;
# [1] "2022"

# format function that returns a parttime object by manual construction
as.parttime("AIII", format = function(x) parttime(year = as.numeric(utf8_str(x))))
# &lt;partial_time&lt;YMDhmsZ&gt;[1]&gt;
# [1] "1999"

</code></pre>

<hr>
<h2 id='as.timespan'>Cast an object to a timespan</h2><span id='topic+as.timespan'></span>

<h3>Description</h3>

<p>Cast an object to a timespan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.timespan(x, ..., format = parse_iso8601_datetime_as_timespan)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.timespan_+3A_x">x</code></td>
<td>
<p>an object to cast</p>
</td></tr>
<tr><td><code id="as.timespan_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>format</code> when a function is
provided.</p>
</td></tr>
<tr><td><code id="as.timespan_+3A_format">format</code></td>
<td>
<p>a <code>function</code> or <code>character</code> value. If a
<code>function</code>, it should accept a character vector and return a matrix of
parttime components. If a <code>character</code> it should provide a regular
exprssion which contains capture groups for each of the parttime
components.  See <a href="#topic+parse_to_parttime_matrix">parse_to_parttime_matrix</a>'s <code>regex</code> parameter
for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> object. See the Details section of <a href="#topic+timespan">timespan</a>
for more information.
</p>

<hr>
<h2 id='c.partial_time'>Concatenate parttimes</h2><span id='topic+c.partial_time'></span>

<h3>Description</h3>

<p>Concatenate parttimes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
c(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="c.partial_time_+3A_...">...</code></td>
<td>
<p>objects to be concatenated.  All <code><a href="base.html#topic+NULL">NULL</a></code> entries
are dropped before method dispatch unless at the very beginning of the
argument list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector. An error is raised if any other class object
is attempted to be concatenated.
</p>

<hr>
<h2 id='definitely'>&quot;Definitely&quot; generic for resolving uncertainty</h2><span id='topic+definitely'></span>

<h3>Description</h3>

<p>&quot;Definitely&quot; generic for resolving uncertainty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>definitely(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="definitely_+3A_x">x</code></td>
<td>
<p>an uncertain object to resolve</p>
</td></tr>
<tr><td><code id="definitely_+3A_...">...</code></td>
<td>
<p>additional paramters used by class-specific functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether the partial time comparison is
possibly or definitely true provided any uncertainty represented in the
<code>partial_time</code> inputs.
</p>


<h3>See Also</h3>

<p>Other uncert-resolvers: 
<code><a href="#topic+possibly">possibly</a>()</code>
</p>

<hr>
<h2 id='definitely.partial_time_logical'>Determine whether a partial_time logical matrix is definitely TRUE</h2><span id='topic+definitely.partial_time_logical'></span>

<h3>Description</h3>

<p>Determine whether a partial_time logical matrix is definitely TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time_logical'
definitely(x, by = ncol(attr(x, "pttm_lgl")), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="definitely.partial_time_logical_+3A_x">x</code></td>
<td>
<p>a partial_time_logical matrix for coersion</p>
</td></tr>
<tr><td><code id="definitely.partial_time_logical_+3A_by">by</code></td>
<td>
<p>the resolution of assessment, a column or index</p>
</td></tr>
<tr><td><code id="definitely.partial_time_logical_+3A_...">...</code></td>
<td>
<p>additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether the partial time comparison is
possibly or definitely true provided any uncertainty represented in the
<code>partial_time</code> inputs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- as.parttime(c("", "2019", "2018-01-02"))
y &lt;- as.parttime(c("2018", "2019-02", "2018-02"))

definitely(x != y)
definitely(x != y, by = "year")

</code></pre>

<hr>
<h2 id='dim.partial_time'>parttime vector dimensions</h2><span id='topic+dim.partial_time'></span>

<h3>Description</h3>

<p>parttime vector dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
dim(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dim.partial_time_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>integer</code> vector of dimensions (length) of a <code>partial_time</code> vector
</p>

<hr>
<h2 id='end'>end S3 generic</h2><span id='topic+end'></span>

<h3>Description</h3>

<p>A generic method to retrieve the end of an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>end(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="end_+3A_x">x</code></td>
<td>
<p>An object to retrieve the end from</p>
</td></tr>
<tr><td><code id="end_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The ending <code>partial_time</code> of a <code>partial_timespan</code> object.
</p>

<hr>
<h2 id='eq_parttimes'>Equal comparison handler for partial_time objects</h2><span id='topic+eq_parttimes'></span>

<h3>Description</h3>

<p>Equal comparison handler for partial_time objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eq_parttimes(generic, e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eq_parttimes_+3A_generic">generic</code></td>
<td>
<p>the generic operator selected</p>
</td></tr>
<tr><td><code id="eq_parttimes_+3A_e1">e1</code></td>
<td>
<p>objects</p>
</td></tr>
<tr><td><code id="eq_parttimes_+3A_e2">e2</code></td>
<td>
<p>objects</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.parttime(c("2019", "2018-01-04", NA, "2011"))
y &lt;- as.parttime(c("2019", "2018-01-03", NA, "2010-01"))

x == y

</code></pre>

<hr>
<h2 id='extract'>Similar to matrix and array <code>[</code> behavior, but allows for providing a numeric
vector of dimensions to drop</h2><span id='topic+extract'></span>

<h3>Description</h3>

<p>Similar to matrix and array <code>[</code> behavior, but allows for providing a numeric
vector of dimensions to drop
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract(x, ..., drop = TRUE, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_+3A_x">x</code></td>
<td>
<p>array or matrix to extract from</p>
</td></tr>
<tr><td><code id="extract_+3A_...">...</code></td>
<td>
<p>pased to <code>[</code></p>
</td></tr>
<tr><td><code id="extract_+3A_drop">drop</code></td>
<td>
<p>whether to drop dimensions, a logical or numeric vector of
dimensions to drop</p>
</td></tr>
<tr><td><code id="extract_+3A_envir">envir</code></td>
<td>
<p>environment in which to evaluate <code>[</code> call</p>
</td></tr>
</table>

<hr>
<h2 id='format_field_matrix'>Format individual components of a parttime matrix</h2><span id='topic+format_field_matrix'></span>

<h3>Description</h3>

<p>Format individual components of a parttime matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_field_matrix(
  x,
  verbose = getOption("parttime.print_verbose", FALSE),
  tz
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_field_matrix_+3A_x">x</code></td>
<td>
<p>a parttime <code>matrix</code> to format</p>
</td></tr>
<tr><td><code id="format_field_matrix_+3A_verbose">verbose</code></td>
<td>
<p>a <code>logical</code> value indicating whether to include full
timestamps, even if partially missing.</p>
</td></tr>
<tr><td><code id="format_field_matrix_+3A_tz">tz</code></td>
<td>
<p>a <code>logical</code> value indicating whether to include timezone
information. By default, will only display time zones if they are not
missing and not equal to the assumed timezone option.</p>
</td></tr>
</table>

<hr>
<h2 id='format.partial_time'>Format a parttime object</h2><span id='topic+format.partial_time'></span>

<h3>Description</h3>

<p>Format a parttime object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
format(x, ..., quote = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format.partial_time_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> object</p>
</td></tr>
<tr><td><code id="format.partial_time_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <a href="#topic+format_field_matrix">format_field_matrix</a></p>
</td></tr>
<tr><td><code id="format.partial_time_+3A_quote">quote</code></td>
<td>
<p>A <code>logical</code> indicating whether to add quotation marks around
formatted objects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector representation of a <code>partial_time</code> vector
</p>

<hr>
<h2 id='format.pillar_shaft_partial_time'>parttime pillar formatting</h2><span id='topic+format.pillar_shaft_partial_time'></span>

<h3>Description</h3>

<p>parttime pillar formatting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pillar_shaft_partial_time'
format(x, width, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format.pillar_shaft_partial_time_+3A_x">x</code></td>
<td>
<p>A character vector with formatting,
can use ANYI styles e.g provided by the <span class="pkg">cli</span> package.</p>
</td></tr>
<tr><td><code id="format.pillar_shaft_partial_time_+3A_width">width</code></td>
<td>
<p>A maximum display width of the each element in the resulting
vector of strings</p>
</td></tr>
<tr><td><code id="format.pillar_shaft_partial_time_+3A_...">...</code></td>
<td>
<p>Additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> representation of a <code>partial_time</code> vector
</p>

<hr>
<h2 id='has_partial'>Test whether a partial_time object is incomplete</h2><span id='topic+has_partial'></span>

<h3>Description</h3>

<p>Test whether a partial_time object is incomplete
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_partial(
  x,
  ...,
  components = c("year", "month", "day", "hour", "min", "sec", "secfrac", "tzhour",
    "tzmin")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_partial_+3A_x">x</code></td>
<td>
<p>a partial_time object to test for incompleteness</p>
</td></tr>
<tr><td><code id="has_partial_+3A_...">...</code></td>
<td>
<p>additional arguments unused</p>
</td></tr>
<tr><td><code id="has_partial_+3A_components">components</code></td>
<td>
<p>components to include in testing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether each element of a <code>partial_time</code>
has any missing datetime fields.
</p>

<hr>
<h2 id='has_partial_date'>Test whether a partial_time object's date components are incomplete</h2><span id='topic+has_partial_date'></span>

<h3>Description</h3>

<p>Test whether a partial_time object's date components are incomplete
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_partial_date(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_partial_date_+3A_x">x</code></td>
<td>
<p>a partial_time object to test for incompleteness</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether each element of a <code>partial_time</code>
has any missing date fields.
</p>

<hr>
<h2 id='has_partial_time'>Test whether a partial_time object's time components are incomplete</h2><span id='topic+has_partial_time'></span>

<h3>Description</h3>

<p>Test whether a partial_time object's time components are incomplete
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_partial_time(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_partial_time_+3A_x">x</code></td>
<td>
<p>a partial_time object to test for incompleteness</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether each element of a <code>partial_time</code>
has any missing time fields.
</p>

<hr>
<h2 id='impute_time'>Impute a partial time object with a timestamp or specific fields</h2><span id='topic+impute_time'></span><span id='topic+impute_date'></span><span id='topic+impute_time_min'></span><span id='topic+impute_date_min'></span><span id='topic+impute_time_max'></span><span id='topic+impute_date_max'></span><span id='topic+impute_time_mid'></span><span id='topic+impute_date_mid'></span><span id='topic+impute_time.default'></span><span id='topic+impute_time.POSIXt'></span><span id='topic+impute_time.partial_time'></span>

<h3>Description</h3>

<p>Impute a partial time object with a timestamp or specific fields
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_time(x, time, tz, ...)

impute_date(x, time, ..., res = "day")

impute_time_min(x, tz = "-1200", ...)

impute_date_min(x, ..., res = "day")

impute_time_max(x, tz = "+1400", ...)

impute_date_max(x, ..., res = "day")

impute_time_mid(x, tz = "GMT", ...)

impute_date_mid(x, ..., res = "day")

## Default S3 method:
impute_time(x, time, tz = "GMT", ...)

## S3 method for class 'POSIXt'
impute_time(x, time, tz = "GMT", ...)

## S3 method for class 'partial_time'
impute_time(x, time, tz = "GMT", ..., res = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_time_+3A_x">x</code></td>
<td>
<p>a datetime-like object to impute</p>
</td></tr>
<tr><td><code id="impute_time_+3A_time">time</code></td>
<td>
<p>a datetime-like object to use for imputation</p>
</td></tr>
<tr><td><code id="impute_time_+3A_tz">tz</code></td>
<td>
<p>a character timezone name for imputation, a character value to use
as the timezone part of the datetime or an numeric minute offset.</p>
</td></tr>
<tr><td><code id="impute_time_+3A_...">...</code></td>
<td>
<p>additional individual named fields to impute. Can be one of
&quot;year&quot;, &quot;month&quot;, &quot;day&quot;, &quot;hour&quot;, &quot;min&quot;, &quot;sec&quot;, &quot;tzhour&quot;</p>
</td></tr>
<tr><td><code id="impute_time_+3A_res">res</code></td>
<td>
<p>the highest resolution datetime field used for imputation. Either
a character value represented the highest resolution field or <code>NULL</code>
to impute all fields. For the <code>impute_date</code> family of functions,
defaults to <code>"day"</code>, or <code>NULL</code> otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a new <code>partial_time</code> with specified fields imputed by values provided
by the imputation <code>time</code>
</p>

<hr>
<h2 id='includes'>Determine whether one object includes another</h2><span id='topic+includes'></span>

<h3>Description</h3>

<p>Determine whether one object includes another
</p>


<h3>Usage</h3>

<pre><code class='language-R'>includes(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="includes_+3A_e1">e1</code></td>
<td>
<p>object to test whether includes <code>e2</code></p>
</td></tr>
<tr><td><code id="includes_+3A_e2">e2</code></td>
<td>
<p>object to test whether included in <code>e1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether <code>e1</code> includes <code>e2</code>
</p>

<hr>
<h2 id='includes.partial_time'>Determine whether a partial time contains an object</h2><span id='topic+includes.partial_time'></span>

<h3>Description</h3>

<p>Determine whether a partial time contains an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
includes(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="includes.partial_time_+3A_e1">e1</code></td>
<td>
<p>object to test whether includes <code>e2</code></p>
</td></tr>
<tr><td><code id="includes.partial_time_+3A_e2">e2</code></td>
<td>
<p>object to test whether included in <code>e1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether <code>e1</code> includes <code>e2</code>
</p>

<hr>
<h2 id='includes.partial_time.partial_time'>Test for whether a timestamp could be included within parttime uncertainty</h2><span id='topic+includes.partial_time.partial_time'></span>

<h3>Description</h3>

<p>Test for whether a timestamp could be included within parttime uncertainty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
includes.partial_time(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="includes.partial_time.partial_time_+3A_e1">e1</code></td>
<td>
<p>object to test whether includes <code>e2</code></p>
</td></tr>
<tr><td><code id="includes.partial_time.partial_time_+3A_e2">e2</code></td>
<td>
<p>object to test whether included in <code>e1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether <code>partial_time</code> <code>e1</code> includes
<code>partial_time</code> <code>e2</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x_chr &lt;- c("2019", "2019-03-01", "2019-03",    "2018",    "",     "2018", "")
y_chr &lt;- c("2019", "2019-03",    "2019-03-01", "2016-05", "2018", "",     "")

x &lt;- as.parttime(x_chr)
y &lt;- as.parttime(y_chr)

includes(x, y)

</code></pre>

<hr>
<h2 id='is_partial_time'>Shorthand for checking partial time inheritance</h2><span id='topic+is_partial_time'></span><span id='topic+is.partial_time'></span><span id='topic+is_parttime'></span><span id='topic+is.parttime'></span>

<h3>Description</h3>

<p>Shorthand for checking partial time inheritance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_partial_time(x)

is.partial_time(x)

is_parttime(x)

is.parttime(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_partial_time_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical scalar indicating whether an object is a <code>partial_time</code>
object.
</p>

<hr>
<h2 id='is_timespan'>Shorthand for checking timespan inheritance</h2><span id='topic+is_timespan'></span>

<h3>Description</h3>

<p>Shorthand for checking timespan inheritance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_timespan(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_timespan_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical scalar indicating whether an object is a <code>partial_timespan</code>
object.
</p>

<hr>
<h2 id='is.na.partial_time'>Check if elements of a partial time vector is NA</h2><span id='topic+is.na.partial_time'></span>

<h3>Description</h3>

<p>Check if elements of a partial time vector is NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
is.na(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.na.partial_time_+3A_x">x</code></td>
<td>
<p>partial_time vector to test</p>
</td></tr>
<tr><td><code id="is.na.partial_time_+3A_...">...</code></td>
<td>
<p>additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether each element in the
<code>partial_time</code> vector is <code>NA</code>.
</p>

<hr>
<h2 id='is.na.timespan'>Check if elements of a partial time vector is NA</h2><span id='topic+is.na.timespan'></span>

<h3>Description</h3>

<p>Check if elements of a partial time vector is NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan'
is.na(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.na.timespan_+3A_x">x</code></td>
<td>
<p>partial_time vector to test</p>
</td></tr>
<tr><td><code id="is.na.timespan_+3A_...">...</code></td>
<td>
<p>additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether each element in the
<code>partial_timespan</code> vector is <code>NA</code>.
</p>

<hr>
<h2 id='is.timespan'>Shorthand for checking timespan inheritance</h2><span id='topic+is.timespan'></span>

<h3>Description</h3>

<p>Shorthand for checking timespan inheritance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.timespan(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.timespan_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical scalar indicating whether an object is a <code>partial_timespan</code>
object.
</p>

<hr>
<h2 id='max.partial_time'>Get the maximum of a parttime vector</h2><span id='topic+max.partial_time'></span>

<h3>Description</h3>

<p>Get the maximum of a parttime vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
max(..., na.rm = FALSE, na.warn = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="max.partial_time_+3A_...">...</code></td>
<td>
<p>partial_time objects</p>
</td></tr>
<tr><td><code id="max.partial_time_+3A_na.rm">na.rm</code></td>
<td>
<p>whether <code>NA</code> should be removed when calculating max</p>
</td></tr>
<tr><td><code id="max.partial_time_+3A_na.warn">na.warn</code></td>
<td>
<p>whether to raise a warning for <code>NA</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> scalar
</p>


<h3>Examples</h3>

<pre><code class='language-R'>max(parttime(c("2019", "2018", "2019-02", "2018-03")))

</code></pre>

<hr>
<h2 id='min.partial_time'>Get the minimum of aparttime vector</h2><span id='topic+min.partial_time'></span>

<h3>Description</h3>

<p>Get the minimum of aparttime vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
min(..., na.rm = FALSE, na.warn = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="min.partial_time_+3A_...">...</code></td>
<td>
<p>partial_time objects</p>
</td></tr>
<tr><td><code id="min.partial_time_+3A_na.rm">na.rm</code></td>
<td>
<p>whether <code>NA</code> should be removed when calculating min</p>
</td></tr>
<tr><td><code id="min.partial_time_+3A_na.warn">na.warn</code></td>
<td>
<p>whether to raise a warning for <code>NA</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> scalar
</p>

<hr>
<h2 id='neq_parttimes'>Not-equal comparison handler for partial_time objects</h2><span id='topic+neq_parttimes'></span>

<h3>Description</h3>

<p>Not-equal comparison handler for partial_time objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>neq_parttimes(generic, e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="neq_parttimes_+3A_generic">generic</code></td>
<td>
<p>the generic operator selected</p>
</td></tr>
<tr><td><code id="neq_parttimes_+3A_e1">e1</code></td>
<td>
<p>objects</p>
</td></tr>
<tr><td><code id="neq_parttimes_+3A_e2">e2</code></td>
<td>
<p>objects</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.parttime(c("2019", "2018-01",    NA, "2011"))
y &lt;- as.parttime(c("2019", "2018-01-03", NA, "2010-01"))

x != y

</code></pre>

<hr>
<h2 id='normalize_month_day'>Normalize days in month back to day limit for a given month</h2><span id='topic+normalize_month_day'></span>

<h3>Description</h3>

<p>Normalize days in month back to day limit for a given month
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalize_month_day(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normalize_month_day_+3A_x">x</code></td>
<td>
<p>a vector of parttime objects with days which may exceed viable days
of month</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of <code>partial_time</code> objects with normalized days of the month
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.parttime(c("2019", "2019-02-31", "2019-01-05", "2016-02-31", "2016-01-05"))
parttime:::normalize_month_day(x)

</code></pre>

<hr>
<h2 id='obj_print_data.partial_time'>parttime data output</h2><span id='topic+obj_print_data.partial_time'></span>

<h3>Description</h3>

<p>parttime data output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
obj_print_data(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obj_print_data.partial_time_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> object</p>
</td></tr>
<tr><td><code id="obj_print_data.partial_time_+3A_...">...</code></td>
<td>
<p>Additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> representation of <code>partial_time</code>
</p>

<hr>
<h2 id='obj_print_footer.partial_time'>parttime footer</h2><span id='topic+obj_print_footer.partial_time'></span>

<h3>Description</h3>

<p>parttime footer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
obj_print_footer(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obj_print_footer.partial_time_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> object</p>
</td></tr>
<tr><td><code id="obj_print_footer.partial_time_+3A_...">...</code></td>
<td>
<p>Additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string output when <code>partial_time</code> vector printing exceeds max print
length.
</p>

<hr>
<h2 id='obj_print_header.partial_time'>parttime output header</h2><span id='topic+obj_print_header.partial_time'></span>

<h3>Description</h3>

<p>parttime output header
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
obj_print_header(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obj_print_header.partial_time_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> object</p>
</td></tr>
<tr><td><code id="obj_print_header.partial_time_+3A_...">...</code></td>
<td>
<p>Additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> representation of <code>partial_time</code> metadata, as used to
describe its vector output header
</p>

<hr>
<h2 id='Ops.partial_time'>Handler for Ops generics for partial_time objects</h2><span id='topic+Ops.partial_time'></span>

<h3>Description</h3>

<p>Handler for Ops generics for partial_time objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
Ops(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ops.partial_time_+3A_e1">e1</code></td>
<td>
<p>objects</p>
</td></tr>
<tr><td><code id="Ops.partial_time_+3A_e2">e2</code></td>
<td>
<p>objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>partial_time</code> objects only implement binary operators <code>==</code> and <code>!=</code>. For
other operators, <code>partial_time</code>s are first converted to <code>partial_timespan</code>s
for operator evaluation.
</p>


<h3>Value</h3>

<p>the binary operator result of <code>partial_time</code> <code>e1</code> with <code>e2</code>. See
Details for more information on operator behaviors.
</p>


<h3>See Also</h3>

<p>possibly definitely
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#                 when assume_tz "GMT"         when assume_tz NA
#                 ---------------------------  ---------------------------
#                 raw    possibly  definitely  raw   possibly  definitely
#                 -----  --------- ----------  ----- --------- -----------
#     1998 &lt; 1999 TRUE   TRUE      TRUE        NA    TRUE      FALSE
#     1998 &lt; 1997 FALSE  FALSE     FALSE       NA    TRUE      FALSE
#     1999 &lt; 1999 NA     TRUE      FALSE       NA    TRUE      FALSE
# 1998 &lt; 1999/1/3 TRUE   TRUE      TRUE        TRUE  TRUE      TRUE

parttime(1998) &lt; parttime(1999)
parttime(1998) &lt; parttime(1997)
parttime(1999) &lt; parttime(1999)
parttime(1998) &lt; parttime(1999, 1, 3)

</code></pre>

<hr>
<h2 id='Ops.timespan'>Handler for Ops generics for timespan objects</h2><span id='topic+Ops.timespan'></span>

<h3>Description</h3>

<p>Handler for Ops generics for timespan objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan'
Ops(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ops.timespan_+3A_e1">e1</code></td>
<td>
<p>objects</p>
</td></tr>
<tr><td><code id="Ops.timespan_+3A_e2">e2</code></td>
<td>
<p>objects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the binary operator result of <code>partial_timespan</code> <code>e1</code> with <code>e2</code>. See
Details for more information on operator behaviors.
</p>

<hr>
<h2 id='parse_cdisc_datetime'>Parse cdisc datetime strings as parttime matrix</h2><span id='topic+parse_cdisc_datetime'></span><span id='topic+parse_iso8601_datetime'></span><span id='topic+parse_iso8601_datetime_as_timespan'></span><span id='topic+parse_to_parttime_matrix'></span>

<h3>Description</h3>

<p>Parse cdisc datetime strings as parttime matrix
</p>
<p>Parse iso8601 datetime strings as parttime matrix
</p>
<p>Parse iso8601 datetime strings as timespan array
</p>
<p>Parse a character vector to create a matrix of datetime fields
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_cdisc_datetime(x, warn = TRUE, ...)

parse_iso8601_datetime(x, warn = TRUE, ...)

parse_iso8601_datetime_as_timespan(x, ...)

parse_to_parttime_matrix(dates, regex = re_iso8601)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_cdisc_datetime_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector of iso8601 datetime strings</p>
</td></tr>
<tr><td><code id="parse_cdisc_datetime_+3A_warn">warn</code></td>
<td>
<p>A <code>logical</code> indicating whether to warn when information
would be loss when coercing to a <code>parttime</code> matrix.</p>
</td></tr>
<tr><td><code id="parse_cdisc_datetime_+3A_...">...</code></td>
<td>
<p>Additional arguments unused</p>
</td></tr>
<tr><td><code id="parse_cdisc_datetime_+3A_dates">dates</code></td>
<td>
<p>character vector of dates to parse for iso8601 components</p>
</td></tr>
<tr><td><code id="parse_cdisc_datetime_+3A_regex">regex</code></td>
<td>
<p>A regular expression used for parsing parttime strings. Defaults
to a parser for the ISO8601 standard. Should include named capture groups
for each datetime field. See Details for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A format regular expression should separate the components of a valid
datetime string, capturing strings which can be coerced to numeric values for
each of the nine datetime fields:
</p>

<ul>
<li><p><code>year</code>
</p>
</li>
<li><p><code>month</code>
</p>
</li>
<li><p><code>day</code>
</p>
</li>
<li><p><code>hour</code>
</p>
</li>
<li><p><code>min</code>
</p>
</li>
<li><p><code>sec</code>
</p>
</li>
<li><p><code>tzhour</code>
</p>
</li></ul>



<h3>Value</h3>

<p>A matrix of capture fields discovered while parsing CDISC-style
datetimes.
</p>
<p>A matrix of capture fields discovered while parsing ISO8601-style
datetimes.
</p>
<p>A character matrix of capture fields provided by the provided regular
expression
</p>


<h3>Note</h3>

<p>A timespan array is an internal data structure used as the backend
representation of timespan objects. It consists of two parttime-like matrices
(with the addition of an &quot;inclusive&quot; column), one for the lower- and
upper-bounds of the timespan. Collectively, this amounts to a three
dimensional array.
</p>


<h3>References</h3>

<p><a href="https://www.cdisc.org/system/files/members/standard/foundational/SDTMIG_v3.4.pdf">CDISC SDTMIG v3.4</a>
</p>
<p><a href="https://en.wikipedia.org/wiki/ISO_8601">&quot;ISO_8601&quot; on Wikipedia</a>
</p>

<hr>
<h2 id='parse_failure_message'>Format a message communicating parse failure information</h2><span id='topic+parse_failure_message'></span>

<h3>Description</h3>

<p>Format a message communicating parse failure information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_failure_message(input, output)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_failure_message_+3A_input">input</code></td>
<td>
<p>The input provided to the parser</p>
</td></tr>
<tr><td><code id="parse_failure_message_+3A_output">output</code></td>
<td>
<p>The parttimes returned by the parser</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message communicating failure modes for NAs introduced into output
that were not present in the input
</p>

<hr>
<h2 id='parse_iso8601_helpers'>Inspecting and manipulating intermediate iso8601 matrices</h2><span id='topic+parse_iso8601_helpers'></span><span id='topic+is_iso8601_form'></span><span id='topic+is_iso8601_weekday'></span><span id='topic+is_iso8601_yearday'></span><span id='topic+is_iso8601_minfrac'></span><span id='topic+recalc_md_from_weekday'></span><span id='topic+recalc_md_from_yearday'></span><span id='topic+recalc_sec_from_minfrac'></span>

<h3>Description</h3>

<p>An &quot;iso8601 matrix&quot; is a matrix of the various capture groups extraced from a
an iso8601 datetime string. These groups represent a superset of the fields
used by partial time objects, including representation for less common
datetime formats like yeardays, yearweeks or weekdays. Because the standard
provides a number of different combinations of fields that represent valid
strings, these functions serves to provide convenience functions for testing
or manipulating these less canonical representations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_iso8601_form(x, fields)

is_iso8601_weekday(x)

is_iso8601_yearday(x)

is_iso8601_minfrac(x)

recalc_md_from_weekday(x)

recalc_md_from_yearday(x)

recalc_sec_from_minfrac(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_iso8601_helpers_+3A_x">x</code></td>
<td>
<p>A <code>numeric</code> matrix of possible iso8601 fields</p>
</td></tr>
<tr><td><code id="parse_iso8601_helpers_+3A_fields">fields</code></td>
<td>
<p>A <code>character</code> vector of fields</p>
</td></tr>
</table>


<h3>is_iso8601_* functions</h3>

<p>Test whether rows of the matrix represent a specific form, as evident by
non-missing values in specific fields.
</p>


<h3>recalc_* functions</h3>

<p>Calculate canonical datetime fields from alternative representations
</p>

<hr>
<h2 id='parse_iso8601_matrix'>Parse an iso8601 datetime to a parttime-like matrix</h2><span id='topic+parse_iso8601_matrix'></span>

<h3>Description</h3>

<p>Parse an iso8601 datetime to a parttime-like matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_iso8601_matrix(dates)
</code></pre>


<h3>Note</h3>

<p>In addition to parttime matrix fields, the returned matrix has
additional columns for alternative iso8601 formats such as <code>yearday</code>,
<code>yearweek</code> and <code>weakday</code>.
</p>

<hr>
<h2 id='parttime'>Create a parttime object</h2><span id='topic+parttime'></span>

<h3>Description</h3>

<p>Create a parttime object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parttime(
  year = NA,
  month = NA,
  day = NA,
  hour = NA,
  min = NA,
  sec = NA,
  tzhour = interpret_tz(getOption("parttime.assume_tz_offset", NA))/60
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parttime_+3A_year">year</code></td>
<td>
<p>numeric vector to use for partial time year component</p>
</td></tr>
<tr><td><code id="parttime_+3A_month">month</code></td>
<td>
<p>numeric vector to use for partial time month component</p>
</td></tr>
<tr><td><code id="parttime_+3A_day">day</code></td>
<td>
<p>numeric vector to use for partial time day component</p>
</td></tr>
<tr><td><code id="parttime_+3A_hour">hour</code></td>
<td>
<p>numeric vector to use for partial time hour component</p>
</td></tr>
<tr><td><code id="parttime_+3A_min">min</code></td>
<td>
<p>numeric vector to use for partial time min component</p>
</td></tr>
<tr><td><code id="parttime_+3A_sec">sec</code></td>
<td>
<p>numeric vector to use for partial time sec component</p>
</td></tr>
<tr><td><code id="parttime_+3A_tzhour">tzhour</code></td>
<td>
<p>numeric vector to use for partial time tzhour component</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>parttime</code> object (short for its class name, <code>partial_time</code>), is a vector
representation of a numeric matrix containing rows for each vector element
and a column for each datetime field.
</p>
<p>To inspect the internal representation of a <code>partial_time</code> class vector, you
can use <code style="white-space: pre;">&#8288;vctrs::field(&lt;pttm&gt;, "pttm_mat")&#8288;</code>.
</p>


<h3>Value</h3>

<p>A <code>partial_time</code> object. See Details section for further information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parttime(2019)

</code></pre>

<hr>
<h2 id='parttime_access_and_assign'>Datetime component access and assignment functions</h2><span id='topic+parttime_access_and_assign'></span><span id='topic+year'></span><span id='topic+year+3C-'></span><span id='topic+month'></span><span id='topic+month+3C-'></span><span id='topic+mday'></span><span id='topic+mday+3C-'></span><span id='topic+day'></span><span id='topic+day+3C-'></span><span id='topic+hour'></span><span id='topic+hour+3C-'></span><span id='topic+minute'></span><span id='topic+minute+3C-'></span><span id='topic+second'></span><span id='topic+second+3C-'></span><span id='topic+tz'></span><span id='topic+tz+3C-'></span><span id='topic+year.partial_time'></span><span id='topic+year+3C-.partial_time'></span><span id='topic+year+3C-+2Cpartial_time-method'></span><span id='topic+month.partial_time'></span><span id='topic+month+3C-.partial_time'></span><span id='topic+month+3C-+2Cpartial_time-method'></span><span id='topic+mday.partial_time'></span><span id='topic+day+3C-.partial_time'></span><span id='topic+day+3C-+2Cpartial_time-method'></span><span id='topic+hour.partial_time'></span><span id='topic+hour+3C-.partial_time'></span><span id='topic+hour+3C-+2Cpartial_time-method'></span><span id='topic+minute.partial_time'></span><span id='topic+minute+3C-.partial_time'></span><span id='topic+minute+3C-+2Cpartial_time-method'></span><span id='topic+second.partial_time'></span><span id='topic+second+3C-.partial_time'></span><span id='topic+second+3C-+2Cpartial_time-method'></span><span id='topic+tz.partial_time'></span><span id='topic+tz+3C-.partial_time'></span>

<h3>Description</h3>

<p>Datetime component access and assignment functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>year(x)

year(x) &lt;- value

month(x)

month(x) &lt;- value

mday(x)

mday(x) &lt;- value

day(x)

day(x) &lt;- value

hour(x)

hour(x) &lt;- value

minute(x)

minute(x) &lt;- value

second(x)

second(x) &lt;- value

tz(x)

tz(x) &lt;- value

## S3 method for class 'partial_time'
year(x)

## S3 replacement method for class 'partial_time'
year(x) &lt;- value

## S4 replacement method for signature 'partial_time'
year(x) &lt;- value

## S3 method for class 'partial_time'
month(x)

## S3 replacement method for class 'partial_time'
month(x) &lt;- value

## S4 replacement method for signature 'partial_time'
month(x) &lt;- value

## S3 method for class 'partial_time'
mday(x)

## S3 replacement method for class 'partial_time'
day(x) &lt;- value

## S4 replacement method for signature 'partial_time'
day(x) &lt;- value

## S3 method for class 'partial_time'
hour(x)

## S3 replacement method for class 'partial_time'
hour(x) &lt;- value

## S4 replacement method for signature 'partial_time'
hour(x) &lt;- value

## S3 method for class 'partial_time'
minute(x)

## S3 replacement method for class 'partial_time'
minute(x) &lt;- value

## S4 replacement method for signature 'partial_time'
minute(x) &lt;- value

## S3 method for class 'partial_time'
second(x)

## S3 replacement method for class 'partial_time'
second(x) &lt;- value

## S4 replacement method for signature 'partial_time'
second(x) &lt;- value

## S3 method for class 'partial_time'
tz(x)

## S3 replacement method for class 'partial_time'
tz(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parttime_access_and_assign_+3A_x">x</code></td>
<td>
<p>A time-like object to access or assign to</p>
</td></tr>
<tr><td><code id="parttime_access_and_assign_+3A_value">value</code></td>
<td>
<p>For assignment, a value to assign</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The numeric vector associated with the accessor field.
</p>


<h3>Note</h3>

<p>Care is taken to make these functionas as compatible as possible with similar
datetime packages. However, some functions may be masked and cause errors
using their masking functions.
</p>

<hr>
<h2 id='parttime_extract'>Indexing operators for partial_time objects</h2><span id='topic+parttime_extract'></span><span id='topic++5B.partial_time'></span><span id='topic++5B+5B.partial_time'></span><span id='topic++5B+3C-.partial_time'></span><span id='topic++5B+5B+3C-.partial_time'></span>

<h3>Description</h3>

<p>Indexing operators repurpose matrix indexing for indexing into parttime
fields. When only <code>i</code> is provided, the <code>parttime</code> vector is sliced.
Whenever <code>j</code> is provided, the individual fields are indexed out of an
internal matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
x[i, j, ...]

## S3 method for class 'partial_time'
x[[i, j, ..., value]]

## S3 replacement method for class 'partial_time'
x[i, j, ..., reflow = TRUE] &lt;- value

## S3 replacement method for class 'partial_time'
x[[i, ...]] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parttime_extract_+3A_x">x</code></td>
<td>
<p>an object from which to extract element(s) or in which to replace
element(s).</p>
</td></tr>
<tr><td><code id="parttime_extract_+3A_i">i</code></td>
<td>
<p>indicies specifying elements to extract or replace. For further
details, see <a href="base.html#topic+Extract">Extract</a>.</p>
</td></tr>
<tr><td><code id="parttime_extract_+3A_j">j</code></td>
<td>
<p>column indicies specifying element(s) to extract or replace. For
further details, see <a href="base.html#topic+Extract">Extract</a>.</p>
</td></tr>
<tr><td><code id="parttime_extract_+3A_...">...</code></td>
<td>
<p>arguments unused</p>
</td></tr>
<tr><td><code id="parttime_extract_+3A_value">value</code></td>
<td>
<p>typically an array-like <span class="rlang"><b>R</b></span> object of a similar class as
<code>x</code>.</p>
</td></tr>
<tr><td><code id="parttime_extract_+3A_reflow">reflow</code></td>
<td>
<p>a <code>logical</code> indicating whether modified data fields should
be reflowed, cascading range overflow. Setting to <code>FALSE</code> permits
invalid dates, but saves on compute. Generally, it should only be disabled
when multiple calculations are performed back-to-back and the dates only
need to be reflowed once at the end of the calculation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric matrix subset of the <code>partial_time</code> internal matrix
representation. See the Details section of <a href="#topic+parttime">parttime</a> for further
information.
</p>
<p>A <code>numeric</code> vector of the provided parttime field
</p>
<p>the new value of the assigned <code>partial_time</code> object after
modification.
</p>
<p>A <code>partial_time</code> vector after modification
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.parttime(c("2019", "2019-02", "2019-02-02"))
# &lt;partial_time&lt;YMDhms+tz&gt;[3]&gt;
# [1] "2019"       "2019-02"    "2019-02-02"

x[, c(1, 3)]
#            year day
# 2019       2019  NA
# 2019-02    2019  NA
# 2019-02-02 2019   2

x[, "month"]
#       2019    2019-02 2019-02-02
#         NA          2          2

x[, "month", drop = FALSE]
#            month
# 2019          NA
# 2019-02        2
# 2019-02-02     2

x &lt;- as.parttime(c("2019", "2019-02", "2019-02-02"))
# &lt;partial_time&lt;YMDhms+tz&gt;[3]&gt;
# [1] "2019"       "2019-02"    "2019-02-02"

x[c(1, 3)] &lt;- as.parttime(c("2000", "1999"))
# &lt;partial_time&lt;YMDhms+tz&gt;[3]&gt;
# [1] "2000"    "2019-02" "1999"

x[,"month"] &lt;- 3
# &lt;partial_time&lt;YMDhms+tz&gt;[3]&gt;
# [1] "2000-03" "2019-03" "1999-03"

</code></pre>

<hr>
<h2 id='parttime_logical'>This class is purely for retaining logical information for immediate
truncation as to not overccomplicate coersion needs with another vctr class</h2><span id='topic+parttime_logical'></span>

<h3>Description</h3>

<p>This class is purely for retaining logical information for immediate
truncation as to not overccomplicate coersion needs with another vctr class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parttime_logical(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parttime_logical_+3A_x">x</code></td>
<td>
<p>create a parttime logical to store logical matrix following parttime
comparison operations</p>
</td></tr>
</table>

<hr>
<h2 id='pillar_shaft.partial_time'>parttime as pillar shaft</h2><span id='topic+pillar_shaft.partial_time'></span>

<h3>Description</h3>

<p>parttime as pillar shaft
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
pillar_shaft(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pillar_shaft.partial_time_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
<tr><td><code id="pillar_shaft.partial_time_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="pillar.html#topic+new_pillar_shaft">new_pillar_shaft()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> representation of a <code>partial_time</code> vector
</p>

<hr>
<h2 id='pmax'>Maxima and Minima</h2><span id='topic+pmax'></span>

<h3>Description</h3>

<p>Returns the (regular or <b>p</b>arallel) maxima and minima of the
input values.
</p>
<p><code>pmax*()</code> and <code>pmin*()</code> take one or more vectors as
arguments, recycle them to common length and return a single vector
giving the <em>&lsquo;parallel&rsquo;</em> maxima (or minima) of the argument
vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmax(..., na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmax_+3A_...">...</code></td>
<td>
<p>numeric or character arguments (see Note).</p>
</td></tr>
<tr><td><code id="pmax_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be
removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>max</code> and <code>min</code> return the maximum or minimum of <em>all</em>
the  values present in their arguments, as <code><a href="base.html#topic+integer">integer</a></code> if
all are <code>logical</code> or <code>integer</code>, as <code><a href="base.html#topic+double">double</a></code> if
all are numeric, and character otherwise.
</p>
<p>If <code>na.rm</code> is <code>FALSE</code> an <code>NA</code> value in any of the
arguments will cause a value of <code>NA</code> to be returned, otherwise
<code>NA</code> values are ignored.
</p>
<p>The minimum and maximum of a numeric empty set are <code>+Inf</code> and
<code>-Inf</code> (in this order!) which ensures <em>transitivity</em>, e.g.,
<code>min(x1, min(x2)) == min(x1, x2)</code>.  For numeric <code>x</code>
<code>max(x) == -Inf</code> and <code>min(x) == +Inf</code>
whenever <code>length(x) == 0</code> (after removing missing values if
requested).  However, <code>pmax</code> and <code>pmin</code> return
<code>NA</code> if all the parallel elements are <code>NA</code> even for
<code>na.rm = TRUE</code>.
</p>
<p><code>pmax</code> and <code>pmin</code> take one or more vectors (or matrices) as
arguments and return a single vector giving the &lsquo;parallel&rsquo;
maxima (or minima) of the vectors.  The first element of the result is
the maximum (minimum) of the first elements of all the arguments, the
second element of the result is the maximum (minimum) of the second
elements of all the arguments and so on.  Shorter inputs (of non-zero
length) are recycled if necessary.  Attributes (see
<code><a href="base.html#topic+attributes">attributes</a></code>: such as <code><a href="base.html#topic+names">names</a></code> or
<code><a href="base.html#topic+dim">dim</a></code>) are copied from the first argument (if applicable,
e.g., <em>not</em> for an <code>S4</code> object).
</p>
<p><code>pmax.int</code> and <code>pmin.int</code> are faster internal versions only
used when all arguments are atomic vectors and there are no classes:
they drop all attributes.  (Note that all versions fail for raw and
complex vectors since these have no ordering.)
</p>
<p><code>max</code> and <code>min</code> are generic functions: methods can be
defined for them individually or via the
<code><a href="base.html#topic+S3groupGeneric">Summary</a></code> group generic.  For this to
work properly, the arguments <code>...</code> should be unnamed, and
dispatch is on the first argument.
</p>
<p>By definition the min/max of a numeric vector containing an <code>NaN</code>
is <code>NaN</code>, except that the min/max of any vector containing an
<code>NA</code> is <code>NA</code> even if it also contains an <code>NaN</code>.
Note that <code>max(NA, Inf) == NA</code> even though the maximum would be
<code>Inf</code> whatever the missing value actually is.
</p>
<p>Character versions are sorted lexicographically, and this depends on
the collating sequence of the locale in use: the help for
&lsquo;<a href="base.html#topic+Comparison">Comparison</a>&rsquo; gives details.  The max/min of an empty
character vector is defined to be character <code>NA</code>.  (One could
argue that as <code>""</code> is the smallest character element, the maximum
should be <code>""</code>, but there is no obvious candidate for the
minimum.)
</p>


<h3>Value</h3>

<p>For <code>min</code> or <code>max</code>, a length-one vector.  For <code>pmin</code> or
<code>pmax</code>, a vector of length the longest of the input vectors, or
length zero if one of the inputs had zero length.
</p>
<p>The type of the result will be that of the highest of the inputs in
the hierarchy integer &lt; double &lt; character.
</p>
<p>For <code>min</code> and <code>max</code> if there are only numeric inputs and all
are empty (after possible removal of <code>NA</code>s), the result is double
(<code>Inf</code> or <code>-Inf</code>).
</p>


<h3>S4 methods</h3>

<p><code>max</code> and <code>min</code> are part of the S4
<code><a href="methods.html#topic+S4groupGeneric">Summary</a></code> group generic.  Methods
for them must use the signature <code>x, ..., na.rm</code>.
</p>


<h3>Note</h3>

<p>&lsquo;Numeric&rsquo; arguments are vectors of type integer and numeric,
and logical (coerced to integer).  For historical reasons, <code>NULL</code>
is accepted as equivalent to <code>integer(0)</code>.
</p>
<p><code>pmax</code> and <code>pmin</code> will also work on classed S3 or S4 objects
with appropriate methods for comparison, <code>is.na</code> and <code>rep</code>
(if recycling of arguments is needed).
</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+range">range</a></code> (<em>both</em> min and max) and
<code><a href="base.html#topic+which.min">which.min</a></code> (<code>which.max</code>) for the <em>arg min</em>,
i.e., the location where an extreme value occurs.
</p>
<p>&lsquo;<a href="grDevices.html#topic+plotmath">plotmath</a>&rsquo; for the use of <code>min</code> in plot annotation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats); require(graphics)
 min(5:1, pi) #-&gt; one number
pmin(5:1, pi) #-&gt;  5  numbers

x &lt;- sort(rnorm(100));  cH &lt;- 1.35
pmin(cH, quantile(x)) # no names
pmin(quantile(x), cH) # has names
plot(x, pmin(cH, pmax(-cH, x)), type = "b", main =  "Huber's function")

cut01 &lt;- function(x) pmax(pmin(x, 1), 0)
curve(      x^2 - 1/4, -1.4, 1.5, col = 2)
curve(cut01(x^2 - 1/4), col = "blue", add = TRUE, n = 500)
## pmax(), pmin() preserve attributes of *first* argument
D &lt;- diag(x = (3:1)/4) ; n0 &lt;- numeric()
stopifnot(identical(D,  cut01(D) ),
          identical(n0, cut01(n0)),
          identical(n0, cut01(NULL)),
          identical(n0, pmax(3:1, n0, 2)),
          identical(n0, pmax(n0, 4)))
</code></pre>

<hr>
<h2 id='pmax.partial_time'>Get the elementwise maximum of parttime vectors</h2><span id='topic+pmax.partial_time'></span>

<h3>Description</h3>

<p>Get the elementwise maximum of parttime vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
pmax(..., na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmax.partial_time_+3A_...">...</code></td>
<td>
<p>numeric or character arguments (see Note).</p>
</td></tr>
<tr><td><code id="pmax.partial_time_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be
removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector with length equal to the maximum length of
the vectors provided where each value is the maximum of the recycled values
of each vector argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pmax(
  parttime(c("2019", "2018", "2019-02", "2018",    "2010")),
  parttime(c("2020", NA,     "2019-03", "2018-01", "2010"))
)

</code></pre>

<hr>
<h2 id='pmin'>Maxima and Minima</h2><span id='topic+pmin'></span>

<h3>Description</h3>

<p>Returns the (regular or <b>p</b>arallel) maxima and minima of the
input values.
</p>
<p><code>pmax*()</code> and <code>pmin*()</code> take one or more vectors as
arguments, recycle them to common length and return a single vector
giving the <em>&lsquo;parallel&rsquo;</em> maxima (or minima) of the argument
vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmin(..., na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmin_+3A_...">...</code></td>
<td>
<p>numeric or character arguments (see Note).</p>
</td></tr>
<tr><td><code id="pmin_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be
removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>max</code> and <code>min</code> return the maximum or minimum of <em>all</em>
the  values present in their arguments, as <code><a href="base.html#topic+integer">integer</a></code> if
all are <code>logical</code> or <code>integer</code>, as <code><a href="base.html#topic+double">double</a></code> if
all are numeric, and character otherwise.
</p>
<p>If <code>na.rm</code> is <code>FALSE</code> an <code>NA</code> value in any of the
arguments will cause a value of <code>NA</code> to be returned, otherwise
<code>NA</code> values are ignored.
</p>
<p>The minimum and maximum of a numeric empty set are <code>+Inf</code> and
<code>-Inf</code> (in this order!) which ensures <em>transitivity</em>, e.g.,
<code>min(x1, min(x2)) == min(x1, x2)</code>.  For numeric <code>x</code>
<code>max(x) == -Inf</code> and <code>min(x) == +Inf</code>
whenever <code>length(x) == 0</code> (after removing missing values if
requested).  However, <code>pmax</code> and <code>pmin</code> return
<code>NA</code> if all the parallel elements are <code>NA</code> even for
<code>na.rm = TRUE</code>.
</p>
<p><code>pmax</code> and <code>pmin</code> take one or more vectors (or matrices) as
arguments and return a single vector giving the &lsquo;parallel&rsquo;
maxima (or minima) of the vectors.  The first element of the result is
the maximum (minimum) of the first elements of all the arguments, the
second element of the result is the maximum (minimum) of the second
elements of all the arguments and so on.  Shorter inputs (of non-zero
length) are recycled if necessary.  Attributes (see
<code><a href="base.html#topic+attributes">attributes</a></code>: such as <code><a href="base.html#topic+names">names</a></code> or
<code><a href="base.html#topic+dim">dim</a></code>) are copied from the first argument (if applicable,
e.g., <em>not</em> for an <code>S4</code> object).
</p>
<p><code>pmax.int</code> and <code>pmin.int</code> are faster internal versions only
used when all arguments are atomic vectors and there are no classes:
they drop all attributes.  (Note that all versions fail for raw and
complex vectors since these have no ordering.)
</p>
<p><code>max</code> and <code>min</code> are generic functions: methods can be
defined for them individually or via the
<code><a href="base.html#topic+S3groupGeneric">Summary</a></code> group generic.  For this to
work properly, the arguments <code>...</code> should be unnamed, and
dispatch is on the first argument.
</p>
<p>By definition the min/max of a numeric vector containing an <code>NaN</code>
is <code>NaN</code>, except that the min/max of any vector containing an
<code>NA</code> is <code>NA</code> even if it also contains an <code>NaN</code>.
Note that <code>max(NA, Inf) == NA</code> even though the maximum would be
<code>Inf</code> whatever the missing value actually is.
</p>
<p>Character versions are sorted lexicographically, and this depends on
the collating sequence of the locale in use: the help for
&lsquo;<a href="base.html#topic+Comparison">Comparison</a>&rsquo; gives details.  The max/min of an empty
character vector is defined to be character <code>NA</code>.  (One could
argue that as <code>""</code> is the smallest character element, the maximum
should be <code>""</code>, but there is no obvious candidate for the
minimum.)
</p>


<h3>Value</h3>

<p>For <code>min</code> or <code>max</code>, a length-one vector.  For <code>pmin</code> or
<code>pmax</code>, a vector of length the longest of the input vectors, or
length zero if one of the inputs had zero length.
</p>
<p>The type of the result will be that of the highest of the inputs in
the hierarchy integer &lt; double &lt; character.
</p>
<p>For <code>min</code> and <code>max</code> if there are only numeric inputs and all
are empty (after possible removal of <code>NA</code>s), the result is double
(<code>Inf</code> or <code>-Inf</code>).
</p>


<h3>S4 methods</h3>

<p><code>max</code> and <code>min</code> are part of the S4
<code><a href="methods.html#topic+S4groupGeneric">Summary</a></code> group generic.  Methods
for them must use the signature <code>x, ..., na.rm</code>.
</p>


<h3>Note</h3>

<p>&lsquo;Numeric&rsquo; arguments are vectors of type integer and numeric,
and logical (coerced to integer).  For historical reasons, <code>NULL</code>
is accepted as equivalent to <code>integer(0)</code>.
</p>
<p><code>pmax</code> and <code>pmin</code> will also work on classed S3 or S4 objects
with appropriate methods for comparison, <code>is.na</code> and <code>rep</code>
(if recycling of arguments is needed).
</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+range">range</a></code> (<em>both</em> min and max) and
<code><a href="base.html#topic+which.min">which.min</a></code> (<code>which.max</code>) for the <em>arg min</em>,
i.e., the location where an extreme value occurs.
</p>
<p>&lsquo;<a href="grDevices.html#topic+plotmath">plotmath</a>&rsquo; for the use of <code>min</code> in plot annotation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats); require(graphics)
 min(5:1, pi) #-&gt; one number
pmin(5:1, pi) #-&gt;  5  numbers

x &lt;- sort(rnorm(100));  cH &lt;- 1.35
pmin(cH, quantile(x)) # no names
pmin(quantile(x), cH) # has names
plot(x, pmin(cH, pmax(-cH, x)), type = "b", main =  "Huber's function")

cut01 &lt;- function(x) pmax(pmin(x, 1), 0)
curve(      x^2 - 1/4, -1.4, 1.5, col = 2)
curve(cut01(x^2 - 1/4), col = "blue", add = TRUE, n = 500)
## pmax(), pmin() preserve attributes of *first* argument
D &lt;- diag(x = (3:1)/4) ; n0 &lt;- numeric()
stopifnot(identical(D,  cut01(D) ),
          identical(n0, cut01(n0)),
          identical(n0, cut01(NULL)),
          identical(n0, pmax(3:1, n0, 2)),
          identical(n0, pmax(n0, 4)))
</code></pre>

<hr>
<h2 id='pmin.partial_time'>Get the elementwise minimum of parttime vectors</h2><span id='topic+pmin.partial_time'></span>

<h3>Description</h3>

<p>Get the elementwise minimum of parttime vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
pmin(..., na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmin.partial_time_+3A_...">...</code></td>
<td>
<p>numeric or character arguments (see Note).</p>
</td></tr>
<tr><td><code id="pmin.partial_time_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be
removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector with length equal to the maximum length of
the vectors provided where each value is the minimum of the recycled values
of each vector argument.
</p>

<hr>
<h2 id='possibly'>&quot;Possibly&quot; generic for resolving uncertainty</h2><span id='topic+possibly'></span>

<h3>Description</h3>

<p>&quot;Possibly&quot; generic for resolving uncertainty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>possibly(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="possibly_+3A_x">x</code></td>
<td>
<p>an uncertain object to resolve</p>
</td></tr>
<tr><td><code id="possibly_+3A_...">...</code></td>
<td>
<p>additional paramters used by class-specific functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether the partial time comparison is
possibly or definitely true provided any uncertainty represented in the
<code>partial_time</code> inputs.
</p>


<h3>See Also</h3>

<p>Other uncert-resolvers: 
<code><a href="#topic+definitely">definitely</a>()</code>
</p>

<hr>
<h2 id='possibly.partial_time_logical'>Determine whether a partial_time logical matrix is possibly TRUE</h2><span id='topic+possibly.partial_time_logical'></span>

<h3>Description</h3>

<p>Determine whether a partial_time logical matrix is possibly TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time_logical'
possibly(x, by = ncol(attr(x, "pttm_lgl")), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="possibly.partial_time_logical_+3A_x">x</code></td>
<td>
<p>a partial_time_logical matrix for coersion</p>
</td></tr>
<tr><td><code id="possibly.partial_time_logical_+3A_by">by</code></td>
<td>
<p>the resolution of assessment, a column or index</p>
</td></tr>
<tr><td><code id="possibly.partial_time_logical_+3A_...">...</code></td>
<td>
<p>additional arguments unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether the partial time comparison is
possibly or definitely true provided any uncertainty represented in the
<code>partial_time</code> inputs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- as.parttime(c("",     "2019-02",    "2019-01-02"))
y &lt;- as.parttime(c("2018", "2019-02-01", "2018"))

possibly(x != y)
possibly(x != y, by = "month")

</code></pre>

<hr>
<h2 id='propagate_na'>Propegate field missingness from higher to lower resolution</h2><span id='topic+propagate_na'></span>

<h3>Description</h3>

<p>Propegate field missingness from higher to lower resolution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propagate_na(x, keep_tz = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propagate_na_+3A_x">x</code></td>
<td>
<p>a vector of parttime objects with days which may exceed viable days
of month</p>
</td></tr>
<tr><td><code id="propagate_na_+3A_keep_tz">keep_tz</code></td>
<td>
<p>logical indicating whether to retain timezone fields, even if
other fields are missing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>partial_time</code> vector with missingness propagated to lower
resolution time fields
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.parttime(c("2019", "2019-02-31", "2019-01-05", "2016-02-31",
  "2016-01-05", "2020-01-01 03:04:05.1234"))
vctrs::field(x, "pttm_mat")[,"min"] &lt;- 23
parttime:::propagate_na(x)

</code></pre>

<hr>
<h2 id='re_cdisc_datetime'>Regular expression for CDISC-style datetime parsing</h2><span id='topic+re_cdisc_datetime'></span>

<h3>Description</h3>

<p>Regular expression for CDISC-style datetime parsing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>re_cdisc_datetime
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>

<hr>
<h2 id='re_iso8601'>slightly modified from parsedate - added 'secfrac' capture group</h2><span id='topic+re_iso8601'></span>

<h3>Description</h3>

<p>slightly modified from parsedate - added 'secfrac' capture group
</p>


<h3>Usage</h3>

<pre><code class='language-R'>re_iso8601
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>

<hr>
<h2 id='reflow_fields'>Reflow potentially invalid time components to adjacent fields</h2><span id='topic+reflow_fields'></span>

<h3>Description</h3>

<p>Reflow potentially invalid time components to adjacent fields
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reflow_fields(fmat, days)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reflow_fields_+3A_fmat">fmat</code></td>
<td>
<p>a fields matrix as part of a partial_time or partial_difftime</p>
</td></tr>
<tr><td><code id="reflow_fields_+3A_days">days</code></td>
<td>
<p>a logical indicating whether year and month should be consolidated
into total days. If an integer is provided, days should represent the
&quot;leap-time&quot; to add on top of non-leap conversion.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a fields matrix with appropriately ranged time components
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# example with difftimes (when you only care about days of change)

x &lt;- as.parttime("2019-06-23 04:33:21.123")
y &lt;- as.parttime("2018-02-08 12:59:28.987")

diff_fields &lt;- vctrs::field(x, "pttm_mat") - vctrs::field(y, "pttm_mat")

parttime:::reflow_fields(diff_fields)

# if we want to assume 0.25 leap days per year
parttime:::reflow_fields(diff_fields, days = TRUE)

# if we want to assert that there were no leap days
parttime:::reflow_fields(diff_fields, days = 0)

</code></pre>

<hr>
<h2 id='register_unknown_s3_generics'>Export S3 generics only if as-of-yet unknown</h2><span id='topic+register_unknown_s3_generics'></span>

<h3>Description</h3>

<p>S3 generics are often (unfortunately) tethered to specific packages. In order
to provide a functional generic that can dispatch on parttime classes, while
also preventing our generics from masking generics in other packages on
attach, we want to only export our generics if there is no generic with that
name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_unknown_s3_generics(fns)
</code></pre>

<hr>
<h2 id='sample_date_string_styles'>Find unique forms of inputs</h2><span id='topic+sample_date_string_styles'></span>

<h3>Description</h3>

<p>Find unique forms of inputs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_date_string_styles(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample_date_string_styles_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector of datetime strings</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The indices of the first instance of unique datatime formats
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("2022", "T02:01", "2023", "Y1970", "2021-01", "2024-12")
x[parttime:::sample_date_string_styles(x)]

</code></pre>

<hr>
<h2 id='sample_partial_styles'>Find unique forms of missingness</h2><span id='topic+sample_partial_styles'></span>

<h3>Description</h3>

<p>Find unique forms of missingness
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_partial_styles(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample_partial_styles_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The indices of the first instance of unique forms of missingness
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.parttime(c("2022", "2023", "2021-01", "2024-12"))
x[parttime:::sample_partial_styles(x)]

</code></pre>

<hr>
<h2 id='start'>start S3 generic</h2><span id='topic+start'></span>

<h3>Description</h3>

<p>A generic method to retrieve the start of an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>start(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="start_+3A_x">x</code></td>
<td>
<p>An object to retrieve the start from</p>
</td></tr>
<tr><td><code id="start_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The starting <code>partial_time</code> of a <code>partial_timespan</code> object.
</p>

<hr>
<h2 id='timespan'>Create a partial timespan object</h2><span id='topic+timespan'></span>

<h3>Description</h3>

<p>Create a partial timespan object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timespan(start, end, inclusive = c(TRUE, FALSE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="timespan_+3A_start">start</code></td>
<td>
<p>vector of datetime objects to start timespans</p>
</td></tr>
<tr><td><code id="timespan_+3A_end">end</code></td>
<td>
<p>vector of datetime objects to end timespans</p>
</td></tr>
<tr><td><code id="timespan_+3A_inclusive">inclusive</code></td>
<td>
<p>vector or matrix of logicals where each row is composed of
two logical values indicating whether the timespan start and end are
inclusive respectively</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Partial timespans are vector representations of an array of (possibly
missing) datetime fields. They represent timespans while accounting for the
possibility that their start and end might not be fully known. The start and
end are represented similarly to <code>partial_time</code> objects, and represent a
lower and upper bound for the timespan, and may be either inclusive or
exclusive.
</p>
<p>Internally, <code>partial_timespan</code> objects are represented as a three-dimensional
array of partial time fields, with an added column representing whether each
time is inclusive or exclusive. You may inspect this representation using
<code style="white-space: pre;">&#8288;vctrs::field(&lt;tmspn&gt;, "tmspn_arr")&#8288;</code>.
</p>


<h3>Value</h3>

<p>A <code>partial_timespan</code> object. See Details for further information.
</p>

<hr>
<h2 id='to_gmt'>Generic for coercing timestamps to GMT timezone</h2><span id='topic+to_gmt'></span>

<h3>Description</h3>

<p>Generic for coercing timestamps to GMT timezone
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_gmt(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_gmt_+3A_x">x</code></td>
<td>
<p>object to coerce to GMT time</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A time object adjusted to GMT time
</p>

<hr>
<h2 id='trim'>Shorten a timespan</h2><span id='topic+trim'></span>

<h3>Description</h3>

<p>Shorten a timespan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_+3A_x">x</code></td>
<td>
<p>timespan object to trim</p>
</td></tr>
<tr><td><code id="trim_+3A_...">...</code></td>
<td>
<p>additional arguments passed on to functions</p>
</td></tr>
</table>

<hr>
<h2 id='type_sum.partial_time'>parttime type name</h2><span id='topic+type_sum.partial_time'></span>

<h3>Description</h3>

<p>parttime type name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
type_sum(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="type_sum.partial_time_+3A_x">x</code></td>
<td>
<p>an object to summarise. Generally only methods of atomic vectors
and variants have been implemented.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> scalar shorthand representation of the <code>partial_time</code>
class name
</p>

<hr>
<h2 id='vec_cast.logical.partial_time'>Cast partial time to logical</h2><span id='topic+vec_cast.logical.partial_time'></span>

<h3>Description</h3>

<p>Cast partial time to logical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'logical.partial_time'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.logical.partial_time_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.logical.partial_time_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.logical.partial_time_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector
</p>

<hr>
<h2 id='vec_cast.partial_time'>Cast to partial time object</h2><span id='topic+vec_cast.partial_time'></span>

<h3>Description</h3>

<p>Cast to partial time object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.partial_time_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector
</p>

<hr>
<h2 id='vec_cast.partial_time.character'>Coerce character date representations to parttime objects</h2><span id='topic+vec_cast.partial_time.character'></span>

<h3>Description</h3>

<p>Coerce character date representations to parttime objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time.character'
vec_cast(x, to, ..., format = parse_iso8601_datetime, on.na = warning)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.partial_time.character_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.character_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.character_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>format</code> if a function is
provided.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.character_+3A_format">format</code></td>
<td>
<p>a <code>function</code> or <code>character</code> value. If a
<code>function</code>, it should accept a character vector and return a matrix of
parttime components. If a <code>character</code> it should provide a regular
exprssion which contains capture groups for each of the parttime
components.  See <a href="#topic+parse_to_parttime_matrix">parse_to_parttime_matrix</a>'s <code>regex</code> parameter
for more details.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.character_+3A_on.na">on.na</code></td>
<td>
<p>a <code>function</code> used to signal a condition for new <code>NA</code> values
introduced by coercion, a <code>character</code> value among <code>"error"</code>, <code>"warning"</code> or
<code>"suppress"</code> (for silencing messages) or <code>NULL</code> equivalent to <code>"suppress"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dates &lt;- c(
  NA,
  "2001",
  "2002-01-01",
  "2004-245", # yearday
  "2005-W13", # yearweek
  "2006-W02-5", # yearweek + weekday
  "2007-10-01T08",
  "2008-09-20T08:35",
  "2009-08-12T08:35.048", # fractional minute
  "2010-07-22T08:35:32",
  "2011-06-13T08:35:32.123", # fractional second
  "2012-05-23T08:35:32.123Z", # Zulu time
  "2013-04-14T08:35:32.123+05", # time offset from GMT
  "2014-03-24T08:35:32.123+05:30", # time offset with min from GMT
  "20150101T083532.123+0530" # condensed form
)

as.parttime(dates)

</code></pre>

<hr>
<h2 id='vec_cast.partial_time.default'>Default handler for casting to a partial time</h2><span id='topic+vec_cast.partial_time.default'></span>

<h3>Description</h3>

<p>Default handler for casting to a partial time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time.default'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.partial_time.default_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.default_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.default_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector
</p>

<hr>
<h2 id='vec_cast.partial_time.matrix'>Cast a matrix to a partial time</h2><span id='topic+vec_cast.partial_time.matrix'></span>

<h3>Description</h3>

<p>Cast a matrix to a partial time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time.matrix'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.partial_time.matrix_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.matrix_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.partial_time.matrix_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_time</code> vector
</p>

<hr>
<h2 id='vec_cast.timespan'>Cast to timespan object</h2><span id='topic+vec_cast.timespan'></span>

<h3>Description</h3>

<p>Cast to timespan object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.timespan_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_timespan</code> vector
</p>

<hr>
<h2 id='vec_cast.timespan.character'>Cast partial time to timespan, representing uncertainty as a range</h2><span id='topic+vec_cast.timespan.character'></span>

<h3>Description</h3>

<p>Cast partial time to timespan, representing uncertainty as a range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan.character'
vec_cast(x, to, ..., format = parse_iso8601_datetime_as_timespan)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.timespan.character_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.character_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.character_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.character_+3A_format">format</code></td>
<td>
<p>a <code>function</code> or <code>character</code> value. If a
<code>function</code>, it should accept a character vector and return a matrix of
parttime components. If a <code>character</code> it should provide a regular
exprssion which contains capture groups for each of the parttime
components.  See <a href="#topic+parse_to_parttime_matrix">parse_to_parttime_matrix</a>'s <code>regex</code> parameter
for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_timespan</code> vector
</p>

<hr>
<h2 id='vec_cast.timespan.default'>Default handler for casting to a timespan</h2><span id='topic+vec_cast.timespan.default'></span>

<h3>Description</h3>

<p>Default handler for casting to a timespan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan.default'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.timespan.default_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.default_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.default_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_timespan</code> vector
</p>

<hr>
<h2 id='vec_cast.timespan.double'>Cast an array to a timespan</h2><span id='topic+vec_cast.timespan.double'></span>

<h3>Description</h3>

<p>Cast an array to a timespan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan.double'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.timespan.double_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.double_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.double_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_timespan</code> vector
</p>

<hr>
<h2 id='vec_cast.timespan.numeric'>Cast an array to a timespan</h2><span id='topic+vec_cast.timespan.numeric'></span>

<h3>Description</h3>

<p>Cast an array to a timespan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan.numeric'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.timespan.numeric_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.numeric_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.numeric_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_timespan</code> vector
</p>

<hr>
<h2 id='vec_cast.timespan.partial_time'>Cast partial time to timespan, representing uncertainty as a range</h2><span id='topic+vec_cast.timespan.partial_time'></span>

<h3>Description</h3>

<p>Cast partial time to timespan, representing uncertainty as a range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timespan.partial_time'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.timespan.partial_time_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.partial_time_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.timespan.partial_time_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>partial_timespan</code> vector
</p>

<hr>
<h2 id='vec_ptype_abbr.partial_time'>Abbreviated partial time class name</h2><span id='topic+vec_ptype_abbr.partial_time'></span>

<h3>Description</h3>

<p>Abbreviated partial time class name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
vec_ptype_abbr(x, ..., prefix_named, suffix_shape)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_ptype_abbr.partial_time_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> object</p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.partial_time_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.partial_time_+3A_prefix_named">prefix_named</code></td>
<td>
<p>If <code>TRUE</code>, add a prefix for named vectors.</p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.partial_time_+3A_suffix_shape">suffix_shape</code></td>
<td>
<p>If <code>TRUE</code> (the default), append the shape of
the vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> representation of the abbreviated <code>partial_time</code> class
name
</p>

<hr>
<h2 id='vec_ptype_full.partial_time'>Full parttime class name</h2><span id='topic+vec_ptype_full.partial_time'></span>

<h3>Description</h3>

<p>Full parttime class name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'partial_time'
vec_ptype_full(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_ptype_full.partial_time_+3A_x">x</code></td>
<td>
<p>A <code>partial_time</code> object</p>
</td></tr>
<tr><td><code id="vec_ptype_full.partial_time_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> representation of the <code>partial_time</code> class name
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

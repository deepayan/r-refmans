<!DOCTYPE html><html><head><title>Help for package sysfonts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sysfonts}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#font_add'><p>Add New Font Families to 'sysfonts'</p></a></li>
<li><a href='#font_add_google'><p>Load Google Fonts into 'sysfonts'</p></a></li>
<li><a href='#font_families'><p>List Font Families Loaded by 'sysfonts'</p></a></li>
<li><a href='#font_families_google'><p>List Font Families Available in Google Fonts</p></a></li>
<li><a href='#font_files'><p>List Font Files Available in the Search Paths</p></a></li>
<li><a href='#font_info_google'><p>Display Information of Available Google Fonts</p></a></li>
<li><a href='#font_paths'><p>Get/Set Font Search Paths</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Loading Fonts into R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-02</td>
</tr>
<tr>
<td>Author:</td>
<td>Yixuan Qiu and authors/contributors of the
    included fonts. See file AUTHORS for details.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yixuan Qiu &lt;yixuan.qiu@cos.name&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Loading system fonts and Google Fonts
    <a href="https://fonts.google.com/">https://fonts.google.com/</a> into R, in order to
    support other packages such as 'R2SWF' and 'showtext'.</td>
</tr>
<tr>
<td>Suggests:</td>
<td>curl, jsonlite</td>
</tr>
<tr>
<td>Copyright:</td>
<td>see file COPYRIGHTS</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>zlib, libpng, FreeType</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/yixuan/sysfonts">https://github.com/yixuan/sysfonts</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/yixuan/sysfonts/issues">https://github.com/yixuan/sysfonts/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-02 01:48:02 UTC; qyx</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-02 03:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='font_add'>Add New Font Families to 'sysfonts'</h2><span id='topic+font_add'></span><span id='topic+font.add'></span>

<h3>Description</h3>

<p>The two versions of this function are equivalent, but the
&quot;underscore&quot; naming is preferred.
</p>
<p>This function registers new font families that can be used by package
<span class="pkg">showtext</span> and the SWF device in package <span class="pkg">R2SWF</span>.
Currently supported formats include but not limited to
TrueType fonts(*.ttf, *.ttc) and OpenType fonts(*.otf).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_add(
  family,
  regular,
  bold = NULL,
  italic = NULL,
  bolditalic = NULL,
  symbol = NULL
)

font.add(
  family,
  regular,
  bold = NULL,
  italic = NULL,
  bolditalic = NULL,
  symbol = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_add_+3A_family">family</code></td>
<td>
<p>a character string of maximum 200-byte size,
indicating the family name of the font.
See &quot;Details&quot; for further explanation.</p>
</td></tr>
<tr><td><code id="font_add_+3A_regular">regular</code></td>
<td>
<p>path of the font file for &quot;regular&quot; font face.
This argument must be specified as a character string
and cannot be missing.</p>
</td></tr>
<tr><td><code id="font_add_+3A_bold">bold</code></td>
<td>
<p>path of the font file for &quot;bold&quot; font face.
If it is <code>NULL</code>, the function will use the value of
argument <code>regular</code>.</p>
</td></tr>
<tr><td><code id="font_add_+3A_italic">italic</code>, <code id="font_add_+3A_bolditalic">bolditalic</code>, <code id="font_add_+3A_symbol">symbol</code></td>
<td>
<p>ditto</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In R graphics device, there are two parameters combined together
to select a font to show text. <code>par("family")</code> is a character
string giving a name to a <strong>series</strong> of font faces. Here
<strong>series</strong> implies that there may be different fonts with the
same family name, and actually they are distinguished by the parameter
<code>par("font")</code>, indicating whether it is regular, bold, or italic,
etc. In R, <code>par("font")</code> is an integer from 1 to 5 representing
regular, bold, italic, bold italic, and symbol, respectively.
</p>
<p>In <span class="pkg">sysfonts</span> package, there are three default font families, sans, serif, and mono,
each with five font faces as mentioned above. If one wants
to use other font families, the function <code>font_add()</code> needs to be called
to register new fonts. Note that the <code>family</code> argument in this function can be
an arbitrary string that does not need to be the real font name. The specified
family name will be used in functions like <code>par(family = "myfont")</code>
and <code>text("Some text", family = "myfont")</code>. The <strong>Examples</strong> section
shows a complete demonstration of the usage.
</p>
<p>To find the font file of argument <code>regular</code> (and the same for
other font faces), this function will first check the existence
of the specified path. If not found, file will be searched in the
directories returned by <code><a href="#topic+font_paths">font_paths</a>()</code> in turn. If the
file cannot be found in any of the locations,
an error will be issued.
</p>


<h3>Value</h3>

<p>A character vector (invisible) of currently available
font family names.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="graphics.html#topic+par">par</a>()</code> for explanation of
the parameters <code>family</code> and <code>font</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Example: download the font file of WenQuanYi Micro Hei,
##          add it to SWF device, and use it to draw text in swf().
##          WenQuanYi Micro Hei is an open source and high quality
##          Chinese (and CJKV) font.

wd = setwd(tempdir())
ft.url = "http://sourceforge.net/projects/wqy/files/wqy-microhei"
ft.url = paste(ft.url, "0.2.0-beta/wqy-microhei-0.2.0-beta.tar.gz",
               sep = "/")
download.file(ft.url, basename(ft.url))

## Extract and add the directory to search path
untar(basename(ft.url), compressed = "gzip")
font_paths("wqy-microhei")

## Register this font file and assign the family name "wqy"
## Other font faces will be the same with regular by default
font_add("wqy", regular = "wqy-microhei.ttc")

## A more concise way to add font is to give the path directly,
## without calling font_paths()
# font_add("wqy", "wqy-microhei/wqy-microhei.ttc")

## List available font families
font_families()

if(require(R2SWF))
{
    ## Now it shows that we can use the family "wqy" in swf()
    swf("testfont.swf")

    ## Select font family globally
    op = par(family = "serif", font.lab = 2)
    ## Inline selecting font
    plot(1, type = "n")
    text(1, 1, intToUtf8(c(20013, 25991)), family = "wqy", font = 1, cex = 2)

    dev.off()
    swf2html("testfont.swf")
}

setwd(wd)


## End(Not run)
</code></pre>

<hr>
<h2 id='font_add_google'>Load Google Fonts into 'sysfonts'</h2><span id='topic+font_add_google'></span><span id='topic+font.add.google'></span>

<h3>Description</h3>

<p>The two versions of this function are equivalent, but the
&quot;underscore&quot; naming is preferred.
</p>
<p>This function will search the Google Fonts repository
(<a href="https://fonts.google.com/">https://fonts.google.com/</a>) for a specified
family name, download the proper font files, and then add them to <span class="pkg">sysfonts</span>.
This function requires the <span class="pkg">jsonlite</span> and <span class="pkg">curl</span> packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_add_google(
  name,
  family = name,
  regular.wt = 400,
  bold.wt = 700,
  repo = "http://fonts.gstatic.com/",
  db_cache = TRUE,
  handle = curl::new_handle()
)

font.add.google(
  name,
  family = name,
  regular.wt = 400,
  bold.wt = 700,
  repo = "http://fonts.gstatic.com/",
  handle = curl::new_handle()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_add_google_+3A_name">name</code></td>
<td>
<p>name of the font that will be searched in Google Fonts</p>
</td></tr>
<tr><td><code id="font_add_google_+3A_family">family</code></td>
<td>
<p>specifies the family name of this font in R. This can be any string,
not necessarily the same as <code>name</code>. The value of this parameter
will be used in R plotting functions. See the example code below.</p>
</td></tr>
<tr><td><code id="font_add_google_+3A_regular.wt">regular.wt</code></td>
<td>
<p>font weight for the regular font face, usually 400</p>
</td></tr>
<tr><td><code id="font_add_google_+3A_bold.wt">bold.wt</code></td>
<td>
<p>font weight for the bold font face, usually 700</p>
</td></tr>
<tr><td><code id="font_add_google_+3A_repo">repo</code></td>
<td>
<p>the site that hosts the font files. Default is the official
repository <code>http://fonts.gstatic.com/</code> provided by
Google Fonts.</p>
</td></tr>
<tr><td><code id="font_add_google_+3A_db_cache">db_cache</code></td>
<td>
<p>whether to obtain font metadata from a cache site. Using cache
is typically faster, but not as update-to-date as using the official
API. If <code>db_cache</code> is set to <code>FALSE</code>, then metadata
are retrieved from the Google Fonts API.</p>
</td></tr>
<tr><td><code id="font_add_google_+3A_handle">handle</code></td>
<td>
<p>a curl handle object passed to <code>curl::curl_download()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are thousands of open source fonts in the Google Fonts
repository (<a href="https://fonts.google.com/">https://fonts.google.com/</a>).
This function will try to search the font family specified
by the <code>name</code> argument, and then automatically
download the font files for all possible font faces
(&quot;regular&quot;, &quot;bold&quot;, &quot;italic&quot; and &quot;bold italic&quot;,
but no&quot;symbol&quot;).
If fonts are found and downloaded successfully, they will be
also added to <span class="pkg">sysfonts</span> with the given family name.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+font_families_google">font_families_google</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
font_add_google("Alegreya Sans", "aleg")

if(require(showtext))
{
    wd = setwd(tempdir())
    pdf("google-fonts-ex.pdf")
    showtext_begin()
    
    par(family = "aleg")
    plot(0:5,0:5, type="n")
    text(1:4, 1:4, "Alegreya Sans", font=1:4, cex = 2)
    
    showtext_end()
    dev.off()
    setwd(wd)
}


## End(Not run)
</code></pre>

<hr>
<h2 id='font_families'>List Font Families Loaded by 'sysfonts'</h2><span id='topic+font_families'></span><span id='topic+font.families'></span>

<h3>Description</h3>

<p>The two versions of this function are equivalent, but the
&quot;underscore&quot; naming is preferred.
</p>
<p>This function lists font families currently available that can be
used by <span class="pkg">R2SWF</span> and <span class="pkg">showtext</span> packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_families()

font.families()
</code></pre>


<h3>Details</h3>

<p>By default there are three font families loaded automatically,
i.e., &quot;sans&quot;, &quot;serif&quot; and &quot;mono&quot;. If one wants to use other fonts,
<code><a href="#topic+font_add">font_add</a>()</code> needs to be called
to register new fonts by specifying a family name and corresponding
font files. See <code><a href="#topic+font_add">font_add</a>()</code> for details about
the meaning of &quot;family name&quot; in this context, as well as
a complete example of registering and using a new font.
</p>


<h3>Value</h3>

<p>A character vector of available font family names.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+font_add">font_add</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_families()

</code></pre>

<hr>
<h2 id='font_families_google'>List Font Families Available in Google Fonts</h2><span id='topic+font_families_google'></span><span id='topic+font.families.google'></span>

<h3>Description</h3>

<p>The two versions of this function are equivalent, but the
&quot;underscore&quot; naming is preferred.
</p>
<p>This function lists family names of the fonts that are currently
available in Google Fonts. When running this function for the first time, 
it may take a few seconds to fetch the font information database.
This function requires the <span class="pkg">jsonlite</span> and <span class="pkg">curl</span> packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_families_google(db_cache = TRUE, handle = curl::new_handle())

font.families.google()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_families_google_+3A_db_cache">db_cache</code></td>
<td>
<p>whether to obtain font metadata from a cache site. Using cache
is typically faster, but not as update-to-date as using the official
API. If <code>db_cache</code> is set to <code>FALSE</code>, then metadata
are retrieved from the Google Fonts API.</p>
</td></tr>
<tr><td><code id="font_families_google_+3A_handle">handle</code></td>
<td>
<p>a curl handle object passed to <code>curl::curl_download()</code> and
<code>curl::curl_fetch_memory()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of available font family names in Google Fonts.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+font_add_google">font_add_google</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
font_families_google()

## End(Not run)

</code></pre>

<hr>
<h2 id='font_files'>List Font Files Available in the Search Paths</h2><span id='topic+font_files'></span><span id='topic+font.files'></span>

<h3>Description</h3>

<p>The two versions of this function are equivalent, but the
&quot;underscore&quot; naming is preferred.
</p>
<p>This function lists font files in the search path that can be
loaded by <code><a href="#topic+font_add">font_add</a>()</code>.
Currently supported formats include TrueType fonts(*.ttf, *.ttc) and OpenType fonts(*.otf).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_files()

font.files()
</code></pre>


<h3>Value</h3>

<p>A data frame containing the following information of the font files:
</p>
<table>
<tr><td><code>path</code></td>
<td>
<p>The directory that the font file is located in.</p>
</td></tr>
<tr><td><code>file</code></td>
<td>
<p>File name of the font.</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>Family name.</p>
</td></tr>
<tr><td><code>face</code></td>
<td>
<p>Font face.</p>
</td></tr>
<tr><td><code>version</code></td>
<td>
<p>Version of the font.</p>
</td></tr>
<tr><td><code>ps_name</code></td>
<td>
<p>PostScript font name.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+font_paths">font_paths</a>()</code>, <code><a href="#topic+font_add">font_add</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
font_files()

## End(Not run)

</code></pre>

<hr>
<h2 id='font_info_google'>Display Information of Available Google Fonts</h2><span id='topic+font_info_google'></span>

<h3>Description</h3>

<p>This function returns a data frame that contains the metadata of
font families available in Google Fonts, for example the family name,
available font face variants, the version number, etc. When running this
function for the first time, it may take a few seconds to fetch the
database. This function requires the <span class="pkg">jsonlite</span> and <span class="pkg">curl</span> packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_info_google(db_cache = TRUE, handle = curl::new_handle())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_info_google_+3A_db_cache">db_cache</code></td>
<td>
<p>whether to obtain font metadata from a cache site. Using cache
is typically faster, but not as update-to-date as using the official
API. If <code>db_cache</code> is set to <code>FALSE</code>, then metadata
are retrieved from the Google Fonts API.</p>
</td></tr>
<tr><td><code id="font_info_google_+3A_handle">handle</code></td>
<td>
<p>a curl handle object passed to <code>curl::curl_download()</code> and
<code>curl::curl_fetch_memory()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing metadata of Google Fonts.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+font_families_google">font_families_google</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
font_info_google()

## End(Not run)

</code></pre>

<hr>
<h2 id='font_paths'>Get/Set Font Search Paths</h2><span id='topic+font_paths'></span><span id='topic+font.paths'></span>

<h3>Description</h3>

<p>The two versions of this function are equivalent, but the
&quot;underscore&quot; naming is preferred.
</p>
<p>This function gets/sets the search paths for font files.
See <code><a href="#topic+font_add">font_add</a>()</code> for details about how <span class="pkg">sysfonts</span> looks for
font files. There is also a complete example showing the usage of these
functions in the help page of <code><a href="#topic+font_add">font_add</a>()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_paths(new)

font.paths(new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_paths_+3A_new">new</code></td>
<td>
<p>a character vector indicating the search paths to be
prepended. If the argument is missing, the function will
return the current search paths.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default search paths will be assigned when package is loaded:
</p>

<ul>
<li><p> For Windows, it is <code>%windir%\Fonts</code>, usually expanded
into <code>C:\Windows\Fonts</code>
</p>
</li>
<li><p> For Mac OS, default paths are <code>/Library/Fonts</code>
and <code>~/Library/Fonts</code> and their subdirectories
</p>
</li>
<li><p> For Linux and other Unix-like OS, <code>/usr/share/fonts</code>,
<code>/usr/local/share/fonts</code>, <code>~/.fonts</code>,
<code>~/.local/share/fonts</code>, and their subdirectories
</p>
</li></ul>



<h3>Value</h3>

<p>The updated search paths.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

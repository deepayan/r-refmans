<!DOCTYPE html><html><head><title>Help for package pxweb</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pxweb}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pxweb-package'><p>Interface to PX-WEB APIs from R</p></a></li>
<li><a href='#add_pxe_defaults'><p>Add default values to pxe</p></a></li>
<li><a href='#api_catalogue'><p>Defunct functions</p></a></li>
<li><a href='#as_pxweb_levels'><p>Assert that x is a correct <code>pxweb_database_list</code> object.</p></a></li>
<li><a href='#assert_pxweb'><p>Assert that the url structure is correct</p></a></li>
<li><a href='#assert_pxweb_api_catalogue'><p>Assert a <code>pxweb_api_catalogue</code> object</p></a></li>
<li><a href='#assert_pxweb_calls'><p>Assert that the rda_file_path is correct</p></a></li>
<li><a href='#assert_pxweb_config'><p>Assert that the config slot is correct</p></a></li>
<li><a href='#assert_pxweb_data'><p>Assert that x is a correct <code>pxweb_data</code> object.</p></a></li>
<li><a href='#assert_pxweb_data_comments'><p>Assert that x is a correct <code>pxweb_data_comments</code> object.</p></a></li>
<li><a href='#assert_pxweb_data_jsonstat'><p>Assert that x is a correct <code>pxweb_data_jsonstat</code> object.</p>
Assert a json-stat version 1.0 or later object</a></li>
<li><a href='#assert_pxweb_database_list'><p>Assert that x is a correct <code>pxweb_database_list</code> object.</p></a></li>
<li><a href='#assert_pxweb_input_allowed'><p>Assert a <code>pxweb_input_allowed</code> object</p></a></li>
<li><a href='#assert_pxweb_levels'><p>Assert that x is a correct <code>pxweb_levels</code> object.</p></a></li>
<li><a href='#assert_pxweb_metadata'><p>Assert that x is a correct <code>pxweb_metadata</code> object.</p></a></li>
<li><a href='#assert_pxweb_query'><p>Assert a pxweb_query object</p></a></li>
<li><a href='#assert_pxweb_rda_file_path'><p>Assert that the rda_file_path is correct</p></a></li>
<li><a href='#assert_pxweb_url'><p>Assert that the url structure is correct</p></a></li>
<li><a href='#assert_query_can_be_split_to_batches'><p>Assert that a given pxweb query can be split</p></a></li>
<li><a href='#build_pxweb_rda_file_path'><p>Build or get the tmp_rda_file_path from an url or pxweb_api_s3 object</p></a></li>
<li><a href='#build_pxweb_url'><p>Build the url to a PXWEB api</p></a></li>
<li><a href='#build_pxweb_url.url'><p>Build the url to get the config from a PXWEB api</p></a></li>
<li><a href='#generate_permutations'><p>Generate batch permutations</p></a></li>
<li><a href='#http_was_redirected'><p>http_was_redirected</p></a></li>
<li><a href='#is_pxweb_config_response'><p>Check if a response is a pxweb config response</p></a></li>
<li><a href='#parse_url_or_fail'><p>Parse a character string or throws error if it fails</p></a></li>
<li><a href='#permutations'><p>Generate permutations of dimensions to find optimal no of batches</p></a></li>
<li><a href='#print.pxweb_api_catalogue_entry'><p>Print a catalogue entry</p></a></li>
<li><a href='#pxd_values_to_valuetexts'><p>Convert a pxweb data objects values to valuetext</p></a></li>
<li><a href='#pxe_allowed_input'><p>Defines allowed input for a position in a <code>pxweb_explorer</code> or character object.</p></a></li>
<li><a href='#pxe_back_position'><p>Move in the <code>pxweb_explorer</code> position</p></a></li>
<li><a href='#pxe_data_url'><p>Get the url to a table</p></a></li>
<li><a href='#pxe_handle_input'><p>Handle a user input for a <code>pxweb_explorer</code> object.</p></a></li>
<li><a href='#pxe_input'><p>Get (allowed) inputs for a <code>pxweb_input_allowed</code> object.</p></a></li>
<li><a href='#pxe_interactive_get_data'><p>Ask to download and download data</p></a></li>
<li><a href='#pxe_metadata_choices'><p>Get and set pxe_metadata_coices</p></a></li>
<li><a href='#pxe_metadata_variable_names'><p>Get the meta data variable names from a <code>pxweb_explorer</code> object.</p></a></li>
<li><a href='#pxe_position_choice_size'><p>How many choices has the current position?</p></a></li>
<li><a href='#pxe_position_is_api_catalogue'><p>Is the current position an api_catalogue position?</p></a></li>
<li><a href='#pxe_position_is_full_query'><p>Is the current position a full query (i.e. choices for all metadata variables)?</p></a></li>
<li><a href='#pxe_position_is_metadata'><p>Is the current position a metadata object?</p></a></li>
<li><a href='#pxe_position_multiple_choice_allowed'><p>Are multiple choices allowed?</p></a></li>
<li><a href='#pxe_position_title'><p>Get the table title for the current position</p></a></li>
<li><a href='#pxe_position_variable_can_be_eliminated'><p>Can the variable at the current position be eliminated?</p></a></li>
<li><a href='#pxe_print_download_code'><p>Print code to download query</p></a></li>
<li><a href='#pxe_pxobj_at_position'><p>Return the pxweb object at the current position</p></a></li>
<li><a href='#pxweb'><p>S3 constructor for <code>pxweb</code> api object.</p></a></li>
<li><a href='#pxweb_add_api_subpath'><p>Add the subpath slot to a pxweb path slot</p></a></li>
<li><a href='#pxweb_add_call'><p>Add an api call to a pxweb_api_s3 object</p></a></li>
<li><a href='#pxweb_add_config'><p>Add the config slot to a pxweb object</p></a></li>
<li><a href='#pxweb_add_mandatory_variables'><p>Add mandatory variables to query</p></a></li>
<li><a href='#pxweb_add_metadata_to_query'><p>Add and remove metadata to query</p></a></li>
<li><a href='#pxweb_advanced_get'><p>Do a GET call to PXWEB API for advanced users</p></a></li>
<li><a href='#pxweb_api_catalogue'><p>Get the PXWEB API catalogue</p></a></li>
<li><a href='#pxweb_api_catalogue_entry'><p>Constructor for <code>pxweb_api_catalogue_entry</code>.</p></a></li>
<li><a href='#pxweb_api_name'><p>Get the api name, rootpath, subpath, path or dbpath</p></a></li>
<li><a href='#pxweb_as_data_frame'><p>Coerce a <code>pxweb_data</code> object to a <code>data.frame</code></p></a></li>
<li><a href='#pxweb_as_json'><p>Convert object to json</p></a></li>
<li><a href='#pxweb_c'><p>Combine pxweb objects</p></a></li>
<li><a href='#pxweb_cite'><p>Cite a PXWEB data object</p></a></li>
<li><a href='#pxweb_clear_cache'><p>Clear cache of all (or one) <code>pxweb</code> object</p></a></li>
<li><a href='#pxweb_data'><p>Construct a <code>pxweb_data</code> object.</p></a></li>
<li><a href='#pxweb_data_c'><p>Combine pxweb objects</p></a></li>
<li><a href='#pxweb_data_colnames'><p>Get query filter</p></a></li>
<li><a href='#pxweb_data_column_comment'><p>Construct a <code>pxweb_data_comment</code> object</p></a></li>
<li><a href='#pxweb_data_comments'><p>Construct a <code>pxweb_data_comments</code> object.</p></a></li>
<li><a href='#pxweb_data_dim'><p>Compute the dimension of the query <code>pxweb_data</code> object</p></a></li>
<li><a href='#pxweb_data_jsonstat'><p>Construct a <code>pxweb_data_jsonstat</code> object.</p></a></li>
<li><a href='#pxweb_database_list'><p>Construct a <code>pxweb_database_list</code> object.</p></a></li>
<li><a href='#pxweb_explorer'><p>Create a <code>pxweb_explorer</code> object.</p></a></li>
<li><a href='#pxweb_fix_url'><p>Fix url characters</p></a></li>
<li><a href='#pxweb_get'><p>Do a GET call to PXWEB API</p></a></li>
<li><a href='#pxweb_get_api_test_data_frame'><p>Build api test data.frame</p></a></li>
<li><a href='#pxweb_get_data'><p>Do a GET call to PXWEB API and return a data.frame</p></a></li>
<li><a href='#pxweb_http_log_on'><p>Setup a structure to log all API calls</p></a></li>
<li><a href='#pxweb_interactive'><p>Find and download data interactively from a PXWEB API</p></a></li>
<li><a href='#pxweb_interactive_input'><p>Get input from user</p></a></li>
<li><a href='#pxweb_levels'><p>Construct a <code>pxweb_levels</code> object.</p></a></li>
<li><a href='#pxweb_metadata'><p>Construct a <code>pxweb_metadata</code> object.</p></a></li>
<li><a href='#pxweb_metadata_add_null_values'><p>Add values to NULL value variables in PXWEB metadata objects</p></a></li>
<li><a href='#pxweb_metadata_dim'><p>Compue the dimension of a metadata object</p></a></li>
<li><a href='#pxweb_metadata_elimination'><p>Get boolean vector</p></a></li>
<li><a href='#pxweb_metadata_time'><p>Get boolean vector</p></a></li>
<li><a href='#pxweb_parse_response'><p>Parse the response from a PXWEB API (advanced)</p></a></li>
<li><a href='#pxweb_query'><p>Create a PXWEB query</p></a></li>
<li><a href='#pxweb_query_as_json'><p>Convert a <code>pxweb_query</code> object to a <code>json</code> string</p></a></li>
<li><a href='#pxweb_query_as_rcode'><p>Print a <code>pxweb_query</code> object as R code</p></a></li>
<li><a href='#pxweb_query_dim'><p>Compue the dimension of the query</p></a></li>
<li><a href='#pxweb_query_dim_splittable'><p>Get vector indicating splittable variables</p></a></li>
<li><a href='#pxweb_query_filter'><p>Get query values</p></a></li>
<li><a href='#pxweb_query_values'><p>Get query filter</p></a></li>
<li><a href='#pxweb_split_query'><p>Split query in optimal sub-queries</p></a></li>
<li><a href='#pxweb_tempdir'><p>Setup temorary directory for the pxweb</p></a></li>
<li><a href='#pxweb_test_api'><p>Test a full or a part of a PXWEB api.</p></a></li>
<li><a href='#pxweb_test_create_api_paths'><p>Create all paths from a list of pxweb_api_catalogue entries</p></a></li>
<li><a href='#pxweb_test_time_limit'><p>Test time limit object</p></a></li>
<li><a href='#pxweb_validate_query_with_metadata'><p>Validate a <code>pxweb_query</code> with a <code>pxweb_metadata</code> object</p></a></li>
<li><a href='#save_pxweb'><p>Save and load <code>pxweb</code> objects from R temp folder</p></a></li>
<li><a href='#split_dimensions_left_right'><p>Split variables into chunks</p></a></li>
<li><a href='#str_pad'><p>Pad a string to a fixed size</p></a></li>
<li><a href='#str_trim'><p>Taken from <code>trimws</code> for reasons of compatibility with previous R versios.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Interface to PXWEB APIs</td>
</tr>
<tr>
<td>Version:</td>
<td>0.17.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-28</td>
</tr>
<tr>
<td>Description:</td>
<td>Generic interface for the PX-Web/PC-Axis API. The
    PX-Web/PC-Axis API is used by organizations such as Statistics Sweden
    and Statistics Finland to disseminate data. The R package can interact
    with all PX-Web/PC-Axis APIs to fetch information about the data
    hierarchy, extract metadata and extract and parse statistics to R
    data.frame format. PX-Web is a solution to disseminate PC-Axis data
    files in dynamic tables on the web.  Since 2013 PX-Web contains an API
    to disseminate PC-Axis files.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rOpenGov/pxweb/">https://github.com/rOpenGov/pxweb/</a>,
<a href="https://ropengov.github.io/pxweb/">https://ropengov.github.io/pxweb/</a>,
<a href="https://github.com/rOpenGov/pxweb">https://github.com/rOpenGov/pxweb</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rOpenGov/pxweb/issues">https://github.com/rOpenGov/pxweb/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, curl, httr (&ge; 1.1), jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>digest, httptest, knitr, remotes, rmarkdown, testthat (&ge;
0.11), xml2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>http://ropengov.org/</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>ropengov</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-28 12:57:36 UTC; manma760</td>
</tr>
<tr>
<td>Author:</td>
<td>Mans Magnusson <a href="https://orcid.org/0000-0002-0296-2719"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Markus Kainu [aut],
  Janne Huovari [aut],
  Leo Lahti <a href="https://orcid.org/0000-0001-5537-637X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Love Hansson [ctb],
  Eydun Nielsen [ctb],
  Bo Werth [ctb],
  Thomas Runarsson [ctb],
  Torbjörn Lindquist [ctb],
  Palmar Thorsteinsson [ctb],
  Pyry Kantanen [ctb],
  Sebastian Ankargren [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mans Magnusson &lt;mons.magnusson@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-29 08:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pxweb-package'>Interface to PX-WEB APIs from R</h2><span id='topic+pxweb-package'></span>

<h3>Description</h3>

<p>PXWEB is a common web API used by many European Statistical agencies to disseminate official statistics.
The pxweb package facilitates connections and usage of these APIs.
</p>


<h3>References</h3>

<p>The decription of the PXWEB API here:
<a href="https://www.scb.se/en/About-us/about-the-website-and-terms-of-use/open-data-api/">https://www.scb.se/en/About-us/about-the-website-and-terms-of-use/open-data-api/</a>
The official home page of PXWEB can be found here:
<a href="https://www.scb.se/en/services/statistical-programs-for-px-files/px-web/">https://www.scb.se/en/services/statistical-programs-for-px-files/px-web/</a>
</p>

<hr>
<h2 id='add_pxe_defaults'>Add default values to pxe</h2><span id='topic+add_pxe_defaults'></span>

<h3>Description</h3>

<p>Add default values to pxe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_pxe_defaults(pxe)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_pxe_defaults_+3A_pxe">pxe</code></td>
<td>
<p>a <code>pxweb_explorer</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='api_catalogue'>Defunct functions</h2><span id='topic+api_catalogue'></span><span id='topic+update_pxweb_apis'></span><span id='topic+api_parameters'></span><span id='topic+base_url'></span><span id='topic+get_pxweb_data'></span><span id='topic+get_pxweb_dims'></span><span id='topic+get_pxweb_levels'></span><span id='topic+get_pxweb_metadata'></span><span id='topic+pxweb_api'></span><span id='topic+checkForLevels'></span>

<h3>Description</h3>

<p>These function has as from version 0.10.0 become defunct.
Call the functions to get information on new functions to use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>api_catalogue()

update_pxweb_apis()

api_parameters(url = NULL)

base_url(api, version = NULL, language = NULL)

get_pxweb_data(url, dims, clean = FALSE, encoding = NULL)

get_pxweb_dims(node, verbose = TRUE)

get_pxweb_levels(baseURL, descriptions = FALSE, quiet = FALSE, ...)

get_pxweb_metadata(
  path = NULL,
  node = NULL,
  topnodes = NULL,
  quiet = TRUE,
  baseURL = NULL,
  ...
)

pxweb_api

checkForLevels(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="api_catalogue_+3A_url">url</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_api">api</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_version">version</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_language">language</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_dims">dims</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_clean">clean</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_encoding">encoding</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_node">node</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_verbose">verbose</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_baseurl">baseURL</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_descriptions">descriptions</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_quiet">quiet</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_...">...</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_path">path</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
<tr><td><code id="api_catalogue_+3A_topnodes">topnodes</code></td>
<td>
<p>Defunct argument.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 1.
</p>

<hr>
<h2 id='as_pxweb_levels'>Assert that x is a correct <code>pxweb_database_list</code> object.</h2><span id='topic+as_pxweb_levels'></span>

<h3>Description</h3>

<p>Assert that x is a correct <code>pxweb_database_list</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_pxweb_levels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_pxweb_levels_+3A_x">x</code></td>
<td>
<p>an object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb'>Assert that the url structure is correct</h2><span id='topic+assert_pxweb'></span>

<h3>Description</h3>

<p>Assert that the <code>url</code> slot in the <code>pxweb</code> object is correct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_+3A_x">x</code></td>
<td>
<p>a object to assert</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_api_catalogue'>Assert a <code>pxweb_api_catalogue</code> object</h2><span id='topic+assert_pxweb_api_catalogue'></span>

<h3>Description</h3>

<p>Assert a <code>pxweb_api_catalogue</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_api_catalogue(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_api_catalogue_+3A_x">x</code></td>
<td>
<p>an object to assert is a <code>pxweb_api_catalogue_entry</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_calls'>Assert that the rda_file_path is correct</h2><span id='topic+assert_pxweb_calls'></span>

<h3>Description</h3>

<p>Assert that the <code>rda_file_path</code> slot in the <code>pxweb</code> object is correct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_calls(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_calls_+3A_x">x</code></td>
<td>
<p>a object to assert</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_config'>Assert that the config slot is correct</h2><span id='topic+assert_pxweb_config'></span>

<h3>Description</h3>

<p>Assert that the <code>config</code> slot in the <code>pxweb</code> object is correct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_config(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_config_+3A_x">x</code></td>
<td>
<p>a object to assert</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_data'>Assert that x is a correct <code>pxweb_data</code> object.</h2><span id='topic+assert_pxweb_data'></span>

<h3>Description</h3>

<p>Assert that x is a correct <code>pxweb_data</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_data(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_data_+3A_x">x</code></td>
<td>
<p>an object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_data_comments'>Assert that x is a correct <code>pxweb_data_comments</code> object.</h2><span id='topic+assert_pxweb_data_comments'></span>

<h3>Description</h3>

<p>Assert that x is a correct <code>pxweb_data_comments</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_data_comments(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_data_comments_+3A_x">x</code></td>
<td>
<p>an object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_data_jsonstat'>Assert that x is a correct <code>pxweb_data_jsonstat</code> object.
Assert a json-stat version 1.0 or later object</h2><span id='topic+assert_pxweb_data_jsonstat'></span>

<h3>Description</h3>

<p>Assert that x is a correct <code>pxweb_data_jsonstat</code> object.
Assert a json-stat version 1.0 or later object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_data_jsonstat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_data_jsonstat_+3A_x">x</code></td>
<td>
<p>an object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_database_list'>Assert that x is a correct <code>pxweb_database_list</code> object.</h2><span id='topic+assert_pxweb_database_list'></span>

<h3>Description</h3>

<p>Assert that x is a correct <code>pxweb_database_list</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_database_list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_database_list_+3A_x">x</code></td>
<td>
<p>an object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_input_allowed'>Assert a <code>pxweb_input_allowed</code> object</h2><span id='topic+assert_pxweb_input_allowed'></span><span id='topic+print.pxweb_input_allowed'></span>

<h3>Description</h3>

<p>Assert a <code>pxweb_input_allowed</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_input_allowed(x)

## S3 method for class 'pxweb_input_allowed'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_input_allowed_+3A_x">x</code></td>
<td>
<p>an object to assert.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_levels'>Assert that x is a correct <code>pxweb_levels</code> object.</h2><span id='topic+assert_pxweb_levels'></span>

<h3>Description</h3>

<p>Assert that x is a correct <code>pxweb_levels</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_levels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_levels_+3A_x">x</code></td>
<td>
<p>an object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_metadata'>Assert that x is a correct <code>pxweb_metadata</code> object.</h2><span id='topic+assert_pxweb_metadata'></span>

<h3>Description</h3>

<p>Assert that x is a correct <code>pxweb_metadata</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_metadata(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_metadata_+3A_x">x</code></td>
<td>
<p>an object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_query'>Assert a pxweb_query object</h2><span id='topic+assert_pxweb_query'></span>

<h3>Description</h3>

<p>Assert a pxweb_query object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_query(x, check_response_format = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_query_+3A_x">x</code></td>
<td>
<p>an object to assert conferms to the structure of an pxweb_query object.</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_rda_file_path'>Assert that the rda_file_path is correct</h2><span id='topic+assert_pxweb_rda_file_path'></span>

<h3>Description</h3>

<p>Assert that the <code>rda_file_path</code> slot in the <code>pxweb</code> object is correct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_rda_file_path(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_rda_file_path_+3A_x">x</code></td>
<td>
<p>a object to assert</p>
</td></tr>
</table>

<hr>
<h2 id='assert_pxweb_url'>Assert that the url structure is correct</h2><span id='topic+assert_pxweb_url'></span>

<h3>Description</h3>

<p>Assert that the <code>url</code> slot in the <code>pxweb</code> object is correct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_pxweb_url(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_pxweb_url_+3A_x">x</code></td>
<td>
<p>a object to assert</p>
</td></tr>
</table>

<hr>
<h2 id='assert_query_can_be_split_to_batches'>Assert that a given pxweb query can be split</h2><span id='topic+assert_query_can_be_split_to_batches'></span>

<h3>Description</h3>

<p>Assert that a given pxweb query can be split
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_query_can_be_split_to_batches(pxq, pxmd, mxv)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_query_can_be_split_to_batches_+3A_pxq">pxq</code></td>
<td>
<p>a [pxweb_query] object</p>
</td></tr>
<tr><td><code id="assert_query_can_be_split_to_batches_+3A_pxmd">pxmd</code></td>
<td>
<p>a [pxweb_metadata] object</p>
</td></tr>
<tr><td><code id="assert_query_can_be_split_to_batches_+3A_mxv">mxv</code></td>
<td>
<p>maximum batch size</p>
</td></tr>
</table>

<hr>
<h2 id='build_pxweb_rda_file_path'>Build or get the tmp_rda_file_path from an url or pxweb_api_s3 object</h2><span id='topic+build_pxweb_rda_file_path'></span><span id='topic+build_pxweb_rda_file_path.character'></span><span id='topic+build_pxweb_rda_file_path.url'></span><span id='topic+build_pxweb_rda_file_path.pxweb'></span><span id='topic+build_pxweb_rda_file_path.list'></span>

<h3>Description</h3>

<p>Build or get the tmp_rda_file_path from an url or pxweb_api_s3 object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_pxweb_rda_file_path(x)

## S3 method for class 'character'
build_pxweb_rda_file_path(x)

## S3 method for class 'url'
build_pxweb_rda_file_path(x)

## S3 method for class 'pxweb'
build_pxweb_rda_file_path(x)

## S3 method for class 'list'
build_pxweb_rda_file_path(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_pxweb_rda_file_path_+3A_x">x</code></td>
<td>
<p>object to create tmp_file_path for.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The hostname is used to
</p>

<hr>
<h2 id='build_pxweb_url'>Build the url to a PXWEB api</h2><span id='topic+build_pxweb_url'></span><span id='topic+build_pxweb_url.list'></span><span id='topic+build_pxweb_url.character'></span><span id='topic+build_pxweb_url.pxweb'></span><span id='topic+build_pxweb_url.pxweb_api_catalogue_entry'></span>

<h3>Description</h3>

<p>Build the url to a PXWEB api
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_pxweb_url(x)

## S3 method for class 'list'
build_pxweb_url(x)

## S3 method for class 'character'
build_pxweb_url(x)

## S3 method for class 'pxweb'
build_pxweb_url(x)

## S3 method for class 'pxweb_api_catalogue_entry'
build_pxweb_url(x)
</code></pre>

<hr>
<h2 id='build_pxweb_url.url'>Build the url to get the config from a PXWEB api</h2><span id='topic+build_pxweb_url.url'></span><span id='topic+build_pxweb_config_url'></span><span id='topic+build_pxweb_config_url.list'></span><span id='topic+build_pxweb_config_url.pxweb'></span><span id='topic+build_pxweb_config_url.url'></span>

<h3>Description</h3>

<p>Build the url to get the config from a PXWEB api
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'url'
build_pxweb_url(x)

build_pxweb_config_url(x)

## S3 method for class 'list'
build_pxweb_config_url(x)

## S3 method for class 'pxweb'
build_pxweb_config_url(x)

## S3 method for class 'url'
build_pxweb_config_url(x)
</code></pre>

<hr>
<h2 id='generate_permutations'>Generate batch permutations</h2><span id='topic+generate_permutations'></span>

<h3>Description</h3>

<p>Generate batch permutations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_permutations(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_permutations_+3A_x">x</code></td>
<td>
<p>a vector with elements to permute</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates permutations of dim. If more than 6 dim (highly unlikely) a sample of 1000 combinations
is drawn. Otherwise all possible permutations are returned.
</p>

<hr>
<h2 id='http_was_redirected'>http_was_redirected</h2><span id='topic+http_was_redirected'></span>

<h3>Description</h3>

<p>http_was_redirected
</p>


<h3>Usage</h3>

<pre><code class='language-R'>http_was_redirected(r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="http_was_redirected_+3A_r">r</code></td>
<td>
<p>an httr response object, e.g. from a call to httr::GET()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with slots <code>was_redirected</code>, <code>redirected_from</code> and  <code>redirected_to</code>
</p>


<h3>References</h3>

<p>Function in large parts taken from <a href="https://petermeissner.de/blog/2018/11/07/using-httr-to-detect-redirects/">https://petermeissner.de/blog/2018/11/07/using-httr-to-detect-redirects/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
r &lt;- httr::GET("http://httpbin.org/redirect/2")
pxweb:::http_was_redirected(r)

## End(Not run)
</code></pre>

<hr>
<h2 id='is_pxweb_config_response'>Check if a response is a pxweb config response</h2><span id='topic+is_pxweb_config_response'></span>

<h3>Description</h3>

<p>Check if a response is a pxweb config response
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_pxweb_config_response(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_pxweb_config_response_+3A_x">x</code></td>
<td>
<p>a response object</p>
</td></tr>
</table>

<hr>
<h2 id='parse_url_or_fail'>Parse a character string or throws error if it fails</h2><span id='topic+parse_url_or_fail'></span>

<h3>Description</h3>

<p>Parse a character string or throws error if it fails
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_url_or_fail(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_url_or_fail_+3A_x">x</code></td>
<td>
<p>a character element to parse</p>
</td></tr>
</table>

<hr>
<h2 id='permutations'>Generate permutations of dimensions to find optimal no of batches</h2><span id='topic+permutations'></span>

<h3>Description</h3>

<p>Generate permutations of dimensions to find optimal no of batches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>permutations(n, r, v = 1:n, set = TRUE, repeats.allowed = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="permutations_+3A_n">n</code></td>
<td>
<p>See <code>gtools::permutations</code>.</p>
</td></tr>
<tr><td><code id="permutations_+3A_r">r</code></td>
<td>
<p>See <code>gtools::permutations</code>.</p>
</td></tr>
<tr><td><code id="permutations_+3A_v">v</code></td>
<td>
<p>See <code>gtools::permutations</code>.</p>
</td></tr>
<tr><td><code id="permutations_+3A_set">set</code></td>
<td>
<p>See <code>gtools::permutations</code>.</p>
</td></tr>
<tr><td><code id="permutations_+3A_repeats.allowed">repeats.allowed</code></td>
<td>
<p>See <code>gtools::permutations</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Taken from gtools to minimize dependencies. See permutations
of the gtools packages for details
</p>

<hr>
<h2 id='print.pxweb_api_catalogue_entry'>Print a catalogue entry</h2><span id='topic+print.pxweb_api_catalogue_entry'></span>

<h3>Description</h3>

<p>Print a catalogue entry
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pxweb_api_catalogue_entry'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.pxweb_api_catalogue_entry_+3A_x">x</code></td>
<td>
<p>an object used to select a method.</p>
</td></tr>
<tr><td><code id="print.pxweb_api_catalogue_entry_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='pxd_values_to_valuetexts'>Convert a pxweb data objects values to valuetext</h2><span id='topic+pxd_values_to_valuetexts'></span>

<h3>Description</h3>

<p>Convert a pxweb data objects values to valuetext
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxd_values_to_valuetexts(x, variable_code, variable_vector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxd_values_to_valuetexts_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_data</code> object</p>
</td></tr>
<tr><td><code id="pxd_values_to_valuetexts_+3A_variable_code">variable_code</code></td>
<td>
<p>the variable name of the variable to convert. NOTE! Need to be the variable code.</p>
</td></tr>
<tr><td><code id="pxd_values_to_valuetexts_+3A_variable_vector">variable_vector</code></td>
<td>
<p>the vector with the variables to convert.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_allowed_input'>Defines allowed input for a position in a <code>pxweb_explorer</code> or character object.</h2><span id='topic+pxe_allowed_input'></span><span id='topic+pxe_allowed_input_df'></span><span id='topic+pxe_allowed_input.pxweb_explorer'></span><span id='topic+pxe_allowed_input.character'></span>

<h3>Description</h3>

<p>Defines allowed input for a position in a <code>pxweb_explorer</code> or character object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_allowed_input(x)

pxe_allowed_input_df()

## S3 method for class 'pxweb_explorer'
pxe_allowed_input(x)

## S3 method for class 'character'
pxe_allowed_input(x)

## S3 method for class 'pxweb_explorer'
pxe_allowed_input(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_allowed_input_+3A_x">x</code></td>
<td>
<p>a object to get allowed input for.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_back_position'>Move in the <code>pxweb_explorer</code> position</h2><span id='topic+pxe_back_position'></span><span id='topic+pxe_add_position'></span>

<h3>Description</h3>

<p>Move in the <code>pxweb_explorer</code> position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_back_position(pxe)

pxe_add_position(pxe, new_pos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_back_position_+3A_pxe">pxe</code></td>
<td>
<p>a <code>pxweb_explorer</code> object.</p>
</td></tr>
<tr><td><code id="pxe_back_position_+3A_new_pos">new_pos</code></td>
<td>
<p>add a new position.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pxe_back_position</code> moves back one position and
<code>pxe_add_position</code> moves forward, based on user choice.
</p>

<hr>
<h2 id='pxe_data_url'>Get the url to a table</h2><span id='topic+pxe_data_url'></span>

<h3>Description</h3>

<p>Get the url to a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_data_url(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_data_url_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_handle_input'>Handle a user input for a <code>pxweb_explorer</code> object.</h2><span id='topic+pxe_handle_input'></span><span id='topic+pxe_handle_input.numeric'></span><span id='topic+pxe_handle_input.character'></span>

<h3>Description</h3>

<p>Handle a user input for a <code>pxweb_explorer</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_handle_input(user_input, pxe)

## S3 method for class 'numeric'
pxe_handle_input(user_input, pxe)

## S3 method for class 'character'
pxe_handle_input(user_input, pxe)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_handle_input_+3A_user_input">user_input</code></td>
<td>
<p>an (allowed) user input to handle.</p>
</td></tr>
<tr><td><code id="pxe_handle_input_+3A_pxe">pxe</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to get user input for.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>pxe_allowed_input()
</p>

<hr>
<h2 id='pxe_input'>Get (allowed) inputs for a <code>pxweb_input_allowed</code> object.</h2><span id='topic+pxe_input'></span><span id='topic+pxe_parse_input'></span>

<h3>Description</h3>

<p>Get (allowed) inputs for a <code>pxweb_input_allowed</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_input(allowed_input, title = NULL, test_input = NULL)

pxe_parse_input(user_input, allowed_input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_input_+3A_allowed_input">allowed_input</code></td>
<td>
<p>a <code>pxweb_input_allowed</code>.</p>
</td></tr>
<tr><td><code id="pxe_input_+3A_title">title</code></td>
<td>
<p>Print (using cat()) before ask for the allowed choices.</p>
</td></tr>
<tr><td><code id="pxe_input_+3A_test_input">test_input</code></td>
<td>
<p>supplying a test input (for testing only)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It handles input and checks if the input is allowed.
</p>

<hr>
<h2 id='pxe_interactive_get_data'>Ask to download and download data</h2><span id='topic+pxe_interactive_get_data'></span>

<h3>Description</h3>

<p>Ask to download and download data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_interactive_get_data(pxe, test_input = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_interactive_get_data_+3A_pxe">pxe</code></td>
<td>
<p>a <code>pxweb_explorer</code> object with full query</p>
</td></tr>
<tr><td><code id="pxe_interactive_get_data_+3A_test_input">test_input</code></td>
<td>
<p>a test input for testing the function.
Since two question, supply a vector of length two.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_metadata_choices'>Get and set pxe_metadata_coices</h2><span id='topic+pxe_metadata_choices'></span><span id='topic+pxe_metadata_choices+3C-'></span>

<h3>Description</h3>

<p>Get and set pxe_metadata_coices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_metadata_choices(x)

pxe_metadata_choices(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_metadata_choices_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object</p>
</td></tr>
<tr><td><code id="pxe_metadata_choices_+3A_value">value</code></td>
<td>
<p>an object to set as pxe_metadata_choice</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_metadata_variable_names'>Get the meta data variable names from a <code>pxweb_explorer</code> object.</h2><span id='topic+pxe_metadata_variable_names'></span>

<h3>Description</h3>

<p>Get the meta data variable names from a <code>pxweb_explorer</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_metadata_variable_names(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_metadata_variable_names_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_position_choice_size'>How many choices has the current position?</h2><span id='topic+pxe_position_choice_size'></span><span id='topic+pxe_position_print_size'></span>

<h3>Description</h3>

<p>How many choices has the current position?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_position_choice_size(x)

pxe_position_print_size(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_position_choice_size_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_position_is_api_catalogue'>Is the current position an api_catalogue position?</h2><span id='topic+pxe_position_is_api_catalogue'></span>

<h3>Description</h3>

<p>Is the current position an api_catalogue position?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_position_is_api_catalogue(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_position_is_api_catalogue_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_position_is_full_query'>Is the current position a full query (i.e. choices for all metadata variables)?</h2><span id='topic+pxe_position_is_full_query'></span>

<h3>Description</h3>

<p>Is the current position a full query (i.e. choices for all metadata variables)?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_position_is_full_query(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_position_is_full_query_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_position_is_metadata'>Is the current position a metadata object?</h2><span id='topic+pxe_position_is_metadata'></span>

<h3>Description</h3>

<p>Is the current position a metadata object?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_position_is_metadata(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_position_is_metadata_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_position_multiple_choice_allowed'>Are multiple choices allowed?</h2><span id='topic+pxe_position_multiple_choice_allowed'></span>

<h3>Description</h3>

<p>Are multiple choices allowed?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_position_multiple_choice_allowed(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_position_multiple_choice_allowed_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_position_title'>Get the table title for the current position</h2><span id='topic+pxe_position_title'></span>

<h3>Description</h3>

<p>Get the table title for the current position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_position_title(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_position_title_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_position_variable_can_be_eliminated'>Can the variable at the current position be eliminated?</h2><span id='topic+pxe_position_variable_can_be_eliminated'></span>

<h3>Description</h3>

<p>Can the variable at the current position be eliminated?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_position_variable_can_be_eliminated(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_position_variable_can_be_eliminated_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to check.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_print_download_code'>Print code to download query</h2><span id='topic+pxe_print_download_code'></span>

<h3>Description</h3>

<p>Print code to download query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_print_download_code(pxe, as)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_print_download_code_+3A_pxe">pxe</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxe_print_download_code_+3A_as">as</code></td>
<td>
<p><code>json</code> or <code>r</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='pxe_pxobj_at_position'>Return the pxweb object at the current position</h2><span id='topic+pxe_pxobj_at_position'></span><span id='topic+pxe_pxobj_at_position+3C-'></span>

<h3>Description</h3>

<p>Return the pxweb object at the current position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxe_pxobj_at_position(x)

pxe_pxobj_at_position(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxe_pxobj_at_position_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_explorer</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb'>S3 constructor for <code>pxweb</code> api object.</h2><span id='topic+pxweb'></span><span id='topic+is.pxweb'></span><span id='topic+print.pxweb'></span>

<h3>Description</h3>

<p>The pxwebapi object contain all information to do calls to the pxweb api and keep count
of the number of calls. The object is constructed
The object will also be cached in R temp folder to minimize calls to api.
All urls should be passed through the constructor to set up the pxweb api config.
</p>
<p><em>Garantuees</em>:
The base_url has been pinged
The sub_path has been checked
The config has been captured from the API
The url has been checked to be a pxweb api (through config)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb(url)

is.pxweb(x)

## S3 method for class 'pxweb'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_+3A_url">url</code></td>
<td>
<p>an url to a pxweb api including language and version of the api. See examples.</p>
</td></tr>
<tr><td><code id="pxweb_+3A_x">x</code></td>
<td>
<p>an an object to test if it is a <code>pxweb</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_+3A_...">...</code></td>
<td>
<p>further arguments supplied to <code>print()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>pxweb</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pxapi_1 &lt;-
  pxweb("https://api.scb.se/OV0104/v1/doris/sv/ssd/START/ME/ME0104/ME0104C/ME0104T24")
pxapi_2 &lt;-
  pxweb(url = "https://api.scb.se/OV0104/v1/doris/sv")

## End(Not run)

</code></pre>

<hr>
<h2 id='pxweb_add_api_subpath'>Add the subpath slot to a pxweb path slot</h2><span id='topic+pxweb_add_api_subpath'></span>

<h3>Description</h3>

<p>Add the subpath slot to a pxweb path slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_add_api_subpath(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_add_api_subpath_+3A_obj">obj</code></td>
<td>
<p>an object to add subpath to</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Queries the path from pos 1 and up until a config is returned.
</p>

<hr>
<h2 id='pxweb_add_call'>Add an api call to a pxweb_api_s3 object</h2><span id='topic+pxweb_add_call'></span>

<h3>Description</h3>

<p>The pxweb_add_call function add a call the the api in the call stack, then compute
</p>
<p>Promise:
The stored rda api object will always have the latest calls
This is not thread safe so only one session at a time should call the api.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_add_call(obj, time_stamp = Sys.time())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_add_call_+3A_obj">obj</code></td>
<td>
<p>a <code>pxweb_api_s3</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_add_config'>Add the config slot to a pxweb object</h2><span id='topic+pxweb_add_config'></span>

<h3>Description</h3>

<p>Add the config slot to a pxweb object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_add_config(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_add_config_+3A_obj">obj</code></td>
<td>
<p>an object to add config to</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Checks if there exist a config object in the object.
Otherwise it query the api to get it and add that call to the call stack.
</p>

<hr>
<h2 id='pxweb_add_mandatory_variables'>Add mandatory variables to query</h2><span id='topic+pxweb_add_mandatory_variables'></span>

<h3>Description</h3>

<p>Add mandatory variables to query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_add_mandatory_variables(pxq, pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_add_mandatory_variables_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_add_mandatory_variables_+3A_pxmd">pxmd</code></td>
<td>
<p>a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Complement queries that lack explicit requests for variables with requests for every value of these variables.
</p>

<hr>
<h2 id='pxweb_add_metadata_to_query'>Add and remove metadata to query</h2><span id='topic+pxweb_add_metadata_to_query'></span><span id='topic+pxweb_remove_metadata_from_query'></span>

<h3>Description</h3>

<p>Add and remove metadata to query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_add_metadata_to_query(pxq, pxmd)

pxweb_remove_metadata_from_query(pxq, pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_add_metadata_to_query_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_add_metadata_to_query_+3A_pxmd">pxmd</code></td>
<td>
<p>a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Add metadata values to variables with a query with filter &quot;all&quot;.
</p>

<hr>
<h2 id='pxweb_advanced_get'>Do a GET call to PXWEB API for advanced users</h2><span id='topic+pxweb_advanced_get'></span>

<h3>Description</h3>

<p>Do a GET call to PXWEB API for advanced users
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_advanced_get(
  url,
  query = NULL,
  verbose = TRUE,
  log_http_calls = FALSE,
  pxmdo = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_advanced_get_+3A_url">url</code></td>
<td>
<p>a <code>pxweb</code> object or url that can be coherced to a <code>pxweb</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_advanced_get_+3A_query">query</code></td>
<td>
<p>a json string, json file or list object that can be coherced to a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_advanced_get_+3A_verbose">verbose</code></td>
<td>
<p>should large queries print out progress.</p>
</td></tr>
<tr><td><code id="pxweb_advanced_get_+3A_log_http_calls">log_http_calls</code></td>
<td>
<p>Should the http calls to the API be logged (for debugging reasons).
If TRUE, all calls and responses are logged and written to &quot;log_pxweb_api_http_calls.txt&quot; in the working directory.</p>
</td></tr>
<tr><td><code id="pxweb_advanced_get_+3A_pxmdo">pxmdo</code></td>
<td>
<p>A <code>pxweb_metadata</code> object to use for query.</p>
</td></tr>
<tr><td><code id="pxweb_advanced_get_+3A_...">...</code></td>
<td>
<p>Further arguments sent to <code>httr::POST</code> (for queries) or <code>httr::GET</code> (for query = <code>NULL</code>).
If used with query, also supply a <code>pxweb_metadata</code> object. Otherwise the same parameters are sent to
both <code>httr::POST</code> and <code>httr::GET</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for more advanced users that want to supply specific arguments in
<code>httr</code> calls or what to debug <code>httr</code> calls.
</p>
<p><code>pxweb_get()</code> is a wrapper for standard use.
</p>

<hr>
<h2 id='pxweb_api_catalogue'>Get the PXWEB API catalogue</h2><span id='topic+pxweb_api_catalogue'></span><span id='topic+pxweb_api_catalogue_from_json'></span><span id='topic+pxweb_api_catalogue_from_github'></span><span id='topic+pxweb_api_catalogue_path'></span>

<h3>Description</h3>

<p>Get the PXWEB API catalogue
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_api_catalogue()

pxweb_api_catalogue_from_json(json)

pxweb_api_catalogue_from_github(branch = "master")

pxweb_api_catalogue_path()
</code></pre>


<h3>Details</h3>

<p>A list with implemented API:s.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pxweb_api_catalogue()

</code></pre>

<hr>
<h2 id='pxweb_api_catalogue_entry'>Constructor for <code>pxweb_api_catalogue_entry</code>.</h2><span id='topic+pxweb_api_catalogue_entry'></span><span id='topic+pxweb_api_catalogue_entry.list'></span><span id='topic+assert_pxweb_api_catalogue_entry'></span>

<h3>Description</h3>

<p>Constructor for <code>pxweb_api_catalogue_entry</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_api_catalogue_entry(x)

## S3 method for class 'list'
pxweb_api_catalogue_entry(x)

assert_pxweb_api_catalogue_entry(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_api_catalogue_entry_+3A_x">x</code></td>
<td>
<p>an object to assert is a <code>pxweb_api_catalogue_entry</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_api_name'>Get the api name, rootpath, subpath, path or dbpath</h2><span id='topic+pxweb_api_name'></span><span id='topic+pxweb_api_name.url'></span><span id='topic+pxweb_api_name.pxweb'></span><span id='topic+pxweb_api_name.pxweb_api_catalogue_entry'></span><span id='topic+pxweb_api_name.pxweb_explorer'></span><span id='topic+pxweb_api_rootpath'></span><span id='topic+pxweb_api_rootpath.url'></span><span id='topic+pxweb_api_rootpath.pxweb'></span><span id='topic+pxweb_api_rootpath.pxweb_explorer'></span><span id='topic+pxweb_api_subpath'></span><span id='topic+pxweb_api_subpath.pxweb'></span><span id='topic+pxweb_api_subpath.pxweb_explorer'></span><span id='topic+pxweb_api_path'></span><span id='topic+pxweb_api_path.url'></span><span id='topic+pxweb_api_path.pxweb'></span><span id='topic+pxweb_api_path.pxweb_explorer'></span><span id='topic+pxweb_api_dbpath'></span><span id='topic+pxweb_api_dbpath.pxweb'></span><span id='topic+assert_path'></span><span id='topic+pxe_position_path'></span><span id='topic+pxe_metadata_path'></span>

<h3>Description</h3>

<p>Get the api name, rootpath, subpath, path or dbpath
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_api_name(x)

## S3 method for class 'url'
pxweb_api_name(x)

## S3 method for class 'pxweb'
pxweb_api_name(x)

## S3 method for class 'pxweb_api_catalogue_entry'
pxweb_api_name(x)

## S3 method for class 'pxweb_explorer'
pxweb_api_name(x)

pxweb_api_rootpath(x)

## S3 method for class 'url'
pxweb_api_rootpath(x)

## S3 method for class 'pxweb'
pxweb_api_rootpath(x)

## S3 method for class 'pxweb_explorer'
pxweb_api_rootpath(x)

pxweb_api_subpath(x, init_slash = TRUE, as_vector = FALSE)

## S3 method for class 'pxweb'
pxweb_api_subpath(x, init_slash = TRUE, as_vector = FALSE)

## S3 method for class 'pxweb_explorer'
pxweb_api_subpath(x, init_slash = TRUE, as_vector = FALSE)

pxweb_api_path(x, init_slash = TRUE, as_vector = FALSE)

## S3 method for class 'url'
pxweb_api_path(x, init_slash = TRUE, as_vector = FALSE)

## S3 method for class 'pxweb'
pxweb_api_path(x, init_slash = TRUE, as_vector = FALSE)

## S3 method for class 'pxweb_explorer'
pxweb_api_path(x, init_slash = TRUE, as_vector = FALSE)

pxweb_api_dbpath(x, init_slash = TRUE, as_vector = FALSE)

## S3 method for class 'pxweb'
pxweb_api_dbpath(x, init_slash = TRUE, as_vector = FALSE)

## S3 method for class 'pxweb_explorer'
pxweb_api_path(x, init_slash = TRUE, as_vector = FALSE)

assert_path(x)

pxe_position_path(
  x,
  init_slash = TRUE,
  as_vector = FALSE,
  include_rootpath = FALSE
)

pxe_metadata_path(x, as_vector = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_api_name_+3A_x">x</code></td>
<td>
<p>object to get the name or path for</p>
</td></tr>
<tr><td><code id="pxweb_api_name_+3A_init_slash">init_slash</code></td>
<td>
<p>should <code>subpath</code> and <code>path</code> start with a <code>/</code>. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pxweb_api_name_+3A_as_vector">as_vector</code></td>
<td>
<p>should <code>subpath</code> and <code>path</code> be a vector split by /. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="pxweb_api_name_+3A_include_rootpath">include_rootpath</code></td>
<td>
<p>Should the rootpath be included? Default is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The PXWEB API contain the following path:
API-NAME/API-VERSION/LANGUAGE/DATABASE-ID/&lt;LEVELS&gt;/TABLE-ID
</p>
<p>The full url is made up by the <code>rootpath</code>, <code>subpath</code>, and <code>path</code>.
The <code>rootpath</code> is made up of the protocol and the API-NAME / hostname and protocol (if any).
</p>
<p>The <code>subpath</code> contain the API-VERSION and LANGUAGE but can contain other parts as well.
The subpath is the shortest the config can be called for. It can be seen as the base for the API.
</p>
<p>The <code>dbpath</code>, the data base path, contain DATABASE-ID/&lt;LEVELS&gt;/TABLE-ID.
</p>
<p>The <code>path</code>, is the standar path of an url, i.e. <code>subpath</code> + <code>dbpath</code>.
</p>
<p>No path ends with slash, but <code>subpath</code> and <code>dbpath</code> may begin with slash,
see the parameters
</p>

<hr>
<h2 id='pxweb_as_data_frame'>Coerce a <code>pxweb_data</code> object to a <code>data.frame</code></h2><span id='topic+pxweb_as_data_frame'></span><span id='topic+pxweb_as_data_frame.pxweb_data'></span><span id='topic+pxweb_as_data_frame.pxweb_data_comments'></span><span id='topic+pxweb_as_data_frame.pxweb_data_comment'></span><span id='topic+pxweb_as_data_frame.pxweb_levels'></span><span id='topic+as.data.frame.pxweb_data'></span><span id='topic+as.data.frame.pxweb_data_comments'></span><span id='topic+as.data.frame.pxweb_levels'></span><span id='topic+as.data.frame.pxweb_metadata'></span><span id='topic+pxweb_as_matrix'></span><span id='topic+pxweb_as_matrix.pxweb_data'></span><span id='topic+as.matrix.pxweb_data'></span><span id='topic+pxweb_pxd_slot_idx_pos'></span>

<h3>Description</h3>

<p>Coerce a <code>pxweb_data</code> object to a <code>data.frame</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_as_data_frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE,
  column.name.type = "text",
  variable.value.type = "text"
)

## S3 method for class 'pxweb_data'
pxweb_as_data_frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE,
  column.name.type = "text",
  variable.value.type = "text"
)

## S3 method for class 'pxweb_data_comments'
pxweb_as_data_frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE
)

## S3 method for class 'pxweb_data_comment'
pxweb_as_data_frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE
)

## S3 method for class 'pxweb_levels'
pxweb_as_data_frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE
)

## S3 method for class 'pxweb_data'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE,
  column.name.type = "text",
  variable.value.type = "text"
)

## S3 method for class 'pxweb_data_comments'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE
)

## S3 method for class 'pxweb_levels'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE
)

## S3 method for class 'pxweb_metadata'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  stringsAsFactors = FALSE
)

pxweb_as_matrix(
  x,
  row.names = NULL,
  column.name.type = "text",
  variable.value.type = "text"
)

## S3 method for class 'pxweb_data'
pxweb_as_matrix(
  x,
  row.names = NULL,
  column.name.type = "text",
  variable.value.type = "text"
)

## S3 method for class 'pxweb_data'
as.matrix(
  x,
  ...,
  row.names = NULL,
  column.name.type = "text",
  variable.value.type = "text"
)

pxweb_pxd_slot_idx_pos(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_as_data_frame_+3A_x">x</code></td>
<td>
<p>an object to convert to <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="pxweb_as_data_frame_+3A_row.names">row.names</code></td>
<td>
<p>See <code><a href="base.html#topic+as.data.frame">as.data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="pxweb_as_data_frame_+3A_optional">optional</code></td>
<td>
<p>See <code><a href="base.html#topic+as.data.frame">as.data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="pxweb_as_data_frame_+3A_...">...</code></td>
<td>
<p>See <code><a href="base.html#topic+as.data.frame">as.data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="pxweb_as_data_frame_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>See <code><a href="base.html#topic+as.data.frame">as.data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="pxweb_as_data_frame_+3A_column.name.type">column.name.type</code></td>
<td>
<p>character: should <code>code</code> or <code>text</code> be used as column names?</p>
</td></tr>
<tr><td><code id="pxweb_as_data_frame_+3A_variable.value.type">variable.value.type</code></td>
<td>
<p>character: should <code>code</code> or <code>text</code> be used as values in columns?</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="base.html#topic+as.data.frame">as.data.frame</a></code>.
</p>

<hr>
<h2 id='pxweb_as_json'>Convert object to json</h2><span id='topic+pxweb_as_json'></span><span id='topic+pxweb_as_json.pxweb_query'></span>

<h3>Description</h3>

<p>Convert object to json
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_as_json(x)

## S3 method for class 'pxweb_query'
pxweb_as_json(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_as_json_+3A_x">x</code></td>
<td>
<p>an object to convert.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_c'>Combine pxweb objects</h2><span id='topic+pxweb_c'></span>

<h3>Description</h3>

<p>Combine pxweb objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_c(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_c_+3A_x">x</code></td>
<td>
<p>a list with <code>pxweb</code> objects.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_cite'>Cite a PXWEB data object</h2><span id='topic+pxweb_cite'></span>

<h3>Description</h3>

<p>Cite a PXWEB data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_cite(x, style = "citation")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_cite_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_data</code> object to cite.</p>
</td></tr>
<tr><td><code id="pxweb_cite_+3A_style">style</code></td>
<td>
<p>see <code><a href="utils.html#topic+bibentry">bibentry</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functionality to automatic cite PXWEB data objects.
</p>

<hr>
<h2 id='pxweb_clear_cache'>Clear cache of all (or one) <code>pxweb</code> object</h2><span id='topic+pxweb_clear_cache'></span>

<h3>Description</h3>

<p>Clear cache of all (or one) <code>pxweb</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_clear_cache(x = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_clear_cache_+3A_x">x</code></td>
<td>
<p>a <code>pxweb</code> object to clear cache for. Default is NULL (clear everything).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Clean the cache and sleep to restore api timing limit.
</p>

<hr>
<h2 id='pxweb_data'>Construct a <code>pxweb_data</code> object.</h2><span id='topic+pxweb_data'></span>

<h3>Description</h3>

<p>An object that contain the data for a given PXWEB table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_data(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_data_+3A_x">x</code></td>
<td>
<p>a list returned from a PXWEB API to convert to a <code>pxweb_data</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pxweb_data</code> object
</p>

<hr>
<h2 id='pxweb_data_c'>Combine pxweb objects</h2><span id='topic+pxweb_data_c'></span>

<h3>Description</h3>

<p>Combine pxweb objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_data_c(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_data_c_+3A_x">x</code></td>
<td>
<p>a list with <code>pxweb</code> objects.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_data_colnames'>Get query filter</h2><span id='topic+pxweb_data_colnames'></span>

<h3>Description</h3>

<p>Get query filter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_data_colnames(pxd, type = "text")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_data_colnames_+3A_pxd">pxd</code></td>
<td>
<p>a <code>pxweb_data</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector with column names.
</p>

<hr>
<h2 id='pxweb_data_column_comment'>Construct a <code>pxweb_data_comment</code> object</h2><span id='topic+pxweb_data_column_comment'></span><span id='topic+pxweb_data_value_comment'></span><span id='topic+pxweb_data_obs_comment'></span>

<h3>Description</h3>

<p>Construct a <code>pxweb_data_comment</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_data_column_comment(x, column_idx)

pxweb_data_value_comment(x, comment_idx)

pxweb_data_obs_comment(x, obs_idx)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_data_column_comment_+3A_x">x</code></td>
<td>
<p>an <code>pxweb_data</code> to extract a <code>pxweb_data_comment</code> object from.</p>
</td></tr>
<tr><td><code id="pxweb_data_column_comment_+3A_column_idx">column_idx</code></td>
<td>
<p>the index of the column to extract.</p>
</td></tr>
<tr><td><code id="pxweb_data_column_comment_+3A_comment_idx">comment_idx</code></td>
<td>
<p>the index of the comment to extract.</p>
</td></tr>
<tr><td><code id="pxweb_data_column_comment_+3A_obs_idx">obs_idx</code></td>
<td>
<p>the index of the comment to extract.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_data_comments'>Construct a <code>pxweb_data_comments</code> object.</h2><span id='topic+pxweb_data_comments'></span><span id='topic+pxweb_data_comments.pxweb_data'></span>

<h3>Description</h3>

<p>An object that contain the comments for a given PXWEB table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_data_comments(x)

## S3 method for class 'pxweb_data'
pxweb_data_comments(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_data_comments_+3A_x">x</code></td>
<td>
<p>a <code>pxweb_data</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pxweb_data_comments</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
url &lt;- "https://api.scb.se/OV0104/v1/doris/en/ssd/BE/BE0101/BE0101A/BefolkningNy"
json_query &lt;-
  file.path(system.file(package = "pxweb"), "extdata", "examples", "json_query_example.json")
pxd &lt;- pxweb_get(url = url, query = json_query)
pxdcs &lt;- pxweb_data_comments(x = pxd)
pxdc_df &lt;- as.data.frame(pxdcs, stringsAsFactors = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='pxweb_data_dim'>Compute the dimension of the query <code>pxweb_data</code> object</h2><span id='topic+pxweb_data_dim'></span>

<h3>Description</h3>

<p>Compute the dimension of the query <code>pxweb_data</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_data_dim(pxd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_data_dim_+3A_pxd">pxd</code></td>
<td>
<p>a <code>pxweb_data</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_data_jsonstat'>Construct a <code>pxweb_data_jsonstat</code> object.</h2><span id='topic+pxweb_data_jsonstat'></span>

<h3>Description</h3>

<p>An object that contain the data for a given PXWEB table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_data_jsonstat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_data_jsonstat_+3A_x">x</code></td>
<td>
<p>a list returned from a PXWEB API to convert to a <code>pxweb_data_jsonstat</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pxweb_data_jsonstat</code> object.
</p>

<hr>
<h2 id='pxweb_database_list'>Construct a <code>pxweb_database_list</code> object.</h2><span id='topic+pxweb_database_list'></span>

<h3>Description</h3>

<p>An object that contain the list of databases for a given PXWEB api.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_database_list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_database_list_+3A_x">x</code></td>
<td>
<p>a list returned from a PXWEB API to convert to a <code>pxweb_database_list</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pxweb_database_list</code> object
</p>

<hr>
<h2 id='pxweb_explorer'>Create a <code>pxweb_explorer</code> object.</h2><span id='topic+pxweb_explorer'></span><span id='topic+pxweb_explorer.NULL'></span><span id='topic+pxweb_explorer.character'></span><span id='topic+pxweb_explorer.pxweb'></span><span id='topic+pxweb_explorer.pxweb_api_catalogue_entry'></span><span id='topic+assert_pxweb_explorer'></span><span id='topic+print.pxweb_explorer'></span><span id='topic+print_bar'></span><span id='topic+pxe_print_choices'></span>

<h3>Description</h3>

<p><code>position</code> the current position in the api, as a character vector from the root.
Note position is not alway a correct url. Metadata and other choices are part of position
</p>
<p><code>root</code> is the bottom path (as position) that the user can go. If length 0, user can essentially go to hostname.
</p>
<p>paste(root_path + position, collapse = &quot;/&quot;)  is used to construct the path to the position
in case of url.
</p>
<p>print out a bar for separation purposes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_explorer(x = NULL)

## S3 method for class ''NULL''
pxweb_explorer(x)

## S3 method for class 'character'
pxweb_explorer(x)

## S3 method for class 'pxweb'
pxweb_explorer(x)

## S3 method for class 'pxweb_api_catalogue_entry'
pxweb_explorer(x)

assert_pxweb_explorer(x)

## S3 method for class 'pxweb_explorer'
print(x, ...)

print_bar()

pxe_print_choices(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_explorer_+3A_x">x</code></td>
<td>
<p>a <code>pxweb</code> object, a PXWEB url, <code>NULL</code> or an api in the api catalogue.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## The functions below are internal generic functions
## x &lt;- pxweb_explorer()
## url &lt;- "api.scb.se"
## x &lt;- pxweb_explorer(x = url)
## url &lt;- "https://api.scb.se/OV0104/v1/doris/en/ssd/BE/BE0101/BE0101A/"
## x &lt;- pxweb_explorer(x = url)
## url &lt;- "https://api.scb.se/OV0104/v1/doris/en/ssd/BE/BE0101/BE0101A/BefolkningNy"
## x &lt;- pxweb_explorer(x = url)

</code></pre>

<hr>
<h2 id='pxweb_fix_url'>Fix url characters</h2><span id='topic+pxweb_fix_url'></span>

<h3>Description</h3>

<p>Fix url characters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_fix_url(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_fix_url_+3A_x">x</code></td>
<td>
<p>a string to fix</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_get'>Do a GET call to PXWEB API</h2><span id='topic+pxweb_get'></span>

<h3>Description</h3>

<p>Do a GET call to PXWEB API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_get(url, query = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_get_+3A_url">url</code></td>
<td>
<p>a <code>pxweb</code> object or url that can be coherced to a <code>pxweb</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_get_+3A_query">query</code></td>
<td>
<p>a json string, json file or list object that can be coherced to a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_get_+3A_verbose">verbose</code></td>
<td>
<p>should large queries print out progress.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
url &lt;- "https://api.scb.se/OV0104/v1/doris/sv/ssd/BE/BE0101/BE0101A/BefolkningNy"
px_meta_data &lt;- pxweb_get(url)

url &lt;- "https://api.scb.se/OV0104/v1/doris/sv/ssd/BE/BE0101"
px_levels &lt;- pxweb_get(url)

url &lt;- "https://api.scb.se/OV0104/v1/doris/sv"
px_levels &lt;- pxweb_get(url)

url &lt;- "https://api.scb.se/OV0104/v1/doris/sv/ssd/BE/BE0101/BE0101A/BefolkningNy"
query &lt;- file.path(
  system.file(package = "pxweb"),
  "extdata", "examples", "json_query_example.json"
)
px_data &lt;- pxweb_get(url = url, query = query)

# Convert to data.frame
as.data.frame(px_data, column.name.type = "text", variable.value.type = "text")

# Get raw data
as.matrix(px_data, column.name.type = "code", variable.value.type = "code")

# Get data comments
pxweb_data_comments(px_data)

# Get jsonstat data
jstat &lt;- query &lt;- file.path(
  system.file(package = "pxweb"),
  "extdata", "examples", "json-stat_query_example.json"
)
jstat_data &lt;- pxweb_get(url = url, query = query)

# Get very large datasets (multiple downloads needed)
big_query &lt;- file.path(
  system.file(package = "pxweb"),
  "extdata", "examples", "json_big_query_example.json"
)
px_data &lt;- pxweb_get(url = url, query = big_query)

## End(Not run)

</code></pre>

<hr>
<h2 id='pxweb_get_api_test_data_frame'>Build api test data.frame</h2><span id='topic+pxweb_get_api_test_data_frame'></span>

<h3>Description</h3>

<p>Build api test data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_get_api_test_data_frame(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_get_api_test_data_frame_+3A_x">x</code></td>
<td>
<p>a pxweb object</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_get_data'>Do a GET call to PXWEB API and return a data.frame</h2><span id='topic+pxweb_get_data'></span>

<h3>Description</h3>

<p>Do a GET call to PXWEB API and return a data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_get_data(
  url,
  query,
  verbose = TRUE,
  column.name.type = "text",
  variable.value.type = "text"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_get_data_+3A_url">url</code></td>
<td>
<p>a <code>pxweb</code> object or url that can be coherced to a <code>pxweb</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_get_data_+3A_query">query</code></td>
<td>
<p>a json string, json file or list object that can be coherced to a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_get_data_+3A_verbose">verbose</code></td>
<td>
<p>should large queries print out progress.</p>
</td></tr>
<tr><td><code id="pxweb_get_data_+3A_column.name.type">column.name.type</code></td>
<td>
<p>character: should <code>code</code> or <code>text</code> be used as column names?</p>
</td></tr>
<tr><td><code id="pxweb_get_data_+3A_variable.value.type">variable.value.type</code></td>
<td>
<p>character: should <code>code</code> or <code>text</code> be used as values in columns?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions use will do a <code>pxweb_query</code> to a PXWEB <code>url</code> and return a <code>data.frame</code>.
This is a wrapper for the <code>pxweb_get</code> function.
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+pxweb_get">pxweb_get</a></code> for mor general usage and <code><a href="#topic+pxweb_query">pxweb_query</a></code> for details on PXWEB queries.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
url &lt;- "https://api.scb.se/OV0104/v1/doris/sv/ssd/BE/BE0101/BE0101A/BefolkningNy"
query &lt;- file.path(
  system.file(package = "pxweb"),
  "extdata", "examples", "json_query_example.json"
)
df &lt;- pxweb_get_data(url = url, query = query)

## End(Not run)

</code></pre>

<hr>
<h2 id='pxweb_http_log_on'>Setup a structure to log all API calls</h2><span id='topic+pxweb_http_log_on'></span><span id='topic+pxweb_http_log_off'></span><span id='topic+pxweb_log_paths_path'></span><span id='topic+pxweb_http_log_is_on'></span><span id='topic+pxweb_http_log_response'></span><span id='topic+pxweb_response_to_log_as_json'></span>

<h3>Description</h3>

<p>Setup a structure to log all API calls
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_http_log_on(fn = "log_pxweb_api_http_calls.txt")

pxweb_http_log_off()

pxweb_log_paths_path()

pxweb_http_log_is_on()

pxweb_http_log_response(r)

pxweb_response_to_log_as_json(r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_http_log_on_+3A_fn">fn</code></td>
<td>
<p>The file name of the log file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Set up internal structure to handle http PXWEB API calls. http calls are stored in a log file.
To access the path to this log file, the path is stored in the pxweb folder in the tempdir().
The path is given by <code>pxweb_log_paths_path()</code>.
If the file exists, the http calls should be logged (appended) to the log file where the object contains the path.
</p>

<hr>
<h2 id='pxweb_interactive'>Find and download data interactively from a PXWEB API</h2><span id='topic+pxweb_interactive'></span><span id='topic+interactive_pxweb'></span>

<h3>Description</h3>

<p>Wrapper function (for <a href="#topic+pxweb_get">pxweb_get</a>) to simply find and download data to the current R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_interactive(x = NULL)

interactive_pxweb(x = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_interactive_+3A_x">x</code></td>
<td>
<p>The name or alias of the pxweb api to connect to, a <code>pxweb</code> object or an url.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a list with three slots:
<code>url</code>: The URL to the data
<code>query</code>: The query to access the data
<code>data</code>: The downloaded data (if chosen to download data)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pxweb_get">pxweb_get</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pxweb_api_catalogue() # List apis

## The examples below can only be run in interactive mode
##  x &lt;- pxweb_interactive()
##  x &lt;- pxweb_interactive(x = "api.scb.se")
##  x &lt;- pxweb_interactive(x = "https://api.scb.se/OV0104/v1/doris/en/ssd/BE/BE0101/")
##  x &lt;- pxweb_interactive(x = "https://api.scb.se/OV0104/v1/doris/en/ssd/BE/BE0101/BE0101A/")

</code></pre>

<hr>
<h2 id='pxweb_interactive_input'>Get input from user</h2><span id='topic+pxweb_interactive_input'></span>

<h3>Description</h3>

<p>Get input from user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_interactive_input(pxe, test_input = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_interactive_input_+3A_pxe">pxe</code></td>
<td>
<p>a <code>pxweb_explorer</code> object to get user input for.</p>
</td></tr>
<tr><td><code id="pxweb_interactive_input_+3A_test_input">test_input</code></td>
<td>
<p>supplying a test input (for testing only).</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_levels'>Construct a <code>pxweb_levels</code> object.</h2><span id='topic+pxweb_levels'></span>

<h3>Description</h3>

<p>An object that contain the levels for a given PXWEB api position.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_levels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_levels_+3A_x">x</code></td>
<td>
<p>a list returned from a PXWEB API to convert to a <code>pxweb_levels</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pxweb_levels</code> object
</p>

<hr>
<h2 id='pxweb_metadata'>Construct a <code>pxweb_metadata</code> object.</h2><span id='topic+pxweb_metadata'></span>

<h3>Description</h3>

<p>An object that contain the metadata for a given PXWEB table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_metadata(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_metadata_+3A_x">x</code></td>
<td>
<p>a list returned from a PXWEB API to convert to a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pxweb_metadata</code> object
</p>

<hr>
<h2 id='pxweb_metadata_add_null_values'>Add values to NULL value variables in PXWEB metadata objects</h2><span id='topic+pxweb_metadata_add_null_values'></span>

<h3>Description</h3>

<p>Add values to NULL value variables in PXWEB metadata objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_metadata_add_null_values(x, px)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_metadata_add_null_values_+3A_x">x</code></td>
<td>
<p>an object to check if is a <code>pxweb_metadata</code> object to which we should add values.</p>
</td></tr>
<tr><td><code id="pxweb_metadata_add_null_values_+3A_px">px</code></td>
<td>
<p>a <code>pxweb</code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some metadata objects may have NULL values. In these cases the values are downloaded and added
to the metadata object.
</p>

<hr>
<h2 id='pxweb_metadata_dim'>Compue the dimension of a metadata object</h2><span id='topic+pxweb_metadata_dim'></span>

<h3>Description</h3>

<p>Compue the dimension of a metadata object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_metadata_dim(pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_metadata_dim_+3A_pxmd">pxmd</code></td>
<td>
<p>a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_metadata_elimination'>Get boolean vector</h2><span id='topic+pxweb_metadata_elimination'></span>

<h3>Description</h3>

<p>Get boolean vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_metadata_elimination(pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_metadata_elimination_+3A_pxmd">pxmd</code></td>
<td>
<p>a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>pxweb_metadata eliminations as a named boolean vector.
</p>

<hr>
<h2 id='pxweb_metadata_time'>Get boolean vector</h2><span id='topic+pxweb_metadata_time'></span>

<h3>Description</h3>

<p>Get boolean vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_metadata_time(pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_metadata_time_+3A_pxmd">pxmd</code></td>
<td>
<p>a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>pxweb_metadata eliminations as a named boolean vector.
</p>

<hr>
<h2 id='pxweb_parse_response'>Parse the response from a PXWEB API (advanced)</h2><span id='topic+pxweb_parse_response'></span><span id='topic+is_pxweb_response'></span>

<h3>Description</h3>

<p>The function parses the response from a call made to a PXWEB API
using the <code>httr</code> R package. In this way it is possible to parse the
content of calls made outside the pxweb R package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_parse_response(x)

is_pxweb_response(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_parse_response_+3A_x">x</code></td>
<td>
<p>a <code>httr</code> response object from a PXWEB call.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_query'>Create a PXWEB query</h2><span id='topic+pxweb_query'></span><span id='topic+pxweb_query.character'></span><span id='topic+pxweb_query.json'></span><span id='topic+pxweb_query.pxweb_query'></span><span id='topic+pxweb_query.list'></span><span id='topic+pxweb_query.response'></span><span id='topic+pxweb_query.pxweb_explorer'></span>

<h3>Description</h3>

<p>Creates a pxweb query object from either a list with named values,
a json query file or json query string. See examples below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_query(x)

## S3 method for class 'character'
pxweb_query(x)

## S3 method for class 'json'
pxweb_query(x)

## S3 method for class 'pxweb_query'
pxweb_query(x)

## S3 method for class 'list'
pxweb_query(x)

## S3 method for class 'response'
pxweb_query(x)

## S3 method for class 'pxweb_explorer'
pxweb_query(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_query_+3A_x">x</code></td>
<td>
<p>an object to cast as a pxweb_query object.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+pxweb_query_as_json">pxweb_query_as_json</a></code>, <code><a href="#topic+pxweb_query_as_rcode">pxweb_query_as_rcode</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dims &lt;- list(
  Alue = c("*"),
  "Asuntokunnan koko" = c("*"),
  Talotyyppi = c("S"),
  Vuosi = c("*")
)
pxq1 &lt;- pxweb_query(dims)

json_query &lt;- file.path(
  system.file(package = "pxweb"),
  "extdata", "examples", "json_query_example.json"
)
pxq2 &lt;- pxweb_query(json_query)

</code></pre>

<hr>
<h2 id='pxweb_query_as_json'>Convert a <code>pxweb_query</code> object to a <code>json</code> string</h2><span id='topic+pxweb_query_as_json'></span>

<h3>Description</h3>

<p>Convert a <code>pxweb_query</code> object to a <code>json</code> string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_query_as_json(pxq, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_query_as_json_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_query_as_json_+3A_...">...</code></td>
<td>
<p>further argument to <code>jsonlite::toJSON()</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+pxweb_query">pxweb_query</a></code>, <code><a href="#topic+pxweb_query_as_rcode">pxweb_query_as_rcode</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>json_query &lt;- file.path(
  system.file(package = "pxweb"),
  "extdata", "examples", "json_query_example.json"
)
pxq &lt;- pxweb_query(json_query)
json &lt;- pxweb_query_as_json(pxq, pretty = TRUE)

</code></pre>

<hr>
<h2 id='pxweb_query_as_rcode'>Print a <code>pxweb_query</code> object as R code</h2><span id='topic+pxweb_query_as_rcode'></span>

<h3>Description</h3>

<p>Print a <code>pxweb_query</code> object as R code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_query_as_rcode(pxq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_query_as_rcode_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+pxweb_query_as_json">pxweb_query_as_json</a></code>, <code><a href="#topic+pxweb_query">pxweb_query</a></code>
</p>

<hr>
<h2 id='pxweb_query_dim'>Compue the dimension of the query</h2><span id='topic+pxweb_query_dim'></span>

<h3>Description</h3>

<p>Compue the dimension of the query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_query_dim(pxq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_query_dim_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_query_dim_splittable'>Get vector indicating splittable variables</h2><span id='topic+pxweb_query_dim_splittable'></span>

<h3>Description</h3>

<p>Get vector indicating splittable variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_query_dim_splittable(pxq, pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_query_dim_splittable_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Splitable variables are variables that can be split. Content variables cannot be split,
nor variables with filter == &quot;top&quot;.
</p>
<p>Currently, we can only be sure that time variables and eliminated variables can be split.
Hopefully the next API makes this more clear.
</p>


<h3>Value</h3>

<p>a named logical vector.
</p>

<hr>
<h2 id='pxweb_query_filter'>Get query values</h2><span id='topic+pxweb_query_filter'></span>

<h3>Description</h3>

<p>Get query values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_query_filter(pxq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_query_filter_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>query variable selection filters as a named character vector.
</p>

<hr>
<h2 id='pxweb_query_values'>Get query filter</h2><span id='topic+pxweb_query_values'></span>

<h3>Description</h3>

<p>Get query filter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_query_values(pxq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_query_values_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>query variable selection values as a named list of character vectors.
</p>

<hr>
<h2 id='pxweb_split_query'>Split query in optimal sub-queries</h2><span id='topic+pxweb_split_query'></span>

<h3>Description</h3>

<p>Split query in optimal sub-queries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_split_query(pxq, px, pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_split_query_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_split_query_+3A_px">px</code></td>
<td>
<p>a <code>pxweb</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_split_query_+3A_pxmd">pxmd</code></td>
<td>
<p>a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Computes (brute-force) the optimal split of a query to
match the api maximum value limit. It also take into account
that time variables and content variables should not be split.
Also variables with filter &quot;top&quot; should not be split, since
the top filter does not supply the individual levels, just a
number. This can probably be improved further.
</p>


<h3>Value</h3>

<p>a list with <code>pxweb_query</code> objects.
</p>

<hr>
<h2 id='pxweb_tempdir'>Setup temorary directory for the pxweb</h2><span id='topic+pxweb_tempdir'></span>

<h3>Description</h3>

<p>Setup temorary directory for the pxweb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_tempdir(to = "apis")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_tempdir_+3A_to">to</code></td>
<td>
<p>to what part of the temp folder (apis or logs)</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_test_api'>Test a full or a part of a PXWEB api.</h2><span id='topic+pxweb_test_api'></span>

<h3>Description</h3>

<p>The function can be used to test a whole pxweb api by using the api base url.
By using a branch in a tree the api is tested below this branch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_test_api(
  url,
  test_type = "first",
  n = 1,
  verbose = TRUE,
  time_limit = Inf
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_test_api_+3A_url">url</code></td>
<td>
<p>The base url to the pxweb api (or a branch of the metadata tree)</p>
</td></tr>
<tr><td><code id="pxweb_test_api_+3A_test_type">test_type</code></td>
<td>
<p>What type of test should be done.
The <code>first</code> observation of each table.
A random <code>sample</code> of size <code>n</code>.
Download all <code>full</code> tables.
<code>touch</code> the api by only downloading the first table metadata.
This is minimal testing of the API.</p>
</td></tr>
<tr><td><code id="pxweb_test_api_+3A_n">n</code></td>
<td>
<p>sample size if <code>test_type</code> is <code>sample</code>.</p>
</td></tr>
<tr><td><code id="pxweb_test_api_+3A_verbose">verbose</code></td>
<td>
<p>The function will print information.</p>
</td></tr>
<tr><td><code id="pxweb_test_api_+3A_time_limit">time_limit</code></td>
<td>
<p>Time limit in second the API is allowed to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function returns a data.frame with information on each node
Two variables are added:
<code>checked</code> : The node has been checked
<code>error</code> : Whether there were errors encountered with the call
<code>download_error</code> : Whether there were errors encountered during download
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
url &lt;- "https://bank.stat.gl/api/v1/en/Greenland/BE/BE01"
res &lt;- pxweb_test_api(url)
res &lt;- pxweb_test_api(url, test_type = "touch")

## End(Not run)
</code></pre>

<hr>
<h2 id='pxweb_test_create_api_paths'>Create all paths from a list of pxweb_api_catalogue entries</h2><span id='topic+pxweb_test_create_api_paths'></span>

<h3>Description</h3>

<p>Create all paths from a list of pxweb_api_catalogue entries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_test_create_api_paths(apis)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_test_create_api_paths_+3A_apis">apis</code></td>
<td>
<p>a list of pxweb_api_catalogue_entry elements</p>
</td></tr>
</table>

<hr>
<h2 id='pxweb_test_time_limit'>Test time limit object</h2><span id='topic+pxweb_test_time_limit'></span><span id='topic+is_test_time_limit_reached'></span>

<h3>Description</h3>

<p>Test time limit object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_test_time_limit(time_limit)

is_test_time_limit_reached(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_test_time_limit_+3A_time_limit">time_limit</code></td>
<td>
<p>the number of seconds the API will be tested.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Used to limit testing of API:s.
</p>

<hr>
<h2 id='pxweb_validate_query_with_metadata'>Validate a <code>pxweb_query</code> with a <code>pxweb_metadata</code> object</h2><span id='topic+pxweb_validate_query_with_metadata'></span>

<h3>Description</h3>

<p>Validate a <code>pxweb_query</code> with a <code>pxweb_metadata</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pxweb_validate_query_with_metadata(pxq, pxmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pxweb_validate_query_with_metadata_+3A_pxq">pxq</code></td>
<td>
<p>a <code>pxweb_query</code> object.</p>
</td></tr>
<tr><td><code id="pxweb_validate_query_with_metadata_+3A_pxmd">pxmd</code></td>
<td>
<p>a <code>pxweb_metadata</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Validate a query with a metadata object to asses that the query can be used to
query the table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
url &lt;- "https://api.scb.se/OV0104/v1/doris/sv/ssd/BE/BE0101/BE0101A/BefolkningNy"
json_query &lt;- file.path(
  system.file(package = "pxweb"),
  "extdata", "examples", "json_query_example.json"
)
pxq &lt;- pxweb_query(json_query)
pxweb_validate_query_with_metadata(pxq, pxweb_get(url))

## End(Not run)

</code></pre>

<hr>
<h2 id='save_pxweb'>Save and load <code>pxweb</code> objects from R temp folder</h2><span id='topic+save_pxweb'></span><span id='topic+load_pxweb'></span><span id='topic+load_pxweb_calls'></span><span id='topic+load_pxweb_config'></span><span id='topic+load_pxweb_api_subpath'></span>

<h3>Description</h3>

<p>Save and load <code>pxweb</code> objects from R temp folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_pxweb(obj)

load_pxweb(obj)

load_pxweb_calls(obj)

load_pxweb_config(obj)

load_pxweb_api_subpath(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_pxweb_+3A_obj">obj</code></td>
<td>
<p>a <code>pxweb</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='split_dimensions_left_right'>Split variables into chunks</h2><span id='topic+split_dimensions_left_right'></span>

<h3>Description</h3>

<p>Split variables into chunks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_dimensions_left_right(x, bool, max_size)
</code></pre>


<h3>Details</h3>

<p>Splitable variables are variables that can be split. Content variables cannot be split,
not variables with filter == &quot;top&quot;
</p>


<h3>Value</h3>

<p>a <code>pxweb_split_dimensions</code>
</p>

<hr>
<h2 id='str_pad'>Pad a string to a fixed size</h2><span id='topic+str_pad'></span>

<h3>Description</h3>

<p>Pad a string to a fixed size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_pad(txt, n = 5, pad = " ", type = "left")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_pad_+3A_txt">txt</code></td>
<td>
<p>a character vector to pad</p>
</td></tr>
<tr><td><code id="str_pad_+3A_n">n</code></td>
<td>
<p>final char width</p>
</td></tr>
<tr><td><code id="str_pad_+3A_pad">pad</code></td>
<td>
<p>pad symbol</p>
</td></tr>
<tr><td><code id="str_pad_+3A_type">type</code></td>
<td>
<p>pad from 'left' or 'right'.</p>
</td></tr>
</table>

<hr>
<h2 id='str_trim'>Taken from <code>trimws</code> for reasons of compatibility with previous R versios.</h2><span id='topic+str_trim'></span>

<h3>Description</h3>

<p>Taken from <code>trimws</code> for reasons of compatibility with previous R versios.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_trim(x, which = c("both", "left", "right"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_trim_+3A_x">x</code></td>
<td>
<p>a string to trim.</p>
</td></tr>
<tr><td><code id="str_trim_+3A_which">which</code></td>
<td>
<p>how to trim the string.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>trimws
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package RsSimulx</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RsSimulx}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#catplotmlx'><p>Plot Categorical Longitudinal Data</p></a></li>
<li><a href='#exposure'><p>Computation of AUC, Cmax and Cmin</p></a></li>
<li><a href='#ggplotmlx'><p>wrapper for ggplot</p></a></li>
<li><a href='#initRsSimulx'><p>Initialize RsSimulx library</p></a></li>
<li><a href='#inlineDataFrame'><p>Inline dataframe</p></a></li>
<li><a href='#inlineModel'><p>Inline model</p></a></li>
<li><a href='#kmplotmlx'><p>Kaplan Meier plot</p></a></li>
<li><a href='#lixoft.read.table'><p>Read Lixoft@ files</p></a></li>
<li><a href='#prctilemlx'><p>Percentiles of the empiricial distribution of longitudinal data</p></a></li>
<li><a href='#read.vector'><p>Reads  a table into a vector</p></a></li>
<li><a href='#RsSimulx-deprecated'><p>Deprecated functions in package <span class="pkg">RsSimulx</span>.</p></a></li>
<li><a href='#rssimulxDemo.model'><p>Simulx project</p></a></li>
<li><a href='#rssimulxDemo.project'><p>Simulx project</p></a></li>
<li><a href='#shinymlx'><p>Automatic code generation for Shiny applications</p></a></li>
<li><a href='#simpopmlx'><p>Population parameters simulation</p></a></li>
<li><a href='#simulx'><p>Simulation of mixed effects models and longitudinal data</p></a></li>
<li><a href='#statmlx'><p>Summary of data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Extension of 'lixoftConnectors' for 'Simulx'</td>
</tr>
<tr>
<td>Version:</td>
<td>2024.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chloe Bracis &lt;support@lixoft.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides useful tools which supplement the use of 'Simulx' software and 'R' connectors ('Monolix Suite'). 'Simulx' is an easy, efficient and flexible application for clinical trial simulations. You need 'Simulx' software to be installed in order to use 'RsSimulx' package. Among others tasks, 'RsSimulx' provides the same functions as package 'mlxR' does with a compatibility with 'Simulx' software.</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>'Simulx' (&lt;http://simulx.lixoft.com/&gt;)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), ggplot2</td>
</tr>
<tr>
<td>Imports:</td>
<td>gridExtra, utils, stats, grDevices</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Collate:</td>
<td>catplotmlx.R ggplotmlx.R kmplotmlx.R prctilemlx.R simulxR.R
exposure.R shinymlx.R statmlx.R stoolsmlx.R simpop.R
smlx-checks.R smlx-tools.R smlx-data.R smlx-project.R
apiTools.R apiManager.R utils.R data.R RsSimulx-deprecated.R
zzz.R</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Copyright:</td>
<td>LIXOFT</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-10 09:45:01 UTC; cbracis</td>
</tr>
<tr>
<td>Author:</td>
<td>Clemence Pinaud [aut],
  Jonathan Chauvin [aut],
  Marc Lavielle [aut],
  Frano Mihaljevic [aut],
  Chloe Bracis [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-10 12:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='catplotmlx'>Plot Categorical Longitudinal Data</h2><span id='topic+catplotmlx'></span>

<h3>Description</h3>

<p>Plot the empirical distribution of categorical longitudinal data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catplotmlx(
  r,
  col = NULL,
  breaks = NULL,
  plot = TRUE,
  color = "#194280",
  group = NULL,
  facet = TRUE,
  labels = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="catplotmlx_+3A_r">r</code></td>
<td>
<p>a data frame with a column &lsquo;<span class="samp">&#8288;id&#8288;</span>&rsquo;, a column &lsquo;<span class="samp">&#8288;time&#8288;</span>&rsquo;,
a column with values and possibly Hk[ja column &lsquo;<span class="samp">&#8288;group&#8288;</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="catplotmlx_+3A_col">col</code></td>
<td>
<p>a vector of 3 column numbers: (&lsquo;<span class="samp">&#8288;id&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;time/x&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;y&#8288;</span>&rsquo;. Default = c(1, 2,3).</p>
</td></tr>
<tr><td><code id="catplotmlx_+3A_breaks">breaks</code></td>
<td>
<p>one of:
</p>

<ul>
<li><p> a vector giving the breakpoints,
</p>
</li>
<li><p> a single number giving the number of segments.
</p>
</li></ul>
</td></tr>
<tr><td><code id="catplotmlx_+3A_plot">plot</code></td>
<td>
<p>if <code>TRUE</code> the empirical distribution is displayed, if <code>FALSE</code>
the values are returned</p>
</td></tr>
<tr><td><code id="catplotmlx_+3A_color">color</code></td>
<td>
<p>a color to be used for the plots (default=&quot;#194280&quot;)</p>
</td></tr>
<tr><td><code id="catplotmlx_+3A_group">group</code></td>
<td>
<p>variable to be used for defining groups (by default, &lsquo;<span class="samp">&#8288;group&#8288;</span>&rsquo; is used when it exists)</p>
</td></tr>
<tr><td><code id="catplotmlx_+3A_facet">facet</code></td>
<td>
<p>makes subplots for different groups if <code>TRUE</code></p>
</td></tr>
<tr><td><code id="catplotmlx_+3A_labels">labels</code></td>
<td>
<p>vector of strings</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See http://simulx.webpopix.org/mlxr/catplotmlx/ for more details.
</p>


<h3>Value</h3>

<p>a ggplot object if <code>plot=TRUE</code> ; otherwise, a list with fields:
</p>

<ul>
<li><p> color a vector of colors used for the plot
</p>
</li>
<li><p> y a data frame with the values of the empirical distribution computed at each time point
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  catModel &lt;- inlineModel("
  [LONGITUDINAL]
  input =  {a,b}
  EQUATION:
  lp1=a-b*t
  lp2=a-b*t/2
  DEFINITION:
  y = {type=categorical, categories={1,2,3}, 
  logit(P(y&lt;=1))=lp1, logit(P(y&lt;=2))=lp2}
  ")
  
  y.out  &lt;- list(name='y', time=seq(0, 100, by=4))

  Ng  &lt;- 1000
  g1 &lt;- list(size=Ng, parameter=c(a=6,b=0.2))
  res &lt;- simulx(model=catModel, output=y.out, group=g1)
  catplotmlx(res$y)
  catplotmlx(res$y, breaks=seq(-2,102,by=8), color="purple") 
  catplotmlx(res$y, breaks=5, color="#490917") 
  
  g2 &lt;- list(size=Ng, parameter=c(a=10,b=0.2))
  res &lt;- simulx(model=catModel, output=y.out, group=list(g1,g2))
  catplotmlx(res$y) 
  catplotmlx(res$y, group="none")
  
  g3 &lt;- list(size=Ng, parameter=c(a=6,b=0.4))
  g4 &lt;- list(size=Ng, parameter=c(a=10,b=0.4))
  res &lt;- simulx(model=catModel, output=y.out, group=list(g1,g2,g3,g4))
  catplotmlx(res$y)
   
  cov &lt;- data.frame(id=levels(res$y$id), a=rep(c(6,10,6,10),each=Ng), 
                    b=rep(c(0.2,0.2,0.4,0.4),each=Ng))
  catplotmlx(res$y, group=cov) 

## End(Not run)
</code></pre>

<hr>
<h2 id='exposure'>Computation of AUC, Cmax and Cmin</h2><span id='topic+exposure'></span>

<h3>Description</h3>

<p>Compute the area under the curve, the maximum and minimum values of a function of time over a given interval or at steady state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exposure(
  model = NULL,
  output = NULL,
  group = NULL,
  treatment = NULL,
  parameter = NULL,
  data = NULL,
  project = NULL,
  settings = NULL,
  regressor = NULL,
  varlevel = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="exposure_+3A_model">model</code></td>
<td>
<p>a <code>Mlxtran</code> model used for the simulation</p>
</td></tr>
<tr><td><code id="exposure_+3A_output">output</code></td>
<td>
<p>a list  with fields:
</p>

<ul>
<li> <p><code>name</code>: a vector of output names
</p>
</li>
<li> <p><code>time</code>: = 'steady.state'
</p>
</li>
<li> <p><code>ntp</code>: number of time points used for computing the exposure (default=100)
</p>
</li>
<li> <p><code>tol</code>: tolerance number, between 0 and 1, for approximating steaty-state  (default=0.01)
</p>
</li>
<li> <p><code>ngc</code>: number of doses used for estimating the convergence rate to steaty-state  (default=5)
</p>
</li></ul>
</td></tr>
<tr><td><code id="exposure_+3A_group">group</code></td>
<td>
<p>a list, or a list of lists, with fields:
</p>

<ul>
<li> <p><code>size</code> : size of the group (default=1),
</p>
</li>
<li> <p><code>level</code> : level(s) of randomization,
</p>
</li>
<li> <p><code>parameter</code> : if different parameters per group are defined,
</p>
</li>
<li> <p><code>output</code> : if different outputs per group are defined,
</p>
</li>
<li> <p><code>treatment</code> : if different treatements per group are defined,
</p>
</li>
<li> <p><code>regressor</code> : if different regression variables per group are defined.
</p>
</li></ul>
</td></tr>
<tr><td><code id="exposure_+3A_treatment">treatment</code></td>
<td>
<p>a list with fields
</p>

<ul>
<li> <p><code>tfd</code> : time of first dose (default=0),
</p>
</li>
<li> <p><code>ii</code> : inter dose interval (mandatory),
</p>
</li>
<li> <p><code>amount</code> : the amount for each dose,
</p>
</li>
<li> <p><code>rate</code> : the infusion rate  (default=<code>Inf</code>),
</p>
</li>
<li> <p><code>tinf</code> : the time of infusion  (default=0),
</p>
</li>
<li> <p><code>type</code> : the type of input (default=1),
</p>
</li>
<li> <p><code>target</code> : the target compartment (default=NULL).
</p>
</li></ul>
</td></tr>
<tr><td><code id="exposure_+3A_parameter">parameter</code></td>
<td>
<p>a vector of parameters with their names and values</p>
</td></tr>
<tr><td><code id="exposure_+3A_data">data</code></td>
<td>
<p>a list</p>
</td></tr>
<tr><td><code id="exposure_+3A_project">project</code></td>
<td>
<p>the name of a Monolix project</p>
</td></tr>
<tr><td><code id="exposure_+3A_settings">settings</code></td>
<td>
<p>a list of optional settings
</p>

<ul>
<li> <p><code>result.file</code> : name of the datafile where the simulated data is written (string),
</p>
</li>
<li> <p><code>seed</code> : initialization of the random number generator (integer),
</p>
</li>
<li> <p><code>load.design</code> : TRUE/FALSE (if load.design is not defined, a test is automatically performed to check if a new design has been defined),
</p>
</li>
<li> <p><code>data.in</code> : TRUE/FALSE (default=FALSE)
</p>
</li>
<li> <p><code>id.out</code>  : add columns id (when N=1) and group (when #group=1), TRUE/FALSE (default=FALSE)
</p>
</li>
<li> <p><code>Nmax</code> : maximum group size used in a single call of mlxCompute (default=100)
</p>
</li></ul>
</td></tr>
<tr><td><code id="exposure_+3A_regressor">regressor</code></td>
<td>
<p>a list, or a list of lists, with fields
</p>

<ul>
<li> <p><code>name</code> : a vector of regressor names,
</p>
</li>
<li> <p><code>time</code> : a vector of times,
</p>
</li>
<li> <p><code>value</code> : a vector of values.
</p>
</li></ul>
</td></tr>
<tr><td><code id="exposure_+3A_varlevel">varlevel</code></td>
<td>
<p>a list, or a list of lists, with fields
</p>

<ul>
<li> <p><code>name</code> : a vector of names of variability levels,
</p>
</li>
<li> <p><code>time</code> : a vector of times that define the occasions.
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>Input arguments are the input arguments of Simulx (http://simulx.webpopix.org)
</p>
<p>Specific input arguments can be also used for computing the exposure at steady state,
i.e. after the administration of an &quot;infinite&quot; number of doses.
See http://simulx.webpopix.org/exposure/ for more details.
</p>


<h3>Value</h3>

<p>A list of data frames. One data frame per output is created with columns <code>id</code> (if number of subject &gt;1),
<code>group</code> (if number of groups &gt;1), <code>t1</code> (beginning of time interval), <code>t2</code> (end of time interval),
<code>step</code> (time step), <code>auc</code> (area under the curve), <code>tmax</code> (time of maximum value), <code>cmax</code> (maximum value),
<code>tmin</code> (time of minimum value), <code>cmin</code> (minimum value).
</p>

<hr>
<h2 id='ggplotmlx'>wrapper for ggplot</h2><span id='topic+ggplotmlx'></span>

<h3>Description</h3>

<p>wrapper around <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> with a custom theme
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplotmlx(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggplotmlx_+3A_...">...</code></td>
<td>
<p>parameters passed to <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>see <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>
</p>

<hr>
<h2 id='initRsSimulx'>Initialize RsSimulx library</h2><span id='topic+initRsSimulx'></span>

<h3>Description</h3>

<p>Initialize RsSimulx library
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initRsSimulx(path = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="initRsSimulx_+3A_path">path</code></td>
<td>
<p>(<em>character</em>) (<em>optional</em>) Path to installation directory of the Lixoft suite.
If RsSimulx library is not already loaded and no path is given, the directory written in the lixoft.ini file is used for initialization.</p>
</td></tr>
<tr><td><code id="initRsSimulx_+3A_...">...</code></td>
<td>
<p>(<em>optional</em>) Extra arguments passed to lixoftConnectors package when RsSimulx is used with a version of Lixoft(/@) software suite.
</p>

<ul>
<li> <p><code>force</code> (<em>bool</em>) (<em>optional</em>) Should RsSimulx initialization overpass lixoftConnectors software switch security or not. Equals FALSE by default.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A list:
</p>

<ul>
<li> <p><code>software</code>: the software that is used (should be simulx)
</p>
</li>
<li> <p><code>path</code>: the path to MonolixSuite
</p>
</li>
<li> <p><code>version</code>: the version of MonolixSuite that is used
</p>
</li>
<li> <p><code>status</code>: boolean equaling TRUE if the initialization has been successful.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
initRsSimulx(path = "/path/to/lixoftRuntime/")

## End(Not run)
</code></pre>

<hr>
<h2 id='inlineDataFrame'>Inline dataframe</h2><span id='topic+inlineDataFrame'></span>

<h3>Description</h3>

<p>Convert a string in dataframe and save it in a temporary file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inlineDataFrame(str)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inlineDataFrame_+3A_str">str</code></td>
<td>
<p>(<em>string</em>) Dataframe in string format</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
occ &lt;- inlineDataFrame("
 id time occ
 1   0    1
 1   12   2
 1   24   3
 2   0    1
 2   24   2
 3   0    1
")

## End(Not run)
</code></pre>

<hr>
<h2 id='inlineModel'>Inline model</h2><span id='topic+inlineModel'></span>

<h3>Description</h3>

<p>Save a string in a temporary file to be used as a model file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inlineModel(srtIn, filename = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inlineModel_+3A_srtin">srtIn</code></td>
<td>
<p>(<em>string</em>) Model in string format,</p>
</td></tr>
<tr><td><code id="inlineModel_+3A_filename">filename</code></td>
<td>
<p>(<em>string</em>) name of the model file  (by default the model is saved in a temporary file)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of the model file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
myModel &lt;- inlineModel("
[LONGITUDINAL]
input = {A, k, c, a}
EQUATION:
t0    = 0
f_0   = A
ddt_f = -k*f/(c+f)
DEFINITION:
y = {distribution=normal, prediction=f, sd=a}
[INDIVIDUAL]
input = {k_pop, omega}
DEFINITION:
k = {distribution=lognormal, prediction=k_pop, sd=omega}
")

## End(Not run)
</code></pre>

<hr>
<h2 id='kmplotmlx'>Kaplan Meier plot</h2><span id='topic+kmplotmlx'></span>

<h3>Description</h3>

<p>Plot empirical survival functions using the Kaplan Meier estimate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kmplotmlx(
  r,
  index = 1,
  level = NULL,
  time = NULL,
  cens = TRUE,
  plot = TRUE,
  color = "#e05969",
  group = NULL,
  facet = TRUE,
  labels = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kmplotmlx_+3A_r">r</code></td>
<td>
<p>a data frame with a column &lsquo;<span class="samp">&#8288;id&#8288;</span>&rsquo;, a column &lsquo;<span class="samp">&#8288;time&#8288;</span>&rsquo;,
a column with values and possibly a column &lsquo;<span class="samp">&#8288;group&#8288;</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_index">index</code></td>
<td>
<p>an integer: <code>index=k</code> means that the survival function for the k-th event is displayed.
Default is <code>index=1</code>.</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_level">level</code></td>
<td>
<p>a number between 0 and 1:  confidence interval level.</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_time">time</code></td>
<td>
<p>a vector of time points where the survival function is evaluated.</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_cens">cens</code></td>
<td>
<p>if <code>TRUE</code> right censoring times are diplayed.</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_plot">plot</code></td>
<td>
<p>if <code>TRUE</code> the estimated survival function is displayed, if <code>FALSE</code>
the values are returned</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_color">color</code></td>
<td>
<p>color to be used for the plots (default=&quot;#e05969&quot;)</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_group">group</code></td>
<td>
<p>variable to be used for defining groups (by default, &lsquo;<span class="samp">&#8288;group&#8288;</span>&rsquo; is used when it exists)</p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_facet">facet</code></td>
<td>
<p>makes subplots for different groups if <code>TRUE</code></p>
</td></tr>
<tr><td><code id="kmplotmlx_+3A_labels">labels</code></td>
<td>
<p>vector of strings</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See http://simulx.webpopix.org/mlxr/kmplotmlx/ for more details.
</p>


<h3>Value</h3>

<p>a ggplot object if <code>plot=TRUE</code> ; otherwise, a list with fields:
</p>

<ul>
<li> <p><code>surv</code> a data frame with columns  <code>T</code> (time), <code>S</code> (survival), possibly <code>(S1, S2)</code> (confidence interval) and possibly <code>group</code>
</p>
</li>
<li> <p><code>cens</code> a data frame with columns  <code>T0</code> (time), <code>S0</code> (survival) and possibly <code>group</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tteModel1 &lt;- inlineModel("
  [LONGITUDINAL]
  input = {beta,lambda}  
  EQUATION:
  h=(beta/lambda)*(t/lambda)^(beta-1)
  DEFINITION:
  e = {type=event, maxEventNumber=1, rightCensoringTime=70, hazard=h}
  ")

  p1   &lt;- c(beta=2.5,lambda=50)
  e    &lt;- list(name='e', time=0)
  res1 &lt;- simulx(model=tteModel1, parameter=p1, output=e, group=list(size=100))
  pl1  &lt;- kmplotmlx(res1$e,level=0.95)
  print(pl1)

  p2   &lt;- c(beta=2,lambda=45)
  g1   &lt;- list(size=50, parameter=p1)
  g2   &lt;- list(size=100, parameter=p2)
  res2 &lt;- simulx(model=tteModel1, output=e, group=list(g1,g2))
  pl2  &lt;- kmplotmlx(res2$e)
  print(pl2)

## End(Not run)
</code></pre>

<hr>
<h2 id='lixoft.read.table'>Read Lixoft@ files</h2><span id='topic+lixoft.read.table'></span>

<h3>Description</h3>

<p>Utility function to read Lixoft@ formated input/output files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lixoft.read.table(file, sep = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lixoft.read.table_+3A_file">file</code></td>
<td>
<p>file path of the file to read</p>
</td></tr>
<tr><td><code id="lixoft.read.table_+3A_sep">sep</code></td>
<td>
<p>separator</p>
</td></tr>
<tr><td><code id="lixoft.read.table_+3A_...">...</code></td>
<td>
<p>see <code><a href="utils.html#topic+read.table">read.table</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe object
</p>

<hr>
<h2 id='prctilemlx'>Percentiles of the empiricial distribution of longitudinal data</h2><span id='topic+prctilemlx'></span>

<h3>Description</h3>

<p>Compute and display percentiles of the empiricial distribution of longitudinal data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prctilemlx(
  r = NULL,
  col = NULL,
  project = NULL,
  outputVariableName = NULL,
  number = 8,
  level = 80,
  plot = TRUE,
  color = NULL,
  group = NULL,
  facet = TRUE,
  labels = NULL,
  band = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prctilemlx_+3A_r">r</code></td>
<td>
<p>a data frame with a column &lsquo;<span class="samp">&#8288;id&#8288;</span>&rsquo;, a column &lsquo;<span class="samp">&#8288;time&#8288;</span>&rsquo; and a column with values.
The times should be the same for each individual.</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_col">col</code></td>
<td>
<p>a vector with the three column indexes for &lsquo;<span class="samp">&#8288;id&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;time/x&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;y&#8288;</span>&rsquo;. Default = c(1, 2,3).</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_project">project</code></td>
<td>
<p>simulx project filename (with extension &quot;.smlx&quot;)</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_outputvariablename">outputVariableName</code></td>
<td>
<p>name of the output to consider. By default the first output will be consider.
You must define either a 'r' dataframe and the associated 'col' argument or a simulx project and the name of the output 'outputVariableName&quot;</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_number">number</code></td>
<td>
<p>the number of intervals (i.e. the number of percentiles minus 1).</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_level">level</code></td>
<td>
<p>the largest interval (i.e. the difference between the lowest and the highest percentile).</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_plot">plot</code></td>
<td>
<p>if <code>TRUE</code> the empirical distribution is displayed, if <code>FALSE</code>
the values are returned</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_color">color</code></td>
<td>
<p>colors to be used for the plots
In case of one group or facet = TRUE, only the first color will be used</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_group">group</code></td>
<td>
<p>variable to be used for defining groups (by default, &lsquo;<span class="samp">&#8288;group&#8288;</span>&rsquo; is used when it exists)</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_facet">facet</code></td>
<td>
<p>makes subplots for different groups if <code>TRUE</code></p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_labels">labels</code></td>
<td>
<p>vector of strings</p>
</td></tr>
<tr><td><code id="prctilemlx_+3A_band">band</code></td>
<td>
<p>is deprecated (use number and level instead) ; a list with two fields
</p>

<ul>
<li> <p><code>number</code> the number of intervals (i.e. the number of percentiles minus 1).
</p>
</li>
<li> <p><code>level</code> the largest interval (i.e. the difference between the lowest and the highest percentile).
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>See http://simulx.webpopix.org/mlxr/prctilemlx/ for more details.
</p>


<h3>Value</h3>

<p>a ggplot object if <code>plot=TRUE</code> ; otherwise, a list with fields:
</p>

<ul>
<li><p> proba a vector of probabilities of length <code>band$number+1</code>
</p>
</li>
<li><p> color a vector of colors used for the plot of length <code>band$number</code>
</p>
</li>
<li><p> y a data frame with the values of the empirical percentiles computed at each time point
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  myModel &lt;- inlineModel("
  [LONGITUDINAL]
  input = {ka, V, Cl}
  EQUATION:
  C = pkmodel(ka,V,Cl)
  
  [INDIVIDUAL]
  input = {ka_pop, V_pop, Cl_pop, omega_ka, omega_V, omega_Cl}
  DEFINITION:
  ka = {distribution=lognormal, reference=ka_pop, sd=omega_ka}
  V  = {distribution=lognormal, reference=V_pop,  sd=omega_V }
  Cl = {distribution=lognormal, reference=Cl_pop, sd=omega_Cl}
  ")
  
  N=2000
  
  pop.param   &lt;- c(
    ka_pop  = 1,    omega_ka  = 0.5,
    V_pop   = 10,   omega_V   = 0.4,
    Cl_pop  = 1,    omega_Cl  = 0.3)
    
  res &lt;- simulx(model     = myModel,
                parameter = pop.param,
                treatment = list(time=0, amount=100),
                group     = list(size=N, level='individual'),
                output    = list(name='C', time=seq(0,24,by=0.1)))
  # res$C is a data.frame with 2000x241=482000 rows and 3 columns
  head(res$C)
  # we can display the empirical percentiles of C using the default 
  # settings (i.e. percentiles of order 10%, 20%, ... 90%)
  prctilemlx(res$C)
  # The 3 quartiles (i.e. percentiles of order 25%, 50% and 75%) are displayed by 
  # selecting a 50% interval splitted into 2 subintervals
  prctilemlx(res$C, number=2, level=50)
  # A one 90% interval can be displayed using only one interval
  prctilemlx(res$C, number=1, level=90)
  # or 75 subintervals in order to better represent the continuous distribution 
  # of the data within this interval
  prctilemlx(res$C, number=75, level=90)
  # prctilemlx produces a ggplot object that can be modified
  pl &lt;- prctilemlx(res$C, number=4, level=80) 
  pl + ylab("concentration") + ggtitle("predictive distribution")
  # The percentiles are not plotted by setting plot=FALSE
  pr.out &lt;- prctilemlx(res$C, number=4, level=80, plot=FALSE)
  print(pr.out$proba)
  print(pr.out$color)
  print(pr.out$y[1:5,])

## End(Not run)
</code></pre>

<hr>
<h2 id='read.vector'>Reads  a table into a vector</h2><span id='topic+read.vector'></span>

<h3>Description</h3>

<p>Reads  a table into a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.vector(f, header = FALSE, sep = "", quote = "\"'")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.vector_+3A_f">f</code></td>
<td>
<p>: path to table file</p>
</td></tr>
<tr><td><code id="read.vector_+3A_header">header</code></td>
<td>
<p>: bool, use the header or not</p>
</td></tr>
<tr><td><code id="read.vector_+3A_sep">sep</code></td>
<td>
<p>: the separator</p>
</td></tr>
<tr><td><code id="read.vector_+3A_quote">quote</code></td>
<td>
<p>: the quote character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the vector
</p>

<hr>
<h2 id='RsSimulx-deprecated'>Deprecated functions in package <span class="pkg">RsSimulx</span>.</h2><span id='topic+RsSimulx-deprecated'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and have been removed
from the package. Alternative functions with similar
functionality are given.
</p>


<h3><code>writeData</code></h3>

<p>For <code>writeData</code>, use <code>exportSimulatedData()</code> in the lixoftConnectors package.
</p>

<hr>
<h2 id='rssimulxDemo.model'>Simulx project</h2><span id='topic+rssimulxDemo.model'></span>

<h3>Description</h3>

<p>Model definition corresponding to rssimulxDemo.smlx project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rssimulxDemo.model
</code></pre>


<h3>Format</h3>

<p>A vector of string
</p>


<h3>Source</h3>

<p>Simulx model
</p>

<hr>
<h2 id='rssimulxDemo.project'>Simulx project</h2><span id='topic+rssimulxDemo.project'></span>

<h3>Description</h3>

<p>rssimulxDemo.smlx is a Simulx project.
In this demo three groups with different dose levels are simulated: low, medium and high.
Groups have the same number of individuals, population parameters, distribution of covariates and outputs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rssimulxDemo.project
</code></pre>


<h3>Format</h3>

<p>A vector of string
</p>


<h3>Source</h3>

<p>Simulx project
</p>

<hr>
<h2 id='shinymlx'>Automatic code generation for Shiny applications</h2><span id='topic+shinymlx'></span>

<h3>Description</h3>

<p>Creates a Shiny application for longitudinal data model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shinymlx(
  model,
  parameter = NULL,
  output = NULL,
  treatment = NULL,
  regressor = NULL,
  group = NULL,
  data = NULL,
  appname,
  style = "basic",
  settings = NULL,
  title = " "
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinymlx_+3A_model">model</code></td>
<td>
<p>a <code>Mlxtran</code> model used for the simulation</p>
</td></tr>
<tr><td><code id="shinymlx_+3A_parameter">parameter</code></td>
<td>
<p>a vector, or a list of shiny widgets</p>
</td></tr>
<tr><td><code id="shinymlx_+3A_output">output</code></td>
<td>
<p>a list - or a list of lists - with fields:
</p>

<ul>
<li> <p><code>name</code>: a vector of output names
</p>
</li>
<li> <p><code>time</code>: a vector of times, or a vector (min, max, step)
</p>
</li></ul>
</td></tr>
<tr><td><code id="shinymlx_+3A_treatment">treatment</code></td>
<td>
<p>a list with fields
</p>

<ul>
<li> <p><code>tfd</code> : first time of dose,
</p>
</li>
<li> <p><code>amount</code> : amount,
</p>
</li>
<li> <p><code>nd</code> : number of doses,
</p>
</li>
<li> <p><code>ii</code> : interdose interval,
</p>
</li>
<li> <p><code>type</code> : the type of input,
</p>
</li></ul>

<p>Input argument of Simulx can also be used,  i.e. a list with fields <code>time</code>,
<code>amount</code>, <code>rate</code>, <code>tinf</code>, <code>type</code>, <code>target</code>.</p>
</td></tr>
<tr><td><code id="shinymlx_+3A_regressor">regressor</code></td>
<td>
<p>a list, or a list of lists, with fields
</p>

<ul>
<li> <p><code>name</code> : a vector of regressor names,
</p>
</li>
<li> <p><code>time</code> : a vector of times,
</p>
</li>
<li> <p><code>value</code> : a vector of values.
</p>
</li></ul>
</td></tr>
<tr><td><code id="shinymlx_+3A_group">group</code></td>
<td>
<p>a list, or a list of lists, with fields:
</p>

<ul>
<li> <p><code>size</code> : size of the group (default=1),
</p>
</li>
<li> <p><code>level</code> : level(s) of randomization,
</p>
</li>
<li> <p><code>parameter</code> : if different parameters per group are defined,
</p>
</li>
<li> <p><code>output</code> : if different outputs per group are defined,
</p>
</li>
<li> <p><code>treatment</code> : if different treatements per group are defined,
</p>
</li>
<li> <p><code>regressor</code> : if different regression variables per group are defined.
</p>
</li></ul>
</td></tr>
<tr><td><code id="shinymlx_+3A_data">data</code></td>
<td>
<p>a datafile to display with the plot</p>
</td></tr>
<tr><td><code id="shinymlx_+3A_appname">appname</code></td>
<td>
<p>the name of the application (and possibly its path)</p>
</td></tr>
<tr><td><code id="shinymlx_+3A_style">style</code></td>
<td>
<p>the style of the Shiny app
</p>

<ul>
<li> <p><code>"basic"</code>: basic Shiny app with a single side bar (default)
</p>
</li>
<li> <p><code>"navbar1"</code>: navigation bar and tabPanels (including outputs)
</p>
</li>
<li> <p><code>"navbar2"</code>: navigation bar and tabPanels (outputs separated)
</p>
</li>
<li> <p><code>"dashboard1"</code> : Shiny dashboard,
</p>
</li></ul>
</td></tr>
<tr><td><code id="shinymlx_+3A_settings">settings</code></td>
<td>
<p>a list of settings
</p>

<ul>
<li> <p><code>"tabstyle"</code> : look of the tabs c(&quot;tabs&quot;,&quot;pills&quot;),
</p>
</li>
<li> <p><code>"select.x"</code> : display the list of variables available for the x-axis c(TRUE,FALSE),
</p>
</li>
<li> <p><code>"select.y"</code> : display the list of variables available for the y-axis c(TRUE,FALSE),
</p>
</li>
<li> <p><code>"select.log"</code> : log scale option c(TRUE,FALSE),
</p>
</li>
<li> <p><code>"select.ref"</code> : reference curves option c(TRUE,FALSE)
</p>
</li></ul>
</td></tr>
<tr><td><code id="shinymlx_+3A_title">title</code></td>
<td>
<p>the title of the application</p>
</td></tr>
</table>


<h3>Details</h3>

<p>shinymlx automatically generates files ui.R and server.R required
for a Shiny application.
</p>
<p>Elements of <code>parameters</code> and <code>treatment</code> can be either scalars or lists.
A scalar automatically generates a slider with default minimum and maximum values and default step.
A list may contain the type of widget (&quot;slider&quot;, &quot;select&quot;, &quot;numeric&quot;) and the settings defining the widget:
(value, min, max, step) for <code>slider</code>, (selected, choices) for <code>select</code> and
value for <code>numeric</code>.
</p>
<p>See http://simulx.webpopix.org/mlxr/shinymlx/ for more details.
</p>


<h3>Value</h3>

<p>A Shiny app with files ui.R, server.R and model.txt
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
PKPDmodel &lt;- inlineModel("
[LONGITUDINAL] 
input={ka,V,Cl,Imax,IC50,S0,kout}
EQUATION:
C     = pkmodel(ka, V, Cl)
E_0   = S0 
ddt_E = kout*((1-Imax*C/(C+IC50))*S0- E)  
")

p1  &lt;- c(ka=0.5, V=10, Cl=1)
p2  &lt;- c(Imax=0.5, IC50=0.03, S0=100, kout=0.1)
adm &lt;- list(tfd=5, nd=15, ii=12, amount=1)
f1  &lt;- list(name = 'C', time = seq(0, 250, by=1))
f2  &lt;- list(name = 'E', time = seq(0, 250, by=1))
f   &lt;- list(f1, f2)

shinymlx(model=PKPDmodel, treatment=adm, parameter=list(p1,p2), output=f,
         style="dashboard1", appname=tempdir())

#------------------------------------------------------------------------
p1 &lt;- list(
  ka    = list(widget="slider", value=0.5, min=0.1, max=2,  step=0.1),
  V     = list(widget="slider", value=10,  min=2,   max=20, step=2),
  Cl    = list(widget="slider", value=1,   min=0.1, max=2,  step=0.1)
)  
adm &lt;- list(
  tfd    = list(widget="slider", value=5,  min=0, max=100, step=5),
  nd     = list(widget="numeric", value=15),
  ii     = list(widget="select", selected=12, choices=c(3,6,12,18,24)),
  amount = list(widget="slider", value=40, min=0, max=50, step=5)
)
s &lt;- list(select.x=FALSE, select.y=FALSE)
shinymlx(model=PKPDmodel, treatment=adm, parameter=list(p1,p2), output=f, 
         style="navbar1", settings=s, appname=tempdir())

## End(Not run)
</code></pre>

<hr>
<h2 id='simpopmlx'>Population parameters simulation</h2><span id='topic+simpopmlx'></span>

<h3>Description</h3>

<p>Draw population parameters using the covariance matrix of the estimates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simpopmlx(
  n = 1,
  project = NULL,
  fim = NULL,
  parameter = NULL,
  corr = NULL,
  kw.max = 100,
  outputFilename = NULL,
  sep = ",",
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simpopmlx_+3A_n">n</code></td>
<td>
<p>(<em>integer</em>) the number of vectors of population parameters (default = 1),</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_project">project</code></td>
<td>
<p>(<em>string</em>) a Monolix project, assuming that the Fisher information Matrix was estimated by Monolix.</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_fim">fim</code></td>
<td>
<p>the (<em>string</em>) Fisher Information Matrix estimated by Monolix. fim = c(&quot;sa&quot;, &quot;lin&quot;) (default=&quot;sa&quot;)</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_parameter">parameter</code></td>
<td>
<p>(<em>data.frame</em>) a data frame with the following columns
</p>

<ul>
<li> <p><code>pop.param</code> (no default) population parameters
</p>
</li>
<li> <p><code>sd</code> (no default) standard deviation of the distribution
</p>
</li>
<li> <p><code>trans</code> (default ='N') distribution (N: normal, L: logNormal, G: logitnormal, P: probitnormal, R)
</p>
</li>
<li> <p><code>lim.a</code>: lower bound of logit distribution (if trans != G set lim.a to NA)
</p>
</li>
<li> <p><code>lim.b</code>: upper bound of logit distribution (if trans != G set lim.b to NA)
</p>
</li></ul>

<p>Only when project is not used.</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_corr">corr</code></td>
<td>
<p>(<em>matrix</em>) correlation matrix of the population parameters (default = identity). Only when project is not used.</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_kw.max">kw.max</code></td>
<td>
<p>(<em>integer</em>) maximum number of trials for generating a positive definite covariance matrix (default = 100)</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_outputfilename">outputFilename</code></td>
<td>
<p>(<em>string</em>) when defined, path where the population parameters dataframe will be saved
It must be a a file with a csv or txt extension.
If no extension is specified, file will be saved by default in csv format</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_sep">sep</code></td>
<td>
<p>(<em>string</em>) file separator when outputFilename is defined (default = &quot;,&quot;)</p>
</td></tr>
<tr><td><code id="simpopmlx_+3A_seed">seed</code></td>
<td>
<p>(<em>integer</em>) initialization of the random number generator (integer) (by default a random seed will be generated)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See http://simulx.webpopix.org/mlxr/simpopmlx/ for more details.
</p>


<h3>Value</h3>

<p>dataframe object with generated population parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
param &lt;- data.frame(pop.param=c(1.5, 0.5, 0.02, 0.4, 0.15, 0.2, 0.7),
                    sd=c(0.2, 0.05, 0.004, 0.05, 0.02, 0.02, 0.05),
                    trans=c('N','N','N','L','L','L','N'))
pop &lt;- simpopmlx(n=3, parameter=param)

## End(Not run)
</code></pre>

<hr>
<h2 id='simulx'>Simulation of mixed effects models and longitudinal data</h2><span id='topic+simulx'></span>

<h3>Description</h3>

<p>Compute predictions and sample data from <code>Mlxtran</code> and <code>R</code> models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulx(
  model = NULL,
  parameter = NULL,
  covariate = NULL,
  output = NULL,
  treatment = NULL,
  regressor = NULL,
  occasion = NULL,
  varlevel = NULL,
  group = NULL,
  project = NULL,
  nrep = 1,
  npop = NULL,
  fim = NULL,
  saveSmlxProject = NULL,
  result.file = NULL,
  addlines = NULL,
  settings = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simulx_+3A_model">model</code></td>
<td>
<p>a <code>Mlxtran</code> model used for the simulation. It can be a text file or an outut of the inLine function.</p>
</td></tr>
<tr><td><code id="simulx_+3A_parameter">parameter</code></td>
<td>
<p>One of
</p>

<ul>
<li><p> a vector of parameters with their names and values,
</p>
</li>
<li><p> a dataframe with parameters defined for each id or each pop
</p>
</li>
<li><p> a string, path to a data frame (csv or txt file)
</p>
</li>
<li><p> a string corresponding to the parameter elements automatically generated by monolix
(only when simulation is based on a Monolix project).
One of the following mlx parameter elements: &quot;mlx_Pop&quot;, &quot;mlx_PopUncertainSA&quot;,
&quot;mlx_PopUncertainLin&quot;, &quot;mlx_PopIndiv&quot;, &quot;mlx_PopIndivCov&quot;,&quot;mlx_CondMean&quot;,
&quot;mlx_EBEs&quot;,&quot;mlx_CondDistSample&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="simulx_+3A_covariate">covariate</code></td>
<td>
<p>One of
</p>

<ul>
<li><p> a vector of covariates with their names and values.
</p>
</li>
<li><p> a dataframe with covariates defined for each id
</p>
</li>
<li><p> a string, path to a data frame (csv or txt file)
</p>
</li>
<li><p> a string corresponding to the covariate elements automatically generated by monolix
(only when simulation is based on a Monolix project).
One of the following mlx covariate elements: &quot;mlx_Cov&quot; and &quot;mlx_CovDist&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="simulx_+3A_output">output</code></td>
<td>
<p>output or list of outputs. An output can be defined by
</p>

<ul>
<li><p> a string corresponding to the output elements automatically generated by monolix
(only when simulation is based on a Monolix project) - the format is mlx_nameofoutput.
</p>
</li>
<li><p> a list with fields
</p>

<ul>
<li> <p><code>name</code>: a vector of output names
</p>
</li>
<li> <p><code>time</code>:
</p>

<ul>
<li><p> a vector of times
</p>
</li>
<li><p> a dataframe with columns id, time (columns lloq, uloq, limit are optional)
</p>
</li>
<li><p> a string, path to a data frame (csv or txt file)
</p>
</li></ul>

</li>
<li> <p><code>lloq</code>: lower limit of quantification (when time is a vector of times)
</p>
</li>
<li> <p><code>uloq</code>: upper limit of quantification (when time is a vector of times)
</p>
</li>
<li> <p><code>limit</code>: lower bound of the censoring interval (when time is a vector of times)
</p>
</li></ul>

</li></ul>
</td></tr>
<tr><td><code id="simulx_+3A_treatment">treatment</code></td>
<td>
<p>treatment or list of treatments. A treatment can be defined by
</p>

<ul>
<li><p> A list with fields
</p>

<ul>
<li> <p><code>time</code> : a vector of input times,
</p>
</li>
<li> <p><code>amount</code> : a scalar or a vector of amounts,
</p>
</li>
<li> <p><code>rate</code> : a scalar or a vector of infusion rates (default=<code>Inf</code>),
</p>
</li>
<li> <p><code>tinf</code> : a scalar or a vector of infusion times (default=0),
</p>
</li>
<li> <p><code>washout</code> : a scalar or a vector of boolean (default=F),
</p>
</li>
<li> <p><code>adm</code> : (or type) the administration type (default=1),
</p>
</li>
<li> <p><code>repeats</code> : the treatment cycle (optional), a vector with fields
</p>

<ul>
<li> <p><code>cycleDuration</code> : the duration of a cycle,
</p>
</li>
<li> <p><code>NumberOfRepetitions</code> : the number of cycle repetition
</p>
</li></ul>

</li>
<li> <p><code>probaMissDose</code>: the probability to miss each dose (optional).
</p>
</li></ul>

</li>
<li><p> a dataframe with treatments defined for each id
</p>
</li>
<li><p> a string, path to a data frame (csv or txt file)
</p>
</li>
<li><p> a string corresponding to the treatment elements automatically generated by monolix
(only when simulation is based on a Monolix project) - for example mlx_Adm1.
</p>
</li></ul>
</td></tr>
<tr><td><code id="simulx_+3A_regressor">regressor</code></td>
<td>
<p>treatment or list of treatments. A treatment can be defined by
</p>

<ul>
<li><p> A list with fields
</p>

<ul>
<li> <p><code>name</code> : a vector of regressor names,
</p>
</li>
<li> <p><code>time</code> : a vector of times,
</p>
</li>
<li> <p><code>value</code> : a vector of values.
</p>
</li></ul>

</li>
<li><p> A dataframe with columns id, time, and regressor values
</p>
</li>
<li><p> a string, path to a data frame (csv or txt file)
</p>
</li></ul>
</td></tr>
<tr><td><code id="simulx_+3A_occasion">occasion</code></td>
<td>
<p>An occasion can be defined by
</p>

<ul>
<li><p> A list with fields
</p>

<ul>
<li> <p><code>name</code> : name of the variable which defines the occasions,
</p>
</li>
<li> <p><code>time</code> : a vector of times (beginnings of occasions)
</p>
</li></ul>

</li>
<li><p> A dataframe with columns id, time, occasion
</p>
</li>
<li><p> a string, path to a data frame (csv or txt file)
</p>
</li>
<li><p> &quot;none&quot;, to delete an occasion structure
</p>
</li></ul>
</td></tr>
<tr><td><code id="simulx_+3A_varlevel">varlevel</code></td>
<td>
<p>deprecated, use occasion instead.</p>
</td></tr>
<tr><td><code id="simulx_+3A_group">group</code></td>
<td>
<p>a list, or a list of lists, with fields:
</p>

<ul>
<li> <p><code>size</code> : size of the group (default=1),
</p>
</li>
<li> <p><code>parameter</code> : if different parameters per group are defined,
</p>
</li>
<li> <p><code>covariate</code> : if different covariates per group are defined,
</p>
</li>
<li> <p><code>output</code> : if different outputs per group are defined,
</p>
</li>
<li> <p><code>treatment</code> : if different treatments per group are defined,
</p>
</li>
<li> <p><code>regressor</code> : if different regression variables per group are defined.
</p>
</li></ul>

<p>&quot;level&quot; field is not supported anymore in RsSimulx.</p>
</td></tr>
<tr><td><code id="simulx_+3A_project">project</code></td>
<td>
<p>the name of a Monolix project</p>
</td></tr>
<tr><td><code id="simulx_+3A_nrep">nrep</code></td>
<td>
<p>Samples with or without uncertainty depending which element is given as &quot;parameter&quot;.</p>
</td></tr>
<tr><td><code id="simulx_+3A_npop">npop</code></td>
<td>
<p>deprecated, Set parameter = &quot;mlx_popUncertainSA&quot; or &quot;mlx_popUncertainLin&quot; instead.</p>
</td></tr>
<tr><td><code id="simulx_+3A_fim">fim</code></td>
<td>
<p>deprecated, Set parameter = &quot;mlx_popUncertainSA&quot; or &quot;mlx_popUncertainLin&quot; instead.</p>
</td></tr>
<tr><td><code id="simulx_+3A_savesmlxproject">saveSmlxProject</code></td>
<td>
<p>If specified, smlx project will be save in the path location
(by default smlx project is not saved)</p>
</td></tr>
<tr><td><code id="simulx_+3A_result.file">result.file</code></td>
<td>
<p>deprecated</p>
</td></tr>
<tr><td><code id="simulx_+3A_addlines">addlines</code></td>
<td>
<p>a list with fields:
</p>

<ul>
<li> <p><code>formula</code>: string, or vector of strings, to be inserted .
</p>
</li></ul>

<p>&quot;section&quot;, &quot;block&quot; field are not supported anymore in RsSimulx.
You only need to specify a formula. The additional lines will be added in a new section EQUATION.</p>
</td></tr>
<tr><td><code id="simulx_+3A_settings">settings</code></td>
<td>
<p>a list of optional settings
</p>

<ul>
<li> <p><code>seed</code>: initialization of the random number generator (integer) (by default a random seed will be generated)
</p>
</li>
<li> <p><code>id.out</code>: add (TRUE) / remove (FALSE) columns id and group when only one element (N = 1 or group = 1) (default=FALSE)
</p>
</li>
<li> <p><code>kw.max</code>: deprecated.
</p>
</li>
<li> <p><code>replacement</code> : deprecated, use samplingMethod instead
</p>
</li>
<li> <p><code>samplingMethod</code>: str, Sampling method used for the simulation. One of &quot;keepOrder&quot;, &quot;withReplacement&quot;, &quot;withoutReplacement&quot;
(default &quot;keepOrder&quot;)
</p>
</li>
<li> <p><code>out.trt</code>: TRUE/FALSE (default = TRUE) output of simulx includes treatment
</p>
</li>
<li> <p><code>out.reg</code>: TRUE/FALSE (default = TRUE) output of simulx includes regressors
</p>
</li>
<li> <p><code>sharedIds</code>: Vector of Elements that share ids. Available types are &quot;covariate&quot;, &quot;output&quot;,
&quot;treatment&quot;, &quot;regressor&quot;, &quot;population&quot;, &quot;individual&quot; (default c())
</p>
</li>
<li> <p><code>sameIndividualsAmongGroups</code>: boolean, if True same individuals will be simulated among all groups
(default False)
</p>
</li>
<li> <p><code>exportData</code>: boolean, if True and if a path to save the smlx project (saveSmlxProject) is specified,
export the simulated dataset (smlx project directory/Simulation/simulatedData.txt)
(default False)
</p>
</li>
<li> <p><code>regressorInterpolationMethod</code>: interpolation method for missing regressors. One of &quot;lastCarriedForward&quot; (default), &quot;linearInterpolation&quot;
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>simulx takes advantage of the modularity of hierarchical models for simulating
different components of a model: models for population parameters, individual
covariates, individual parameters and longitudinal data.
</p>
<p>Furthermore, <code>simulx</code> allows to draw different types of longitudinal data,
including continuous, count, categorical, and time-to-event data.
</p>
<p>The models are encoded using either the model coding language &lsquo;<span class="samp">&#8288;Mlxtran&#8288;</span>&rsquo;.
&lsquo;<span class="samp">&#8288;Mlxtran&#8288;</span>&rsquo; models are automatically converted into C++ codes,
compiled on the fly and linked to R using the &lsquo;<span class="samp">&#8288;RJSONIO&#8288;</span>&rsquo; package.
That allows one to implement very easily complex models and to take advantage
of the numerical sovers used by the C++ &lsquo;<span class="samp">&#8288;mlxLibrary&#8288;</span>&rsquo;.
</p>
<p>See http://simulx.lixoft.com for more details.
</p>


<h3>Value</h3>

<p>A list of data frames. Each data frame is an output of simulx
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
myModel &lt;- inlineModel("
[LONGITUDINAL]
input = {A, k, c, a}
EQUATION:
t0    = 0
f_0   = A
ddt_f = -k*f/(c+f)
DEFINITION:
y = {distribution=normal, prediction=f, sd=a}
[INDIVIDUAL]
input = {k_pop, omega}
DEFINITION:
k = {distribution=lognormal, prediction=k_pop, sd=omega}
")

f &lt;- list(name='f', time=seq(0, 30, by=0.1))
y &lt;- list(name='y', time=seq(0, 30, by=2))
parameter &lt;- c(A=100, k_pop=6, omega=0.3, c=10, a=2)

res &lt;- simulx(model     = myModel,
              parameter = parameter,
              occasion  = data.frame(time=c(0, 0), occ=c(1, 2)),
              output    = list(f,y),
              group     = list(size=4),
              saveSmlxProject = "./project.smlx")

res &lt;- simulx(model     = myModel,
              parameter = parameter,
              occasion  = data.frame(time = c(0, 0, 0, 0),
                                     occ1 = c(1, 1, 2, 2),
                                     occ2 = c(1, 2, 3, 4)),
              output    = list(f,y),
              group     = list(size=4))
              
res &lt;- simulx(model     = myModel,
              parameter = parameter,
              output    = list(f,y),
              group     = list(size=4))

plot(ggplotmlx() + geom_line(data=res$f, aes(x=time, y=f, colour=id)) +
     geom_point(data=res$y, aes(x=time, y=y, colour=id)))
print(res$parameter)


## End(Not run)

</code></pre>

<hr>
<h2 id='statmlx'>Summary of data</h2><span id='topic+statmlx'></span>

<h3>Description</h3>

<p>Compute statistical summaries (mean, quantile, variance, survival rate,...)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statmlx(r, FUN = "mean", probs = c(0.05, 0.5, 0.95), surv.time = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="statmlx_+3A_r">r</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="statmlx_+3A_fun">FUN</code></td>
<td>
<p>a string, or a vector of strings, with the name of the functions to apply to the result of the simulation</p>
</td></tr>
<tr><td><code id="statmlx_+3A_probs">probs</code></td>
<td>
<p>a vector of quantiles  between 0 and 1. Only used when &quot;quantile&quot; has been defined in <code>FUN</code></p>
</td></tr>
<tr><td><code id="statmlx_+3A_surv.time">surv.time</code></td>
<td>
<p>a scalar or a vector of times. Only used when &quot;event&quot; has been defined in <code>type</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See http://simulx.webpopix.org/stamlx for more details.
</p>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
modelPK &lt;- inlineModel("
[LONGITUDINAL] 
input={V,Cl,alpha, beta,b}

EQUATION:
C = pkmodel(V, Cl)
h = alpha*exp(beta*C)
g = b*C

DEFINITION:
y = {distribution=normal, prediction=C, sd=g}
e = {type=event, maxEventNumber=1, rightCensoringTime=30, hazard=h}

[INDIVIDUAL]
input={V_pop,Cl_pop,omega_V,omega_Cl}

DEFINITION:
V     = {distribution=lognormal,   prediction=V_pop,    sd=omega_V}
Cl    = {distribution=lognormal,   prediction=Cl_pop,   sd=omega_Cl}
")

adm  &lt;- list(amount=100, time=0)
p &lt;- c(V_pop=10, Cl_pop=1, omega_V=0.2, omega_Cl=0.2, alpha=0.02, beta=0.1, b=0.1)
out.y &lt;- list(name=c('y'), time=seq(0,to=25,by=5))
out.e &lt;- list(name=c('e'), time=0)
out   &lt;- list(out.y, out.e)
g &lt;- list(size=100)
res1 &lt;- simulx(model=modelPK, treatment=adm, parameter=p, output=out, group=g)

statmlx(res1$parameter, FUN = "mean", probs = c(0.05, 0.5, 0.95))
statmlx(res1$parameter, FUN = "quantile", probs = c(0.05, 0.5, 0.95))
statmlx(res1$parameter, FUN = c("sd", "quantile"), probs = c(0.05, 0.95))
statmlx(res1$y, FUN = c("mean", "sd", "quantile"), probs = c(0.05, 0.95))
statmlx(res1$e, surv.time=c(10,20))

res2 &lt;- simulx(model=modelPK, treatment=adm, parameter=p, output=out, group=g, nrep=3)
statmlx(res2$parameter, FUN = c("sd", "quantile"), probs = c(0.05, 0.95))
statmlx(res2$y, FUN = c("mean", "sd", "quantile"), probs = c(0.05, 0.95))
statmlx(res2$e, surv.time=c(10,20,30))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

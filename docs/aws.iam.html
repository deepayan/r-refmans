<!DOCTYPE html><html lang="en"><head><title>Help for package aws.iam</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {aws.iam}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aws.iam-package'><p>aws.iam</p></a></li>
<li><a href='#add_policy'><p>Manage IAM Polices</p></a></li>
<li><a href='#change_pwd'><p>Change Password</p></a></li>
<li><a href='#create_alias'><p>Manage IAM Account Aliases</p></a></li>
<li><a href='#create_group'><p>Manage IAM User Groups</p></a></li>
<li><a href='#create_key'><p>Manage Access Keys/Credentials</p></a></li>
<li><a href='#create_profile'><p>Instance Profiles</p></a></li>
<li><a href='#create_role'><p>Manage IAM Roles</p></a></li>
<li><a href='#create_user'><p>Manage IAM Users</p></a></li>
<li><a href='#get_account'><p>Get Account Details</p></a></li>
<li><a href='#get_session_token'><p>Temporary Session Tokens</p></a></li>
<li><a href='#iamHTTP'><p>Workhorse API Query Functions</p></a></li>
<li><a href='#save_credentials'><p>Save/restore/manage session credentials</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>AWS IAM Client Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.8</td>
</tr>
<tr>
<td>Description:</td>
<td>A simple client for the Amazon Web Services ('AWS') Identity
    and Access Management ('IAM') 'API' <a href="https://aws.amazon.com/iam/">https://aws.amazon.com/iam/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, httr, xml2, jsonlite, aws.signature (&ge; 0.3.4)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/cloudyr/aws.iam">https://github.com/cloudyr/aws.iam</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cloudyr/aws.iam/issues">https://github.com/cloudyr/aws.iam/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-07 01:30:38 UTC; svnuser</td>
</tr>
<tr>
<td>Author:</td>
<td>Thomas J. Leeper <a href="https://orcid.org/0000-0003-4097-6326"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Simon Urbanek [cre, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Urbanek &lt;simon.urbanek@R-project.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-07 09:50:16 UTC</td>
</tr>
</table>
<hr>
<h2 id='aws.iam-package'>aws.iam</h2><span id='topic+aws.iam-package'></span><span id='topic+aws.iam'></span>

<h3>Description</h3>

<p>AWS IAM and STS Client Package
</p>


<h3>Details</h3>

<p>A simple client package for the Amazon Web Services (AWS) Identity and Access Management (IAM) and Simple Token Service (STS) APIs.
</p>


<h3>Author(s)</h3>

<p>Thomas J. Leeper &lt;thosjleeper@gmail.com&gt;
</p>


<h3>References</h3>

<p><a href="https://aws.amazon.com/documentation/iam/">IAM Documentation</a>
</p>

<hr>
<h2 id='add_policy'>Manage IAM Polices</h2><span id='topic+add_policy'></span><span id='topic+update_policy'></span><span id='topic+get_policy'></span><span id='topic+delete_policy'></span><span id='topic+list_policies'></span>

<h3>Description</h3>

<p>Retrieve, create, update, and delete IAM Role, User, and Group Polices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_policy(user, group, role, policy, doc, ...)

update_policy(role, doc, ...)

get_policy(policy, user, group, role, ...)

delete_policy(user, group, role, policy, ...)

list_policies(user, group, role, n, marker, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_policy_+3A_user">user</code></td>
<td>
<p>A character string specifying a user name or an object of class &ldquo;iam_user&rdquo;.</p>
</td></tr>
<tr><td><code id="add_policy_+3A_group">group</code></td>
<td>
<p>A character string containing a group name or an object of class &ldquo;iam_group&rdquo;.</p>
</td></tr>
<tr><td><code id="add_policy_+3A_role">role</code></td>
<td>
<p>A character string containing a role name or an object of class &ldquo;iam_role&rdquo;.</p>
</td></tr>
<tr><td><code id="add_policy_+3A_policy">policy</code></td>
<td>
<p>A character string specifying the policy name.</p>
</td></tr>
<tr><td><code id="add_policy_+3A_doc">doc</code></td>
<td>
<p>The contents of the policy document as a character string.</p>
</td></tr>
<tr><td><code id="add_policy_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="add_policy_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="add_policy_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>add_policy</code> and <code>get_policy</code> return objects of class &ldquo;iam_policy&rdquo;. <code>update_policy</code> and <code>delete_policy</code> return a logical <code>TRUE</code> (if successful) or an error. <code>list_policies</code> returns a list of IAM role objects.
</p>

<hr>
<h2 id='change_pwd'>Change Password</h2><span id='topic+change_pwd'></span><span id='topic+get_pwd_policy'></span><span id='topic+set_pwd_policy'></span>

<h3>Description</h3>

<p>Change password for currently authenticated user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>change_pwd(old, new, ...)

get_pwd_policy(...)

set_pwd_policy(
  allowchange,
  hardexpire,
  age,
  length,
  previous,
  requirements,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="change_pwd_+3A_old">old</code></td>
<td>
<p>A character string specifying the current password</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_new">new</code></td>
<td>
<p>A character string specifying the new password</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_allowchange">allowchange</code></td>
<td>
<p>Optionally, a logical indicating whether to allow users to change their own passwords (default is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_hardexpire">hardexpire</code></td>
<td>
<p>Optionally, a logical indicating whether to prevent users from changing their passwords after they expire (default is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_age">age</code></td>
<td>
<p>Optionally, a number of days (between 1 and 1095) specifying maximum valid age of an IAM user password.</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_length">length</code></td>
<td>
<p>Optionally, a minimum password length between 6 and 128 (default is 6).</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_previous">previous</code></td>
<td>
<p>Optionally, a number specifying the number (between 1 and 24) of previous passwords that users are prevented from reusing. Default is 0.</p>
</td></tr>
<tr><td><code id="change_pwd_+3A_requirements">requirements</code></td>
<td>
<p>A character vector specifying whether to require specific password features, including: &ldquo;upper&rdquo; (upper case character), &ldquo;lower&rdquo; (lower case character), &ldquo;number&rdquo; (a digit), and &ldquo;symbol&rdquo; (a symbol). Multiple can be specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>get_pwd_policy</code> returns a list. <code>change_pwd</code> and <code>set_pwd_policy</code> return a logical <code>TRUE</code> (if successful).
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_passwords_account-policy.html">IAM Password Policies</a>
</p>

<hr>
<h2 id='create_alias'>Manage IAM Account Aliases</h2><span id='topic+create_alias'></span><span id='topic+delete_alias'></span><span id='topic+list_aliases'></span>

<h3>Description</h3>

<p>Retrieve, create, update, and delete IAM Account Aliases
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_alias(alias, ...)

delete_alias(alias, ...)

list_aliases(n, marker, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_alias_+3A_alias">alias</code></td>
<td>
<p>A character string specifying an alias, or an object of class &ldquo;iam_alias&rdquo;.</p>
</td></tr>
<tr><td><code id="create_alias_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_alias_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="create_alias_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>create_alias</code> and <code>delete_alias</code> return a logical <code>TRUE</code> (if successful). <code>list_aliases</code> returns a list of objects of class &ldquo;iam_alias&rdquo;.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/console_account-alias.html">AWS Account Aliases</a>
</p>

<hr>
<h2 id='create_group'>Manage IAM User Groups</h2><span id='topic+create_group'></span><span id='topic+update_group'></span><span id='topic+delete_group'></span><span id='topic+get_group_users'></span><span id='topic+list_groups'></span><span id='topic+add_user'></span><span id='topic+remove_user'></span>

<h3>Description</h3>

<p>Retrieve, create, update, and delete IAM user groups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_group(group, path, ...)

update_group(group, name, path, ...)

delete_group(group, ...)

get_group_users(group, n, marker, ...)

list_groups(user, n, marker, path, ...)

add_user(user, group, ...)

remove_user(user, group, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_group_+3A_group">group</code></td>
<td>
<p>A character string containing a group name or an object of class &ldquo;iam_group&rdquo;.</p>
</td></tr>
<tr><td><code id="create_group_+3A_path">path</code></td>
<td>
<p>A character string specifying a path prefix in which to locate user(s), role(s), etc. See <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_identifiers.html">Reference Identifiers</a> on the AWS Documentation for more information.</p>
</td></tr>
<tr><td><code id="create_group_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_group_+3A_name">name</code></td>
<td>
<p>A character string specifying the new name for the group.</p>
</td></tr>
<tr><td><code id="create_group_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="create_group_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
<tr><td><code id="create_group_+3A_user">user</code></td>
<td>
<p>A character string specifying a user name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>create_group</code> and <code>get_group</code> return objects of class &ldquo;iam_group&rdquo;. <code>update_group</code> and <code>delete_group</code>, <code>add_user</code>, and <code>remove_user</code> return a logical <code>TRUE</code> (if successful) or an error. <code>list_groups</code> returns a list of IAM group objects. <code>get_group_users</code> returns a list of objects of class &ldquo;iam_user&rdquo;, with a &ldquo;iam_group&rdquo; attribute.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_user">create_user</a></code>, <code><a href="#topic+create_role">create_role</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 list_groups()

# create group
(g &lt;- create_group("example"))
# rename
update_group(g, "example2")
list_groups()

# create example user
u &lt;- create_user("example-user")
# add user to group
add_user(u, "example2")

get_group_users("example2")

# cleanup
remove_user(u, "example2")
delete_user(u)
delete_group("example2")

## End(Not run)
</code></pre>

<hr>
<h2 id='create_key'>Manage Access Keys/Credentials</h2><span id='topic+create_key'></span><span id='topic+update_key'></span><span id='topic+delete_key'></span><span id='topic+list_keys'></span>

<h3>Description</h3>

<p>Retrieve, create, update, and delete IAM access keys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_key(user, ...)

update_key(key, user, status, ...)

delete_key(key, user, ...)

list_keys(user, n, marker, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_key_+3A_user">user</code></td>
<td>
<p>Optionally, a character string specifying a user name or an object of class &ldquo;iam_user&rdquo;. This will be retrieved by default from the &ldquo;UserName&rdquo; list entry in <code>key</code>, if available; otherwise the user is assumed to be the user whose credentials are being used to execute the request.</p>
</td></tr>
<tr><td><code id="create_key_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_key_+3A_key">key</code></td>
<td>
<p>A character string specifying an access key or an object of class &ldquo;iam_key&rdquo;.</p>
</td></tr>
<tr><td><code id="create_key_+3A_status">status</code></td>
<td>
<p>A character string specifying either &ldquo;Active&rdquo; or &ldquo;Inactive&rdquo; to status the key status to.</p>
</td></tr>
<tr><td><code id="create_key_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="create_key_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>create_user</code> and <code>get_user</code> return objects of class &ldquo;iam_user&rdquo;. <code>update_user</code> and <code>delete_user</code> return a logical <code>TRUE</code> (if successful) or an error. <code>list_users</code> returns a list of IAM user objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_user">create_user</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# list access keys
list_keys()

# create a user key
u &lt;- create_user("example-user")
str(k &lt;- create_key(u))

# toggle key status to inactive
update_key(k, u, "Inactive")
list_keys(u)

# cleanup
delete_key(k)
delete_user(u)

## End(Not run)
</code></pre>

<hr>
<h2 id='create_profile'>Instance Profiles</h2><span id='topic+create_profile'></span><span id='topic+delete_profile'></span><span id='topic+get_profile'></span><span id='topic+list_profiles'></span>

<h3>Description</h3>

<p>Create, retrieve, list, and delete EC2 Instance Profiles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_profile(profile, path, ...)

delete_profile(profile, ...)

get_profile(profile, ...)

list_profiles(role, n, marker, path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_profile_+3A_profile">profile</code></td>
<td>
<p>A character string specifying the name for the profile, or an object of class &ldquo;iam_instance_profile&rdquo;.</p>
</td></tr>
<tr><td><code id="create_profile_+3A_path">path</code></td>
<td>
<p>A character string specifying a path prefix in which to locate user(s), role(s), etc. See <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_identifiers.html">Reference Identifiers</a> on the AWS Documentation for more information.</p>
</td></tr>
<tr><td><code id="create_profile_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_profile_+3A_role">role</code></td>
<td>
<p>A character string containing a role name or an object of class &ldquo;iam_role&rdquo;.</p>
</td></tr>
<tr><td><code id="create_profile_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="create_profile_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &ldquo;iam_instance_profile&rdquo;.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html">About Instance Profiles</a>
<a href="http://docs.aws.amazon.com/IAM/latest/APIReference/API_CreateInstanceProfile.html">API Documentation: CreateInstanceProfile</a>
<a href="http://docs.aws.amazon.com/IAM/latest/APIReference/API_DeleteInstanceProfile.html">API Documentation: DeleteInstanceProfile</a>
<a href="http://docs.aws.amazon.com/IAM/latest/APIReference/API_GetInstanceProfile.html">API Documentation: GetInstanceProfile</a>
<a href="http://docs.aws.amazon.com/IAM/latest/APIReference/API_ListInstanceProfiles.html">API Documentation: ListInstanceProfiles</a>
</p>

<hr>
<h2 id='create_role'>Manage IAM Roles</h2><span id='topic+create_role'></span><span id='topic+delete_role'></span><span id='topic+add_profile_role'></span><span id='topic+remove_profile_role'></span><span id='topic+list_roles'></span>

<h3>Description</h3>

<p>Retrieve, create, update, and delete IAM Roles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_role(role, policy, path, ...)

delete_role(role, ...)

add_profile_role(role, profile, ...)

remove_profile_role(role, profile, ...)

list_roles(n, marker, path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_role_+3A_role">role</code></td>
<td>
<p>A character string containing a role name or an object of class &ldquo;iam_role&rdquo;.</p>
</td></tr>
<tr><td><code id="create_role_+3A_policy">policy</code></td>
<td>
<p>...</p>
</td></tr>
<tr><td><code id="create_role_+3A_path">path</code></td>
<td>
<p>A character string specifying a path prefix in which to locate user(s), role(s), etc. See <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_identifiers.html">Reference Identifiers</a> on the AWS Documentation for more information.</p>
</td></tr>
<tr><td><code id="create_role_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_role_+3A_profile">profile</code></td>
<td>
<p>A character string specifying the name for the profile, or an object of class &ldquo;iam_instance_profile&rdquo;.</p>
</td></tr>
<tr><td><code id="create_role_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="create_role_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>create_role</code> and <code>get_role</code> return objects of class &ldquo;iam_role&rdquo;. <code>update_role</code> and <code>delete_role</code> return a logical <code>TRUE</code> (if successful) or an error. <code>list_roles</code> returns a list of IAM role objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_user">create_user</a></code>, <code><a href="#topic+create_group">create_group</a></code>,
</p>

<hr>
<h2 id='create_user'>Manage IAM Users</h2><span id='topic+create_user'></span><span id='topic+update_user'></span><span id='topic+get_user'></span><span id='topic+delete_user'></span><span id='topic+list_users'></span>

<h3>Description</h3>

<p>Retrieve, create, update, and delete IAM Users
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_user(user, path, ...)

update_user(user, name, path, ...)

get_user(user, ...)

delete_user(user, ...)

list_users(n, marker, path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_user_+3A_user">user</code></td>
<td>
<p>A character string specifying a user name or an object of class &ldquo;iam_user&rdquo;.</p>
</td></tr>
<tr><td><code id="create_user_+3A_path">path</code></td>
<td>
<p>A character string specifying a path prefix in which to locate user(s), role(s), etc. See <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_identifiers.html">Reference Identifiers</a> on the AWS Documentation for more information.</p>
</td></tr>
<tr><td><code id="create_user_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_user_+3A_name">name</code></td>
<td>
<p>A character string specifying the new name for the user.</p>
</td></tr>
<tr><td><code id="create_user_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="create_user_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>create_user</code> and <code>get_user</code> return objects of class &ldquo;iam_user&rdquo;. <code>update_user</code> and <code>delete_user</code> return a logical <code>TRUE</code> (if successful) or an error. <code>list_users</code> returns a list of IAM user objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
list_users()

# create example user
u &lt;- create_user("example-user")

# cleanup
delete_user(u)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_account'>Get Account Details</h2><span id='topic+get_account'></span><span id='topic+credential_report'></span><span id='topic+auth_details'></span>

<h3>Description</h3>

<p>Retrieve IAM Account Details. This is useful as a &ldquo;hello world!&rdquo; test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_account(...)

credential_report(...)

auth_details(type, n, marker, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_account_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+iamHTTP">iamHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_account_+3A_type">type</code></td>
<td>
<p>An optional character string specifying one or more types of reports to return.</p>
</td></tr>
<tr><td><code id="get_account_+3A_n">n</code></td>
<td>
<p>An integer specifying the number of responses to return.</p>
</td></tr>
<tr><td><code id="get_account_+3A_marker">marker</code></td>
<td>
<p>A character string specifying a marker (from a previous response) to use in paginating results</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_account</code> returns a list of account details. <code>credential_report</code> generates and/or retrieves a credential report. <code>auth_details</code> returns a list of group, user, role, and policy details.
</p>


<h3>Value</h3>

<p>A list containing various account details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# account details
get_aaccount()

# big list of authorizations
auth_details()

## End(Not run)
</code></pre>

<hr>
<h2 id='get_session_token'>Temporary Session Tokens</h2><span id='topic+get_session_token'></span><span id='topic+get_federation_token'></span><span id='topic+get_caller_identity'></span><span id='topic+assume_role'></span>

<h3>Description</h3>

<p>Get a temporary credentials (i.e., a Session Token)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_session_token(duration = 900, id, code, tags, use = FALSE, ...)

get_federation_token(duration = 900, name, policy, use = FALSE, ...)

get_caller_identity(...)

assume_role(
  role,
  session,
  duration,
  id,
  code,
  externalid,
  policy,
  tags,
  transitive.tags,
  use = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_session_token_+3A_duration">duration</code></td>
<td>
<p>numeric, optional, duration for which the
credentials should be valid, in seconds, between 900 and
129600. If not set, the back-end can decided.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_id">id</code></td>
<td>
<p>string, optional, the serial number or Amazon Resource
Number for a multi-factor authentication (MFA) device.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_code">code</code></td>
<td>
<p>If <code>id</code> is specified, the value provided by the MFA device.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_tags">tags</code></td>
<td>
<p>named character vector or named list of scalars,
optional, if specified then the supplied key/value pairs (names
are keys) are passed as session tags.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_use">use</code></td>
<td>
<p>logical (default <code>FALSE</code>), specifying whether to
use these credentials for subsequent requests. If <code>TRUE</code>,
any currently used credentials are stored in a package
environment (see <code><a href="#topic+save_credentials">save_credentials</a></code>) and the
requested tokens overwrite them in the relevant environment
variables. <code><a href="#topic+restore_credentials">restore_credentials</a>()</code> can then be used
to restore environment variables based on those from the saved
environment and <code><a href="#topic+delete_saved_credentials">delete_saved_credentials</a>()</code> deletes
the credentials without restoring them.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+stsHTTP">stsHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_name">name</code></td>
<td>
<p>The name of the federated user.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_policy">policy</code></td>
<td>
<p>A character string specifying a JSON-formatted role
policy. For <code>assume_role</code>, if <code>role</code> is an object of
class &ldquo;iam_role&rdquo;, this will be inferred automatically.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_role">role</code></td>
<td>
<p>string, role ARN or an object of class &ldquo;iam_role&rdquo;.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_session">session</code></td>
<td>
<p>string, name of the temporary session, can be
arbitrary and is mainly used to disambiguate multiple sessions
using the same role.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_externalid">externalid</code></td>
<td>
<p>A unique identifier that is used by third parties when assuming roles in their customers' accounts.</p>
</td></tr>
<tr><td><code id="get_session_token_+3A_transitive.tags">transitive.tags</code></td>
<td>
<p>character vector, optional, specifies names
of the session tags which will be passed to subsequent sessions
in the role chain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_caller_identity</code> returns the account ID and ARN
for the currently credentialled user. This can be used to
confirm that an assumed role has indeed been assumed.
</p>
<p><code>get_session_token</code> and <code>get_federation_token</code>
generate and return temporary credentials.
</p>
<p>Details about the underlying behavior of the various API
endpoints can be found at
<a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html">Requesting Temporary Security Credentials</a>.
</p>


<h3>Value</h3>

<p>A list.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_GetCallerIdentity.html">API Reference: GetCallerIdentity</a>
<a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_GetSessionToken.html">API Reference: GetSessionToken</a>
<a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html">API Reference: GetFederationToken</a>
<a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html">API Reference: AssumeRole</a>
<a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html">API Reference: AssumeRoleWithSAML</a>
<a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html">API Reference: AssumeRoleWithWebIdentity</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_caller_identity() # check current identity

x &lt;- get_session_token() # get token (T1) but do not use
set_credentials(x)       # now use those credentials

x &lt;- get_session_token(use = TRUE) # get and use another temp token (T2)
get_caller_identity() # check that token is in use

# assume a role
r &lt;- assume_role("arn:aws:iam::111111111111:role/my-role", "test", use=TRUE)
get_caller_identity() # check that the role has been assumed

restore_credentials() # return to credentials of T2
restore_credentials() # return to credentials of T1
restore_credentials() # return to root credentials
get_caller_identity() # check identity, again

## End(Not run)
</code></pre>

<hr>
<h2 id='iamHTTP'>Workhorse API Query Functions</h2><span id='topic+iamHTTP'></span><span id='topic+stsHTTP'></span>

<h3>Description</h3>

<p>These are the low-level API querying functions for IAM and STS. Users do not need to use these directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iamHTTP(
  verb = "GET",
  query,
  headers = list(),
  body = "",
  version = "2010-05-08",
  verbose = getOption("verbose", FALSE),
  region = Sys.getenv("AWS_DEFAULT_REGION", "us-east-1"),
  key = NULL,
  secret = NULL,
  session_token = NULL,
  ...
)

stsHTTP(
  query,
  headers = list(),
  body = "",
  version = "2011-06-15",
  verbose = getOption("verbose", FALSE),
  region = Sys.getenv("AWS_DEFAULT_REGION", "us-east-1"),
  key = NULL,
  secret = NULL,
  session_token = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="iamHTTP_+3A_verb">verb</code></td>
<td>
<p>A character string specifying an HTTP verb. Either &ldquo;GET&rdquo; or &ldquo;POST&rdquo;.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_query">query</code></td>
<td>
<p>A named list specifying query arguments.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_headers">headers</code></td>
<td>
<p>A list of headers to pass to the HTTP request.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_body">body</code></td>
<td>
<p>A character string specifying a request body (if <code>verb = "POST"</code>).</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_version">version</code></td>
<td>
<p>A character string specifying an API version. Default is &ldquo;2010-05-08&rdquo;.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_verbose">verbose</code></td>
<td>
<p>A logical indicating whether to be verbose. Default is given by <code>options("verbose")</code>.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_region">region</code></td>
<td>
<p>A character string specifying an AWS region. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_key">key</code></td>
<td>
<p>A character string specifying an AWS Access Key. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_secret">secret</code></td>
<td>
<p>A character string specifying an AWS Secret Key. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_session_token">session_token</code></td>
<td>
<p>Optionally, a character string specifying an AWS temporary Session Token to use in signing a request. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="iamHTTP_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="httr.html#topic+GET">GET</a></code> or <code><a href="httr.html#topic+POST">POST</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='save_credentials'>Save/restore/manage session credentials</h2><span id='topic+save_credentials'></span><span id='topic+set_credentials'></span><span id='topic+delete_saved_credentials'></span><span id='topic+restore_credentials'></span>

<h3>Description</h3>

<p>The following functions manage the environment
variables <code>AWS_ACCESS_KEY_ID</code>,
<code>AWS_SECRET_ACCESS_KEY</code> and <code>AWS_SESSION_TOKEN</code> used
for credentials for all AWS API calls.
</p>
<p><code>save_credentials</code> saves the current credentials to a
stack of credentials kept in the session. Always returns
<code>TRUE</code>.
</p>
<p><code>restore_credentials</code> restores the last saved credentials
and pops them off the stack.
</p>
<p><code>delete_saved_credentials</code> removes the last saved
credentials without using them.
</p>
<p><code>set_credentials</code> uses credentials list as supplied by the
REST API and makes them current by assigning their values to
the corresponding <code>AWS_*</code> environment variables. If
<code>save.previous</code> is <code>TRUE</code> then the currently used
credentials are first saved on the stack ebfore being replaced
with the new ones.
</p>
<p>Most functions in the <code>STS</code> section call
<code>set_credentials()</code> automatically if <code>use = TRUE</code> is
set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_credentials()

set_credentials(credentials, save.previous = TRUE)

delete_saved_credentials(all = FALSE)

restore_credentials(pop = TRUE, root = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="save_credentials_+3A_credentials">credentials</code></td>
<td>
<p>list, credentials as received from the REST API
call, they should contain to following elements:
<code>AccessKeyId</code>, <code>SecretAccessKey</code> and
<code>SessionToken</code>)</p>
</td></tr>
<tr><td><code id="save_credentials_+3A_save.previous">save.previous</code></td>
<td>
<p>logical, if <code>TRUE</code> the current
credentials are saved first using <code>save_credentials</code>
before the new credentials are applied.</p>
</td></tr>
<tr><td><code id="save_credentials_+3A_all">all</code></td>
<td>
<p>logical, if <code>TRUE</code> then removes all credentials
from the stack, otherwise only the last ones.</p>
</td></tr>
<tr><td><code id="save_credentials_+3A_pop">pop</code></td>
<td>
<p>logical, if <code>TRUE</code> then the credentials are
restored and then removed from the stack.</p>
</td></tr>
<tr><td><code id="save_credentials_+3A_root">root</code></td>
<td>
<p>logical, if <code>FALSE</code> then last saved credentials
are used. if <code>TRUE</code> then goes down the stack to the first
saved credentials. If both <code>root</code> and <code>pop</code> are
<code>TRUE</code> then all credentials are removed from the stack.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since <code>aws.iam</code> version 0.1.8 the credentials are
kept on a stack, so it is possible to use
<code>save_credentials()</code> several times without restoring
them. This allows role chaining. At the end of a chained
session it is possible to get back to the main credentials using
<code>restore_credentials(pop=TRUE, root=TRUE)</code>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

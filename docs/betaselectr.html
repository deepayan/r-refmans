<!DOCTYPE html><html lang="en"><head><title>Help for package betaselectr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {betaselectr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#anova.lm_betaselect'><p>ANOVA Tables For</p>
'lm_betaselect' and 'glm_betaselect'
Objects</a></li>
<li><a href='#coef.lav_betaselect'><p>Coefficients of a 'lav_betaselect'-Class Object</p></a></li>
<li><a href='#coef.lm_betaselect'><p>Coefficients of</p>
Beta-Select in Linear Models</a></li>
<li><a href='#confint.lav_betaselect'><p>Confidence Intervals for a</p>
'lav_betaselect'-Class Object</a></li>
<li><a href='#confint.lm_betaselect'><p>Confidence Interval for</p>
'lm_betaselect' or 'glm_betaselect'
Objects</a></li>
<li><a href='#data_test_medmod'><p>Test Dataset with Moderator</p>
and Mediator</a></li>
<li><a href='#data_test_mod_cat'><p>Test Dataset with Moderator</p>
and Categorical Variables</a></li>
<li><a href='#data_test_mod_cat_binary'><p>Test Dataset with a Binary Outcome Variable</p></a></li>
<li><a href='#data_test_mod_cat2'><p>Test Dataset with Moderator</p>
and Categorical Variables (Version 2)</a></li>
<li><a href='#getCall.lm_betaselect'><p>Call in an</p>
'lm_betaselect' or 'glm_betaselect'
Object</a></li>
<li><a href='#lav_betaselect'><p>Betas-Select in a 'lavaan'-Model</p></a></li>
<li><a href='#lm_betaselect'><p>Betas-Select in a</p>
Regression Model</a></li>
<li><a href='#predict.glm_betaselect'><p>Predict Method for a 'glm_betaselect' Object</p></a></li>
<li><a href='#predict.lm_betaselect'><p>Predict Method for an 'lm_betaselect' Object</p></a></li>
<li><a href='#print.lav_betaselect'><p>Print a 'lav_betaselect' Object</p></a></li>
<li><a href='#std_data'><p>Standardize Selected Variables</p></a></li>
<li><a href='#summary.glm_betaselect'><p>Summary of an</p>
'glm_betaselect'-Class Object</a></li>
<li><a href='#summary.lm_betaselect'><p>Summary of an</p>
'lm_betaselect'-Class Object</a></li>
<li><a href='#vcov.lm_betaselect'><p>The 'vcov' Method for</p>
'lm_betaselect' and <code>glm_betaselect</code>
Objects</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Betas-Select in Structural Equation Models and Linear Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>It computes betas-select, coefficients after standardization in
  structural equation models and regression models, standardizing only selected
  variables. Supports models with moderation, with product terms formed after
  standardization. It also offers confidence intervals that account for
  standardization, including bootstrap confidence intervals as proposed by
  Cheung et al. (2022) &lt;<a href="https://doi.org/10.1037%2Fhea0001188">doi:10.1037/hea0001188</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, stats, lavaan, methods, numDeriv, manymome, pbapply,
lavaan.printer</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/start-first:</td>
<td>lav_betaselect_mg*</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://sfcheung.github.io/betaselectr/">https://sfcheung.github.io/betaselectr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sfcheung/betaselectr/issues">https://github.com/sfcheung/betaselectr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-08 11:26:51 UTC; shufa</td>
</tr>
<tr>
<td>Author:</td>
<td>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Rong Wei Sun <a href="https://orcid.org/0000-0003-0034-1422"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Florbela Chang <a href="https://orcid.org/0009-0003-9931-501X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Wendie Yang <a href="https://orcid.org/0009-0000-8388-6481"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Sing-Hang Cheung <a href="https://orcid.org/0000-0001-5182-0752"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shu Fai Cheung &lt;shufai.cheung@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-11 20:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='anova.lm_betaselect'>ANOVA Tables For
'lm_betaselect' and 'glm_betaselect'
Objects</h2><span id='topic+anova.lm_betaselect'></span><span id='topic+anova.glm_betaselect'></span>

<h3>Description</h3>

<p>Return the analysis
of variance tables for
the outputs of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> and
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm_betaselect'
anova(object, ..., type = c("beta", "standardized", "raw", "unstandardized"))

## S3 method for class 'glm_betaselect'
anova(
  object,
  ...,
  type = c("beta", "standardized", "raw", "unstandardized"),
  dispersion = NULL,
  test = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="anova.lm_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="anova.lm_betaselect_+3A_...">...</code></td>
<td>
<p>Additional outputs
of <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="anova.lm_betaselect_+3A_type">type</code></td>
<td>
<p>String. If
<code>"unstandardized"</code> or <code>"raw"</code>, the
output <em>before</em> standardization
are used If <code>"beta"</code> or
<code>"standardized"</code>, then the
output <em>after</em> selected
variables standardized are returned.
Default is <code>"beta"</code>.</p>
</td></tr>
<tr><td><code id="anova.lm_betaselect_+3A_dispersion">dispersion</code></td>
<td>
<p>To be passed to
<code><a href="stats.html#topic+anova.glm">stats::anova.glm()</a></code>. The dispersion
parameter. Default ia <code>NULL</code> and it
is extracted from the model.</p>
</td></tr>
<tr><td><code id="anova.lm_betaselect_+3A_test">test</code></td>
<td>
<p>String. The test to be
conducted. Please refer to
<code><a href="stats.html#topic+anova.glm">stats::anova.glm()</a></code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, it calls <code><a href="stats.html#topic+anova">stats::anova()</a></code>
on the results with selected variables
standardized. By setting <code>type</code> to
<code>"raw"</code> or <code>"unstandardized"</code>, it
calls <code><a href="stats.html#topic+anova">stats::anova()</a></code> on the results
<em>before</em> standardization.
</p>


<h3>Value</h3>

<p>It returns an object of class
<code>anova</code>, which is identical to
the output of <code><a href="stats.html#topic+anova">stats::anova()</a></code> in
structure.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                           data = data_test_mod_cat,
                           to_standardize = "iv",
                           do_boot = FALSE)
anova(lm_beta_x)
anova(lm_beta_x, type = "raw")


data_test_mod_cat$p &lt;- scale(data_test_mod_cat$dv)[, 1]
data_test_mod_cat$p &lt;- ifelse(data_test_mod_cat$p &gt; 0,
                              yes = 1,
                              no = 0)
logistic_beta_x &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                  data = data_test_mod_cat,
                                  family = binomial,
                                  to_standardize = "iv")
anova(logistic_beta_x)
anova(logistic_beta_x, type = "raw")

</code></pre>

<hr>
<h2 id='coef.lav_betaselect'>Coefficients of a 'lav_betaselect'-Class Object</h2><span id='topic+coef.lav_betaselect'></span>

<h3>Description</h3>

<p>Return the betas-select
in a 'lav_betaselect'-class object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lav_betaselect'
coef(object, drop_na = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.lav_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="coef.lav_betaselect_+3A_drop_na">drop_na</code></td>
<td>
<p>Logical. Whether betas-select
with <code>NA</code> are dropped. Default is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="coef.lav_betaselect_+3A_...">...</code></td>
<td>
<p>Optional arguments. Not
used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It just extracts and
returns the column <code>est</code> from
the object: the betas-select, with
selected variables standardized.
</p>


<h3>Value</h3>

<p>A numeric vector: The betas-select
in the object. The names of parameters
follow the convention in <code>lavaan</code>.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(lavaan)
mod &lt;-
"
med ~ iv + mod + iv:mod
dv ~ med + iv
"
fit &lt;- sem(mod,
           data_test_medmod,
           fixed.x = TRUE)
summary(fit)
fit_beta &lt;- lav_betaselect(fit,
                           to_standardize = c("iv", "dv"))
coef(fit_beta)

</code></pre>

<hr>
<h2 id='coef.lm_betaselect'>Coefficients of
Beta-Select in Linear Models</h2><span id='topic+coef.lm_betaselect'></span><span id='topic+coef.glm_betaselect'></span>

<h3>Description</h3>

<p>Return the estimates of
coefficients in an
<code>lm_betaselect</code>-class or
<code>glm_betaselect</code>-class object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm_betaselect'
coef(
  object,
  complete = FALSE,
  type = c("beta", "standardized", "raw", "unstandardized"),
  ...
)

## S3 method for class 'glm_betaselect'
coef(
  object,
  complete = FALSE,
  type = c("beta", "standardized", "raw", "unstandardized"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.lm_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>, or an
<code>lm_betaselect</code>-class or
<code>glm_betaselect</code>-class object.</p>
</td></tr>
<tr><td><code id="coef.lm_betaselect_+3A_complete">complete</code></td>
<td>
<p>If <code>TRUE</code>, it returns
the full vector of coefficients,
including those of terms dropped in
an over-determined system. See
<code><a href="stats.html#topic+coef">stats::coef()</a></code> for further
information. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="coef.lm_betaselect_+3A_type">type</code></td>
<td>
<p>String. If <code>"unstandardized"</code>
or <code>"raw"</code>, the coefficients <em>before</em>
standardization are returned. If
<code>"beta"</code> or <code>"standardized"</code>, then
the coefficients <em>after</em> selected
variables standardized are returned.
Default is <code>"beta"</code>.</p>
</td></tr>
<tr><td><code id="coef.lm_betaselect_+3A_...">...</code></td>
<td>
<p>Other arguments. Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, it extracts the
regression coefficients <em>after</em> the
selected variables have been
standardized. If requested, it can
also return the regression
coefficients <em>before</em>
standardization.
</p>


<h3>Value</h3>

<p>A numeric vector: The estimate of
regression coefficients.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> and
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                           data = data_test_mod_cat,
                           to_standardize = "iv")
coef(lm_beta_x)
coef(lm_beta_x, type = "raw")


data_test_mod_cat$p &lt;- scale(data_test_mod_cat$dv)[, 1]
data_test_mod_cat$p &lt;- ifelse(data_test_mod_cat$p &gt; 0,
                              yes = 1,
                              no = 0)
logistic_beta_x &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                  data = data_test_mod_cat,
                                  family = binomial,
                                  to_standardize = "iv")
coef(logistic_beta_x)
coef(logistic_beta_x, type = "raw")

</code></pre>

<hr>
<h2 id='confint.lav_betaselect'>Confidence Intervals for a
'lav_betaselect'-Class Object</h2><span id='topic+confint.lav_betaselect'></span>

<h3>Description</h3>

<p>Return the confidence
intervals of betas-select in the
output of <code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lav_betaselect'
confint(object, parm, level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="confint.lav_betaselect_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="confint.lav_betaselect_+3A_parm">parm</code></td>
<td>
<p>Ignored due to the complexity in the
naming. The confidence intervals
of all parameters are always
returned.</p>
</td></tr>
<tr><td><code id="confint.lav_betaselect_+3A_level">level</code></td>
<td>
<p>The level of confidence.
Ignored because the intervals should be
formed
when calling <code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="confint.lav_betaselect_+3A_...">...</code></td>
<td>
<p>Optional arguments.
Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The type of
confidence intervals depends
on the call to <code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>.
This function does not recompute
the confidence interval.
</p>


<h3>Value</h3>

<p>A two-column matrix of the confidence
intervals.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(lavaan)
mod &lt;-
"
med ~ iv + mod + iv:mod
dv ~ med + iv
"
fit &lt;- sem(mod,
           data_test_medmod,
           fixed.x = TRUE)
summary(fit)
fit_beta &lt;- lav_betaselect(fit,
                           to_standardize = c("iv", "dv"))
confint(fit_beta)

</code></pre>

<hr>
<h2 id='confint.lm_betaselect'>Confidence Interval for
'lm_betaselect' or 'glm_betaselect'
Objects</h2><span id='topic+confint.lm_betaselect'></span><span id='topic+confint.glm_betaselect'></span>

<h3>Description</h3>

<p>Return the confidence
interval of the regression
coefficients in the output of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm_betaselect'
confint(
  object,
  parm,
  level = 0.95,
  method = c("boot", "bootstrap", "ls"),
  type = c("beta", "standardized", "raw", "unstandardized"),
  warn = TRUE,
  boot_type = c("perc", "bc"),
  ...
)

## S3 method for class 'glm_betaselect'
confint(
  object,
  parm,
  level = 0.95,
  trace = FALSE,
  test = c("LRT", "Rao"),
  method = c("boot", "bootstrap", "default", "ls"),
  type = c("beta", "standardized", "raw", "unstandardized"),
  warn = TRUE,
  boot_type = c("perc", "bc"),
  transform_b = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="confint.lm_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_parm">parm</code></td>
<td>
<p>The terms for which
the confidence intervals are returned.
If missing, the confidence intervals
of all terms will be returned.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_level">level</code></td>
<td>
<p>The level of confidence,
default is .95, returning the 95%
confidence interval.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_method">method</code></td>
<td>
<p>The method used to
compute the confidence intervals/
If bootstrapping was
requested when calling
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> and this argument
is set to <code>"bootstrap"</code> or <code>"boot"</code>,
the bootstrap confidence intervals
are returned. If bootstrapping
was not requested or if this argument
is set to <code>"ls"</code>, then the usual <code>lm</code>
confidence intervals are
returned, with a warning raised
unless <code>type</code> is <code>"raw"</code> or
<code style="white-space: pre;">&#8288;"unstandardized".&#8288;</code>
Default is <code>"boot"</code>.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_type">type</code></td>
<td>
<p>String. If
<code>"unstandardized"</code> or <code>"raw"</code>, the
confidence intervals of the
coefficients <em>before</em> standardization
are returned. If <code>"beta"</code> or
<code>"standardized"</code>, then the
confidence intervals of the
coefficients <em>after</em> selected
variables standardized are returned.
Default is <code>"beta"</code>.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_warn">warn</code></td>
<td>
<p>Logical. Whether a warning
will be raised is OLS (or WLS)
confidence intervals are
requested for the model with some
variables standardized (i.e., <code>type</code>
is <code>"beta"</code> or <code>"standardized"</code>).
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_boot_type">boot_type</code></td>
<td>
<p>The type of
bootstrap confidence intervals.
Currently, it supports <code>"perc"</code>,
percentile bootstrap confidence
intervals, and <code>"bc"</code>, bias-corrected
bootstrap confidence interval.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_...">...</code></td>
<td>
<p>Optional arguments.
Ignored.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_trace">trace</code></td>
<td>
<p>Logical. Whether profiling
will be traced. See
<code><a href="stats.html#topic+confint">stats::confint.glm()</a></code> for details.
ignored if <code>method</code> is <code>"boot"</code> or
<code>"bootstrap"</code>.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_test">test</code></td>
<td>
<p>The test used for
profiling. See <a href="stats.html#topic+confint">stats::confint.glm</a>
for details.
ignored if <code>method</code> is <code>"boot"</code> or
<code>"bootstrap"</code>.</p>
</td></tr>
<tr><td><code id="confint.lm_betaselect_+3A_transform_b">transform_b</code></td>
<td>
<p>The function
to be used to transform the
confidence limits. For example,
if set to <code>exp</code>, the confidence
limits will be exponentiated. Users
need to decide whether the transformed
limits are meaningful. Default is
<code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The type of
confidence intervals depends
on the object. If bootstrapping
was requested, by default it returns
the percentile bootstrap confidence
intervals. Otherwise, it returns the
default confidence intervals.
</p>
<p>Support for other type of
confidence intervals may be
added in the future.
</p>


<h3>Value</h3>

<p>A <em>p</em> by 2 matrix of the confidence
intervals, <em>p</em> being the number
of coefficients.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

# bootstrap should be set to 2000 or 5000 in real studies
lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                           data = data_test_mod_cat,
                           to_standardize = "iv",
                           do_boot = TRUE,
                           bootstrap = 100,
                           iseed = 1234)
confint(lm_beta_x)
confint(lm_beta_x, method = "ls")
confint(lm_beta_x, type = "raw")


data_test_mod_cat$p &lt;- scale(data_test_mod_cat$dv)[, 1]
data_test_mod_cat$p &lt;- ifelse(data_test_mod_cat$p &gt; 0,
                              yes = 1,
                              no = 0)
# bootstrap should be set to 2000 or 5000 in real studies
logistic_beta_x &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                  data = data_test_mod_cat,
                                  family = binomial,
                                  to_standardize = "iv",
                                  do_boot = TRUE,
                                  bootstrap = 100,
                                  iseed = 1234)

confint(logistic_beta_x, method = "default")
confint(logistic_beta_x, type = "raw")

</code></pre>

<hr>
<h2 id='data_test_medmod'>Test Dataset with Moderator
and Mediator</h2><span id='topic+data_test_medmod'></span>

<h3>Description</h3>

<p>This dataset has one
mediator, one moderator, one
independent variable, one dependent
variable, and two control variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_test_medmod
</code></pre>


<h3>Format</h3>

<p>A data frame with 200 rows
and five variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator, continuous</p>
</dd>
<dt>med</dt><dd><p>Mediator, continuous</p>
</dd>
<dt>cov1</dt><dd><p>Control variable, continuous</p>
</dd>
<dt>cov2</dt><dd><p>Control variable, continuous</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
library(lavaan)
mod &lt;-
"
med ~ iv + mod + iv:mod + cov1 + cov2
dv ~ med + iv + cov1 + cov2
"
fit &lt;- sem(mod,
           data_test_medmod)
summary(fit)


</code></pre>

<hr>
<h2 id='data_test_mod_cat'>Test Dataset with Moderator
and Categorical Variables</h2><span id='topic+data_test_mod_cat'></span>

<h3>Description</h3>

<p>This dataset has one
predictor, one moderator, one
control variable, one dependent
variable, and a categorical variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_test_mod_cat
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows
and five variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator, continuous</p>
</dd>
<dt>cov1</dt><dd><p>Control variable, continuous</p>
</dd>
<dt>cat1</dt><dd><p>String variable with these values: &quot;gp1&quot;, &quot;gp2&quot;, and &quot;gp3&quot;</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
lm_out &lt;- lm(dv ~ iv * mod + cov1 + cat1, data_test_mod_cat)
summary(lm_out)


</code></pre>

<hr>
<h2 id='data_test_mod_cat_binary'>Test Dataset with a Binary Outcome Variable</h2><span id='topic+data_test_mod_cat_binary'></span>

<h3>Description</h3>

<p>This dataset has one
predictor, one moderator, one
control variable, one binary dependent
variable, and a categorical variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_test_mod_cat_binary
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows
and five variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, binary: 0, 1</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator, continuous</p>
</dd>
<dt>cov1</dt><dd><p>Control variable, continuous</p>
</dd>
<dt>cat1</dt><dd><p>String variable with these values: &quot;gp1&quot;, &quot;gp2&quot;, and &quot;gp3&quot;</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
glm_out &lt;- glm(dv ~ iv * mod + cov1 + cat1, data_test_mod_cat_binary, family = binomial())
summary(glm_out)


</code></pre>

<hr>
<h2 id='data_test_mod_cat2'>Test Dataset with Moderator
and Categorical Variables (Version 2)</h2><span id='topic+data_test_mod_cat2'></span>

<h3>Description</h3>

<p>This dataset has one
predictor, one moderator, one
control variable, one dependent
variable, and a categorical variable.
</p>
<p>Similar to <code>data_test_mod_cat</code> but
generated from another population.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_test_mod_cat2
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows
and five variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator, continuous</p>
</dd>
<dt>cov1</dt><dd><p>Control variable, continuous</p>
</dd>
<dt>cat1</dt><dd><p>String variable with these values: &quot;gp1&quot;, &quot;gp2&quot;, and &quot;gp3&quot;</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
lm_out &lt;- lm(dv ~ iv * mod + cov1 + cat1, data_test_mod_cat)
summary(lm_out)


</code></pre>

<hr>
<h2 id='getCall.lm_betaselect'>Call in an
'lm_betaselect' or 'glm_betaselect'
Object</h2><span id='topic+getCall.lm_betaselect'></span><span id='topic+getCall.glm_betaselect'></span>

<h3>Description</h3>

<p>The <code>getCall</code>-method
for an <code>lm_betaselect</code>-class or
<code>glm_betaselectd</code>-class objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm_betaselect'
getCall(
  x,
  what = c("lm_betaselect", "beta", "standardized", "raw", "unstandardized"),
  ...
)

## S3 method for class 'glm_betaselect'
getCall(
  x,
  what = c("glm_betaselect", "beta", "standardized", "raw", "unstandardized"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getCall.lm_betaselect_+3A_x">x</code></td>
<td>
<p>An <code>lm_betaselect</code>-class
or <code>glm_betaselect</code>-class
object from which the call is to
be extracted.</p>
</td></tr>
<tr><td><code id="getCall.lm_betaselect_+3A_what">what</code></td>
<td>
<p>Which call to extract.
For <code>"lm_betaselect"</code> or
<code>"glm_betaselect"</code> the call
to <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
or <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code> is extracted.
For
<code>"beta"</code> or <code>"standardized"</code>, the
call used to fit the model <em>after</em>
selected variables standardized
is extracted.
For <code>"raw"</code>
or <code>"unstandardized"</code>, the call used
to fit hte model <em>before</em> standardization
is extracted.</p>
</td></tr>
<tr><td><code id="getCall.lm_betaselect_+3A_...">...</code></td>
<td>
<p>Additional arguments.
Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This works in the same way
the default <code>getCall</code>-method does for
the outputs of <code><a href="stats.html#topic+lm">stats::lm()</a></code>
and <code><a href="stats.html#topic+glm">stats::glm()</a></code>.
</p>


<h3>Value</h3>

<p>It returns the call requested.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>,
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>, and <code><a href="stats.html#topic+update">stats::getCall()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1,
                           data = data_test_mod_cat,
                           to_standardize = "iv")
getCall(lm_beta_x)
getCall(lm_beta_x, what = "beta")
getCall(lm_beta_x, what = "raw")

</code></pre>

<hr>
<h2 id='lav_betaselect'>Betas-Select in a 'lavaan'-Model</h2><span id='topic+lav_betaselect'></span>

<h3>Description</h3>

<p>Can standardize selected
variables in a <code>lavaan</code> model without
refitting the models, can handle
product term correctly and skip
categorical predictors in
standardization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lav_betaselect(
  object,
  to_standardize = ".all.",
  not_to_standardize = NULL,
  skip_categorical_x = TRUE,
  output = c("data.frame", "text"),
  std_se = c("none", "delta", "bootstrap"),
  std_z = TRUE,
  std_pvalue = TRUE,
  std_ci = TRUE,
  level = 0.95,
  progress = TRUE,
  boot_out = NULL,
  bootstrap = 100L,
  store_boot_est = TRUE,
  parallel = c("no", "snow", "multicore"),
  ncpus = parallel::detectCores(logical = FALSE) - 1,
  cl = NULL,
  iseed = NULL,
  find_product_terms = TRUE,
  ...,
  delta_method = c("lavaan", "numDeriv"),
  vector_form = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lav_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code>lavaan</code> model fit functions, such
as <code><a href="lavaan.html#topic+sem">lavaan::sem()</a></code> and <code><a href="lavaan.html#topic+cfa">lavaan::cfa()</a></code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_to_standardize">to_standardize</code></td>
<td>
<p>A string vector,
which should be the names of the
variables to be standardized.
Default is <code>".all."</code>, indicating all
variables are to be standardized
(but see <code>skip_categorical_x</code>).</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_not_to_standardize">not_to_standardize</code></td>
<td>
<p>A string
vector, which should be the names
of the variables that should not be
standardized. This argument is useful
when most variables, except for a few,
are to be standardized. This argument
cannot be ued with <code>to_standardize</code>
at the same time. Default is <code>NULL</code>,
and only <code>to_standardize</code> is used.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_skip_categorical_x">skip_categorical_x</code></td>
<td>
<p>Logical.
If <code>TRUE</code>, the default, all
categorical predictors, defined as
variables with only two possible
values in the data analyzed, will
be skipped in standardization. This
overrides the argument
<code>to_standardize</code>. That is, a
categorical predictor will not be
standardized even if listed in
<code>to_standardize</code>, unless users set
this argument to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_output">output</code></td>
<td>
<p>The format of the
output. Not used because the format
of the printout is now controlled
by the <code>print</code>-method of the output
of this function. Kept for backward
compatibility.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_std_se">std_se</code></td>
<td>
<p>String. If set to <code>"none"</code>,
the default, standard errors will not
be computed for the standardized
solution. If set to <code>"delta"</code>,
delta method will be used to compute
the standard errors. If set to
<code>"bootstrap"</code>, then what it does
depends whether <code>boot_out</code> is set.
If <code>boot_out</code> is to an output of
<code><a href="manymome.html#topic+do_boot">manymome::do_boot()</a></code>, its content
will be used. If <code>boot_out</code> is
<code>NULL</code> <em>and</em> bootstrap
estimates are available in <code>object</code>
(e.g., bootstrapping is requested
when fitting the model in <code>lavaan</code>),
then the stored bootstrap estimates
will be sued. If not available,
the bootstrapping will be conducted
using <code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code>,
using arguments <code>bootstrap</code>,
<code>parallel</code>, <code>ncpus</code>, <code>cl</code>, and
<code>iseed</code>.'</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_std_z">std_z</code></td>
<td>
<p>Logical. If <code>TRUE</code> and
<code>std_se</code> is not set to <code>"none"</code>,
standard error will be computed
using the method specified in
<code>std_se</code>. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_std_pvalue">std_pvalue</code></td>
<td>
<p>Logical. If <code>TRUE</code>,
<code>std_se</code> is not set to <code>"none"</code>,
and <code>std_z</code> is <code>TRUE</code>, <em>p</em>-values
will be computed using the method
specified in <code>std_se</code>. For
bootstrapping, the method proposed by
Asparouhov and Muthén (2021) is used.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_std_ci">std_ci</code></td>
<td>
<p>Logical. If <code>TRUE</code> and
<code>std_se</code> is not set to <code>"none"</code>,
confidence intervals will be
computed using the method specified in
<code>std_se</code>. Default is <code>FALSE.</code></p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_level">level</code></td>
<td>
<p>The level of confidence
of the confidence intervals. Default
is .95. It will be used in the
confidence intervals of both
the unstandardized and
standardized solution.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_progress">progress</code></td>
<td>
<p>Logical. If <code>TRUE</code>,
progress bars will be displayed
for long process.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_boot_out">boot_out</code></td>
<td>
<p>If <code>std_se</code> is
<code>"bootstrap"</code> and this argument
is set to an output of
<code><a href="manymome.html#topic+do_boot">manymome::do_boot()</a></code>, its output
will be used in computing statistics
such as standard errors and
confidence intervals. This allows
users to use methods other than
bootstrapping when fitting the
model, while they can still request
bootstrapping for the standardized
solution.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_bootstrap">bootstrap</code></td>
<td>
<p>If <code>std_se</code> is
<code>"bootstrap"</code> but bootstrapping is
not requested when fitting the model
and <code>boot_out</code> is not set,
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code> will be
called to do bootstrapping. This
argument is the number of bootstrap
samples to draw. Default is 100.
Should be set to 5000 or even 10000
for stable results.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_store_boot_est">store_boot_est</code></td>
<td>
<p>Logical. If
<code>std_se</code> is <code>"bootstrap"</code> and this
argument is <code>TRUE</code>, the default,
the bootstrap estimates of the
standardized solution will be stored
in the attribute <code>"boot_est"</code>. These
estimates can be used for
diagnosis of the bootstrapping. If
<code>FALSE</code>, then the bootstrap estimates
will not be stored.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_parallel">parallel</code></td>
<td>
<p>If <code>std_se</code> is
<code>"bootstrap"</code> but bootstrapping is
not requested when fitting the model
and <code>boot_out</code> is not set,
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code> will be
called to do bootstrapping. This
argument is to be passed to
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code>. Default
is <code>"no"</code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_ncpus">ncpus</code></td>
<td>
<p>If <code>std_se</code> is
<code>"bootstrap"</code> but bootstrapping is
not requested when fitting the model
and <code>boot_out</code> is not set,
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code> will be
called to do bootstrapping. This
argument is to be passed to
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code>. Default
is <code>parallel::detectCores(logical = FALSE) - 1</code>.
Ignored if <code>parallel</code> is <code>"no"</code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_cl">cl</code></td>
<td>
<p>If <code>std_se</code> is
<code>"bootstrap"</code> but bootstrapping is
not requested when fitting the model
and <code>boot_out</code> is not set,
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code> will be
called to do bootstrapping. This
argument is to be passed to
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code>. Default
is <code>NULL</code>.
Ignored if <code>parallel</code> is <code>"no"</code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_iseed">iseed</code></td>
<td>
<p>If <code>std_se</code> is
<code>"bootstrap"</code> but bootstrapping is
not requested when fitting the model
and <code>boot_out</code> is not set,
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code> will be
called to do bootstrapping. This
argument is to be passed to
<code><a href="lavaan.html#topic+bootstrap">lavaan::bootstrapLavaan()</a></code> to set
the seed for the random resampling.
Default
is <code>NULL</code>. Should be set to an integer
for reproducible results.
Ignored if <code>parallel</code> is <code>"no"</code>.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_find_product_terms">find_product_terms</code></td>
<td>
<p>String.
If it is certain that a model does
not have product terms, setting this
to <code>FALSE</code> will skip the search, which
is time consuming for a models with
many paths and/or many variables.
Default is <code>TRUE</code>, and the function
will automatically identify product
terms, if any.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_...">...</code></td>
<td>
<p>Optional arguments to be
passed to the <code><a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates()</a></code>,
which will be use to generate the
output.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_delta_method">delta_method</code></td>
<td>
<p>The method used
to compute delta-method standard
errors. For internal use and should
not be changed.</p>
</td></tr>
<tr><td><code id="lav_betaselect_+3A_vector_form">vector_form</code></td>
<td>
<p>The internal
method used to compute standardized
solution. For internal use and should
not be changed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function lets users
select which variables to be standardized
when computing the standardized
solution. It has the following
features:
</p>

<ul>
<li><p> It automatically skips predictors
which has only two unique values,
assuming that they are dummy variables.
</p>
</li>
<li><p> It does not standardize product
term, which is incorrect. Instead,
it computes the product term with
its component variables standardized
first.
</p>
</li>
<li><p> It can be used to generate bootstrap
confidence intervals for the
standardized solution (Falk, 2018). Bootstrap
confidence interval is better than
doing standardization <em>before</em> fitting
a model because it correctly takes
into account the sampling variance
of the standard deviations. It is
also better than delta-method
confidence interval because it takes
into account the usually asymmetric
distribution of parameters after
standardization, such as standardized
loadings and correlations.
</p>
</li>
<li><p> For comparison, it can also report
delta-method standard errors and
confidence intervals if requested.
</p>
</li></ul>



<h4>Problems With Common Approaches</h4>

<p>In most SEM programs, users
have limited control on which
variables to standardize when
requesting the standardized solution.
The solution may be uninterpretable
or misleading in these conditions:
</p>

<ul>
<li><p> Dummy variables are standardized
and their coefficients cannot be interpreted as the
difference between two groups on the
outcome variables.
</p>
</li>
<li><p> Product terms (interaction terms)
are standardized and they cannot be
interpreted as the changes in the
effects of focal variables when the
moderators change (Cheung, Cheung,
Lau, Hui, &amp; Vong, 2022).
</p>
</li>
<li><p> Variables with meaningful units can
be more difficult to interpret when
they are standardized (e.g., age).
</p>
</li></ul>

<p>Moreover, the delta method is usually
used in standardization, which is suboptimal for
standardization unless the sample
size is large (Falk, 2018). For example, the
covariance with variables standardized
is a correlation, and its sampling
distribution is skewed unless its
population value is zero. However,
delta-method confidence interval
for the correlation is necessarily
symmetric around the point estimate.
</p>



<h4>Limitations</h4>


<ul>
<li><p> It only supports observed variable
interaction terms, and only support
two-way interactions.
</p>
</li>
<li><p> It does not support multilevel
models.
</p>
</li>
<li><p> It only supports models fitted to
raw data.
</p>
</li>
<li><p> Intercepts not supported.
</p>
</li></ul>




<h3>Value</h3>

<p>A <code>lav_betaselect</code>-class object,
which is a data frame storing the parameter
estimates, similar in form to the
output of <code><a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Asparouhov, A., &amp; Muthén, B. (2021). Bootstrap p-value computation.
Retrieved from https://www.statmodel.com/download/FAQ-Bootstrap%20-%20Pvalue.pdf
</p>
<p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N.
(2022) Improving an old way to measure moderation effect in standardized
units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188">doi:10.1037/hea0001188</a>
</p>
<p>Falk, C. F. (2018). Are robust standard errors the best approach
for interval estimation with nonnormal data in structural equation
modeling?
<em>Structural Equation Modeling: A Multidisciplinary Journal, 25</em>(2)
244-266. <a href="https://doi.org/10.1080/10705511.2017.1367254">doi:10.1080/10705511.2017.1367254</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.lav_betaselect">print.lav_betaselect()</a></code> for its print method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(lavaan)
mod &lt;-
"
med ~ iv + mod + iv:mod
dv ~ med + iv
"
fit &lt;- sem(mod,
           data_test_medmod,
           fixed.x = TRUE)
summary(fit)
fit_beta &lt;- lav_betaselect(fit,
                           to_standardize = c("iv", "dv"))
fit_beta
print(fit_beta, standardized_only = FALSE)

# In real studies:
# - should set bootstrap to at least 5000
# - should set parallel to "snow" or "multicore"
fit_beta_boot &lt;- lav_betaselect(fit,
                                to_standardize = c("iv", "dv"),
                                std_se = "bootstrap",
                                std_ci = TRUE,
                                bootstrap = 100,
                                iseed = 1234)
fit_beta_boot
print(fit_beta_boot, standardized_only = FALSE)

# Print full results
print(fit_beta_boot,
      standardized_only = FALSE)


</code></pre>

<hr>
<h2 id='lm_betaselect'>Betas-Select in a
Regression Model</h2><span id='topic+lm_betaselect'></span><span id='topic+glm_betaselect'></span><span id='topic+print.lm_betaselect'></span><span id='topic+print.glm_betaselect'></span><span id='topic+raw_output'></span>

<h3>Description</h3>

<p>Can fit a linear regression
models with selected variables standardized;
handle product terms correctly and
skip categorical predictors in
standardization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lm_betaselect(
  ...,
  to_standardize = NULL,
  not_to_standardize = NULL,
  skip_response = FALSE,
  do_boot = TRUE,
  bootstrap = 100L,
  iseed = NULL,
  parallel = FALSE,
  ncpus = parallel::detectCores(logical = FALSE) - 1,
  progress = TRUE,
  load_balancing = FALSE,
  model_call = c("lm", "glm")
)

glm_betaselect(
  ...,
  to_standardize = NULL,
  not_to_standardize = NULL,
  skip_response = FALSE,
  do_boot = TRUE,
  bootstrap = 100L,
  iseed = NULL,
  parallel = FALSE,
  ncpus = parallel::detectCores(logical = FALSE) - 1,
  progress = TRUE,
  load_balancing = FALSE
)

## S3 method for class 'lm_betaselect'
print(
  x,
  digits = max(3L, getOption("digits") - 3L),
  type = c("beta", "standardized", "raw", "unstandardized"),
  ...
)

## S3 method for class 'glm_betaselect'
print(
  x,
  digits = max(3L, getOption("digits") - 3L),
  type = c("beta", "standardized", "raw", "unstandardized"),
  ...
)

raw_output(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lm_betaselect_+3A_...">...</code></td>
<td>
<p>For <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>.
these arguments will be
passed directly to <code><a href="stats.html#topic+lm">lm()</a></code>. For
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>, these arguments
will be passed to <code><a href="stats.html#topic+glm">glm()</a></code>.
For
the <code>print</code>-method of <code>lm_betaselect</code>
or <code>glm_betaselect</code>
objects, this will be passed to
other methods.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_to_standardize">to_standardize</code></td>
<td>
<p>A string vector,
which should be the names of the
variables to be standardized.
Default is <code>NULL</code>, indicating all
variables are to be standardized.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_not_to_standardize">not_to_standardize</code></td>
<td>
<p>A string
vector, which should be the names
of the variables that should <em>not</em> be
standardized. This argument is useful
when most variables, except for a few,
are to be standardized. This argument
cannot be ued with <code>to_standardize</code>
at the same time. Default is <code>NULL</code>,
and only <code>to_standardize</code> is used.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_skip_response">skip_response</code></td>
<td>
<p>Logical. If
<code>TRUE</code>, will not standardize the
response (outcome) variable even if
it appears in <code>to_standardize</code> or
<code>to_standardize</code> is not specified.
Used for models such as logistic
regression models in which there are
some restrictions on the response
variables (e.g., only 0 or 1 for
logistic regression).</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_do_boot">do_boot</code></td>
<td>
<p>Whether bootstrapping
will be conducted. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_bootstrap">bootstrap</code></td>
<td>
<p>If <code>do_boot</code> is
<code>TRUE</code>, this argument is the number
of bootstrap samples to draw. Default
is 100. Should be set to 5000 or even
10000 for stable results.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_iseed">iseed</code></td>
<td>
<p>If <code>do_boot</code> is <code>TRUE</code>
and this argument is not <code>NULL</code>,
it will be used by <code><a href="base.html#topic+set.seed">set.seed()</a></code> to
set the seed for the random number
generator. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_parallel">parallel</code></td>
<td>
<p>If <code>do_boot</code> is
<code>TRUE</code> and this argument is <code>TRUE</code>,
parallel processing will be used to
do bootstrapping. Default is <code>FALSE</code>
because bootstrapping for models fitted
by <code><a href="stats.html#topic+lm">stats::lm()</a></code> or <code><a href="stats.html#topic+glm">stats::glm()</a></code> is rarely slow.
Actually, if both <code>parallel</code> and
<code>progress</code> are set to <code>TRUE</code>, the
speed may even be slower than serial
processing.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_ncpus">ncpus</code></td>
<td>
<p>If <code>do_boot</code> is <code>TRUE</code>
and <code>parallel</code> is also <code>TRUE</code>, this
argument is the number of processes
to be used in parallel processing.
Default
is <code>parallel::detectCores(logical = FALSE) - 1</code></p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_progress">progress</code></td>
<td>
<p>Logical. If <code>TRUE</code>,
progress bars will be displayed
for long process. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_load_balancing">load_balancing</code></td>
<td>
<p>Logical. If
<code>parallel</code> is <code>TRUE</code>, this determines
whether load balancing will be used.
Default is <code>FALSE</code> because the gain
in speed is usually minor.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_model_call">model_call</code></td>
<td>
<p>The model function
to be called.
If <code>"lm"</code>, the default, the model will be fitted
by <code><a href="stats.html#topic+lm">stats::lm()</a></code>. If <code>"glm"</code>, the
model will be fitted by <code><a href="stats.html#topic+glm">stats::glm()</a></code>.
Users should call the corresponding
function directly rather than setting
this argument manually.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_x">x</code></td>
<td>
<p>An <code>lm_betaselect</code> or
<code>glm_betaselect</code> object.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_digits">digits</code></td>
<td>
<p>The number of significant
digits to be printed for the
coefficients.</p>
</td></tr>
<tr><td><code id="lm_betaselect_+3A_type">type</code></td>
<td>
<p>The coefficients to be
printed. For <code>"beta"</code> or
<code>"standardized"</code>, the coefficients
after selected variables standardized
will be printed. For <code>"raw"</code> or
<code>"unstandardized"</code>, the coefficients
before standardization was done will
be printed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
and <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
let users
select which variables to be
standardized when computing the
standardized solution. They have the
following features:
</p>

<ul>
<li><p> They automatically skip categorical
predictors (i.e., factor or string
variables).
</p>
</li>
<li><p> They do not standardize a product
term, which is incorrect. Instead,
they
compute the product term with its
component variables standardized,
if requested.
</p>
</li>
<li><p> They standardize the selected
variables <em>before</em> fitting a model.
Therefore, If a model has the term
<code>log(x)</code> and <code>x</code> is one of the
selected variables, the model used
the logarithm of the <em>standardized</em>
<code>x</code> in the model, instead of
standardized <code>log(x)</code> which is
difficult to interpret.
</p>
</li>
<li><p> They can be used to generate
nonparametric
bootstrap confidence intervals for
the standardized solution. Bootstrap
confidence interval is better than
the default confidence interval
ignoring the standardization
because it
takes into account the sampling
variance of the standard deviations.
Preliminary support for bootstrap
confidence has been found
for forming confidence intervals for
coefficients involving standardized
variables in linear regression
(Jones &amp; Waller, 2013).
</p>
</li></ul>



<h4>Problems With Common Approaches</h4>

<p>In some regression programs, users
have limited control on which
variables to standardize when
requesting the so-called &quot;betas&quot;.
The solution may be uninterpretable
or misleading in these conditions:
</p>

<ul>
<li><p> Dummy variables are standardized
and their coefficients cannot be interpreted as the
difference between two groups on the
outcome variables.
</p>
</li>
<li><p> Product terms (interaction terms)
are standardized and they cannot be
interpreted as the changes in the
effects of focal variables when the
moderators change (Cheung, Cheung,
Lau, Hui, &amp; Vong, 2022).
</p>
</li>
<li><p> Variables with meaningful units can
be more difficult to interpret when
they are standardized (e.g., age).
</p>
</li></ul>




<h4>How The Function Work</h4>

<p>They standardize the original variables
<em>before</em> they are used in the
model. Therefore, strictly
speaking, they do not standardize
the predictors in model,
but standardize the <em>input variable</em>
(Gelman et al., 2021).
</p>
<p>The requested model is then fitted to
the dataset with selected variables
standardized. For the ease of
follow-up analysis, both the results
with selected variables standardized
and the results without
standardization are stored. If
required, the results without
standardization can be retrieved
by <code><a href="#topic+raw_output">raw_output()</a></code>.
</p>



<h4>Methods</h4>

<p>The output of <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> is
an <code>lm_betaselect</code>-class object,
and the output of <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
is a <code>glm_betaselect</code>-class object.
They have the following methods:
</p>

<ul>
<li><p> A <code>coef</code>-method for extracting
the coefficients of the model.
(See <code><a href="#topic+coef.lm_betaselect">coef.lm_betaselect()</a></code>
and <code><a href="#topic+coef.glm_betaselect">coef.glm_betaselect()</a></code>
for details.)
</p>
</li>
<li><p> A <code>vcov</code>-method for extracting the
variance-covariance matrix of the
estimates of the coefficients.
If bootstrapping is requested, it
can return the matrix based on the
bootstrapping estimates.
(See <code><a href="#topic+vcov.lm_betaselect">vcov.lm_betaselect()</a></code>
and <code><a href="#topic+vcov.glm_betaselect">vcov.glm_betaselect()</a></code>
for details.)
</p>
</li>
<li><p> A <code>confint</code>-method for forming the
confidence intervals of the
estimates of the coefficients.
If bootstrapping is requested, it
can return the bootstrap confidence
intervals.
(See <code><a href="#topic+confint.lm_betaselect">confint.lm_betaselect()</a></code> and
<code><a href="#topic+confint.glm_betaselect">confint.glm_betaselect()</a></code>
for details.)
</p>
</li>
<li><p> A <code>summary</code>-method for printing the
summary of the results, with additional
information such as the number of
bootstrap samples and which variables
have been standardized.
(See <code><a href="#topic+summary.lm_betaselect">summary.lm_betaselect()</a></code> and
<code><a href="#topic+summary.glm_betaselect">summary.glm_betaselect()</a></code>
for details.)
</p>
</li>
<li><p> An <code>anova</code>-method for printing the
ANOVA table. Can also be used to
compare two or more outputs of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
(See <code><a href="#topic+anova.glm_betaselect">anova.glm_betaselect()</a></code>
and <code><a href="#topic+anova.glm_betaselect">anova.glm_betaselect()</a></code>
for details.)
</p>
</li>
<li><p> A <code>predict</code>-method for computing
predicted values. It can be used to
compute the predicted values given
a set of new unstandardized data.
The data will be standardized before
computing the predicted values in
the models with standardization.
(See <code><a href="#topic+predict.lm_betaselect">predict.lm_betaselect()</a></code> and
<code><a href="#topic+predict.glm_betaselect">predict.glm_betaselect()</a></code>
for details.)
</p>
</li>
<li><p> The default <code>update</code>-method for updating
a call also works for an
<code>lm_betaselect</code> object or
a <code>glm_betaselect()</code> object. It can
update the model in the same
way it updates a model fitted by
<code><a href="stats.html#topic+lm">stats::lm()</a></code> or <code><a href="stats.html#topic+glm">stats::glm()</a></code>,
and also update
the arguments of <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
or <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
such as the variables to be
standardized.
(See <code><a href="stats.html#topic+update">stats::update()</a></code> for details.)
</p>
</li></ul>

<p>Most other methods for the output
of <code><a href="stats.html#topic+lm">stats::lm()</a></code> and <code><a href="stats.html#topic+glm">stats::glm()</a></code>
should also work
on an <code>lm_betaselect</code>-class object
or a <code>glm_betaselect</code>-class object,
respectively.
Some of them will give the same
results regardless of the variables
standardized. Examples are
<code><a href="stats.html#topic+rstandard">rstandard()</a></code> and <code><a href="stats.html#topic+cooks.distance">cooks.distance()</a></code>.
For some others, they should be used
with cautions if they make use of
the variance-covariance matrix
of the estimates.
</p>
<p>To use the methods for <code>lm</code> objects
or <code>glm</code> objects
on the results without standardization,
simply use <code><a href="#topic+raw_output">raw_output()</a></code>. For example,
to get the fitted values without
standardization, call
<code>fitted(raw_output(x))</code>, where <code>x</code>
is the output of <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
or <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.
</p>

<p>The function <code><a href="#topic+raw_output">raw_output()</a></code> simply extracts
the regression output by <code><a href="stats.html#topic+lm">stats::lm()</a></code>
or <code><a href="stats.html#topic+glm">stats::glm()</a></code>
on the variables without standardization.
</p>


<h3>Value</h3>

<p>The function <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
returns an object of the class <code>lm_betaselect</code>,
The function <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
returns an object of the class
<code>glm_betaselect</code>. They are similar
in structure to the output of
<code><a href="stats.html#topic+lm">stats::lm()</a></code> and <code><a href="stats.html#topic+glm">stats::glm()</a></code>,
with additional information stored.
</p>
<p>The function <code><a href="#topic+raw_output">raw_output()</a></code> returns
an object of the class <code>lm</code> or
<code>glm</code>, which are
the results of fitting the model
to the data by <code><a href="stats.html#topic+lm">stats::lm()</a></code>
or <code><a href="stats.html#topic+glm">stats::glm()</a></code> without
standardization.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N.
(2022) Improving an old way to measure moderation effect in standardized
units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188">doi:10.1037/hea0001188</a>
</p>
<p>Craig, C. C. (1936). On the frequency function of xy.
<em>The Annals of Mathematical Statistics, 7</em>(1),
1&ndash;15. <a href="https://doi.org/10.1214/aoms/1177732541">doi:10.1214/aoms/1177732541</a>
</p>
<p>Gelman, A., Hill, J., &amp; Vehtari, A. (2021).
<em>Regression and other stories</em>.
Cambridge University Press.
<a href="https://doi.org/10.1017/9781139161879">doi:10.1017/9781139161879</a>
</p>
<p>Jones, J. A., &amp; Waller, N. G. (2013). Computing confidence
intervals for standardized regression coefficients.
<em>Psychological Methods, 18</em>(4), 435&ndash;453.
<a href="https://doi.org/10.1037/a0033269">doi:10.1037/a0033269</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.lm_betaselect">print.lm_betaselect()</a></code> and
<code><a href="#topic+print.glm_betaselect">print.glm_betaselect()</a></code> for the
<code>print</code>-methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

# Standardize only iv

lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                           data = data_test_mod_cat,
                           to_standardize = "iv")
lm_beta_x
summary(lm_beta_x)

# Manually standardize iv and call lm()

data_test_mod_cat$iv_z &lt;- scale(data_test_mod_cat[, "iv"])[, 1]

lm_beta_x_manual &lt;- lm(dv ~ iv_z*mod + cov1 + cat1,
                       data = data_test_mod_cat)

coef(lm_beta_x)
coef(lm_beta_x_manual)

# Standardize all numeric variables

lm_beta_all &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                             data = data_test_mod_cat)
# Note that cat1 is not standardized
summary(lm_beta_all)


data(data_test_mod_cat)

data_test_mod_cat$p &lt;- scale(data_test_mod_cat$dv)[, 1]
data_test_mod_cat$p &lt;- ifelse(data_test_mod_cat$p &gt; 0,
                              yes = 1,
                              no = 0)
# Standardize only iv
logistic_beta_x &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                  family = binomial,
                                  data = data_test_mod_cat,
                                  to_standardize = "iv")
summary(logistic_beta_x)

logistic_beta_x
summary(logistic_beta_x)

# Manually standardize iv and call glm()

data_test_mod_cat$iv_z &lt;- scale(data_test_mod_cat[, "iv"])[, 1]

logistic_beta_x_manual &lt;- glm(p ~ iv_z*mod + cov1 + cat1,
                              family = binomial,
                              data = data_test_mod_cat)

coef(logistic_beta_x)
coef(logistic_beta_x_manual)

# Standardize all numeric predictors

logistic_beta_allx &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                     family = binomial,
                                     data = data_test_mod_cat,
                                     to_standardize = c("iv", "mod", "cov1"))
# Note that cat1 is not standardized
summary(logistic_beta_allx)


summary(raw_output(lm_beta_x))

</code></pre>

<hr>
<h2 id='predict.glm_betaselect'>Predict Method for a 'glm_betaselect' Object</h2><span id='topic+predict.glm_betaselect'></span>

<h3>Description</h3>

<p>Compute the predicted
values in a model fitted by
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glm_betaselect'
predict(
  object,
  model_type = c("beta", "standardized", "raw", "unstandardized"),
  newdata,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.glm_betaselect_+3A_object">object</code></td>
<td>
<p>A <code>glm_betaselect</code>-class
object.</p>
</td></tr>
<tr><td><code id="predict.glm_betaselect_+3A_model_type">model_type</code></td>
<td>
<p>The model from which the
the predicted values are computed.
For
<code>"beta"</code> or <code>"standardized"</code>, the
model is the one after selected
variables standardized. For <code>"raw"</code>
or <code>"unstandardized"</code>, the model is
the one before standardization was
done.</p>
</td></tr>
<tr><td><code id="predict.glm_betaselect_+3A_newdata">newdata</code></td>
<td>
<p>If set to a data
frame, the predicted values are
computed using this data frame.
The data must be unstandardized.
That is, the variables are of the
same units as in the data frame
used in <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>. If
<code>model_type</code> is <code>"beta"</code> or
<code>"standardized"</code>, it will be
standardized using the setting
of <code>to_standardize</code> when <code>object</code>
is created in <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="predict.glm_betaselect_+3A_...">...</code></td>
<td>
<p>Arguments
to be passed to <code><a href="stats.html#topic+predict.glm">stats::predict.glm()</a></code>.
Please refer to the help page of
<code><a href="stats.html#topic+predict.glm">stats::predict.glm()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It simply passes the model <em>before</em>
or <em>after</em> selected variables
are standardized to the
<code>predict</code>-method of a <code>glm</code> object.
</p>


<h4>IMPORTANT</h4>

<p>Some statistics, such as prediction
or confidence interval, which make use
of the sampling variances and
covariances of coefficient estimates
<em>may</em> not be applicable to the
models with one or more variables
standardized. Therefore, they should
only be used for exploratory purpose.
</p>



<h3>Value</h3>

<p>It returns the output of <code><a href="stats.html#topic+predict.glm">stats::predict.glm()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glm_betaselect">glm_betaselect()</a></code> and <code><a href="stats.html#topic+predict.glm">stats::predict.glm()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_test_mod_cat$p &lt;- scale(data_test_mod_cat$dv)[, 1]
data_test_mod_cat$p &lt;- ifelse(data_test_mod_cat$p &gt; 0,
                              yes = 1,
                              no = 0)
logistic_beta_x &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                  data = data_test_mod_cat,
                                  family = binomial,
                                  to_standardize = "iv")

predict(logistic_beta_x)
predict(logistic_beta_x, model_type = "raw")

</code></pre>

<hr>
<h2 id='predict.lm_betaselect'>Predict Method for an 'lm_betaselect' Object</h2><span id='topic+predict.lm_betaselect'></span>

<h3>Description</h3>

<p>Compute the predicted
values in a model fitted by
<code>lm_betaselect()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm_betaselect'
predict(
  object,
  model_type = c("beta", "standardized", "raw", "unstandardized"),
  newdata,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.lm_betaselect_+3A_object">object</code></td>
<td>
<p>An <code>lm_betaselect</code>-class
object.</p>
</td></tr>
<tr><td><code id="predict.lm_betaselect_+3A_model_type">model_type</code></td>
<td>
<p>The model from which the
the predicted values are computed.
For
<code>"beta"</code> or <code>"standardized"</code>, the
model is the one after selected
variables standardized. For <code>"raw"</code>
or <code>"unstandardized"</code>, the model is
the one before standardization was
done.</p>
</td></tr>
<tr><td><code id="predict.lm_betaselect_+3A_newdata">newdata</code></td>
<td>
<p>If set to a data
frame, the predicted values are
computed using this data frame.
The data must be unstandardized.
That is, the variables are of the
same units as in the data frame
used in <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>. If
<code>model_type</code> is <code>"beta"</code> or
<code>"standardized"</code>, it will be
standardized using the setting
of <code>to_standardize</code> when <code>object</code>
is created in <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="predict.lm_betaselect_+3A_...">...</code></td>
<td>
<p>Arguments
to be passed to <code><a href="stats.html#topic+predict.lm">stats::predict.lm()</a></code>.
Please refer to the help page of
<code><a href="stats.html#topic+predict.lm">stats::predict.lm()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It simply passes the model <em>before</em>
or <em>after</em> selected variables
are standardized to the
<code>predict</code>-method of an <code>lm</code> object.
</p>


<h4>IMPORTANT</h4>

<p>Some statistics, such as prediction
or confidence interval, which make use
of the sampling variances and
covariances of coefficient estimates
<em>may</em> not be applicable to the
models with one or more variables
standardized. Therefore, they should
only be used for exploratory purpose.
</p>



<h3>Value</h3>

<p>It returns the output of <code><a href="stats.html#topic+predict.lm">stats::predict.lm()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> and <code><a href="stats.html#topic+predict.lm">stats::predict.lm()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                           data = data_test_mod_cat,
                           to_standardize = "iv")
predict(lm_beta_x)
predict(lm_beta_x, model_type = "raw")

</code></pre>

<hr>
<h2 id='print.lav_betaselect'>Print a 'lav_betaselect' Object</h2><span id='topic+print.lav_betaselect'></span>

<h3>Description</h3>

<p>Print method for a
'lav_betaselect' object, which
is the output of
<code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lav_betaselect'
print(
  x,
  ...,
  nd = 3,
  output = c("lavaan.printer", "table"),
  standardized_only = TRUE,
  show_Bs.by = FALSE,
  by_group = TRUE,
  na_str = " ",
  sig_stars = TRUE,
  ci_sig = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.lav_betaselect_+3A_x">x</code></td>
<td>
<p>A <code>lav_betaselect</code>-class
object, such as the output of
<code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_...">...</code></td>
<td>
<p>Optional arguments to be
passed to <code><a href="base.html#topic+print">print()</a></code> methods.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_nd">nd</code></td>
<td>
<p>The number of digits
after the decimal place. Default
is 3.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_output">output</code></td>
<td>
<p>String. How the results
are printed. Default is <code>"lavaan.printer"</code>,
and the results will be
printed in a format similar to
the printout of the output of
the <code>summary</code>-method of a
'lavaan'-class object.
If set to <code>"table"</code>, the results are
printed in a table
format similar to that of
<code><a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates()</a></code>
with <code>output</code> set to <code>"data.frame"</code>.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_standardized_only">standardized_only</code></td>
<td>
<p>Logical.
If <code>TRUE</code>, the default, only the
results for the standardized solution
will be printed. If <code>FALSE</code>,
then
the standardized solution is printed
alongside the unstandardized solution,
as in the printout of the output
of <code><a href="base.html#topic+summary">summary()</a></code> of a 'lavaan'-class
object.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_show_bs.by">show_Bs.by</code></td>
<td>
<p>Logical. If <code>TRUE</code>
and <code>output</code> is <code>"lavaan.printer"</code>, then the
column <code>"Bs.by"</code> is shown,
indicating, for each parameter, the
variables standardized.
This column is not shown if <code>output</code>
is not <code>"lavaan.printer"</code>.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_by_group">by_group</code></td>
<td>
<p>If <code>TRUE</code>, the
default, and the model has more than
one group, sections will be grouped
by groups first, as in the print
out of <code>summary()</code> in <code>lavaan</code>.
If <code>FALSE</code>, then the sections will
be grouped by sections first.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_na_str">na_str</code></td>
<td>
<p>The string to be used
for cells with <code>NA</code>. Default is
<code>" "</code>, a whitespace.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_sig_stars">sig_stars</code></td>
<td>
<p>If <code>TRUE</code>, the
default, symbols such as asterisks
(<code>*</code>, <code style="white-space: pre;">&#8288;**&#8288;</code>, <code style="white-space: pre;">&#8288;***&#8288;</code>) will be used to
denote whether a beta-select is
significant.</p>
</td></tr>
<tr><td><code id="print.lav_betaselect_+3A_ci_sig">ci_sig</code></td>
<td>
<p>If <code>TRUE</code>, the default,
a beta-select will be denoted as
significant or not significant based
on its confidence interval.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default format of the printout,
<code>"lavaan.printer"</code>,
is similar to that of the <code>summary()</code>
of a <code>lavaan</code> object.
Users can also select whether
only the standardized solution is
printed or whether
the standardized solution is appended
to the right of the printout.
</p>
<p>If <code>output</code> is set to <code style="white-space: pre;">&#8288;"table"' the format is that of [lavaan::parameterEstimates()] with &#8288;</code>output = &quot;data.frame&quot;',
which is compact but not easy to
read.
</p>


<h3>Value</h3>

<p><code>x</code> is returned invisibly. Called for its side effect.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung
<a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lav_betaselect">lav_betaselect()</a></code>. This
function is adapted from
<code><a href="semhelpinghands.html#topic+print.std_solution_boot">semhelpinghands::print.std_solution_boot()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(lavaan)
mod &lt;-
"
med ~ iv + mod + iv:mod
dv ~ med + iv
"
fit &lt;- sem(mod,
           data_test_medmod,
           fixed.x = TRUE)
summary(fit)
fit_beta &lt;- lav_betaselect(fit,
                           to_standardize = c("iv", "dv"))
fit_beta
print(fit_beta)
print(fit_beta, show_Bs.by = TRUE)
print(fit_beta, output = "table")

</code></pre>

<hr>
<h2 id='std_data'>Standardize Selected Variables</h2><span id='topic+std_data'></span>

<h3>Description</h3>

<p>Standardize selected
variables in a data frame or similar
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>std_data(data, to_standardize)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="std_data_+3A_data">data</code></td>
<td>
<p>A data frame or similar
object.</p>
</td></tr>
<tr><td><code id="std_data_+3A_to_standardize">to_standardize</code></td>
<td>
<p>A character
vector of the column names of
variables to be standardized.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a helper functions
to be used by <code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
and <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>. It
assumes that the variables selected
has been checked whether they are
numeric.
</p>


<h3>Value</h3>

<p>A data frame similar to <code>data</code>,
with selected variables standardized.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)
dat &lt;- data_test_mod_cat
dat &lt;- std_data(dat, to_standardize = c("iv", "dv"))
colMeans(dat[, c("dv", "iv")])
apply(dat[, c("dv", "iv")], 2, sd)

</code></pre>

<hr>
<h2 id='summary.glm_betaselect'>Summary of an
'glm_betaselect'-Class Object</h2><span id='topic+summary.glm_betaselect'></span><span id='topic+print.summary.glm_betaselect'></span>

<h3>Description</h3>

<p>The <code>summary</code> method
for <code>glm_betaselect</code>-class objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glm_betaselect'
summary(
  object,
  dispersion = NULL,
  correlation = FALSE,
  symbolic.cor = FALSE,
  trace = FALSE,
  test = c("LRT", "Rao"),
  se_method = c("boot", "bootstrap", "z", "glm", "default"),
  ci = TRUE,
  level = 0.95,
  boot_type = c("perc", "bc"),
  boot_pvalue_type = c("asymmetric", "norm"),
  type = c("beta", "standardized", "raw", "unstandardized"),
  print_raw = c("none", "before_ci", "after_ci"),
  transform_b = NULL,
  transform_b_name = NULL,
  ...
)

## S3 method for class 'summary.glm_betaselect'
print(
  x,
  est_digits = 3,
  symbolic.cor = x$symbolic.cor,
  signif.stars = getOption("show.signif.stars"),
  show.residuals = FALSE,
  z_digits = 3,
  pvalue_less_than = 0.001,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.glm_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_dispersion">dispersion</code></td>
<td>
<p>The dispersion
parameter. If <code>NULL</code>, then it is
extracted from the object. If
a scalar, it will be used as
the dispersion parameter. See
<code><a href="stats.html#topic+summary.glm">stats::summary.glm()</a></code> for details.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_correlation">correlation</code></td>
<td>
<p>If <code>TRUE</code>, the
correlation matrix of the estimates
will be returned. The same argument
in <code><a href="stats.html#topic+summary.glm">stats::summary.glm()</a></code>. Default
is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_symbolic.cor">symbolic.cor</code></td>
<td>
<p>If <code>TRUE</code>,
correlations are printed in symbolic
form as in <code><a href="stats.html#topic+summary.glm">stats::summary.glm()</a></code>.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_trace">trace</code></td>
<td>
<p>Logical. Whether
profiling will be traced when forming
the confidence interval if
<code>se_method</code> is <code>"default"</code>, <code>"z"</code>, or
<code>"glm"</code>. Ignored if <code>ci</code> is <code>FALSE</code>.
See <code><a href="stats.html#topic+confint">stats::confint.glm()</a></code> for
details.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_test">test</code></td>
<td>
<p>The test used for
<code>se_method</code> is <code>"default"</code>, <code>"z"</code>, or
<code>"glm"</code>. Ignored if <code>ci</code> is <code>FALSE</code>.
See <code><a href="stats.html#topic+confint">stats::confint.glm()</a></code> for
details.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_se_method">se_method</code></td>
<td>
<p>The method used to
compute the standard errors and
confidence intervals (if requested).
If bootstrapping was
requested when calling
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code> and this argument
is set to <code>"bootstrap"</code> or <code>"boot"</code>,
the bootstrap standard errors are
returned. If bootstrapping
was not requested or if this argument
is set to <code>"z"</code>, <code>"glm"</code>, or <code>"default"</code>,
then the usual <code>glm</code>
standard errors are
returned.
Default is <code>"boot"</code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_ci">ci</code></td>
<td>
<p>Logical. Whether
confidence intervals are computed.
Default is <code>FALSE.</code></p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_level">level</code></td>
<td>
<p>The level of confidence,
default is .95, returning the 95%
confidence interval.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_boot_type">boot_type</code></td>
<td>
<p>The type of
bootstrap confidence intervals,
if requested.
Currently, it supports <code>"perc"</code>,
percentile bootstrap confidence
intervals, and <code>"bc"</code>, bias-corrected
bootstrap confidence interval.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_boot_pvalue_type">boot_pvalue_type</code></td>
<td>
<p>The type
of <em>p</em>-values if <code>se_method</code> is
<code>"boot"</code> or <code>"bootstrap"</code>. If <code>"norm"</code>,
then the <em>z</em> score is used to compute
the <em>p</em>-value using a
standard normal distribution.
If <code>"asymmetric"</code>, the default, then
the method presented in
Asparouhov and Muthén (2021) is used
to compute the <em>p</em>-value based on the
bootstrap distribution.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_type">type</code></td>
<td>
<p>String. If
<code>"unstandardized"</code> or <code>"raw"</code>, the
output <em>before</em> standardization
are used If <code>"beta"</code> or
<code>"standardized"</code>, then the
output <em>after</em> selected
variables standardized are returned.
Default is <code>"beta"</code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_print_raw">print_raw</code></td>
<td>
<p>Control whether
the estimates before selected
standardization are printed when
<code>type</code> is <code>"beta"</code> or <code>"standardized"</code>.
If <code>"none"</code>, the default, then it
will not be printed. If set to <code>"before_ci"</code>
and <code>ci</code> is <code>TRUE</code>, then will be
inserted to the left of the confidence
intervals. If set to &quot;after_ci&quot;<code>and</code>ci<code>is</code>TRUE<code style="white-space: pre;">&#8288;, then will be printed to the right of the confidence intervals. If &#8288;</code>ci<code>is</code>FALSE', then will
be printed to the right of the
standardized estimates.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_transform_b">transform_b</code></td>
<td>
<p>The function
to be used to transform the
confidence limits. For example,
if set to <code>exp</code>, the confidence
limits will be exponentiated. Users
need to decide whether the transformed
limits are meaningful. Default is
<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_transform_b_name">transform_b_name</code></td>
<td>
<p>If
<code>transform_b</code> is a function, then
this is the name of the transformed
coefficients. Default is
<code>"Estimate(Transformed)"</code></p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_...">...</code></td>
<td>
<p>Additional arguments
passed to other methods.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_x">x</code></td>
<td>
<p>The output of
<code><a href="#topic+summary.glm_betaselect">summary.glm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_est_digits">est_digits</code></td>
<td>
<p>The number of
digits after the decimal to be
displayed for the coefficient
estimates, their standard errors, and
confidence intervals (if present).
Note that the values will be rounded
to this number of digits before
printing. If all digits at this
position are zero for all values, the
values may be displayed with fewer
digits. Note that the coefficient
table is printed by
<code><a href="stats.html#topic+printCoefmat">stats::printCoefmat()</a></code>. If some
numbers are vary large, the number of
digits after the decimal may be
smaller than <code>est_digits</code> due to a
limit on the column width.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_signif.stars">signif.stars</code></td>
<td>
<p>Whether &quot;stars&quot;
(asterisks) are printed to denote
the level of significance achieved
for each coefficient. Default is
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_show.residuals">show.residuals</code></td>
<td>
<p>If <code>TRUE</code>,
a summary of the deviance residuals
will be printed. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_z_digits">z_digits</code></td>
<td>
<p>The number of digits
after the decimal to be displayed for
the <em>z</em> or similar statistic (in the
column <code>"z value"</code>).</p>
</td></tr>
<tr><td><code id="summary.glm_betaselect_+3A_pvalue_less_than">pvalue_less_than</code></td>
<td>
<p>If a
<em>p</em>-value is less than this value, it
will be displayed with <code style="white-space: pre;">&#8288;"&lt;(this value)".&#8288;</code> For example, if
<code>pvalue_less_than</code> is .001, the
default, <em>p</em>-values less than .001
will be displayed as <code style="white-space: pre;">&#8288;&lt;.001&#8288;</code>. This
value also determines the printout of
the <em>p</em>-value of the <em>F</em> statistic.
(This argument does what <code>eps.Pvalue</code>
does in <code><a href="stats.html#topic+printCoefmat">stats::printCoefmat()</a></code>.)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, it returns a
<code>summary.glm_betaselect</code>-class object
for the results with selected variables
standardized. By setting <code>type</code> to
<code>"raw"</code> or <code>"unstandardized"</code>, it
returns the summary for the results
<em>before</em> standardization.
</p>
<p>The <code>print</code> method of
<code>summary.glm_betaselect</code>-class objects
is adapted from
<code><a href="stdmod.html#topic+print.summary.std_selected">stdmod::print.summary.std_selected()</a></code>.
</p>


<h3>Value</h3>

<p>It returns an object of class
<code>summary.glm_betaselect</code>, which is
similar to the output of
<code><a href="stats.html#topic+summary.glm">stats::summary.glm()</a></code>, with additional
information on the standardization
and bootstrapping, if requested.
</p>
<p>The <code>print</code>-method of
<code>summary.glm_betaselect</code> is called
for its side effect. The object <code>x</code>
is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Asparouhov, A., &amp; Muthén, B. (2021). Bootstrap p-value computation.
Retrieved from https://www.statmodel.com/download/FAQ-Bootstrap%20-%20Pvalue.pdf
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_test_mod_cat$p &lt;- scale(data_test_mod_cat$dv)[, 1]
data_test_mod_cat$p &lt;- ifelse(data_test_mod_cat$p &gt; 0,
                              yes = 1,
                              no = 0)
# bootstrap should be set to 2000 or 5000 in real studies
logistic_beta_x &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                  data = data_test_mod_cat,
                                  family = binomial,
                                  to_standardize = "iv",
                                  do_boot = TRUE,
                                  bootstrap = 100,
                                  iseed = 1234)
summary(logistic_beta_x)

</code></pre>

<hr>
<h2 id='summary.lm_betaselect'>Summary of an
'lm_betaselect'-Class Object</h2><span id='topic+summary.lm_betaselect'></span><span id='topic+print.summary.lm_betaselect'></span>

<h3>Description</h3>

<p>The <code>summary</code> method
for <code>lm_betaselect</code>-class objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm_betaselect'
summary(
  object,
  correlation = FALSE,
  symbolic.cor = FALSE,
  se_method = c("boot", "bootstrap", "t", "lm", "ls"),
  ci = TRUE,
  level = 0.95,
  boot_type = c("perc", "bc"),
  boot_pvalue_type = c("asymmetric", "norm"),
  type = c("beta", "standardized", "raw", "unstandardized"),
  print_raw = c("none", "before_ci", "after_ci"),
  ...
)

## S3 method for class 'summary.lm_betaselect'
print(
  x,
  est_digits = 3,
  symbolic.cor = x$symbolic.cor,
  signif.stars = getOption("show.signif.stars"),
  tz_digits = 3,
  pvalue_less_than = 0.001,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.lm_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_correlation">correlation</code></td>
<td>
<p>If <code>TRUE</code>, the
correlation matrix of the estimates
will be returned. The same argument
in <code><a href="stats.html#topic+summary.lm">stats::summary.lm()</a></code>. Default
is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_symbolic.cor">symbolic.cor</code></td>
<td>
<p>If <code>TRUE</code>,
correlations are printed in symbolic
form as in <code><a href="stats.html#topic+summary.lm">stats::summary.lm()</a></code>.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_se_method">se_method</code></td>
<td>
<p>The method used to
compute the standard errors and
confidence intervals (if requested).
If bootstrapping was
requested when calling
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> and this argument
is set to <code>"bootstrap"</code> or <code>"boot"</code>,
the bootstrap standard errors are
returned. If bootstrapping
was not requested or if this argument
is set to <code>"t"</code>, <code>"lm"</code>, or <code>"ls"</code>,
then the usual <code>lm</code>
standard errors are
returned.
Default is <code>"boot"</code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_ci">ci</code></td>
<td>
<p>Logical. Whether
confidence intervals are computed.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_level">level</code></td>
<td>
<p>The level of confidence,
default is .95, returning the 95%
confidence interval.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_boot_type">boot_type</code></td>
<td>
<p>The type of
bootstrap confidence intervals,
if requested.
Currently, it supports <code>"perc"</code>,
percentile bootstrap confidence
intervals, and <code>"bc"</code>, bias-corrected
bootstrap confidence interval.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_boot_pvalue_type">boot_pvalue_type</code></td>
<td>
<p>The type
of <em>p</em>-values if <code>se_method</code> is
<code>"boot"</code> or <code>"bootstrap"</code>. If <code>"norm"</code>,
then the <em>z</em> score is used to compute
the <em>p</em>-value using a
standard normal distribution.
If <code>"asymmetric"</code>, the default, then
the method presented in
Asparouhov and Muthén (2021) is used
to compute the <em>p</em>-value based on the
bootstrap distribution.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_type">type</code></td>
<td>
<p>String. If
<code>"unstandardized"</code> or <code>"raw"</code>, the
output <em>before</em> standardization
are used If <code>"beta"</code> or
<code>"standardized"</code>, then the
output <em>after</em> selected
variables standardized are returned.
Default is <code>"beta"</code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_print_raw">print_raw</code></td>
<td>
<p>Control whether
the estimates before selected
standardization are printed when
<code>type</code> is <code>"beta"</code> or <code>"standardized"</code>.
If <code>"none"</code>, the default, then it
will not be printed. If set to <code>"before_ci"</code>
and <code>ci</code> is <code>TRUE</code>, then will be
inserted to the left of the confidence
intervals. If set to &quot;after_ci&quot;<code>and</code>ci<code>is</code>TRUE<code style="white-space: pre;">&#8288;, then will be printed to the right of the confidence intervals. If &#8288;</code>ci<code>is</code>FALSE', then will
be printed to the right of the
standardized estimates.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_...">...</code></td>
<td>
<p>Additional arguments
passed to other methods.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_x">x</code></td>
<td>
<p>The output of
<code><a href="#topic+summary.lm_betaselect">summary.lm_betaselect()</a></code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_est_digits">est_digits</code></td>
<td>
<p>The number of
digits after the decimal to be
displayed for the coefficient
estimates, their standard errors, and
confidence intervals (if present).
Note that the values will be rounded
to this number of digits before
printing. If all digits at this
position are zero for all values, the
values may be displayed with fewer
digits. Note that the coefficient
table is printed by
<code><a href="stats.html#topic+printCoefmat">stats::printCoefmat()</a></code>. If some
numbers are vary large, the number of
digits after the decimal may be
smaller than <code>est_digits</code> due to a
limit on the column width. This value
also determines the number of digits
for displayed R-squared.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_signif.stars">signif.stars</code></td>
<td>
<p>Whether &quot;stars&quot;
(asterisks) are printed to denote
the level of significance achieved
for each coefficient. Default is
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_tz_digits">tz_digits</code></td>
<td>
<p>The number of digits
after the decimal to be displayed for
the <em>t</em> or similar statistic (in the
column <code>"t value"</code> or <code>"z value"</code>).
This value also determines the number
of digits for the <em>F</em> statistic for
the R-squared.</p>
</td></tr>
<tr><td><code id="summary.lm_betaselect_+3A_pvalue_less_than">pvalue_less_than</code></td>
<td>
<p>If a
<em>p</em>-value is less than this value, it
will be displayed with <code style="white-space: pre;">&#8288;"&lt;(this value)".&#8288;</code> For example, if
<code>pvalue_less_than</code> is .001, the
default, <em>p</em>-values less than .001
will be displayed as <code style="white-space: pre;">&#8288;&lt;.001&#8288;</code>. This
value also determines the printout of
the <em>p</em>-value of the <em>F</em> statistic.
(This argument does what <code>eps.Pvalue</code>
does in <code><a href="stats.html#topic+printCoefmat">stats::printCoefmat()</a></code>.)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, it returns a
<code>summary.lm_betaselect</code>-class object
for the results with selected variables
standardized. By setting <code>type</code> to
<code>"raw"</code> or <code>"unstandardized"</code>, it
return the summary for the results
<em>before</em> standardization.
</p>
<p>The <code>print</code> method of
<code>summary.lm_betaselect</code>-class objects
is adapted from
<code><a href="stdmod.html#topic+print.summary.std_selected">stdmod::print.summary.std_selected()</a></code>.
</p>


<h3>Value</h3>

<p>It returns an object of class
<code>summary.lm_betaselect</code>, which is
similar to the output of
<code><a href="stats.html#topic+summary.lm">stats::summary.lm()</a></code>, with additional
information on the standardization
and bootstrapping, if requested.
</p>
<p>The <code>print</code>-method of
<code>summary.lm_betaselect</code> is called
for its side effect. The object <code>x</code>
is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Asparouhov, A., &amp; Muthén, B. (2021). Bootstrap p-value computation.
Retrieved from https://www.statmodel.com/download/FAQ-Bootstrap%20-%20Pvalue.pdf
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

# bootstrap should be set to 2000 or 5000 in real studies
lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                           data = data_test_mod_cat,
                           to_standardize = "iv",
                           do_boot = TRUE,
                           bootstrap = 100,
                           iseed = 1234)

summary(lm_beta_x)
summary(lm_beta_x, ci = TRUE)
summary(lm_beta_x, boot_pvalue_type = "norm")
summary(lm_beta_x, type = "raw")

</code></pre>

<hr>
<h2 id='vcov.lm_betaselect'>The 'vcov' Method for
'lm_betaselect' and <code>glm_betaselect</code>
Objects</h2><span id='topic+vcov.lm_betaselect'></span><span id='topic+vcov.glm_betaselect'></span>

<h3>Description</h3>

<p>Compute the
variance-covariance matrix of
estimates in the output of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm_betaselect'
vcov(
  object,
  method = c("boot", "bootstrap", "ls", "default"),
  type = c("beta", "standardized", "raw", "unstandardized"),
  warn = TRUE,
  ...
)

## S3 method for class 'glm_betaselect'
vcov(
  object,
  method = c("boot", "bootstrap", "ls", "default"),
  type = c("beta", "standardized", "raw", "unstandardized"),
  warn = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vcov.lm_betaselect_+3A_object">object</code></td>
<td>
<p>The output of
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code>
or an <code>lm_betaselect</code>-class object,
or the output of <code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
or a <code>glm_betaselect</code>-class object.</p>
</td></tr>
<tr><td><code id="vcov.lm_betaselect_+3A_method">method</code></td>
<td>
<p>The method used to
compute the variance-covariance
matrix. If bootstrapping was
requested when calling
<code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> or
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code> and this argument
is set to <code>"bootstrap"</code> or <code>"boot"</code>,
the bootstrap variance-covariance
matrix is returned. If bootstrapping
was not requested or if this argument
is set to <code>"ls"</code> or <code>"default"</code>,
then the usual <code>lm</code> or <code>glm</code>
variance-covariance matrix is
returned, with a warning raised
unless <code>type</code> is <code>"raw"</code> or
<code style="white-space: pre;">&#8288;"unstandardized".&#8288;</code>
Default is <code>"boot"</code>.</p>
</td></tr>
<tr><td><code id="vcov.lm_betaselect_+3A_type">type</code></td>
<td>
<p>String. If
<code>"unstandardized"</code> or <code>"raw"</code>, the
variance-covariance matrix of the
coefficients <em>before</em> standardization
are returned. If <code>"beta"</code> or
<code>"standardized"</code>, then the
variance-covariance matrix of the
coefficients <em>after</em> selected
variables standardized are returned.
Default is <code>"beta"</code>.</p>
</td></tr>
<tr><td><code id="vcov.lm_betaselect_+3A_warn">warn</code></td>
<td>
<p>Logical. WHether a warning
will be raised is OLS (or WLS)
variance-covariance matrix is
requested for the model with some
variables standardized (i.e., <code>type</code>
is <code>"beta"</code> or <code>"standardized"</code>).
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="vcov.lm_betaselect_+3A_...">...</code></td>
<td>
<p>Other arguments to be
passed to <code><a href="stats.html#topic+vcov">stats::vcov()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The type of
variance-covariance matrix depends
on the object. If bootstrapping
was requested, by default it returns
the bootstrap variance-covariance
matrix. Otherwise, it returns the
default variance-covariance
matrix and raises a warning.
</p>
<p>Support for other type of
variance-covariance matrix will be
added.
</p>


<h3>Value</h3>

<p>A matrix of the variances and
covariances of the parameter
estimates.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lm_betaselect">lm_betaselect()</a></code> and
<code><a href="#topic+glm_betaselect">glm_betaselect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(data_test_mod_cat)

# bootstrap should be set to 2000 or 5000 in real studies
lm_beta_x &lt;- lm_betaselect(dv ~ iv*mod + cov1 + cat1,
                           data = data_test_mod_cat,
                           to_standardize = "iv",
                           do_boot = TRUE,
                           bootstrap = 100,
                           iseed = 1234)
vcov(lm_beta_x)
# A warning is expected for the following call
vcov(lm_beta_x, method = "ls")
vcov(lm_beta_x, type = "raw")



data_test_mod_cat$p &lt;- scale(data_test_mod_cat$dv)[, 1]
data_test_mod_cat$p &lt;- ifelse(data_test_mod_cat$p &gt; 0,
                              yes = 1,
                              no = 0)
# bootstrap should be set to 2000 or 5000 in real studies
logistic_beta_x &lt;- glm_betaselect(p ~ iv*mod + cov1 + cat1,
                                  data = data_test_mod_cat,
                                  family = binomial,
                                  to_standardize = "iv",
                                  do_boot = TRUE,
                                  bootstrap = 100,
                                  iseed = 1234)
vcov(logistic_beta_x)
# A warning is expected for the following call
vcov(logistic_beta_x, method = "default")
vcov(logistic_beta_x, type = "raw")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package CFF</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CFF}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CFF-package'>
<p>Simple Similarity for User-Based Collaborative Filtering Systems</p></a></li>
<li><a href='#Score_replace'>
<p>Replacing of Neighbor Users' Ratings on Non-Rated Items By The Active User</p></a></li>
<li><a href='#simple_predict'>
<p>Prediction Unseen Items For The Active User</p></a></li>
<li><a href='#simple_similarity'>
<p>Finding Neighbor Users And Their Similarity Values</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Simple Similarity for User-Based Collaborative Filtering Systems</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-02-25</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A simple, fast algorithm to find the neighbors and similarities of users in user-based filtering systems,
             to break free from the complex computation of existing similarity formulas and the ability to solve big data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-02-25 11:52:47 UTC; farimah</td>
</tr>
<tr>
<td>Author:</td>
<td>Farimah Houshmand Nanehkaran
    <a href="https://orcid.org/0000-0003-1687-1719"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]
    (University=Islamic Azad University of Kashan,Kashan,Iran),
  Seyed Mohammad Reza Lajevardi
    <a href="https://orcid.org/0000-0002-4744-2784"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]
    (University=Islamic Azad University of Kashan,Kashan,Iran),
  Mahmoud Mahlouji Bidgholi
    <a href="https://orcid.org/0000-0001-8895-8501"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]
    (University=Islamic Azad University of Kashan,Kashan,Iran)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-03-04 10:00:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='CFF-package'>
Simple Similarity for User-Based Collaborative Filtering Systems
</h2><span id='topic+CFF-package'></span>

<h3>Description</h3>

<p>A simple, fast algorithm to find the neighbors and similarities of users in user-based filtering systems,
             to break free from the complex computation of existing similarity formulas and the ability to solve big data.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> CFF</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Simple Similarity for User-Based Collaborative Filtering Systems</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2020-02-25</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> 
   c(person(given="Farimah",
            family="Houshmand Nanehkaran",
            role = c("aut", "cre"),
            email="hoshmandcomputer@gmail.com", 
            comment = c(ORCID = "0000-0003-1687-1719", "University=Islamic Azad University of Kashan,Kashan,Iran")),
     person(given="Seyed Mohammad Reza",
             family="Lajevardi",
             role = c("ctb"),
             email="R.Lajevardi@iaukashan.ac.ir",
             comment = c(ORCID = "0000-0002-4744-2784","University=Islamic Azad University of Kashan,Kashan,Iran")),
     person(given="Mahmoud",
             family="Mahlouji Bidgholi",
             role = c("ctb"),
             email="m.mahlouji@iaukashan.ac.ir",
             comment = c(ORCID = "0000-0001-8895-8501","University=Islamic Azad University of Kashan,Kashan,Iran")))</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> A simple, fast algorithm to find the neighbors and similarities of users in user-based filtering systems,
             to break free from the complex computation of existing similarity formulas and the ability to solve big data.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 7.0.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Farimah Houshmand Nanehkaran [aut, cre]
    (&lt;https://orcid.org/0000-0003-1687-1719&gt;, University=Islamic Azad
    University of Kashan,Kashan,Iran),
  Seyed Mohammad Reza Lajevardi [ctb]
    (&lt;https://orcid.org/0000-0002-4744-2784&gt;, University=Islamic Azad
    University of Kashan,Kashan,Iran),
  Mahmoud Mahlouji Bidgholi [ctb]
    (&lt;https://orcid.org/0000-0001-8895-8501&gt;, University=Islamic Azad
    University of Kashan,Kashan,Iran)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
CFF-package             Simple Similarity for User-Based Collaborative
                        Filtering Systems
Score_replace           Replacing of Neighbor Users' Ratings on
                        Non-Rated Items By The Active User
simple_predict          Prediction Unseen Items For The Active User
simple_similarity       Finding Neighbor Users And Their Similarity
                        Values
</pre>
<p>User-Based Collaborative Filtering Systems
</p>


<h3>Author(s)</h3>

<p>NA
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Kumar, P., Kumar, V., &amp; Thakur, R. S. (2019). <em>A new approach for rating prediction system using collaborative filtering</em>. Iran Journal of Computer Science, vol.2, no. 2, pp. 81-87.
</p>
<p>Zhang, P., Zhang, Z., Tian, T., &amp; Wang, Y. (2019). <em>Collaborative filtering recommendation algorithm integrating time windows and rating predictions</em>. Applied Intelligence, vol. 49, no. 8, pp. 3146-3157.
</p>
<p>Gadekula, S. K., Rao, U. P., Vyas, R. K., Dontula, A. L., &amp; Gaikwad, S. V. (2019). <em>Improved Pearson Similarity for Collaborative Filtering Recommendation System</em>. In 2019 6th International Conference on Computing for Sustainable Global Development (INDIACom), pp. 1047-1054, IEEE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)
active_users &lt;- c(1:dim(ratings)[2])

time_all &lt;- c(rep(NaN, length(active_users)))

ratings3 &lt;- ratings

for (ac in 1:length(active_users))
{
  cat("=========== user",active_users[ac], "==================", "\n","\n")
  ##1
  T1_start &lt;- Sys.time()
  sim &lt;- simple_similarity(ratings, max_score=5, min_score=1, ac)
  T1_end &lt;- Sys.time()

  cat("    Similar Users =", sim$sim_index,                      "\n","\n")
  cat("Similarity Values =", sim$sim_x,                          "\n","\n")

  ##2
  T2_start &lt;- Sys.time()
  ratings2 &lt;- Score_replace(ratings, sim_index= sim$sim_index, ac)
  T2_end   &lt;- Sys.time()

  cat(" Predicted Scores =", ratings2[,ac],                      "\n","\n")

  ##3
  T3_start &lt;- Sys.time()
  predictedItems &lt;- simple_predict(ratings, ratings2, ac)
  T3_end &lt;- Sys.time()

  cat("  Predicted Items =", predictedItems,                    "\n","\n")

  ##4
  time_all[ac] &lt;- (T1_end - T1_start) + (T2_end - T2_start) + (T3_end - T3_start)

  cat("             Time =", time_all[ac],                      "\n","\n")

  ##5
  ratings3[,ac] &lt;- ratings2[,ac]
}

Mean_Time &lt;- mean(time_all)

cat("=========== Mean Time ==================",                "\n","\n")

cat("         Mean Time =", Mean_Time,                         "\n","\n")

cat("       Full Matrix =",                                    "\n","\n")

print(ratings3)
</code></pre>

<hr>
<h2 id='Score_replace'>
Replacing of Neighbor Users' Ratings on Non-Rated Items By The Active User
</h2><span id='topic+Score_replace'></span>

<h3>Description</h3>

<p>The ratings of each user that has more similar to the active user are directly replaced in his unseen items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Score_replace(ratings, sim_index, ac)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Score_replace_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="Score_replace_+3A_sim_index">sim_index</code></td>
<td>

<p>Descending sorted indexes based on similarity to the active user who is a vector of integers.
</p>
</td></tr>
<tr><td><code id="Score_replace_+3A_ac">ac</code></td>
<td>

<p>The id of an active user as an integer (<code class="reqn">1\le ac \le length of users</code>).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The unseen items of the active user are filled by the ratings of the similar users, respectively. Each element remains unchanged after one placement.
</p>


<h3>Value</h3>

<table>
<tr><td><code>ratings2</code></td>
<td>

<p>A matrix the size of the original user-item matrix in which the active user's empty elements are filled.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Farimah Houshmand Nanehkaran
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Gadekula, S. K., Rao, U. P., Vyas, R. K., Dontula, A. L., &amp; Gaikwad, S. V. (2019). <em>Improved Pearson Similarity for Collaborative Filtering Recommendation System</em>. In 2019 6th International Conference on Computing for Sustainable Global Development (INDIACom), pp. 1047-1054, IEEE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

sim &lt;- simple_similarity(ratings, max_score=5, min_score=1, ac=1)

ratings2 &lt;- Score_replace(ratings, sim_index= sim$sim_index, ac=1)
</code></pre>

<hr>
<h2 id='simple_predict'>
Prediction Unseen Items For The Active User
</h2><span id='topic+simple_predict'></span>

<h3>Description</h3>

<p>In the predicted items list, items with more scores replace in top of the list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_predict(ratings, ratings2, ac)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_predict_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="simple_predict_+3A_ratings2">ratings2</code></td>
<td>

<p>A matrix the size of the original user-item matrix in which the active user's empty elements are filled.
</p>
</td></tr>
<tr><td><code id="simple_predict_+3A_ac">ac</code></td>
<td>

<p>The id of an active user as an integer (<code class="reqn">1\le ac \le length of users</code>).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Collaborative filtering is a recommender system for predicting the missing ratings that an active user might have given to an item. These ratings have been calculated and accumulate in a vector by this function.
</p>


<h3>Value</h3>

<table>
<tr><td><code>predictedItems</code></td>
<td>

<p>A sorted vector of predicted items based on the scores.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Farimah Houshmand Nanehkaran
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Song, B., Gao, Y., &amp; Li, X. M. (2020, January). <em>Research on Collaborative Filtering Recommendation Algorithm Based on Mahout and User Model</em>. In Journal of Physics: Conference Series, Vol. 1437, no. 1, p. 012095, IOP Publishing.
</p>
<p>Ramakrishnan, G., Saicharan, V., Chandrasekaran, K., Rathnamma, M. V., &amp; Ramana, V. V. (2020). <em>Collaborative Filtering for Book Recommendation System</em>. In Soft Computing for Problem Solving, pp. 325-338, Springer, Singapore.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

sim &lt;- simple_similarity(ratings, max_score=5, min_score=1, ac=1)

ratings2 &lt;- Score_replace(ratings, sim_index= sim$sim_index, ac=1)

predictedItems &lt;- simple_predict(ratings, ratings2, ac=1)
</code></pre>

<hr>
<h2 id='simple_similarity'>
Finding Neighbor Users And Their Similarity Values
</h2><span id='topic+simple_similarity'></span>

<h3>Description</h3>

<p>Steps of calculating the similarity of one user to an active user :
</p>
<p>1- Calculating the difference between the desired user ratings with the active user in common items.
</p>
<p>2- Calculating the similarity value for each common item.
</p>
<p>3- Calculating the mean value of similarities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_similarity(ratings, max_score=5, min_score=1, ac)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_similarity_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="simple_similarity_+3A_max_score">max_score</code></td>
<td>

<p>The maximum range of ratings.
</p>
</td></tr>
<tr><td><code id="simple_similarity_+3A_min_score">min_score</code></td>
<td>

<p>The minimum range of ratings.
</p>
</td></tr>
<tr><td><code id="simple_similarity_+3A_ac">ac</code></td>
<td>

<p>The id of an active user as an integer (<code class="reqn">1\le ac \le length of users</code>).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The similarity of the active user with other users is obtained by the following formulas :
</p>
<p style="text-align: center;"><code class="reqn">dif_{(u_i, j)}=|r_{(u_a, j)}-r_{(u_i, j)}|</code>
</p>

<p style="text-align: center;"><code class="reqn">sim_{dif_{(u_i, j)}}=\frac{-dif_{(u_i, j)}}{max_score-min_score}+1</code>
</p>

<p style="text-align: center;"><code class="reqn">sim_{(u_a, u_j)}=\frac{\sum_{j=1}^{N_j}sim_{(dif_{(u_i,j)})}}{N_j}</code>
</p>

<p>j is the row number for the items and i is the column number for the users in the ratings matrix.
</p>
<p><code class="reqn">u_i</code> is a i<em>th</em> column user and <code class="reqn">u_a</code> is an active user.
</p>
<p><code class="reqn">r_{(u_a, j)}</code> is the rating of active user in the j<em>th</em> row and <code class="reqn">r_{(u_i, j)}</code> is the rating of the i<em>th</em> user in the j<em>th</em> row.
</p>
<p><code class="reqn">dif_{(u_i, j)}</code> is the difference of the rating for the i<em>th</em> user with the active user in the j<em>th</em> row.
</p>
<p><code class="reqn">sim_{dif_{(u_i, j)}}</code> is the similarity of the i<em>th</em> user with the active user in the j<em>th</em> row.
</p>
<p><code class="reqn">sim_{(u_a, u_i)}</code> is the similarity of the user i, with the active user.
</p>
<p><code class="reqn">N_j</code> is the number of common items.
</p>
<p>For example, suppose active user ratings are: {2, nan, 3, nan, 5} and one user ratings are: {3, 4, nan, nan, 1} then for ratings between 1 and 5:
</p>
<p>dif={1, nan, nan, nan, 4} and
</p>
<p>sim(dif)={<code class="reqn">\frac{-1}{5-1}+1</code>, nan, nan, nan, <code class="reqn">\frac{-4}{5-1}+1</code>}={0.75, nan, nan, nan, 0}
</p>
<p>and mean of sim(dif) is sim=0.375.
</p>


<h3>Value</h3>

<p>An object of class <code>"simple_similarity"</code>, a list with components:
</p>
<table>
<tr><td><code>call</code></td>
<td>

<p>The call used.
</p>
</td></tr>
<tr><td><code>sim_x</code></td>
<td>

<p>Neighboring user similarity values in descending order.
</p>
</td></tr>
<tr><td><code>sim_index</code></td>
<td>

<p>Number of columns for neighboring users in descending order of similarity.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Farimah Houshmand Nanehkaran
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Mongia, A., &amp; Majumdar, A. (2019). <em>Matrix completion on multiple graphs: Application in collaborative filtering</em>. Signal Processing, vol. 165, pp. 144-148.
</p>
<p>Hong, B., &amp; Yu, M. (2019). <em>A collaborative filtering algorithm based on correlation coefficient</em>. Neural Computing and Applications, vol. 31, no. 12, pp. 8317-8326.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)#items*users

sim &lt;- simple_similarity(ratings, max_score=5, min_score=1, ac=1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package fibos</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fibos}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#execute'><p>Surface Calculation</p></a></li>
<li><a href='#fibos_config'><p>Install the 'Python' 'fibos' Module</p></a></li>
<li><a href='#occluded_surface'><p>Occluded Surface (OS)</p></a></li>
<li><a href='#osp'><p>Occluded Surface Packing (OSP)</p></a></li>
<li><a href='#osp_internal'><p>Calculate OSP Metric</p></a></li>
<li><a href='#read_osp'><p>Read OSP Values</p></a></li>
<li><a href='#read_prot'><p>Read Protein Surface File</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Occlusion Surface Using the Occluded Surface and Fibonacci
Occluded Surface</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Herson Soares &lt;hersonhebert@hotmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The Occluded Surface (OS) algorithm is a widely used approach for analyzing atomic packing in biomolecules as described by Pattabiraman N, Ward KB, Fleming PJ (1995) &lt;<a href="https://doi.org/10.1002%2Fjmr.300080603">doi:10.1002/jmr.300080603</a>&gt;. Here, we introduce 'fibos', an 'R' and 'Python' package that extends the 'OS&rdquo;' methodology, as presented in Soares HHM, Romanelli JPR, Fleming PJ, da Silveira CH (2024) &lt;<a href="https://doi.org/10.1101%2F2024.11.01.621530">doi:10.1101/2024.11.01.621530</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>fs, dplyr, readr, stringr, tidyr, reticulate, glue</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-19 01:10:35 UTC; hersonhebert</td>
</tr>
<tr>
<td>Author:</td>
<td>Herson Soares [cre, aut],
  Carlos Silveira [aut],
  Jo√£o Romanelli [aut],
  Patrick Fleming [aut],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-20 09:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='execute'>Surface Calculation</h2><span id='topic+execute'></span>

<h3>Description</h3>

<p>The function executes the implemented methods.
Using this function, it is possible to calculate occluded areas
through the traditional methodology, 'Occluded Surface', or by
applying the 'Fibonacci OS' methodology. At the end of the method
execution, the 'prot.srf' file is generated, and returned for
the function. The data in this file refers to all contacts
between atoms of molecules present in a protein's PDB.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>execute(pdb, method)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="execute_+3A_pdb">pdb</code></td>
<td>
<p>4-digit PDB id (will fetch it from the RCSB repository) or the path to a PDB local file.</p>
</td></tr>
<tr><td><code id="execute_+3A_method">method</code></td>
<td>
<p>Method to be used: 'OS' (classic) or 'FIBOS' (default). The classic 'OS' covers the surface radially with one of the axes as a reference when allocating the dots. In 'FIBOS', Fibonacci spirals were used to allocate the dots, which is known to produce lower axial anisotropy as well as more evenly spaced points on a sphere.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the protein surface data read from the generated SRF file.
</p>


<h3>Author(s)</h3>

<p>Carlos Henrique da Silveira (carlos.silveira@unifei.edu.br)
</p>
<p>Herson Hebert Mendes Soares (hersonhebert@hotmail.com)
</p>
<p>Joao Paulo Roquim Romanelli (joaoromanelli@unifei.edu.br)
</p>
<p>Patrick Fleming (Pat.Fleming@jhu.edu)
</p>

<hr>
<h2 id='fibos_config'>Install the 'Python' 'fibos' Module</h2><span id='topic+fibos_config'></span>

<h3>Description</h3>

<p>This function creates a 'Python' virtual environment and installs the
'Python' module 'fibos' required for the full functionality of this package.
It handles different system configurations and ensures that the correct
compiler paths are set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fibos_config()
</code></pre>


<h3>Value</h3>

<p>Invisible NULL. Called for its side effects.
</p>


<h3>Note</h3>

<p>This function will install external software (a 'Python' package) on your system.
Administrator/sudo privileges might be required on some systems.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Set up the 'Python' environment and install the required module
fibos_config()

</code></pre>

<hr>
<h2 id='occluded_surface'>Occluded Surface (OS)</h2><span id='topic+occluded_surface'></span>

<h3>Description</h3>

<p>The 'Occluded Surface (OS)' algorithm is a widely used approach for analyzing atomic packing in biomolecules. Here, we introduce 'FIBOS', an 'R' and 'Python' package that extends the 'OS' methodology with enhancements. The homonymous function 'occluded_surface' calculates 'OS' per atom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>occluded_surface(pdb, method = "FIBOS")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="occluded_surface_+3A_pdb">pdb</code></td>
<td>
<p>4-digit PDB id (will fetch it from the RCSB repository) or the path to a PDB local file.</p>
</td></tr>
<tr><td><code id="occluded_surface_+3A_method">method</code></td>
<td>
<p>Method to be used: 'OS' (classic) or 'FIBOS'(default).The classic 'OS' covers the surface radially with one of the axes as a reference when allocating the dots. In 'FIBOS', Fibonacci spirals were used to allocate the dots, which is known to produce lower axial anisotropy as well as more evenly spaced points on a sphere.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'Occluded Surface (OS)' (Pattabiraman et al. 1995) method distributes dots (representing patches of area) across the atom surfaces. Each dot has a normal that extends until it reaches either a van der Waals surface of a neighboring atom (the dot is considered occluded) or covers a distance greater than the diameter of a water molecule (the dot is considered non-occluded and disregarded). Thus, with the summed areas of dots and the lengths of normals, it is possible to compose robust metrics capable of inferring the average packing density of atoms, residues, proteins, as well as any other group of biomolecules.
</p>
<p>For more details, see (Fleming et al, 2000) and (Soares, et al, 2024)
</p>


<h3>Value</h3>

<p>A table containing:
</p>

<dl>
<dt><code>ATOM</code></dt><dd><p>the atomic contacts for each atom.</p>
</dd>
<dt><code>NUMBER OF POINTS</code></dt><dd><p>the number of dots (patches of area) on atomic surface.</p>
</dd>
<dt><code>AREA</code></dt><dd><p>the summed areas of dots.</p>
</dd>
<dt><code>RAYLENGTH</code></dt><dd><p>the average lengths of normals normalized by 2.8 <code class="reqn">\text{\AA}</code> (water diameter). So, raylen is a value between 0 and 1. A raylen close to 1 indicates worse packaging.</p>
</dd>
<dt><code>DISTANCE</code></dt><dd><p>the average distances of contacts in (<code class="reqn">\text{\AA}</code>).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Herson Soares, Joao Romanelli, Patrick Fleming, Carlos Silveira.
</p>


<h3>References</h3>

<p>Fleming PJ, Richards FM (2000). &quot;Protein packing: Dependence on protein size, secondary structure and amino acid composition.&quot; <a href="doi:10.1006/jmbi.2000.3750">doi:10.1006/jmbi.2000.3750</a>
</p>
<p>Pattabiraman N, Ward KB, Fleming PJ (1995). &quot;Occluded molecular surface: Analysis of protein packing.&quot; <a href="doi:10.1002/jmr.300080603">doi:10.1002/jmr.300080603</a>
</p>
<p>Soares HHM, Romanelli JPR, Fleming PJ, da Silveira CH (2024). &quot;bioRxiv, 2024.11.01.621530.&quot; <a href="doi:10.1101/2024.11.01.621530">doi:10.1101/2024.11.01.621530</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+osp">osp()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(fibos)

#Configure the environment
fibos_config()

# Calculate FIBOS per atom and create .srf files in fibos_files folder
pdb_fibos &lt;- occluded_surface("1ptx", method = "FIBOS")

# Calculate OSP metric per residue from .srf file in fibos_files folder
pdb_osp &lt;- osp(fs::path("fibos_files","prot_1ptx.srf"))

</code></pre>

<hr>
<h2 id='osp'>Occluded Surface Packing (OSP)</h2><span id='topic+osp'></span>

<h3>Description</h3>

<p>Implements the 'occluded surface' packing density metric (OSP) averaged by residue, as described in (Fleming and Richards 2000).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osp(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="osp_+3A_file">file</code></td>
<td>
<p>a SRF File (.srf) generated by 'occluded_surface' in fibos_files folder.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table containing:
</p>

<dl>
<dt><code>Resnum</code></dt><dd><p>residue id.</p>
</dd>
<dt><code>Resname</code></dt><dd><p>residue name.</p>
</dd>
<dt><code>OS</code></dt><dd><p>the summed areas of dots in residue.</p>
</dd>
<dt><code>`os*[1-raylen]`</code></dt><dd><p>'OS' areas weighted by (1-raylen). Raylen is the average lengths of normals normalized by 2.8 <code class="reqn">\text{\AA}</code> (water diameter). So, raylen is a value between 0 and 1. A raylen close to 1 indicates worse packaging, and the 'OS' will be reduced.</p>
</dd>
<dt><code>OSP</code></dt><dd><p>average occluded surface packing value (OSP) by residue.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Herson Soares
</p>
<p>Joao Romanelli
</p>
<p>Patrick Fleming
</p>
<p>Carlos Silveira.
</p>


<h3>References</h3>

<p>Fleming PJ, Richards FM (2000). &quot;Protein packing: Dependence on protein size, secondary structure and amino acid composition.&quot; <a href="doi:10.1006/jmbi.2000.3750">doi:10.1006/jmbi.2000.3750</a>
</p>
<p>Pattabiraman N, Ward KB, Fleming PJ (1995). &quot;Occluded molecular surface: Analysis of protein packing.&quot; <a href="doi:10.1002/jmr.300080603">doi:10.1002/jmr.300080603</a>
</p>
<p>Soares HHM, Romanelli JPR, Fleming PJ, da Silveira CH (2024). &quot;bioRxiv, 2024.11.01.621530.&quot; <a href="doi:10.1101/2024.11.01.621530">doi:10.1101/2024.11.01.621530</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+occluded_surface">occluded_surface()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(fibos)

#Configure the Environment
fibos_config() 

# Calculate FIBOS per atom and create .srf files in fibos_files folder
pdb_fibos &lt;- occluded_surface("1ptx", method = "FIBOS")
# Calculate OSP metric per residue from .srf file in fibos_files folder
pdb_osp &lt;- osp(fs::path("fibos_files","prot_1ptx.srf"))

</code></pre>

<hr>
<h2 id='osp_internal'>Calculate OSP Metric</h2><span id='topic+osp_internal'></span>

<h3>Description</h3>

<p>Internal function to calculate the OSP metric from an SRF file.
This function calls the 'Python' implementation of the OSP calculation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osp_internal(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="osp_internal_+3A_file">file</code></td>
<td>
<p>Path to the SRF file generated by the 'occluded_surface' function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the OSP metric data read from the generated PAK file.
</p>


<h3>Author(s)</h3>

<p>Carlos Henrique da Silveira (carlos.silveira@unifei.edu.br)
</p>
<p>Herson Hebert Mendes Soares (hersonhebert@hotmail.com)
</p>
<p>Joao Paulo Roquim Romanelli (joaoromanelli@unifei.edu.br)
</p>
<p>Patrick Fleming (Pat.Fleming@jhu.edu)
</p>

<hr>
<h2 id='read_osp'>Read OSP Values</h2><span id='topic+read_osp'></span>

<h3>Description</h3>

<p>Internal function to read OSP values from a PAK file generated by the OSP calculation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_osp(prot_file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_osp_+3A_prot_file">prot_file</code></td>
<td>
<p>OSP File (.pak).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the OSP data.
</p>

<hr>
<h2 id='read_prot'>Read Protein Surface File</h2><span id='topic+read_prot'></span>

<h3>Description</h3>

<p>Reads and processes data from protein surface files generated by the 'occluded_surface' function. The results enable important analyses of protein behavior at the atomic level.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_prot_+3A_file">file</code></td>
<td>
<p>Path or name of protein surface file (.srf).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function reads a surface file containing data calculated using the 'OS' or 'FIBOS' methodology. The file should be in the format generated by the 'occluded_surface' function.
</p>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<dl>
<dt>ATOM</dt><dd><p>atomic contact identifiers</p>
</dd>
<dt>NUMBER_POINTS</dt><dd><p>number of points (integer) on atomic surface</p>
</dd>
<dt>AREA</dt><dd><p>surface area (numeric)</p>
</dd>
<dt>RAYLENGTH</dt><dd><p>average ray length (numeric)</p>
</dd>
<dt>DISTANCE</dt><dd><p>average distance of contacts (numeric)</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Carlos Henrique da Silveira (carlos.silveira@unifei.edu.br)
</p>
<p>Herson Hebert Mendes Soares (hersonhebert@hotmail.com)
</p>
<p>Joao Paulo Roquim Romanelli (joaoromanelli@unifei.edu.br)
</p>
<p>Patrick Fleming (Pat.Fleming@jhu.edu)
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package gm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+2B.Music'><p>Add Component to <code>Music</code> Object</p></a></li>
<li><a href='#Clef'><p>Create <code>Clef</code> Object</p></a></li>
<li><a href='#export'><p>Export Object</p></a></li>
<li><a href='#gm'><p>gm: Generate Music Easily and Show Them Anywhere</p></a></li>
<li><a href='#gm-internal'><p>Internal gm Functions</p></a></li>
<li><a href='#inspect_errors'><p>See Full Error Report</p></a></li>
<li><a href='#Key'><p>Create <code>Key</code> Object</p></a></li>
<li><a href='#Line'><p>Create <code>Line</code> Object</p></a></li>
<li><a href='#Meter'><p>Create <code>Meter</code> Object</p></a></li>
<li><a href='#Music'><p>Initialize <code>Music</code> Object</p></a></li>
<li><a href='#show'><p>Show Object</p></a></li>
<li><a href='#Tempo'><p>Create <code>Tempo</code> Object</p></a></li>
<li><a href='#Tupler'><p>Create <code>Tupler</code> Object</p></a></li>
<li><a href='#tuplet'><p>Create Tuplet</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generate Music Easily and Show Them Anywhere</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Renfei Mao</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Renfei Mao &lt;renfeimao@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a simple and intuitive high-level language, with which
    you can create music easily. Takes care of all the dirty technical
    details in converting your music to musical scores and audio files.
    Works in 'R Markdown' documents <a href="https://rmarkdown.rstudio.com/">https://rmarkdown.rstudio.com/</a>,
    R 'Jupyter Notebooks' <a href="https://jupyter.org/">https://jupyter.org/</a>, and 'RStudio'
    <a href="https://www.rstudio.com/">https://www.rstudio.com/</a>, so you can embed generated music
    anywhere. Internally, uses 'MusicXML' <a href="https://www.musicxml.com/">https://www.musicxml.com/</a> to
    represent musical scores, and 'MuseScore' <a href="https://musescore.org/">https://musescore.org/</a> to
    convert 'MusicXML'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/flujoo/gm">https://github.com/flujoo/gm</a>, <a href="https://flujoo.github.io/gm/">https://flujoo.github.io/gm/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, testthat</td>
</tr>
<tr>
<td>Imports:</td>
<td>base64enc, glue, htmltools, knitr, magick, magrittr, MASS,
rlang, rstudioapi, stringr, utils</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>MuseScore - https://musescore.org/</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-17 05:18:09 UTC; flujoo</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-17 05:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+2B.Music'>Add Component to <code>Music</code> Object</h2><span id='topic++2B.Music'></span>

<h3>Description</h3>

<p>Add a component to a <code>Music</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Music'
music + term
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B2B.Music_+3A_music">music</code></td>
<td>
<p>A <code>Music</code> object.</p>
</td></tr>
<tr><td><code id="+2B2B.Music_+3A_term">term</code></td>
<td>
<p>A <code>Line</code>, <code>Meter</code>, <code>Key</code>, <code>Clef</code> or <code>Tempo</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Music</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Music">Music()</a></code> for initializing a <code>Music</code> object.
</p>
<p><code><a href="#topic+Line">Line()</a></code>, <code><a href="#topic+Meter">Meter()</a></code>, <code><a href="#topic+Key">Key()</a></code>, <code><a href="#topic+Clef">Clef()</a></code> and <code><a href="#topic+Tempo">Tempo()</a></code>
for creating objects of corresponding classes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># initialize a Music object
m &lt;- Music()

# add a Line object
m &lt;- m + Line(list("C4"), list(1))
m

# add a Meter object
m &lt;- m + Meter(4, 4)
m

# add a Key object
m &lt;- m + Key(1)
m

# add a Clef object
m &lt;- m + Clef("G", to = 1)
m

# add a Tempo object
m &lt;- m + Tempo(120)
m
</code></pre>

<hr>
<h2 id='Clef'>Create <code>Clef</code> Object</h2><span id='topic+Clef'></span>

<h3>Description</h3>

<p>Create a <code>Clef</code> object.
</p>
<p><code>Clef</code> objects represent clefs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Clef(sign, line = NULL, octave = NULL, to = NULL, bar = NULL, offset = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Clef_+3A_sign">sign</code></td>
<td>
<p>&quot;G&quot;, &quot;F&quot; or &quot;C&quot;, case insensitive.</p>
</td></tr>
<tr><td><code id="Clef_+3A_line">line</code></td>
<td>
<p>Optional, 1 or 2 if <code>sign</code> is &quot;G&quot;, an integer between 3 and 5
if <code>sign</code> is &quot;F&quot;, or an integer between 1 and 5 if <code>sign</code> is &quot;C&quot;.</p>
</td></tr>
<tr><td><code id="Clef_+3A_octave">octave</code></td>
<td>
<p>Optional, -1 or 1. <code>octave</code> can be specified only when
<code>sign</code> is &quot;G&quot; and <code>line</code> is 2, or <code>sign</code> is &quot;F&quot; and <code>line</code> is 4.</p>
</td></tr>
<tr><td><code id="Clef_+3A_to">to</code></td>
<td>
<p>an index or a <code>Line</code> name, which indicates to which <code>Line</code> object
to add the <code>Clef</code> object.</p>
</td></tr>
<tr><td><code id="Clef_+3A_bar">bar</code></td>
<td>
<p>Optional. A positive integer which indicates the number of
the measure to which to add the <code>Clef</code> object. By default, a <code>Clef</code>
object will be added to the first measure.</p>
</td></tr>
<tr><td><code id="Clef_+3A_offset">offset</code></td>
<td>
<p>Optional. A duration value, sum of duration values or 0,
which indicates the position in a measure, at which to add the <code>Clef</code>
object. The default value is 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Clef</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic++2B.Music">+.Music()</a></code> for adding <code>Clef</code> objects to a <code>Music</code> object.
</p>
<p><code>vignette("gm", package = "gm")</code> for details about duration values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a Clef object
Clef("G", line = 2, octave = 1)

# add a Clef object to a Music object
Music() +
  Line(list("C4"), list(1)) +
  Clef("F", to = 1, bar = 10, offset = 1)
</code></pre>

<hr>
<h2 id='export'>Export Object</h2><span id='topic+export'></span><span id='topic+export.Music'></span>

<h3>Description</h3>

<p>Export an object to various file formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export(x, dir_path, file_name, formats)

## S3 method for class 'Music'
export(x, dir_path, file_name, formats)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
<tr><td><code id="export_+3A_dir_path">dir_path</code></td>
<td>
<p>A single character which specifies the directory to
which to export the object.</p>
</td></tr>
<tr><td><code id="export_+3A_file_name">file_name</code></td>
<td>
<p>A single character which specifies the name of the
exported file(s).</p>
</td></tr>
<tr><td><code id="export_+3A_formats">formats</code></td>
<td>
<p>A character vector which specifies the file formats.
Supported file formats are &quot;mscz&quot;, &quot;mscx&quot;, &quot;pdf&quot;, &quot;png&quot;, &quot;svg&quot;, &quot;wav&quot;,
&quot;mp3&quot;, &quot;flac&quot;, &quot;ogg&quot;, &quot;midi&quot;, &quot;mid&quot;, &quot;musicxml&quot;, &quot;mxl&quot;, &quot;xml&quot;, &quot;metajson&quot;,
&quot;mlog&quot;, &quot;mpos&quot; and &quot;spos&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>
<p>Files with name <code>file_name</code> and with extensions
<code>formats</code> are generated in <code>dir_path</code>.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>Music</code>: export a <code>Music</code> object.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  m &lt;- Music() + Meter(4, 4) + Line(list("C4"), list(4))
  export(m, tempdir(), "x", c("mp3", "png"))
}
</code></pre>

<hr>
<h2 id='gm'>gm: Generate Music Easily and Show Them Anywhere</h2><span id='topic+gm'></span>

<h3>Description</h3>

<p>Provides a simple and intuitive high-level language,
with which you can create music easily. Takes care of all the dirty
technical details in converting your music to musical scores and audio
files. Works in R Markdown documents, R Jupyter Notebooks and RStudio,
so you can embed generated music anywhere.
</p>


<h3>Author</h3>

<p>Renfei Mao <a href="mailto:renfeimao@gmail.com">renfeimao@gmail.com</a>
</p>

<hr>
<h2 id='gm-internal'>Internal gm Functions</h2><span id='topic+gm-internal'></span><span id='topic+to_value'></span><span id='topic+to_value.Pitch'></span><span id='topic+to_value.Tupler'></span><span id='topic+to_value.Duration'></span><span id='topic+to_value.Meter'></span><span id='topic+add'></span><span id='topic+add.Clef'></span><span id='topic+add.Key'></span><span id='topic+add.Meter'></span><span id='topic+add.Tempo'></span><span id='topic+add.Line'></span><span id='topic+normalize_pitch'></span><span id='topic+normalize_pitch.numeric'></span><span id='topic+normalize_pitch.character'></span><span id='topic+normalize_pitch.default'></span><span id='topic+print.PitchLine'></span><span id='topic+print.PitchNotation'></span><span id='topic+print.PitchValue'></span><span id='topic+print.PitchRest'></span><span id='topic+print.PitchChord'></span><span id='topic+print.Pitch'></span><span id='topic+print.ClefLine'></span><span id='topic+print.DurationLine'></span><span id='topic+print.KeyLine'></span><span id='topic+print.MeterLine'></span><span id='topic+print.Move'></span><span id='topic+print.Note'></span><span id='topic+print.Rest'></span><span id='topic+print.Measure'></span><span id='topic+print.Attributes'></span><span id='topic+print.Score'></span><span id='topic+print.Element'></span><span id='topic+print.TempoLine'></span><span id='topic+print.PositionLine'></span><span id='topic+to_Pitch'></span><span id='topic+to_Pitch.PitchNotation'></span><span id='topic+to_Pitch.PitchValue'></span><span id='topic+to_Pitch.PitchChord'></span><span id='topic+to_Pitch.Line'></span><span id='topic+to_Pitch.Music'></span><span id='topic+to_Duration'></span><span id='topic+to_Duration.Duration'></span><span id='topic+to_Duration.numeric'></span><span id='topic+to_Duration.character'></span><span id='topic+check_duration'></span><span id='topic+check_duration.numeric'></span><span id='topic+check_duration.character'></span><span id='topic+to_Element'></span><span id='topic+to_Element.PitchRest'></span><span id='topic+to_Element.Pitch'></span><span id='topic+to_Element.Clef'></span><span id='topic+to_Element.Key'></span><span id='topic+to_Element.Meter'></span><span id='topic+to_Element.Score'></span><span id='topic+to_Element.Part'></span><span id='topic+to_Element.Measure'></span><span id='topic+to_Element.Attributes'></span><span id='topic+to_Element.Move'></span><span id='topic+to_Element.Rest'></span><span id='topic+to_Element.Note'></span><span id='topic+to_Element.Element'></span><span id='topic+to_Element.Tempo'></span><span id='topic+check_positions_length'></span><span id='topic+check_positions_length.numeric'></span><span id='topic+check_positions_content'></span><span id='topic+check_positions_content.numeric'></span><span id='topic+check_positions_content.list'></span><span id='topic++3D+3D.Pitch'></span><span id='topic++2B.ClefLine'></span><span id='topic++2B.KeyLine'></span><span id='topic++2B.MeterLine'></span><span id='topic++2B.TempoLine'></span>

<h3>Description</h3>

<p>Internal gm functions.
These are not to be called by the user.
</p>

<hr>
<h2 id='inspect_errors'>See Full Error Report</h2><span id='topic+inspect_errors'></span>

<h3>Description</h3>

<p>See a full error report when the error message is too
long and thus shortened.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inspect_errors()
</code></pre>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>
<p>The full error report is printed in console.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Line(list(c, "p", NULL, 1:3, TRUE, NA_character_))

## End(Not run)
</code></pre>

<hr>
<h2 id='Key'>Create <code>Key</code> Object</h2><span id='topic+Key'></span>

<h3>Description</h3>

<p>Create a <code>Key</code> object.
</p>
<p><code>Key</code> objects represent key signatures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Key(key, bar = NULL, to = NULL, scope = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Key_+3A_key">key</code></td>
<td>
<p>An integer between -7 and 7, which indicates the number of
flat or sharp symbols in the key signature.</p>
</td></tr>
<tr><td><code id="Key_+3A_bar">bar</code></td>
<td>
<p>Optional. A positive integer which indicates the number of
the measure into which to insert the <code>Key</code> object. By default, a <code>Key</code>
object will be inserted into the first measure(s).</p>
</td></tr>
<tr><td><code id="Key_+3A_to">to</code></td>
<td>
<p>Optional. A positive integer or a single character which
indicates the <code>Line</code> object to which to add the <code>Key</code> object. By default,
a <code>Key</code> object will be added to a whole <code>Music</code> object rather than to
any specific <code>Line</code> object.</p>
</td></tr>
<tr><td><code id="Key_+3A_scope">scope</code></td>
<td>
<p>Optional. <code>"part"</code> or <code>"staff"</code>, which indicates whether
to add the <code>Key</code> object to a whole part or only to a staff of a part,
if the argument <code>to</code> is specified, or this argument will be ignored.
The default value is <code>"part"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Key</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic++2B.Music">+.Music()</a></code> for adding <code>Key</code> objects to a <code>Music</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a Key object
Key(-7)

# insert a Key object into a specific measure
Music() + Key(7, bar = 2)

m &lt;- Music() +
  Line(list("E5"), list(1), name = "a") +
  Line(list("C4"), list(1), name = "b", as = "staff")

# add a Key to a part
m + Key(2, to = "b")

# add a Key to a staff
m + Key(2, to = "b", scope = "staff")
</code></pre>

<hr>
<h2 id='Line'>Create <code>Line</code> Object</h2><span id='topic+Line'></span>

<h3>Description</h3>

<p>Create a <code>Line</code> object.
</p>
<p><code>Line</code> objects represent musical lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Line(
  pitches,
  durations,
  tie = NULL,
  name = NULL,
  as = NULL,
  to = NULL,
  after = NULL,
  bar = NULL,
  offset = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Line_+3A_pitches">pitches</code></td>
<td>
<p>A list whose members are
</p>

<ol>
<li><p> single pitch notations, like &quot;C4&quot;, to represent the pitch contents of
notes,
</p>
</li>
<li><p> single MIDI note numbers, like 60 or &quot;60&quot;, also to represent the pitch
contents of notes,
</p>
</li>
<li><p> single <code>NA</code>s to represent the pitch contents of rests, or
</p>
</li>
<li><p> vectors of pitch notations and MIDI note numbers, like <code>c("C4", "61")</code>,
to represent the pitch contents of chords.
</p>
</li></ol>
</td></tr>
<tr><td><code id="Line_+3A_durations">durations</code></td>
<td>
<p>A list whose members are
</p>

<ol>
<li><p> single duration notations or their abbreviations, like &quot;quarter&quot; or
just &quot;q&quot;,
</p>
</li>
<li><p> single duration values, like 1, which is equivalent to &quot;quarter&quot;, or
</p>
</li>
<li> <p><code>Duration</code> objects returned by <code>tuplet()</code>, which is used to create
complex tuplets.
</p>
</li></ol>
</td></tr>
<tr><td><code id="Line_+3A_tie">tie</code></td>
<td>
<p>Optional. A list of indices of argument <code>pitches</code>, which
indicates at which positions to add ties.</p>
</td></tr>
<tr><td><code id="Line_+3A_name">name</code></td>
<td>
<p>Optional. A single character to name the <code>Line</code> object.</p>
</td></tr>
<tr><td><code id="Line_+3A_as">as</code></td>
<td>
<p>Optional. &quot;part&quot;, &quot;staff&quot; or &quot;voice&quot;, to specify the state
of the <code>Line</code> object. The default value is &quot;part&quot;.</p>
</td></tr>
<tr><td><code id="Line_+3A_to">to</code></td>
<td>
<p>Optional. An index or a <code>Line</code> name, which indicates with which
<code>Line</code> object as the reference to add the <code>Line</code> object.</p>
</td></tr>
<tr><td><code id="Line_+3A_after">after</code></td>
<td>
<p>Optional. A single logical which indicates whether to add the
<code>Line</code> object after or before a reference <code>Line</code> object. The default value
is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="Line_+3A_bar">bar</code></td>
<td>
<p>Optional. A positive integer which indicates the number of
the measure to which to insert the <code>Line</code> object. By default, a <code>Line</code>
object will be inserted to the first measure.</p>
</td></tr>
<tr><td><code id="Line_+3A_offset">offset</code></td>
<td>
<p>Optional. A duration value, sum of duration values or 0,
which indicates the position in a measure, at which to insert the <code>Line</code>
object. The default value is 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Line</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic++2B.Music">+.Music()</a></code> for adding <code>Line</code> objects to a <code>Music</code> object.
</p>
<p><code>vignette("gm", package = "gm")</code> for more details about <code>Line</code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a Music object
m &lt;- Music() + Meter(4, 4) + Line(list("C4"), list(8), name = "a")

# create a Line object
l &lt;- Line(
  pitches = list("C5", "C5", "C5"),
  durations = list(1, 1, 1),

  # tie the first two notes
  tie = list(1),

  # add the Line as a voice
  as = "voice",

  # with Line "a" as reference
  to = "a",

  # before Line "a"
  after = FALSE,

  # insert the Line to bar 2 with offset 1
  bar = 2,
  offset = 1
)
l

# add the Line object to the Music object
m &lt;- m + l
m

if (interactive()) {
  show(m)
}
</code></pre>

<hr>
<h2 id='Meter'>Create <code>Meter</code> Object</h2><span id='topic+Meter'></span>

<h3>Description</h3>

<p>Create a <code>Meter</code> object.
</p>
<p><code>Meter</code> objects represent time signatures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Meter(
  number,
  unit,
  bar = NULL,
  actual_number = NULL,
  actual_unit = NULL,
  invisible = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Meter_+3A_number">number</code></td>
<td>
<p>A positive number to represent the upper numeral in a
time signature symbol, which indicates how many beats are contained in
each measure.</p>
</td></tr>
<tr><td><code id="Meter_+3A_unit">unit</code></td>
<td>
<p>1, 2, 4, 8, 16, 32 or 64 to represent the lower numeral in
a time signature symbol, which indicates the duration of one beat.</p>
</td></tr>
<tr><td><code id="Meter_+3A_bar">bar</code></td>
<td>
<p>Optional. A positive integer which indicates the number of
the measure into which to insert the <code>Meter</code> object. By default, a <code>Meter</code>
object will be inserted into the first measure(s).</p>
</td></tr>
<tr><td><code id="Meter_+3A_actual_number">actual_number</code>, <code id="Meter_+3A_actual_unit">actual_unit</code></td>
<td>
<p>Optional, which defines the actual
time signature rather than the time signature symbol on score. Usually
used to create pickup measures. By default, these two arguments are the
same with <code>number</code> and <code>unit</code> respectively.</p>
</td></tr>
<tr><td><code id="Meter_+3A_invisible">invisible</code></td>
<td>
<p>Optional. A single logical, which indicates whether to
show the time signature symbol on score. The default value is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Meter</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic++2B.Music">+.Music()</a></code> for adding <code>Meter</code> objects to a <code>Music</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a 3/4 time signature
Meter(3, 4)

# insert a time signature into a specific measure
Music() + Meter(3, 4, bar = 10)

m &lt;- Music() + Line(list("C5"), list(3))

# specify the actual time signature
ts &lt;- Meter(3, 4, actual_number = 1, actual_unit = 4)
ts

if (interactive()) {
  show(m + ts)
}

# make a time signature invisible on score
if (interactive()) {
  ts &lt;- Meter(3, 4, invisible = TRUE)
  show(m + ts)
}
</code></pre>

<hr>
<h2 id='Music'>Initialize <code>Music</code> Object</h2><span id='topic+Music'></span>

<h3>Description</h3>

<p>Initialize a <code>Music</code> object.
</p>
<p><code>Music</code> objects represent whole music pieces.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Music()
</code></pre>


<h3>Details</h3>

<p>A typical workflow with <code>Music</code> objects:
</p>

<ol>
<li><p> Initialize an empty <code>Music</code> object with <code><a href="#topic+Music">Music()</a></code>.
</p>
</li>
<li><p> Add components to it with <code><a href="#topic++2B.Music">+.Music()</a></code>.
</p>
</li>
<li><p> Print it, or display it as musical score or audio file with
<code><a href="#topic+show">show()</a></code>, to check its structure.
</p>
</li>
<li><p> Keep adding components and checking it until you get what you want.
</p>
</li>
<li><p> Sometimes you may want to export the final <code>Music</code> object with
<code><a href="#topic+export">export()</a></code>.
</p>
</li></ol>



<h3>Value</h3>

<p>A list with class <code>Music</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic++2B.Music">+.Music()</a></code> for adding components to a <code>Music</code> object.
</p>
<p><code><a href="#topic+show">show()</a></code> for displaying a <code>Music</code> object as musical score and
audio file.
</p>
<p><code><a href="#topic+export">export()</a></code> for exporting a <code>Music</code> object to various file formats.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># initialize a Music object
Music()

# print a Music object to check its structure
m &lt;- Music() + Meter(4, 4) + Line(list("C4"), list(4))
m
</code></pre>

<hr>
<h2 id='show'>Show Object</h2><span id='topic+show'></span><span id='topic+show.Music'></span>

<h3>Description</h3>

<p>Show an object as musical score or audio file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show(x, to)

## S3 method for class 'Music'
show(x, to = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
<tr><td><code id="show_+3A_to">to</code></td>
<td>
<p>Optional. A character vector which contains &quot;score&quot;, &quot;audio&quot; or
both, which indicates whether to show the object as musical score or
audio file. The default value is &quot;score&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>
<p>The generated musical score or audio file is
</p>

<ol>
<li><p> showed in Viewer panel if <code>show</code> is called in RStudio,
</p>
</li>
<li><p> included in generated HTML file if called in R Markdown document,
</p>
</li>
<li><p> showed in output cell if called in R Jupyter Notebook, and
</p>
</li>
<li><p> showed in user's browser if called in a normal R console.
</p>
</li></ol>



<h3>Methods (by class)</h3>


<ul>
<li> <p><code>Music</code>: show a <code>Music</code> object.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  m &lt;- Music() + Meter(4, 4) + Line(list("C4"), list(4))
  show(m, c("score", "audio"))
}
</code></pre>

<hr>
<h2 id='Tempo'>Create <code>Tempo</code> Object</h2><span id='topic+Tempo'></span>

<h3>Description</h3>

<p>Create a <code>Tempo</code> object.
</p>
<p><code>Tempo</code> objects represent tempo marks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Tempo(tempo, unit = NULL, bar = NULL, offset = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Tempo_+3A_tempo">tempo</code></td>
<td>
<p>A number between 5 and 999 which indicates how many quarter
notes per minute the tempo is.</p>
</td></tr>
<tr><td><code id="Tempo_+3A_unit">unit</code></td>
<td>
<p>Optional. A duration notation, its abbreviation, or duration
value corresponding to &quot;whole&quot;, &quot;half&quot;, &quot;quarter&quot;, &quot;eighth&quot;, &quot;16th&quot;, with
or without a dot. The default <code>unit</code> is &quot;quarter&quot;.</p>
</td></tr>
<tr><td><code id="Tempo_+3A_bar">bar</code></td>
<td>
<p>Optional. A positive integer which indicates the number of
the measure at which to add the <code>Tempo</code> object. By default, a <code>Tempo</code>
object will be added at the first measure.</p>
</td></tr>
<tr><td><code id="Tempo_+3A_offset">offset</code></td>
<td>
<p>Optional. A duration value, sum of duration values or 0,
which indicates the position in a measure, at which to add the <code>Tempo</code>
object. The default value is 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Tempo</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic++2B.Music">+.Music()</a></code> for adding <code>Tempo</code> objects to a <code>Music</code> object.
</p>
<p><code>vignette("gm", package = "gm")</code> for details about duration notations
and duration values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a Tempo object
Tempo(200)

# set unit in a Tempo object
Tempo(120, unit = "half.")

# add Tempo objects to a Music object
Music() + Tempo(200) + Tempo(100, bar = 10, offset = 1)
</code></pre>

<hr>
<h2 id='Tupler'>Create <code>Tupler</code> Object</h2><span id='topic+Tupler'></span>

<h3>Description</h3>

<p>Create a <code>Tupler</code> object. <code>Tupler</code> objects are used in
<code><a href="#topic+tuplet">tuplet()</a></code> to create tuplets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Tupler(n, unit = NULL, take = unit)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Tupler_+3A_n">n</code></td>
<td>
<p>A positive integer which indicates into how many parts to divide
a duration.</p>
</td></tr>
<tr><td><code id="Tupler_+3A_unit">unit</code>, <code id="Tupler_+3A_take">take</code></td>
<td>
<p>A duration type followed by zero to four dots, or its
corresponding duration value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Tupler</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tuplet">tuplet()</a></code>
</p>
<p><code>vignette("gm", package = "gm")</code> for a friendly guide to tuplets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a triplet quarter note
t &lt;- Tupler(3, unit = "quarter", take = "quarter")
t

tuplet("half", t)
</code></pre>

<hr>
<h2 id='tuplet'>Create Tuplet</h2><span id='topic+tuplet'></span>

<h3>Description</h3>

<p>Create a tuplet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuplet(duration, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuplet_+3A_duration">duration</code></td>
<td>
<p>A duration notation, duration value, or <code>Duration</code> object.</p>
</td></tr>
<tr><td><code id="tuplet_+3A_...">...</code></td>
<td>
<p><code>Tupler</code> objects returned by <code><a href="#topic+Tupler">Tupler()</a></code>, which specify
how to divide the argument <code>duration</code> into parts, and how to take from
these parts.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class <code>Duration</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Tupler">Tupler()</a></code>
</p>
<p><code>vignette("gm", package = "gm")</code> for a friendly guide to tuplets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a triplet quarter note
tuplet("half", Tupler(3, unit = "quarter", take = "quarter"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

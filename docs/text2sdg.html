<!DOCTYPE html><html><head><title>Help for package text2sdg</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {text2sdg}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#auckland_queries'><p>SDG queries of the University of Auckland</p></a></li>
<li><a href='#aurora_queries'><p>SDG queries of the Aurora Universities Network</p></a></li>
<li><a href='#crosstab_sdg'><p>Compare query systems and SDGs</p></a></li>
<li><a href='#detect_any'><p>Detect SDGs in text with own query system</p></a></li>
<li><a href='#detect_sdg'><p>Detect SDGs in text using ensemble model</p></a></li>
<li><a href='#detect_sdg_systems'><p>Detect SDGs in text</p></a></li>
<li><a href='#elsevier_queries'><p>SDG queries of Elsevier</p></a></li>
<li><a href='#plot_sdg'><p>Plot distributions of SDGs identified in text</p></a></li>
<li><a href='#projects'><p>Descriptions of research projects</p></a></li>
<li><a href='#sdgo_queries'><p>SDG Ontology by OSDG</p></a></li>
<li><a href='#sdsn_queries'><p>SDG keywords by SDSN</p></a></li>
<li><a href='#siris_queries'><p>SDG queries of SIRIS Academic</p></a></li>
<li><a href='#text2sdg'><p>Detecting UN Sustainable Development Goals in Text</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-3-16</td>
</tr>
<tr>
<td>Title:</td>
<td>Detecting UN Sustainable Development Goals in Text</td>
</tr>
<tr>
<td>Description:</td>
<td>The United Nations’ Sustainable Development Goals (SDGs) have become an important guideline for organisations to monitor and plan their contributions to social, economic, and environmental transformations. The 'text2sdg' package is an open-source analysis package that identifies SDGs in text using scientifically developed query systems, opening up the opportunity to monitor any type of text-based data, such as scientific output or corporate publications. For more information regarding the methodology see Meier, Mata &amp; Wulff (2022) &lt;<a href="https://arxiv.org/abs/2110.05856">arXiv:2110.05856</a>&gt;.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dominik S. Meier &lt;dominikmeier@outlook.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dwulff/text2sdg">https://github.com/dwulff/text2sdg</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dwulff/text2sdg/issues">https://github.com/dwulff/text2sdg/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, dplyr, corpustools (&ge; 0.4.2), tidyr, tibble,
stringr, ggplot2, lifecycle, ranger, text2sdgData (&ge; 0.1.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>bzip2</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-17 20:14:51 UTC; dominik</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk U. Wulff <a href="https://orcid.org/0000-0002-4008-8022"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Dominik S. Meier <a href="https://orcid.org/0000-0002-3999-1388"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Rui Mata <a href="https://orcid.org/0000-0002-1679-906X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-17 20:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='auckland_queries'>SDG queries of the University of Auckland</h2><span id='topic+auckland_queries'></span>

<h3>Description</h3>

<p>A dataset containing the SDG queries of <a href="https://www.sdgmapping.auckland.ac.nz/">University of Auckland</a> (version 1). The queries are available
from <a href="https://www.sdgmapping.auckland.ac.nz/">https://www.sdgmapping.auckland.ac.nz/</a>. The Auckland queries were developed to build on the
processes developed by the United Nations and the Times Higher Education Ranking in order to create an expanded list of keywords that can be
used to identify SDG-relevant research. There is one query per SDG. There are no queries for SDG-17.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auckland_queries
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 4 columns
</p>

<dl>
<dt>system</dt><dd><p>Name of system</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query</p>
</dd>
<dt>query</dt><dd><p>SDG query</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.sdgmapping.auckland.ac.nz/">https://www.sdgmapping.auckland.ac.nz/</a>
</p>

<hr>
<h2 id='aurora_queries'>SDG queries of the Aurora Universities Network</h2><span id='topic+aurora_queries'></span>

<h3>Description</h3>

<p>A dataset containing the SDG queries version 5.0 of the <a href="https://aurora-universities.eu/">Aurora Universities Network</a>. See the corresponding <a href="https://github.com/Aurora-Network-Global/sdg-queries">GitHub repository</a>. For the actual implementation of the queries see <code>aurora_simple</code>, <code>aurora_and</code>, <code>aurora_w</code>, and the queries hard-coded in <code>detect_aurora</code>. There are multiple queries per SDG (one per row). In comparison to previous versions, this version of the queries Aurora added more keywords related to academic terminology to be able to detect more research papers related to the SDGs. The current version also drew inspiration from the SIRIS query system (<code>siris_queries</code>). The Aurora queries were designed to be precise rather than sensitive. To achieve this the queries make use complex keyword-combinations using several different logical search operators. All SDGs (1-17) are covered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aurora_queries
</code></pre>


<h3>Format</h3>

<p>A data frame with 378 rows and 5 columns
</p>

<dl>
<dt>system</dt><dd><p>Name of system</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG</p>
</dd>
<dt>sdg_title</dt><dd><p>Title of the SDG</p>
</dd>
<dt>sdg_description</dt><dd><p>Description of the SDG</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query</p>
</dd>
<dt>query</dt><dd><p>Original SDG query</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/Aurora-Network-Global/sdg-queries/releases/tag/v5.0">https://github.com/Aurora-Network-Global/sdg-queries/releases/tag/v5.0</a>
</p>

<hr>
<h2 id='crosstab_sdg'>Compare query systems and SDGs</h2><span id='topic+crosstab_sdg'></span>

<h3>Description</h3>

<p><code>crosstab_sdg</code> calculates cross tables (aka contingency tables) of SGSs or systems across hits identified via <a href="#topic+detect_sdg_systems">detect_sdg_systems</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crosstab_sdg(hits, compare = c("systems", "sdgs"), systems = NULL, sdgs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crosstab_sdg_+3A_hits">hits</code></td>
<td>
<p><code>data frame</code> as returned by <code><a href="#topic+detect_sdg_systems">detect_sdg_systems</a></code>. Must include columns <code>document</code>, <code>sdg</code>, <code>system</code>, and <code>hit</code>.</p>
</td></tr>
<tr><td><code id="crosstab_sdg_+3A_compare">compare</code></td>
<td>
<p><code>character</code> specifying whether systems or SDGs should be cross tabulated.</p>
</td></tr>
<tr><td><code id="crosstab_sdg_+3A_systems">systems</code></td>
<td>
<p><code>character</code> vector specifying the query systems to be cross tabulated. Values must be available in the <code>system</code> column of <code>hits</code>. Defaults to <code>NULL</code> in which case available values are retrieved from <code>hits</code>.</p>
</td></tr>
<tr><td><code id="crosstab_sdg_+3A_sdgs">sdgs</code></td>
<td>
<p><code>numeric</code> vector with integers between 1 and 17 specifying the SDGs to be cross tabluated. Values must be available in the <code>sdg</code> column of <code>hits</code>. Defaults to <code>NULL</code> in which case available values are retrieved from <code>hits</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>crosstab_sdg</code> determines correlations between either query systems or SDGs. The respectively other dimension will be ignored. Note that correlations between SDGs may vary between query systems.
</p>


<h3>Value</h3>

<p><code>matrix</code> showing correlation coefficients for all pairs of query systems (if <code>compare = "systems"</code>) or SDGs (if <code>compare = "SDGs"</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# run sdg detection
hits &lt;- detect_sdg_systems(projects)

# create cross table of systems
crosstab_sdg(hits)

# create cross table of systems
crosstab_sdg(hits, compare = "sdgs")

</code></pre>

<hr>
<h2 id='detect_any'>Detect SDGs in text with own query system</h2><span id='topic+detect_any'></span>

<h3>Description</h3>

<p><code>detect_any</code> identifies SDGs in text using user provided query systems. Works like <code><a href="#topic+detect_sdg_systems">detect_sdg_systems</a></code> but uses a user specified query system instead of an existing one like <code><a href="#topic+detect_sdg_systems">detect_sdg_systems</a></code> does.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detect_any(
  text,
  system,
  queries = lifecycle::deprecated(),
  sdgs = NULL,
  output = c("features", "documents"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detect_any_+3A_text">text</code></td>
<td>
<p><code>character</code> vector or object of class <code>tCorpus</code> containing text in which SDGs shall be detected.</p>
</td></tr>
<tr><td><code id="detect_any_+3A_system">system</code></td>
<td>
<p>a data frame that must contain the following variables: a <code>character</code> vector with queries, a <code>integer</code> vector specifying which SDG each query maps to (values must be between 1 and 17) and a <code>character</code> with one unique value specifying the name of the used query system (can be anything as long as it is unique).</p>
</td></tr>
<tr><td><code id="detect_any_+3A_queries">queries</code></td>
<td>
<p>deprecated.</p>
</td></tr>
<tr><td><code id="detect_any_+3A_sdgs">sdgs</code></td>
<td>
<p><code>numeric</code> vector with integers between 1 and 17 specifying the sdgs to identify in <code>text</code>. Defaults to <code>1:17</code>.</p>
</td></tr>
<tr><td><code id="detect_any_+3A_output">output</code></td>
<td>
<p><code>character</code> specifying the level of detail in the output. The default <code>"features"</code> returns a <code>tibble</code> with one row per matched query, include a variable containing the features of the query that were matched in the text. By contrast, <code>"documents"</code> returns an aggregated <code>tibble</code> with one row per matched sdg, without information on the features.</p>
</td></tr>
<tr><td><code id="detect_any_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code> specifying whether messages on the function's progress should be printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a <code>tibble</code> containing the SDG hits found in the vector of documents. Depending on the value of <code>output</code> the tibble will contain all or some of the following columns:
</p>

<dl>
<dt>document</dt><dd><p>Index of the element in <code>text</code> where match was found. Formatted as a factor with the number of levels matching the original number of documents.</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG found in document.</p>
</dd>
<dt>systems</dt><dd><p>The name of the query system that produced the match.</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query within the query system that produced the match.</p>
</dd>
<dt>features</dt><dd><p>Concatenated list of words that caused the query to match.</p>
</dd>
<dt>hit</dt><dd><p>Index of hit for a given system.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
# create data frame with query system
my_queries &lt;- tibble::tibble(
  system = "my_system",
  query = c(
    "theory",
    "analysis OR analyses OR analyzed",
    "study AND hypothesis"
  ),
  sdg = c(1, 2, 2)
)

# run sdg detection with own query system
hits &lt;- detect_any(projects, my_queries)

# run sdg detection for sdg 2 only
hits &lt;- detect_any(projects, my_queries, sdgs = 2)


</code></pre>

<hr>
<h2 id='detect_sdg'>Detect SDGs in text using ensemble model</h2><span id='topic+detect_sdg'></span>

<h3>Description</h3>

<p><code>detect_sdg</code> identifies SDGs in text using an ensemble model approach considering multiple existing SDG query systems and text length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detect_sdg(
  text,
  systems = lifecycle::deprecated(),
  output = lifecycle::deprecated(),
  sdgs = 1:17,
  synthetic = c("equal"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detect_sdg_+3A_text">text</code></td>
<td>
<p><code>character</code> vector or object of class <code>tCorpus</code> containing text in which SDGs shall be detected.</p>
</td></tr>
<tr><td><code id="detect_sdg_+3A_systems">systems</code></td>
<td>
<p>As of text2sdg 1.0.0 the 'systems' argument of 'detect_sdg()' is deprecated. This is because 'detect_sdg()' now makes use of an ensemble approach that draws on all systems as well as on the text length, see &ndash;preprint&ndash; for more information. The old version of 'detect_sdg()' is available through the 'detect_sdg_systems()' function.</p>
</td></tr>
<tr><td><code id="detect_sdg_+3A_output">output</code></td>
<td>
<p>As of text2sdg 1.0.0 the 'output' argument of 'detect_sdg()' is deprecated. This is because 'detect_sdg()' now makes use of an ensemble approach that draws on all systems as well as on the text length, see &ndash;preprint&ndash; for more information. The old version of 'detect_sdg()' is available through the 'detect_sdg_systems()' function.</p>
</td></tr>
<tr><td><code id="detect_sdg_+3A_sdgs">sdgs</code></td>
<td>
<p><code>numeric</code> vector with integers between 1 and 17 specifying the sdgs to identify in <code>text</code>. Defaults to <code>1:17</code>.</p>
</td></tr>
<tr><td><code id="detect_sdg_+3A_synthetic">synthetic</code></td>
<td>
<p><code>character</code> vector specifying the ensemble version to be used. These versions vary in terms of the amount of synthetic data used in training (relative to the amount of expert-labeled data). Can be one or more of <code>"none"</code>, <code>"third"</code>, <code>"equal"</code>, and <code>"triple"</code>. The default is <code>"equal"</code>.</p>
</td></tr>
<tr><td><code id="detect_sdg_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code> specifying whether messages on the function's progress should be printed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>detect_sdg</code> implements a ensemble model to detect SDGs in text. The ensemble model combines the six systems implemented by <code><a href="#topic+detect_sdg_systems">detect_sdg_systems</a></code> and text length in a random forest architecture. The ensemble model has been trained on three data sets with SDG labels assigned by experts and a matching number of synthetic texts generated by random sampling from a word frequency list. The user has the choice of multiple versions of the ensemble model that have been trained on different amounts of synthetic texts to adjust the sensitivity and specificity of the model. Increasing the amount of of synthetic data makes the ensemble more conservative, leading to increased sensitivity and decreased specificity.
</p>
<p>By default, <code>detect_sdg</code> implements the version of the ensemble model that has been trained on an equal amount of expert-labeled and synthetic data, providing a reasonable balance between sensitivity and specificity. For details, see article by Wulff et al. (2023).
</p>


<h3>Value</h3>

<p>The function returns a <code>tibble</code> containing the SDG hits found in the vector of documents. The columns of the <code>tibble</code> are described below. The <code>tibble</code> also includes as an attribute with name <code>"system_hits"</code> the predictions of the individual systems produced by <code>detect_sdg_systems()</code>.
</p>

<dl>
<dt>document</dt><dd><p>Index of the element in <code>text</code> where match was found. Formatted as a factor with the number of levels matching the original number of documents.</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG found in document.</p>
</dd>
<dt>system</dt><dd><p>The name of the ensemble system that produced the match.</p>
</dd>
<dt>hit</dt><dd><p>Index of hit for the Ensemble model.</p>
</dd>
</dl>



<h3>References</h3>

<p>Wulff, D. U., Meier, D., &amp; Mata, R. (2023). Using novel data and ensemble models to improve automated SDG-labeling. arXiv
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# run sdg detection
hits &lt;- detect_sdg(projects)

# run sdg detection for sdg 3 only
hits &lt;- detect_sdg(projects, sdgs = 3)

# extract systems hits
attr(hits, "system_hits")

</code></pre>

<hr>
<h2 id='detect_sdg_systems'>Detect SDGs in text</h2><span id='topic+detect_sdg_systems'></span>

<h3>Description</h3>

<p><code>detect_sdg_systems</code> identifies SDGs in text using multiple SDG query systems.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detect_sdg_systems(
  text,
  systems = c("Aurora", "Elsevier", "Auckland", "SIRIS"),
  sdgs = 1:17,
  output = c("features", "documents"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detect_sdg_systems_+3A_text">text</code></td>
<td>
<p><code>character</code> vector or object of class <code>tCorpus</code> containing text in which SDGs shall be detected.</p>
</td></tr>
<tr><td><code id="detect_sdg_systems_+3A_systems">systems</code></td>
<td>
<p><code>character</code> vector specifying the query systems to be used. Can be one or more of <code>"Aurora"</code>, <code>"Elsevier"</code>, <code>"Auckland"</code>, <code>"SIRIS"</code> <code>"SDSN"</code>, and <code>"SDGO"</code>. By default all systems except <code>"SDGO"</code> and <code>"SDSN"</code> are used.</p>
</td></tr>
<tr><td><code id="detect_sdg_systems_+3A_sdgs">sdgs</code></td>
<td>
<p><code>numeric</code> vector with integers between 1 and 17 specifying the sdgs to identify in <code>text</code>. Defaults to <code>1:17</code>.</p>
</td></tr>
<tr><td><code id="detect_sdg_systems_+3A_output">output</code></td>
<td>
<p><code>character</code> specifying the level of detail in the output. The default <code>"features"</code> returns a <code>tibble</code> with one row per matched query, include a variable containing the features of the query that were matched in the text. By contrast, <code>"documents"</code> returns an aggregated <code>tibble</code> with one row per matched sdg, without information on the features.</p>
</td></tr>
<tr><td><code id="detect_sdg_systems_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code> specifying whether messages on the function's progress should be printed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>detect_sdg_systems</code> implements six SDG query systems. Four systems developed by the Aurora Universities Network (see <code><a href="#topic+aurora_queries">aurora_queries</a></code>),  Elsevier (see <code><a href="#topic+elsevier_queries">elsevier_queries</a></code>), Auckland University (see <code><a href="#topic+elsevier_queries">elsevier_queries</a></code>), and SIRIS Academic (see <code><a href="#topic+siris_queries">siris_queries</a></code>) rely on Lucene-style Boolean queries, whereas two systems, namely SDGO (see <code><a href="#topic+sdgo_queries">sdgo_queries</a></code>) and SDSN (see <code><a href="#topic+sdsn_queries">sdsn_queries</a></code>) rely on basic keyword matching. 'detect_sdg_systems' calls dedicated <code>detect_*</code> for each of the five system. Search of the queries is implemented using the <code><a href="corpustools.html#topic+search_features">search_features</a></code> function from the <a href="https://cran.r-project.org/package=corpustools"><code>corpustools</code></a> package.
</p>
<p>By default, <code>detect_sdg_systems</code> runs only the Aurora, Elsevier, Auckland, and Siris query systems, as they are considerably less liberal than the SDSN and SDGO systems and therefore likely produce more valid SDG classifications. Users should be aware that systematic validations and comparison between the systems are largely lacking and that results should be interpreted with caution.
</p>


<h3>Value</h3>

<p>The function returns a <code>tibble</code> containing the SDG hits found in the vector of documents. The columns of the <code>tibble</code> depend on the value of <code>output</code>. Possible columns are:
</p>

<dl>
<dt>document</dt><dd><p>Index of the element in <code>text</code> where match was found. Formatted as a factor with the number of levels matching the original number of documents.</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG found in document.</p>
</dd>
<dt>system</dt><dd><p>The name of the query system that produced the match.</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query within the query system that produced the match.</p>
</dd>
<dt>features</dt><dd><p>Concatenated list of words that caused the query to match.</p>
</dd>
<dt>hit</dt><dd><p>Index of hit for a given system.</p>
</dd>
<dt>n_hits</dt><dd><p>Number of queries that produced a hit for a given system, sdg, and document.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
# run sdg detection
hits &lt;- detect_sdg_systems(projects)

# run sdg detection with Aurora only
hits &lt;- detect_sdg_systems(projects, systems = "Aurora")

# run sdg detection for sdg 3 only
hits &lt;- detect_sdg_systems(projects, sdgs = 3)

</code></pre>

<hr>
<h2 id='elsevier_queries'>SDG queries of Elsevier</h2><span id='topic+elsevier_queries'></span>

<h3>Description</h3>

<p>A dataset containing the SDG queries of <a href="https://www.elsevier.com/connect/sdg-report">Elsevier</a> (version 1). The queries are available from <a href="https://data.mendeley.com/datasets/87txkw7khs/1">data.mendeley.com</a>. The Elsevier queries were developed to maximize SDG hits on the Scopus database. A detailed description of how each SDG query was developed can be found <a href="https://elsevier.digitalcommonsdata.com/datasets/87txkw7khs/1">here</a>. There is one query per SDG. There are no queries for SDG-17.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elsevier_queries
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 4 columns
</p>

<dl>
<dt>system</dt><dd><p>Name of system</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query</p>
</dd>
<dt>query</dt><dd><p>SDG query</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://data.mendeley.com/datasets/87txkw7khs/1">https://data.mendeley.com/datasets/87txkw7khs/1</a>
</p>

<hr>
<h2 id='plot_sdg'>Plot distributions of SDGs identified in text</h2><span id='topic+plot_sdg'></span>

<h3>Description</h3>

<p><code>plot_sdg</code> creates a (stacked) barplot of the frequency distribution of SDGs identified via <a href="#topic+detect_sdg">detect_sdg</a> or <a href="#topic+detect_sdg_systems">detect_sdg_systems</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_sdg(
  hits,
  systems = NULL,
  sdgs = NULL,
  normalize = "none",
  color = "unibas",
  sdg_titles = FALSE,
  remove_duplicates = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_sdg_+3A_hits">hits</code></td>
<td>
<p><code>data frame</code> as returned by <code><a href="#topic+detect_sdg">detect_sdg</a></code> or <code><a href="#topic+detect_sdg_systems">detect_sdg_systems</a></code>. Must include columns <code>sdg</code> and <code>system</code>.</p>
</td></tr>
<tr><td><code id="plot_sdg_+3A_systems">systems</code></td>
<td>
<p><code>character</code> vector specifying the query systems to be visualized. Values must be available in the <code>system</code> column of <code>hits</code>. <code>systems</code> of length greater 1 result, by default, in a stacked barplot. Defaults to <code>NULL</code> in which case available values are retrieved from <code>hits</code>.</p>
</td></tr>
<tr><td><code id="plot_sdg_+3A_sdgs">sdgs</code></td>
<td>
<p><code>numeric</code> vector with integers between 1 and 17 specifying the SDGs to be visualized. Values must be available in the <code>sdg</code> column of <code>hits</code>. Defaults to <code>NULL</code> in which case available values are retrieved from <code>hits</code>.</p>
</td></tr>
<tr><td><code id="plot_sdg_+3A_normalize">normalize</code></td>
<td>
<p><code>character</code> specifying whether results should be presented as frequencies (<code>normalize = "none"</code>), the default, or whether the frequencies should be normalized using either the total frequencies of each system (<code>normalize = "systems"</code>) or the total number of documents (<code>normalize = "documents"</code>).</p>
</td></tr>
<tr><td><code id="plot_sdg_+3A_color">color</code></td>
<td>
<p><code>character</code> vector used to color the bars according to systems. The default, <code>"unibas"</code>, uses three colors of University of Basel's corporate design. Alternatively, <code>color</code> must specified using <a href="flextable.html#topic+color">color</a> names or color hex values. <code>color</code> will be interpolated to match the length of <code>systems</code>.</p>
</td></tr>
<tr><td><code id="plot_sdg_+3A_sdg_titles">sdg_titles</code></td>
<td>
<p><code>logical</code> specifying whether the titles of the SDG should added to the axis annotation.</p>
</td></tr>
<tr><td><code id="plot_sdg_+3A_remove_duplicates">remove_duplicates</code></td>
<td>
<p><code>logical</code> specifying the handling of multiple hits of the same SDG for a given document and system. Defaults to <code>TRUE</code> implying that no more than one hit is counted per SDG, system, and document.</p>
</td></tr>
<tr><td><code id="plot_sdg_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="ggplot2.html#topic+geom_bar">geom_bar</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is built using <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> and can thus be flexibly extended. See examples.
</p>


<h3>Value</h3>

<p>The function returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object that can either be stored in an object or printed to produce the plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# run sdg detection
hits &lt;- detect_sdg_systems(projects)

# create barplot
plot_sdg(hits)

# create barplot with facets
plot_sdg(hits) + ggplot2::facet_wrap(~system)


</code></pre>

<hr>
<h2 id='projects'>Descriptions of research projects</h2><span id='topic+projects'></span>

<h3>Description</h3>

<p>500 project descriptions of University of Basel research projects that were funded by the Swiss National Science Foundation. The project descriptions were drawn randomly from University of Basel projects listed in the the public <a href="https://p3.snf.ch">P3 project data base</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>projects
</code></pre>


<h3>Format</h3>

<p>A <code>character</code> vector of length 500.
</p>


<h3>Source</h3>

<p><a href="https://data.snf.ch/about/glossary">https://data.snf.ch/about/glossary</a>
</p>

<hr>
<h2 id='sdgo_queries'>SDG Ontology by OSDG</h2><span id='topic+sdgo_queries'></span>

<h3>Description</h3>

<p>A dataset containing the SDG queries based on the keyword ontology by OSDG. The queries are available from <a href="https://figshare.com/articles/dataset/SDG_ontology/11106113/1">figshare.com</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sdgo_queries
</code></pre>


<h3>Format</h3>

<p>A data frame with 4,122 rows and 5 columns
</p>

<dl>
<dt>system</dt><dd><p>Name of system</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG</p>
</dd>
<dt>keyword</dt><dd><p>SDG keyword used in query</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query</p>
</dd>
<dt>query</dt><dd><p>SDG query</p>
</dd>
</dl>



<h3>Details</h3>

<p>Bautista-Puig, N.; Mauleón E. (2019). Unveiling the path towards sustainability: is there a research interest on sustainable goals? In the 17th International Conference on Scientometrics &amp; Informetrics (ISSI 2019), Rome (Italy), Volume II, ISBN 978-88-3381-118-5, p.2770-2771. The authors of these queries first created an ontology from central keywords in the SDG UN description and expanded these keywords with keywords they identified in SDG related research output. There are multiple queries per SDG. All SDGs (1-17) are covered.
</p>


<h3>Source</h3>

<p><a href="https://figshare.com/articles/dataset/SDG_ontology/11106113/1">https://figshare.com/articles/dataset/SDG_ontology/11106113/1</a>
</p>

<hr>
<h2 id='sdsn_queries'>SDG keywords by SDSN</h2><span id='topic+sdsn_queries'></span>

<h3>Description</h3>

<p>A dataset containing SDG-specific keywords compiled from several universities from the Sustainable Development Solutions Network (SDSN) Australia, New Zealand &amp; Pacific Network. The authors used UN documents, Google searches and personal communications as sources for the keywords. All SDGs (1-17) are covered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sdsn_queries
</code></pre>


<h3>Format</h3>

<p>A data frame with 847 rows and 5 columns
</p>

<dl>
<dt>system</dt><dd><p>Name of system</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG</p>
</dd>
<dt>keyword</dt><dd><p>SDG keyword used in query</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query</p>
</dd>
<dt>query</dt><dd><p>SDG query</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://ap-unsdsn.org/regional-initiatives/universities-sdgs/">https://ap-unsdsn.org/regional-initiatives/universities-sdgs/</a>
</p>

<hr>
<h2 id='siris_queries'>SDG queries of SIRIS Academic</h2><span id='topic+siris_queries'></span>

<h3>Description</h3>

<p>A dataset containing the SDG queries of <a href="http://www.sirislab.com/lab/sdg-research-mapping/">SIRIS Academic</a>. The queries are available from<a href="https://zenodo.org/record/3567769#.YRY9xdMzY8N">Zenodo.org</a>. The SIRIS queries were developed by extracting key terms from the UN official list of goals, targets and indicators as well from relevant literature around SDGs. The query system has subsequently been expanded with a pre-trained word2vec model and an algorithm that selects related words from Wikipedia. There are multiple queries per SDG (one per row). There are no queries for SDG-17.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>siris_queries
</code></pre>


<h3>Format</h3>

<p>A data frame with 3,445 rows and 6 columns
</p>

<dl>
<dt>system</dt><dd><p>Name of system</p>
</dd>
<dt>sdg</dt><dd><p>Label of the SDG</p>
</dd>
<dt>keyword</dt><dd><p>Primary SDG query element</p>
</dd>
<dt>extra</dt><dd><p>Secodary SDG query element</p>
</dd>
<dt>query_id</dt><dd><p>Index of the query</p>
</dd>
<dt>query</dt><dd><p>SDG query</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://zenodo.org/record/3567769#.YVMhH9gzYUG">https://zenodo.org/record/3567769#.YVMhH9gzYUG</a>
</p>

<hr>
<h2 id='text2sdg'>Detecting UN Sustainable Development Goals in Text</h2><span id='topic+text2sdg'></span>

<h3>Description</h3>

<p>The text2sdg package provides functions for detecting SDGs in text, as well
as for analyzing and visualization the hits found in text. The following
provides a brief overview of the contents of the package.
</p>


<h3>Detect functions</h3>

<p><code><a href="#topic+detect_sdg">detect_sdg</a></code> detects SDGs in text using up to five different
query systems: Aurora, Elsevier, SIRIS, SDSN, and OSDG
</p>
<p><code><a href="#topic+detect_any">detect_any</a></code> detects SDGs in text using self-specified queries
utilizing the lucene-style syntax of the
<a href="https://cran.r-project.org/package=corpustools"><code>corpustools</code></a>
package.
</p>


<h3>Analysis functions</h3>

<p><code><a href="#topic+plot_sdg">plot_sdg</a></code> visualizes the relative frequency of SDG hits across
query systems.
</p>
<p><code><a href="#topic+crosstab_sdg">crosstab_sdg</a></code> calculates cross tables of correlations between
either the query systems or the different SDGs.
</p>


<h3>Datasets</h3>

<p><code><a href="#topic+projects">projects</a></code> contain random selection of research project
descriptions from the P3 database of the Swiss National Science Foundation.
</p>
<p><code><a href="#topic+aurora_queries">aurora_queries</a></code>, <code><a href="#topic+elsevier_queries">elsevier_queries</a></code>,
<code><a href="#topic+siris_queries">siris_queries</a></code>, <code><a href="#topic+sdsn_queries">sdsn_queries</a></code>, <code><a href="#topic+auckland_queries">auckland_queries</a></code> and
<code><a href="#topic+sdgo_queries">sdgo_queries</a></code> contain a mapping of SDGs and search queries
as they are employed in the respective systems.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# detect SDGs using default systems
hits &lt;- detect_sdg_systems(projects)

#' # detect SDGs using all five systems
hits &lt;- detect_sdg_systems(projects,
  system = c("Aurora", "Elsevier", "SIRIS", "SDSN", "SDGO")
)

# visualize SDG frequencies
plot_sdg(hits)

# correlations between systems
crosstab_sdg(hits)

# correlations between SDGs
crosstab_sdg(hits, compare = "sdgs")


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

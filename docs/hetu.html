<!DOCTYPE html><html lang="en"><head><title>Help for package hetu</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hetu}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bid_ctrl'><p>Check Validity of Finnish Business ID (Y-tunnus)</p></a></li>
<li><a href='#hetu'><p>Generic Extraction Tool for Finnish Personal Identity Codes</p></a></li>
<li><a href='#hetu_control_char'><p>Calculate Control Character for Personal Identity Code</p></a></li>
<li><a href='#hetu_diagnostic'><p>Diagnostics Tool for Personal Identity Codes</p></a></li>
<li><a href='#hetu-deprecated'><p>Deprecated functions in package <span class="pkg">hetu</span>.</p></a></li>
<li><a href='#is.diagnostic'><p>Is an Object from Class &quot;diagnostic&quot;?</p></a></li>
<li><a href='#pin_age'><p>Extract Age from Personal Identity Code</p></a></li>
<li><a href='#pin_ctrl'><p>Check Validity of Personal Identity Code</p></a></li>
<li><a href='#pin_date'><p>Extract Date of Birth from Personal Identity Code</p></a></li>
<li><a href='#pin_sex'><p>Extract Sex from Personal Identity Code</p></a></li>
<li><a href='#pin_to_date-deprecated'><p>ID to Date.</p></a></li>
<li><a href='#plot.diagnostic'><p>Plotting method for diagnostic class objects</p></a></li>
<li><a href='#quickdf'><p>Quick Data Frame</p></a></li>
<li><a href='#rbid'><p>Generate Random Finnish Business ID's (Y-tunnus)</p></a></li>
<li><a href='#rpin'><p>Generate Random Personal Identity Codes</p></a></li>
<li><a href='#satu_control_char'><p>Finnish Unique Identification Number Control Character Calculator</p></a></li>
<li><a href='#satu_ctrl'><p>Check Validity of Finnish Unique Identification Number (SATU)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Structural Handling of Finnish Personal Identity Codes</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-12-03</td>
</tr>
<tr>
<td>MailingList:</td>
<td>rOpenGov &lt;ropengov-forum@googlegroups.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Structural handling of Finnish identity codes (natural persons and 
    organizations); extract information, check ID validity and diagnostics.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropengov/hetu/issues">https://github.com/ropengov/hetu/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ropengov.github.io/hetu/">https://ropengov.github.io/hetu/</a>, <a href="https://github.com/ropengov/hetu">https://github.com/ropengov/hetu</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>lubridate, checkmate, parallel, methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>Cairo, knitr, testthat, rmarkdown, covr, dplyr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>http://ropengov.org/</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>ropengov</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>magick, ropengov/rogtemplate</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-03 09:39:07 UTC; pyrykantanen</td>
</tr>
<tr>
<td>Author:</td>
<td>Pyry Kantanen <a href="https://orcid.org/0000-0003-2853-2765"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Mans Magnusson [aut],
  Jussi Paananen [aut],
  Juho Kopra [ctb],
  Oskari Luomala [ctb],
  Tuomo Nieminen [ctb],
  Leo Lahti <a href="https://orcid.org/0000-0001-5537-637X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Pyry Kantanen &lt;pyry.kantanen@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-04 08:20:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='bid_ctrl'>Check Validity of Finnish Business ID (Y-tunnus)</h2><span id='topic+bid_ctrl'></span>

<h3>Description</h3>

<p>A function that checks whether a <code>bid</code> (Finnish Business ID) is valid.
Returns <code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bid_ctrl(bid)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bid_ctrl_+3A_bid">bid</code></td>
<td>
<p>a vector of 1 or more business identity numbers</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>bid_ctrl(c("0000000-0", "0000001-9")) # TRUE TRUE
bid_ctrl("0737546-1") # FALSE
</code></pre>

<hr>
<h2 id='hetu'>Generic Extraction Tool for Finnish Personal Identity Codes</h2><span id='topic+hetu'></span>

<h3>Description</h3>

<p>Extract embedded information from Finnish personal identity
codes (hetu).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hetu(
  pin,
  extract = NULL,
  allow.temp = FALSE,
  diagnostic = FALSE,
  as.factor = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hetu_+3A_pin">pin</code></td>
<td>
<p>Finnish personal identity code(s) as a character vector</p>
</td></tr>
<tr><td><code id="hetu_+3A_extract">extract</code></td>
<td>
<p>Extract only selected part of the information.
Valid values are &quot;<code>hetu</code>&quot;, &quot;<code>sex</code>&quot;, &quot;<code>p.num</code>&quot;,
&quot;<code>ctrl.char</code>&quot;, &quot;<code>date</code>&quot;, &quot;<code>day</code>&quot;, &quot;<code>month</code>&quot;,
&quot;<code>year</code>&quot;, &quot;<code>century</code>&quot;, &quot;<code>is.temp</code>&quot;.
If <code>NULL</code> (default), returns all information.</p>
</td></tr>
<tr><td><code id="hetu_+3A_allow.temp">allow.temp</code></td>
<td>
<p>Allow artificial or temporary PINs (personal numbers
900-999). If <code>FALSE</code> (default), only PINs intended for official
use (personal numbers 002-899) are allowed.</p>
</td></tr>
<tr><td><code id="hetu_+3A_diagnostic">diagnostic</code></td>
<td>
<p>Print additional information about possible problems in
PINs. The checks are &quot;<code>valid.p.num</code>&quot;, &quot;<code>valid.ctrl.char</code>&quot;,
&quot;<code>correct.ctrl.char</code>&quot;, &quot;<code>valid.date</code>&quot;, &quot;<code>valid.day</code>&quot;,
&quot;<code>valid.month</code>&quot;, &quot;<code>valid.length</code>&quot;, &quot;<code>valid.century</code>&quot;.
Default is <code>FALSE</code> which returns no diagnostic information.</p>
</td></tr>
<tr><td><code id="hetu_+3A_as.factor">as.factor</code></td>
<td>
<p>Makes fields &quot;<code>sex</code>&quot;, &quot;<code>p.num</code>&quot;,
&quot;<code>ctrl.char</code>&quot; and &quot;<code>century</code>&quot; into factors for slightly reduced
memory footprint. Default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Starting from 1st of January 2023, an amendment to the government decree on
the Population Information System (128/2010) has expanded the
number of available century markers (See references: Valtioneuvoston asetus
VM/2022/124) and scrapped some old practices.
</p>
<p>For the users of this package the most visible change will be that
people born in the 1900s can now be assigned with &quot;Y&quot;, &quot;X&quot;, &quot;W&quot;, &quot;V&quot; or &quot;U&quot;,
in addition to the old &quot;-&quot; (slash) marker. People born in the 2000s can be
assigned with &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, E&quot; or &quot;F&quot;, in addition to the old marker, &quot;A&quot;.
For people born in the 1800s &quot;+&quot; (plus sign) remains the only valid marker.
The amendment does not affect already existing personal identity codes.
</p>
<p>The change was done to mitigate for the diminishing pool of available, unique
identity codes. For historical reasons, the century marker of
the code was not always taken into account when determining the uniqueness
of the number. This meant that individual number parts were not recycled
between people born in different centuries, diminishing the amount of
available numbers for people born in the new century.
For example, if a female born in the 1st of January 1901
was assigned with the personal identity code &quot;010101-0101&quot; (individual code
part &quot;010&quot;), a female born in 1st of January 2001 could not be assigned with
the code &quot;010101A0101&quot; because it would contain the same individual code
as the person born in 1901 and individual codes could not be recycled. With
the amended decree the uniqueness of the personal identity code is considered
by looking at the personal identity code as a whole. This means that from now
on it would be permissible to have personal identity codes such as
&quot;100190-999P&quot; and &quot;100190Y999P&quot; at the same time, denoting two different
individuals (see references: Digital and population data services agency
announcement).
</p>
<p>In practice, codes with new separators will be issued only when the ranges
ranges with currently used separators run out. This means that it might
take a while until we see people born in the 2000s assigned with the century
marker &quot;C&quot; or people born in the 1900s assigned with the century marker &quot;X&quot;,
as there are still plenty of numbers in ranges &quot;B&quot; and &quot;Y&quot; as well, in
addition to some numbers being left in the original ranges of &quot;A&quot; and &quot;-&quot;.
The first personal identity code with a new separator &quot;Y&quot; was assigned
in December 2023 (see Digi- ja väestötietovirasto 2023).
</p>
<p>The result of all this is that the hetu package may now give &quot;unrealistic&quot;
personal identity codes in the sense that some codes are not yet actually
in use. However, it is not the aim of this package to simulate the
actual distributions of personal identity codes and their century markers in
the population (the actually used and unused codes are unknown to us),
but to provide a tool that can be used to extract data from these codes,
should the user encounter them at some point. Writing further sanity checks
is probably a good idea for people who are interested in detecting unusual
patterns in their databases and registries.
</p>


<h3>Value</h3>

<p>Finnish personal identity code data.frame,
or if extract parameter is set, the requested part of the
information as a vector. Returns an error or <code>NA</code> if the given
character vector is not a valid Finnish personal identity code.
</p>
<table role = "presentation">
<tr><td><code>hetu</code></td>
<td>
<p>Finnish personal identity code as a character vector.
A correct pin should be in the form DDMMYYCZZZQ, where DDMMYY stands for
date, C for century sign, ZZZ for personal number and Q for control
character.</p>
</td></tr>
<tr><td><code>sex</code></td>
<td>
<p>sex of the person as a character vector (&quot;Male&quot; or &quot;Female&quot;)</p>
</td></tr>
<tr><td><code>p.num</code></td>
<td>
<p>Personal number (individual number) part of the identity code</p>
</td></tr>
<tr><td><code>ctrl.char</code></td>
<td>
<p>Control character for the personal identity code</p>
</td></tr>
<tr><td><code>date</code></td>
<td>
<p>Birthdate</p>
</td></tr>
<tr><td><code>day</code></td>
<td>
<p>Day of the birthdate</p>
</td></tr>
<tr><td><code>month</code></td>
<td>
<p>Month of the birthdate</p>
</td></tr>
<tr><td><code>year</code></td>
<td>
<p>Year of the birthdate</p>
</td></tr>
<tr><td><code>century</code></td>
<td>
<p>Century character determining the century (1800s, 1900s or
2000s) of the person's birth. See details for more information</p>
</td></tr>
<tr><td><code>valid.pin</code></td>
<td>
<p>Does the personal identity code pass all validity
checks: (<code>TRUE</code> or <code>FALSE</code>)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Pyry Kantanen, Jussi Paananen
</p>


<h3>References</h3>

<p>Valtioneuvoston asetus VM/2022/124 <a href="https://vm.fi/paatos?decisionId=0900908f807c5f3c">Valtioneuvoston asetus VM/2022/124</a>
</p>
<p>Digi- ja väestötietovirasto. (2023). <a href="https://dvv.fi/-/uudet-valimerkit-takaavat-henkilotunnusten-riittavyyden-ensimmainen-uudenlainen-henkilotunnus-myonnettiin-talla-viikolla">Uudet välimerkit takaavat henkilötunnusten riittävyyden - ensimmäinen uudenlainen henkilötunnus myönnettiin tällä viikolla</a>
</p>
<p>Digital and Population Data Services Agency. <a href="https://dvv.fi/en/reform-of-personal-identity-code">Reform of the separators in the personal identity code</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pin_ctrl">pin_ctrl</a></code> Validating Finnish personal identity codes.
<code><a href="#topic+rhetu">rhetu</a></code> Generating random Finnish personal identity codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hetu("111111-111C")
hetu("111111-111C")$date
hetu("111111-111C")$sex
# Same as previous, but using extract argument
hetu("111111-111C", extract="sex")
# Process a vector of hetu's
hetu(c("010101-0101", "111111-111C"))
# Process a vector of hetu's and extract sex information from each
hetu(c("010101-0101", "111111-111C"), extract="sex")
# Process codes with new century markers
new_codes &lt;- c("010594Y9032", "010594Y9021", "020594X903P")
hetu(new_codes)

</code></pre>

<hr>
<h2 id='hetu_control_char'>Calculate Control Character for Personal Identity Code</h2><span id='topic+hetu_control_char'></span>

<h3>Description</h3>

<p>Calculate a valid control character for an incomplete
Finnish personal identity codes (hetu).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hetu_control_char(pin, with.century = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hetu_control_char_+3A_pin">pin</code></td>
<td>
<p>An incomplete PIN that ONLY has a date, century marker (optional,
see parameter with.century) and personal number</p>
</td></tr>
<tr><td><code id="hetu_control_char_+3A_with.century">with.century</code></td>
<td>
<p>If TRUE (default), the function assumes that the PIN
input contains a century marker (DDMMYYQZZZ). If FALSE, the function
assumes that the PIN contains only date and personal number (DDMMYYZZZ).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method of calculating the control character was devised by
mathematician Erkki Pale (1962) to detect input errors but also to
detect errors produced by early punch card machines. The long number
produced by writing the birth date and the personal number together are
divided by 31 and the remainder is used to look up the control character
from a separate table containing alphanumeric characters except letters
G, I, O, Q and Z.
</p>
<p>The method of calculating the control character does not need century
character and therefore the function has an option to omit it.
</p>


<h3>Value</h3>

<p>Control character, either a number 0-9 or a letter.
</p>


<h3>Author(s)</h3>

<p>Pyry Kantanen
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hetu">hetu</a></code> For extracting information from Finnish personal
identity codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hetu_control_char("010101-010")
hetu_control_char("010101010", with.century = FALSE)
</code></pre>

<hr>
<h2 id='hetu_diagnostic'>Diagnostics Tool for Personal Identity Codes</h2><span id='topic+hetu_diagnostic'></span><span id='topic+pin_diagnostic'></span>

<h3>Description</h3>

<p>Prints information on the tests that are used
to confirm or reject the validity of each personal identity code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hetu_diagnostic(pin, extract = NULL)

pin_diagnostic(pin, extract = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hetu_diagnostic_+3A_pin">pin</code></td>
<td>
<p>Finnish personal identification number as a character vector,
or vector of identification numbers as a character vectors</p>
</td></tr>
<tr><td><code id="hetu_diagnostic_+3A_extract">extract</code></td>
<td>
<p>Extract only selected part of the diagnostic information.
Valid values are &quot;<code>hetu</code>&quot;, &quot;<code>is.temp</code>&quot;, &quot;<code>valid.p.num</code>&quot;,
&quot;<code>valid.ctrl.char</code>&quot;, &quot;<code>correct.ctrl.char</code>&quot;, &quot;<code>valid.date</code>&quot;,
&quot;<code>valid.day</code>&quot;, &quot;<code>valid.month</code>&quot;, &quot;<code>valid.length</code>&quot;,
&quot;<code>valid.century</code>&quot;. If <code>NULL</code> (default), returns all information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing diagnostic checks about PINs.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hetu">hetu</a></code> for the main function on which
<code>hetu_diagnostic</code> relies on.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>diagnosis_example &lt;- c("010101-0102", "111111-111Q",
"010101B0101", "320101-0101", "011301-0101",
"010101-01010", "010101-0011", "010101-9011", "010101-901S")
## Print all diagnostics for various fake personal identity codes
hetu_diagnostic(diagnosis_example)
# Extract century-related checks
hetu_diagnostic(diagnosis_example, extract = "valid.century")
# Print a summary in natural language
summary(hetu_diagnostic(diagnosis_example))
diagnosis_example &lt;- c("010101-0102", "111111-111Q",
"010101B0101", "320101-0101", "011301-0101",
"010101-01010", "010101-0011")
## Print all diagnoses
pin_diagnostic(diagnosis_example)
</code></pre>

<hr>
<h2 id='hetu-deprecated'>Deprecated functions in package <span class="pkg">hetu</span>.</h2><span id='topic+hetu-deprecated'></span><span id='topic+pin_to_date'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and will be defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned. Help pages for deprecated functions are
available at <code>help("-deprecated")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_to_date(pin)
</code></pre>


<h3><code>pin_to_date</code></h3>

<p>For <code>pin_to_date</code>, use <code><a href="#topic+pin_date">pin_date</a></code>.
</p>

<hr>
<h2 id='is.diagnostic'>Is an Object from Class &quot;diagnostic&quot;?</h2><span id='topic+is.diagnostic'></span>

<h3>Description</h3>

<p>Returns TRUE if the object has class &quot;diagnostic&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.diagnostic(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.diagnostic_+3A_object">object</code></td>
<td>
<p>Object to be tested</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE
</p>

<hr>
<h2 id='pin_age'>Extract Age from Personal Identity Code</h2><span id='topic+pin_age'></span><span id='topic+hetu_age'></span>

<h3>Description</h3>

<p>Calculate age in years, months, weeks or days from
personal identity codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_age(pin, date = Sys.Date(), timespan = "years", allow.temp = FALSE)

hetu_age(pin, date = Sys.Date(), timespan = "years", allow.temp = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pin_age_+3A_pin">pin</code></td>
<td>
<p>Finnish personal identity code(s) as a character vector</p>
</td></tr>
<tr><td><code id="pin_age_+3A_date">date</code></td>
<td>
<p>Date at which age is calculated. If a vector is provided it
must be of the same length as the <code>pin</code> argument.</p>
</td></tr>
<tr><td><code id="pin_age_+3A_timespan">timespan</code></td>
<td>
<p>Timespan to use to calculate age. The possible timespans are:
</p>

<ul>
<li> <p><code>years</code> (Default)
</p>
</li>
<li> <p><code>months</code>
</p>
</li>
<li> <p><code>weeks</code>
</p>
</li>
<li> <p><code>days</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="pin_age_+3A_allow.temp">allow.temp</code></td>
<td>
<p>Allow artificial or temporary PINs (personal numbers
900-999). If <code>FALSE</code> (default), only PINs intended for official
use (personal numbers 002-899) are allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Age as an integer vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_pin &lt;- c("010101-0101", "111111-111C")
pin_age(ex_pin, date = "2012-01-01")

ex_pin &lt;- c("010101-0101", "111111-111C")
hetu_age(ex_pin, date = "2012-01-01")
</code></pre>

<hr>
<h2 id='pin_ctrl'>Check Validity of Personal Identity Code</h2><span id='topic+pin_ctrl'></span><span id='topic+hetu_ctrl'></span>

<h3>Description</h3>

<p>Validate Finnish personal identity codes (hetu).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_ctrl(pin, allow.temp = FALSE)

hetu_ctrl(pin, allow.temp = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pin_ctrl_+3A_pin">pin</code></td>
<td>
<p>Finnish personal identity code(s) as a character vector</p>
</td></tr>
<tr><td><code id="pin_ctrl_+3A_allow.temp">allow.temp</code></td>
<td>
<p>If TRUE, temporary PINs (personal numbers 900-999) are
handled similarly to regular PINs (personal numbers 002-899), meaning
that otherwise valid temporary PIN will return a TRUE. Default
is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether the input vector contains valid
Finnish personal identity codes.
</p>


<h3>Author(s)</h3>

<p>Pyry Kantanen
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hetu">hetu</a></code> For extracting information from Finnish personal
identity codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pin_ctrl("010101-0101") # TRUE
pin_ctrl("010101-010A") # FALSE
pin_ctrl(c("010101-0101", "010101-010A")) # TRUE FALSE
hetu_ctrl("010101-0101") # TRUE
hetu_ctrl("010101-010A") # FALSE
hetu_ctrl(c("010101-0101", "010101-010A")) # TRUE FALSE
</code></pre>

<hr>
<h2 id='pin_date'>Extract Date of Birth from Personal Identity Code</h2><span id='topic+pin_date'></span><span id='topic+hetu_date'></span>

<h3>Description</h3>

<p>Returns the date of birth in date format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_date(pin, allow.temp = FALSE)

hetu_date(pin, allow.temp = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pin_date_+3A_pin">pin</code></td>
<td>
<p>Finnish personal identity code(s) as a character vector</p>
</td></tr>
<tr><td><code id="pin_date_+3A_allow.temp">allow.temp</code></td>
<td>
<p>Allow artificial or temporary PINs (personal numbers
900-999). If <code>FALSE</code> (default), only PINs intended for official
use (personal numbers 002-899) are allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Date of birth as a vector in date format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pin_date(c("010101-0101", "111111-111C"))

hetu_date(c("010101-0101", "111111-111C"))
</code></pre>

<hr>
<h2 id='pin_sex'>Extract Sex from Personal Identity Code</h2><span id='topic+pin_sex'></span><span id='topic+hetu_sex'></span>

<h3>Description</h3>

<p>Extract sex (as binary) from Finnish personal identification
code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_sex(pin, allow.temp = TRUE)

hetu_sex(pin, allow.temp = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pin_sex_+3A_pin">pin</code></td>
<td>
<p>Finnish personal identity code(s) as a character vector</p>
</td></tr>
<tr><td><code id="pin_sex_+3A_allow.temp">allow.temp</code></td>
<td>
<p>Allow artificial or temporary PINs (personal numbers
900-999). If <code>FALSE</code> (default), only PINs intended for official
use (personal numbers 002-899) are allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Factor with label 'Male' and 'Female'.
</p>


<h3>Author(s)</h3>

<p>Pyry Kantanen, Leo Lahti
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hetu">hetu</a></code> For general information extraction
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pin_sex("010101-010A")
hetu_sex("010101-010A")
</code></pre>

<hr>
<h2 id='pin_to_date-deprecated'>ID to Date.</h2><span id='topic+pin_to_date-deprecated'></span>

<h3>Description</h3>

<p>Calculates the date of birth in date format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_to_date(pin)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pin_to_date-deprecated_+3A_pin">pin</code></td>
<td>
<p>Finnish ID number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Date of birth as a vector in date format.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hetu-deprecated">hetu-deprecated</a></code>
</p>

<hr>
<h2 id='plot.diagnostic'>Plotting method for diagnostic class objects</h2><span id='topic+plot.diagnostic'></span>

<h3>Description</h3>

<p>Creates a concise plot that visualizes TRUE and FALSE cases
in a diagnostics data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'diagnostic'
plot(x, negate.logicals = FALSE, labels = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.diagnostic_+3A_x">x</code></td>
<td>
<p>a &quot;summary.diagnostic&quot; object</p>
</td></tr>
<tr><td><code id="plot.diagnostic_+3A_negate.logicals">negate.logicals</code></td>
<td>
<p>negate TRUE and FALSE logicals, default is FALSE.
Sometimes it may be beneficial to emphasize FALSE cases instead of TRUE</p>
</td></tr>
<tr><td><code id="plot.diagnostic_+3A_labels">labels</code></td>
<td>
<p>include column labels on y-axis, default is TRUE</p>
</td></tr>
<tr><td><code id="plot.diagnostic_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods, such as graphical parameters.
For example:
</p>

<ul>
<li><p><strong>type</strong> what type of plot should be drawn.
Default is &quot;h&quot; for histogram / high density vertical lines.
</p>
</li>
<li><p><strong>lwd</strong> line width as double Default is 1.0
</p>
</li></ul>

<p>See <code><a href="base.html#topic+plot">plot</a></code> and <code><a href="graphics.html#topic+par">par</a></code> for
more options</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There seems to be no canonical answer on what to call this type of
plot. Some of the names that can be found online when describing a plot for
binary response value on an axis are: a one-dimensional scatterplot,
a sparkline, a rug plot, or a strip plot / strip chart.
</p>

<hr>
<h2 id='quickdf'>Quick Data Frame</h2><span id='topic+quickdf'></span>

<h3>Description</h3>

<p>Speedups in data.frame creation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quickdf(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="quickdf_+3A_x">x</code></td>
<td>
<p>named list of equal length vectors</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is 20x faster than as.data.frame.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>HW/LL
</p>


<h3>References</h3>

<p>Idea borrowed from <a href="http://adv-r.had.co.nz/Profiling.html">http://adv-r.had.co.nz/Profiling.html</a>.
</p>

<hr>
<h2 id='rbid'>Generate Random Finnish Business ID's (Y-tunnus)</h2><span id='topic+rbid'></span>

<h3>Description</h3>

<p>A function that generates random Finnish Business ID's, <code>bid</code>-numbers
(Y-tunnus).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbid(n)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rbid_+3A_n">n</code></td>
<td>
<p>number of generated BIDs</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of generated <code>BID</code>-numbers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rbid(3)
bid_ctrl(x)
</code></pre>

<hr>
<h2 id='rpin'>Generate Random Personal Identity Codes</h2><span id='topic+rpin'></span><span id='topic+rhetu'></span>

<h3>Description</h3>

<p>A function that generates random Finnish personal identity codes
(<code>hetu</code> codes).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpin(
  n,
  start.date = as.Date("1895-01-01"),
  end.date = Sys.Date(),
  p.male = 0.4,
  p.temp = 0,
  num.cores = 1
)

rhetu(
  n,
  start.date = as.Date("1895-01-01"),
  end.date = Sys.Date(),
  p.male = 0.4,
  p.temp = 0,
  num.cores = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rpin_+3A_n">n</code></td>
<td>
<p>number of generated <code>hetu</code>-pins</p>
</td></tr>
<tr><td><code id="rpin_+3A_start.date">start.date</code></td>
<td>
<p>Lower limit of generated <code>hetu</code> dates,
character string in ISO 8601 standard, for example &quot;2001-02-03&quot;.
Default is &quot;1895-01-01&quot;.</p>
</td></tr>
<tr><td><code id="rpin_+3A_end.date">end.date</code></td>
<td>
<p>Upper limit of generated <code>hetu</code>.
Default is current date.</p>
</td></tr>
<tr><td><code id="rpin_+3A_p.male">p.male</code></td>
<td>
<p>Probability of males, between 0.0 and 1.0. Default is 0.4.</p>
</td></tr>
<tr><td><code id="rpin_+3A_p.temp">p.temp</code></td>
<td>
<p>Probability of temporary identification numbers, between
0.0 and 1.0. Default is 0.0.</p>
</td></tr>
<tr><td><code id="rpin_+3A_num.cores">num.cores</code></td>
<td>
<p>The number of cores for parallel processing. The number
of available cores can be determined with <code>detectCores()</code>.
Default is 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will return an error &quot;too few positive probabilities&quot; in
<code><a href="base.html#topic+sample.int">sample.int</a></code> function if you try to generate too many codes
in a short enough timeframe. The theoretical upper limit of valid PINs is
in the millions, but the number of valid PINs per day used to be 898 PINs
at maximum, meaning 327770 for each year. Attempting to generate e.g.
a 1000 pins for a timespan of one day would result in an error.
</p>
<p>In practice this theoretical upper limit number was
much lower since the old practice was that the same personal number
component cannot be &quot;recycled&quot; if it has been used in the past.
To illustrate, if an identity code &quot;010101-0101&quot; has already been assigned
to someone born in 1901-01-01, a similar code &quot;010101A0101&quot; for someone
born in 2001-01-01 could not be used.
</p>
<p>In hetu package version 1.1.0 we have taken into account a new government
decree that increased the amount of valid century markers and therefore
increased the amount of valid personal codes per day. Additionally, the
decree has made it possible to recycle individual codes, as the century
marker is now thought to be a distinguishing character of the personal
identity code.
</p>
<p>However, the current implementation still keeps the old 898 codes per day
limit intact, and assigns new century markers with a low probability: old
markers &quot;-&quot; and &quot;A&quot; are given a 95 
markers are given a 1 
</p>
<p>In the future this may be altered
into a waterfall pattern so that the initial 898 codes for each date
get &quot;-&quot; as the century marker, the next 898 get &quot;Y&quot;, and so on.
This would mean that each day would have 5388 valid codes and the
distribution of century markers would be more
realistic in the sense that additional century markers are taken into use
only after the previous range has been exhausted. However, this would
require generating rather large datasets even for basic testing purposes.
</p>


<h3>Value</h3>

<p>a vector of generated <code>hetu</code>-pins.
</p>


<h3>Author(s)</h3>

<p>Pyry Kantanen, Jussi Paananen
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rpin(3)
hetu(x)
hetu(x, extract = "sex")
hetu(x, extract = "ctrl.char")

x &lt;- rhetu(3)
x
</code></pre>

<hr>
<h2 id='satu_control_char'>Finnish Unique Identification Number Control Character Calculator</h2><span id='topic+satu_control_char'></span>

<h3>Description</h3>

<p>Calculate a valid control character for an incomplete
Finnish Unique Identification Number (FINUID, or sähköinen asiointitunnus
SATU).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>satu_control_char(pin, print.full = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="satu_control_char_+3A_pin">pin</code></td>
<td>
<p>An incomplete FINUID that has 8 first numbers.</p>
</td></tr>
<tr><td><code id="satu_control_char_+3A_print.full">print.full</code></td>
<td>
<p>Should the function print only the whole FINUID-number
(TRUE) or only the control character (FALSE). Default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method of calculating the control character was devised by
mathematician Erkki Pale (1962) to detect input errors but also to
detect errors produced by early punch card machines. The long number
produced by writing the birth date and the personal number together are
divided by 31 and the remainder is used to look up the control character
from a separate table containing alphanumeric characters except letters
G, I, O, Q and Z.
</p>
<p>The method of calculating the control character does not need century
character and therefore the function has an option to omit it.
</p>


<h3>Value</h3>

<p>Control character, either a number 0-9 or a letter (length 1
character). If parameter print.full is set to TRUE, the function returns
a complete FINUID / SATU number (length 9 characters).
</p>


<h3>Author(s)</h3>

<p>Pyry Kantanen
</p>


<h3>See Also</h3>

<p>For more detailed information about FINUID, see Finnish Digital and
population data services agency website:
<a href="https://dvv.fi/en/citizen-certificate-and-electronic-identity">https://dvv.fi/en/citizen-certificate-and-electronic-identity</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The first assigned FINUID number, 10000001N.
satu_control_char("10000001")
</code></pre>

<hr>
<h2 id='satu_ctrl'>Check Validity of Finnish Unique Identification Number (SATU)</h2><span id='topic+satu_ctrl'></span>

<h3>Description</h3>

<p>A function that checks whether a <code>satu</code> (Finnish Unique Identification
Number) is valid. Returns <code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>satu_ctrl(satu)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="satu_ctrl_+3A_satu">satu</code></td>
<td>
<p>a vector of 1 or more Unique Identification Numbers</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>satu_ctrl("10000001N") # TRUE
satu_ctrl(c("10000001N", "20000001B")) # TRUE FALSE
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package STICr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {STICr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#apply_calibration'><p>apply_calibration</p></a></li>
<li><a href='#calibrated_stic_data'><p>Example calibrated STIC output data.</p></a></li>
<li><a href='#calibration_standard_data'><p>Example calibration STIC lab data.</p></a></li>
<li><a href='#classified_df'><p>Example classified STIC output data.</p></a></li>
<li><a href='#classify_wetdry'><p>classify_wetdry</p></a></li>
<li><a href='#field_obs'><p>Example field observations that could be compared to classified STIC data.</p></a></li>
<li><a href='#get_calibration'><p>get_calibration</p></a></li>
<li><a href='#qaqc_stic_data'><p>qaqc_stic_data</p></a></li>
<li><a href='#test_threshold'><p>test_threshold.R</p></a></li>
<li><a href='#tidy_hobo_data'><p>tidy_hobo_data</p></a></li>
<li><a href='#tidy_stic_data'><p>Example tidied STIC output data.</p></a></li>
<li><a href='#trim_hobo_data'><p>trim_hobo_data</p></a></li>
<li><a href='#validate_stic_data'><p>validate_stic_data.R</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Process Stream Temperature, Intermittency, and Conductivity
(STIC) Sensor Data</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of functions for processing raw data from Stream Temperature, Intermittency, and Conductivity (STIC) loggers. 'STICr' (pronounced "sticker") includes functions for tidying, calibrating, classifying, and doing quality checks on data from STIC sensors. Some package functionality is described in Wheeler/Zipper et al. (2023) &lt;<a href="https://doi.org/10.31223%2FX5636K">doi:10.31223/X5636K</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/HEAL-KGS/STICr">https://github.com/HEAL-KGS/STICr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/HEAL-KGS/STICr/issues">https://github.com/HEAL-KGS/STICr/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, lubridate, stringr, tidyr, methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-02 14:43:36 UTC; s947z036</td>
</tr>
<tr>
<td>Author:</td>
<td>Sam Zipper <a href="https://orcid.org/0000-0002-8735-5757"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Christopher T. Wheeler
    <a href="https://orcid.org/0000-0001-9368-383X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Stephen Cook <a href="https://orcid.org/0000-0003-3642-1790"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Delaney Peterson <a href="https://orcid.org/0000-0002-3444-4772"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Sarah Godsey <a href="https://orcid.org/0000-0001-6529-7886"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sam Zipper &lt;samzipper@ku.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-02 15:40:24 UTC</td>
</tr>
</table>
<hr>
<h2 id='apply_calibration'>apply_calibration</h2><span id='topic+apply_calibration'></span>

<h3>Description</h3>

<p>This function takes the cleaned data frame generated by <code>tidy_hobo_data</code> and the fitted model object generated by <code>get_calibration</code>. It outputs a data frame with the same columns as the input, plus a calibrated specific conductivity column called SpC.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_calibration(stic_data, calibration, outside_std_range_flag = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="apply_calibration_+3A_stic_data">stic_data</code></td>
<td>
<p>A data frame with a column named <code>condUncal</code>, for example as produced by the function <a href="#topic+tidy_hobo_data">tidy_hobo_data</a>.</p>
</td></tr>
<tr><td><code id="apply_calibration_+3A_calibration">calibration</code></td>
<td>
<p>a model object relating <code>condUncal</code> to a standard of some sort, for example as produced by the function <a href="#topic+get_calibration">get_calibration</a>.</p>
</td></tr>
<tr><td><code id="apply_calibration_+3A_outside_std_range_flag">outside_std_range_flag</code></td>
<td>
<p>a logical argument indicating whether the user would like to include an additional column flagging (with the letter &quot;O&quot;) instances where the calibrated SpC value is outside the range of standards used to calibrate it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same data frame as input, except with a new column called <code>SpC</code>. This will be in the same units as the data used to develop the model calibration.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>calibration &lt;- get_calibration(calibration_standard_data)
calibrated_df &lt;- apply_calibration(tidy_stic_data, calibration, outside_std_range_flag = TRUE)
head(calibrated_df)

</code></pre>

<hr>
<h2 id='calibrated_stic_data'>Example calibrated STIC output data.</h2><span id='topic+calibrated_stic_data'></span>

<h3>Description</h3>

<p>Calibrated STIC data used for function examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calibrated_stic_data
</code></pre>


<h3>Format</h3>

<p>## 'calibrated_stic_data'
A data frame with 1000 rows and 4 columns:
</p>

<dl>
<dt>datetime</dt><dd><p>Date and time of measurement.</p>
</dd>
<dt>condUncal</dt><dd><p>Raw uncalibrated conductivity recorded by STIC logger.</p>
</dd>
<dt>tempC</dt><dd><p>Temperature recorded by STIC logger.</p>
</dd>
<dt>SpC</dt><dd><p>Specific conductance calculated using 'apply_calibration' function.</p>
</dd>
</dl>



<h3>Source</h3>

<p>AIMS project data.
</p>

<hr>
<h2 id='calibration_standard_data'>Example calibration STIC lab data.</h2><span id='topic+calibration_standard_data'></span>

<h3>Description</h3>

<p>Example calibration data for STIC sensor for conversion from uncalibrated conductivity to specific conductivity ('SpC').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calibration_standard_data
</code></pre>


<h3>Format</h3>

<p>## 'calibration_standard_data'
A data frame with 4 rows and 3 columns:
</p>

<dl>
<dt>sensor</dt><dd><p>Serial number for STIC sensor.</p>
</dd>
<dt>standard</dt><dd><p>Specific conductance ('SpC') standard values used for soaking STIC.</p>
</dd>
<dt>condUncal</dt><dd><p>Uncalibrated conductivity recorded by STIC when soaked in each standard.</p>
</dd>
</dl>



<h3>Source</h3>

<p>AIMS project data.
</p>

<hr>
<h2 id='classified_df'>Example classified STIC output data.</h2><span id='topic+classified_df'></span>

<h3>Description</h3>

<p>Classified STIC data used for function examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>classified_df
</code></pre>


<h3>Format</h3>

<p>## 'classified_df'
A data frame with 1000 rows and 5 columns:
</p>

<dl>
<dt>datetime</dt><dd><p>Date and time of measurement.</p>
</dd>
<dt>condUncal</dt><dd><p>Raw uncalibrated conductivity recorded by STIC logger.</p>
</dd>
<dt>tempC</dt><dd><p>Temperature recorded by STIC logger.</p>
</dd>
<dt>SpC</dt><dd><p>Specific conductance calculated using 'apply_calibration' function.</p>
</dd>
<dt>wetdry</dt><dd><p>Classified STIC data created by 'classify_wetdry' function.</p>
</dd>
</dl>



<h3>Source</h3>

<p>AIMS project data.
</p>

<hr>
<h2 id='classify_wetdry'>classify_wetdry</h2><span id='topic+classify_wetdry'></span>

<h3>Description</h3>

<p>This is a function to classify STIC data into a binary &quot;wet&quot; and &quot;dry&quot; column. Data can be classified according to any classification variable defined by the user. User can choose one of two methods for classification: either an absolute numerical threshold or as a chosen percentage of the maximum value of the classification variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>classify_wetdry(stic_data, classify_var, threshold, method)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="classify_wetdry_+3A_stic_data">stic_data</code></td>
<td>
<p>A data frame with STIC data, such as that produced by <a href="#topic+apply_calibration">apply_calibration</a> or <a href="#topic+tidy_hobo_data">tidy_hobo_data</a>.</p>
</td></tr>
<tr><td><code id="classify_wetdry_+3A_classify_var">classify_var</code></td>
<td>
<p>Name of the column in data frame you want to use for classification.</p>
</td></tr>
<tr><td><code id="classify_wetdry_+3A_threshold">threshold</code></td>
<td>
<p>This is the user-defined threshold for determining wet versus dry based on the designated classification variable. If using the <code>"absolute"</code> method, the threshold will be a value in the same units as the designated classification variable. If using the <code>"percent"</code> method, the value will be a decimal percentage (range 0-1) of the max value of the classification variable in the data frame. Values above this proportion of the maximum will be designated as wet. If using the <code>"y-intercept"</code> method, this should be a model fit used to generate calibrated <code>SpC</code> values such as that produced by <a href="#topic+get_calibration">get_calibration</a>.</p>
</td></tr>
<tr><td><code id="classify_wetdry_+3A_method">method</code></td>
<td>
<p>User chooses which classification method used to generate the binary data. <code>"absolute"</code> uses an absolute numerical threshold for classifying wet vs dry. <code>"percent"</code> uses a threshold based on a given percentage of the maximum value of the classification variable in the data frame. <code>"y-intercept"</code> uses the y-intercept from the <a href="#topic+get_calibration">get_calibration</a> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same data frame as input, but with a new column called <code>"wetdry"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>classified_df &lt;-
  classify_wetdry(calibrated_stic_data,
    classify_var = "SpC", method = "absolute", threshold = 200
  )
head(classified_df)
</code></pre>

<hr>
<h2 id='field_obs'>Example field observations that could be compared to classified STIC data.</h2><span id='topic+field_obs'></span>

<h3>Description</h3>

<p>Example field observations that could be compared to classified STIC data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>field_obs
</code></pre>


<h3>Format</h3>

<p>## 'field_obs'
A data frame with 5 rows and 3 columns:
</p>

<dl>
<dt>datetime</dt><dd><p>Date and time of field observation.</p>
</dd>
<dt>wetdry</dt><dd><p>Field observation of stream water status ('wet' or 'dry').</p>
</dd>
<dt>SpC</dt><dd><p>Field observations of specific conductance.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Made up data.
</p>

<hr>
<h2 id='get_calibration'>get_calibration</h2><span id='topic+get_calibration'></span>

<h3>Description</h3>

<p>This is a function to fit specific conductivity (<code>SpC</code>) standards and uncalibrated conductivity measured by the STIC to a model object. This model can then be used to predict SpC values using <a href="#topic+apply_calibration">apply_calibration</a>. As of right now, only linear models are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_calibration(calibration_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_calibration_+3A_calibration_data">calibration_data</code></td>
<td>
<p>STIC calibration data frame with columns <code>"standard"</code> and <code>"condUncal"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A fitted <code>lm</code> model object relating <code>SpC</code> to the uncalibrated conductivity values measured by the STIC
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(calibration_standard_data)
lm_calibration &lt;- get_calibration(calibration_standard_data)
summary(lm_calibration)

</code></pre>

<hr>
<h2 id='qaqc_stic_data'>qaqc_stic_data</h2><span id='topic+qaqc_stic_data'></span>

<h3>Description</h3>

<p>This function provides multiple options for QAQC flagging of processed and classified STIC data frames, such as those generated by the <a href="#topic+classify_wetdry">classify_wetdry</a> function.
Users can select which operations are to be performed, and a single new QAQC column is created with all flags concatenated. QAQC options currently include: (1) correction and flagging of negative SPC values resulting from the calibration process, i.e., changing the negative values to 0 and flagging this
(2) inspecting the wetdry classification time series for potential deviation anomalies based on user-defined windows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qaqc_stic_data(
  stic_data,
  spc_neg_correction = TRUE,
  inspect_deviation = TRUE,
  deviation_size = NULL,
  window_size = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qaqc_stic_data_+3A_stic_data">stic_data</code></td>
<td>
<p>A data frame with classified STIC data, such as that produced by <code>classify_wetdry</code>.</p>
</td></tr>
<tr><td><code id="qaqc_stic_data_+3A_spc_neg_correction">spc_neg_correction</code></td>
<td>
<p>a logical argument indicating whether the user would like to correct negative SPC values resulting from the calibration process to 0.
The character code associated with this correction is <code>"C"</code>.</p>
</td></tr>
<tr><td><code id="qaqc_stic_data_+3A_inspect_deviation">inspect_deviation</code></td>
<td>
<p>a logical argument indicating whether the user would like to identify deviation anomalies, in which a series of wet or dry readings less than or equal to 'deviation_size' in length is surrounded on both sides by 'window_size' or more observations of its opposite.
This operation is meant to identify potentially suspect binary wet/dry data points for further examination.
The character code associated with this operation is <code>"D"</code>.</p>
</td></tr>
<tr><td><code id="qaqc_stic_data_+3A_deviation_size">deviation_size</code></td>
<td>
<p>a numeric argument specifying the maximum size (i.e., number of observations) of a clustered group of points that can be flagged as an deviation</p>
</td></tr>
<tr><td><code id="qaqc_stic_data_+3A_window_size">window_size</code></td>
<td>
<p>a numeric argument specifying the minimum size (i.e., number of observations) that the deviation must be surrounded by in order to be flagged</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same data frame as input, but with new QAQC columns or a single, concatenated QAQC column. The QAQC output
Can include: <code>"C"</code>, meaning the calibrated SpC value was negative from 'spc_neg_correction'; <code>"D"</code>, meaning the point was identified as
a deviation or deviation based on a moving window from 'inspect_deviation'; or <code>"O"</code>, meaning the calibrated SpC was
outside the standard range based on the function <code>apply_calibration</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>qaqc_df &lt;-
  qaqc_stic_data(classified_df,
    spc_neg_correction = TRUE,
    inspect_deviation = TRUE,
    deviation_size = 4, window_size = 96
  )
head(qaqc_df)
</code></pre>

<hr>
<h2 id='test_threshold'>test_threshold.R</h2><span id='topic+test_threshold'></span>

<h3>Description</h3>

<p>This function is intended to allow the user to visually assess the effects of classification threshold uncertainty on STIC classification. It takes the the model object used to calibrate SpC, as well as a classified STIC data frame with column names matching those produced by <a href="#topic+classify_wetdry">classify_wetdry</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_threshold(stic_data, calibration)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_threshold_+3A_stic_data">stic_data</code></td>
<td>
<p>classified STIC data frame with the variable names of that produced by <a href="#topic+classify_wetdry">classify_wetdry</a></p>
</td></tr>
<tr><td><code id="test_threshold_+3A_calibration">calibration</code></td>
<td>
<p>the model object used to calibrate SpC, generated by the <a href="#topic+get_calibration">get_calibration</a> function and used in <a href="#topic+apply_calibration">apply_calibration</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A time series plot of classified wet/dry observations through time using three different absolute classification thresholds: the y-intercept of the fitted model developed in get_calibration, the y-intercept plus one standard error, and the y-intercept minus one standard error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lm_calibration &lt;- get_calibration(calibration_standard_data)
threshold_testing_plot &lt;- test_threshold(stic_data = classified_df, calibration = lm_calibration)

</code></pre>

<hr>
<h2 id='tidy_hobo_data'>tidy_hobo_data</h2><span id='topic+tidy_hobo_data'></span>

<h3>Description</h3>

<p>This function loads raw HOBO STIC CSV files and cleans up columns and headers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_hobo_data(infile, outfile = FALSE, convert_utc = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tidy_hobo_data_+3A_infile">infile</code></td>
<td>
<p>filename (including path or URL if needed) for a raw CSV file exported from HOBOware.</p>
</td></tr>
<tr><td><code id="tidy_hobo_data_+3A_outfile">outfile</code></td>
<td>
<p>filename (including path if needed) to save the tidied data frame. Defaults to <code>FALSE</code>, in which case tidied data will not be saved.</p>
</td></tr>
<tr><td><code id="tidy_hobo_data_+3A_convert_utc">convert_utc</code></td>
<td>
<p>a logical argument indicating whether the user would like to convert from the time zone associated with their CSV to UTC</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tidied data frame with the following column names: <code>datetime</code>, <code>condUncal</code>, <code>tempC</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>clean_data &lt;-
  tidy_hobo_data(
    infile = "https://samzipper.com/data/raw_hobo_data.csv",
    outfile = FALSE, convert_utc = TRUE
  )
head(clean_data)

</code></pre>

<hr>
<h2 id='tidy_stic_data'>Example tidied STIC output data.</h2><span id='topic+tidy_stic_data'></span>

<h3>Description</h3>

<p>Example tidied STIC data for input to calibration and classification process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_stic_data
</code></pre>


<h3>Format</h3>

<p>## 'tidy_stic_data'
A data frame with 1000 rows and 3 columns:
</p>

<dl>
<dt>datetime</dt><dd><p>Date and time of measurement.</p>
</dd>
<dt>condUncal</dt><dd><p>Raw uncalibrated conductivity recorded by STIC logger.</p>
</dd>
<dt>tempC</dt><dd><p>Temperature recorded by STIC logger.</p>
</dd>
</dl>



<h3>Source</h3>

<p>AIMS project data.
</p>

<hr>
<h2 id='trim_hobo_data'>trim_hobo_data</h2><span id='topic+trim_hobo_data'></span>

<h3>Description</h3>

<p>This function trims a tidied hobo data frame by datetime to eliminate periods where the logger wad recording but not placed
in the stream network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_hobo_data(
  stic_data,
  time_start = "2021-07-16 18:00:00",
  time_end = "2021-07-27 01:00:00"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trim_hobo_data_+3A_stic_data">stic_data</code></td>
<td>
<p>A data frame with columns named <code>condUncal</code> and  <code>datetime</code>, for example as produced by the function <code>tidy_hobo_data</code>.</p>
</td></tr>
<tr><td><code id="trim_hobo_data_+3A_time_start">time_start</code></td>
<td>
<p>User enters the time at which the logger was placed in the stream network</p>
</td></tr>
<tr><td><code id="trim_hobo_data_+3A_time_end">time_end</code></td>
<td>
<p>User enters the time at which the logger was removed from the stream network</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tidied data frame with the same columns as the input, but trimmed to the user-defined time
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trimmed_data &lt;-
  trim_hobo_data(tidy_stic_data,
    time_start = "2021-07-16 18:00:00",
    time_end = "2021-07-27 01:00:00"
  )
head(trimmed_data)
</code></pre>

<hr>
<h2 id='validate_stic_data'>validate_stic_data.R</h2><span id='topic+validate_stic_data'></span>

<h3>Description</h3>

<p>This function takes a data frame with field observations of wet/dry status and SpC and generates both a confusion matrix for the wet/dry observations and a scatterplot comparing estimated SpC from the STICs to field-measured values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_stic_data(
  stic_data,
  field_observations,
  max_time_diff,
  join_cols,
  get_SpC,
  get_QAQC
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_stic_data_+3A_stic_data">stic_data</code></td>
<td>
<p>classified STIC data frame with the variable names of that produced by <a href="#topic+classify_wetdry">classify_wetdry</a>. At a minimum, there must be <code>datetime</code>, <code>condUncal</code>, and <code>wetdry</code> columns, and an <code>SpC</code> column if <code>get_SpC = T</code>.</p>
</td></tr>
<tr><td><code id="validate_stic_data_+3A_field_observations">field_observations</code></td>
<td>
<p>The input data frame of field observations must include a <code>datetime</code> column (in POSIXct format), as well as a column labeled <code>wetdry</code> consisting of the character strings “wet” or “dry” (as in the processed STIC data itself). Additionally, if field data on SpC was collected (e.g., with a sonde), this should be included as a third column called <code>SpC</code>, and units should be in µS/cm.</p>
</td></tr>
<tr><td><code id="validate_stic_data_+3A_max_time_diff">max_time_diff</code></td>
<td>
<p>Maximum allowed time difference (in minutes) between field observation and STIC reading to be counted as a match.</p>
</td></tr>
<tr><td><code id="validate_stic_data_+3A_join_cols">join_cols</code></td>
<td>
<p>A named vector of columns that need to be matched between <code>stic_data</code> and <code>field_observations</code> in addition to datetime. This could include, for instance, a column specifying the site at which the observation was collected. Should be in the format of <code>c("col_name_in_stic_data" = "col_name_in_field_observations")</code> and can have as many columns as desired. If there are no additional columns to be matched, set to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="validate_stic_data_+3A_get_spc">get_SpC</code></td>
<td>
<p>Logical flag whether to get STIC data for SpC (<code>T</code>) or not (<code>T</code>). You must have an <code>SpC</code> column in <code>stic_data</code> and <code>field_observations</code> if this is used.</p>
</td></tr>
<tr><td><code id="validate_stic_data_+3A_get_qaqc">get_QAQC</code></td>
<td>
<p>Logical flag whether to get the STIC QAQC data (<code>T</code>) or not (<code>T</code>). You must have an <code>QAQC</code> column in both <code>stic_data</code> if this is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>field_observations</code> data frame with new columns indicating the closest-in-time STIC wetdry classification (<code>wetdry_STIC</code>), SpC measurement (<code>SpC_STIC</code>; only if <code>get_SpC = T</code>), and time difference between the field observation and STIC reading (<code>timediff_min</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stic_validation &lt;-
  validate_stic_data(
    stic_data = classified_df,
    field_observations = field_obs,
    max_time_diff = 30,
    join_cols = NULL,
    get_SpC = TRUE,
    get_QAQC = FALSE
  )
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

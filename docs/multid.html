<!DOCTYPE html><html><head><title>Help for package multid</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {multid}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cvv'><p>Coefficient of variance variation</p></a></li>
<li><a href='#cvv_manual'><p>Coefficient of variance variation from manual input sample sizes and variance estimates</p></a></li>
<li><a href='#d_pooled_sd'><p>Standardized mean difference with pooled standard deviation</p></a></li>
<li><a href='#D_regularized'><p>Multivariate group difference estimation with regularized binomial regression</p></a></li>
<li><a href='#ddsc_ml'><p>Deconstructing difference score correlation with multi-level modeling</p></a></li>
<li><a href='#ddsc_sem'><p>Deconstructing difference score correlation with structural equation modeling</p></a></li>
<li><a href='#diff_two_dep_cors'><p>Difference between two dependent Pearson's correlations (with common index)</p></a></li>
<li><a href='#ml_dadas'><p>Predicting algebraic difference scores in multilevel model</p></a></li>
<li><a href='#pcc'><p>Returns probabilities of correct classification for both groups in independent data partition.</p></a></li>
<li><a href='#plot_ddsc'><p>Plot deconstructed difference score correlation</p></a></li>
<li><a href='#qcc'><p>Quantile correlation coefficient</p></a></li>
<li><a href='#reliability_dms'><p>Reliability calculation for difference score variable that is a difference between two mean variables calculated over upper-level units (e.g., sex differences across countries)</p></a></li>
<li><a href='#sem_dadas'><p>Predicting algebraic difference scores in structural equation model</p></a></li>
<li><a href='#value_correlation'><p>Testing and quantifying how much ipsatization (profile centering) influence associations between value and a correlate</p></a></li>
<li><a href='#vpc_at'><p>Variance partition coefficient calculated at different level-1 values</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Multivariate Difference Between Two Groups</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimation of multivariate differences between two groups (e.g., multivariate sex differences) with regularized regression methods and predictive approach. See Lönnqvist &amp; Ilmarinen (2021) &lt;<a href="https://doi.org/10.1007%2Fs11109-021-09681-2">doi:10.1007/s11109-021-09681-2</a>&gt; and Ilmarinen et al. (2023) &lt;<a href="https://doi.org/10.1177%2F08902070221088155">doi:10.1177/08902070221088155</a>&gt;.
    Includes tools that help in understanding difference score reliability, predictions of difference score variables, conditional intra-class correlations, and heterogeneity of variance estimates. Package development was supported by the Academy of Finland research grant 338891.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/vjilmari/multid/issues">https://github.com/vjilmari/multid/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.7), glmnet (&ge; 4.1.2), stats (&ge; 4.0.2), pROC
(&ge; 1.18.0), lavaan (&ge; 0.6.9), emmeans (&ge; 1.6.3), lme4 (&ge;
1.1.27.1), quantreg (&ge; 5.88), lmerTest (&ge; 3.1.3), ggpubr (&ge;
0.6.0), ggplot2 (&ge; 3.4.4)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr (&ge; 1.39), rmarkdown (&ge; 2.14), overlapping (&ge; 1.7),
rio (&ge; 0.5.29)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-15 12:10:13 UTC; vjilm</td>
</tr>
<tr>
<td>Author:</td>
<td>Ville-Juhani Ilmarinen
    <a href="https://orcid.org/0000-0001-9493-379X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ville-Juhani Ilmarinen &lt;vj.ilmarinen@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-15 13:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cvv'>Coefficient of variance variation</h2><span id='topic+cvv'></span>

<h3>Description</h3>

<p>Calculates three different indices for variation between two or more variance estimates.
VR = Variance ratio between the largest and the smallest variance.
CVV = Coefficient of variance variation (Box, 1954).
SVH = Standardized variance heterogeneity (Ruscio &amp; Roche, 2012).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cvv(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvv_+3A_data">data</code></td>
<td>
<p>Data frame of two or more columns or list of two or more variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector including VR, CVV, and SVH.
</p>


<h3>References</h3>

<p>Box, G. E. P. (1954). Some Theorems on Quadratic Forms Applied in the Study of Analysis of Variance Problems, I. Effect of Inequality of Variance in the One-Way Classification. The Annals of Mathematical Statistics, 25(2), 290–302.
</p>
<p>Ruscio, J., &amp; Roche, B. (2012). Variance Heterogeneity in Published Psychological Research: A Review and a New Index. Methodology, 8(1), 1–11. https://doi.org/10.1027/1614-2241/a000034
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- list(
  X1 = rnorm(10, sd = 10),
  X2 = rnorm(100, sd = 7.34),
  X3 = rnorm(1000, sd = 6.02),
  X4 = rnorm(100, sd = 5.17),
  X5 = rnorm(10, sd = 4.56)
)
cvv(d)
</code></pre>

<hr>
<h2 id='cvv_manual'>Coefficient of variance variation from manual input sample sizes and variance estimates</h2><span id='topic+cvv_manual'></span>

<h3>Description</h3>

<p>Calculates three different indices for variation between two or more variance estimates.
VR = Variance ratio between the largest and the smallest variance.
CVV = Coefficient of variance variation (Box, 1954).
SVH = Standardized variance heterogeneity (Ruscio &amp; Roche, 2012).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cvv_manual(sample_sizes, variances)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvv_manual_+3A_sample_sizes">sample_sizes</code></td>
<td>
<p>Numeric vector of length &gt; 1. Sample sizes used for each variance estimate.</p>
</td></tr>
<tr><td><code id="cvv_manual_+3A_variances">variances</code></td>
<td>
<p>Numeric vector of length &gt; 1. Variance estimates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector including VR, CVV, and SVH.
</p>


<h3>References</h3>

<p>Box, G. E. P. (1954). Some Theorems on Quadratic Forms Applied in the Study of Analysis of Variance Problems, I. Effect of Inequality of Variance in the One-Way Classification. The Annals of Mathematical Statistics, 25(2), 290–302.
</p>
<p>Ruscio, J., &amp; Roche, B. (2012). Variance Heterogeneity in Published Psychological Research: A Review and a New Index. Methodology, 8(1), 1–11. https://doi.org/10.1027/1614-2241/a000034
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cvv_manual(sample_sizes=c(10,100,1000,75,3),
variances=c(1.5,2,2.5,3,3.5))
</code></pre>

<hr>
<h2 id='d_pooled_sd'>Standardized mean difference with pooled standard deviation</h2><span id='topic+d_pooled_sd'></span>

<h3>Description</h3>

<p>Standardized mean difference with pooled standard deviation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_pooled_sd(
  data,
  var,
  group.var,
  group.values,
  rename.output = TRUE,
  infer = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d_pooled_sd_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="d_pooled_sd_+3A_var">var</code></td>
<td>
<p>A continuous variable for which difference is estimated.</p>
</td></tr>
<tr><td><code id="d_pooled_sd_+3A_group.var">group.var</code></td>
<td>
<p>The name of the group variable.</p>
</td></tr>
<tr><td><code id="d_pooled_sd_+3A_group.values">group.values</code></td>
<td>
<p>Vector of length 2, group values (e.g. c(&quot;male&quot;, &quot;female) or c(0,1)).</p>
</td></tr>
<tr><td><code id="d_pooled_sd_+3A_rename.output">rename.output</code></td>
<td>
<p>Logical. Should the output values be renamed according to the group.values? Default TRUE.</p>
</td></tr>
<tr><td><code id="d_pooled_sd_+3A_infer">infer</code></td>
<td>
<p>Logical. Statistical inference with Welch test? (default FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Descriptive statistics and mean differences
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_pooled_sd(iris[iris$Species == "setosa" | iris$Species == "versicolor", ],
  var = "Petal.Length", group.var = "Species",
  group.values = c("setosa", "versicolor"), infer = TRUE
)
</code></pre>

<hr>
<h2 id='D_regularized'>Multivariate group difference estimation with regularized binomial regression</h2><span id='topic+D_regularized'></span>

<h3>Description</h3>

<p>Multivariate group difference estimation with regularized binomial regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>D_regularized(
  data,
  mv.vars,
  group.var,
  group.values,
  alpha = 0.5,
  nfolds = 10,
  s = "lambda.min",
  type.measure = "deviance",
  rename.output = TRUE,
  out = FALSE,
  size = NULL,
  fold = FALSE,
  fold.var = NULL,
  pcc = FALSE,
  auc = FALSE,
  pred.prob = FALSE,
  prob.cutoffs = seq(0, 1, 0.2),
  append.data = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="D_regularized_+3A_data">data</code></td>
<td>
<p>A data frame or list containing two data frames (regularization and estimation data, in that order).</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_mv.vars">mv.vars</code></td>
<td>
<p>Character vector. Variable names in the multivariate variable set.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_group.var">group.var</code></td>
<td>
<p>The name of the group variable.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_group.values">group.values</code></td>
<td>
<p>Vector of length 2, group values (e.g. c(&quot;male&quot;, &quot;female) or c(0,1)).</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_alpha">alpha</code></td>
<td>
<p>Alpha-value for penalizing function ranging from 0 to 1: 0 = ridge regression, 1 = lasso, 0.5 = elastic net (default).</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_nfolds">nfolds</code></td>
<td>
<p>Number of folds used for obtaining lambda (range from 3 to n-1, default 10).</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_s">s</code></td>
<td>
<p>Which lambda value is used for predicted values? Either &quot;lambda.min&quot; (default) or &quot;lambda.1se&quot;.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_type.measure">type.measure</code></td>
<td>
<p>Which measure is used during cross-validation. Default &quot;deviance&quot;.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_rename.output">rename.output</code></td>
<td>
<p>Logical. Should the output values be renamed according to the group.values? Default TRUE.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_out">out</code></td>
<td>
<p>Logical. Should results and predictions be calculated on out-of-bag data set? (Default FALSE)</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_size">size</code></td>
<td>
<p>Integer. Number of cases in regularization data per each group. Default 1/4 of cases.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_fold">fold</code></td>
<td>
<p>Logical. Is regularization applied across sample folds with separate predictions for each fold? (Default FALSE, see details)</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_fold.var">fold.var</code></td>
<td>
<p>Character string. Name of the fold variable. (default NULL)</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_pcc">pcc</code></td>
<td>
<p>Logical. Include probabilities of correct classification? Default FALSE.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_auc">auc</code></td>
<td>
<p>Logical. Include area under the receiver operating characteristics? Default FALSE.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_pred.prob">pred.prob</code></td>
<td>
<p>Logical. Include table of predicted probabilities? Default FALSE.</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_prob.cutoffs">prob.cutoffs</code></td>
<td>
<p>Vector. Cutoffs for table of predicted probabilities. Default seq(0,1,0.20).</p>
</td></tr>
<tr><td><code id="D_regularized_+3A_append.data">append.data</code></td>
<td>
<p>Logical. If TRUE, the data is appended to the predicted variables.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>fold = TRUE</code> will apply manually defined data folds (supplied with fold.var) for regularization
and obtain estimates for each separately. This can be a good solution, for example, when the data are clustered
within countries. In such case, the cross-validation procedure is applied across countries.
</p>
<p><code>out = TRUE</code> will use separate data partition for regularization and estimation. That is, the first
cross-validation procedure is applied within the regularization set and the weights obtained are
then used in the estimation data partition. The size of regularization set is defined with <code>size</code>.
When used with <code>fold = TRUE</code>, size means size within a fold.&quot;
</p>
<p>For more details on these options, please refer to the <a href="https://CRAN.R-project.org/package=multid/vignettes/multivariate_sex_differences_in_personality.html">vignette</a> and <a href="https://CRAN.R-project.org/package=multid/readme/README.html">README</a> of the multid package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>D</code></td>
<td>
<p>Multivariate descriptive statistics and differences.</p>
</td></tr>
<tr><td><code>pred.dat</code></td>
<td>
<p>A data.frame with predicted values.</p>
</td></tr>
<tr><td><code>cv.mod</code></td>
<td>
<p>Regularized regression model from cv.glmnet.</p>
</td></tr>
<tr><td><code>P.table</code></td>
<td>
<p>Table of predicted probabilities by cutoffs.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Lönnqvist, J. E., &amp; Ilmarinen, V. J. (2021). Using a continuous measure of genderedness to assess sex differences in the attitudes of the political elite. Political Behavior, 43, 1779–1800. <a href="https://doi.org/10.1007/s11109-021-09681-2">doi:10.1007/s11109-021-09681-2</a>
</p>
<p>Ilmarinen, V. J., Vainikainen, M. P., &amp; Lönnqvist, J. E. (2023). Is there a g-factor of genderedness? Using a continuous measure of genderedness to assess sex differences in personality, values, cognitive ability, school grades, and educational track. European Journal of Personality, 37, 313-337. <a href="https://doi.org/10.1177/08902070221088155">doi:10.1177/08902070221088155</a>
</p>


<h3>See Also</h3>

<p><code><a href="glmnet.html#topic+cv.glmnet">cv.glmnet</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>D_regularized(
  data = iris[iris$Species == "setosa" | iris$Species == "versicolor", ],
  mv.vars = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
  group.var = "Species", group.values = c("setosa", "versicolor")
)$D

# out-of-bag predictions
D_regularized(
  data = iris[iris$Species == "setosa" | iris$Species == "versicolor", ],
  mv.vars = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
  group.var = "Species", group.values = c("setosa", "versicolor"),
  out = TRUE, size = 15, pcc = TRUE, auc = TRUE
)$D

# separate sample folds
# generate data for 10 groups
set.seed(34246)
n1 &lt;- 100
n2 &lt;- 10
d &lt;-
  data.frame(
    sex = sample(c("male", "female"), n1 * n2, replace = TRUE),
    fold = sample(x = LETTERS[1:n2], size = n1 * n2, replace = TRUE),
    x1 = rnorm(n1 * n2),
    x2 = rnorm(n1 * n2),
    x3 = rnorm(n1 * n2)
  )

# Fit and predict with same data
D_regularized(
  data = d,
  mv.vars = c("x1", "x2", "x3"),
  group.var = "sex",
  group.values = c("female", "male"),
  fold.var = "fold",
  fold = TRUE,
  rename.output = TRUE
)$D

# Out-of-bag data for each fold
D_regularized(
  data = d,
  mv.vars = c("x1", "x2", "x3"),
  group.var = "sex",
  group.values = c("female", "male"),
  fold.var = "fold",
  size = 17,
  out = TRUE,
  fold = TRUE,
  rename.output = TRUE
)$D
</code></pre>

<hr>
<h2 id='ddsc_ml'>Deconstructing difference score correlation with multi-level modeling</h2><span id='topic+ddsc_ml'></span>

<h3>Description</h3>

<p>Deconstructs a bivariate association between x and a difference score y1-y2 with multi-level modeling approach.
Within each upper-level unit (lvl2_unit) there can be multiple observations of y1 and y2.
Can be used for either pre-fitted lmer-models or to long format data.
A difference score correlation is indicative that slopes for y1 as function of x and y2 as function of x are non-parallel.
Deconstructing the bivariate association to these slopes allows for understanding the pattern and magnitude of this non-parallelism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ddsc_ml(
  model = NULL,
  data = NULL,
  predictor,
  moderator,
  moderator_values,
  DV = NULL,
  lvl2_unit = NULL,
  re_cov_test = FALSE,
  var_boot_test = FALSE,
  boot_slopes = FALSE,
  nsim = NULL,
  level = 0.95,
  seed = NULL,
  covariates = NULL,
  scaling_sd = "observed"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ddsc_ml_+3A_model">model</code></td>
<td>
<p>Multilevel model fitted with lmerTest.</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_data">data</code></td>
<td>
<p>Data frame.</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_predictor">predictor</code></td>
<td>
<p>Character string. Variable name of independent variable predicting difference score (i.e., x).</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_moderator">moderator</code></td>
<td>
<p>Character string. Variable name indicative of difference score components (w).</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_moderator_values">moderator_values</code></td>
<td>
<p>Vector. Values of the component score groups in moderator (i.e., y1 and y2).</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_dv">DV</code></td>
<td>
<p>Character string. Name of the dependent variable (if model is not supplied as input).</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_lvl2_unit">lvl2_unit</code></td>
<td>
<p>Character string. Name of the level-2 clustering variable (if model is not supplied as input).</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_re_cov_test">re_cov_test</code></td>
<td>
<p>Logical. Significance test for random effect covariation? (Default FALSE)</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_var_boot_test">var_boot_test</code></td>
<td>
<p>Logical. Compare variance by lower-level groups at the upper-level in a reduced model with bootstrap? (Default FALSE)</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_boot_slopes">boot_slopes</code></td>
<td>
<p>Logical. Are bootstrap estimates and percentile confidence intervals obtained for the estimates presented in results? (Default FALSE)</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_nsim">nsim</code></td>
<td>
<p>Numeric. Number of bootstrap simulations.</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_level">level</code></td>
<td>
<p>Numeric. The confidence level required for the var_boot_test output (Default .95)</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_seed">seed</code></td>
<td>
<p>Numeric. Seed number for bootstrap simulations.</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_covariates">covariates</code></td>
<td>
<p>Character string or vector. Variable names of covariates (Default NULL).</p>
</td></tr>
<tr><td><code id="ddsc_ml_+3A_scaling_sd">scaling_sd</code></td>
<td>
<p>Character string (either default &quot;observed&quot; or &quot;model&quot;). Are the simple slopes scaled with observed or model-based SDs?</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>results</code></td>
<td>
<p>Summary of key results.</p>
</td></tr>
<tr><td><code>descriptives</code></td>
<td>
<p>Means, standard deviations, and intercorrelations at level 2.</p>
</td></tr>
<tr><td><code>vpc_at_moderator_values</code></td>
<td>
<p>Variance partition coefficients for moderator values in the model without the predictor and interactions.</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>Fitted lmer object.</p>
</td></tr>
<tr><td><code>reduced_model</code></td>
<td>
<p>Fitted lmer object without the predictor.</p>
</td></tr>
<tr><td><code>lvl2_data</code></td>
<td>
<p>Data summarized at level 2.</p>
</td></tr>
<tr><td><code>ddsc_sem_fit</code></td>
<td>
<p>ddsc_sem object fitted to level 2 data.</p>
</td></tr>
<tr><td><code>re_cov_test</code></td>
<td>
<p>Likelihood ratio significance test for random effect covariation.</p>
</td></tr>
<tr><td><code>boot_var_diffs</code></td>
<td>
<p>List of different variance bootstrap tests.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(95332)
n1 &lt;- 10 # groups
n2 &lt;- 10 # observations per group
dat &lt;- data.frame(
  group = rep(c(LETTERS[1:n1]), each = n2),
  w = sample(c(-0.5, 0.5), n1 * n2, replace = TRUE),
  x = rep(sample(1:5, n1, replace = TRUE), each = n2),
  y = sample(1:5, n1 * n2, replace = TRUE)
)
library(lmerTest)
fit &lt;- lmerTest::lmer(y ~ x * w + (w | group),
                      data = dat
)
round(ddsc_ml(model=fit,
              predictor="x",
              moderator="w",
              moderator_values=c(0.5,-0.5))$results,3)

round(ddsc_ml(data=dat,
              DV="y",
              lvl2_unit="group",
              predictor="x",
              moderator="w",
              moderator_values=c(0.5,-0.5))$results,3)


## End(Not run)
</code></pre>

<hr>
<h2 id='ddsc_sem'>Deconstructing difference score correlation with structural equation modeling</h2><span id='topic+ddsc_sem'></span>

<h3>Description</h3>

<p>Deconstructs a bivariate association between x and a difference score y1-y2 with SEM.
A difference score correlation is indicative that slopes for y1 as function of x and y2 as function of x are non-parallel.
Deconstructing the bivariate association to these slopes allows for understanding the pattern and magnitude of this non-parallelism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ddsc_sem(
  data,
  x,
  y1,
  y2,
  center_yvars = FALSE,
  covariates = NULL,
  estimator = "ML",
  level = 0.95,
  sampling.weights = NULL,
  q_sesoi = 0,
  min_cross_over_point_location = 0,
  boot_ci = FALSE,
  boot_n = 5000,
  boot_ci_type = "perc"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ddsc_sem_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_x">x</code></td>
<td>
<p>Character string. Variable name of independent variable.</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_y1">y1</code></td>
<td>
<p>Character string. Variable name of first component score of difference score.</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_y2">y2</code></td>
<td>
<p>Character string. Variable name of second component score of difference score.</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_center_yvars">center_yvars</code></td>
<td>
<p>Logical. Should y1 and y2 be centered around their grand mean? (Default FALSE)</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_covariates">covariates</code></td>
<td>
<p>Character string or vector. Variable names of covariates (Default NULL).</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_estimator">estimator</code></td>
<td>
<p>Character string. Estimator used in SEM (Default &quot;ML&quot;).</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_level">level</code></td>
<td>
<p>Numeric. The confidence level required for the result output (Default .95)</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_sampling.weights">sampling.weights</code></td>
<td>
<p>Character string. Name of sampling weights variable.</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_q_sesoi">q_sesoi</code></td>
<td>
<p>Numeric. The smallest effect size of interest for Cohen's q estimates (Default 0; See Lakens et al. 2018).</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_min_cross_over_point_location">min_cross_over_point_location</code></td>
<td>
<p>Numeric. Z-score for the minimal slope cross-over point of interest (Default 0).</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_boot_ci">boot_ci</code></td>
<td>
<p>Logical. Calculate confidence intervals based on bootstrap (Default FALSE).</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_boot_n">boot_n</code></td>
<td>
<p>Numeric. How many bootstrap redraws (Default 5000).</p>
</td></tr>
<tr><td><code id="ddsc_sem_+3A_boot_ci_type">boot_ci_type</code></td>
<td>
<p>If bootstrapping was used, the type of interval required. The value should be one of &quot;norm&quot;, &quot;basic&quot;, &quot;perc&quot; (default), or &quot;bca.simple&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>descriptives</code></td>
<td>
<p>Means, standard deviations, and intercorrelations.</p>
</td></tr>
<tr><td><code>parameter_estimates</code></td>
<td>
<p>Parameter estimates from the structural equation model.</p>
</td></tr>
<tr><td><code>variance_test</code></td>
<td>
<p>Variances and covariances of component scores.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>Data frame with original and scaled variables used in SEM.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>Summary of key results.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Edwards, J. R. (1995). Alternatives to Difference Scores as Dependent Variables in the Study of Congruence in Organizational Research. Organizational Behavior and Human Decision Processes, 64(3), 307–324.
</p>
<p>Lakens, D., Scheel, A. M., &amp; Isager, P. M. (2018). Equivalence Testing for Psychological Research: A Tutorial. Advances in Methods and Practices in Psychological Science, 1(2), 259–269. https://doi.org/10.1177/2515245918770963
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(342356)
d &lt;- data.frame(
  y1 = rnorm(50),
  y2 = rnorm(50),
  x = rnorm(50)
)
ddsc_sem(
  data = d, y1 = "y1", y2 = "y2",
  x = "x",
  q_sesoi = 0.20,
  min_cross_over_point_location = 1
)$results

## End(Not run)
</code></pre>

<hr>
<h2 id='diff_two_dep_cors'>Difference between two dependent Pearson's correlations (with common index)</h2><span id='topic+diff_two_dep_cors'></span>

<h3>Description</h3>

<p>Calculates Cohen's q effect size statistic for difference between two correlations, r_yx1 and r_yx2.
Tests if Cohen's q is different from zero while accounting for dependency between the two correlations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diff_two_dep_cors(data, y, x1, x2, level = 0.95, missing = "default")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diff_two_dep_cors_+3A_data">data</code></td>
<td>
<p>Data frame.</p>
</td></tr>
<tr><td><code id="diff_two_dep_cors_+3A_y">y</code></td>
<td>
<p>Character. Variable name of the common index variable.</p>
</td></tr>
<tr><td><code id="diff_two_dep_cors_+3A_x1">x1</code></td>
<td>
<p>Character. Variable name.</p>
</td></tr>
<tr><td><code id="diff_two_dep_cors_+3A_x2">x2</code></td>
<td>
<p>Character. Variable name.</p>
</td></tr>
<tr><td><code id="diff_two_dep_cors_+3A_level">level</code></td>
<td>
<p>Numeric. The confidence level required for the result output (Default .95)</p>
</td></tr>
<tr><td><code id="diff_two_dep_cors_+3A_missing">missing</code></td>
<td>
<p>Character. Treatment of missing values (e.g., &quot;ML&quot;, default = listwise deletion)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Parameter estimates from the fitted structural path model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(3864)
d&lt;-data.frame(y=rnorm(100),x=rnorm(100))
d$x1&lt;-d$x+rnorm(100)
d$x2&lt;-d$x+rnorm(100)
diff_two_dep_cors(data=d,y="y",x1="x1",x2="x2")
</code></pre>

<hr>
<h2 id='ml_dadas'>Predicting algebraic difference scores in multilevel model</h2><span id='topic+ml_dadas'></span>

<h3>Description</h3>

<p>Decomposes difference score predictions to predictions of difference score components by probing simple effects at the levels of the binary moderator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ml_dadas(
  model,
  predictor,
  diff_var,
  diff_var_values,
  scaled_estimates = FALSE,
  re_cov_test = FALSE,
  var_boot_test = FALSE,
  nsim = NULL,
  level = 0.95,
  seed = NULL,
  abs_diff_test = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ml_dadas_+3A_model">model</code></td>
<td>
<p>Multilevel model fitted with lmerTest.</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_predictor">predictor</code></td>
<td>
<p>Character string. Variable name of independent variable predicting difference score.</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_diff_var">diff_var</code></td>
<td>
<p>Character string. A variable indicative of difference score components (two groups).</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_diff_var_values">diff_var_values</code></td>
<td>
<p>Vector. Values of the component score groups in diff_var.</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_scaled_estimates">scaled_estimates</code></td>
<td>
<p>Logical. Are scaled estimates obtained? Does fit a reduced model for correct standard deviations. (Default FALSE)</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_re_cov_test">re_cov_test</code></td>
<td>
<p>Logical. Significance test for random effect covariation? Does fit a reduced model without the correlation. (Default FALSE)</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_var_boot_test">var_boot_test</code></td>
<td>
<p>Logical. Compare variance by lower-level groups at the upper-level in a reduced model with bootstrap? (Default FALSE)</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_nsim">nsim</code></td>
<td>
<p>Numeric. Number of bootstrap simulations.</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_level">level</code></td>
<td>
<p>Numeric. The confidence level required for the var_boot_test output (Default .95)</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_seed">seed</code></td>
<td>
<p>Numeric. Seed number for bootstrap simulations.</p>
</td></tr>
<tr><td><code id="ml_dadas_+3A_abs_diff_test">abs_diff_test</code></td>
<td>
<p>Numeric. A value against which absolute difference between component score predictions is tested (Default 0).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>dadas</code></td>
<td>
<p>A data frame including main effect, interaction, regression coefficients for component scores, dadas, and comparison between interaction and main effect.</p>
</td></tr>
<tr><td><code>scaled_estimates</code></td>
<td>
<p>Scaled regression coefficients for difference score components and difference score.</p>
</td></tr>
<tr><td><code>vpc_at_reduced</code></td>
<td>
<p>Variance partition coefficients in the model without the predictor and interactions.</p>
</td></tr>
<tr><td><code>re_cov_test</code></td>
<td>
<p>Likelihood ratio significance test for random effect covariation.</p>
</td></tr>
<tr><td><code>boot_var_diffs</code></td>
<td>
<p>List of different variance bootstrap tests.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(95332)
n1 &lt;- 10 # groups
n2 &lt;- 10 # observations per group

dat &lt;- data.frame(
  group = rep(c(LETTERS[1:n1]), each = n2),
  w = sample(c(-0.5, 0.5), n1 * n2, replace = TRUE),
  x = rep(sample(1:5, n1, replace = TRUE), each = n2),
  y = sample(1:5, n1 * n2, replace = TRUE)
)
library(lmerTest)
fit &lt;- lmerTest::lmer(y ~ x * w + (w | group),
  data = dat
)

round(ml_dadas(fit,
  predictor = "x",
  diff_var = "w",
  diff_var_values = c(0.5, -0.5)
)$dadas, 3)

## End(Not run)
</code></pre>

<hr>
<h2 id='pcc'>Returns probabilities of correct classification for both groups in independent data partition.</h2><span id='topic+pcc'></span>

<h3>Description</h3>

<p>Returns probabilities of correct classification for both groups in independent data partition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pcc(data, pred.var, group.var, group.values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pcc_+3A_data">data</code></td>
<td>
<p>Data frame including predicted values (e.g., pred.dat from D_regularized_out).</p>
</td></tr>
<tr><td><code id="pcc_+3A_pred.var">pred.var</code></td>
<td>
<p>Character string. Variable name for predicted values.</p>
</td></tr>
<tr><td><code id="pcc_+3A_group.var">group.var</code></td>
<td>
<p>The name of the group variable.</p>
</td></tr>
<tr><td><code id="pcc_+3A_group.values">group.values</code></td>
<td>
<p>Vector of length 2, group values (e.g. c(&quot;male&quot;, &quot;female) or c(0,1)).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of length 2. Probabilities of correct classification.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>D_out &lt;- D_regularized(
  data = iris[iris$Species == "versicolor" | iris$Species == "virginica", ],
  mv.vars = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
  group.var = "Species", group.values = c("versicolor", "virginica"),
  out = TRUE,
  size = 15
)

pcc(
  data = D_out$pred.dat,
  pred.var = "pred",
  group.var = "group",
  group.values = c("versicolor", "virginica")
)
</code></pre>

<hr>
<h2 id='plot_ddsc'>Plot deconstructed difference score correlation</h2><span id='topic+plot_ddsc'></span>

<h3>Description</h3>

<p>Plots the slopes for y1 and y2 by x, and a slope for y1-y2 by x for comparison.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ddsc(
  ddsc_object,
  diff_color = "black",
  y1_color = "turquoise",
  y2_color = "orange",
  x_label = NULL,
  y_labels = NULL,
  densities = TRUE,
  point_alpha = 0.5,
  dens_alpha = 0.75,
  col_widths = c(3, 1),
  row_heights = c(2, 1, 0.5),
  coef_locations = c(0/3, 1/3, 2/3),
  coef_names = c("b_11", "b_21", "r_x_y1-y2")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_ddsc_+3A_ddsc_object">ddsc_object</code></td>
<td>
<p>An object produced by ddsc_sem function.</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_diff_color">diff_color</code></td>
<td>
<p>Character. Color for difference score (y1-y2). Default &quot;black&quot;.</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_y1_color">y1_color</code></td>
<td>
<p>Character. Color for difference score component y1. Default &quot;turquoise&quot;.</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_y2_color">y2_color</code></td>
<td>
<p>Character. Color for difference score component y2. Default &quot;orange&quot;.</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_x_label">x_label</code></td>
<td>
<p>Character. Label for variable X. If NULL (default), variable name is used.</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_y_labels">y_labels</code></td>
<td>
<p>Character vector. Labels for variable y1 and y2. If NULL (default), variable names are used.</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_densities">densities</code></td>
<td>
<p>Logical. Are y-variable densities plotted? Default TRUE.</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_point_alpha">point_alpha</code></td>
<td>
<p>Numeric. Opacity for data points (default 0.50)</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_dens_alpha">dens_alpha</code></td>
<td>
<p>Numeric. Opacity for density distributions (default 0.75)</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_col_widths">col_widths</code></td>
<td>
<p>Numeric vector. Widths of the plot columns: slope figures and density figures; default c(3, 1).</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_row_heights">row_heights</code></td>
<td>
<p>Numeric vector. Heights of the plot rows: components, difference score, slope coefs; default c(2, 1, 0.5).</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_coef_locations">coef_locations</code></td>
<td>
<p>Numeric vector. Locations for printed coefficients. Quantiles of the range of x-variable. Default c(0, 1/3, 2/3).</p>
</td></tr>
<tr><td><code id="plot_ddsc_+3A_coef_names">coef_names</code></td>
<td>
<p>Character vector. Names of the printed coefficients. Default c(&quot;b_11&quot;, &quot;b_21&quot;, &quot;r_x_y1-y2&quot;).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(342356)
d &lt;- data.frame(
  y1 = rnorm(50),
  y2 = rnorm(50),
  x = rnorm(50)
)
fit&lt;-ddsc_sem(
  data = d, y1 = "y1", y2 = "y2",
  x = "x"
)

plot_ddsc(fit,x_label = "X",
          y_labels=c("Y1","Y2"))

</code></pre>

<hr>
<h2 id='qcc'>Quantile correlation coefficient</h2><span id='topic+qcc'></span>

<h3>Description</h3>

<p>For computation of tail dependence as correlations estimated at different variable quantiles (Choi &amp; Shin, 2022; Lee et al., 2022) summarized across two quantile regression models where x and y switch roles as independent/dependent variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qcc(
  x,
  y,
  tau = c(0.1, 0.5, 0.9),
  data,
  method = "br",
  boot_n = NULL,
  ci_level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qcc_+3A_x">x</code></td>
<td>
<p>Name of x variable. Character string.</p>
</td></tr>
<tr><td><code id="qcc_+3A_y">y</code></td>
<td>
<p>Name of y variable. Character string.</p>
</td></tr>
<tr><td><code id="qcc_+3A_tau">tau</code></td>
<td>
<p>The quantile(s) to be estimated. A vector of values between 0 and 1, default c(.1,.5,.9). @seealso <code><a href="quantreg.html#topic+rq">rq</a></code></p>
</td></tr>
<tr><td><code id="qcc_+3A_data">data</code></td>
<td>
<p>Data frame.</p>
</td></tr>
<tr><td><code id="qcc_+3A_method">method</code></td>
<td>
<p>The algorithmic method used to compute the fit (default &quot;br&quot;). @seealso <code><a href="quantreg.html#topic+rq">rq</a></code></p>
</td></tr>
<tr><td><code id="qcc_+3A_boot_n">boot_n</code></td>
<td>
<p>Number of bootstrap redraws (default NULL = no bootstrap inference).</p>
</td></tr>
<tr><td><code id="qcc_+3A_ci_level">ci_level</code></td>
<td>
<p>Level for percentile bootstrap confidence interval. Numeric values between 0 and 1. Default .95.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>r</code></td>
<td>
<p>Pearson's correlation estimate for comparison.</p>
</td></tr>
<tr><td><code>rho_tau</code></td>
<td>
<p>Correlations at different tau values (quantiles).</p>
</td></tr>
<tr><td><code>r_boot_est</code></td>
<td>
<p>Pearson's correlation bootstrap estimates.</p>
</td></tr>
<tr><td><code>rho_tau_boot_est</code></td>
<td>
<p>Bootstrap estimates for correlations at different tau values (quantiles).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Choi, J.-E., &amp; Shin, D. W. (2022). Quantile correlation coefficient: A new tail dependence measure. Statistical Papers, 63(4), 1075–1104. https://doi.org/10.1007/s00362-021-01268-7
</p>
<p>Lee, J. A., Bardi, A., Gerrans, P., Sneddon, J., van Herk, H., Evers, U., &amp; Schwartz, S. (2022). Are value–behavior relations stronger than previously thought? It depends on value importance. European Journal of Personality, 36(2), 133–148. https://doi.org/10.1177/08902070211002965
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(2321)
d &lt;- data.frame(x = rnorm(2000))
d$y &lt;- 0.10 * d$x + (0.20) * d$x^2 + 0.40 * d$x^3 + (-0.20) * d$x^4 + rnorm(2000)
qcc_boot &lt;- qcc(x = "x", y = "y", data = d, tau = 1:9 / 10, boot_n = 50)
qcc_boot$rho_tau
</code></pre>

<hr>
<h2 id='reliability_dms'>Reliability calculation for difference score variable that is a difference between two mean variables calculated over upper-level units (e.g., sex differences across countries)</h2><span id='topic+reliability_dms'></span>

<h3>Description</h3>

<p>Calculates reliability of difference score (Johns, 1981) based on two separate ICC2 values (Bliese, 2000), standard deviations of mean values over upper-level units, and correlations between the mean values across upper-level units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reliability_dms(
  model = NULL,
  data = NULL,
  diff_var,
  diff_var_values,
  var,
  group_var
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reliability_dms_+3A_model">model</code></td>
<td>
<p>Multilevel model fitted with lmer (default NULL)</p>
</td></tr>
<tr><td><code id="reliability_dms_+3A_data">data</code></td>
<td>
<p>Long format data frame (default NULL)</p>
</td></tr>
<tr><td><code id="reliability_dms_+3A_diff_var">diff_var</code></td>
<td>
<p>Character string. A variable indicative of difference score components (two groups).</p>
</td></tr>
<tr><td><code id="reliability_dms_+3A_diff_var_values">diff_var_values</code></td>
<td>
<p>Vector. Values of the component score groups in diff_var.</p>
</td></tr>
<tr><td><code id="reliability_dms_+3A_var">var</code></td>
<td>
<p>Character string. Name of the dependent variable or variable of which mean values are calculated.</p>
</td></tr>
<tr><td><code id="reliability_dms_+3A_group_var">group_var</code></td>
<td>
<p>Character string. Upper-level clustering unit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector including ICC2s (r11 and r22), SDs (sd1, sd2, and sd_d12), means (m1, m2, and m_d12), correlation between means (r12), and reliability of the mean difference variable.
</p>


<h3>References</h3>

<p>Bliese, P. D. (2000). Within-group agreement, non-independence, and reliability: Implications for data aggregation and analysis. In K. J. Klein &amp; S. W. J. Kozlowski (Eds.), Multilevel theory, research, and methods in organizations: Foundations, extensions, and new directions (pp. 349–381). Jossey-Bass.
</p>
<p>Johns, G. (1981). Difference score measures of organizational behavior variables: A critique. Organizational Behavior and Human Performance, 27(3), 443–463. https://doi.org/10.1016/0030-5073(81)90033-7
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(4317)
n2 &lt;- 20
n1 &lt;- 200
ri &lt;- rnorm(n2, m = 0.5, sd = 0.2)
rs &lt;- 0.5 * ri + rnorm(n2, m = 0.3, sd = 0.15)
d.list &lt;- list()
for (i in 1:n2) {
  x &lt;- rep(c(-0.5, 0.5), each = n1 / 2)
  y &lt;- ri[i] + rs[i] * x + rnorm(n1)
  d.list[[i]] &lt;- cbind(x, y, i)
}

d &lt;- data.frame(do.call(rbind, d.list))
names(d) &lt;- c("x", "y", "cntry")
reliability_dms(
  data = d, diff_var = "x",
  diff_var_values = c(-0.5, 0.5), var = "y", group_var = "cntry"
)
</code></pre>

<hr>
<h2 id='sem_dadas'>Predicting algebraic difference scores in structural equation model</h2><span id='topic+sem_dadas'></span>

<h3>Description</h3>

<p>Predicting algebraic difference scores in structural equation model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sem_dadas(
  data,
  var1,
  var2,
  center = FALSE,
  scale = FALSE,
  predictor,
  covariates = NULL,
  estimator = "MLR",
  level = 0.95,
  sampling.weights = NULL,
  abs_coef_diff_test = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sem_dadas_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_var1">var1</code></td>
<td>
<p>Character string. Variable name of first component score of difference score (Y_1).</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_var2">var2</code></td>
<td>
<p>Character string. Variable name of second component score of difference score (Y_2).</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_center">center</code></td>
<td>
<p>Logical. Should var1 and var2 be centered around their grand mean? (Default FALSE)</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_scale">scale</code></td>
<td>
<p>Logical. Should var1 and var2 be scaled with their pooled sd? (Default FALSE)</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_predictor">predictor</code></td>
<td>
<p>Character string. Variable name of independent variable predicting difference score.</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_covariates">covariates</code></td>
<td>
<p>Character string or vector. Variable names of covariates (Default NULL).</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_estimator">estimator</code></td>
<td>
<p>Character string. Estimator used in SEM (Default &quot;MLR&quot;).</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_level">level</code></td>
<td>
<p>Numeric. The confidence level required for the result output (Default .95)</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_sampling.weights">sampling.weights</code></td>
<td>
<p>Character string. Name of sampling weights variable.</p>
</td></tr>
<tr><td><code id="sem_dadas_+3A_abs_coef_diff_test">abs_coef_diff_test</code></td>
<td>
<p>Numeric. A value against which absolute difference between component score predictions is tested (Default 0).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>descriptives</code></td>
<td>
<p>Means, standard deviations, and intercorrelations.</p>
</td></tr>
<tr><td><code>parameter_estimates</code></td>
<td>
<p>Parameter estimates from the structural equation model.</p>
</td></tr>
<tr><td><code>variance_test</code></td>
<td>
<p>Variances and covariances of component scores.</p>
</td></tr>
<tr><td><code>transformed_data</code></td>
<td>
<p>Data frame with variables used in SEM.</p>
</td></tr>
<tr><td><code>dadas</code></td>
<td>
<p>One sided dadas-test for positivity of abs(b_11-b_21)-abs(b_11+b_21).</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>Summary of key results.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Edwards, J. R. (1995). Alternatives to Difference Scores as Dependent Variables in the Study of Congruence in Organizational Research. Organizational Behavior and Human Decision Processes, 64(3), 307–324.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(342356)
d &lt;- data.frame(
  var1 = rnorm(50),
  var2 = rnorm(50),
  x = rnorm(50)
)
sem_dadas(
  data = d, var1 = "var1", var2 = "var2",
  predictor = "x", center = TRUE, scale = TRUE,
  abs_coef_diff_test = 0.20
)$results

## End(Not run)
</code></pre>

<hr>
<h2 id='value_correlation'>Testing and quantifying how much ipsatization (profile centering) influence associations between value and a correlate</h2><span id='topic+value_correlation'></span>

<h3>Description</h3>

<p>Testing and quantifying how much ipsatization (profile centering) influence associations between value and a correlate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>value_correlation(
  data,
  rv,
  cf,
  correlate,
  scale_by_rv = FALSE,
  standardize_correlate = FALSE,
  estimator = "ML",
  level = 0.95,
  sampling.weights = NULL,
  sesoi = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="value_correlation_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_rv">rv</code></td>
<td>
<p>Character string or vector. Variable name(s) of the non-ipsatized value variable(s) (raw value score).</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_cf">cf</code></td>
<td>
<p>Character string. Variable name of the common factor that is used for ipsatizing raw value scores.</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_correlate">correlate</code></td>
<td>
<p>Character string. Name of the variable to which associations with values are examined.</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_scale_by_rv">scale_by_rv</code></td>
<td>
<p>Logical. Is standard deviation of the raw non-ipsatized value score used for scaling the common factor as well? (Default FALSE)</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_standardize_correlate">standardize_correlate</code></td>
<td>
<p>Logical. Should the correlate be standardized? (Default FALSE)</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_estimator">estimator</code></td>
<td>
<p>Character string. Estimator used in SEM (Default &quot;ML&quot;).</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_level">level</code></td>
<td>
<p>Numeric. The confidence level required for the result output (Default .95)</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_sampling.weights">sampling.weights</code></td>
<td>
<p>Character string. Name of sampling weights variable.</p>
</td></tr>
<tr><td><code id="value_correlation_+3A_sesoi">sesoi</code></td>
<td>
<p>Numeric. Smallest effect size of interest. Used for equivalence testing differences in ipsatized and non-ipsatized value associations (Default 0).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>parameter_estimates</code></td>
<td>
<p>Parameter estimates from the structural equation model.</p>
</td></tr>
<tr><td><code>transformed_data</code></td>
<td>
<p>Data frame with variables used in SEM (after scaling is applied).</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>Summary of key results.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(342356)
d &lt;- data.frame(
 rv1 = rnorm(50),
 rv2 = rnorm(50),
 rv3 = rnorm(50),
 rv4 = rnorm(50),
 x = rnorm(50)
)
d$cf&lt;-rowMeans(d[,c("rv1","rv2","rv3","rv4")])
fit&lt;-value_correlation(
 data = d, rv = c("rv1","rv2","rv3","rv4"), cf = "cf",
 correlate = "x",scale_by_rv = TRUE,
 standardize_correlate = TRUE,
 sesoi = 0.10
)
round(fit$variability_summary,3)
round(fit$association_summary,3)

## End(Not run)
</code></pre>

<hr>
<h2 id='vpc_at'>Variance partition coefficient calculated at different level-1 values</h2><span id='topic+vpc_at'></span>

<h3>Description</h3>

<p>Calculates variance estimates (level-2 Intercept variance) and variance partition coefficients (i.e., intra-class correlation) at selected values of predictor values in two-level linear models with random effects (intercept, slope, and their covariation).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vpc_at(model, lvl1.var, lvl1.values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vpc_at_+3A_model">model</code></td>
<td>
<p>Two-level model fitted with lme4. Must include random intercept, slope, and their covariation.</p>
</td></tr>
<tr><td><code id="vpc_at_+3A_lvl1.var">lvl1.var</code></td>
<td>
<p>Character string. Level 1 variable name to which random slope is also estimated.</p>
</td></tr>
<tr><td><code id="vpc_at_+3A_lvl1.values">lvl1.values</code></td>
<td>
<p>Level 1 variable values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame of level 2 variance and std.dev. estimates at level 1 variable values, respective VPCs (ICC1s) and group-mean reliabilities (ICC2s) (Bliese, 2000).
</p>


<h3>References</h3>

<p>Goldstein, H., Browne, W., &amp; Rasbash, J. (2002). Partitioning Variation in Multilevel Models. Understanding Statistics, 1(4), 223–231. https://doi.org/10.1207/S15328031US0104_02
</p>
<p>Bliese, P. D. (2000). Within-group agreement, non-independence, and reliability: Implications for data aggregation and analysis. In K. J. Klein &amp; S. W. J. Kozlowski (Eds.), Multilevel theory, research, and methods in organizations: Foundations, extensions, and new directions (pp. 349–381). Jossey-Bass.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- lme4::lmer(Sepal.Length ~ Petal.Length +
  (Petal.Length | Species),
data = iris
)

lvl1.values &lt;-
  c(
    mean(iris$Petal.Length) - stats::sd(iris$Petal.Length),
    mean(iris$Petal.Length),
    mean(iris$Petal.Length) + stats::sd(iris$Petal.Length)
  )

vpc_at(
  model = fit,
  lvl1.var = "Petal.Length",
  lvl1.values = lvl1.values
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ocp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ocp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ocp-package'><p>Bayesian Online Changepoint Detection for Multivariate Data</p></a></li>
<li><a href='#const_hazard'><p>Constant hazard function</p></a></li>
<li><a href='#findCPprobs'><p>Find Set of Changepoints with Highest probability</p></a></li>
<li><a href='#gamesdata'><p>This is data to be included in the package</p></a></li>
<li><a href='#gamesdatacounts'><p>This is data to be included in the package</p></a></li>
<li><a href='#gaussian_init'><p>Initialize vectors for gaussian probability functions</p></a></li>
<li><a href='#gaussian_update'><p>Update the gaussian parameters</p></a></li>
<li><a href='#gaussianProb'><p>Compute predictive probabilities based on Gaussian</p></a></li>
<li><a href='#initOCPD'><p>Initialize ocpd object</p></a></li>
<li><a href='#negbinpdf'><p>Calculate Negative-binomial on vector of parameters</p></a></li>
<li><a href='#onlineCPD'><p>Bayesian Online Changepoint Detection</p></a></li>
<li><a href='#plot.ocp'><p>Plot Object</p></a></li>
<li><a href='#poisson_init'><p>Initialize vectors for poisson probability functions</p></a></li>
<li><a href='#poisson_update'><p>Update the poisson parameters</p></a></li>
<li><a href='#poissonProb'><p>Compute predictive probabilities based on Poisson</p></a></li>
<li><a href='#print.ocp'><p>Print Object</p></a></li>
<li><a href='#str.ocp'><p>Object Structure</p></a></li>
<li><a href='#studentpdf'><p>Calculate Student PDF on vector of parameters</p></a></li>
<li><a href='#summary.ocp'><p>Object Summary</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Online Changepoint Detection</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Andrea Pagotto</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andrea Pagotto &lt;ajpagotto@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements the Bayesian online changepoint
     detection method by Adams and MacKay (2007) 
     &lt;<a href="https://doi.org/10.48550/arXiv.0710.3742">doi:10.48550/arXiv.0710.3742</a>&gt; for univariate or multivariate data.
     Gaussian and Poisson probability models are implemented.
      Provides post-processing functions with 
      alternative ways to extract changepoints.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0.9000</td>
</tr>
<tr>
<td>Imports:</td>
<td>grid (&ge; 3.4.0), graphics (&ge; 3.4.0), grDevices (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-04-20 03:03:43 UTC; andreapagotto</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-04-21 15:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='ocp-package'>Bayesian Online Changepoint Detection for Multivariate Data</h2><span id='topic+ocp-package'></span>

<h3>Description</h3>

<p>Provides an implementation of Bayesian online changepoint detection. Handles multivariate and missing data. Computes the set of changepoints with highest probability in an online way (updating the results with each incoming point). Also provides post-processing functions with alternative ways to extract changepoints.
</p>


<h3>Author(s)</h3>

<p>Pagotto, Andrea
</p>

<hr>
<h2 id='const_hazard'>Constant hazard function</h2><span id='topic+const_hazard'></span>

<h3>Description</h3>

<p>Hazard function for use with gaussian underlying
distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>const_hazard(r, lambda)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="const_hazard_+3A_r">r</code></td>
<td>
<p>The current R vector length.</p>
</td></tr>
<tr><td><code id="const_hazard_+3A_lambda">lambda</code></td>
<td>
<p>The parameter for the hazard function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the hazard function for the length
of the current R vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>H&lt;- const_hazard(10, 1/100)
</code></pre>

<hr>
<h2 id='findCPprobs'>Find Set of Changepoints with Highest probability</h2><span id='topic+findCPprobs'></span>

<h3>Description</h3>

<p>This function calculates the changepoints
with highest probability in the online algorithm
to take in the current probabilities at time t in the form
of a list of lists. It will not calculate the result at
every possible end point, because this will be done in the
main loop of online cpd as it iterates: the probmaxes and
cps list will be returned and passed into the function
again each time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findCPprobs(currrunprobs, probmaxes, logprobcpstrunc, Rlength, t,
  minsep = 3, maxsep = 90, ppres = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="findCPprobs_+3A_currrunprobs">currrunprobs</code></td>
<td>
<p>The current most recently calculated
&quot;R&quot; vector, of run length probabilities (sums to 1).</p>
</td></tr>
<tr><td><code id="findCPprobs_+3A_probmaxes">probmaxes</code></td>
<td>
<p>The probabilities of the set of changepoints
with the highest probability for each preceding time point.</p>
</td></tr>
<tr><td><code id="findCPprobs_+3A_logprobcpstrunc">logprobcpstrunc</code></td>
<td>
<p>The set of changepoints with the highest
probability for each previous time point.</p>
</td></tr>
<tr><td><code id="findCPprobs_+3A_rlength">Rlength</code></td>
<td>
<p>The length of the current R vector, to use in
case it was truncated.</p>
</td></tr>
<tr><td><code id="findCPprobs_+3A_t">t</code></td>
<td>
<p>The current time point.</p>
</td></tr>
<tr><td><code id="findCPprobs_+3A_minsep">minsep</code></td>
<td>
<p>The minimum distance of separation allowed for
eligible changepoint locations to be included in
the list of changepoints with the highest probability.</p>
</td></tr>
<tr><td><code id="findCPprobs_+3A_maxsep">maxsep</code></td>
<td>
<p>The maximum distance of separation allowed for
eligible changepoint locations to be included in
the list of changepoints with the highest probability.</p>
</td></tr>
<tr><td><code id="findCPprobs_+3A_ppres">ppres</code></td>
<td>
<p>Set to true if wanting to return optional outputs,
useful for plotting and inspecting the algorithm, but not necessary.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Two lists needed for the use in calculating this changepoints
for the next incoming time point: the vector of max probabilities for
each time point (probmaxes), and the list of changepoints with the
highest probability at each time point (changepoints: a list of lists).
It also returns ppresult: optional outputs, will be null if ppres=FALSE.
</p>

<hr>
<h2 id='gamesdata'>This is data to be included in the package</h2><span id='topic+gamesdata'></span>

<h3>Description</h3>

<p>Data used in the LREC paper on the 2016 eurogames tweets.
Includes a column with the counts of numbers of tweets.
The columns present in the matrix at the three sentiment
scores: &quot;neg&quot;, &quot;neu&quot;, and &quot;pos&quot;.
</p>


<h3>Source</h3>

<p><a href="http://www.lrec-conf.org/proceedings/lrec2018/pdf/335.pdf">http://www.lrec-conf.org/proceedings/lrec2018/pdf/335.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>demo(eurogames)
</code></pre>

<hr>
<h2 id='gamesdatacounts'>This is data to be included in the package</h2><span id='topic+gamesdatacounts'></span>

<h3>Description</h3>

<p>Data used in the LREC paper on the 2016 eurogames tweets.
Includes a column with the counts of numbers of tweets.
The columns present in the matrix at the three sentiment
scores: &quot;neg&quot;, &quot;neu&quot;, and &quot;pos&quot;, and an additional
column for the total number of tweets: &quot;counts&quot;
</p>


<h3>Source</h3>

<p><a href="http://www.lrec-conf.org/proceedings/lrec2018/pdf/335.pdf">http://www.lrec-conf.org/proceedings/lrec2018/pdf/335.pdf</a>
</p>

<hr>
<h2 id='gaussian_init'>Initialize vectors for gaussian probability functions</h2><span id='topic+gaussian_init'></span>

<h3>Description</h3>

<p>Takes in the desired initialization parameters,
initializes the vectors needed for the gaussian probability
function <code>gaussian_update</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gaussian_init(init_params = list(m = 0, k = 0.01, a = 0.01, b = 1e-04),
  dims)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gaussian_init_+3A_init_params">init_params</code></td>
<td>
<p>The list of parameters to be used for
initialization</p>
</td></tr>
<tr><td><code id="gaussian_init_+3A_dims">dims</code></td>
<td>
<p>the dimensionality of the data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of vectors to be used in the iteratively
updating algorithm of parameters describing the
underlying gaussian distribution of the data.
</p>

<hr>
<h2 id='gaussian_update'>Update the gaussian parameters</h2><span id='topic+gaussian_update'></span>

<h3>Description</h3>

<p>Updates the parameters of the gaussians based on each possible
run length, after taking into consideration the most recent
data point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gaussian_update(datapt, update_params0, update_paramsT, Rlength,
  skippt = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gaussian_update_+3A_datapt">datapt</code></td>
<td>
<p>the current data point</p>
</td></tr>
<tr><td><code id="gaussian_update_+3A_update_params0">update_params0</code></td>
<td>
<p>The initialization parameters,
corresponding to predicting a changepoint (run length=0)</p>
</td></tr>
<tr><td><code id="gaussian_update_+3A_update_paramst">update_paramsT</code></td>
<td>
<p>The vectors of parameters corresponding
to each possible run length, updated with each incoming data point</p>
</td></tr>
<tr><td><code id="gaussian_update_+3A_rlength">Rlength</code></td>
<td>
<p>the length of the current vector of possible run
lengths</p>
</td></tr>
<tr><td><code id="gaussian_update_+3A_skippt">skippt</code></td>
<td>
<p>set to FALSE if not needing to accommodate skipping
missed points during the update of parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The list of the parameters for gaussians corresponding
to each possible runlength up to the current data point.
Lengths of vectors should correspond the length of the
R vector (&quot;run length vector&quot;)
</p>

<hr>
<h2 id='gaussianProb'>Compute predictive probabilities based on Gaussian</h2><span id='topic+gaussianProb'></span>

<h3>Description</h3>

<p>Compute the probability of observing the current point,
given the current parameters of the gaussian for each
possible run length. Returns a vector of predictive
probabilities from each possible run length, the
parameters of the gaussian, the most likely mean of the
current gaussian, and the current point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gaussianProb(update_params0, update_paramsT, datapt, time, cps, missPts,
  Rlength, skippt = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gaussianProb_+3A_update_params0">update_params0</code></td>
<td>
<p>The initialization parameters,
corresponding to predicting a changepoint (run length=0)</p>
</td></tr>
<tr><td><code id="gaussianProb_+3A_update_paramst">update_paramsT</code></td>
<td>
<p>The vectors of parameters corresponding
to each possible run length, updated with each incoming data point</p>
</td></tr>
<tr><td><code id="gaussianProb_+3A_datapt">datapt</code></td>
<td>
<p>the current data point</p>
</td></tr>
<tr><td><code id="gaussianProb_+3A_time">time</code></td>
<td>
<p>the number of time points passed so far</p>
</td></tr>
<tr><td><code id="gaussianProb_+3A_cps">cps</code></td>
<td>
<p>the current most likely list of changepoints</p>
</td></tr>
<tr><td><code id="gaussianProb_+3A_misspts">missPts</code></td>
<td>
<p>the method set to handle missing points</p>
</td></tr>
<tr><td><code id="gaussianProb_+3A_rlength">Rlength</code></td>
<td>
<p>the length of the current vector of possible run
lengths</p>
</td></tr>
<tr><td><code id="gaussianProb_+3A_skippt">skippt</code></td>
<td>
<p>If the current point should be skipped in the updating
because it was missing, and missPts was set to skip</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of predictive
probabilities from each possible run length, the
parameters of the gaussian, the most likely mean of the
current gaussian, and the current point.
</p>

<hr>
<h2 id='initOCPD'>Initialize ocpd object</h2><span id='topic+initOCPD'></span>

<h3>Description</h3>

<p>This function initializes the ocpd object.
It returns an ocpd object with no data, but matrixes and
vectors set up to begin adding to throughout the
running of the algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initOCPD(dims, init_params = list(list(m = 0, k = 0.01, a = 0.01, b =
  1e-04)), initProb = c(gaussian_init))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="initOCPD_+3A_dims">dims</code></td>
<td>
<p>The dimensions calculated from the first input
data points.</p>
</td></tr>
<tr><td><code id="initOCPD_+3A_init_params">init_params</code></td>
<td>
<p>The list of params required to initialize
the underlying distribution model.</p>
</td></tr>
<tr><td><code id="initOCPD_+3A_initprob">initProb</code></td>
<td>
<p>The chosen type of underlying distribution.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>oCPD object initialized with initialization settings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>empty_ocpd&lt;- initOCPD(1) # initialize bject with 1 dimensions
</code></pre>

<hr>
<h2 id='negbinpdf'>Calculate Negative-binomial on vector of parameters</h2><span id='topic+negbinpdf'></span>

<h3>Description</h3>

<p>Computes the negative-binomial posterior predictive density
from input parameter vectors
corresponding to each possible run length for the current
time point. Outputs a vector of probabilities for use
in the accompanying poisson functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>negbinpdf(x, a, b)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="negbinpdf_+3A_x">x</code></td>
<td>
<p>the current data point</p>
</td></tr>
<tr><td><code id="negbinpdf_+3A_a">a</code></td>
<td>
<p>matrix of alpha params</p>
</td></tr>
<tr><td><code id="negbinpdf_+3A_b">b</code></td>
<td>
<p>matrix of beta params</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix of negative binomial pdf values corresponding
to each possible run length, for use in accompanying poisson
probability functions.
</p>

<hr>
<h2 id='onlineCPD'>Bayesian Online Changepoint Detection</h2><span id='topic+onlineCPD'></span>

<h3>Description</h3>

<p>The main algorithm called &quot;Bayesian Online Changepoint
Detection&quot;. Input is data in form of a matrix and, optionally
an existing ocp object to build on. Output is the list of
changepoints and other values calculated during running the
model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>onlineCPD(datapts, oCPD = NULL, missPts = "none",
  hazard_func = function(x, lambda) {     const_hazard(x, lambda = 100)
  }, probModel = list("g"), init_params = list(list(m = 0, k = 0.01, a
  = 0.01, b = 1e-04)), multivariate = FALSE, cpthreshold = 0.5,
  truncRlim = .Machine$double.xmin, minRlength = 1,
  maxRlength = 10^4, minsep = 1, maxsep = 10^4, timing = FALSE,
  getR = FALSE, optionalOutputs = FALSE, printupdates = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="onlineCPD_+3A_datapts">datapts</code></td>
<td>
<p>the input data in form of a matrix, where
the rows correspond to each data point, and the columns
correspond to each dimension.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_ocpd">oCPD</code></td>
<td>
<p>ocp object computed in a previous run of an
algorithm. it can be built upon with the input data points,
as long as the settings for both are the same.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_misspts">missPts</code></td>
<td>
<p>This setting indicates how to deal with
missing points (e.g. NA). The options are: &quot;mean&quot;, &quot;prev&quot;,
&quot;none&quot;, and a numeric value. If the data is multivariate. The
numeric replacement value could either be a single value which
would apply to all dimensions, or a vector of the same length
as the number of dimensions of the data.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_hazard_func">hazard_func</code></td>
<td>
<p>This setting allows choosing a hazard function,
and also setting the constants within that function. For example,
the default hazard function is:
function(x, lambda)const_hazard(x, lambda=100)
and the lambda can be set as appropriate.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_probmodel">probModel</code></td>
<td>
<p>This parameter is a function to be used to
calculate the predictive probabilities and update the parameters
of the model. The default setting uses a gaussian underlying
distribution: &quot;gaussian&quot;</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_init_params">init_params</code></td>
<td>
<p>The parameters used to initialize the
probability model. The default settings correspond to the
input default gaussian model.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_multivariate">multivariate</code></td>
<td>
<p>This setting indicates if the incoming data
is multivariate or univariate.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_cpthreshold">cpthreshold</code></td>
<td>
<p>Probability threshold for the method of
extracting a list of all changepoints that have a run length
probability higher than a specified value. The default is set to 0.5.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_truncrlim">truncRlim</code></td>
<td>
<p>The probability threshold to begin truncating
the R vector. The R vector is a vector of run-length probabilities.
To prevent truncation, set this to 0. The defaults setting is
10^(-4) as suggested by the paper.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_minrlength">minRlength</code></td>
<td>
<p>The minimum size the run length probabilities
vector must be before beginning to check for the truncation
threshold.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_maxrlength">maxRlength</code></td>
<td>
<p>The maximum size the R vector is allowed to
be, before enforcing truncation to happen.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_minsep">minsep</code></td>
<td>
<p>This setting constrains the possible changepoint
locations considered in determining the optimal set of
changepoints. It prevents considered changepoints that are closer
together than the value of minsep. The default is 3.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_maxsep">maxsep</code></td>
<td>
<p>This setting constrains the possible changepoint
locations considered in determining the optimal set of changepoints.
It prevents considered changepoints that are closer farther
apart than the value of maxsep. The default is 100.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_timing">timing</code></td>
<td>
<p>To print out times during the algorithm running, to track
its progress, set this setting to true.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_getr">getR</code></td>
<td>
<p>To output the full R matrix, set this setting to TRUE.
Outputting this matrix causes a major slow down in efficiency.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_optionaloutputs">optionalOutputs</code></td>
<td>
<p>Output additional values calculated during
running the algorithm, including a matrix containing all the input data,
the predictive probability vectors at each step of the algorithm, and
the vector of means at each step of the algorithm.</p>
</td></tr>
<tr><td><code id="onlineCPD_+3A_printupdates">printupdates</code></td>
<td>
<p>This setting prints out updates on the progress
of the algorithm if set to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An ocp object containing the main output: a list of changepoints from
each time point, and many additional outputs: the number of time points, the
initial settings of the algorithm, the current model parameters, the means
from each time point, the most recently processed point, the most recently
calculated vector of run length probabilities, and a vector of probabilities
of changepoints at each time point.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>simdatapts&lt;- c(rnorm(n = 50), rnorm(n=50, 100))
ocpd1&lt;- onlineCPD(simdatapts)
ocpd1$changepoint_lists # view the changepoint lists
</code></pre>

<hr>
<h2 id='plot.ocp'>Plot Object</h2><span id='topic+plot.ocp'></span>

<h3>Description</h3>

<p>Plot ocpd object, to show the data and the R matrix
probabilities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ocp'
plot(x, data = NULL, Rmat = NULL,
  graph_changepoints = TRUE, graph_probabilities = TRUE,
  showmaxes = TRUE, showmeans = TRUE, showcps = TRUE,
  showdata = TRUE, showRprobs = TRUE, cplistID = 3,
  main_title = "", trueCPs = NULL, showdataleg = TRUE,
  timepoints = NULL, timeunits = NULL, grey_digits = 4,
  varnames = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.ocp_+3A_x">x</code></td>
<td>
<p>the ocp object to plot</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_data">data</code></td>
<td>
<p>optional input data to plot</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_rmat">Rmat</code></td>
<td>
<p>optional input Rmat to plot</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_graph_changepoints">graph_changepoints</code></td>
<td>
<p>set to TRUE to graph the changepoints</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_graph_probabilities">graph_probabilities</code></td>
<td>
<p>set TRUE to show R matrix graphed</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_showmaxes">showmaxes</code></td>
<td>
<p>set TRUE to show the maxes in each columns
in the R matrix plot</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_showmeans">showmeans</code></td>
<td>
<p>set TRUE to show the means on the changepoints
plot</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_showcps">showcps</code></td>
<td>
<p>set TRUE to show the the locations of changepoints</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_showdata">showdata</code></td>
<td>
<p>set TRUE to show the actual data points</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_showrprobs">showRprobs</code></td>
<td>
<p>set TRUE to show the probabilities in
the R matrix</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_cplistid">cplistID</code></td>
<td>
<p>method of extracting the changepoints:
either &quot;colmaxes&quot;, &quot;threshcps&quot;, or &quot;maxCPs&quot; stored in the &quot;changepoints_list&quot;
in the ocpd object</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_main_title">main_title</code></td>
<td>
<p>The main title for both plots, e.g. &quot;Eurogames Data&quot;</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_truecps">trueCPs</code></td>
<td>
<p>input the true known changepoints for comparison</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_showdataleg">showdataleg</code></td>
<td>
<p>Set true to show legend for the data points, set to false
if there are too many dimensions, legend will be crowded.</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_timepoints">timepoints</code></td>
<td>
<p>List of timepoints to use as x-axis labels.</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_timeunits">timeunits</code></td>
<td>
<p>Units to display for the timescale on the plot.</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_grey_digits">grey_digits</code></td>
<td>
<p>The limit of decimal places to keep in the probability
before converting to an index in the grey-scale, controls amount of detail
and darkness of the shading on the plot.</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_varnames">varnames</code></td>
<td>
<p>List of variable names to display in the legend.</p>
</td></tr>
<tr><td><code id="plot.ocp_+3A_...">...</code></td>
<td>
<p>(optional) additional arguments, ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>simdatapts&lt;- c(rnorm(n = 50), rnorm(n=50, 100))
ocpd1&lt;- onlineCPD(simdatapts, getR=TRUE)
plot(ocpd1) # basic plot
plot(ocpd1, data= simdatapts) # plot with the original data
plot(ocpd1, trueCPs = c(1, 51)) # plot with showing the true changepoints
plot(ocpd1, main_title="Example plot", showmaxes = FALSE) # not showing max probabilities
plot(ocpd1, graph_changepoints=FALSE) # not showing the changepoints plot
plot(ocpd1, graph_probabilities=FALSE) # not showing the R matrix
plot(ocpd1, showRprobs=FALSE, showcps= FALSE)#plotting r with maxes but no probabilities,
# and not showing the locations of the found changepoints

</code></pre>

<hr>
<h2 id='poisson_init'>Initialize vectors for poisson probability functions</h2><span id='topic+poisson_init'></span>

<h3>Description</h3>

<p>Takes in the desired initialization parameters,
initializes the vectors needed for the poisson probability
function <code>poisson_update</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poisson_init(init_params = list(a = 1, b = 1), dims)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="poisson_init_+3A_init_params">init_params</code></td>
<td>
<p>The list of parameters to be used for
initialization</p>
</td></tr>
<tr><td><code id="poisson_init_+3A_dims">dims</code></td>
<td>
<p>the dimensionality of the data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of vectors to be used in the iteratively
updating algorithm of parameters describing the
underlying gaussian distribution of the data.
</p>

<hr>
<h2 id='poisson_update'>Update the poisson parameters</h2><span id='topic+poisson_update'></span>

<h3>Description</h3>

<p>Updates the parameters of the poissons based on each possible
run length, after taking into consideration the most recent
data point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poisson_update(datapt, update_params0, update_paramsT, Rlength,
  skippt = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="poisson_update_+3A_datapt">datapt</code></td>
<td>
<p>the current data point</p>
</td></tr>
<tr><td><code id="poisson_update_+3A_update_params0">update_params0</code></td>
<td>
<p>The initialization parameters,
corresponding to predicting a changepoint (run length=0)</p>
</td></tr>
<tr><td><code id="poisson_update_+3A_update_paramst">update_paramsT</code></td>
<td>
<p>The vectors of parameters corresponding
to each possible run length, updated with each incoming data point</p>
</td></tr>
<tr><td><code id="poisson_update_+3A_rlength">Rlength</code></td>
<td>
<p>the length of the current vector of possible run
lengths</p>
</td></tr>
<tr><td><code id="poisson_update_+3A_skippt">skippt</code></td>
<td>
<p>If the current point should be skipped in the updating
because it was missing, and missPts was set to skip</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The list of the parameters for gaussians corresponding
to each possible runlength up to the current data point.
Lengths of vectors should correspond the length of the
R vector (&quot;run length vector&quot;)
</p>

<hr>
<h2 id='poissonProb'>Compute predictive probabilities based on Poisson</h2><span id='topic+poissonProb'></span>

<h3>Description</h3>

<p>Compute the probability of observing the current point,
given the current parameters of the poisson for each
possible run length. Returns a vector of predictive
probabilities from each possible run length, the
parameters of the poisson, the most likely lambda of the
current poisson, and the current point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poissonProb(update_params0, update_paramsT, datapt, time, cps, missPts,
  Rlength, skippt = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="poissonProb_+3A_update_params0">update_params0</code></td>
<td>
<p>The initialization parameters,
corresponding to predicting a changepoint (run length=0)</p>
</td></tr>
<tr><td><code id="poissonProb_+3A_update_paramst">update_paramsT</code></td>
<td>
<p>The vectors of parameters corresponding
to each possible run length, updated with each incoming data point</p>
</td></tr>
<tr><td><code id="poissonProb_+3A_datapt">datapt</code></td>
<td>
<p>the current data point</p>
</td></tr>
<tr><td><code id="poissonProb_+3A_time">time</code></td>
<td>
<p>the number of time points passed so far</p>
</td></tr>
<tr><td><code id="poissonProb_+3A_cps">cps</code></td>
<td>
<p>the current most likely list of changepoints</p>
</td></tr>
<tr><td><code id="poissonProb_+3A_misspts">missPts</code></td>
<td>
<p>the method set to handle missing points</p>
</td></tr>
<tr><td><code id="poissonProb_+3A_rlength">Rlength</code></td>
<td>
<p>the length of the current vector of possible run
lengths</p>
</td></tr>
<tr><td><code id="poissonProb_+3A_skippt">skippt</code></td>
<td>
<p>If the current point should be skipped in the updating
because it was missing, and missPts was set to skip</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of predictive
probabilities from each possible run length, the
parameters of the gaussian, the most likely mean of the
current gaussian, and the current point.
</p>

<hr>
<h2 id='print.ocp'>Print Object</h2><span id='topic+print.ocp'></span>

<h3>Description</h3>

<p>Print information about the ocpd object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ocp'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.ocp_+3A_x">x</code></td>
<td>
<p>the object to print</p>
</td></tr>
<tr><td><code id="print.ocp_+3A_...">...</code></td>
<td>
<p>(optional) additional arguments, ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>simdatapts&lt;- c(rnorm(n = 50), rnorm(n=50, 100))
ocpd1&lt;- onlineCPD(simdatapts)
print(ocpd1)
</code></pre>

<hr>
<h2 id='str.ocp'>Object Structure</h2><span id='topic+str.ocp'></span>

<h3>Description</h3>

<p>Print out information about the ocpd object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ocp'
str(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="str.ocp_+3A_object">object</code></td>
<td>
<p>the object to show</p>
</td></tr>
<tr><td><code id="str.ocp_+3A_...">...</code></td>
<td>
<p>(optional) additional arguments, ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>simdatapts&lt;- c(rnorm(n = 50), rnorm(n=50, 100))
ocpd1&lt;- onlineCPD(simdatapts)
str(ocpd1)
</code></pre>

<hr>
<h2 id='studentpdf'>Calculate Student PDF on vector of parameters</h2><span id='topic+studentpdf'></span>

<h3>Description</h3>

<p>Computes the student pdf from input parameter vectors
corresponding to each possible run length for the current
time point. Outputs a vector of probabilities for use
in the accompanying gaussian functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>studentpdf(x, mu, var, nu)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="studentpdf_+3A_x">x</code></td>
<td>
<p>the current data point</p>
</td></tr>
<tr><td><code id="studentpdf_+3A_mu">mu</code></td>
<td>
<p>vector of means</p>
</td></tr>
<tr><td><code id="studentpdf_+3A_var">var</code></td>
<td>
<p>var parameter of student pdf, degrees of freedom</p>
</td></tr>
<tr><td><code id="studentpdf_+3A_nu">nu</code></td>
<td>
<p>nu parameter of student pdf (number of points
so far)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of student pdf values corresponding to each
possible run length, for use in accompanying gaussian
probability functions.
</p>

<hr>
<h2 id='summary.ocp'>Object Summary</h2><span id='topic+summary.ocp'></span>

<h3>Description</h3>

<p>Print out ocpd object summary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ocp'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.ocp_+3A_object">object</code></td>
<td>
<p>the object to summarize</p>
</td></tr>
<tr><td><code id="summary.ocp_+3A_...">...</code></td>
<td>
<p>(optional) additional arguments, ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>simdatapts&lt;- c(rnorm(n = 50), rnorm(n=50, 100))
ocpd1&lt;- onlineCPD(simdatapts)
summary(ocpd1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

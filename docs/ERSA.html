<!DOCTYPE html><html><head><title>Help for package ERSA</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ERSA}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ERSA'><p>ERSA: A package exploring regressions with a Shiny app</p></a></li>
<li><a href='#add1_models'><p>Constructs a list of fits by adding predictors sequentially</p></a></li>
<li><a href='#createERServer'><p>A function which returns a shiny server for Exploratory Regression</p></a></li>
<li><a href='#createERUI'><p>Constructs UI for Exploratory Regression app</p></a></li>
<li><a href='#drop1_models'><p>Constructs a list of fits by dropping predictors from the supplied model</p></a></li>
<li><a href='#exploreReg'><p>A function to launch the Exploratory Regression Shiny App</p></a></li>
<li><a href='#pcpPlot'><p>A PCP plot of the data, residuals or hat values from regression fits</p></a></li>
<li><a href='#plotSeqSS'><p>Plots barcharts of sequential sums of squares of lm</p></a></li>
<li><a href='#plotSum'><p>Plots of model summaries</p></a></li>
<li><a href='#reorderTerms'><p>Re-order model terms</p></a></li>
<li><a href='#termColours'><p>Constructs colour vector for model terms</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Exploratory Regression 'Shiny' App</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-8-21</td>
</tr>
<tr>
<td>Author:</td>
<td>Catherine B. Hurley</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Catherine B. Hurley &lt;catherine.hurley@mu.ie&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Constructs a 'shiny' app function with interactive displays for summary and analysis of variance regression tables, and parallel coordinate plots of data and residuals.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2.0)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny, miniUI,RColorBrewer, ggplot2, car, leaps, broom, dplyr,
tidyr, purrr, combinat,stats, methods, rlang</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-21 11:49:44 UTC; catherine</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-21 12:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ERSA'>ERSA: A package exploring regressions with a Shiny app</h2><span id='topic+ERSA'></span><span id='topic+ERSA-package'></span>

<h3>Description</h3>

<p>The Exploratory Regression Shiny App (ERSA) package consists of a
collection of functions for displaying the results of a regression calculation,
which are then packaged together as a shiny app function.
</p>

<hr>
<h2 id='add1_models'>Constructs a list of fits by adding predictors sequentially</h2><span id='topic+add1_models'></span>

<h3>Description</h3>

<p>Constructs a list of fits by adding predictors sequentially
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add1_models(model, preds, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add1_models_+3A_model">model</code></td>
<td>
<p>A linear model</p>
</td></tr>
<tr><td><code id="add1_models_+3A_preds">preds</code></td>
<td>
<p>Predictors to be added sequentially</p>
</td></tr>
<tr><td><code id="add1_models_+3A_data">data</code></td>
<td>
<p>The dataset (optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of linear fits
</p>

<hr>
<h2 id='createERServer'>A function which returns a shiny server for Exploratory Regression</h2><span id='topic+createERServer'></span>

<h3>Description</h3>

<p>A function which returns a shiny server for Exploratory Regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createERServer(
  ERfit,
  ERdata = NULL,
  ERbarcols = RColorBrewer::brewer.pal(4, "Set2"),
  ERnpcpCols = 4,
  pvalOrder = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createERServer_+3A_erfit">ERfit</code></td>
<td>
<p>the lm fit to be explored</p>
</td></tr>
<tr><td><code id="createERServer_+3A_erdata">ERdata</code></td>
<td>
<p>the data used to fit the model. If NULL, attempts to extract from ERfit.</p>
</td></tr>
<tr><td><code id="createERServer_+3A_erbarcols">ERbarcols</code></td>
<td>
<p>a vector of colours, one per term in lm.
Will be expanded via colorRampPalette if not the correct length.</p>
</td></tr>
<tr><td><code id="createERServer_+3A_ernpcpcols">ERnpcpCols</code></td>
<td>
<p>number of colours for the PCP</p>
</td></tr>
<tr><td><code id="createERServer_+3A_pvalorder">pvalOrder</code></td>
<td>
<p>if TRUE, re-arranges predictors in order of p-value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function
</p>

<hr>
<h2 id='createERUI'>Constructs UI for Exploratory Regression app</h2><span id='topic+createERUI'></span>

<h3>Description</h3>

<p>Constructs UI for Exploratory Regression app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createERUI(tablesOnly = F, gadget = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createERUI_+3A_tablesonly">tablesOnly</code></td>
<td>
<p>if TRUE, shows Plots 1-3 only.</p>
</td></tr>
<tr><td><code id="createERUI_+3A_gadget">gadget</code></td>
<td>
<p>If TRUE, constructs a gadget, otherwise a shinyApp</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the UI
</p>

<hr>
<h2 id='drop1_models'>Constructs a list of fits by dropping predictors from the supplied model</h2><span id='topic+drop1_models'></span>

<h3>Description</h3>

<p>Constructs a list of fits by dropping predictors from the supplied model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop1_models(model, preds, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop1_models_+3A_model">model</code></td>
<td>
<p>A linear model</p>
</td></tr>
<tr><td><code id="drop1_models_+3A_preds">preds</code></td>
<td>
<p>Predictors to be dropped</p>
</td></tr>
<tr><td><code id="drop1_models_+3A_data">data</code></td>
<td>
<p>The dataset (optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of linear fits
</p>

<hr>
<h2 id='exploreReg'>A function to launch the Exploratory Regression Shiny App</h2><span id='topic+exploreReg'></span>

<h3>Description</h3>

<p>A function to launch the Exploratory Regression Shiny App
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exploreReg(
  ERmfull,
  ERdata = NULL,
  ERbarcols = RColorBrewer::brewer.pal(4, "Set2"),
  npcpCols = 4,
  pvalOrder = F,
  tablesOnly = F,
  displayHeight = NULL,
  gadget = TRUE,
  viewer = "dialogViewer"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exploreReg_+3A_ermfull">ERmfull</code></td>
<td>
<p>the lm fit to be explored</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_erdata">ERdata</code></td>
<td>
<p>the data used to fit the model. If NULL, attempts to extract from ERmfull.</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_erbarcols">ERbarcols</code></td>
<td>
<p>a vector of colours, one per term in lm.
Will be expanded via colorRampPalette if not the correct length.</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_npcpcols">npcpCols</code></td>
<td>
<p>number of colours for the PCP</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_pvalorder">pvalOrder</code></td>
<td>
<p>if TRUE, re-arranges predictors in order of p-value</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_tablesonly">tablesOnly</code></td>
<td>
<p>if TRUE, shows Plots 1-3 only.</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_displayheight">displayHeight</code></td>
<td>
<p>supply a value for the display height</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_gadget">gadget</code></td>
<td>
<p>If TRUE, constructs a gadget, otherwise a shinyApp.</p>
</td></tr>
<tr><td><code id="exploreReg_+3A_viewer">viewer</code></td>
<td>
<p>For gadget, defaults to &quot;dialogViewer&quot;. May be &quot;paneViewer&quot; or &quot;browserViewer&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- lm(mpg ~ hp+wt+disp, data=mtcars)
## Not run: exploreReg(f)

</code></pre>

<hr>
<h2 id='pcpPlot'>A PCP plot of the data, residuals or hat values from regression fits</h2><span id='topic+pcpPlot'></span>

<h3>Description</h3>

<p>A PCP plot of the data, residuals or hat values from regression fits
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pcpPlot(
  data,
  fit,
  type = "Variables",
  npcpCols = 4,
  resDiff = F,
  absResid = F,
  sequential = F,
  selnum = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pcpPlot_+3A_data">data</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="pcpPlot_+3A_fit">fit</code></td>
<td>
<p>a lm for the data frame</p>
</td></tr>
<tr><td><code id="pcpPlot_+3A_type">type</code></td>
<td>
<p>one of &quot;Variables&quot;, &quot;Residuals&quot;, &quot;Hatvalues&quot;</p>
</td></tr>
<tr><td><code id="pcpPlot_+3A_npcpcols">npcpCols</code></td>
<td>
<p>number of colours</p>
</td></tr>
<tr><td><code id="pcpPlot_+3A_resdiff">resDiff</code></td>
<td>
<p>difference residuals, TRUE or FALSE</p>
</td></tr>
<tr><td><code id="pcpPlot_+3A_absresid">absResid</code></td>
<td>
<p>absolute residuals, TRUE or FALSE</p>
</td></tr>
<tr><td><code id="pcpPlot_+3A_sequential">sequential</code></td>
<td>
<p>use sequential fits (TRUE) or drop1 fits (FALSE)</p>
</td></tr>
<tr><td><code id="pcpPlot_+3A_selnum">selnum</code></td>
<td>
<p>row numbers of cases to be highlighted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- lm(mpg ~ wt+hp+disp, data=mtcars)
pcpPlot(mtcars, f, type="Residuals")
</code></pre>

<hr>
<h2 id='plotSeqSS'>Plots barcharts of sequential sums of squares of lm</h2><span id='topic+plotSeqSS'></span>

<h3>Description</h3>

<p>Plots barcharts of sequential sums of squares of lm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotSeqSS(fits, barcols = NULL, legend = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotSeqSS_+3A_fits">fits</code></td>
<td>
<p>list of lm objects</p>
</td></tr>
<tr><td><code id="plotSeqSS_+3A_barcols">barcols</code></td>
<td>
<p>a vector of colours, one per term in lms</p>
</td></tr>
<tr><td><code id="plotSeqSS_+3A_legend">legend</code></td>
<td>
<p>TRUE or FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotSeqSS(list(fit1= lm(mpg ~ wt+hp+disp, data=mtcars),
fit2=lm(mpg ~ wt*hp*disp, data=mtcars)))
</code></pre>

<hr>
<h2 id='plotSum'>Plots of model summaries</h2><span id='topic+plotSum'></span><span id='topic+plotAnovaStats'></span><span id='topic+plottStats'></span><span id='topic+plotCIStats'></span>

<h3>Description</h3>

<p>Plots of model summaries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotAnovaStats(
  fit0,
  barcols = NULL,
  preds = NULL,
  alpha = 0.05,
  type = "SS",
  width = 0.3
)

plottStats(fit0, barcols = NULL, preds = NULL, alpha = 0.05, width = 0.3)

plotCIStats(
  fit0,
  barcols = NULL,
  preds = NULL,
  alpha = 0.05,
  stdunits = FALSE,
  width = 0.3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotSum_+3A_fit0">fit0</code></td>
<td>
<p>is an lm object</p>
</td></tr>
<tr><td><code id="plotSum_+3A_barcols">barcols</code></td>
<td>
<p>a vector of colours, one per term in lm</p>
</td></tr>
<tr><td><code id="plotSum_+3A_preds">preds</code></td>
<td>
<p>terms to include in plot</p>
</td></tr>
<tr><td><code id="plotSum_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="plotSum_+3A_type">type</code></td>
<td>
<p>&quot;SS&quot; or &quot;F&quot;, from type 3 Anova</p>
</td></tr>
<tr><td><code id="plotSum_+3A_width">width</code></td>
<td>
<p>bar width</p>
</td></tr>
<tr><td><code id="plotSum_+3A_stdunits">stdunits</code></td>
<td>
<p>TRUE or FALSE. If TRUE, coefficients refer to standardised predictor units.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>plotAnovaStats()</code>: Plots barchart of F or SS from lm
</p>
</li>
<li> <p><code>plottStats()</code>: Plots barchart of t stats from lm
</p>
</li>
<li> <p><code>plotCIStats()</code>: Plots confidence intervals from lm
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>plotAnovaStats(lm(mpg ~ wt+hp+disp, data=mtcars))
plottStats(lm(mpg ~ wt+hp+disp, data=mtcars))
plotCIStats(lm(mpg ~ wt+hp+disp, data=mtcars))
</code></pre>

<hr>
<h2 id='reorderTerms'>Re-order model terms</h2><span id='topic+reorderTerms'></span><span id='topic+pvalOrder'></span><span id='topic+bselOrder'></span><span id='topic+fselOrder'></span><span id='topic+revPredOrder'></span><span id='topic+randomPredOrder'></span><span id='topic+regsubsetsOrder'></span>

<h3>Description</h3>

<p>Re-order model terms
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvalOrder(m, d = NULL, refit = TRUE)

bselOrder(m, d = NULL, refit = TRUE, maxNPred = NULL)

fselOrder(m, d = NULL, refit = TRUE, maxNPred = NULL)

revPredOrder(m, d = NULL, refit = TRUE)

randomPredOrder(m, d = NULL, refit = TRUE)

regsubsetsOrder(m, d = NULL, refit = TRUE, collapse = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reorderTerms_+3A_m">m</code></td>
<td>
<p>an lm objecct</p>
</td></tr>
<tr><td><code id="reorderTerms_+3A_d">d</code></td>
<td>
<p>the data frame. If NULL, attempts to extract from m.</p>
</td></tr>
<tr><td><code id="reorderTerms_+3A_refit">refit</code></td>
<td>
<p>TRUE or FALSE</p>
</td></tr>
<tr><td><code id="reorderTerms_+3A_maxnpred">maxNPred</code></td>
<td>
<p>maximum number of predictors to use, defaults to all.</p>
</td></tr>
<tr><td><code id="reorderTerms_+3A_collapse">collapse</code></td>
<td>
<p>TRUE or FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of terms in order last to first, or an lm if refit=TRUE. regsubsetsOrder returns a list of predictor vectors, or a list of fits
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>pvalOrder()</code>: Arranges model terms in order of increasing p-value
</p>
</li>
<li> <p><code>bselOrder()</code>: Arranges model terms using backwards selection
</p>
</li>
<li> <p><code>fselOrder()</code>: Forwards selection
</p>
</li>
<li> <p><code>revPredOrder()</code>: Reverses order of terms in a fit
</p>
</li>
<li> <p><code>randomPredOrder()</code>: Reorders terms in a fit randomly
</p>
</li>
<li> <p><code>regsubsetsOrder()</code>: Best subsets regression.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>bselOrder(lm(mpg~wt+hp+disp, data=mtcars))
fselOrder(lm(mpg~wt+hp+disp, data=mtcars))
revPredOrder(lm(mpg~wt+hp+disp, data=mtcars))
randomPredOrder(lm(mpg~wt+hp+disp, data=mtcars))
regsubsetsOrder(lm(mpg~wt+hp+disp, data=mtcars))
</code></pre>

<hr>
<h2 id='termColours'>Constructs colour vector for model terms</h2><span id='topic+termColours'></span>

<h3>Description</h3>

<p>Constructs colour vector for model terms
</p>


<h3>Usage</h3>

<pre><code class='language-R'>termColours(f, pal = RColorBrewer::brewer.pal(4, "Set2"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="termColours_+3A_f">f</code></td>
<td>
<p>a model fit with term labels</p>
</td></tr>
<tr><td><code id="termColours_+3A_pal">pal</code></td>
<td>
<p>use this palette</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of colours. Residuals are given a grey color
</p>


<h3>Examples</h3>

<pre><code class='language-R'>termColours(lm(mpg ~ wt+hp, data=mtcars))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

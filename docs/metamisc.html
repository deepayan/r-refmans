<!DOCTYPE html><html><head><title>Help for package metamisc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {metamisc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#metamisc-package'><p>Meta-Analysis of Diagnosis and Prognosis Research Studies</p></a></li>
<li><a href='#acplot'><p>Plot the autocorrelation of a Bayesian meta-analysis model</p></a></li>
<li><a href='#acplot.mcmc.list'><p>Plot the autocorrelation of a Bayesian meta-analysis model</p></a></li>
<li><a href='#acplot.uvmeta'><p>Plot the autocorrelation of a Bayesian meta-analysis model</p></a></li>
<li><a href='#acplot.valmeta'><p>Plot the autocorrelation of a Bayesian meta-analysis model</p></a></li>
<li><a href='#ccalc'><p>Calculate the concordance statistic</p></a></li>
<li><a href='#Collins'><p>Collins data</p></a></li>
<li><a href='#cor2cov'><p>Convert a correlation matrix into a covariance matrix</p></a></li>
<li><a href='#Daniels'><p>Daniels and Hughes data</p></a></li>
<li><a href='#dplot'><p>Posterior distribution of estimated model parameters</p></a></li>
<li><a href='#dplot.mcmc.list'><p>Posterior distribution of estimated model parameters</p></a></li>
<li><a href='#dplot.uvmeta'><p>Plot the prior and posterior distribution of a meta-analysis model</p></a></li>
<li><a href='#dplot.valmeta'><p>Plot the prior and posterior distribution of a meta-analysis model</p></a></li>
<li><a href='#DVTipd'><p>Hypothetical dataset for diagnosis of Deep Vein Thrombosis (DVT)</p></a></li>
<li><a href='#DVTmodels'><p>Risk prediction models for diagnosing Deep Venous Thrombosis (DVT)</p></a></li>
<li><a href='#EuroSCORE'>
<p>Predictive performance of EuroSCORE II</p></a></li>
<li><a href='#fat'><p>Regression tests for detecting funnel plot asymmetry</p></a></li>
<li><a href='#Fibrinogen'>
<p>Meta-analysis of the association between plasma fibrinogen concentration and the risk of coronary heath disease</p></a></li>
<li><a href='#fitted.metapred'><p>Extract Model Fitted Values</p></a></li>
<li><a href='#forest'><p>Forest plot</p></a></li>
<li><a href='#forest.default'><p>Forest plot</p></a></li>
<li><a href='#forest.metapred'><p>Forest plot of a metapred fit</p></a></li>
<li><a href='#forest.mp.cv.val'><p>Forest plot of a validation object.</p></a></li>
<li><a href='#Framingham'>
<p>Predictive performance of the Framingham Risk Score in male populations</p></a></li>
<li><a href='#gelmanplot'><p>Gelman-Rubin-Brooks plot</p></a></li>
<li><a href='#gelmanplot.mcmc.list'><p>Gelman-Rubin-Brooks plot</p></a></li>
<li><a href='#gelmanplot.uvmeta'><p>Gelman-Rubin-Brooks plot</p></a></li>
<li><a href='#gelmanplot.valmeta'><p>Gelman-Rubin-Brooks plot</p></a></li>
<li><a href='#gen'><p>Generalizability estimates</p></a></li>
<li><a href='#impact'><p>IMPACT data</p></a></li>
<li><a href='#impute_conditional_mean'><p>Impute missing values by their conditional mean</p></a></li>
<li><a href='#inv.logit'>
<p>Apply the inverse logit tranformation</p></a></li>
<li><a href='#Kertai'><p>Kertai data</p></a></li>
<li><a href='#logit'><p> Apply logit tranformation</p></a></li>
<li><a href='#logLik.riley'><p>Print the log-likelihood</p></a></li>
<li><a href='#ma'><p>Random effects meta-analysis</p></a></li>
<li><a href='#metapred'><p>Generalized Stepwise Regression for Prediction Models in Clustered Data</p></a></li>
<li><a href='#oecalc'><p>Calculate the total O:E ratio</p></a></li>
<li><a href='#perf'><p>Performance estimates</p></a></li>
<li><a href='#plot.fat'><p>Display results from the funnel plot asymmetry test</p></a></li>
<li><a href='#plot.mm_perf'><p>Forest Plots</p></a></li>
<li><a href='#plot.riley'><p>Plot the summary of the bivariate model from Riley et al. (2008).</p></a></li>
<li><a href='#plot.uvmeta'><p>Forest Plots</p></a></li>
<li><a href='#plot.valmeta'><p>Forest Plots</p></a></li>
<li><a href='#predict.riley'><p>Prediction Interval</p></a></li>
<li><a href='#recalibrate'><p>Recalibrate a Prediction Model</p></a></li>
<li><a href='#riley'><p>Fit the alternative model for bivariate random-effects meta-analysis</p></a></li>
<li><a href='#rmplot'><p>Plot the running means of a Bayesian meta-analysis model</p></a></li>
<li><a href='#rmplot.mcmc.list'><p>Plot the running means of a Bayesian meta-analysis model</p></a></li>
<li><a href='#rmplot.uvmeta'><p>Plot the running means of a Bayesian meta-analysis model</p></a></li>
<li><a href='#rmplot.valmeta'><p>Plot the running means of a Bayesian meta-analysis model</p></a></li>
<li><a href='#Roberts'><p>Roberts data</p></a></li>
<li><a href='#Scheidler'><p>Diagnostic accuracy data</p></a></li>
<li><a href='#se'><p>Standard errors and variances</p></a></li>
<li><a href='#stackedglm'><p>Stacked Regression</p></a></li>
<li><a href='#subset.metapred'><p>Subsetting metapred fits</p></a></li>
<li><a href='#summary.riley'><p>Parameter summaries</p>
Provides the summary estimates of the alternative model for bivariate random-effects meta-analysis by Riley et al.
(2008) with their corresponding standard errors (derived from the inverse Hessian). For confidence intervals,
asymptotic normality is assumed.</a></li>
<li><a href='#summary.uvmeta'><p>Summarizing Univariate Meta-Analysis Models</p></a></li>
<li><a href='#uvmeta'><p>Univariate meta-analysis</p></a></li>
<li><a href='#uvmeta-class'><p>Class &quot;uvmeta&quot;. Result of a univariate meta-analysis.</p></a></li>
<li><a href='#valmeta'><p>Meta-analysis of prediction model performance</p></a></li>
<li><a href='#vcov.riley'><p>Calculate Variance-Covariance Matrix for a Fitted Riley Model Object</p></a></li>
<li><a href='#Zhang'>
<p>Meta-analysis of the prognostic role of hormone receptors in endometrial cancer</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Meta-Analysis of Diagnosis and Prognosis Research Studies</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-12-25</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitate frequentist and Bayesian meta-analysis of diagnosis and prognosis research studies. It includes functions to  summarize multiple estimates of prediction model discrimination and calibration performance (Debray et al., 2019) &lt;<a href="https://doi.org/10.1177%2F0962280218785504">doi:10.1177/0962280218785504</a>&gt;. It also includes functions to evaluate funnel plot asymmetry (Debray et al., 2018) &lt;<a href="https://doi.org/10.1002%2Fjrsm.1266">doi:10.1002/jrsm.1266</a>&gt;. Finally, the package provides functions for developing multivariable prediction models from datasets with clustering (de Jong et al., 2021) &lt;<a href="https://doi.org/10.1002%2Fsim.8981">doi:10.1002/sim.8981</a>&gt;. </td>
</tr>
<tr>
<td>Imports:</td>
<td>metafor (&ge; 2.0.0), mvtnorm, lme4, dplyr, plyr, methods, pROC,
ggplot2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), stats, graphics</td>
</tr>
<tr>
<td>Suggests:</td>
<td>coda, runjags, rjags, ggmcmc, logistf (&ge; 1.23), testthat (&ge;
1.0.2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/smartdata-analysis-and-statistics/metamisc">https://github.com/smartdata-analysis-and-statistics/metamisc</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-25 11:50:38 UTC; tdebray</td>
</tr>
<tr>
<td>Author:</td>
<td>Thomas Debray <a href="https://orcid.org/0000-0002-1790-2719"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Valentijn de Jong <a href="https://orcid.org/0000-0001-9921-3468"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thomas Debray &lt;thomas.debray@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-25 12:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='metamisc-package'>Meta-Analysis of Diagnosis and Prognosis Research Studies</h2><span id='topic+metamisc-package'></span>

<h3>Description</h3>

<p>Facilitate frequentist and Bayesian meta-analysis of diagnosis and prognosis research studies. It includes functions to  summarize multiple estimates of prediction model discrimination and calibration performance (Debray et al., 2019) &lt;doi:10.1177/0962280218785504&gt;. It also includes functions to evaluate funnel plot asymmetry (Debray et al., 2018) &lt;doi:10.1002/jrsm.1266&gt;. Finally, the package provides functions for developing multivariable prediction models from datasets with clustering (de Jong et al., 2021) &lt;doi:10.1002/sim.8981&gt;.</p>


<h3>Details</h3>

<p>The following functionality is currently implemented: univariate meta-analysis of summary data (<code><a href="#topic+uvmeta">uvmeta</a></code>), bivariate meta-analysis of correlated outcomes (<code><a href="#topic+riley">riley</a></code>), meta-analysis of prediction model performance (<code><a href="#topic+valmeta">valmeta</a></code>), evaluation of funnel plot asymmetry (<code><a href="#topic+fat">fat</a></code>). <br />
<br />
The <code>metamisc</code> package also provides a comprehensive framework for developing prediction models when patient-level data from multiple studies or settings are available (<code><a href="#topic+metapred">metapred</a></code>).
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;, Valentijn de Jong &lt;Valentijn.M.T.de.Jong@gmail.com&gt;</p>


<h3>References</h3>

<p>de Jong VMT, Moons KGM, Eijkemans MJC, Riley RD, Debray TPA. Developing more generalizable prediction models from pooled studies and large clustered data sets. Stat Med. 2021;40(15):3533&ndash;59.
</p>
<p>Debray TPA, Moons KGM, Ahmed I, Koffijberg H, Riley RD. A framework for developing, implementing, and evaluating clinical prediction models in an individual participant data meta-analysis. Stat Med. 2013;32(18):3158&ndash;80. 
</p>
<p>Debray TPA, Damen JAAG, Riley R, Snell KIE, Reitsma JB, Hooft L, et al. A framework for meta-analysis of prediction model studies with binary and time-to-event outcomes. Stat Methods Med Res. 2019 Sep;28(9):2768&ndash;86. 
</p>
<p>Debray TPA, Damen JAAG, Snell KIE, Ensor J, Hooft L, Reitsma JB, et al. A guide to systematic review and meta-analysis of prediction model performance. BMJ. 2017;356:i6460. 
</p>
<p>Debray TPA, Moons KGM, Riley RD. Detecting small-study effects and funnel plot asymmetry in meta-analysis of survival data: a comparison of new and existing tests. Res Syn Meth. 2018;9(1):41&ndash;50. 
</p>
<p>Riley RD, Moons K, Snell KIE, Ensor J, Hooft L, Altman D, et al. A guide to systematic review and meta-analysis of prognostic factor studies. BMJ. 2019;364:k4597.
</p>
<p>Riley RD, Tierney JF, Stewart LA. Individual participant data meta-analysis: a handbook for healthcare research. Hoboken, NJ: Wiley; 2021. ISBN: 978-1-119-33372-2.
</p>
<p>Schmid CH, Stijnen T, White IR. Handbook of meta-analysis. First edition. Boca Raton: Taylor and Francis; 2020. ISBN: 978-1-315-11940-3.
</p>
<p>Steyerberg EW, Nieboer D, Debray TPA, Van Houwelingen JC. Assessment of heterogeneity in an individual participant data meta-analysis of prediction models: An overview and illustration. Stat Med. 2019;38(22):4290&ndash;309. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fat">fat</a></code>, <code><a href="#topic+metapred">metapred</a></code>, <code><a href="#topic+riley">riley</a></code>, <code><a href="#topic+uvmeta">uvmeta</a></code>, <code><a href="#topic+valmeta">valmeta</a></code>  
</p>

<hr>
<h2 id='acplot'>Plot the autocorrelation of a Bayesian meta-analysis model</h2><span id='topic+acplot'></span>

<h3>Description</h3>

<p>Function to display autocorrelation of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acplot(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acplot_+3A_...">...</code></td>
<td>
<p>Additional arguments, which are currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a generic function.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='acplot.mcmc.list'>Plot the autocorrelation of a Bayesian meta-analysis model</h2><span id='topic+acplot.mcmc.list'></span>

<h3>Description</h3>

<p>Function to display autocorrelation of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mcmc.list'
acplot(x, P, nLags = 50, greek = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acplot.mcmc.list_+3A_x">x</code></td>
<td>
<p>An object of class <code>"mcmc.list"</code></p>
</td></tr>
<tr><td><code id="acplot.mcmc.list_+3A_p">P</code></td>
<td>
<p>Optional dataframe describing the parameters to plot and their respective names</p>
</td></tr>
<tr><td><code id="acplot.mcmc.list_+3A_nlags">nLags</code></td>
<td>
<p>Integer indicating the number of lags of the autocorrelation plot.</p>
</td></tr>
<tr><td><code id="acplot.mcmc.list_+3A_greek">greek</code></td>
<td>
<p>Logical value indicating whether parameter labels have to be parsed to get Greek letters. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="acplot.mcmc.list_+3A_...">...</code></td>
<td>
<p>Additional arguments which are passed to ggs_autocorrelation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='acplot.uvmeta'>Plot the autocorrelation of a Bayesian meta-analysis model</h2><span id='topic+acplot.uvmeta'></span>

<h3>Description</h3>

<p>Function to display autocorrelation of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'uvmeta'
acplot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acplot.uvmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"valmeta"</code></p>
</td></tr>
<tr><td><code id="acplot.uvmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Results are displayed for the estimated mean (<code>mu</code>) and standard-deviation (<code>tau</code>) of the meta-analysis model.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Roberts)

fit &lt;- with(Roberts, uvmeta(r=SDM, r.se=SE, labels=rownames(Roberts), method="BAYES"))
acplot(fit)

## End(Not run) 

</code></pre>

<hr>
<h2 id='acplot.valmeta'>Plot the autocorrelation of a Bayesian meta-analysis model</h2><span id='topic+acplot.valmeta'></span>

<h3>Description</h3>

<p>Function to display autocorrelation of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'valmeta'
acplot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acplot.valmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"valmeta"</code></p>
</td></tr>
<tr><td><code id="acplot.valmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Results are displayed for the estimated mean (<code>mu</code>) and standard-deviation (<code>tau</code>) of the meta-analysis model.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(EuroSCORE)

fit &lt;- valmeta(cstat=c.index, cstat.se=se.c.index, cstat.cilb=c.index.95CIl,
               cstat.ciub=c.index.95CIu, N=n, O=n.events, 
               data=EuroSCORE, method="BAYES", slab=Study)
acplot(fit)

## End(Not run) 

</code></pre>

<hr>
<h2 id='ccalc'>Calculate the concordance statistic</h2><span id='topic+ccalc'></span>

<h3>Description</h3>

<p>The function calculates (transformed versions of) the concordance (c-)
statistic with the corresponding sampling variance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ccalc(
  cstat,
  cstat.se,
  cstat.cilb,
  cstat.ciub,
  cstat.cilv,
  sd.LP,
  N,
  O,
  Po,
  data,
  slab,
  subset,
  g = NULL,
  level = 0.95,
  approx.se.method = 4,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ccalc_+3A_cstat">cstat</code></td>
<td>
<p>vector to specify the estimated c-statistics.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_cstat.se">cstat.se</code></td>
<td>
<p>Optional vector to specify the corresponding standard errors.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_cstat.cilb">cstat.cilb</code></td>
<td>
<p>Optional vector to specify the lower limits of the confidence interval.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_cstat.ciub">cstat.ciub</code></td>
<td>
<p>Optional vector to specify the upper limits of the confidence interval.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_cstat.cilv">cstat.cilv</code></td>
<td>
<p>Optional vector to specify the levels of aformentioned confidence interval limits. 
(default: 0.95, which corresponds to the 95% confidence interval).</p>
</td></tr>
<tr><td><code id="ccalc_+3A_sd.lp">sd.LP</code></td>
<td>
<p>Optional vector to specify the standard deviations of the linear predictor (prognostic index).</p>
</td></tr>
<tr><td><code id="ccalc_+3A_n">N</code></td>
<td>
<p>Optional vector to specify the sample/group sizes.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_o">O</code></td>
<td>
<p>Optional vector to specify the total number of observed events.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_po">Po</code></td>
<td>
<p>Optional vector to specify the observed event probabilities.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_data">data</code></td>
<td>
<p>Optional data frame containing the variables given to the arguments above.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_slab">slab</code></td>
<td>
<p>Optional vector with labels for the studies.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_subset">subset</code></td>
<td>
<p>Optional vector indicating the subset of studies that should be used. This can be a logical vector or a numeric vector indicating the indices of the studies to include.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_g">g</code></td>
<td>
<p>a quoted string that is the function to transform estimates of the c-statistic; see the details below.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_level">level</code></td>
<td>
<p>Optional numeric to specify the level for the confidence interval, default <code>0.95</code>.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_approx.se.method">approx.se.method</code></td>
<td>
<p>integer specifying which method should be used for estimating the standard error of the
c-statistic (Newcombe, 2006). So far, only method <code>2</code> and method <code>4</code> (default) have been implemented.</p>
</td></tr>
<tr><td><code id="ccalc_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The c-statistic is a measure of discrimination, and indicates the ability of a prediction model to 
distinguish between patients developing and not developing the outcome. The c-statistic typically ranges 
from 0.5 (no discriminative ability) to 1 (perfect discriminative ability). 
</p>
<p>By default, the function <code>ccalc</code> will derive the c-statistic of each study, together with 
the corresponding standard error and 95% confidence interval. However, it is also possible to calculate transformed 
versions of the c-statistic. Appropriate standard errors are then derived using the Delta method. 
For instance, the logit transformation can be applied by specifying <code>g="log(cstat/(1-cstat))"</code>. 
</p>


<h4>Restoring the c-statistic</h4>

<p>For studies where the c-statistic is missing, it is estimated from the standard deviation of the linear predictor 
(<code>theta.source="std.dev(LP)"</code>). The corresponding method is described by White et al. (2015).
</p>



<h4>Restoring the standard error of the c-statistic</h4>

<p>When missing, the standard error of the c-statistic can be estimated from the confidence interval. Alternatively, 
the standard error can be approximated from a combination of the reported c-statistic, the total sample size and 
the total number of events (Newcombe, 2006). This can be achieved by adopting (a modification of) the method 
proposed by Hanley and McNeil, as specified in <code>approx.se.method</code>.
</p>



<h3>Value</h3>

<p>An object of class c(&quot;mm_perf&quot;,&quot;data.frame&quot;) with the following columns:
</p>

<dl>
<dt>&quot;theta&quot;</dt><dd><p>The (transformed) c-statistics. </p>
</dd>
<dt>&quot;theta.se&quot;</dt><dd><p>Standard errors of the (transformed) c-statistics.</p>
</dd>
<dt>&quot;theta.cilb&quot;</dt><dd><p>Lower confidence interval of the (transformed) c-statistics. The level is specified in
<code>level</code>. Intervals are calculated on the same scale as <code>theta</code> by assuming a Normal distribution.</p>
</dd>
<dt>&quot;theta.ciub&quot;</dt><dd><p>Upper confidence interval of the (transformed) c-statistics. The level is specified in
<code>level</code>. Intervals are calculated on the same scale as <code>theta</code> by assuming a Normal distribution.</p>
</dd>
<dt>&quot;theta.source&quot;</dt><dd><p>Method used for calculating the (transformed) c-statistic.</p>
</dd>
<dt>&quot;theta.se.source&quot;</dt><dd><p>Method used for calculating the standard error of the (transformed) c-statistic.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Debray TPA, Damen JAAG, Snell KIE, Ensor J, Hooft L, Reitsma JB, et al. A guide to systematic review and meta-analysis of prediction model performance. BMJ. 2017;356:i6460. 
</p>
<p>Debray TPA, Damen JAAG, Riley R, Snell KIE, Reitsma JB, Hooft L, et al. A framework for meta-analysis of  prediction model studies with binary and time-to-event outcomes. Stat Methods Med Res. 2018; In press. 
</p>
<p>Hanley JA, McNeil BJ. The meaning and use of the area under a receiver operating characteristic (ROC) 
curve. <em>Radiology</em>. 1982; 143(1):29&ndash;36.
</p>
<p>Newcombe RG. Confidence intervals for an effect size measure based on the Mann-Whitney statistic. 
Part 2: asymptotic methods and evaluation. <em>Stat Med</em>. 2006; 25(4):559&ndash;73.
</p>
<p>Snell KI, Ensor J, Debray TP, Moons KG, Riley RD. Meta-analysis of prediction model performance across 
multiple studies: Which scale helps ensure between-study normality for the C -statistic and calibration measures? 
<em>Statistical Methods in Medical Research</em>. 2017. 
</p>
<p>White IR, Rapsomaniki E, the Emerging Risk Factors Collaboration. Covariate-adjusted measures of discrimination 
for survival data. <em>Biom J</em>. 2015;57(4):592&ndash;613.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>######### Validation of prediction models with a binary outcome #########
data(EuroSCORE)

# Calculate the c-statistic and its standard error
est1 &lt;- ccalc(cstat = c.index, cstat.se = se.c.index, cstat.cilb = c.index.95CIl, 
              cstat.ciub = c.index.95CIu, N = n, O = n.events, data = EuroSCORE, slab = Study)
est1
  
# Calculate the logit c-statistic and its standard error
est2 &lt;- ccalc(cstat = c.index, cstat.se = se.c.index, cstat.cilb = c.index.95CIl, 
              cstat.ciub = c.index.95CIu, N = n, O = n.events, data = EuroSCORE, slab = Study, 
              g = "log(cstat/(1-cstat))")
est2
      
# Display the results of all studies in a forest plot
plot(est1)
                                                            
</code></pre>

<hr>
<h2 id='Collins'>Collins data</h2><span id='topic+Collins'></span>

<h3>Description</h3>

<p>A meta-analysis of nine clinical trials investigating the effect of taking diuretics during pregnancy on the risk of pre-eclampsia. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Collins)</code></pre>


<h3>Format</h3>

<p>A data frame with 9 observations on the following 2 variables.
</p>

<dl>
<dt><code>logOR</code></dt><dd><p>a numeric vector with treatment effect sizes (log odds ratio)</p>
</dd>
<dt><code>SE</code></dt><dd><p>a numeric vector with the standard error of the treatment effect sizes</p>
</dd>
</dl>



<h3>Source</h3>

<p>Collins, R., Yusuf, S., Peto, R. Overview of randomised trials of diuretics in pregnancy. <em>British Medical Journal</em> 1985, <b>290</b>, 17&ndash;23.
</p>
<p>Hardy, R.J. Thompson, S.G. A likelihood approach to meta-analysis with random effects. <em>Statistics in Medicine</em> 1996; <b>15</b>:619&ndash;629.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Collins)
</code></pre>

<hr>
<h2 id='cor2cov'>Convert a correlation matrix into a covariance matrix</h2><span id='topic+cor2cov'></span>

<h3>Description</h3>

<p>Convert a correlation matrix into a covariance matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cor2cov(sigma, cormat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cor2cov_+3A_sigma">sigma</code></td>
<td>
<p>vector of standard deviations. The order of standard deviations should correspond to the column order in 'cormat'.</p>
</td></tr>
<tr><td><code id="cor2cov_+3A_cormat">cormat</code></td>
<td>
<p>a symmetric numeric correlation matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The covariance matrix
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='Daniels'>Daniels and Hughes data</h2><span id='topic+Daniels'></span>

<h3>Description</h3>

<p>Data frame with treatment differences in CD4 cell count.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Daniels")</code></pre>


<h3>Format</h3>

<p>A data frame with 15 observations on the following 2 variables.
</p>

<dl>
<dt><code>Y1</code></dt><dd><p>Treatment differences for the log hazard ratio for the development of AIDS or death over 2 years.</p>
</dd>  
<dt><code>vars1</code></dt><dd><p>Error variances of <code>Y1</code>.</p>
</dd>  
<dt><code>Y2</code></dt><dd><p>Difference in mean change in CD4 cell count between baseline and 6 month for studies of the AIDS Clinical Trial Group</p>
</dd>  
<dt><code>vars2</code></dt><dd><p>Error variances of <code>Y2</code>.</p>
</dd>  
</dl>



<h3>Details</h3>

<p>The <code>Daniels</code> data comprises 15 phase II/III randomized clinical trials of the HIV Disease Section of the Adult AIDS Clinical Trials Group of the National Institutes of Health, which had data available as of May 1996, which had at least six months of follow-up on some patients and in which at least one patient developed AIDS or died. The data were previously used
by Daniels and Hughes (1997) to assess whether the change in CD4 cell count is a surrogate for time to either development of AIDS or death in drug trials of patients with HIV. 
</p>


<h3>Source</h3>

<p>Daniels MJ, Hughes MD. Meta-analysis for the evaluation of potential surrogate markers. <em>Statistics in Medicine</em> 1997; <b>16</b>: 1965&ndash;1982.
</p>

<hr>
<h2 id='dplot'>Posterior distribution of estimated model parameters</h2><span id='topic+dplot'></span>

<h3>Description</h3>

<p>Generate a plot of the posterior distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dplot(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dplot_+3A_...">...</code></td>
<td>
<p>Additional arguments, which are currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a generic function.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='dplot.mcmc.list'>Posterior distribution of estimated model parameters</h2><span id='topic+dplot.mcmc.list'></span>

<h3>Description</h3>

<p>Generate a plot of the posterior distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mcmc.list'
dplot(x, P, plot_type = "dens", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dplot.mcmc.list_+3A_x">x</code></td>
<td>
<p>An object of class <code>"mcmc.list"</code></p>
</td></tr>
<tr><td><code id="dplot.mcmc.list_+3A_p">P</code></td>
<td>
<p>Optional dataframe describing the parameters to plot and their respective names</p>
</td></tr>
<tr><td><code id="dplot.mcmc.list_+3A_plot_type">plot_type</code></td>
<td>
<p>Optional character string to specify whether a density plot (<code>"dens"</code>) or 
histogram (<code>"hist"</code>) should be displayed.</p>
</td></tr>
<tr><td><code id="dplot.mcmc.list_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='dplot.uvmeta'>Plot the prior and posterior distribution of a meta-analysis model</h2><span id='topic+dplot.uvmeta'></span>

<h3>Description</h3>

<p>Function to generate plots for the prior and posterior distribution of a Bayesian meta-analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'uvmeta'
dplot(x, par, distr_type, plot_type = "dens", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dplot.uvmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"uvmeta"</code></p>
</td></tr>
<tr><td><code id="dplot.uvmeta_+3A_par">par</code></td>
<td>
<p>Character string to specify for which parameter a plot should be generated. Options are <code>"mu"</code> 
(mean of the random effects model) and <code>"tau"</code> (standard deviation of the random effects model).</p>
</td></tr>
<tr><td><code id="dplot.uvmeta_+3A_distr_type">distr_type</code></td>
<td>
<p>Character string to specify whether the prior distribution (<code>"prior"</code>) or 
posterior distribution (<code>"posterior"</code>) should be displayed.</p>
</td></tr>
<tr><td><code id="dplot.uvmeta_+3A_plot_type">plot_type</code></td>
<td>
<p>Character string to specify whether a density plot (<code>"dens"</code>) or 
histogram (<code>"hist"</code>) should be displayed.</p>
</td></tr>
<tr><td><code id="dplot.uvmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Roberts)

fit &lt;- with(Roberts, uvmeta(r=SDM, r.se=SE, method="BAYES"))

dplot(fit)
dplot(fit, distr_type = "posterior")
dplot(fit, par = "tau", distr_type = "prior")
dplot(fit, plot_type = "hist")

## End(Not run) 

</code></pre>

<hr>
<h2 id='dplot.valmeta'>Plot the prior and posterior distribution of a meta-analysis model</h2><span id='topic+dplot.valmeta'></span>

<h3>Description</h3>

<p>Function to generate plots for the prior and posterior distribution of a Bayesian meta-analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'valmeta'
dplot(x, par, distr_type, plot_type = "dens", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dplot.valmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"valmeta"</code></p>
</td></tr>
<tr><td><code id="dplot.valmeta_+3A_par">par</code></td>
<td>
<p>Character string to specify for which parameter a plot should be generated. Options are <code>"mu"</code> 
(mean of the random effects model) and <code>"tau"</code> (standard deviation of the random effects model).</p>
</td></tr>
<tr><td><code id="dplot.valmeta_+3A_distr_type">distr_type</code></td>
<td>
<p>Character string to specify whether the prior distribution (<code>"prior"</code>) or 
posterior distribution (<code>"posterior"</code>) should be displayed.</p>
</td></tr>
<tr><td><code id="dplot.valmeta_+3A_plot_type">plot_type</code></td>
<td>
<p>Character string to specify whether a density plot (<code>"dens"</code>) or 
histogram (<code>"hist"</code>) should be displayed.</p>
</td></tr>
<tr><td><code id="dplot.valmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(EuroSCORE)

# Meta-analysis of the concordance statistic
fit &lt;- valmeta(cstat=c.index, cstat.se=se.c.index, cstat.cilb=c.index.95CIl,
               cstat.ciub=c.index.95CIu, N=n, O=n.events, 
               data=EuroSCORE, method="BAYES", slab=Study)
dplot(fit)
dplot(fit, distr_type = "posterior")
dplot(fit, par = "tau", distr_type = "prior")

# Meta-analysis of the O:E ratio
EuroSCORE.new &lt;- EuroSCORE
EuroSCORE.new$n[c(1, 2, 5, 10, 20)] &lt;-  NA
pars &lt;- list(hp.tau.dist="dhalft",   # Prior for the between-study standard deviation
             hp.tau.sigma=1.5,       # Standard deviation for 'hp.tau.dist'
             hp.tau.df=3,            # Degrees of freedom for 'hp.tau.dist'
             hp.tau.max=10)          # Maximum value for the between-study standard deviation
fit2 &lt;- valmeta(measure="OE", O=n.events, E=e.events, N=n, data=EuroSCORE.new,
                method="BAYES", slab=Study, pars=pars)
dplot(fit2, plot_type = "hist")

## End(Not run) 

</code></pre>

<hr>
<h2 id='DVTipd'>Hypothetical dataset for diagnosis of Deep Vein Thrombosis (DVT)
</h2><span id='topic+DVTipd'></span>

<h3>Description</h3>

<p>A hypothetical dataset with 500 subjects suspected of having deep vein thrombosis (DVT).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(DVTipd)</code></pre>


<h3>Format</h3>

<p>A data frame with 500 observations of 16 variables.
</p>

<dl>
<dt><code>sex</code></dt><dd><p>gender (0=female, 1=male)</p>
</dd>
<dt><code>malign</code></dt><dd><p>active malignancy (0=no active malignancy, 1=active malignancy)</p>
</dd>
<dt><code>par</code></dt><dd><p>paresis (0=no paresis, 1=paresis)</p>
</dd>
<dt><code>surg</code></dt><dd><p>recent surgery or bedridden</p>
</dd>
<dt><code>tend</code></dt><dd><p>tenderness venous system</p>
</dd>
<dt><code>oachst</code></dt><dd><p>oral contraceptives or hst</p>
</dd>
<dt><code>leg</code></dt><dd><p>entire leg swollen</p>
</dd>
<dt><code>notraum</code></dt><dd><p>absence of leg trauma</p>
</dd>
<dt><code>calfdif3</code></dt><dd><p>calf difference &gt;= 3 cm</p>
</dd>
<dt><code>pit</code></dt><dd><p>pitting edema</p>
</dd>
<dt><code>vein</code></dt><dd><p>vein distension</p>
</dd>
<dt><code>altdiagn</code></dt><dd><p>alternative diagnosis present</p>
</dd>
<dt><code>histdvt</code></dt><dd><p>history of previous DVT</p>
</dd>
<dt><code>ddimdich</code></dt><dd><p>dichotimized D-dimer value</p>
</dd>
<dt><code>dvt</code></dt><dd><p>final diagnosis of DVT</p>
</dd>
<dt><code>study</code></dt><dd><p>study indicator</p>
</dd>
</dl>



<h3>Details</h3>

<p>Hypothetical dataset derived from the Individual Participant Data Meta-Analysis from Geersing <em>et al</em> (2014). The dataset consists of consecutive outpatients with suspected deep vein thrombosis, with documented information on the presence or absence of proximal deep vein thrombosis (<code>dvt</code>) by an acceptable reference test. Acceptable such tests were either compression ultrasonography or venography at initial presentation, or, if venous imaging was not performed, an uneventful follow-up for at least three months.
</p>


<h3>Source</h3>

<p>Geersing GJ, Zuithoff NPA, Kearon C, Anderson DR, Ten Cate-Hoek AJ, Elf JL, et al. Exclusion of deep vein thrombosis using the Wells rule in clinically important subgroups: individual patient data meta-analysis. <em>BMJ</em>. 2014;348:g1340. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(DVTipd)
str(DVTipd) 
summary(apply(DVTipd,2,as.factor))

## Develop a prediction model to predict presence of DVT
model.dvt &lt;- glm("dvt~sex+oachst+malign+surg+notraum+vein+calfdif3+ddimdich", 
                  family=binomial, data=DVTipd)
summary(model.dvt)
</code></pre>

<hr>
<h2 id='DVTmodels'>Risk prediction models for diagnosing Deep Venous Thrombosis (DVT)
</h2><span id='topic+DVTmodels'></span>

<h3>Description</h3>

<p>Previously published prediction models for predicting the presence of DVT. </p>


<h3>Usage</h3>

<pre><code class='language-R'>data(DVTmodels)</code></pre>


<h3>Format</h3>

<p>An object of the class <code>litmodels</code> with the following information for each literature model: the study-level descriptives (&quot;<code>descriptives</code>&quot;), the regression coefficient or weight for each predictor (&quot;<code>weights</code>&quot;) and the error variance for each regression coefficient or weight (&quot;<code>weights.var</code>&quot;). 
</p>


<h3>Details</h3>

<p>Previously, several models (Gagne, Oudega) and score charts (Wells, modified Wells, and Hamilton) have been published for evaluating the presence of DVT in suspected patients. These models combine information on mulitple predictors into a weighted sum, that can subsequently be used to obtain estimates of absolute risk. See <code>DVTipd</code> for more information on the predictors.
</p>


<h3>Source</h3>

<p>Wells PS, Anderson DR, Bormanis J, Guy F, Mitchell M, Gray L, Clement C, Robinson KS, Lewandowski B. Value of assessment of pretest probability of deep-vein thrombosis in clinical management. <em>Lancet</em> 1997; <b>350</b>(9094):1795&ndash;1798. DOI: 10.1016/S0140-6736(97)08140-3.
</p>
<p>Wells PS, Anderson DR, Rodger M, Forgie M, Kearon C, Dreyer J, Kovacs G, Mitchell M, Lewandowski B, Kovacs MJ. Evaluation of D-dimer in the diagnosis of suspected deep-vein thrombosis. <em>The New England Journal of Medicine</em> 2003; <b>349</b>(13):1227&ndash;1235. DOI: 10.1056/NEJMoa023153.
</p>
<p>Gagne P, Simon L, Le Pape F, Bressollette L, Mottier D, Le Gal G. Clinical prediction rule for diagnosing deep vein thrombosis in primary care. <em>La Presse Medicale</em> 2009; <b>38</b>(4):525&ndash;533. DOI: 10.1016/j.lpm.2008.09.022.
</p>
<p>Subramaniam RM, Snyder B, Heath R, Tawse F, Sleigh J. Diagnosis of lower limb deep venous thrombosis in emergency department patients: performance of Hamilton and modified Wells scores. <em>Annals of Emergency Medicine</em> 2006; <b>48</b>(6):678&ndash;685. DOI: 10.1016/j.annemergmed.2006.04.010.
</p>
<p>Oudega R, Moons KGM, Hoes AW. Ruling out deep venous thrombosis in primary care. a simple diagnostic algorithm including D-dimer testing. <em>Thrombosis and Haemostasis</em> 2005; <b>94</b>(1):200&ndash;205. DOI: 10.1160/TH04-12-0829.
</p>


<h3>References</h3>

<p>Debray TPA, Koffijberg H, Nieboer D, Vergouwe Y, Steyerberg EW, Moons KGM. Meta-analysis and aggregation of multiple published prediction models. <em>Stat Med</em>. 2014 Jun 30;33(14):2341&ndash;62. 
</p>
<p>Debray TPA, Koffijberg H, Vergouwe Y, Moons KGM, Steyerberg EW. Aggregating published prediction models with individual participant data: a comparison of different approaches. <em>Stat Med</em>. 2012 Oct 15;31(23):2697&ndash;712. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+DVTipd">DVTipd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(DVTmodels)
</code></pre>

<hr>
<h2 id='EuroSCORE'>
Predictive performance of EuroSCORE II
</h2><span id='topic+EuroSCORE'></span>

<h3>Description</h3>

<p>This data set contains estimates on the predictive performance of the European system for cardiac operative risk evaluation (EuroSCORE II) in patients undergoing cardiac surgery. Results are based on the original development study and 22 validations identified by Guida <em>et al</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("EuroSCORE")</code></pre>


<h3>Format</h3>

<p>A data frame with 23 observations on the following 13 variables.
</p>

<dl>
<dt><code>Study</code></dt><dd><p>a vector with the first author of each validation study</p>
</dd>
<dt><code>n</code></dt><dd><p>a numeric vector with the total number of patients on which performance estimates are based</p>
</dd>
<dt><code>n.events</code></dt><dd><p>a numeric vector with the total number of observed events</p>
</dd>
<dt><code>c.index</code></dt><dd><p>a numeric vector with the estimated concordance statistic of each validation</p>
</dd>
<dt><code>se.c.index</code></dt><dd><p>a numeric vector with the standard error of the concordance statistics</p>
</dd>
<dt><code>c.index.95CIl</code></dt><dd><p>a numeric vector with the lower bound of the 95% confidence interval of the estimated concordance statistics</p>
</dd>
<dt><code>c.index.95CIu</code></dt><dd><p>a numeric vector with the upper bound of the 95% confidence interval of the estimated concordance statistics</p>
</dd>
<dt><code>Po</code></dt><dd><p>a numeric vector with the overall observed event probability of each validation</p>
</dd>
<dt><code>Pe</code></dt><dd><p>a numeric vector with the overall expected event probability of each validation</p>
</dd>
<dt><code>SD.Pe</code></dt><dd><p>a numeric vector with the standard error of <code>Pe</code></p>
</dd>
<dt><code>e.events</code></dt><dd><p>a numeric vector with the total number of expected events in each validation</p>
</dd>
<dt><code>multicentre</code></dt><dd><p>a logical vector describing whether the study was a multicentre study</p>
</dd>
<dt><code>mean.age</code></dt><dd><p>a numeric vector describing the mean age of the patients</p>
</dd>
<dt><code>sd.age</code></dt><dd><p>a numeric vector with the spread of the age of the patients</p>
</dd>
<dt><code>pts.before.2010</code></dt><dd><p>a logical vector describing whether studies included patients before 2010 (i.e., before EuroSCORE II was developed)</p>
</dd>
</dl>



<h3>Details</h3>

<p>Published in 2012, EuroSCORE II was developed using logistic regression in a dataset comprising 16,828 adult patients undergoing major cardiac surgery from 154 hospitals in 43 countries over a 12-week period (May-July) in 2010.  EuroSCORE II was developed to predict in-hospital mortality for patients undergoing any type of cardiac surgery. In 2014, a systematic review of published evidence on the performance value of the euroSCORE II was undertaken by Guida <em>et al</em>. Twenty-two validations, including more 145,592 patients from 21 external validation articles (one study included two validations) and a split-sample validation contained within original development article were included in the review; 23 validation studies in total.
</p>


<h3>Source</h3>

<p>Guida P, Mastro F, Scrascia G, Whitlock R, Paparella D. Performance of the European System for Cardiac Operative Risk Evaluation II: a meta-analysis of 22 studies involving 145,592 cardiac surgery procedures. <em>J Thorac Cardiovasc Surg</em>. 2014; <b>148</b>(6):3049&ndash;3057.e1. 
</p>
<p>Nashef SAM, Roques F, Sharples LD, Nilsson J, Smith C, Goldstone AR, et al. EuroSCORE II. <em>Eur J Cardiothorac Surg</em>. 2012; <b>41</b>(4):734-744; discussion 744-745. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(EuroSCORE)
</code></pre>

<hr>
<h2 id='fat'>Regression tests for detecting funnel plot asymmetry</h2><span id='topic+fat'></span>

<h3>Description</h3>

<p>The presence of small-study effects is a common threat to systematic reviews and meta-analyses, especially when 
it is due to publication bias, which occurs when small primary studies are more likely to be reported (published) 
if their findings were positive. The presence of small-study effects can be verified by visual inspection of 
the funnel plot, where for each included study of the meta-analysis, the estimate of the reported effect size is 
depicted against a measure of precision or sample size. 
The premise is that the scatter of plots should reflect a funnel shape, if small-study 
effects do not exist. However, when small studies are predominately in one direction (usually the 
direction of larger effect sizes), asymmetry will ensue.<br /> <br />
The <code><a href="#topic+fat">fat</a></code> function implements several tests for detecting funnel plot asymmetry, 
which can be used when the presence of between-study heterogeneity in treatment effect is relatively low.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fat(b, b.se, n.total, d.total, d1, d2, method = "E-FIV")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fat_+3A_b">b</code></td>
<td>
<p>Vector with the effect size of each study. Examples are log odds ratio, log hazards ratio, 
log relative risk.</p>
</td></tr>
<tr><td><code id="fat_+3A_b.se">b.se</code></td>
<td>
<p>Optional vector with the standard error of the effect size of each study</p>
</td></tr>
<tr><td><code id="fat_+3A_n.total">n.total</code></td>
<td>
<p>Optional vector with the total sample size of each study</p>
</td></tr>
<tr><td><code id="fat_+3A_d.total">d.total</code></td>
<td>
<p>Optional vector with the total number of observed events for each study</p>
</td></tr>
<tr><td><code id="fat_+3A_d1">d1</code></td>
<td>
<p>Optional vector with the total number of observed events in the exposed groups</p>
</td></tr>
<tr><td><code id="fat_+3A_d2">d2</code></td>
<td>
<p>Optional vector with the total number of observed events in the unexposed groups</p>
</td></tr>
<tr><td><code id="fat_+3A_method">method</code></td>
<td>
<p>Method for testing funnel plot asymmetry, defaults to <code>"E-FIV"</code> (Egger's test with 
multiplicative dispersion). Other options are <code>E-UW</code>, <code>M-FIV</code>, <code>M-FPV</code>, <code>D-FIV</code> and 
<code>D-FAV</code>. More info in &quot;Details&quot;</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Egger regression method</h4>

<p>A common approach to test the presence of small-study effects is to
estimate a regression model where the standardized effect estimate 
(effect/SE) is regressed on a measure of precision (1/SE),
(<code>method="E-UW"</code>, Egger 1997).
It is possible to allow for between-study heterogeneity by adopting a 
multiplicative overdispersion parameter by which the variance in each 
study is multiplied (<code>method="E-FIV"</code>, Sterne 2000).
</p>
<p>Unfortunately, it has been demonstrated that the aforementioned two tests 
are biased because: (i) the independent variable is subject to sampling 
variability; (ii) the standardized treatment effect is correlated with its 
estimated precision; and (iii) for binary data, the independent regression 
variable is a biased estimate of the true precision, with larger bias for 
smaller sample sizes (Macaskill et al. 2001).
</p>



<h4>Macaskill regression method</h4>

<p>The standard approach estimates a regression model with the effect size as 
a function of the study size (<code>method="M-FIV"</code>, Macaskill et al. 
2001). Each study is weighted by the precision of the treatment effect 
estimate to allow for possible heteroscedasticity.
An alternative approach is to weight each study by a pooled' estimate of the 
outcome proportion (<code>method="M-FPV"</code>)
</p>
<p>For studies with zero events, a continuity correction is applied by adding 
0.5 to all cell counts.
</p>



<h4>Peters regression method</h4>

<p>This approach (<code>method="P-FPV"</code>) estimates a regression model with the 
treatment effect as a function of the inverse of the total sample size 
(Peters et al. 2006).
</p>
<p>For studies with zero events, a continuity correction is applied by adding 
0.5 to all cell counts.
</p>



<h4>Debray regression method</h4>

<p>This approach was proposed for survival data, and uses the total 
number of events as independent variable in the weighted regression model 
(Debray et al. 2017). The study weights are based on the inverse variance
(<code>method="D-FIV"</code>) or on an approximation thereof 
(<code>method="D-FAV"</code>).
</p>



<h3>Value</h3>

<p>a list containing the following entries:
</p>

<dl>
<dt>&quot;pval&quot;</dt><dd><p>A two-sided P-value indicating statistical significance of the funnel plot asymettry test. 
Values below the significance level (usually defined as 10%) support the presence of funnel plot asymmetry,
and thus small-study effects.  </p>
</dd>
<dt>&quot;model&quot;</dt><dd><p>A fitted <code>glm</code> object, representing the estimated regression model used for testing funnel
plot asymmetry.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Debray TPA, Moons KGM, Riley RD. Detecting small-study effects and funnel plot asymmetry in meta-analysis of 
survival data: a comparison of new and existing tests. Res Syn Meth. 2018;9(1):41&ndash;50.<br />
<br />
Egger M, Davey Smith G, Schneider M, Minder C. Bias in meta-analysis detected by a simple, graphical test. 
<em>BMJ</em>. 1997;315(7109):629&ndash;34. <br />
<br />
Macaskill P, Walter SD, Irwig L. A comparison of methods to detect publication bias in meta-analysis. 
<em>Stat Med</em>. 2001;20(4):641&ndash;54.<br /> 
<br />
Peters JL, Sutton AJ, Jones DR, Abrams KR, Rushton L. Comparison of two methods to detect publication bias 
in meta-analysis. <em>JAMA</em>. 2006 Feb 8;295(6):676&ndash;80.<br />
<br /> 
Sterne JA, Gavaghan D, Egger M. Publication and related bias in meta-analysis: power of statistical tests 
and prevalence in the literature. <em>J Clin Epidemiol</em>. 2000;53(11):1119&ndash;29.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.fat">plot.fat</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Fibrinogen)
b &lt;- log(Fibrinogen$HR)
b.se &lt;- ((log(Fibrinogen$HR.975) - log(Fibrinogen$HR.025))/(2*qnorm(0.975)))
n.total &lt;- Fibrinogen$N.total
d.total &lt;- Fibrinogen$N.events

fat(b=b, b.se=b.se)
fat(b=b, b.se=b.se, d.total=d.total, method="D-FIV")

# Note that many tests are also available via metafor
require(metafor)
fat(b=b, b.se=b.se, n.total=n.total, method="M-FIV")
regtest(x=b, sei=b.se, ni=n.total, model="lm", predictor="ni") 

</code></pre>

<hr>
<h2 id='Fibrinogen'>
Meta-analysis of the association between plasma fibrinogen concentration and the risk of coronary heath disease
</h2><span id='topic+Fibrinogen'></span>

<h3>Description</h3>

<p>The <code>Fibrinogen</code> data set is a meta-analysis of 31 studies in which the association between plasma fibrinogen concentration and the risk of coronary heath disease (CHD) was estimated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Fibrinogen")</code></pre>


<h3>Format</h3>

<p>A data frame with 5 variables:
</p>

<dl>
<dt><code>N.total</code></dt><dd><p>a numeric vector describing the total number of patients for each study</p>
</dd>
<dt><code>N.events</code></dt><dd><p>a numeric vector describing the number of observed events within each study</p>
</dd>
<dt><code>HR</code></dt><dd><p>a numeric vector describing the estimated hazard ratio of each study</p>
</dd>
<dt><code>HR.025</code></dt><dd><p>a numeric vector describing the lower boundary of the 95% confidence interval of <code>HR</code></p>
</dd>
<dt><code>HR.975</code></dt><dd><p>a numeric vector describing the upper boundary of the 95% confidence interval of <code>HR</code></p>
</dd>
</dl>



<h3>Source</h3>

<p>Fibrinogen Studies Collaboration. Collaborative meta-analysis of prospective studies of plasma fibrinogen and cardiovascular disease. <em>Eur J Cardiovasc Prev Rehabil</em>. 2004 Feb;11(1):9-17. 
</p>
<p>Thompson S, Kaptoge S, White I, Wood A, Perry P, Danesh J, et al. Statistical methods for the time-to-event analysis of individual participant data from multiple epidemiological studies. <em>Int J Epidemiol</em>. 2010 Oct;39(5):1345-59. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Fibrinogen)
## maybe str(Fibrinogen) ; plot(Fibrinogen) ...
</code></pre>

<hr>
<h2 id='fitted.metapred'>Extract Model Fitted Values</h2><span id='topic+fitted.metapred'></span>

<h3>Description</h3>

<p>Extract the fitted values of a <code>metapred</code> object. By default returns fitted values of the model in the 
cross-validation procedure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metapred'
fitted(
  object,
  select = "cv",
  step = NULL,
  model = NULL,
  as.stratified = TRUE,
  type = "response",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitted.metapred_+3A_object">object</code></td>
<td>
<p>object of class metapred</p>
</td></tr>
<tr><td><code id="fitted.metapred_+3A_select">select</code></td>
<td>
<p>character. Select fitted values from &quot;cv&quot; (default) or from &quot;global&quot; model.</p>
</td></tr>
<tr><td><code id="fitted.metapred_+3A_step">step</code></td>
<td>
<p>character or numeric. Name or number of step to select if <code>select</code> = &quot;cv&quot;. Defaults to best step.</p>
</td></tr>
<tr><td><code id="fitted.metapred_+3A_model">model</code></td>
<td>
<p>character or numeric. Name or number of model to select if <code>select</code> = &quot;cv&quot;. Defaults to
best model.</p>
</td></tr>
<tr><td><code id="fitted.metapred_+3A_as.stratified">as.stratified</code></td>
<td>
<p>logical. <code>select</code> = &quot;cv&quot; determines whether returned predictions are stratified in a list 
(<code>TRUE</code>, default) or in their original order (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="fitted.metapred_+3A_type">type</code></td>
<td>
<p>character. Type of fitted value.</p>
</td></tr>
<tr><td><code id="fitted.metapred_+3A_...">...</code></td>
<td>
<p>For compatibility only.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function still under development, use with caution.
</p>
<p>Only returns type = &quot;response&quot;.
</p>


<h3>Author(s)</h3>

<p>Valentijn de Jong
</p>

<hr>
<h2 id='forest'>Forest plot</h2><span id='topic+forest'></span>

<h3>Description</h3>

<p>Generate a forest plot by specifying the various effect sizes, confidence intervals and summary estimate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forest(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forest_+3A_...">...</code></td>
<td>
<p>Additional arguments, which are currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a generic function. See <a href="#topic+forest.default">forest.default</a> for making forest plots of summary statistics,
<a href="#topic+forest.metapred">forest.metapred</a> for plotting <a href="#topic+metapred">metapred</a> objects, and <a href="#topic+forest.mp.cv.val">forest.mp.cv.val</a> for plotting 
<code>mp.cv.val</code> objects.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>
<p>Valentijn de Jong &lt;Valentijn.M.T.de.Jong@gmail.com&gt;
</p>

<hr>
<h2 id='forest.default'>Forest plot</h2><span id='topic+forest.default'></span>

<h3>Description</h3>

<p>Generate a forest plot by specifying the various effect sizes, confidence intervals and summary estimate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
forest(
  theta,
  theta.ci.lb,
  theta.ci.ub,
  theta.slab,
  theta.summary,
  theta.summary.ci.lb,
  theta.summary.ci.ub,
  theta.summary.pi.lb,
  theta.summary.pi.ub,
  title,
  sort = "asc",
  theme = theme_bw(),
  predint.linetype = 1,
  xlim,
  xlab = "",
  refline = 0,
  label.summary = "Summary Estimate",
  label.predint = "Prediction Interval",
  nrows.before.summary = 1,
  study.digits = 2,
  study.shape = 15,
  col.diamond = "white",
  col.predint = "black",
  size.study = 0.5,
  size.predint = 1,
  lty.ref = "dotted",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forest.default_+3A_theta">theta</code></td>
<td>
<p>Numeric vector with effect size for each study</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.ci.lb">theta.ci.lb</code></td>
<td>
<p>Numeric vector specifying the lower bound of the confidence interval of the effect sizes</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.ci.ub">theta.ci.ub</code></td>
<td>
<p>Numeric vector specifying the upper bound of the confidence interval of the effect sizes</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.slab">theta.slab</code></td>
<td>
<p>Character vector specifying the study labels</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.summary">theta.summary</code></td>
<td>
<p>Meta-analysis summary estimate of the effect sizes</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.summary.ci.lb">theta.summary.ci.lb</code></td>
<td>
<p>Lower bound of the confidence (or credibility) interval of the summary estimate</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.summary.ci.ub">theta.summary.ci.ub</code></td>
<td>
<p>Upper bound of the confidence (or credibility) interval of the summary estimate</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.summary.pi.lb">theta.summary.pi.lb</code></td>
<td>
<p>Lower bound of the (approximate) prediction interval of the summary estimate.</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theta.summary.pi.ub">theta.summary.pi.ub</code></td>
<td>
<p>Upper bound of the (approximate) prediction interval of the summary estimate.</p>
</td></tr>
<tr><td><code id="forest.default_+3A_title">title</code></td>
<td>
<p>Title of the forest plot</p>
</td></tr>
<tr><td><code id="forest.default_+3A_sort">sort</code></td>
<td>
<p>By default, studies are sorted by ascending effect size (<code>sort="asc"</code>). Set to <code>"desc"</code> for 
sorting in reverse order, or any other value to ignore sorting.</p>
</td></tr>
<tr><td><code id="forest.default_+3A_theme">theme</code></td>
<td>
<p>Theme to generate the forest plot. By default, the classic dark-on-light ggplot2 theme is used. 
See <a href="ggplot2.html#topic+ggtheme">ggtheme</a> for more information.</p>
</td></tr>
<tr><td><code id="forest.default_+3A_predint.linetype">predint.linetype</code></td>
<td>
<p>The linetype of the prediction interval</p>
</td></tr>
<tr><td><code id="forest.default_+3A_xlim">xlim</code></td>
<td>
<p>The <code>x</code> limits <code>(x1, x2)</code> of the forest plot</p>
</td></tr>
<tr><td><code id="forest.default_+3A_xlab">xlab</code></td>
<td>
<p>Optional character string specifying the X label</p>
</td></tr>
<tr><td><code id="forest.default_+3A_refline">refline</code></td>
<td>
<p>Optional numeric specifying a reference line</p>
</td></tr>
<tr><td><code id="forest.default_+3A_label.summary">label.summary</code></td>
<td>
<p>Optional character string specifying the label for the summary estimate</p>
</td></tr>
<tr><td><code id="forest.default_+3A_label.predint">label.predint</code></td>
<td>
<p>Optional character string specifying the label for the (approximate) prediction interval</p>
</td></tr>
<tr><td><code id="forest.default_+3A_nrows.before.summary">nrows.before.summary</code></td>
<td>
<p>How many empty rows should be introduced between the study results and the summary estimates</p>
</td></tr>
<tr><td><code id="forest.default_+3A_study.digits">study.digits</code></td>
<td>
<p>How many significant digits should be used to print the stuy results</p>
</td></tr>
<tr><td><code id="forest.default_+3A_study.shape">study.shape</code></td>
<td>
<p>Plotting symbol to use for the study results. By default, a filled square is used.</p>
</td></tr>
<tr><td><code id="forest.default_+3A_col.diamond">col.diamond</code></td>
<td>
<p>The filling color for the diamond representing the summary estimate. 
E.g. &quot;red&quot;, &quot;blue&quot;, or hex color code (&quot;#2e8aff&quot;)</p>
</td></tr>
<tr><td><code id="forest.default_+3A_col.predint">col.predint</code></td>
<td>
<p>Line color for the prediction interval. E.g. &quot;red&quot;, &quot;blue&quot;, or hex color code (&quot;#2e8aff&quot;)</p>
</td></tr>
<tr><td><code id="forest.default_+3A_size.study">size.study</code></td>
<td>
<p>Line width for the study results in mm</p>
</td></tr>
<tr><td><code id="forest.default_+3A_size.predint">size.predint</code></td>
<td>
<p>Line width for the prediction interval in mm</p>
</td></tr>
<tr><td><code id="forest.default_+3A_lty.ref">lty.ref</code></td>
<td>
<p>Line type for the reference line</p>
</td></tr>
<tr><td><code id="forest.default_+3A_...">...</code></td>
<td>
<p>Additional arguments, which are currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='forest.metapred'>Forest plot of a metapred fit</h2><span id='topic+forest.metapred'></span>

<h3>Description</h3>

<p>Draw a forest plot of the performance of an internally-externally cross-validated model. By default the final model is shown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metapred'
forest(object, perfFUN = 1, step = NULL, method = "REML", model = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forest.metapred_+3A_object">object</code></td>
<td>
<p>A <code>metapred</code> fit object.</p>
</td></tr>
<tr><td><code id="forest.metapred_+3A_perffun">perfFUN</code></td>
<td>
<p>Numeric or character. Which performance statistic should be plotted? Defaults to the first.</p>
</td></tr>
<tr><td><code id="forest.metapred_+3A_step">step</code></td>
<td>
<p>Which step should be plotted? Defaults to the best step. numeric is converted to name of the step: 0 for 
an unchanged model, 1 for the first change...</p>
</td></tr>
<tr><td><code id="forest.metapred_+3A_method">method</code></td>
<td>
<p>character string specifying whether a fixed- or a random-effects model should be used to summarize the
prediction model performance. A fixed-effects model is fitted when using method=&quot;FE&quot;. Random-effects models are fitted 
by setting method equal to one of the following: &quot;DL&quot;, &quot;HE&quot;, &quot;SJ&quot;, &quot;ML&quot;, &quot;REML&quot;, &quot;EB&quot;, &quot;HS&quot;, or &quot;GENQ&quot;. Default is &quot;REML&quot;.</p>
</td></tr>
<tr><td><code id="forest.metapred_+3A_model">model</code></td>
<td>
<p>Which model change should be plotted? NULL (default, best change) or character name of variable or (integer) 
index of model change.</p>
</td></tr>
<tr><td><code id="forest.metapred_+3A_...">...</code></td>
<td>
<p>Other arguments passed to plotting internals. E.g. <code>title</code>. See <a href="#topic+forest.default">forest.default</a> for details.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Valentijn de Jong &lt;Valentijn.M.T.de.Jong@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(DVTipd)

# Internal-external cross-validation of a pre-specified model 'f'
f &lt;- dvt ~ histdvt + ddimdich + sex + notraum
fit &lt;- metapred(DVTipd, strata = "study", formula = f, scope = f, family = binomial)

# Display the model's external performance (expressed as mean squared error by default) 
# for each study
forest(fit)

</code></pre>

<hr>
<h2 id='forest.mp.cv.val'>Forest plot of a validation object.</h2><span id='topic+forest.mp.cv.val'></span><span id='topic+forest.perf'></span>

<h3>Description</h3>

<p>Draw a forest plot of the performance of an internally-externally cross-validated model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp.cv.val'
forest(object, perfFUN = 1, method = "REML", xlab = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forest.mp.cv.val_+3A_object">object</code></td>
<td>
<p>An <code>mp.cv.val</code> or <code>perf</code> object.</p>
</td></tr>
<tr><td><code id="forest.mp.cv.val_+3A_perffun">perfFUN</code></td>
<td>
<p>Numeric or character. Which performance statistic should be plotted? Defaults to the first.</p>
</td></tr>
<tr><td><code id="forest.mp.cv.val_+3A_method">method</code></td>
<td>
<p>character string specifying whether a fixed- or a random-effects model should be used to summarize the
prediction model performance. A fixed-effects model is fitted when using method=&quot;FE&quot;. Random-effects models are fitted 
by setting method equal to one of the following: &quot;DL&quot;, &quot;HE&quot;, &quot;SJ&quot;, &quot;ML&quot;, &quot;REML&quot;, &quot;EB&quot;, &quot;HS&quot;, or &quot;GENQ&quot;. Default is &quot;REML&quot;.</p>
</td></tr>
<tr><td><code id="forest.mp.cv.val_+3A_xlab">xlab</code></td>
<td>
<p>Label on x-axis. Defaults to the name of the performance function.</p>
</td></tr>
<tr><td><code id="forest.mp.cv.val_+3A_...">...</code></td>
<td>
<p>Other arguments passed to plotting internals. E.g. <code>title</code>. See <a href="#topic+forest.default">forest.default</a> for details.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Valentijn de Jong &lt;Valentijn.M.T.de.Jong@gmail.com&gt;
</p>

<hr>
<h2 id='Framingham'>
Predictive performance of the Framingham Risk Score in male populations
</h2><span id='topic+Framingham'></span>

<h3>Description</h3>

<p>This data set contains estimates on the performance of the Framingham model for predicting coronary heart disease in male populations (Wilson 1998). Results are based on the original development study and 20 validations identified by Damen <em>et al</em> (BMC Med, 2017).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Framingham")</code></pre>


<h3>Format</h3>

<p>A data frame with 24 observations on the following 19 variables.
</p>

<dl>
<dt><code>AuthorYear</code></dt><dd><p>a vector describing the study authors</p>
</dd>
<dt><code>n</code></dt><dd><p>a numeric vector with the total number of patients on which performance estimates are based</p>
</dd>
<dt><code>n.events</code></dt><dd><p>a numeric vector with the total number of observed events</p>
</dd>
<dt><code>c.index</code></dt><dd><p>a numeric vector with the estimated concordance statistic of each validation</p>
</dd>
<dt><code>se.c.index</code></dt><dd><p>a numeric vector with the standard error of the concordance statistics</p>
</dd>
<dt><code>c.index.95CIl</code></dt><dd><p>a numeric vector with the lower bound of the 95% confidence interval of the estimated concordance statistics</p>
</dd>
<dt><code>c.index.95CIu</code></dt><dd><p>a numeric vector with the upper bound of the 95% confidence interval of the estimated concordance statistics</p>
</dd>
<dt><code>Po</code></dt><dd><p>a numeric vector with the overall observed event probability of each validation</p>
</dd>
<dt><code>Pe</code></dt><dd><p>a numeric vector with the overall expected event probability of each validation</p>
</dd>
<dt><code>t.val</code></dt><dd><p>a numeric vector describing the time period in which predictive performance was assessed for each validation</p>
</dd>
<dt><code>mean_age</code></dt><dd><p>a numeric vector describing the mean age of the patients</p>
</dd>
<dt><code>sd_age</code></dt><dd><p>a numeric vector with the spread of the age of the patients</p>
</dd>
<dt><code>mean_SBP</code></dt><dd><p>a numeric vector with the mean systolic blood pressure in the validation studies (mm Hg)</p>
</dd>
<dt><code>sd_SBP</code></dt><dd><p>a numeric vector with the spread of systolic blood pressure in the validation studies</p>
</dd>
<dt><code>mean_total_cholesterol</code></dt><dd><p>a numeric vector with the mean total cholesterol in the validation studies (mg/dL)</p>
</dd>
<dt><code>sd_total_cholesterol</code></dt><dd><p>a numeric vector with the spread of total cholesterol in the validation studies</p>
</dd>
<dt><code>mean_hdl_cholesterol</code></dt><dd><p>a numeric vector with the mean high-density lipoprotein cholesterol in the validation studies (mg/dL)</p>
</dd>
<dt><code>sd_hdl_cholesterol</code></dt><dd><p>a numeric vector with the spread of high-density lipoprotein cholesterol in the validation studies</p>
</dd>
<dt><code>pct_smoker</code></dt><dd><p>a numeric vector with the percentage smokers in the validation studies</p>
</dd>
</dl>



<h3>Details</h3>

<p>The Framingham Risk Score allows physicians to predict 10-year coronary heart disease (CHD) risk in patients without overt CHD. It was developed in 1998 from a middle-aged white population sample, and has subsequently been validated across different populations. The current dataset contains the original (internal validation) results, as well as 23 external validations which were identified through a systematic review. In this review, studies were eligible for inclusion if they described the validation of the original Framingham model and assessed its performance for fatal or nonfatal CHD in males from a general population setting.
</p>


<h3>Source</h3>

<p>Damen JAAG, Hooft L, Schuit E, Debray TPA, Collins GS, Tzoulaki I, et al. Prediction models for cardiovascular disease risk in the general population: systematic review. <em>BMJ</em>. 2016;i2416. 
</p>
<p>Damen JAAG, Pajouheshnia R, Heus P, Moons KGM, Reitsma JB, Scholten RJPM, et al. Performance of the Framingham risk models and Pooled Cohort Equations: a systematic review and meta-analysis. <em>BMC Med</em>. 2017;17(1):109. 
</p>
<p>Wilson PW, D'Agostino RB, Levy D, Belanger AM, Silbershatz H, Kannel WB. Prediction of coronary heart disease using risk factor categories. <em>Circulation</em>. 1998; <b>97</b>(18):1837&ndash;47. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Framingham)
</code></pre>

<hr>
<h2 id='gelmanplot'>Gelman-Rubin-Brooks plot</h2><span id='topic+gelmanplot'></span>

<h3>Description</h3>

<p>This plot shows the evolution of Gelman and Rubin's shrink factor as the number of iterations increases. The code is adapted from
the R package coda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gelmanplot(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gelmanplot_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='gelmanplot.mcmc.list'>Gelman-Rubin-Brooks plot</h2><span id='topic+gelmanplot.mcmc.list'></span>

<h3>Description</h3>

<p>This plot shows the evolution of Gelman and Rubin's shrink factor as the number of iterations increases. The code is adapted from
the R package coda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mcmc.list'
gelmanplot(
  x,
  P,
  confidence = 0.95,
  max.bins = 50,
  autoburnin = TRUE,
  greek = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gelmanplot.mcmc.list_+3A_x">x</code></td>
<td>
<p>An mcmc object</p>
</td></tr>
<tr><td><code id="gelmanplot.mcmc.list_+3A_p">P</code></td>
<td>
<p>Optional dataframe describing the parameters to plot and their respective names</p>
</td></tr>
<tr><td><code id="gelmanplot.mcmc.list_+3A_confidence">confidence</code></td>
<td>
<p>The coverage probability of the confidence interval for the potential scale reduction factor</p>
</td></tr>
<tr><td><code id="gelmanplot.mcmc.list_+3A_max.bins">max.bins</code></td>
<td>
<p>Maximum number of bins, excluding the last one.</p>
</td></tr>
<tr><td><code id="gelmanplot.mcmc.list_+3A_autoburnin">autoburnin</code></td>
<td>
<p>Logical flag indicating whether only the second half of the series should be used in the computation. 
If set to TRUE (default) and start(x) is less than end(x)/2 then start of series will be adjusted so that only second half of series is used.</p>
</td></tr>
<tr><td><code id="gelmanplot.mcmc.list_+3A_greek">greek</code></td>
<td>
<p>Logical value indicating whether parameter labels have to be parsed to get Greek letters. Defaults to false.</p>
</td></tr>
<tr><td><code id="gelmanplot.mcmc.list_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='gelmanplot.uvmeta'>Gelman-Rubin-Brooks plot</h2><span id='topic+gelmanplot.uvmeta'></span>

<h3>Description</h3>

<p>This plot shows the evolution of Gelman and Rubin's shrink factor as the number of iterations increases. The code is adapted from
the R package coda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'uvmeta'
gelmanplot(x, confidence = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gelmanplot.uvmeta_+3A_x">x</code></td>
<td>
<p>An mcmc object</p>
</td></tr>
<tr><td><code id="gelmanplot.uvmeta_+3A_confidence">confidence</code></td>
<td>
<p>The coverage probability of the confidence interval for the potential scale reduction factor</p>
</td></tr>
<tr><td><code id="gelmanplot.uvmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='gelmanplot.valmeta'>Gelman-Rubin-Brooks plot</h2><span id='topic+gelmanplot.valmeta'></span>

<h3>Description</h3>

<p>This plot shows the evolution of Gelman and Rubin's shrink factor as the number of iterations increases. The code is adapted from
the R package coda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'valmeta'
gelmanplot(x, confidence = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gelmanplot.valmeta_+3A_x">x</code></td>
<td>
<p>An mcmc object</p>
</td></tr>
<tr><td><code id="gelmanplot.valmeta_+3A_confidence">confidence</code></td>
<td>
<p>The coverage probability of the confidence interval for the potential scale reduction factor</p>
</td></tr>
<tr><td><code id="gelmanplot.valmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(EuroSCORE)

# Meta-analysis of the concordance statistic
fit &lt;- valmeta(cstat=c.index, cstat.se=se.c.index, cstat.cilb=c.index.95CIl,
               cstat.ciub=c.index.95CIu, N=n, O=n.events, 
               data=EuroSCORE, method="BAYES", slab=Study)
gelmanplot(fit)

## End(Not run) 

            
</code></pre>

<hr>
<h2 id='gen'>Generalizability estimates</h2><span id='topic+gen'></span><span id='topic+generalizability'></span>

<h3>Description</h3>

<p>Obtain generalizability estimates from a model fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen(object, ...)
generalizability(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_+3A_object">object</code></td>
<td>
<p>A model fit object, either a <a href="#topic+metapred">metapred</a> or <code>subset(metapred)</code> object.</p>
</td></tr>
<tr><td><code id="gen_+3A_...">...</code></td>
<td>
<p>By default, the final model is selected. This parameter allows other arguments to be passed 
to <a href="#topic+subset.metapred">subset.metapred</a> such that the generalizability estimates of other steps/models may be
returned..</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Valentijn de Jong
</p>

<hr>
<h2 id='impact'>IMPACT data</h2><span id='topic+impact'></span>

<h3>Description</h3>

<p>The IMPACT dataset comprises 15 studies of patients suffering from traumatic brain injury, including individual patient data from 11 randomized controlled trials and four observational studies. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("impact")</code></pre>


<h3>Format</h3>

<p>A data frame with 11022 observations on the following 11 variables.
</p>

<dl>
<dt><code>name</code></dt><dd><p>Name of the study</p>
</dd>
<dt><code>type</code></dt><dd><p>Type of study, RCT: randomized controlled trial,OBS: observational cohort</p>
</dd>
<dt><code>age</code></dt><dd><p>Age of the patient</p>
</dd>
<dt><code>motor_score</code></dt><dd><p>Glasgow Coma Scale motor score</p>
</dd>
<dt><code>pupil</code></dt><dd><p>Pupillary reactivity</p>
</dd>
<dt><code>ct</code></dt><dd><p>Marshall Computerized Tomography classification</p>
</dd>
<dt><code>hypox</code></dt><dd><p>Hypoxia (0=no, 1=yes)</p>
</dd>
<dt><code>hypots</code></dt><dd><p>Hypotension (0=no, 1=yes)</p>
</dd>
<dt><code>tsah</code></dt><dd><p>Traumatic subarachnoid hemorrhage (0=no, 1=yes)</p>
</dd>
<dt><code>edh</code></dt><dd><p>Epidural hematoma (0=no, 1=yes)</p>
</dd>
<dt><code>mort</code></dt><dd><p>6-month mortality (0=alive, 1=dead)</p>
</dd>
</dl>



<h3>Details</h3>

<p>The included studies were part of the IMPACT project, where a total of 25 prognostic factors were considered for prediction of 6-month mortality. Missing values were imputed using the study as a fixed effect in the imputation model (Steyerberg et al, 2008).
</p>


<h3>Source</h3>

<p>Steyerberg EW, Nieboer D, Debray TPA, Van Houwelingen JC. Assessment of heterogeneity in an individual participant data meta-analysis of prediction models: An overview and illustration. <em>Stat Med</em>. 2019;38(22):4290&ndash;309. 
</p>


<h3>References</h3>

<p>Murray GD, Butcher I, McHugh GS, et al. Multivariable prognostic analysis in traumatic brain injury: results from the IMPACT study. <em>J Neurotrauma</em>. 2007;24(2):329&ndash;337.
</p>
<p>Steyerberg EW, Mushkudiani N, Perel P, et al. Predicting outcome after traumatic brain injury: development and international validation of prognostic scores based on admission characteristics. <em>PLOS Med</em>. 2008;5(8):e165.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(impact)

by(impact, impact$name, summary)

# Plot the distribution of age by study
library(ggplot2)
e &lt;- ggplot(impact, aes(x = name, y = age))
e + geom_violin(aes(fill = type), trim = FALSE)  + 
    theme(axis.text.x = element_text(angle = 45)) + 
    xlab("Study")
</code></pre>

<hr>
<h2 id='impute_conditional_mean'>Impute missing values by their conditional mean</h2><span id='topic+impute_conditional_mean'></span>

<h3>Description</h3>

<p>This function imputes missing values by their conditional mean
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_conditional_mean(x, mu, Sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_conditional_mean_+3A_x">x</code></td>
<td>
<p>A vector with observations, some of which may be missing (indicated by NA)</p>
</td></tr>
<tr><td><code id="impute_conditional_mean_+3A_mu">mu</code></td>
<td>
<p>A vector with the population means for 'x'. No missing values are allowed here.</p>
</td></tr>
<tr><td><code id="impute_conditional_mean_+3A_sigma">Sigma</code></td>
<td>
<p>A matrix describing the population covariance of 'x'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector where missing values for 'x' have been replaced by their conditional mean
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Define the population means
mu &lt;- c(0, 1, 2)

# Define the covariance of the population
Sigma &lt;- diag(1,3)
Sigma[1,2] &lt;- Sigma[2,1] &lt;- 0.3 
Sigma[2,3] &lt;- Sigma[3,2] &lt;- 0.1
Sigma[1,3] &lt;- Sigma[3,1] &lt;- -0.2

# Generate a 'random' sample from the population that is partially observed
x &lt;- c(NA, 2, 4)

# Impute the missing values
impute_conditional_mean (x=x, mu=mu, Sigma=Sigma)

</code></pre>

<hr>
<h2 id='inv.logit'>
Apply the inverse logit tranformation
</h2><span id='topic+inv.logit'></span>

<h3>Description</h3>

<p>Transforms a linear predictor into a probability.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  inv.logit(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inv.logit_+3A_x">x</code></td>
<td>
<p>A vector of numerics (between -Inf and Inf)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of numerics between 0 and 1.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+logit">logit</a></code>
</p>

<hr>
<h2 id='Kertai'>Kertai data</h2><span id='topic+Kertai'></span>

<h3>Description</h3>

<p>Data frame with diagnostic accuracy data from exercise electrocardiography.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Kertai")</code></pre>


<h3>Format</h3>

<p>One data frame with 4 variables.
</p>

<dl>
<dt>TP</dt><dd><p>integer. number of true positives</p>
</dd>  
<dt>FN</dt><dd><p>integer. number of false negatives</p>
</dd>  
<dt>FP</dt><dd><p>integer. number of false positives</p>
</dd>  
<dt>TN</dt><dd><p>integer. number of true negatives</p>
</dd>  
</dl>



<h3>Details</h3>

<p>The <code>Kertai</code> data set is a meta-analysis of prognostic test studies and comprises 7 studies where the diagnostic test accuracy of exercise electrocardiography for predicting cardiac events in patients undergoing major vascular surgery was measured.</p>


<h3>Source</h3>

<p>Kertai MD, Boersma E, Bax JJ, Heijenbrok-Kal MH, Hunink MGM, L'talien GJ, Roelandt JRTC, van Urk H, Poldermans D. A meta-analysis comparing the prognostic accuracy of six diagnostic tests for predicting perioperative cardiac risk in patients undergoing major vascular surgery. <em>Heart</em> 2003; <b>89</b>: 1327&ndash;1334.
</p>
<p>Jackson D, Riley RD, &amp; White IW. Multivariate meta-analysis: Potential and promise. <em>Statistics in Medicine</em> 2010; <b>30</b>: 2481&ndash;2498.
</p>

<hr>
<h2 id='logit'> Apply logit tranformation </h2><span id='topic+logit'></span>

<h3>Description</h3>

<p>Transforms values between 0 and 1 to values between -Inf and Inf.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logit(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logit_+3A_x">x</code></td>
<td>

<p>A vector of numerics (between 0 and 1)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of numerics (between -Inf and Inf).
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+inv.logit">inv.logit</a></code>
</p>

<hr>
<h2 id='logLik.riley'>Print the log-likelihood</h2><span id='topic+logLik.riley'></span>

<h3>Description</h3>

<p>This function provides the (restricted) log-likelihood of a fitted model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'riley'
logLik(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logLik.riley_+3A_object">object</code></td>
<td>
<p>A <code>riley</code> object, representing a fitted alternative model for bivariate random-effects 
meta-analysis when the within-study correlations are unknown.</p>
</td></tr>
<tr><td><code id="logLik.riley_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed on to other functions, currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <code>logLik</code>. This is the (restricted) log-likelihood of the model represented 
by <code>object</code> evaluated at the estimated coefficients. It contains at least one attribute, 
&quot;<code>df</code>&quot; (degrees of freedom), giving the number of (estimated) parameters in the model.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Riley RD, Thompson JR, Abrams KR. An alternative model for bivariate random-effects meta-analysis when 
the within-study correlations are unknown. <em>Biostatistics</em> 2008; <b>9</b>: 172&ndash;186.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Daniels)
fit &lt;- riley(Daniels,control=list(maxit=10000))
logLik(fit)

</code></pre>

<hr>
<h2 id='ma'>Random effects meta-analysis</h2><span id='topic+ma'></span>

<h3>Description</h3>

<p>Meta-analysis of the performance or coefficients of a metapred object.
Caution: it is still under development.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ma(object, method, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ma_+3A_object">object</code></td>
<td>
<p>A model fit object, such as <a href="#topic+metapred">metapred</a> object.</p>
</td></tr>
<tr><td><code id="ma_+3A_method">method</code></td>
<td>
<p>Character, method for meta-analysis passed to <a href="#topic+valmeta">valmeta</a> and <a href="#topic+uvmeta">uvmeta</a>.
Defaults to &quot;REML&quot;.</p>
</td></tr>
<tr><td><code id="ma_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <a href="#topic+metapred">metapred</a>, <a href="#topic+valmeta">valmeta</a> and <a href="#topic+uvmeta">uvmeta</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Produces different object types depending on input.
</p>


<h3>Author(s)</h3>

<p>Valentijn de Jong
</p>

<hr>
<h2 id='metapred'>Generalized Stepwise Regression for Prediction Models in Clustered Data</h2><span id='topic+metapred'></span>

<h3>Description</h3>

<p>Generalized stepwise regression for obtaining a prediction model that is validated 
with (stepwise) internal-external cross-validation, in or to obtain adequate 
performance across data sets. Requires data from individuals in multiple studies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metapred(
  data,
  strata,
  formula,
  estFUN = "glm",
  scope = NULL,
  retest = FALSE,
  max.steps = 1000,
  center = FALSE,
  recal.int = FALSE,
  cvFUN = NULL,
  cv.k = NULL,
  metaFUN = NULL,
  meta.method = NULL,
  predFUN = NULL,
  perfFUN = NULL,
  genFUN = NULL,
  selFUN = "which.min",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metapred_+3A_data">data</code></td>
<td>
<p>data.frame containing the data. Note that <code>metapred</code> removes observations with missing data <em>listwise</em>
for all variables in <code>formula</code> and <code>scope</code>, to ensure that the same data is used in each model in each step. The
outcome variable should be <code>numeric</code> or coercible to numeric by as.numeric().</p>
</td></tr>
<tr><td><code id="metapred_+3A_strata">strata</code></td>
<td>
<p>Character to specify the name of the strata (e.g. studies or clusters) variable</p>
</td></tr>
<tr><td><code id="metapred_+3A_formula">formula</code></td>
<td>
<p><code>formula</code> of the first model to be evaluated. <code>metapred</code> will start at <code>formula</code> and update it
using terms of <code>scope</code>. Defaults to full main effects model, where the first column in <code>data</code> is assumed to be
the outcome and all remaining columns (except <code>strata</code>) predictors. See <a href="stats.html#topic+formula">formula</a> for formulas in general.</p>
</td></tr>
<tr><td><code id="metapred_+3A_estfun">estFUN</code></td>
<td>
<p>Function for estimating the model in the first stage. Currently &quot;lm&quot;, &quot;glm&quot; and &quot;logistfirth&quot; are supported.</p>
</td></tr>
<tr><td><code id="metapred_+3A_scope">scope</code></td>
<td>
<p><code>formula</code>. The difference between <code>formula</code> and <code>scope</code> defines the range of models examined in the 
stepwise search. Defaults to NULL, which leads to the intercept-only model. If <code>scope</code> is not nested in <code>formula</code>, 
this implies backwards selection will be applied (default). If <code>scope</code> is nested in <code>formula</code>, this implies forward 
selection will be applied. If equal, no stepwise selection is applied.</p>
</td></tr>
<tr><td><code id="metapred_+3A_retest">retest</code></td>
<td>
<p>Logical. Should added (removed) terms be retested for removal (addition)? <code>TRUE</code> implies bi-directional 
stepwise search.</p>
</td></tr>
<tr><td><code id="metapred_+3A_max.steps">max.steps</code></td>
<td>
<p>Integer. Maximum number of steps (additions or removals of terms) to take. Defaults to 1000, which is
essentially as many as it takes. 0 implies no stepwise selection.</p>
</td></tr>
<tr><td><code id="metapred_+3A_center">center</code></td>
<td>
<p>logical. Should numeric predictors be centered around the cluster mean?</p>
</td></tr>
<tr><td><code id="metapred_+3A_recal.int">recal.int</code></td>
<td>
<p>Logical. Should the intercept be recalibrated in each validation?</p>
</td></tr>
<tr><td><code id="metapred_+3A_cvfun">cvFUN</code></td>
<td>
<p>Cross-validation method, on the study (i.e. cluster or stratum) level. &quot;l1o&quot; for leave-one-out cross-validation 
(default). &quot;bootstrap&quot; for bootstrap. Or &quot;fixed&quot;, for one or more data sets which are only used for validation. A user written 
function may be supplied as well.</p>
</td></tr>
<tr><td><code id="metapred_+3A_cv.k">cv.k</code></td>
<td>
<p>Parameter for cvFUN. For <code>cvFUN="bootstrap"</code>, this is the number of bootstraps. For <code>cvFUN="fixed"</code>, 
this is a vector of the indices of the (sorted) data sets. Not used for <code>cvFUN="l1o"</code>.</p>
</td></tr>
<tr><td><code id="metapred_+3A_metafun">metaFUN</code></td>
<td>
<p>Function for computing the meta-analytic coefficient estimates in two-stage MA. 
By default, <a href="metafor.html#topic+rma.uni">rma.uni</a>, from the metafor package is used. Default settings are univariate random effects, 
estimated with &quot;DL&quot;. Method can be passed trough the <code>meta.method</code> argument.</p>
</td></tr>
<tr><td><code id="metapred_+3A_meta.method">meta.method</code></td>
<td>
<p>Name of method for meta-analysis. Default is &quot;DL&quot;. For more options see <a href="metafor.html#topic+rma.uni">rma.uni</a>.</p>
</td></tr>
<tr><td><code id="metapred_+3A_predfun">predFUN</code></td>
<td>
<p>Function for predicting new values. Defaults to the predicted probability of the outcome, using the link 
function of <code>glm()</code> or <code>lm()</code>.</p>
</td></tr>
<tr><td><code id="metapred_+3A_perffun">perfFUN</code></td>
<td>
<p>Function for computing the performance of the prediction models. Default: mean squared error 
(<code>perfFUN="mse"</code>).Other options are <code>"var.e"</code> (variance of prediction error), <code>"auc"</code> (area under the curve),
<code>"cal.int"</code> (calibration intercept), and <code>"cal.slope"</code> (multiplicative calibration slope) and <code>"cal.add.slope"</code>
(additive calibration slope).</p>
</td></tr>
<tr><td><code id="metapred_+3A_genfun">genFUN</code></td>
<td>
<p>Function or <code>list</code> of named functions for computing generalizability of the performance. 
Default: (absolute) mean (<code>genFUN="abs.mean"</code>). Choose <code>coef.var</code> for the coefficient of variation. If a <code>list</code>,
only the first is used for model selection.</p>
</td></tr>
<tr><td><code id="metapred_+3A_selfun">selFUN</code></td>
<td>
<p>Function for selecting the best method. Default: lowest value for <code>genFUN</code>. Should be set to
&quot;which.max&quot; if high values for <code>genFUN</code> indicate a good model.</p>
</td></tr>
<tr><td><code id="metapred_+3A_...">...</code></td>
<td>
<p>To pass arguments to estFUN (e.g. family = &quot;binomial&quot;), or to other FUNctions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <a href="#topic+subset.metapred">subset.metapred</a> to obtain an individual prediction model from a <code>metapred</code> object.
</p>
<p>Note that <code>formula.changes</code> is currently unordered; it does not represent the order of changes in the stepwise 
procedure.
</p>
<p><code>metapred</code> is still under development, use with care.
</p>


<h3>Value</h3>

<p>A list of class <code>metapred</code>, containing the final model in <code>global.model</code>, and the stepwise
tree of estimates of the coefficients, performance measures, generalizability measures in <code>stepwise</code>.
</p>


<h3>Author(s)</h3>

<p>Valentijn de Jong &lt;Valentijn.M.T.de.Jong@gmail.com&gt;
</p>


<h3>References</h3>

<p>Debray TPA, Moons KGM, Ahmed I, Koffijberg H, Riley RD. A framework for developing, implementing, 
and evaluating clinical prediction models in an individual participant data meta-analysis. 
<em>Stat Med</em>. 2013;32(18):3158-80.
</p>
<p>de Jong VMT, Moons KGM, Eijkemans MJC, Riley RD, Debray TPA. Developing more generalizable prediction models from pooled 
studies and large clustered data sets. <em>Stat Med</em>. 2021;40(15):3533&ndash;59.
</p>
<p>Riley RD, Tierney JF, Stewart LA. Individual participant data meta-analysis: a handbook for healthcare research. 
Hoboken, NJ: Wiley; 2021. ISBN: 978-1-119-33372-2.
</p>
<p>Schmid CH, Stijnen T, White IR. Handbook of meta-analysis. First edition. Boca Raton: Taylor and Francis; 2020. ISBN: 978-1-315-11940-3.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+forest.metapred">forest.metapred</a></code>  for generating a forest plot of prediction model performance
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(DVTipd)

## Not run: 
# Explore heterogeneity in intercept and assocation of 'ddimdich'
glmer(dvt ~ 0 + cluster + (ddimdich|study), family = binomial(), data = DVTipd)

## End(Not run)

# Scope
f &lt;- dvt ~ histdvt + ddimdich + sex + notraum

# Internal-external cross-validation of a pre-specified model 'f'
fit &lt;- metapred(DVTipd, strata = "study", formula = f, scope = f, family = binomial)
fit

# Let's try to simplify model 'f' in order to improve its external validity
metapred(DVTipd, strata = "study", formula = f, family = binomial)

# We can also try to build a generalizable model from scratch

## Not run: 
# Some additional examples:
metapred(DVTipd, strata = "study", formula = dvt ~ 1, scope = f, family = binomial) # Forwards
metapred(DVTipd, strata = "study", formula = f, scope = f, family = binomial) # no selection
metapred(DVTipd, strata = "study", formula = f, max.steps = 0, family = binomial) # no selection
metapred(DVTipd, strata = "study", formula = f, recal.int = TRUE, family = binomial)
metapred(DVTipd, strata = "study", formula = f, meta.method = "REML", family = binomial)

## End(Not run)
# By default, metapred assumes the first column is the outcome.
newdat &lt;- data.frame(dvt=0, histdvt=0, ddimdich=0, sex=1, notraum=0)
fitted &lt;- predict(fit, newdata = newdat)

</code></pre>

<hr>
<h2 id='oecalc'>Calculate the total O:E ratio</h2><span id='topic+oecalc'></span>

<h3>Description</h3>

<p>This function calculates (transformed versions of) the ratio of total number of observed versus expected events with the 
corresponding sampling variance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oecalc(
  OE,
  OE.se,
  OE.cilb,
  OE.ciub,
  OE.cilv,
  EO,
  EO.se,
  citl,
  citl.se,
  N,
  O,
  E,
  Po,
  Po.se,
  Pe,
  data,
  slab,
  add = 1/2,
  g = NULL,
  level = 0.95,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oecalc_+3A_oe">OE</code></td>
<td>
<p>vector with the estimated ratio of total observed versus total expected events</p>
</td></tr>
<tr><td><code id="oecalc_+3A_oe.se">OE.se</code></td>
<td>
<p>Optional vector with the standard errors of the estimated O:E ratios.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_oe.cilb">OE.cilb</code></td>
<td>
<p>Optional vector to specify the lower limits of the confidence interval for <code>OE</code>.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_oe.ciub">OE.ciub</code></td>
<td>
<p>Optional vector to specify the upper limits of the confidence interval for <code>OE</code>.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_oe.cilv">OE.cilv</code></td>
<td>
<p>Optional vector to specify the levels of aformentioned confidence interval limits. 
(default: 0.95, which corresponds to the 95% confidence interval).</p>
</td></tr>
<tr><td><code id="oecalc_+3A_eo">EO</code></td>
<td>
<p>Optional vector with the estimated ratio of total expected versus total observed events</p>
</td></tr>
<tr><td><code id="oecalc_+3A_eo.se">EO.se</code></td>
<td>
<p>Optional vector with the standard errors of the estimated E:O ratios</p>
</td></tr>
<tr><td><code id="oecalc_+3A_citl">citl</code></td>
<td>
<p>Optional vector with the estimated calibration-in-the-large statistics</p>
</td></tr>
<tr><td><code id="oecalc_+3A_citl.se">citl.se</code></td>
<td>
<p>Optional vector with the standard error of the calibration-in-the-large statistics</p>
</td></tr>
<tr><td><code id="oecalc_+3A_n">N</code></td>
<td>
<p>Optional vector to specify the sample/group sizes.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_o">O</code></td>
<td>
<p>Optional vector to specify the total number of observed events.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_e">E</code></td>
<td>
<p>Optional vector to specify the total number of expected events</p>
</td></tr>
<tr><td><code id="oecalc_+3A_po">Po</code></td>
<td>
<p>Optional vector to specify the (cumulative) observed event probabilities.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_po.se">Po.se</code></td>
<td>
<p>Optional vector with the standard errors of <code>Po</code>. For time-to-event data, 
these could also be the SE of the observed survival probabilities (e.g. as obtained from Kaplan-Meier analysis)</p>
</td></tr>
<tr><td><code id="oecalc_+3A_pe">Pe</code></td>
<td>
<p>Optional vector to specify the (cumulative) expected event probabilites
(if specified, during time <code>t.val</code>)</p>
</td></tr>
<tr><td><code id="oecalc_+3A_data">data</code></td>
<td>
<p>Optional data frame containing the variables given to the arguments above.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_slab">slab</code></td>
<td>
<p>Optional vector with labels for the studies.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_add">add</code></td>
<td>
<p>a non-negative number indicating the amount to add to zero counts. See &lsquo;Details&rsquo;</p>
</td></tr>
<tr><td><code id="oecalc_+3A_g">g</code></td>
<td>
<p>a quoted string that is the function to transform estimates of the total O:E ratio; see the details below.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_level">level</code></td>
<td>
<p>level for confidence interval, default <code>0.95</code>.</p>
</td></tr>
<tr><td><code id="oecalc_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class c(&quot;mm_perf&quot;,&quot;data.frame&quot;) with the following columns:
</p>

<dl>
<dt>&quot;theta&quot;</dt><dd><p>The (transformed) O:E ratio. </p>
</dd>
<dt>&quot;theta.se&quot;</dt><dd><p>Standard errors of the (transformed) O:E ratio.</p>
</dd>
<dt>&quot;theta.cilb&quot;</dt><dd><p>Lower confidence interval of the (transformed) O:E ratios. The level is specified in
<code>level</code>. Intervals are calculated on the same scale as <code>theta</code> by assuming a Normal distribution.</p>
</dd>
<dt>&quot;theta.ciub&quot;</dt><dd><p>Upper confidence interval of the (transformed) c-statistics. The level is specified in
<code>level</code>. Intervals are calculated on the same scale as <code>theta</code> by assuming a Normal distribution.</p>
</dd>
<dt>&quot;theta.source&quot;</dt><dd><p>Method used for calculating the (transformed) O:E ratio.</p>
</dd>
<dt>&quot;theta.se.source&quot;</dt><dd><p>Method used for calculating the standard error of the (transformed) O:E ratio.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Debray TPA, Damen JAAG, Snell KIE, Ensor J, Hooft L, Reitsma JB, et al. A guide to systematic review and meta-analysis of prediction model performance. <em>BMJ</em>. 2017;356:i6460. 
</p>
<p>Debray TPA, Damen JAAG, Riley R, Snell KIE, Reitsma JB, Hooft L, et al. A framework for meta-analysis of prediction model studies with binary and time-to-event outcomes. <em>Stat Methods Med Res</em>. 2019 Sep;28(9):2768&ndash;86.
</p>
<p>Snell KI, Ensor J, Debray TP, Moons KG, Riley RD. Meta-analysis of prediction model performance across 
multiple studies: Which scale helps ensure between-study normality for the C -statistic and calibration measures? 
<em>Stat Methods Med Res</em>. 2017.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>######### Validation of prediction models with a binary outcome #########
data(EuroSCORE)

# Calculate the total O:E ratio and its standard error
est1 &lt;- oecalc(O = n.events, E = e.events, N = n, data = EuroSCORE, slab = Study)
est1

# Calculate the log of the total O:E ratio and its standard error
est2 &lt;- oecalc(O = n.events, E = e.events, N = n, data = EuroSCORE, slab = Study, g = "log(OE)")
est2

# Display the results of all studies in a forest plot
plot(est1)

</code></pre>

<hr>
<h2 id='perf'>Performance estimates</h2><span id='topic+perf'></span><span id='topic+performance'></span>

<h3>Description</h3>

<p>Obtain performance estimates from a model fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perf(object, ...)
performance(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="perf_+3A_object">object</code></td>
<td>
<p>A model fit object, either a <a href="#topic+metapred">metapred</a> or <code>subset(metapred)</code> object.</p>
</td></tr>
<tr><td><code id="perf_+3A_...">...</code></td>
<td>
<p>By default, the final model is selected. This parameter allows other arguments to be
passed to <a href="#topic+subset.metapred">subset.metapred</a> such that the performance estimates of other steps/models may be
returned..</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Valentijn de Jong
</p>

<hr>
<h2 id='plot.fat'>Display results from the funnel plot asymmetry test</h2><span id='topic+plot.fat'></span>

<h3>Description</h3>

<p>Generates a funnel plot for a fitted <code>fat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fat'
plot(
  x,
  ref,
  confint = TRUE,
  confint.level = 0.1,
  confint.col = "skyblue",
  confint.alpha = 0.5,
  confint.density = NULL,
  xlab = "Effect size",
  add.pval = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.fat_+3A_x">x</code></td>
<td>
<p>An object of class <code>fat</code></p>
</td></tr>
<tr><td><code id="plot.fat_+3A_ref">ref</code></td>
<td>
<p>A numeric value indicating the fixed or random effects summary estimate. If no value is provided
then it will be retrieved from a fixed effects meta-analysis (if possible).</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_confint">confint</code></td>
<td>
<p>A logical indicator. If <code>TRUE</code>, a confidence interval will be displayed for the estimated
regression model (based on a Student-T distribution)</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_confint.level">confint.level</code></td>
<td>
<p>Significance level for constructing the confidence interval.</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_confint.col">confint.col</code></td>
<td>
<p>The color for filling the confidence interval. Choose <code>NA</code> to leave polygons unfilled. 
If <code>confint.density</code> is specified with a positive value this gives the color of the shading lines.</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_confint.alpha">confint.alpha</code></td>
<td>
<p>A numeric value between 0 and 1 indicating the opacity for the confidence region.</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_confint.density">confint.density</code></td>
<td>
<p>The density of shading lines, in lines per inch. The default value of <code>NULL</code> means 
that no shading lines are drawn. A zero value of density means no shading nor filling whereas negative values 
and <code>NA</code> suppress shading (and so allow color filling).</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_xlab">xlab</code></td>
<td>
<p>A title for the x axis</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_add.pval">add.pval</code></td>
<td>
<p>Logical to indicate whether a P-value should be added to the plot</p>
</td></tr>
<tr><td><code id="plot.fat_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>
<p>Frantisek Bartos &lt;f.bartos96@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Fibrinogen)
b &lt;- log(Fibrinogen$HR)
b.se &lt;- ((log(Fibrinogen$HR.975) - log(Fibrinogen$HR.025))/(2*qnorm(0.975)))
n.total &lt;- Fibrinogen$N.total

# A very simple funnel plot
plot(fat(b=b, b.se=b.se), xlab = "Log hazard ratio")

# Plot the funnel for an alternative test
plot(fat(b=b, b.se=b.se, n.total=n.total, method="M-FIV"), xlab = "Log hazard ratio")


</code></pre>

<hr>
<h2 id='plot.mm_perf'>Forest Plots</h2><span id='topic+plot.mm_perf'></span>

<h3>Description</h3>

<p>Function to create forest plots for objects of class <code>"mm_perf"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mm_perf'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.mm_perf_+3A_x">x</code></td>
<td>
<p>An object of class <code>"mm_perf"</code></p>
</td></tr>
<tr><td><code id="plot.mm_perf_+3A_...">...</code></td>
<td>
<p>Additional arguments which are passed to <a href="#topic+forest">forest</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The forest plot shows the performance estimates of each study with corresponding confidence 
intervals.
</p>


<h3>Value</h3>

<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Lewis S, Clarke M. Forest plots: trying to see the wood and the trees. <em>BMJ</em>. 2001; 322(7300):1479&ndash;80.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(EuroSCORE)

# Calculate the c-statistic and its standard error
est1 &lt;- ccalc(cstat = c.index, cstat.se = se.c.index, cstat.cilb = c.index.95CIl, 
              cstat.ciub = c.index.95CIu, N = n, O = n.events, data = EuroSCORE, slab = Study)
plot(est1)

# Calculate the total O:E ratio and its standard error
est2 &lt;- oecalc(O = n.events, E = e.events, N = n, data = EuroSCORE, slab = Study)
plot(est2)

</code></pre>

<hr>
<h2 id='plot.riley'>Plot the summary of the bivariate model from Riley et al. (2008).</h2><span id='topic+plot.riley'></span>

<h3>Description</h3>

<p>Generates a forest plot for each outcome of the bivariate meta-analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'riley'
plot(x, title, sort = "asc", xlim, refline, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.riley_+3A_x">x</code></td>
<td>
<p>An object of class <code>riley</code></p>
</td></tr>
<tr><td><code id="plot.riley_+3A_title">title</code></td>
<td>
<p>Title of the forest plot</p>
</td></tr>
<tr><td><code id="plot.riley_+3A_sort">sort</code></td>
<td>
<p>By default, studies are ordered by ascending effect size (<code>sort="asc"</code>). For study ordering by descending
effect size, choose <code>sort="desc"</code>. For any other value, study ordering is ignored.</p>
</td></tr>
<tr><td><code id="plot.riley_+3A_xlim">xlim</code></td>
<td>
<p>The <code>x</code> limits <code>(x1, x2)</code> of the forest plot</p>
</td></tr>
<tr><td><code id="plot.riley_+3A_refline">refline</code></td>
<td>
<p>Optional numeric specifying a reference line</p>
</td></tr>
<tr><td><code id="plot.riley_+3A_...">...</code></td>
<td>
<p>Additional parameters for generating forest plots</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Riley RD, Thompson JR, Abrams KR. An alternative model for bivariate random-effects meta-analysis 
when the within-study correlations are unknown. <em>Biostatistics</em> 2008; <b>9</b>: 172&ndash;186.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Scheidler)

#Perform the analysis
fit &lt;- riley(Scheidler[which(Scheidler$modality==1),])
plot(fit)

require(ggplot2)
plot(fit, sort="none", theme=theme_gray())

</code></pre>

<hr>
<h2 id='plot.uvmeta'>Forest Plots</h2><span id='topic+plot.uvmeta'></span>

<h3>Description</h3>

<p>Function to create forest plots for objects of class <code>"uvmeta"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'uvmeta'
plot(x, sort = "asc", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.uvmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"uvmeta"</code></p>
</td></tr>
<tr><td><code id="plot.uvmeta_+3A_sort">sort</code></td>
<td>
<p>By default, studies are ordered by ascending effect size (<code>sort="asc"</code>). For study ordering by descending
effect size, choose <code>sort="desc"</code>. For any other value, study ordering is ignored.</p>
</td></tr>
<tr><td><code id="plot.uvmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are passed to <a href="#topic+forest">forest</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The forest plot shows the performance estimates of each validation with corresponding confidence 
intervals. A polygon is added to the bottom of the forest plot, showing the summary estimate based on the model. 
A 95% prediction interval is added by default for random-effects models,  the dotted line indicates its (approximate) bounds
</p>


<h3>Note</h3>

<p>Full lines indicate confidence intervals or credibility intervals (in case of a Bayesian meta-analysis). Dashed
lines indicate prediction intervals. The width of all intervals is defined by the significance level chosen during 
meta-analysis.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>


<ul>
<li><p> Lewis S, Clarke M. Forest plots: trying to see the wood and the trees. <em>BMJ</em>. 2001; 322(7300):1479&ndash;80.
</p>
</li>
<li><p> Riley RD, Higgins JPT, Deeks JJ. Interpretation of random effects meta-analyses. <em>BMJ</em>. 2011 342:d549&ndash;d549.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>data(Roberts)

# Frequentist random-effects meta-analysis
fit &lt;- with(Roberts, uvmeta(r=SDM, r.se=SE, labels=rownames(Roberts)))
plot(fit) 

</code></pre>

<hr>
<h2 id='plot.valmeta'>Forest Plots</h2><span id='topic+plot.valmeta'></span>

<h3>Description</h3>

<p>Function to create forest plots for objects of class <code>"valmeta"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'valmeta'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.valmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"valmeta"</code></p>
</td></tr>
<tr><td><code id="plot.valmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are passed to <a href="#topic+forest">forest</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The forest plot shows the performance estimates of each validation with corresponding confidence 
intervals. A polygon is added to the bottom of the forest plot, showing the summary estimate based on the model. 
A 95% prediction interval is added by default for random-effects models,  the dotted line indicates its (approximate) bounds.
</p>


<h3>Value</h3>

<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Debray TPA, Damen JAAG, Snell KIE, Ensor J, Hooft L, Reitsma JB, et al. A guide to systematic review 
and meta-analysis of prediction model performance. <em>BMJ</em>. 2017;356:i6460.
</p>
<p>Lewis S, Clarke M. Forest plots: trying to see the wood and the trees. <em>BMJ</em>. 2001; 322(7300):1479&ndash;80.
</p>
<p>Riley RD, Higgins JPT, Deeks JJ. Interpretation of random effects meta-analyses. <em>BMJ</em>. 2011 342:d549&ndash;d549.
</p>


<h3>See Also</h3>

<p>When a Bayesian meta-analysis was conducted, the prior and posterior distribution can be visualized using <code><a href="#topic+dplot.valmeta">dplot.valmeta</a></code>. 
Further, the running means and the presence of autocorrelation can be inspected using <code><a href="#topic+rmplot.valmeta">rmplot.valmeta</a></code> and, respectively, 
<code><a href="#topic+acplot.valmeta">acplot.valmeta</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(EuroSCORE)
fit &lt;- valmeta(cstat=c.index, cstat.se=se.c.index, cstat.cilb=c.index.95CIl,
               cstat.ciub=c.index.95CIu, N=n, O=n.events, data=EuroSCORE)
plot(fit)

library(ggplot2)
plot(fit, theme=theme_grey())

</code></pre>

<hr>
<h2 id='predict.riley'>Prediction Interval</h2><span id='topic+predict.riley'></span>

<h3>Description</h3>

<p>Calculates a prediction interval for the summary parameters of Riley's alternative model for bivariate random-effects 
meta-analysis. This interval predicts in what range future observations will fall given what has already been observed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'riley'
predict(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.riley_+3A_object">object</code></td>
<td>
<p>A <code>riley</code> object.</p>
</td></tr>
<tr><td><code id="predict.riley_+3A_...">...</code></td>
<td>
<p>Additional arguments (currently ignored)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Prediction intervals are based on Student's t-distribution with (numstudies - 5) degrees of freedom. The width of 
the interval is specified by the significance level chosen during meta-analysis.
</p>


<h3>Value</h3>

<p>Data frame containing prediction intervals with the summary estimates <code>beta1</code> and <code>beta2</code> 
(for effect size data), or with the mean sensitivity and false positive rate (for diagnostic test accuracy data).
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='recalibrate'>Recalibrate a Prediction Model</h2><span id='topic+recalibrate'></span>

<h3>Description</h3>

<p><code>recalibrate</code> is used to recalibrate a prediction model of classes <code>metapred, glm</code> or  <code>lm</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recalibrate(object, newdata, f = ~1, estFUN = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recalibrate_+3A_object">object</code></td>
<td>
<p>A model fit object to be recalibrated, of class <code>metapred, glm</code> or <code>lm</code>, and more.</p>
</td></tr>
<tr><td><code id="recalibrate_+3A_newdata">newdata</code></td>
<td>
<p>data.frame containing new data set for updating.</p>
</td></tr>
<tr><td><code id="recalibrate_+3A_f">f</code></td>
<td>
<p>formula. Which coefficients of the model should be updated? Default: intercept only. Left-hand side may
be left out. See <a href="stats.html#topic+formula">formula</a> for details.</p>
</td></tr>
<tr><td><code id="recalibrate_+3A_estfun">estFUN</code></td>
<td>
<p>Function for model estimation. If left <code>NULL</code>, the function is automatically retrieved
for <code>metapred</code> objects. For other objects, the function with name corresponding to the first class
of the object is taken. E.g. <code>glm()</code> for <code>glm</code> objects.</p>
</td></tr>
<tr><td><code id="recalibrate_+3A_...">...</code></td>
<td>
<p>Optional arguments to pass to <code>estFUN</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently only the coefficients are updated and the variances and other aspects are left untouched. 
For updating the entire model and all its statistics, see <a href="stats.html#topic+update">update</a>.
</p>


<h3>Value</h3>

<p>Recalibrated model fit object, of the same class as <code>object</code>. Generally, updated coefficients can
be retrieved with <code>coef()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(DVTipd)
DVTipd$cluster &lt;- 1:4 # Add a fictional clustering to the data set.
# Suppose we estimated the model in three studies: 
DVTipd123 &lt;- DVTipd[DVTipd$cluster &lt;= 3, ]
mp &lt;- metamisc:::metapred(DVTipd123, strata = "cluster", f = dvt ~ vein + malign, 
family = binomial)
# and now want to recalibrate it for the fourth:
DVTipd4 &lt;- DVTipd[DVTipd$cluster == 4, ]
metamisc:::recalibrate(mp, newdata = DVTipd4)

</code></pre>

<hr>
<h2 id='riley'>Fit the alternative model for bivariate random-effects meta-analysis</h2><span id='topic+riley'></span>

<h3>Description</h3>

<p>This function fits the alternative model for bivariate random-effects meta-analysis when the within-study correlations 
are unknown. This bivariate model was proposed by Riley et al. (2008) and is similar to the general bivariate 
random-effects model (van Houwelingen et al. 2002), but includes an overall correlation parameter rather than 
separating the (usually unknown) within- and between-study correlation. As a consequence, the alternative model 
is not fully hierarchical, and estimates of additional variation beyond sampling error (<code>psi</code>) are not 
directly equivalent to the between-study variation (<code>tau</code>) from the general model. This model is particularly 
useful when there is large within-study variability, few primary studies are available or the general model 
estimates the between-study correlation as 1 or -1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>riley(X, slab, optimization = "Nelder-Mead", control = list(), pars, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="riley_+3A_x">X</code></td>
<td>
<p>data frame containing integer variables <code>Y1</code>, <code>vars1</code>, <code>Y2</code> and <code>vars2</code>,
where the columns <code>Y1</code> and <code>Y2</code> represent the effect sizes of outcome 1 and, respectively, outcome 2. The columns 
<code>vars1</code> and <code>vars2</code> represent the error variances of <code>Y1</code> and, respectively, <code>Y2</code>. Alternatively, 
when considering a meta-analysis of diagnostic test accuracy data, the columns <code>TP</code>, <code>FN</code>, <code>FP</code> and 
<code>TN</code> may be specified. Corresponding values then represent the number of true positives, the number of false negatives,
the number of false positives and, respectively, the number of true negatives.</p>
</td></tr>
<tr><td><code id="riley_+3A_slab">slab</code></td>
<td>
<p>Optional vector specifying the label for each study</p>
</td></tr>
<tr><td><code id="riley_+3A_optimization">optimization</code></td>
<td>
<p>The optimization method that should be used for minimizing the negative (restricted) 
log-likelihood function. The default method is an implementation of that of Nelder and Mead (1965), 
that uses only function values and is robust but relatively slow. Other methods are described in <a href="stats.html#topic+optim">optim</a>.</p>
</td></tr>
<tr><td><code id="riley_+3A_control">control</code></td>
<td>
<p>A list of control parameters to pass to <a href="stats.html#topic+optim">optim</a>.</p>
</td></tr>
<tr><td><code id="riley_+3A_pars">pars</code></td>
<td>
<p>List with additional arguments. The width of confidence, credibility and prediction intervals is 
defined by <code>level</code> (defaults to 0.95).</p>
</td></tr>
<tr><td><code id="riley_+3A_...">...</code></td>
<td>
<p>Arguments to be passed on to other functions. See &quot;Details&quot; for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Parameters are estimated by iteratively maximizing the restriced log-likelihood using the Newton-Raphson procedure. 
The results from a univariate random-effects meta-analysis with a method-of-moments estimator are used as starting 
values for <code>beta1</code>, <code>beta2</code>, <code>psi1</code> and <code>psi2</code> in the <code>optim</code> command. Standard errors for all parameters are obtained 
from the inverse Hessian matrix.
</p>


<h4>Meta-analysis of effect sizes</h4>

<p>The following parameters are estimated by iteratively maximizing the restriced log-likelihood using the Newton-Raphson 
procedure: pooled effect size for outcome 1 (<code>beta1</code>), pooled effect size for outcome 2 (<code>beta2</code>), 
additional variation of <code>beta1</code> beyond sampling error (<code>psi1</code>), additional variation of <code>beta2</code> 
beyond sampling error (<code>psi2</code>) and the correlation <code>rho</code> between <code>psi1</code> and <code>psi2</code>. 
</p>



<h4>Meta-analysis of diagnostic test accuracy</h4>

<p>Although the model can also be used for diagnostic test accuracy data when substantial within-study correlations 
are expected, assuming zero within-study correlations (i.e. applying Reitsma's approach) is usually justified 
(Reitsma et al. 2005, Daniels and Hughes 1997, Korn et al. 2005, Thompson et al. 2005, Van Houwelingen et al. 2002).
</p>
<p>A logit transformation is applied to the sensitivities ans false positive rates of each study, in order to meet the normality 
assumptions. When zero cell counts occur, continuity corrections may be required. The correction value can be specified using
<code>correction</code> (defaults to 0.5). Further, when the argument <code>correction.control</code> is set to <code>"all"</code> 
(the default) the continuity correction is added to the whole data if only one cell in one study is zero. 
If <code>correction.control="single"</code> the correction is only applied to rows of the data which have a zero.
</p>
<p>The following parameters are estimated: logit of sensitivity (<code>beta1</code>), logit of false positive rate (<code>beta2</code>), 
additional variation of <code>beta1</code> beyond sampling error (<code>psi1</code>), additional variation of <code>beta2</code> beyond 
sampling error (<code>psi2</code>) and the correlation (<code>rho</code>) between <code>psi1</code> and <code>psi2</code>. 
</p>



<h3>Value</h3>

<p>An object of the class <code>riley</code> for which many standard methods are available. A warning message is 
casted when the Hessian matrix contains negative eigenvalues, which implies that the identified solution is a 
saddle point and thus not optimal.
</p>


<h3>Note</h3>

<p>The overall correlation parameter <code>rho</code> is transformed during estimation to ensure that corresponding values
remain between -1 and 1. The transformed correlation <code>rhoT</code> is given as <code>logit((rho+1)/2)</code>. During optimization,
the starting value for <code>rhoT</code> is set to 0.  The standard error of <code>rho</code> is derived from <code>rhoT</code> using 
the Delta method. Similarly, the Delta methods is used to derive the standard error of the sensitivity and false 
positive rate from <code>beta1</code> and, respectively, <code>beta2</code>.
</p>
<p>Algorithms for dealing with missing data are currently not implemented, but Bayesian approaches will become 
available in later versions.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>


<ul>
<li><p> Korn EL, Albert PS, McShane LM. Assessing surrogates as trial endpoints using mixed models. 
<em>Statistics in Medicine</em> 2005; <b>24</b>: 163&ndash;182.
</p>
</li>
<li><p> Nelder JA, Mead R. A simplex algorithm for function minimization. <em>Computer Journal</em> (1965); <b>7</b>: 308&ndash;313.
</p>
</li>
<li><p> Reitsma J, Glas A, Rutjes A, Scholten R, Bossuyt P, Zwinderman A. Bivariate analysis of sensitivity and 
specificity produces informative summary measures in diagnostic reviews. <em>Journal of Clinical Epidemiology</em> 2005; 
<b>58</b>: 982&ndash;990.
</p>
</li>
<li><p> Riley RD, Thompson JR, Abrams KR. An alternative model for bivariate random-effects meta-analysis when 
the within-study correlations are unknown. <em>Biostatistics</em> 2008; <b>9</b>: 172&ndash;186.
</p>
</li>
<li><p> Thompson JR, Minelli C, Abrams KR, Tobin MD, Riley RD. Meta-analysis of genetic studies using mendelian 
randomization&ndash;a multivariate approach. <em>Statistics in Medicine</em> 2005; <b>24</b>: 2241&ndash;2254.
</p>
</li>
<li><p> van Houwelingen HC, Arends LR, Stijnen T. Advanced methods in meta-analysis: multivariate approach and 
meta-regression. <em>Statistics in Medicine</em> 2002; <b>21</b>: 589&ndash;624.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>data(Scheidler)
data(Daniels)
data(Kertai)

# Meta-analysis of potential surrogate markers data
# The results obtained by Riley (2008) were as follows:
# beta1 = -0.042 (SE = 0.063),
# beta2 = 14.072 (SE = 4.871)
# rho   = -0.759
## Not run: 
fit1 &lt;- riley(Daniels) #maxit reached, try again with more iterations

## End(Not run)
fit1 &lt;- riley(Daniels, control=list(maxit=10000))
summary(fit1)

# Meta-analysis of prognostic test studies
fit2 &lt;- riley(Kertai)
fit2

# Meta-analysis of computed tomography data 
ds &lt;- Scheidler[which(Scheidler$modality==1),]
fit3 &lt;- riley(ds)
fit3

</code></pre>

<hr>
<h2 id='rmplot'>Plot the running means of a Bayesian meta-analysis model</h2><span id='topic+rmplot'></span>

<h3>Description</h3>

<p>Function to display running means of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmplot(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmplot_+3A_...">...</code></td>
<td>
<p>Additional arguments, which are currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a generic function.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='rmplot.mcmc.list'>Plot the running means of a Bayesian meta-analysis model</h2><span id='topic+rmplot.mcmc.list'></span>

<h3>Description</h3>

<p>Function to display running means of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mcmc.list'
rmplot(x, P, greek = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmplot.mcmc.list_+3A_x">x</code></td>
<td>
<p>An object of class <code>"mcmc.list"</code></p>
</td></tr>
<tr><td><code id="rmplot.mcmc.list_+3A_p">P</code></td>
<td>
<p>Optional dataframe describing the parameters to plot and their respective names</p>
</td></tr>
<tr><td><code id="rmplot.mcmc.list_+3A_greek">greek</code></td>
<td>
<p>Logical value indicating whether parameter labels have to be parsed to get Greek letters. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="rmplot.mcmc.list_+3A_...">...</code></td>
<td>
<p>Additional arguments which are passed to ggs_running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='rmplot.uvmeta'>Plot the running means of a Bayesian meta-analysis model</h2><span id='topic+rmplot.uvmeta'></span>

<h3>Description</h3>

<p>Function to display running means of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'uvmeta'
rmplot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmplot.uvmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"valmeta"</code></p>
</td></tr>
<tr><td><code id="rmplot.uvmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Results are displayed for the estimated mean (<code>mu</code>) and standard-deviation (<code>tau</code>) of the meta-analysis model.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Roberts)

fit &lt;- with(Roberts, uvmeta(r=SDM, r.se=SE, labels=rownames(Roberts), method="BAYES"))
rmplot(fit)

## End(Not run) 

</code></pre>

<hr>
<h2 id='rmplot.valmeta'>Plot the running means of a Bayesian meta-analysis model</h2><span id='topic+rmplot.valmeta'></span>

<h3>Description</h3>

<p>Function to display running means of a fitted Bayesian meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'valmeta'
rmplot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmplot.valmeta_+3A_x">x</code></td>
<td>
<p>An object of class <code>"valmeta"</code></p>
</td></tr>
<tr><td><code id="rmplot.valmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments which are currently not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Results are displayed for the estimated mean (<code>mu</code>) and standard-deviation (<code>tau</code>) of the meta-analysis model.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>
<p>An object of class <code>ggplot</code>
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(EuroSCORE)

fit &lt;- valmeta(cstat=c.index, cstat.se=se.c.index, cstat.cilb=c.index.95CIl,
               cstat.ciub=c.index.95CIu, N=n, O=n.events, 
               data=EuroSCORE, method="BAYES", slab=Study)
rmplot(fit)

## End(Not run) 

</code></pre>

<hr>
<h2 id='Roberts'>Roberts data</h2><span id='topic+Roberts'></span>

<h3>Description</h3>

<p>Data frame with summary data from 14 comparative studies.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Roberts")</code></pre>


<h3>Format</h3>

<p>One data frame with 2 variables.
</p>

<dl>
<dt>SDM</dt><dd><p>Effect sizes (standardized differences in means)</p>
</dd>  
<dt>SE</dt><dd><p>Standard error of the effect sizes</p>
</dd>  
</dl>



<h3>Details</h3>

<p>The <code>Roberts</code> data set is a meta-analysis of 14 studies comparing 'set shifting' ability (the ability to move back and forth between different tasks) in people with eating disorders and healthy controls.</p>


<h3>Source</h3>

<p>Roberts ME, Tchanturia K, Stahl D, Southgate L, Treasure J. A systematic review and meta-analysis of set-shifting ability in eating disorders. <em>Psychological Medicine</em> 2007, <b>37</b>: 1075&ndash;1084.
</p>
<p>Higgins JPT, Thompson SG, Spiegelhalter DJ. A re-evaluation of random-effects meta-analysis. <em>Journal of the Royal Statistical Society. Series A (Statistics in Society)</em> 2009, <b>172</b>: 137&ndash;159.
</p>

<hr>
<h2 id='Scheidler'>Diagnostic accuracy data</h2><span id='topic+Scheidler'></span>

<h3>Description</h3>

<p>Data frame with diagnostic accuracy data from three imaging techniques for the diagnosis of lymph node metastasis in women with cervical cancer.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Scheidler")</code></pre>


<h3>Format</h3>

<p>One data frame with 6 variables.
</p>

<dl>
<dt>author</dt><dd><p>string . author of article</p>
</dd>
<dt>modality</dt><dd><p>integer . type of test (1=CT, 2=LAG, 3=MRI)</p>
</dd>
<dt>TP</dt><dd><p>integer. number of true positives</p>
</dd>  
<dt>FN</dt><dd><p>integer. number of false negatives</p>
</dd>  
<dt>FP</dt><dd><p>integer. number of false positives</p>
</dd>  
<dt>TN</dt><dd><p>integer. number of true negatives</p>
</dd>  
</dl>



<h3>Details</h3>

<p>The <code>Scheidler</code> data comprises the results from a meta-analysis where three imaging techniques for the diagnosis of lymph node metastasis in women with cervical cancer are compared. Forty-four studies in total were included: 17 studies evaluated lymphangiography, another 17 studies examined computed tomography and the remaining 10 studies focused on magnetic resonance imaging. Diagnosis of metastatic disease by lymphangiography (LAG) is based on the presence of nodal-filling defects, whereas computed tomography (CT) and magnetic resonance imaging (MRI) rely on nodal enlargement.</p>


<h3>Source</h3>

<p>Scheidler J, Hricak H, Yu KK, Subak L, Segal MR. Radiological evaluation of lymph node metastases in patients with cervical cancer. A meta-analysis. <em>Journal of the American Medical Association</em> 1997;  <b>278</b>: 1096&ndash;1101.
</p>
<p>Reitsma J, Glas A, Rutjes A, Scholten R, Bossuyt P, Zwinderman A. Bivariate analysis of sensitivity and specificity produces informative summary
measures in diagnostic reviews. <em>Journal of Clinical Epidemiology</em> 2005; <b>58</b>: 982&ndash;990.
</p>

<hr>
<h2 id='se'>Standard errors and variances</h2><span id='topic+se'></span><span id='topic+variances'></span><span id='topic+tau'></span><span id='topic+tau2'></span>

<h3>Description</h3>

<p>Obtain standard errors or variances of a model fit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>se(object, ...)
variances(object, ...)
tau(object, ...)
tau2(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="se_+3A_object">object</code></td>
<td>
<p>A model fit object</p>
</td></tr>
<tr><td><code id="se_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>se</code> the standard errors of <code>object</code>, and for 
<code>variances</code> the variances. For <code>tau</code> the heterogeneity of the coefficients.
</p>


<h3>Author(s)</h3>

<p>Valentijn de Jong
</p>

<hr>
<h2 id='stackedglm'>Stacked Regression</h2><span id='topic+stackedglm'></span>

<h3>Description</h3>

<p>This function combines one or more existing prediction models into a so/called meta-model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stackedglm(models, family = binomial, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stackedglm_+3A_models">models</code></td>
<td>
<p>a list containing the historical prediction models, which can be defined in several ways. For instance, 
historical regression models can be specified using a named vector containing the regression coefficients of the 
individual predictors (no need to include the intercept term). List items may also represent an object for 
which the function <code>predict()</code> exists.</p>
</td></tr>
<tr><td><code id="stackedglm_+3A_family">family</code></td>
<td>
<p>a description of the error distribution and link function to be used in the meta-model. This can be a character 
string naming a family function, a family function or the result of a call to a family function. (See <a href="stats.html#topic+family">family</a> for 
details of family functions.)</p>
</td></tr>
<tr><td><code id="stackedglm_+3A_data">data</code></td>
<td>
<p>an optional data frame, list or environment (or object coercible by <a href="base.html#topic+as.data.frame">as.data.frame</a> to a data frame) 
containing the variables in the model. If not found in <code>data</code>, the variables are taken from <code>environment(formula)</code>, 
typically the environment from which <code>stackedglm</code> is called.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>

<hr>
<h2 id='subset.metapred'>Subsetting metapred fits</h2><span id='topic+subset.metapred'></span>

<h3>Description</h3>

<p>Return a model from the cross-validation procedure or the final 'global' model. Caution: This function is 
still under development.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metapred'
subset(
  x,
  select = "cv",
  step = NULL,
  model = NULL,
  stratum = NULL,
  add = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset.metapred_+3A_x">x</code></td>
<td>
<p>metapred object</p>
</td></tr>
<tr><td><code id="subset.metapred_+3A_select">select</code></td>
<td>
<p>Which type of model to select: &quot;cv&quot; (default), &quot;global&quot;, or (experimental) &quot;stratified&quot;, 
or &quot;stratum&quot;.</p>
</td></tr>
<tr><td><code id="subset.metapred_+3A_step">step</code></td>
<td>
<p>Which step should be selected? Defaults to the best step. 
numeric is converted to name of the step: 0 for an unchanged model, 1 for the first change...</p>
</td></tr>
<tr><td><code id="subset.metapred_+3A_model">model</code></td>
<td>
<p>Which model change should be selected? NULL (default, best change) or character name of variable
or (integer) index of model change.</p>
</td></tr>
<tr><td><code id="subset.metapred_+3A_stratum">stratum</code></td>
<td>
<p>Experimental. Stratum to return if select = &quot;stratum&quot;.</p>
</td></tr>
<tr><td><code id="subset.metapred_+3A_add">add</code></td>
<td>
<p>Logical. Add data, options and functions to the resulting object? Defaults to <code>TRUE</code>. 
Experimental.</p>
</td></tr>
<tr><td><code id="subset.metapred_+3A_...">...</code></td>
<td>
<p>For compatibility only.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>mp.cv</code> for select = &quot;cv&quot; and an object of class <code>mp.global</code> for select = &quot;global&quot;. 
In both cases, additional data is added to the resulting object, thereby making it suitable for further methods.
</p>


<h3>Author(s)</h3>

<p>Valentijn de Jong
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(DVTipd)
DVTipd$cluster &lt;- letters[1:4] # Add a fictional clustering to the data.
mp &lt;- metapred(DVTipd, strata = "cluster", formula = dvt ~ histdvt + ddimdich, family = binomial)
subset(mp) # best cross-validated model
subset(mp, select = "global") # Final model fitted on all strata.
subset(mp, step = 1) # The best model of step 1
subset(mp, step = 1, model = "histdvt") # The model in which histdvt was removed, in step 1.

</code></pre>

<hr>
<h2 id='summary.riley'>Parameter summaries
Provides the summary estimates of the alternative model for bivariate random-effects meta-analysis by Riley et al. 
(2008) with their corresponding standard errors (derived from the inverse Hessian). For confidence intervals,
asymptotic normality is assumed.</h2><span id='topic+summary.riley'></span>

<h3>Description</h3>

<p>Parameter summaries
Provides the summary estimates of the alternative model for bivariate random-effects meta-analysis by Riley et al. 
(2008) with their corresponding standard errors (derived from the inverse Hessian). For confidence intervals,
asymptotic normality is assumed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'riley'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.riley_+3A_object">object</code></td>
<td>
<p>A <code>riley</code> object</p>
</td></tr>
<tr><td><code id="summary.riley_+3A_...">...</code></td>
<td>
<p>Arguments to be passed on to other functions (currently ignored)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For meta-analysis of diagnostic test accuracy data, <code>beta1</code> equals the logit sensitivity (Sens) and 
<code>beta2</code> equals the logit false positive rate (FPR).
</p>


<h3>Value</h3>

<p>array with confidence intervals for the estimated model parameters. For diagnostic test accuracy data, 
the resulting summary sensitivity and false positive rate are included.
</p>


<h3>Note</h3>

<p>For the overall correlation (<code>rho</code>) confidence intervals are derived using the transformation 
<code>logit((rho+1)/2)</code>. Similarly, the logit transformation is used to derive confidence intervals for the summary
sensitivity and false positive rate.
</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Riley RD, Thompson JR, Abrams KR. An alternative model for bivariate random-effects meta-analysis when the 
within-study correlations are unknown. <em>Biostatistics</em> 2008; <b>9</b>: 172&ndash;186.
</p>

<hr>
<h2 id='summary.uvmeta'>Summarizing Univariate Meta-Analysis Models</h2><span id='topic+summary.uvmeta'></span>

<h3>Description</h3>

<p>This function provides summary estimates of a fitted univariate meta-analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'uvmeta'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.uvmeta_+3A_object">object</code></td>
<td>
<p>An object of class <code>"uvmeta"</code></p>
</td></tr>
<tr><td><code id="summary.uvmeta_+3A_...">...</code></td>
<td>
<p>Optional arguments to be passed on to other functions</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>


<ul>
<li><p> Borenstein M, Hedges LV, Higgins JPT, Rothstein HR. A basic introduction to fixed-effect and random-effects models for meta-analysis. <em>Research Synthesis Methods</em> 2010; <b>1</b>: 97&ndash;111.
</p>
</li>
<li><p> DerSimonian R, Laird N. Meta-analysis in clinical trials. <em>Controlled Clinical Trials</em> 1986; <b>7</b>: 177&ndash;188.
</p>
</li>
<li><p> Riley RD, Higgins JPT, Deeks JJ. Interpretation of random effects meta-analyses. <em>British Medical Journal</em> 2011; <b>342</b>: d549.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+uvmeta">uvmeta</a></code>
</p>

<hr>
<h2 id='uvmeta'>Univariate meta-analysis</h2><span id='topic+uvmeta'></span>

<h3>Description</h3>

<p>This function summarizes multiple estimates for a single parameter by assuming a fixed (i.e. common) 
effect or random effects across studies. The summary estimate is obtained by calculating a weighted mean that accounts for
sample size and (in case random effects are assumed) for between-study heterogeneity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uvmeta(
  r,
  r.se,
  r.vi,
  method = "REML",
  test = "knha",
  labels,
  na.action,
  n.chains = 4,
  pars,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uvmeta_+3A_r">r</code></td>
<td>
<p>Vector of numerics containing the effect size of each study</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_r.se">r.se</code></td>
<td>
<p>Vector of numerics containing the standard error of the effect sizes</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_r.vi">r.vi</code></td>
<td>
<p>Vector of numerics containing the sampling variance of the effect sizes</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_method">method</code></td>
<td>
<p>Character string specifying whether a fixed-effect or a random-effects model should be fitted. 
A fixed-effect model is fitted when using <code>method="FE"</code>. Random-effects models are fitted by setting method equal 
to one of the following: <code>"REML"</code> (Default), <code>"DL"</code>, <code>"HE"</code>, <code>"SJ"</code>, <code>"ML"</code>, <code>"EB"</code>, 
<code>"HS"</code>, <code>"GENQ"</code> or <code>"BAYES"</code>. See 'Details'.</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_test">test</code></td>
<td>
<p>Optional character string when <code>method!="BAYES"</code> to specify how test statistics and confidence intervals 
for the fixed effects should be computed. By default (<code>test="knha"</code>), the method by Knapp and Hartung (2003) is used for adjusting test statistics 
and confidence intervals.  Type '<code>?rma</code>' for more details.</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_labels">labels</code></td>
<td>
<p>Optional vector of characters containing the labels for the studies</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_na.action">na.action</code></td>
<td>
<p>A function which indicates what should happen when the data contain NAs. 
Defaults to <code>"na.fail"</code>, other options are <code>"na.omit"</code>, <code>"na.exclude"</code> or <code>"na.pass"</code>.</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_n.chains">n.chains</code></td>
<td>
<p>Optional numeric specifying the number of chains to use in the Gibbs sampler (<code>method="BAYES"</code>). 
More chains will improve the sensitivity of the convergence diagnostic, but will cause the simulation to run more slowly. 
The default number of chains is 4.</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_pars">pars</code></td>
<td>
<p>Optional list with additional arguments. The width of confidence, credibility and prediction intervals is 
defined by <code>level</code> (defaults to 0.95). 
The following parameters configure the MCMC sampling procedure:  
<code>hp.mu.mean</code> (mean of the prior distribution of the random effects model, defaults to 0), 
<code>hp.mu.var</code> (variance of the prior distribution of the random effects model, defaults to 1E6), 
<code>hp.tau.min</code> (minimum value for the between-study standard deviation, defaults to 0), 
<code>hp.tau.max</code> (maximum value for the between-study standard deviation, defaults to 2), 
<code>hp.tau.sigma</code> (standard deviation of the prior distribution for the between-study standard-deviation), 
<code>hp.tau.dist</code> (prior distribution for the between-study standard-deviation. Defaults to <code>"dunif"</code>), 
<code>hp.tau.df</code> (degrees of freedom for the prior distribution for the between-study standard-deviation. 
Defaults to 3).</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_verbose">verbose</code></td>
<td>
<p>If TRUE then messages generated during the fitting process will be displayed.</p>
</td></tr>
<tr><td><code id="uvmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments that are passed to <span class="pkg">rma</span> or <span class="pkg">runjags</span> (if <code>method="BAYES"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless specified otherwise, all meta-analysis models assume random effects and are fitted  using restricted 
maximum likelihood estimation with the <span class="pkg">metafor</span> package (Viechtbauer 2010).  Further, confidence intervals for 
the average performance are based on the Hartung-Knapp-Sidik-Jonkman method, to better account for the uncertainty 
in the estimated between-study heterogeneity (Debray 2016). A Bayesian meta-analysis can be performed by specifying 
<code>method="BAYES"</code>. In that case, the R packages <span class="pkg">runjags</span> and <span class="pkg">rjags</span> must be installed.]<br />
<br />
For random-effects models, a prediction interval for the pooled effect size is displayed. This interval predicts in what 
range future effect sizes will fall given what has already been observed (Higgins 2009, Riley 2011).  
</p>


<h4>Bayesian meta-analysis models</h4>

<p>For Bayesian meta-analysis models that involve the Gibbs sampler (<code>method="BAYES"</code>), the R packages <code>runjags</code> 
and <code>rjags</code> must be installed. The Bayesian approach uses an uninformative Normal prior for the mean and a 
uniform prior for the between-study variance of the pooled effect size (Higgins 2009). By default, the Normal prior 
has a mean of 0 and a variance of 1000. These hyperparameters can, however, be altered through the 
variables <code>hp.mu.mean</code> and <code>hp.mu.var</code> in the argument <code>pars</code>. The prior distribution of the between-study 
standard deviation is given by a uniform distribution, by default bounded between 0 and 100. 
</p>



<h3>Value</h3>

<p>An object of the class <code>uvmeta</code> for which many standard methods are available.
</p>

<dl>
<dt>&quot;data&quot;</dt><dd><p>array with (transformed) data used for meta-analysis, and method(s) used for restoring missing information. </p>
</dd>
<dt>&quot;method&quot;</dt><dd><p>character string specifying the meta-analysis method.</p>
</dd>
<dt>&quot;est&quot;</dt><dd><p>estimated performance statistic of the model. For Bayesian meta-analysis, the posterior median is returned.</p>
</dd>
<dt>&quot;se&quot;</dt><dd><p>standard error (or posterior standard deviation) of the summary estimate.</p>
</dd>
<dt>&quot;tau2&quot;</dt><dd><p>estimated amount of (residual) heterogeneity. Always 0 when method=<code>"FE"</code>. For Bayesian meta-analysis, the posterior median is returned.</p>
</dd>
<dt>&quot;se.tau2&quot;</dt><dd><p>estimated standard error (or posterior standard deviation) of the between-study variation.</p>
</dd>
<dt>&quot;ci.lb&quot;</dt><dd><p>lower bound of the confidence (or credibility) interval of the summary estimate</p>
</dd>
<dt>&quot;ci.ub&quot;</dt><dd><p>upper bound of the confidence (or credibility) interval of the summary estimate</p>
</dd>
<dt>&quot;pi.lb&quot;</dt><dd><p>lower bound of the (approximate) prediction interval of the summary estimate</p>
</dd>
<dt>&quot;pi.ub&quot;</dt><dd><p>upper bound of the (approximate) prediction interval of the summary estimate</p>
</dd>
<dt>&quot;fit&quot;</dt><dd><p>the full results from the fitted model</p>
</dd>
<dt>&quot;slab&quot;</dt><dd><p>vector specifying the label of each study.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Biggerstaff BJ, Tweedie RL. Incorporating variability in estimates of heterogeneity in the random effects model 
in meta-analysis. <em>Statistics in Medicine</em> 1997; <b>16</b>: 753&ndash;768.
</p>
<p>Borenstein M, Hedges LV, Higgins JPT, Rothstein HR. A basic introduction to fixed-effect and random-effects 
models for meta-analysis. <em>Research Synthesis Methods</em> 2010; <b>1</b>: 97&ndash;111. <a href="https://doi.org/10.1002/jrsm.12">doi:10.1002/jrsm.12</a>
</p>
<p>DerSimonian R, Laird N. Meta-analysis in clinical trials. <em>Controlled Clinical Trials</em> 1986; <b>7</b>: 177&ndash;188.
</p>
<p>Graham PL, Moran JL. Robust meta-analytic conclusions mandate the provision of prediction intervals in 
meta-analysis summaries. <em>Journal of Clinical Epidemiology</em> 2012; <b>65</b>: 503&ndash;510.
</p>
<p>Higgins JPT, Thompson SG. Quantifying heterogeneity in a meta-analysis. <em>Statistics in Medicine</em> 2002; 
<b>21</b>: 1539&ndash;1558.
</p>
<p>Higgins JPT, Thompson SG, Spiegelhalter DJ. A re-evaluation of random-effects meta-analysis. <em>J R Stat Soc Ser A Stat Soc</em>. 
2009;<b>172</b>:137&ndash;59. <a href="https://doi.org/10.1111/j.1467-985X.2008.00552.x">doi:10.1111/j.1467-985X.2008.00552.x</a>
</p>
<p>Riley RD, Higgins JPT, Deeks JJ. Interpretation of random effects meta-analyses. 
<em>British Medical Journal</em> 2011; <b>342</b>: d549. <a href="https://doi.org/10.1136/bmj.d549">doi:10.1136/bmj.d549</a>
</p>
<p>Viechtbauer W. Conducting Meta-Analyses in R with the metafor Package. <em>Journal of Statistical Software</em>. 
2010; <b>36</b>. <a href="https://doi.org/10.18637/jss.v036.i03">doi:10.18637/jss.v036.i03</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Roberts)

# Frequentist random-effects meta-analysis
fit1 &lt;- with(Roberts, uvmeta(r=SDM, r.se=SE, labels=rownames(Roberts)))
summary(fit1)
plot(fit1) #show a forest plot
fit1

## Not run: 
# Bayesian random effects meta-analysis 
fit2 &lt;- with(Roberts, uvmeta(r=SDM, r.se=SE, labels=rownames(Roberts), method="BAYES"))
plot(fit2)

## End(Not run)

</code></pre>

<hr>
<h2 id='uvmeta-class'>Class &quot;uvmeta&quot;. Result of a univariate meta-analysis.</h2><span id='topic+uvmeta-clas'></span>

<h3>Description</h3>

<p>This class encapsulates results of a univariate meta-analysis.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code><a href="#topic+uvmeta">uvmeta</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>call</code>:</dt><dd><p>(language) The call to <code><a href="#topic+uvmeta">uvmeta</a></code>.</p>
</dd>
<dt><code>data</code>:</dt><dd><p>(data frame) The data used for the meta-analysis. </p>
</dd>
<dt><code>results</code>:</dt><dd><p>(data frame) Contains the pooled effect size (<code>mu</code>), the between-study variability (<code>tausq</code>), Cochran's Q statistic (<code>Q</code>) and Higgins' and Thompson's I square statistic (<code>Isq</code>). For each estimate, error variances are provided with predefined confidence (<code>method="MOM"</code>) or credibility (<code>method="bayes"</code>) intervals. </p>
</dd>
<dt><code>model</code>:</dt><dd><p>(character) The meta-analysis model used.</p>
</dd>
<dt><code>method</code>:</dt><dd><p>(character) The estimator used.</p>
</dd>
<dt><code>na.action</code>:</dt><dd><p>(character) Information from the action which was applied to object if NAs were handled specially, or NULL.</p>
</dd>
<dt><code>df</code>:</dt><dd><p>(numeric) Degrees of freedom.</p>
</dd>
<dt><code>numstudies</code>:</dt><dd><p>(numeric) The amount of studies used in the meta-analysis.</p>
</dd>
<dt><code>pred.int</code>:</dt><dd><p>(data frame) A prediction interval, predicting in what range future effect sizes will fall given what has already been observed (based on a Student's t-distribution, cfr. Riley 2011)</p>
</dd>
<dt><code>formula</code>:</dt><dd><p>(character) If a formula was specified, a
character vector giving the formula and parameter specifications.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>print</dt><dd><p><code>signature(object = "uvmeta")</code>: Print object summary.</p>
</dd>
<dt>forest</dt><dd><p><code>signature(object = "uvmeta")</code>: Plot a forest plot with the summary estimate.</p>
</dd>
<dt>summary</dt><dd><p><code>signature(object = "uvmeta")</code>: Generate object summary.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Collins)

#Extract effect size and error variance
r &lt;- Collins$logOR
vars &lt;- Collins$SE**2

#Frequentist random-effects meta-analysis
fit1 &lt;- uvmeta(r,vars)

#Extract results
fit1$results
</code></pre>

<hr>
<h2 id='valmeta'>Meta-analysis of prediction model performance</h2><span id='topic+valmeta'></span>

<h3>Description</h3>

<p>This function provides summary estimates for the concordance statistic, 
the total observed-expected ratio or the calibration slope. Where 
appropriate, data transformations are applied and missing information 
is derived from available quantities. Unless specified otherwise, all 
meta-analysis models assume random effects and are fitted using restricted 
maximum likelihood estimation with the <span class="pkg">metafor</span> package 
(Viechtbauer 2010). Further, confidence intervals for the average 
performance are based on the Hartung-Knapp-Sidik-Jonkman method. 
When conducting a Bayesian meta-analysis, the R packages <span class="pkg">runjags</span> and 
<span class="pkg">rjags</span> must be installed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valmeta(
  measure = "cstat",
  cstat,
  cstat.se,
  cstat.cilb,
  cstat.ciub,
  cstat.cilv,
  sd.LP,
  OE,
  OE.se,
  OE.cilb,
  OE.ciub,
  OE.cilv,
  citl,
  citl.se,
  N,
  O,
  E,
  Po,
  Po.se,
  Pe,
  data,
  method = "REML",
  test = "knha",
  verbose = FALSE,
  slab,
  n.chains = 4,
  pars,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="valmeta_+3A_measure">measure</code></td>
<td>
<p>A character string indicating which summary performance 
measure should be calculated. Options are
<code>"cstat"</code> (meta-analysis of the concordance statistic) and <code>"OE"</code> 
(meta-analysis of the total observed-expected ratio). See &lsquo;Details&rsquo; for more information.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_cstat">cstat</code></td>
<td>
<p>Optional vector with the estimated c-statistic for each valiation</p>
</td></tr>
<tr><td><code id="valmeta_+3A_cstat.se">cstat.se</code></td>
<td>
<p>Optional vector with the standard error of the estimated c-statistics</p>
</td></tr>
<tr><td><code id="valmeta_+3A_cstat.cilb">cstat.cilb</code></td>
<td>
<p>Optional vector to specify the lower limits of the confidence interval.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_cstat.ciub">cstat.ciub</code></td>
<td>
<p>Optional vector to specify the upper limits of the confidence interval.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_cstat.cilv">cstat.cilv</code></td>
<td>
<p>Optional vector to specify the levels of aformentioned confidence interval limits. 
(default: 0.95, which corresponds to the 95% confidence interval).</p>
</td></tr>
<tr><td><code id="valmeta_+3A_sd.lp">sd.LP</code></td>
<td>
<p>Optional vector with the standard deviation of the linear predictor (prognostic index)</p>
</td></tr>
<tr><td><code id="valmeta_+3A_oe">OE</code></td>
<td>
<p>Optional vector with the estimated ratio of total observed versus total expected events</p>
</td></tr>
<tr><td><code id="valmeta_+3A_oe.se">OE.se</code></td>
<td>
<p>Optional vector with the standard errors of the estimated O:E ratios</p>
</td></tr>
<tr><td><code id="valmeta_+3A_oe.cilb">OE.cilb</code></td>
<td>
<p>Optional vector to specify the lower limits of the confidence interval for <code>OE</code>.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_oe.ciub">OE.ciub</code></td>
<td>
<p>Optional vector to specify the upper limits of the confidence interval for <code>OE</code>.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_oe.cilv">OE.cilv</code></td>
<td>
<p>Optional vector to specify the levels of aformentioned confidence interval limits. 
(default: 0.95, which corresponds to the 95% confidence interval).</p>
</td></tr>
<tr><td><code id="valmeta_+3A_citl">citl</code></td>
<td>
<p>Optional vector with the estimated calibration-in-the-large for each valiation</p>
</td></tr>
<tr><td><code id="valmeta_+3A_citl.se">citl.se</code></td>
<td>
<p>Optional vector with the standard error of the estimated calibration-in-the-large statistics</p>
</td></tr>
<tr><td><code id="valmeta_+3A_n">N</code></td>
<td>
<p>Optional vector with the total number of participants for each valiation</p>
</td></tr>
<tr><td><code id="valmeta_+3A_o">O</code></td>
<td>
<p>Optional vector with the total number of observed events for each valiation
(if specified, during time <code>t.val</code>)</p>
</td></tr>
<tr><td><code id="valmeta_+3A_e">E</code></td>
<td>
<p>Optional vector with the total number of expected events for each valiation 
(if specified, during time <code>t.val</code>)</p>
</td></tr>
<tr><td><code id="valmeta_+3A_po">Po</code></td>
<td>
<p>Optional vector with the (cumulative) observed event probability for each valiation
(if specified, during time <code>t.val</code>)</p>
</td></tr>
<tr><td><code id="valmeta_+3A_po.se">Po.se</code></td>
<td>
<p>Optional vector with the standard errors of <code>Po</code>.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_pe">Pe</code></td>
<td>
<p>Optional vector with the (cumulative) expected event probability for each validation
(if specified, during time <code>t.val</code>)</p>
</td></tr>
<tr><td><code id="valmeta_+3A_data">data</code></td>
<td>
<p>optional data frame containing the variables given to the arguments above.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_method">method</code></td>
<td>
<p>Character string specifying whether a fixed- or a random-effects model should be fitted. 
A fixed-effects model is fitted when using <code>method="FE"</code>. Random-effects models are fitted by setting method 
equal to one of the following: <code>"REML"</code> (Default), <code>"DL"</code>, <code>"HE"</code>, <code>"SJ"</code>, <code>"ML"</code>, 
<code>"EB"</code>, <code>"HS"</code>, <code>"GENQ"</code> or <code>"BAYES"</code>. See 'Details'.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_test">test</code></td>
<td>
<p>Optional character string specifying how test statistics and confidence intervals for the fixed effects 
should be computed. By default (<code>test="knha"</code>), the method by Knapp and Hartung (2003) is used for 
adjusting test statistics and confidence intervals. Type '<code>?rma</code>' for more details.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_verbose">verbose</code></td>
<td>
<p>If TRUE then messages generated during the fitting process will be displayed.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_slab">slab</code></td>
<td>
<p>Optional vector specifying the label for each study</p>
</td></tr>
<tr><td><code id="valmeta_+3A_n.chains">n.chains</code></td>
<td>
<p>Optional numeric specifying the number of chains to use in the Gibbs sampler 
(if <code>method="BAYES"</code>). More chains will improve the sensitivity of the convergence diagnostic, but will 
cause the simulation to run more slowly. The default number of chains is 4.</p>
</td></tr>
<tr><td><code id="valmeta_+3A_pars">pars</code></td>
<td>
<p>A list with additional arguments.  See 'Details' for more information. The following parameters configure the MCMC sampling procedure:
<code>hp.mu.mean</code> (mean of the prior distribution of the random effects model, defaults to 0), 
<code>hp.mu.var</code> (variance of the prior distribution of the random effects model, defaults to 1000), 
<code>hp.tau.min</code> (minimum value for the between-study standard deviation, defaults to 0), 
<code>hp.tau.max</code> (maximum value for the between-study standard deviation, defaults to 2), 
<code>hp.tau.sigma</code> (standard deviation of the prior distribution for the between-study standard-deviation), 
<code>hp.tau.dist</code> (prior distribution for the between-study standard-deviation. Defaults to <code>"dunif"</code>), 
<code>hp.tau.df</code> (degrees of freedom for the prior distribution for the between-study standard-deviation. 
Defaults to 3). Other arguments are <code>method.restore.c.se</code> (method for restoring missing estimates for the standard error 
of the c-statistic. See <code><a href="#topic+ccalc">ccalc</a></code> for more information), 
<code>model.cstat</code> (The likelihood/link for modeling the c-statistic; see &quot;Details&quot;), 
<code>model.oe</code> (The likelihood/link for modeling the O:E ratio; see &quot;Details&quot;),
<code>seed</code> (an integer to indicate the random seed).</p>
</td></tr>
<tr><td><code id="valmeta_+3A_...">...</code></td>
<td>
<p>Additional arguments that are passed to <span class="pkg">rma</span> or <span class="pkg">runjags</span> (if <code>method="BAYES"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Meta-analysis of the concordance statistic</h4>

<p>A summary estimate for the concorcance (c-) statistic can be obtained by specifying <code>measure="cstat"</code>.
The c-statistic is a measure of discrimination, and indicates the ability of a prediction model to 
distinguish between patients developing and not developing the outcome. The c-statistic typically ranges 
from 0.5 (no discriminative ability) to 1 (perfect discriminative ability). When missing, the c-statistic 
and/or its standard error are derived from other reported information. 
See <code><a href="#topic+ccalc">ccalc</a></code> for more information.
</p>
<p>By default, it is assumed that the logit of the c-statistic is Normally distributed within and across studies
(<code>pars$model.cstat = "normal/logit"</code>). Alternatively, it is possible to assume that the raw c-statistic 
is Normally distributed across studies <code>pars$model.cstat = "normal/identity"</code>. 
</p>
 


<h4>Meta-analysis of the total observed versus expected ratio</h4>

<p>A summary estimate for the total observed versus expected (O:E) ratio can be 
obtained by specifying <code>measure="OE"</code>. The total O:E ratio provides a 
rough indication of the overall model calibration (across the entire range 
of predicted risks). When missing, the total O:E ratio and/or its standard 
error are derived from other reported information. See <code><a href="#topic+oecalc">oecalc</a></code> 
for more information.
</p>
<p>For frequentist meta-analysis, within-study variation can either be modeled 
using a Normal (<code>model.oe = "normal/log"</code> or 
<code>model.oe = "normal/identity"</code>) or a Poisson distribution 
(<code>model.oe = "poisson/log"</code>). 
</p>
<p>When performing a Bayesian meta-analysis, all data are modeled using a 
one-stage random effects (hierarchical related regression) model.
In particular, a binomial distribution (if <code>O</code>, <code>E</code> and 
<code>N</code> is known), a Poisson distribution (if only <code>O</code> and 
<code>E</code> are known) or a Normal distribution (if <code>OE</code> and 
<code>OE.se</code> or <code>OE.95CI</code> are known) is selected separately for 
each study.
</p>



<h4>Bayesian meta-analysis</h4>

<p>All Bayesian meta-analysis models assume the presence of random effects. 
Summary estimates are based on the posterior mean. Credibility and 
prediction intervals are directly obtained from the corresponding posterior 
quantiles.
</p>
<p>The prior distribution for the (transformed) performance estimate is modeled 
using a Normal distribution, with mean <code>hp.mu.mean</code> (defaults to 0) 
and variance <code>hp.mu.var</code> (defaults to 1000). 
For meta-analysis of the total O:E ratio, the maximum value for 
<code>hp.mu.var</code> is 100.
</p>
<p>By default, the prior distribution for the between-study standard deviation 
is modeled using a uniform distribution (<code>hp.tau.dist="dunif"</code>), 
with boundaries <code>hp.tau.min</code> and <code>hp.tau.max</code>. Alternative choices 
are a truncated Student-t distribution (<code>hp.tau.dist="dhalft"</code>) with a 
mean of <code>hp.tau.mean</code>, a standard deviation of <code>hp.tau.sigma</code> and 
<code>hp.tau.df</code> degrees of freedom. This distribution is again restricted 
to the range <code>hp.tau.min</code> to <code>hp.tau.max</code>.
</p>



<h3>Value</h3>

<p>An object of class <code>valmeta</code> with the following elements:
</p>

<dl>
<dt>&quot;data&quot;</dt><dd><p>array with (transformed) data used for meta-analysis, 
and method(s) used for restoring missing information. </p>
</dd>
<dt>&quot;measure&quot;</dt><dd><p>character string specifying the performance measure that 
has been meta-analysed.</p>
</dd>
<dt>&quot;method&quot;</dt><dd><p>character string specifying the meta-analysis method.</p>
</dd>
<dt>&quot;model&quot;</dt><dd><p>character string specifying the meta-analysis model 
(link function).</p>
</dd>
<dt>&quot;est&quot;</dt><dd><p>summary estimate for the performance statistic. For Bayesian 
meta-analysis, the posterior median is returned.</p>
</dd>
<dt>&quot;ci.lb&quot;</dt><dd><p>lower bound of the confidence (or credibility) interval of 
the summary performance estimate.</p>
</dd>
<dt>&quot;ci.ub&quot;</dt><dd><p>upper bound of the confidence (or credibility) interval of 
the summary performance estimate.</p>
</dd>
<dt>&quot;pi.lb&quot;</dt><dd><p>lower bound of the (approximate) prediction interval of the 
summary performance estimate.</p>
</dd>
<dt>&quot;pi.ub&quot;</dt><dd><p>upper bound of the (approximate) prediction interval of the 
summary performance estimate.</p>
</dd>
<dt>&quot;fit&quot;</dt><dd><p>the full results from the fitted model. </p>
</dd>
<dt>&quot;slab&quot;</dt><dd><p>vector specifying the label of each study.</p>
</dd>
</dl>



<h3>Note</h3>

<p>The width of calculated confidence, credibility and prediction 
intervals can be specified using <code>level</code> in the <code>pars</code> argument 
(defaults to 0.95).
</p>


<h3>References</h3>

<p>Debray TPA, Damen JAAG, Snell KIE, Ensor J, Hooft L, Reitsma JB, et al. 
A guide to systematic review and meta-analysis of prediction model 
performance. <em>BMJ</em>. 2017;<b>356</b>:i6460. <a href="https://doi.org/10.1136/bmj.i6460">doi:10.1136/bmj.i6460</a>
</p>
<p>Debray TPA, Damen JAAG, Riley R, Snell KIE, Reitsma JB, Hooft L, et al. 
A framework for meta-analysis of prediction model studies with binary and 
time-to-event outcomes. <em>Stat Methods Med Res</em>. 2019;<b>28</b>:2768&ndash;86. 
<a href="https://doi.org/10.1177/0962280218785504">doi:10.1177/0962280218785504</a>
</p>
<p>Riley RD, Tierney JF, Stewart LA. Individual participant data meta-analysis: 
a handbook for healthcare research. Hoboken, NJ: Wiley; 2021. 
ISBN: 978-1-119-33372-2.
</p>
<p>Steyerberg EW, Nieboer D, Debray TPA, van Houwelingen HC. Assessment of 
heterogeneity in an individual participant data meta-analysis of prediction 
models: An overview and illustration. <em>Stat Med</em>. 2019;
<b>38</b>:4290&ndash;309. <a href="https://doi.org/10.1002/sim.8296">doi:10.1002/sim.8296</a>
</p>
<p>Viechtbauer W. Conducting Meta-Analyses in R with the metafor Package. 
<em>Journal of Statistical Software</em>. 2010; <b>36</b>. 
<a href="https://doi.org/10.18637/jss.v036.i03">doi:10.18637/jss.v036.i03</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ccalc">ccalc</a></code> to calculate concordance statistics 
and corresponding standard errors, <code><a href="#topic+oecalc">oecalc</a></code> to calculate the 
total O:E ratio and corresponding standard errors, 
<code><a href="#topic+plot.valmeta">plot.valmeta</a></code> to generate forest plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>######### Validation of prediction models with a binary outcome #########
data(EuroSCORE)

# Meta-analysis of the c-statistic (random effects)
fit &lt;- valmeta(cstat=c.index, cstat.se=se.c.index, cstat.cilb=c.index.95CIl, 
               cstat.ciub=c.index.95CIu, cstat.cilv=0.95, N=n, O=n.events, 
               slab=Study, data=EuroSCORE)
plot(fit)

# Nearly identical results when we need to estimate the SE
valmeta(cstat=c.index,  N=n, O=n.events, slab=Study, data=EuroSCORE)

# Two-stage meta-analysis of the total O:E ratio (random effects)
valmeta(measure="OE", O=n.events, E=e.events, N=n, slab=Study, data=EuroSCORE)    
valmeta(measure="OE", O=n.events, E=e.events, data=EuroSCORE)       
valmeta(measure="OE", Po=Po, Pe=Pe, N=n, data=EuroSCORE)

## Not run: 
# One-stage meta-analysis of the total O:E ratio (random effects)
valmeta(measure="OE", O=n.events, E=e.events, data=EuroSCORE, method="ML", 
        pars=list(model.oe="poisson/log"))

# Bayesian random effects meta-analysis of the c-statistic
fit2 &lt;- valmeta(cstat=c.index, cstat.se=se.c.index, cstat.cilb=c.index.95CIl,
                cstat.ciub=c.index.95CIu, cstat.cilv=0.95, N=n, O=n.events, 
                data=EuroSCORE, method="BAYES", slab=Study)

# Bayesian one-stage random effects meta-analysis of the total O:E ratio
# Consider that some (but not all) studies do not provide information on N
# A Poisson distribution will be used for studies 1, 2, 5, 10 and 20
# A Binomial distribution will be used for the remaining studies
EuroSCORE.new &lt;- EuroSCORE
EuroSCORE.new$n[c(1, 2, 5, 10, 20)] &lt;-  NA
pars &lt;- list(hp.tau.dist="dhalft",   # Prior for the between-study standard deviation
             hp.tau.sigma=1.5,       # Standard deviation for 'hp.tau.dist'
             hp.tau.df=3,            # Degrees of freedom for 'hp.tau.dist'
             hp.tau.max=10,          # Maximum value for the between-study standard deviation
             seed=5)                 # Set random seed for the simulations
fit3 &lt;- valmeta(measure="OE", O=n.events, E=e.events, N=n, data=EuroSCORE.new,
        method="BAYES", slab=Study, pars=pars)
plot(fit3)
print(fit3$fit$model) # Inspect the JAGS model
print(fit3$fit$data)  # Inspect the JAGS data

## End(Not run) 

######### Validation of prediction models with a time-to-event outcome #########
data(Framingham)

# Meta-analysis of total O:E ratio after 10 years of follow-up
valmeta(measure="OE", Po=Po, Pe=Pe, N=n, data=Framingham)

</code></pre>

<hr>
<h2 id='vcov.riley'>Calculate Variance-Covariance Matrix for a Fitted Riley Model Object </h2><span id='topic+vcov.riley'></span>

<h3>Description</h3>

<p> Returns the variance-covariance matrix of the main parameters of a fitted model object.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'riley'
vcov(object, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcov.riley_+3A_object">object</code></td>
<td>
<p>a <code>riley</code> object.</p>
</td></tr>
<tr><td><code id="vcov.riley_+3A_...">...</code></td>
<td>
<p>arguments to be passed on to other functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The variance-covariance matrix is obtained from the inverse Hessian as provided by <code>optim</code>.</p>


<h3>Value</h3>

<p>A matrix of the estimated covariances between the parameter estimates in the Riley model: logit of sensitivity (mu1), logit of false positive rate (<code>mu2</code>), additional variation of <code>mu1</code> beyond sampling error (<code>psi1</code>), additional variation of <code>mu2</code> beyond sampling error (<code>psi2</code>) and a transformation of the correlation between <code>psi1</code> and <code>psi2</code> (<code>rhoT</code>). The original correlation is given as <code>inv.logit(rhoT)*2-1</code>.</p>


<h3>Note</h3>

<p>A warning message is casted when the Hessian matrix contains negative eigenvalues. This implies that the identified minimum for the (restricted) negative log-likelihood is a saddle point, and that the solution is therefore not optimal.</p>


<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;</p>


<h3>References</h3>

<p>Riley, RD., Thompson, JR., &amp; Abrams, KR. (2008). &ldquo;An alternative model for bivariate random-effects meta-analysis when the within-study correlations are unknown.&rdquo; <em>Biostatistics</em>, <b>9</b>, 172&ndash;186.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+riley">riley</a></code>
</p>

<hr>
<h2 id='Zhang'>
Meta-analysis of the prognostic role of hormone receptors in endometrial cancer
</h2><span id='topic+Zhang'></span>

<h3>Description</h3>

<p>This dataset comprises the results from 16 studies assessing the prognostic role of human epidermal growth factor receptor 2 (HER2) in endometrial cancer. These studies were previously identified in a systematic review by Zhang et al. to evaluate the overall risk of several hormone receptors for endometrial cancer survival. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Zhang")</code></pre>


<h3>Format</h3>

<p>A data frame with 20 observations on the following 10 variables.
</p>

<dl>
<dt><code>Study</code></dt><dd><p>a factor with 16 levels to indicate the study</p>
</dd>
<dt><code>PrimaryAuthor</code></dt><dd><p>a factor indicating the first author's last name</p>
</dd>
<dt><code>year</code></dt><dd><p>a numeric vector indicating the publication year</p>
</dd>
<dt><code>Country</code></dt><dd><p>a factor indicating the source country of the study data</p>
</dd>
<dt><code>Disease</code></dt><dd><p>a factor indicating the studied disease. Possible levels are <code>EC</code> (endometrial cancer), <code>EEC</code> (endometrioid endometrial cancer) and <code>UPSC</code> (uterine papillary serous carcinoma)</p>
</dd>
<dt><code>N</code></dt><dd><p>a numeric vector describing the total sample size of each study</p>
</dd>
<dt><code>HR</code></dt><dd><p>a numeric vector describing the estimated hazard ratio of each study</p>
</dd>
<dt><code>HR.025</code></dt><dd><p>a numeric vector describing the lower boundary of the 95% confidence interval of <code>HR</code></p>
</dd>
<dt><code>HR.975</code></dt><dd><p>a numeric vector describing the upper boundary of the 95% confidence interval of <code>HR</code></p>
</dd>
<dt><code>outcome</code></dt><dd><p>a factor indicating the studied outcome. Possible levels are <code>OS</code> (overall survival) and <code>PFS</code> (progression-free survival)</p>
</dd>
</dl>



<h3>Details</h3>

<p>Eligible studies were identified by searching the PubMed and EMBASE databases for publications from 1979 to May 2014. Data were collected from studies comparing overall survival or progression-free survival in patients with elevated levels of human epidermal growth factor receptor 2 with those in patients with lower levels. 
</p>


<h3>Source</h3>

<p>Zhang Y, Zhao D, Gong C, Zhang F, He J, Zhang W, et al. Prognostic role of hormone receptors in endometrial cancer: a systematic review and meta-analysis. World J Surg Oncol. 2015 Jun 25;13:208. 
</p>


<h3>References</h3>

<p>Riley RD, Jackson D, Salanti G, Burke DL, Price M, Kirkham J, et al. Multivariate and network meta-analysis of multiple outcomes and multiple treatments: rationale, concepts, and examples. BMJ. 2017 13;358:j3932. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Zhang)

# Display the hazard ratios for overall survival in a forest plot
ds &lt;- subset(Zhang, outcome=="OS")
with(ds, forest(theta = HR, theta.ci.lb = HR.025, theta.ci.ub = HR.975, 
                theta.slab = Study, xlab = "Hazard ratio of HER2 versus OS", refline = 1))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

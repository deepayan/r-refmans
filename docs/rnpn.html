<!DOCTYPE html><html><head><title>Help for package rnpn</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rnpn}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rnpn-package'><p>Interface to the National Phenology Network API</p></a></li>
<li><a href='#check_geo_service'><p>Runs a basic check to see if</p>
a valid response is returned by
Geoserver and returns TRUE/FALSE</a></li>
<li><a href='#check_service'><p>Runs a basic check to see if</p>
a valid response is returned by
the NPN Portal service
and returns TRUE/FALSE</a></li>
<li><a href='#get_additional_rasters'><p>Get Additional Layers</p></a></li>
<li><a href='#npn_abundance_categories'><p>Get Abundance Categories</p></a></li>
<li><a href='#npn_allobssp'><p>This function is defunct.</p></a></li>
<li><a href='#npn_check_point_cached'><p>Check Point Cached</p></a></li>
<li><a href='#npn_datasets'><p>Get Datasets</p></a></li>
<li><a href='#npn_download_geospatial'><p>Download Geospatial Data</p></a></li>
<li><a href='#npn_download_individual_phenometrics'><p>Download Individual Phenometrics</p></a></li>
<li><a href='#npn_download_magnitude_phenometrics'><p>Download Magnitude Phenometrics</p></a></li>
<li><a href='#npn_download_site_phenometrics'><p>Download Site Phenometrics</p></a></li>
<li><a href='#npn_download_status_data'><p>Download Status and Intensity Records</p></a></li>
<li><a href='#npn_get_agdd_point_data'><p>Get AGDD Point Value</p></a></li>
<li><a href='#npn_get_common_query_vars'><p>Get Common Query String Variables</p></a></li>
<li><a href='#npn_get_custom_agdd_raster'><p>Get Custom AGDD Raster Map</p></a></li>
<li><a href='#npn_get_custom_agdd_time_series'><p>Get Custom AGDD Time Series</p></a></li>
<li><a href='#npn_get_data'><p>Download NPN Data</p></a></li>
<li><a href='#npn_get_data_by_year'><p>Get Data By Year</p></a></li>
<li><a href='#npn_get_download_url'><p>Generate Download URL</p></a></li>
<li><a href='#npn_get_layer_details'><p>Get Geospatial Data Layer Details</p></a></li>
<li><a href='#npn_get_phenophases_for_taxon'><p>Get Phenophases for Taxon</p></a></li>
<li><a href='#npn_get_point_data'><p>Get Point Data Value</p></a></li>
<li><a href='#npn_groups'><p>Get Partner Groups</p></a></li>
<li><a href='#npn_indsatstations'><p>This function is defunct.</p></a></li>
<li><a href='#npn_indspatstations'><p>This function is defunct.</p></a></li>
<li><a href='#npn_lookup_names'><p>Species Name Lookup</p></a></li>
<li><a href='#npn_merge_geo_data'><p>Merge Geo Data</p></a></li>
<li><a href='#npn_obsspbyday'><p>This function is defunct.</p></a></li>
<li><a href='#npn_pheno_classes'><p>Get Pheno Classes</p></a></li>
<li><a href='#npn_phenophase_definitions'><p>Get Phenophase Definitions</p></a></li>
<li><a href='#npn_phenophase_details'><p>Get Phenophase Details</p></a></li>
<li><a href='#npn_phenophases'><p>Get Phenophases</p></a></li>
<li><a href='#npn_phenophases_by_species'><p>Get Phenophase for Species</p></a></li>
<li><a href='#npn_set_env'><p>Set Environment</p></a></li>
<li><a href='#npn_species'><p>Get Species</p></a></li>
<li><a href='#npn_species_types'><p>Get Species Types</p></a></li>
<li><a href='#npn_stations'><p>Get Station Data</p></a></li>
<li><a href='#npn_stations_by_location'><p>Get station data based on a WKT defined geography.</p></a></li>
<li><a href='#npn_stations_by_state'><p>Get number of stations by state.</p></a></li>
<li><a href='#npn_stations_with_spp'><p>Get Stations with Species</p></a></li>
<li><a href='#npn_stationsbystate'><p>This function renamed to be consistent with other package function names.</p></a></li>
<li><a href='#npn_stationswithspp'><p>This function renamed to be consistent with other package function names.</p></a></li>
<li><a href='#resolve_six_raster'><p>Resolve SIX Raster</p></a></li>
<li><a href='#rnpn-defunct'><p>Defunct functions in rnpn</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interface to the National 'Phenology' Network 'API'</td>
</tr>
<tr>
<td>Description:</td>
<td>Programmatic interface to the
    Web Service methods provided by the National 'Phenology' Network
    (<a href="https://usanpn.org/">https://usanpn.org/</a>), which includes data on various life history
    events that occur at specific times.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.8.0</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr (&ge; 1.1.0), jsonlite (&ge; 0.9.19), data.table (&ge; 1.9.6),
sp (&ge; 1.1-0), tibble, curl, raster, plyr, XML, magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, testthat, covr, knitr, markdown, rmarkdown,
RColorBrewer, vcr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/usa-npn/rnpn">https://github.com/usa-npn/rnpn</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/usa-npn/rnpn/issues">https://github.com/usa-npn/rnpn/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-08 21:54:39 UTC; jeff</td>
</tr>
<tr>
<td>Author:</td>
<td>Jeff Switzer [aut, cre],
  Scott Chamberlain [aut],
  Lee Marsh [aut],
  Kevin Wong [aut],
  David LeBauer [ctb],
  Eric R Scott [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jeff Switzer &lt;jeff@usanpn.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-08 22:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='rnpn-package'>Interface to the National Phenology Network API</h2><span id='topic+rnpn-package'></span><span id='topic+rnpn'></span>

<h3>Description</h3>

<p>This package allows for easy access to the National Phenology Network's Data API. To learn more, take a look at the vignettes.
</p>

<hr>
<h2 id='check_geo_service'>Runs a basic check to see if
a valid response is returned by
Geoserver and returns TRUE/FALSE</h2><span id='topic+check_geo_service'></span>

<h3>Description</h3>

<p>Used in unit tests to determine if
tests should be run
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_geo_service()
</code></pre>

<hr>
<h2 id='check_service'>Runs a basic check to see if
a valid response is returned by
the NPN Portal service
and returns TRUE/FALSE</h2><span id='topic+check_service'></span>

<h3>Description</h3>

<p>Used in unit tests to determine if
tests should be run
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_service()
</code></pre>

<hr>
<h2 id='get_additional_rasters'>Get Additional Layers</h2><span id='topic+get_additional_rasters'></span>

<h3>Description</h3>

<p>Utility function to easily take arbitrary layer name parameters as a data frame and
return the raster data from NPN Geospatial data services.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_additional_rasters(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_additional_rasters_+3A_data">data</code></td>
<td>
<p>Data frame with first column named 'name' and containing the names of the layer for which to retrieve data and the second column
named 'param' and containing string representations of the time/elevation subset parameter to pass.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame containing the raster objects related to the specified layers.
</p>

<hr>
<h2 id='npn_abundance_categories'>Get Abundance Categories</h2><span id='topic+npn_abundance_categories'></span>

<h3>Description</h3>

<p>Gets data on all abundance/intensity categories and includes a data frame of
applicable abundance/intensity values for each category
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_abundance_categories(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_abundance_categories_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing all abundance/intensity categories and their corresponding values.
</p>

<hr>
<h2 id='npn_allobssp'>This function is defunct.</h2><span id='topic+npn_allobssp'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_allobssp(...)
</code></pre>

<hr>
<h2 id='npn_check_point_cached'>Check Point Cached</h2><span id='topic+npn_check_point_cached'></span>

<h3>Description</h3>

<p>Checks in the global variable &quot;point values&quot; to see if the exact data point being requested
has already been asked for and returns the value if it's already saved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_check_point_cached(layer, lat, long, date)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_check_point_cached_+3A_layer">layer</code></td>
<td>
<p>The name of the queried layer.</p>
</td></tr>
<tr><td><code id="npn_check_point_cached_+3A_lat">lat</code></td>
<td>
<p>The latitude of the queried point.</p>
</td></tr>
<tr><td><code id="npn_check_point_cached_+3A_long">long</code></td>
<td>
<p>The longitude of the queried point.</p>
</td></tr>
<tr><td><code id="npn_check_point_cached_+3A_date">date</code></td>
<td>
<p>The queried date.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The numeric value of the cell located at the specified coordinates and date if the value has been queried, otherwise NULL.
</p>

<hr>
<h2 id='npn_datasets'>Get Datasets</h2><span id='topic+npn_datasets'></span>

<h3>Description</h3>

<p>Returns a complete list of information about all datasets integrated into the NPN
dataset. Data can then be pulled for individual datasets using their unique IDs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_datasets(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_datasets_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame of datasets and their IDs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
npn_datasets()

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_download_geospatial'>Download Geospatial Data</h2><span id='topic+npn_download_geospatial'></span>

<h3>Description</h3>

<p>Function for directly downloading any arbitrary Geospatial layer data from the NPN Geospatial web services.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_download_geospatial(
  coverage_id,
  date,
  format = "geotiff",
  output_path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_download_geospatial_+3A_coverage_id">coverage_id</code></td>
<td>
<p>The coverage id (machine name) of the layer for which to retrieve.
Applicable values can be found via the npn_get_layer_details() function under the 'name' column.</p>
</td></tr>
<tr><td><code id="npn_download_geospatial_+3A_date">date</code></td>
<td>
<p>Specify the date param for the layer retrieved. This can be a calendar
date formatted YYYY-mm-dd or it could be a string integer representing day of year.
It can also be NULL in some cases. Which to use depends entirely on the layer being
requested. More information available from the npn_get_layer_details() function.</p>
</td></tr>
<tr><td><code id="npn_download_geospatial_+3A_format">format</code></td>
<td>
<p>The output format of the raster layer retrieved. Defaults to GeoTIFF.</p>
</td></tr>
<tr><td><code id="npn_download_geospatial_+3A_output_path">output_path</code></td>
<td>
<p>Optional value. When set, the raster will be piped to the file
path specified. When left unset, this function will return a raster object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Information about the layers can also be viewed at the getCapbilities page directly:
https://geoserver.usanpn.org/geoserver/wms?request=GetCapabilities
</p>


<h3>Value</h3>

<p>Raster object meeting the coverage_id, date and format parameters specified.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ras&lt;-npn_download_geospatial("si-x:30yr_avg_six_bloom","255")

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_download_individual_phenometrics'>Download Individual Phenometrics</h2><span id='topic+npn_download_individual_phenometrics'></span>

<h3>Description</h3>

<p>This function allows for a parameterized search of all individual phenometrics records in the USA-NPN database, returning all records as per the search parameters in a
data table. Data fetched from NPN services is returned as raw JSON before being channeled into a data table. Optionally results can be directed to an output file in
which case raw JSON is converted to CSV and saved to file; in that case, data is also streamed to file which allows for more easily handling of the data if the search otherwise
returns more data than can be handled at once in memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_download_individual_phenometrics(
  request_source,
  years,
  coords = NULL,
  individual_ids = NULL,
  species_ids = NULL,
  station_ids = NULL,
  species_types = NULL,
  network_ids = NULL,
  states = NULL,
  phenophase_ids = NULL,
  functional_types = NULL,
  additional_fields = NULL,
  climate_data = FALSE,
  ip_address = NULL,
  dataset_ids = NULL,
  genus_ids = NULL,
  family_ids = NULL,
  order_ids = NULL,
  class_ids = NULL,
  pheno_class_ids = NULL,
  email = NULL,
  download_path = NULL,
  six_leaf_layer = FALSE,
  six_bloom_layer = FALSE,
  agdd_layer = NULL,
  six_sub_model = NULL,
  additional_layers = NULL,
  wkt = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_download_individual_phenometrics_+3A_request_source">request_source</code></td>
<td>
<p>Required field, string. Self-identify who is making requests to the data service</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_years">years</code></td>
<td>
<p>Required field, list of strings. Specify the years to include in the search, e.g. c('2013','2014'). You must specify at least one year.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_coords">coords</code></td>
<td>
<p>List of float values, used to specify a bounding box as a search parameter, e.g. c ( lower_left_lat, lower_left_long,upper_right,lat,upper_right_long )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_individual_ids">individual_ids</code></td>
<td>
<p>Comma-separated string of unique IDs for individual plants/animal species by which to filter the data</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_species_ids">species_ids</code></td>
<td>
<p>List of unique IDs for searching based on species, e.g. c ( 3, 34, 35 )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_station_ids">station_ids</code></td>
<td>
<p>List of unique IDs for searching based on site location, e.g. c ( 5, 9, ... )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_species_types">species_types</code></td>
<td>
<p>List of unique species type names for searching based on species types, e.g. c ( &quot;Deciduous&quot;, &quot;Evergreen&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_network_ids">network_ids</code></td>
<td>
<p>List of unique IDs for searching based on partner group/network, e.g. c( 500, 300, ... )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_states">states</code></td>
<td>
<p>List of US postal states to be used as search params, e.g. c ( &quot;AZ&quot;, &quot;IL&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_phenophase_ids">phenophase_ids</code></td>
<td>
<p>List of unique IDs for searching based on phenophase, e.g. c ( 323, 324, ... )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_functional_types">functional_types</code></td>
<td>
<p>List of unique functional type names, e.g. c ( &quot;Birds&quot;  )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_additional_fields">additional_fields</code></td>
<td>
<p>List of additional fields to be included in the search results, e.g. c ( &quot;Station_Name&quot;, &quot;Plant_Nickname&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_climate_data">climate_data</code></td>
<td>
<p>Boolean value indicating that all climate variables should be included in additional_fields.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_ip_address">ip_address</code></td>
<td>
<p>Optional field, string. IP Address of user requesting data. Used for generating data reports</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_dataset_ids">dataset_ids</code></td>
<td>
<p>List of unique IDs for searching based on dataset, e.g. NEON or GRSM c(17,15)</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_genus_ids">genus_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_family_ids">family_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_order_ids">order_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic order, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids or family_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_class_ids">class_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic class, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids, family_ids or order_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_pheno_class_ids">pheno_class_ids</code></td>
<td>
<p>List of unique IDs for searching based on pheno class. Note that if
both pheno_class_id and phenophase_id are provided in the same request, phenophase_id will be ignored.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_email">email</code></td>
<td>
<p>Optional field, string. Email of user requesting data.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_download_path">download_path</code></td>
<td>
<p>Optional file path to which search results should be re-directed for later use.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_six_leaf_layer">six_leaf_layer</code></td>
<td>
<p>Boolean value when set to true will attempt to resolve the date of the observation to a spring index, leafing
value for the location at which the observations was taken</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_six_bloom_layer">six_bloom_layer</code></td>
<td>
<p>Boolean value when set to true will attempt to resolve the date of the observation to a spring index, bloom
value for the location at which the observations was taken</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_agdd_layer">agdd_layer</code></td>
<td>
<p>numeric value, accepts 32 or 50. When set, the results will attempt to resolve the date of the observation to
an AGDD value for the location; the 32 or 50 represents the base value of the AGDD value returned. All AGDD values are based on
a January 1st start date of the year in which the observation was taken.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_six_sub_model">six_sub_model</code></td>
<td>
<p>Affects the results of the six layers returned. Can be used to specify one of three submodels used to calculate
the spring index values. Thus setting this field will change the results of six_leaf_layer and six_bloom_layer. Valid values include:
'lilac','zabelli' and 'arnoldred'. For more information see the NPN's Spring Index Maps documentation: https://www.usanpn.org/data/spring_indices</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_additional_layers">additional_layers</code></td>
<td>
<p>Data frame with first column named 'name' and containing the names of the layer for which to retrieve data
and the second column named 'param' and containing string representations of the time/elevation subset parameter to use.
This variable can be used to append additional geospatial layer data fields to the results, such that the date of observation
in each row will resolve to a value from the specified layers, given the location of the observation.</p>
</td></tr>
<tr><td><code id="npn_download_individual_phenometrics_+3A_wkt">wkt</code></td>
<td>
<p>WKT geometry by which filter data. Specifying a valid WKT within the contiguous US will
filter data based on the locations which fall within that WKT.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This data type includes estimates of the dates of phenophase onsets and ends for individual plants and for animal species at a site during a user-defined time
period. Each row represents a series of consecutive &quot;yes&quot; phenophase status records, beginning with the date of the first &quot;yes&quot; and ending with the date of
the last &quot;yes&quot;, submitted for a given phenophase on a given organism. Note that more than one consecutive series for an organism may be present within a single
growing season or year.
</p>
<p>Most search parameters are optional, however, users are encouraged to supply additional search parameters to get results that are easier to work with. Request_Source
must be provided. This is a self-identifying string, telling the service who is asking for the data or from where the request is being made. It is recommended
you provide your name or organization name. If the call to this function is acting as an intermediary for a client, then you may also optionally provide
a user email and/or IP address for usage data reporting later.
</p>
<p>Additional fields provides the ability to specify additional, non-critical fields to include in the search results. A complete list of additional fields can be found in
the NPN service's companion documentation
https://docs.google.com/document/d/1yNjupricKOAXn6tY1sI7-EwkcfwdGUZ7lxYv7fcPjO8/edit#heading=h.7yy4i3278v7u
Metadata on all fields can be found in the following Excel sheet:
http://www.usanpn.org/files/metadata/individual_phenometrics_datafield_descriptions.xlsx
</p>


<h3>Value</h3>

<p>Data table of all status records returned as per the search parameters. Null if output directed to file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#Download all saguaro data for 2013 and 2014
npn_download_individual_phenometrics(
  request_source="Your Name or Org Here",
  years=c('2013','2014'),
  species_id=c(210),
  download_path="saguaro_data_2013_2014.json"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_download_magnitude_phenometrics'>Download Magnitude Phenometrics</h2><span id='topic+npn_download_magnitude_phenometrics'></span>

<h3>Description</h3>

<p>This function allows for a parameterized search of all magnitude phenometrics in the USA-NPN database, returning all records as per the search results in a
data table. Data fetched from NPN services is returned as raw JSON before being channeled into a data table. Optionally results can be directed to an output file in
which case raw JSON is saved to file; in that case, data is also streamed to file which allows for more easily handling of the data if the search otherwise
returns more data than can be handled at once in memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_download_magnitude_phenometrics(
  request_source,
  years,
  period_frequency = "30",
  coords = NULL,
  species_ids = NULL,
  genus_ids = NULL,
  family_ids = NULL,
  order_ids = NULL,
  class_ids = NULL,
  pheno_class_ids = NULL,
  station_ids = NULL,
  species_types = NULL,
  network_ids = NULL,
  states = NULL,
  phenophase_ids = NULL,
  functional_types = NULL,
  additional_fields = NULL,
  climate_data = FALSE,
  ip_address = NULL,
  dataset_ids = NULL,
  email = NULL,
  download_path = NULL,
  taxonomy_aggregate = NULL,
  pheno_class_aggregate = NULL,
  wkt = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_request_source">request_source</code></td>
<td>
<p>Required field, string. Self-identify who is making requests to the data service</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_years">years</code></td>
<td>
<p>Required field, list of strings. Specify the years to include in the search, e.g. c('2013','2014'). You must specify at least one year.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_period_frequency">period_frequency</code></td>
<td>
<p>Required field, integer. The integer value specifies the number of days by which to delineate the period of time specified by the
start_date and end_date, i.e. a value of 7 will delineate the period of time weekly. Any remainder days are grouped into the final delineation.
This parameter, while typically an int, also allows for a &quot;special&quot; string value, &quot;months&quot; to be passed in. Specifying this parameter as &quot;months&quot; will
delineate the period of time by the calendar months regardless of how many days are in each month. Defaults to 30 if omitted.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_coords">coords</code></td>
<td>
<p>List of float values, used to specify a bounding box as a search parameter, e.g. c ( lower_left_lat, lower_left_long,upper_right,lat,upper_right_long )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_species_ids">species_ids</code></td>
<td>
<p>List of unique IDs for searching based on species, e.g. c ( 3, 34, 35 )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_genus_ids">genus_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_family_ids">family_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_order_ids">order_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic order, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids or family_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_class_ids">class_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic class, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids, family_ids or order_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_pheno_class_ids">pheno_class_ids</code></td>
<td>
<p>List of unique IDs for searching based on pheno class id, e.g. c (1, 5, 13)</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_station_ids">station_ids</code></td>
<td>
<p>List of unique IDs for searching based on site location, e.g. c ( 5, 9, ... )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_species_types">species_types</code></td>
<td>
<p>List of unique species type names for searching based on species types, e.g. c ( &quot;Deciduous&quot;, &quot;Evergreen&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_network_ids">network_ids</code></td>
<td>
<p>List of unique IDs for searching based on partner group/network, e.g. ( 500, 300, ... )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_states">states</code></td>
<td>
<p>List of US postal states to be used as search params, e.g. c ( &quot;AZ&quot;, &quot;IL&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_phenophase_ids">phenophase_ids</code></td>
<td>
<p>List of unique IDs for searching based on phenophase, e.g. c ( 323, 324, ... )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_functional_types">functional_types</code></td>
<td>
<p>List of unique functional type names, e.g. c ( &quot;Birds&quot;  )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_additional_fields">additional_fields</code></td>
<td>
<p>List of additional fields to be included in the search results, e.g. ( &quot;Station_Name&quot;, &quot;Plant_Nickname&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_climate_data">climate_data</code></td>
<td>
<p>Boolean value indicating that all climate variables should be included in additional_fields</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_ip_address">ip_address</code></td>
<td>
<p>Optional field, string. IP Address of user requesting data. Used for generating data reports</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_dataset_ids">dataset_ids</code></td>
<td>
<p>List of unique IDs for searching based on dataset, e.g. NEON or GRSM c(17,15)</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_email">email</code></td>
<td>
<p>Optional field, string. Email of user requesting data.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_download_path">download_path</code></td>
<td>
<p>Optional file path to which search results should be re-directed for later use.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_taxonomy_aggregate">taxonomy_aggregate</code></td>
<td>
<p>Boolean value indicating whether to aggregate data by a taxonomic order higher than species. This will be based on the values set in family_ids, order_ids, or class_ids. If one of those three fields are not set, then this value is ignored.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_pheno_class_aggregate">pheno_class_aggregate</code></td>
<td>
<p>Boolean value indicating whether to aggregate data by the pheno class ids as per the pheno_class_ids parameter. If the pheno_class_ids value is not set, then this parameter is ignored. This can be used in conjunction with taxonomy_aggregate and higher taxonomic level data filtering.</p>
</td></tr>
<tr><td><code id="npn_download_magnitude_phenometrics_+3A_wkt">wkt</code></td>
<td>
<p>WKT geometry by which filter data. Specifying a valid WKT within the contiguous US will
filter data based on the locations which fall within that WKT.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This data type includes various measures of the extent to which a phenophase for a plant or animal species is expressed across multiple individuals and sites
over a user-selected set of time intervals. Each row provides up to eight calculated measures summarized weekly, bi-weekly, monthly or over a custom time interval.
These measures include approaches to evaluate the shape of an annual activity curve, including the total number of &quot;yes&quot; records and the proportion of &quot;yes&quot;
records relative to the total number of status records over the course of a calendar year for a region of interest. They also include several approaches for
standardizing animal abundances by observer effort over time and space (e.g. mean active bird individuals per hour). See the Metadata window for more information.
</p>
<p>Most search parameters are optional, however, failing to provide even a single search parameter will return all results in the database. Request_Source
must be provided. This is a self-identifying string, telling the service who is asking for the data or from where the request is being made. It is recommended
you provide your name or organization name. If the call to this function is acting as an intermediary for a client, then you may also optionally provide
a user email and/or IP address for usage data reporting later.
</p>
<p>Additional fields provides the ability to specify more, non-critical fields to include in the search results. A complete list of additional fields can be found in
the NPN service's companion documentation
https://docs.google.com/document/d/1yNjupricKOAXn6tY1sI7-EwkcfwdGUZ7lxYv7fcPjO8/edit#heading=h.df3zspopwq98
Metadata on all fields can be found in the following Excel sheet:
http://www.usanpn.org/files/metadata/magnitude_phenometrics_datafield_descriptions.xlsx
</p>


<h3>Value</h3>

<p>Data table of all status records returned as per the search parameters. Null if output directed to file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#Download book all saguaro data for 2013
npn_download_magnitude_phenometrics(
  request_source="Your Name or Org Here",
  years=c(2013),
  species_id=c(210),
  download_path="saguaro_data_2013.json"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_download_site_phenometrics'>Download Site Phenometrics</h2><span id='topic+npn_download_site_phenometrics'></span>

<h3>Description</h3>

<p>This function allows for a parameterized search of all site phenometrics records in the USA-NPN database, returning all records as per the search parameters in a
data table. Data fetched from NPN services is returned as raw JSON before being channeled into a data table. Optionally results can be directed to an output file in
which case raw JSON is converted to CSV and saved to file; in that case, data is also streamed to file which allows for more easily handling of the data if the search otherwise
returns more data than can be handled at once in memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_download_site_phenometrics(
  request_source,
  years,
  num_days_quality_filter = "30",
  coords = NULL,
  species_ids = NULL,
  genus_ids = NULL,
  family_ids = NULL,
  order_ids = NULL,
  class_ids = NULL,
  pheno_class_ids = NULL,
  station_ids = NULL,
  species_types = NULL,
  network_ids = NULL,
  states = NULL,
  phenophase_ids = NULL,
  functional_types = NULL,
  additional_fields = NULL,
  climate_data = FALSE,
  ip_address = NULL,
  dataset_ids = NULL,
  email = NULL,
  download_path = NULL,
  six_leaf_layer = FALSE,
  six_bloom_layer = FALSE,
  agdd_layer = NULL,
  six_sub_model = NULL,
  additional_layers = NULL,
  taxonomy_aggregate = NULL,
  pheno_class_aggregate = NULL,
  wkt = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_download_site_phenometrics_+3A_request_source">request_source</code></td>
<td>
<p>Required field, string. Self-identify who is making requests to the data service</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_years">years</code></td>
<td>
<p>Required field, list of strings. Specify the years to include in the search, e.g. c('2013','2014'). You must specify at least one year.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_num_days_quality_filter">num_days_quality_filter</code></td>
<td>
<p>Required field, defaults to 30. The integer value sets the upper limit on the number of days difference between the
first Y value and the previous N value for each individual to be included in the data aggregation.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_coords">coords</code></td>
<td>
<p>List of float values, used to specify a bounding box as a search parameter, e.g. c ( lower_left_lat, lower_left_long,upper_right,lat,upper_right_long )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_species_ids">species_ids</code></td>
<td>
<p>List of unique IDs for searching based on species, e.g. c ( 3, 34, 35 )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_genus_ids">genus_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_family_ids">family_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_order_ids">order_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic order, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids or family_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_class_ids">class_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic class, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids, family_ids or order_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_pheno_class_ids">pheno_class_ids</code></td>
<td>
<p>List of unique IDs for searching based on pheno class id, e.g. c (1, 5, 13)</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_station_ids">station_ids</code></td>
<td>
<p>List of unique IDs for searching based on site location, e.g. c ( 5, 9, ... )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_species_types">species_types</code></td>
<td>
<p>List of unique species type names for searching based on species types, e.g. c ( &quot;Deciduous&quot;, &quot;Evergreen&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_network_ids">network_ids</code></td>
<td>
<p>List of unique IDs for searching based on partner group/network, e.g. ( 500, 300, ... )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_states">states</code></td>
<td>
<p>List of US postal states to be used as search params, e.g. c ( &quot;AZ&quot;, &quot;IL&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_phenophase_ids">phenophase_ids</code></td>
<td>
<p>List of unique IDs for searching based on phenophase, e.g. c ( 323, 324, ... )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_functional_types">functional_types</code></td>
<td>
<p>List of unique functional type names, e.g. c ( &quot;Birds&quot;  )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_additional_fields">additional_fields</code></td>
<td>
<p>List of additional fields to be included in the search results, e.g. ( &quot;Station_Name&quot;, &quot;Plant_Nickname&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_climate_data">climate_data</code></td>
<td>
<p>Boolean value indicating that all climate variables should be included in additional_fields</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_ip_address">ip_address</code></td>
<td>
<p>Optional field, string. IP Address of user requesting data. Used for generating data reports</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_dataset_ids">dataset_ids</code></td>
<td>
<p>List of unique IDs for searching based on dataset, e.g. NEON or GRSM c(17,15)</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_email">email</code></td>
<td>
<p>Optional field, string. Email of user requesting data.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_download_path">download_path</code></td>
<td>
<p>Optional file path to which search results should be re-directed for later use.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_six_leaf_layer">six_leaf_layer</code></td>
<td>
<p>Boolean value when set to true will attempt to resolve the date of the observation to a spring index, leafing
value for the location at which the observations was taken</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_six_bloom_layer">six_bloom_layer</code></td>
<td>
<p>Boolean value when set to true will attempt to resolve the date of the observation to a spring index, bloom
value for the location at which the observations was taken</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_agdd_layer">agdd_layer</code></td>
<td>
<p>numeric value, accepts 32 or 50. When set, the results will attempt to resolve the date of the observation to
an AGDD value for the location; the 32 or 50 represents the base value of the AGDD value returned. All AGDD values are based on
a January 1st start date of the year in which the observation was taken.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_six_sub_model">six_sub_model</code></td>
<td>
<p>Affects the results of the six layers returned. Can be used to specify one of three submodels used to calculate
the spring index values. Thus setting this field will change the results of six_leaf_layer and six_bloom_layer. Valid values include:
'lilac','zabelli' and 'arnoldred'. For more information see the NPN's Spring Index Maps documentation: https://www.usanpn.org/data/spring_indices</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_additional_layers">additional_layers</code></td>
<td>
<p>Data frame with first column named 'name' and containing the names of the layer for which to retrieve data
and the second column named 'param' and containing string representations of the time/elevation subset parameter to use.
This variable can be used to append additional geospatial layer data fields to the results, such that the date of observation
in each row will resolve to a value from the specified layers, given the location of the observation.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_taxonomy_aggregate">taxonomy_aggregate</code></td>
<td>
<p>Boolean value indicating whether to aggregate data by a taxonomic order higher than species. This will be based on the values set in family_ids, order_ids, or class_ids. If one of those three fields are not set, then this value is ignored.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_pheno_class_aggregate">pheno_class_aggregate</code></td>
<td>
<p>Boolean value indicating whether to aggregate data by the pheno class ids as per the pheno_class_ids parameter. If the pheno_class_ids value is not set, then this parameter is ignored. This can be used in conjunction with taxonomy_aggregate and higher taxonomic level data filtering.</p>
</td></tr>
<tr><td><code id="npn_download_site_phenometrics_+3A_wkt">wkt</code></td>
<td>
<p>WKT geometry by which filter data. Specifying a valid WKT within the contiguous US will
filter data based on the locations which fall within that WKT.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This data type includes estimates of the overall onset and end of phenophase activity for plant and animal species at a site over a user-defined time period.
Each row provides the first and last occurrences of a given phenophase on a given species, beginning with the date of the first observed &quot;yes&quot; phenophase status
record and ending with the date of the last observed &quot;yes&quot; record of the user-defined time period. For plant species where multiple individuals are monitored
at the site, the date provided for &quot;first yes&quot; is the mean of the first &quot;yes&quot; records for each individual plant at the site, and the date for &quot;last yes&quot; is
the mean of the last &quot;yes&quot; records. Note that a phenophase may have ended and restarted during the overall period of its activity at the site.
These more fine-scale patterns can be explored in the individual phenometrics data.
</p>
<p>Most search parameters are optional, however, users are encouraged to supply additional search parameters to get results that are easier to work with. Request_Source
must be provided. This is a self-identifying string, telling the service who is asking for the data or from where the request is being made. It is recommended
you provide your name or organization name. If the call to this function is acting as an intermediary for a client, then you may also optionally provide
a user email and/or IP address for usage data reporting later.
</p>
<p>Additional fields provides the ability to specify additional, non-critical fields to include in the search results. A complete list of additional fields can be found in
the NPN service's companion documentation
https://docs.google.com/document/d/1yNjupricKOAXn6tY1sI7-EwkcfwdGUZ7lxYv7fcPjO8/edit#heading=h.ueaexz9bczti
Metadata on all fields can be found in the following Excel sheet:
http://www.usanpn.org/files/metadata/site_phenometrics_datafield_descriptions.xlsx
</p>


<h3>Value</h3>

<p>Data table of all status records returned as per the search parameters. Null if output directed to file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#Download all saguaro data for 2013 and 2014
npn_download_site_phenometrics(
  request_source="Your Name or Org Here",
  years=c('2013','2014'),
  species_id=c(210),
  download_path="saguaro_data_2013_2014.json"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_download_status_data'>Download Status and Intensity Records</h2><span id='topic+npn_download_status_data'></span>

<h3>Description</h3>

<p>This function allows for a parameterized search of all status records in the USA-NPN database, returning all records as per the search parameters in a data
table. Data fetched from NPN services is returned as raw JSON before being channeled into a data table. Optionally results can be directed to an output file in
which case the raw JSON is converted to CSV and saved to file; in that case, data is also streamed to file which allows for more easily handling of the data if the search otherwise
returns more data than can be handled at once in memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_download_status_data(
  request_source,
  years,
  coords = NULL,
  species_ids = NULL,
  genus_ids = NULL,
  family_ids = NULL,
  order_ids = NULL,
  class_ids = NULL,
  station_ids = NULL,
  species_types = NULL,
  network_ids = NULL,
  states = NULL,
  phenophase_ids = NULL,
  functional_types = NULL,
  additional_fields = NULL,
  climate_data = FALSE,
  ip_address = NULL,
  dataset_ids = NULL,
  email = NULL,
  download_path = NULL,
  six_leaf_layer = FALSE,
  six_bloom_layer = FALSE,
  agdd_layer = NULL,
  six_sub_model = NULL,
  additional_layers = NULL,
  pheno_class_ids = NULL,
  wkt = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_download_status_data_+3A_request_source">request_source</code></td>
<td>
<p>Required field, string. Self-identify who is making requests to the data service</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_years">years</code></td>
<td>
<p>Required field, list of strings. Specify the years to include in the search, e.g. c('2013','2014'). You must specify at least one year.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_coords">coords</code></td>
<td>
<p>List of float values, used to specify a bounding box as a search parameter, e.g. c ( lower_left_lat, lower_left_long,upper_right,lat,upper_right_long )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_species_ids">species_ids</code></td>
<td>
<p>List of unique IDs for searching based on species, e.g. c ( 3, 34, 35 )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_genus_ids">genus_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_family_ids">family_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic family, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids is also set.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_order_ids">order_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic order, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids or family_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_class_ids">class_ids</code></td>
<td>
<p>List of unique IDs for searching based on taxonomic class, e.g. c ( 3, 34, 35 ) . This parameter will take precedence if species_ids, family_ids or order_ids are also set.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_station_ids">station_ids</code></td>
<td>
<p>List of unique IDs for searching based on site location, e.g. c ( 5, 9, ... )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_species_types">species_types</code></td>
<td>
<p>List of unique species type names for searching based on species types, e.g. c ( &quot;Deciduous&quot;, &quot;Evergreen&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_network_ids">network_ids</code></td>
<td>
<p>List of unique IDs for searching based on partner group/network, e.g. ( 500, 300, ... )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_states">states</code></td>
<td>
<p>List of US postal states to be used as search params, e.g. c ( &quot;AZ&quot;, &quot;IL&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_phenophase_ids">phenophase_ids</code></td>
<td>
<p>List of unique IDs for searching based on phenophase, e.g. c ( 323, 324, ... )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_functional_types">functional_types</code></td>
<td>
<p>List of unique functional type names, e.g. c ( &quot;Birds&quot;  )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_additional_fields">additional_fields</code></td>
<td>
<p>List of additional fields to be included in the search results, e.g. c( &quot;Station_Name&quot;, &quot;Plant_Nickname&quot; )</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_climate_data">climate_data</code></td>
<td>
<p>Boolean value indicating that all climate variables should be included in additional_fields</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_ip_address">ip_address</code></td>
<td>
<p>Optional field, string. IP Address of user requesting data. Used for generating data reports</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_dataset_ids">dataset_ids</code></td>
<td>
<p>List of unique IDs for searching based on dataset, e.g. NEON or GRSM c(17,15)</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_email">email</code></td>
<td>
<p>Optional field, string. Email of user requesting data.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_download_path">download_path</code></td>
<td>
<p>Optional file path to which search results should be re-directed for later use.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_six_leaf_layer">six_leaf_layer</code></td>
<td>
<p>Boolean value when set to true will attempt to resolve the date of the observation to a spring index, leafing
value for the location at which the observations was taken</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_six_bloom_layer">six_bloom_layer</code></td>
<td>
<p>Boolean value when set to true will attempt to resolve the date of the observation to a spring index, bloom
value for the location at which the observations was taken</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_agdd_layer">agdd_layer</code></td>
<td>
<p>numeric value, accepts 32 or 50. When set, the results will attempt to resolve the date of the observation to
an AGDD value for the location; the 32 or 50 represents the base value of the AGDD value returned. All AGDD values are based on
a January 1st start date of the year in which the observation was taken.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_six_sub_model">six_sub_model</code></td>
<td>
<p>Affects the results of the six layers returned. Can be used to specify one of three submodels used to calculate
the spring index values. Thus setting this field will change the results of six_leaf_layer and six_bloom_layer. Valid values include:
'lilac','zabelli' and 'arnoldred'. For more information see the NPN's Spring Index Maps documentation: https://www.usanpn.org/data/spring_indices</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_additional_layers">additional_layers</code></td>
<td>
<p>Data frame with first column named 'name' and containing the names of the layer for which to retrieve data
and the second column named 'param' and containing string representations of the time/elevation subset parameter to use.
This variable can be used to append additional geospatial layer data fields to the results, such that the date of observation
in each row will resolve to a value from the specified layers, given the location of the observation.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_pheno_class_ids">pheno_class_ids</code></td>
<td>
<p>List of unique IDs for searching based on pheno class. Note that if
both pheno_class_id and phenophase_id are provided in the same request, phenophase_id will be ignored.</p>
</td></tr>
<tr><td><code id="npn_download_status_data_+3A_wkt">wkt</code></td>
<td>
<p>WKT geometry by which filter data. Specifying a valid WKT within the contiguous US will
filter data based on the locations which fall within that WKT.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most search parameters are optional, however, users are encouraged to supply additional search parameters to get results that are easier to work with. Request_Source
must be provided. This is a self-identifying string, telling the service who is asking for the data or from where the request is being made. It is recommended
you provide your name or organization name. If the call to this function is acting as an intermediary for a client, then you may also optionally provide
a user email and/or IP address for usage data reporting later.
</p>
<p>Additional fields provides the ability to specify more, non-critical fields to include in the search results. A complete list of additional fields can be found in
the NPN service's companion documentation
https://docs.google.com/document/d/1yNjupricKOAXn6tY1sI7-EwkcfwdGUZ7lxYv7fcPjO8/edit#heading=h.w0nctgedhaop
Metadata on all fields can be found in the following Excel sheet:
http://www.usanpn.org/files/metadata/status_intensity_datafield_descriptions.xlsx
</p>


<h3>Value</h3>

<p>Data table of all status records returned as per the search parameters. Null if output directed to file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#Download all saguaro data for 2016
npn_download_status_data(
  request_source="Your Name or Org Here",
  years=c(2016),
  species_id=c(210),
  download_path="saguaro_data_2016.json"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_get_agdd_point_data'>Get AGDD Point Value</h2><span id='topic+npn_get_agdd_point_data'></span>

<h3>Description</h3>

<p>This function is for requesting AGDD point values. Because the NPN has a separate
data service that can provide AGDD values which is more accurate than Geoserver
this function is ideal when requested AGDD point values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_agdd_point_data(layer, lat, long, date, store_data = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_agdd_point_data_+3A_layer">layer</code></td>
<td>
<p>The name of the queried layer.</p>
</td></tr>
<tr><td><code id="npn_get_agdd_point_data_+3A_lat">lat</code></td>
<td>
<p>The latitude of the queried point.</p>
</td></tr>
<tr><td><code id="npn_get_agdd_point_data_+3A_long">long</code></td>
<td>
<p>The longitude of the queried point.</p>
</td></tr>
<tr><td><code id="npn_get_agdd_point_data_+3A_date">date</code></td>
<td>
<p>The queried date.</p>
</td></tr>
<tr><td><code id="npn_get_agdd_point_data_+3A_store_data">store_data</code></td>
<td>
<p>Boolean value. If set TRUE then the value retrieved will be stored in a global variable named point_values for
later use</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As this function only works for AGDD point values, if it's necessary to retrieve point values
for other layers please try the npn_get_point_data function.
</p>


<h3>Value</h3>

<p>Returns a numeric value of the AGDD value at the specified lat/long/date. If no value can be retrieved, then -9999 is returned.
</p>

<hr>
<h2 id='npn_get_common_query_vars'>Get Common Query String Variables</h2><span id='topic+npn_get_common_query_vars'></span>

<h3>Description</h3>

<p>Utility function to generate a list of query string variables for requests to NPN data service points. Some parameters are basically present in all requests,
so this function helps put them together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_common_query_vars(
  request_source,
  coords = NULL,
  species_ids = NULL,
  station_ids = NULL,
  species_types = NULL,
  network_ids = NULL,
  states = NULL,
  phenophase_ids = NULL,
  functional_types = NULL,
  additional_fields = NULL,
  climate_data = FALSE,
  ip_address = NULL,
  dataset_ids = NULL,
  genus_ids = NULL,
  family_ids = NULL,
  order_ids = NULL,
  class_ids = NULL,
  pheno_class_ids = NULL,
  taxonomy_aggregate = NULL,
  pheno_class_aggregate = NULL,
  wkt = NULL,
  email = NULL
)
</code></pre>


<h3>Value</h3>

<p>List of query string variables.
</p>

<hr>
<h2 id='npn_get_custom_agdd_raster'>Get Custom AGDD Raster Map</h2><span id='topic+npn_get_custom_agdd_raster'></span>

<h3>Description</h3>

<p>This function takes a series of variables used in calculating AGDD and returns
a raster of the continental USA with each pixel representing the calculated AGDD value
based on start and end date.
This function leverages the USA-NPN geo web services.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_custom_agdd_raster(
  method,
  climate_data_source,
  temp_unit,
  start_date,
  end_date,
  base_temp,
  upper_threshold = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_custom_agdd_raster_+3A_method">method</code></td>
<td>
<p>Takes &quot;simple&quot; or &quot;double-sine&quot; as input. This is the AGDD calculation method to use for each
data point. Simple refers to simple averaging.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_raster_+3A_climate_data_source">climate_data_source</code></td>
<td>
<p>Specified the climate data set to use. Takes either &quot;PRISM&quot; or &quot;NCEP&quot; as input.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_raster_+3A_temp_unit">temp_unit</code></td>
<td>
<p>The unit of temperature to use in the calculation. Takes either &quot;Fahrenheit&quot; or &quot;Celsius&quot; as input.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_raster_+3A_start_date">start_date</code></td>
<td>
<p>Date at which to begin the AGDD calculations.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_raster_+3A_end_date">end_date</code></td>
<td>
<p>Date at which to end the AGDD calculations.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_raster_+3A_base_temp">base_temp</code></td>
<td>
<p>This is the lowest temperature for each day  for it to be considered in the calculation.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_raster_+3A_upper_threshold">upper_threshold</code></td>
<td>
<p>This parameter is only applicable for the double-sine method. This sets the highest temperature
to be considered in any given day's AGDD calculation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A raster object of each calculated AGDD numeric values based on specified time period/method/base temp/data source.
</p>

<hr>
<h2 id='npn_get_custom_agdd_time_series'>Get Custom AGDD Time Series</h2><span id='topic+npn_get_custom_agdd_time_series'></span>

<h3>Description</h3>

<p>This function takes a series of variables used in calculating AGDD and returns an AGDD time series,
based on start and end date, for a given location in the continental US.
This function leverages the USA-NPN geo web services
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_custom_agdd_time_series(
  method,
  start_date,
  end_date,
  base_temp,
  climate_data_source,
  temp_unit,
  lat,
  long,
  upper_threshold = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_method">method</code></td>
<td>
<p>Takes &quot;simple&quot; or &quot;double-sine&quot; as input. This is the AGDD calculation method to use for each
data point. Simple refers to simple averaging.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_start_date">start_date</code></td>
<td>
<p>Date at which to begin the AGDD calculations</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_end_date">end_date</code></td>
<td>
<p>Date at which to end the AGDD calculations</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_base_temp">base_temp</code></td>
<td>
<p>This is the lowest temperature for each day  for it to be considered in the calculation.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_climate_data_source">climate_data_source</code></td>
<td>
<p>Specified the climate data set to use. Takes either &quot;PRISM&quot; or &quot;NCEP&quot; as input.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_temp_unit">temp_unit</code></td>
<td>
<p>The unit of temperature to use in the calculation. Takes either &quot;Fahrenheit&quot; or &quot;Celsius&quot; as input.</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_lat">lat</code></td>
<td>
<p>The latitude of the location for which to calculate the time series</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_long">long</code></td>
<td>
<p>The longitude of the location for which to calculate the time series</p>
</td></tr>
<tr><td><code id="npn_get_custom_agdd_time_series_+3A_upper_threshold">upper_threshold</code></td>
<td>
<p>This parameter is only applicable for the double-sine method. This sets the highest temperature
to be considered in any given day's AGDD calculation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the numeric AGDD values for each day for the specified time period/location/method/base temp/data source.
</p>

<hr>
<h2 id='npn_get_data'>Download NPN Data</h2><span id='topic+npn_get_data'></span>

<h3>Description</h3>

<p>Generic utility function for querying data from the NPN data services.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_data(
  url,
  query,
  download_path = NULL,
  always_append = FALSE,
  six_leaf_raster = NULL,
  six_bloom_raster = NULL,
  agdd_layer = NULL,
  additional_layers = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_data_+3A_url">url</code></td>
<td>
<p>The URL of the service endpoint to request data from</p>
</td></tr>
<tr><td><code id="npn_get_data_+3A_download_path">download_path</code></td>
<td>
<p>String, optional file path to the file for which to output the results.</p>
</td></tr>
<tr><td><code id="npn_get_data_+3A_always_append">always_append</code></td>
<td>
<p>Boolean flag. When set to true, then we always append data to the download path. This is used
in the case of npn_get_data_by_year where we're making multiple requests to the same service and aggregating all
data results in a single file. Without this flag, otherwise, each call to the service would truncate the output file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data table of the requested data. NULL if a download_path was specified.
</p>

<hr>
<h2 id='npn_get_data_by_year'>Get Data By Year</h2><span id='topic+npn_get_data_by_year'></span>

<h3>Description</h3>

<p>Utility function to chain multiple requests to npn_get_data for requests where data should only be retrieved on an annual basis, or otherwise automatically be
delineated in some way. Results in a data table that's a combined set of the results from each request to the data service.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_data_by_year(
  endpoint,
  query,
  years,
  download_path = NULL,
  six_leaf_layer = FALSE,
  six_bloom_layer = FALSE,
  agdd_layer = NULL,
  six_sub_model = NULL,
  additional_layers = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_data_by_year_+3A_endpoint">endpoint</code></td>
<td>
<p>String, the endpoint to query.</p>
</td></tr>
<tr><td><code id="npn_get_data_by_year_+3A_query">query</code></td>
<td>
<p>Base query string to use. This includes all the user selected parameters but doesn't include start/end date which will be automatically generated and
added.</p>
</td></tr>
<tr><td><code id="npn_get_data_by_year_+3A_years">years</code></td>
<td>
<p>List of strings; the years for which to retrieve data. There will be one request to the service for each year</p>
</td></tr>
<tr><td><code id="npn_get_data_by_year_+3A_download_path">download_path</code></td>
<td>
<p>String, optional file path to the file for which to output the results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data table - a data table combining each requests results from the service.
</p>

<hr>
<h2 id='npn_get_download_url'>Generate Download URL</h2><span id='topic+npn_get_download_url'></span>

<h3>Description</h3>

<p>Utility function to create the service point URL. Base URL comes from zzz.R, endpoint is specified in the code.
This function will manually put those query parameters into the proper GET syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_download_url(endpoint)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_download_url_+3A_endpoint">endpoint</code></td>
<td>
<p>The service point, e.g. &quot;observations/getObservations.json?&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The URL, as a string.
</p>

<hr>
<h2 id='npn_get_layer_details'>Get Geospatial Data Layer Details</h2><span id='topic+npn_get_layer_details'></span>

<h3>Description</h3>

<p>This function will return information about the various data layers available via the NPN's geospatial web services.
Specifically, this function will query the NPN's GetCapabilities endpoint and parse the information on that page
about the layers. For each layer, this function will retrieve the layer name (as to be specified elsewhere programmatically),
the title (human readable), the abstract, which describes the data in the layer, the dimension name and dimension range for
specifying specific date values from the layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_layer_details()
</code></pre>


<h3>Details</h3>

<p>Information about the layers can also be viewed at the getCapbilities page directly:
https://geoserver.usanpn.org/geoserver/wms?request=GetCapabilities
</p>


<h3>Value</h3>

<p>Data frame containing all layer details as specified in function description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
layers &lt;- npn_get_layer_details()

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_get_phenophases_for_taxon'>Get Phenophases for Taxon</h2><span id='topic+npn_get_phenophases_for_taxon'></span>

<h3>Description</h3>

<p>This function gets a list of phenophases that are applicable for a provided taxonomic grouping, e.g. family, order.
Note that since a higher taxononmic order will aggregate individual species not every phenophase returned through this
function will be applicable for every species belonging to that taxonomic group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_phenophases_for_taxon(
  family_ids = NULL,
  order_ids = NULL,
  class_ids = NULL,
  genus_ids = NULL,
  date = NULL,
  return_all = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_phenophases_for_taxon_+3A_family_ids">family_ids</code></td>
<td>
<p>List of taxonomic family ids to search for.</p>
</td></tr>
<tr><td><code id="npn_get_phenophases_for_taxon_+3A_order_ids">order_ids</code></td>
<td>
<p>List of taxonomic order ids to search for.</p>
</td></tr>
<tr><td><code id="npn_get_phenophases_for_taxon_+3A_class_ids">class_ids</code></td>
<td>
<p>List of taxonomic class ids to search for</p>
</td></tr>
<tr><td><code id="npn_get_phenophases_for_taxon_+3A_genus_ids">genus_ids</code></td>
<td>
<p>List of taxonomic genus ids to search for</p>
</td></tr>
<tr><td><code id="npn_get_phenophases_for_taxon_+3A_date">date</code></td>
<td>
<p>Specify the date of interest. For this function to return anything, either this value must be set of return_all must be 1.</p>
</td></tr>
<tr><td><code id="npn_get_phenophases_for_taxon_+3A_return_all">return_all</code></td>
<td>
<p>Takes either 0 or 1 as input and defaults to 0. For this function to return anything, either this value must be set to 1
or date must be set.</p>
</td></tr>
<tr><td><code id="npn_get_phenophases_for_taxon_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>It's also important to note that phenophase definitions can change for individual species over time, so there's a need
to specify either a date of interest, or to explicitly state that the function should return all phenophases that were
ever applicable for any species belonging to the specified taxonomic group.
</p>
<p>When called, this function requires of these three parameters, exactly one of family_ids, order_ids or class_ids to be set.
</p>


<h3>Value</h3>

<p>A data frame listing phenophases in the NPN database for the specified taxon and date.
</p>

<hr>
<h2 id='npn_get_point_data'>Get Point Data Value</h2><span id='topic+npn_get_point_data'></span>

<h3>Description</h3>

<p>This function can get point data about any of the NPN geospatial layers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_get_point_data(layer, lat, long, date, store_data = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_get_point_data_+3A_layer">layer</code></td>
<td>
<p>The coverage id (machine name) of the layer for which to retrieve.
Applicable values can be found via the npn_get_layer_details() function under the 'name' column.</p>
</td></tr>
<tr><td><code id="npn_get_point_data_+3A_lat">lat</code></td>
<td>
<p>The latitude of the point.</p>
</td></tr>
<tr><td><code id="npn_get_point_data_+3A_long">long</code></td>
<td>
<p>The longitude of the point.</p>
</td></tr>
<tr><td><code id="npn_get_point_data_+3A_date">date</code></td>
<td>
<p>The date for which to get a value.</p>
</td></tr>
<tr><td><code id="npn_get_point_data_+3A_store_data">store_data</code></td>
<td>
<p>Boolean value. If set TRUE then the value retrieved will be stored in a global variable named point_values for
later use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please note that this function pulls this from the NPN's WCS service so the data may not be totally precise. If
you need precise AGDD values try using the npn_get_agdd_point_data function.
</p>


<h3>Value</h3>

<p>Returns a numeric value for any NPN geospatial data layer at the specified lat/long/date. If no value can be retrieved, then -9999 is returned.
</p>

<hr>
<h2 id='npn_groups'>Get Partner Groups</h2><span id='topic+npn_groups'></span>

<h3>Description</h3>

<p>Returns a list of all groups participating in the NPN's data collection program. These details can be used to further filter
other service endpoints' results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_groups(use_hierarchy = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_groups_+3A_use_hierarchy">use_hierarchy</code></td>
<td>
<p>Boolean indicating whether or not the list of networks should be represented in a hierarchy. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="npn_groups_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of partner groups, including ID and name.
</p>

<hr>
<h2 id='npn_indsatstations'>This function is defunct.</h2><span id='topic+npn_indsatstations'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_indsatstations(...)
</code></pre>

<hr>
<h2 id='npn_indspatstations'>This function is defunct.</h2><span id='topic+npn_indspatstations'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_indspatstations(...)
</code></pre>

<hr>
<h2 id='npn_lookup_names'>Species Name Lookup</h2><span id='topic+npn_lookup_names'></span>

<h3>Description</h3>

<p>Look up species IDs by taxonomic or common name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_lookup_names(name, type = "genus", fuzzy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_lookup_names_+3A_name">name</code></td>
<td>
<p>A scientific or common name</p>
</td></tr>
<tr><td><code id="npn_lookup_names_+3A_type">type</code></td>
<td>
<p>One of common_name, genus, or species</p>
</td></tr>
<tr><td><code id="npn_lookup_names_+3A_fuzzy">fuzzy</code></td>
<td>
<p>One of TRUE or FALSE, if FALSE, uses fuzzy search via agrep, if
FALSE, uses grep.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with species ID numbers based on the name and type parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
npn_lookup_names(name='Pinus', type='genus')
npn_lookup_names(name='pine', type='common_name')
npn_lookup_names(name='bird', type='common_name', fuzzy=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_merge_geo_data'>Merge Geo Data</h2><span id='topic+npn_merge_geo_data'></span>

<h3>Description</h3>

<p>Utility function to intersect point based observational data with Geospatial
data values. This will take a data frame and append a new column to it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_merge_geo_data(ras, col_label, df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_merge_geo_data_+3A_ras">ras</code></td>
<td>
<p>Raster containing geospatial data</p>
</td></tr>
<tr><td><code id="npn_merge_geo_data_+3A_col_label">col_label</code></td>
<td>
<p>The name of the column to append to the data frame</p>
</td></tr>
<tr><td><code id="npn_merge_geo_data_+3A_df">df</code></td>
<td>
<p>The data frame which to append the new column of geospatial point values. For
this function to work, df must contain two columns: &quot;longitude&quot;, and &quot;latitude&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The data frame, now appended with a new column for geospatial data numeric values.
</p>

<hr>
<h2 id='npn_obsspbyday'>This function is defunct.</h2><span id='topic+npn_obsspbyday'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_obsspbyday(...)
</code></pre>

<hr>
<h2 id='npn_pheno_classes'>Get Pheno Classes</h2><span id='topic+npn_pheno_classes'></span>

<h3>Description</h3>

<p>Gets information about all pheno classes, which are a higher-level order of phenophases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_pheno_classes(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_pheno_classes_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing the pheno classes in the NPN database.
</p>

<hr>
<h2 id='npn_phenophase_definitions'>Get Phenophase Definitions</h2><span id='topic+npn_phenophase_definitions'></span>

<h3>Description</h3>

<p>Retrieves a complete list of all phenophase definitions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_phenophase_definitions(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_phenophase_definitions_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing all phenophases in the NPN database and their definitions.
</p>

<hr>
<h2 id='npn_phenophase_details'>Get Phenophase Details</h2><span id='topic+npn_phenophase_details'></span>

<h3>Description</h3>

<p>Retrieves additional details for select phenophases, including full list of applicable phenophase definition IDs and phenophase
revision notes over time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_phenophase_details(ids = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_phenophase_details_+3A_ids">ids</code></td>
<td>
<p>Takes a list of phenophase ids for which to retrieve additional details.</p>
</td></tr>
<tr><td><code id="npn_phenophase_details_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing phenophases in the NPN database, including detailed information for each, filtered by the phenophase ID.
</p>

<hr>
<h2 id='npn_phenophases'>Get Phenophases</h2><span id='topic+npn_phenophases'></span>

<h3>Description</h3>

<p>Retrieves a complete list of all phenophases in the NPN database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_phenophases(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_phenophases_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing all phenophases available in the NPN database.
</p>

<hr>
<h2 id='npn_phenophases_by_species'>Get Phenophase for Species</h2><span id='topic+npn_phenophases_by_species'></span>

<h3>Description</h3>

<p>Retrieves the phenophases applicable to species for a given date. It's important to specify a date since protocols/phenophases for
any given species can change from year to year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_phenophases_by_species(species_ids, date, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_phenophases_by_species_+3A_species_ids">species_ids</code></td>
<td>
<p>List of species_ids for which to get phenophase information.</p>
</td></tr>
<tr><td><code id="npn_phenophases_by_species_+3A_date">date</code></td>
<td>
<p>The applicable date for which to retrieve phenophases for the given species.</p>
</td></tr>
<tr><td><code id="npn_phenophases_by_species_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing phenophases in the NPN database for the specified species and date.
</p>

<hr>
<h2 id='npn_set_env'>Set Environment</h2><span id='topic+npn_set_env'></span>

<h3>Description</h3>

<p>By default this library will call the NPN's production services
but in some cases it's preferable to access the development web services
so this function allows for manually setting the web service endpoints
to use DEV instead. Just pass in &quot;dev&quot; to this function to change the
endpoints to use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_set_env(env = "ops")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_set_env_+3A_env">env</code></td>
<td>
<p>The environment to use. Should be &quot;ops&quot; or &quot;dev&quot;</p>
</td></tr>
</table>

<hr>
<h2 id='npn_species'>Get Species</h2><span id='topic+npn_species'></span><span id='topic+npn_species_id'></span><span id='topic+npn_species_state'></span><span id='topic+npn_species_search'></span>

<h3>Description</h3>

<p>Returns a complete list of all species information of species represented in the NPN
database.
</p>
<p>Returns information about a species based on the NPN's unique ID for that species
</p>
<p>Search for species by state
</p>
<p>Search NPN species information using a number of different parameters, which can be used in conjunction with one another, including:
- Species on which a particular group or groups are actually collecting data
- What species were observed in a given date range
- What species were observed at a particular station or stations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_species(...)

npn_species_id(ids, ...)

npn_species_state(state, kingdom = NULL, ...)

npn_species_search(
  network = NULL,
  start_date = NULL,
  end_date = NULL,
  station_id = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_species_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
<tr><td><code id="npn_species_+3A_ids">ids</code></td>
<td>
<p>List of species ids for which to retrieve information</p>
</td></tr>
<tr><td><code id="npn_species_+3A_state">state</code></td>
<td>
<p>A US postal state code to filter results.</p>
</td></tr>
<tr><td><code id="npn_species_+3A_kingdom">kingdom</code></td>
<td>
<p>Filters results by taxonomic kingdom. Takes either 'Animalia' or 'Plantae'.</p>
</td></tr>
<tr><td><code id="npn_species_+3A_network">network</code></td>
<td>
<p>filter species based on a list of unique identifiers of NPN groups that are actually observing data on the species. Takes a list of IDs</p>
</td></tr>
<tr><td><code id="npn_species_+3A_start_date">start_date</code></td>
<td>
<p>filter species by date observed. This sets the start date of the date range and must be used in conjunction with end_date</p>
</td></tr>
<tr><td><code id="npn_species_+3A_end_date">end_date</code></td>
<td>
<p>filter species by date observed. This sets the end date of the date range and must be used in conjunction with start_date</p>
</td></tr>
<tr><td><code id="npn_species_+3A_station_id">station_id</code></td>
<td>
<p>filter species by a list of unique site identifiers</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with information on species in the NPN database and their IDs.
</p>
<p>A data frame with information on species in the NPN database and their IDs, filtered by the species ID parameter.
</p>
<p>A data frame with information on species in the NPN database whose distribution includes a given state.
</p>
<p>A data frame with information on species in the NPN database filtered by partner group, dates and station/site IDs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
npn_species()
npn_species_id(ids = 3)

## End(Not run)
## Not run: 
npn_species_state(state = "AZ")
npn_species_state(state = "AZ", kingdom = "Plantae")

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_species_types'>Get Species Types</h2><span id='topic+npn_species_types'></span>

<h3>Description</h3>

<p>Return all plant or animal functional types used in the NPN database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_species_types(kingdom = "Plantae", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_species_types_+3A_kingdom">kingdom</code></td>
<td>
<p>The kingdom for which to return functional types; either 'Animalia' or 'Plantae'. Defaults to Plantae.</p>
</td></tr>
<tr><td><code id="npn_species_types_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with a list of the functional types used in the NPN database, filtered by the specified kingdom.
</p>

<hr>
<h2 id='npn_stations'>Get Station Data</h2><span id='topic+npn_stations'></span>

<h3>Description</h3>

<p>Get a list of all stations, optionally filtered by state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_stations(state_code = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_stations_+3A_state_code">state_code</code></td>
<td>
<p>The postal code of the US state by which to filter
the results returned. Leave empty to get all stations.</p>
</td></tr>
<tr><td><code id="npn_stations_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with stations' latitude and longitude, names, and ids.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
npn_stations()
npn_stations('AZ')

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_stations_by_location'>Get station data based on a WKT defined geography.</h2><span id='topic+npn_stations_by_location'></span>

<h3>Description</h3>

<p>Takes a Well-Known Text based geography as input and returns data for all
stations, including unique IDs, within that boundary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_stations_by_location(wkt, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_stations_by_location_+3A_wkt">wkt</code></td>
<td>
<p>Required field specifying the WKT geography to use.</p>
</td></tr>
<tr><td><code id="npn_stations_by_location_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing stations filtered based on the WKT geography.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head( npn_stations_by_state(wkt="POLYGON((
-110.94484396954107 32.23623109416672,-110.96166678448247 32.23594069208043,
-110.95960684795904 32.21328646993733,-110.94244071026372 32.21343170728929,
-110.93935080547857 32.23216538049456,-110.94484396954107 32.23623109416672))")
)

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_stations_by_state'>Get number of stations by state.</h2><span id='topic+npn_stations_by_state'></span>

<h3>Description</h3>

<p>Get number of stations by state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_stations_by_state(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_stations_by_state_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame listing stations by state.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head( npn_stations_by_state() )

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_stations_with_spp'>Get Stations with Species</h2><span id='topic+npn_stations_with_spp'></span>

<h3>Description</h3>

<p>Get a list of all stations which have an individual whom is a member of a
set of species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_stations_with_spp(speciesid, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npn_stations_with_spp_+3A_speciesid">speciesid</code></td>
<td>
<p>Required. Species id numbers, from 1 to infinity, potentially,
use e.g., c(52, 53, etc.) if more than one species desired (numeric).</p>
</td></tr>
<tr><td><code id="npn_stations_with_spp_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <code><a href="httr.html#topic+GET">GET</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with stations' latitude and longitude, names, and ids.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
npn_stations_with_spp(speciesid = c(52,53,54))
npn_stations_with_spp(speciesid = 53)

## End(Not run)
</code></pre>

<hr>
<h2 id='npn_stationsbystate'>This function renamed to be consistent with other package function names.</h2><span id='topic+npn_stationsbystate'></span>

<h3>Description</h3>

<p>This function renamed to be consistent with other package function names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_stationsbystate(...)
</code></pre>

<hr>
<h2 id='npn_stationswithspp'>This function renamed to be consistent with other package function names.</h2><span id='topic+npn_stationswithspp'></span>

<h3>Description</h3>

<p>This function renamed to be consistent with other package function names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npn_stationswithspp(...)
</code></pre>

<hr>
<h2 id='resolve_six_raster'>Resolve SIX Raster</h2><span id='topic+resolve_six_raster'></span>

<h3>Description</h3>

<p>Utility function used to resolve the appropriate SI-x layer to use
based on the year being retrieved, the phenophase and sub-model being
requested.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resolve_six_raster(year, phenophase = "leaf", sub_model = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resolve_six_raster_+3A_year">year</code></td>
<td>
<p>String representation of the year being requested.</p>
</td></tr>
<tr><td><code id="resolve_six_raster_+3A_phenophase">phenophase</code></td>
<td>
<p>The SI-x phenophase being requested, 'leaf' or 'bloom'; defaults to 'leaf'.</p>
</td></tr>
<tr><td><code id="resolve_six_raster_+3A_sub_model">sub_model</code></td>
<td>
<p>The SI-x sub model to use. Defaults to NULL (no sub-model).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the year being requested is more than two years older than the current year
then use the prism based layers rather than the NCEP based layers.
This is because the PRISM data is not available in whole until midway through
the year after it was initially recorded. Hence, the 'safest' approach is to only
refer to the PRISM data when we knows for sure it's available in full, i.e. two years
prior.
</p>
<p>Sub-model and phenophase on the other hand are appended to the name of the layer
to request, no special logic is present in making the decision which layer to retrieve
based on those parameters.
</p>


<h3>Value</h3>

<p>Returns a raster object of the appropriate SI-x layer.
</p>

<hr>
<h2 id='rnpn-defunct'>Defunct functions in rnpn</h2><span id='topic+rnpn-defunct'></span>

<h3>Description</h3>


<ul>
<li> <p><code><a href="#topic+npn_obsspbyday">npn_obsspbyday</a></code>: Removed.
</p>
</li>
<li> <p><code><a href="#topic+npn_allobssp">npn_allobssp</a></code>: Removed.
</p>
</li>
<li> <p><code><a href="#topic+npn_indspatstations">npn_indspatstations</a></code>: Removed.
</p>
</li>
<li> <p><code><a href="#topic+npn_indsatstations">npn_indsatstations</a></code>: Removed.
</p>
</li>
<li> <p><code><a href="#topic+npn_stationsbystate">npn_stationsbystate</a></code>: Removed.
</p>
</li>
<li> <p><code><a href="#topic+npn_stationswithspp">npn_stationswithspp</a></code>: Removed.
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

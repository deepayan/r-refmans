<!DOCTYPE html><html lang="en"><head><title>Help for package freesurfer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {freesurfer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aparcs_to_bg'><p>Convert Freesurfer aparcs Table to brainGraph</p></a></li>
<li><a href='#aparcstats2table'><p>Parcellation Stats to Table</p></a></li>
<li><a href='#aparcstats2table.help'><p>Parcellation Stats to Table Help</p></a></li>
<li><a href='#asegstats2table'><p>Parcellation Stats to Table</p></a></li>
<li><a href='#asegstats2table.help'><p>Parcellation Stats to Table Help</p></a></li>
<li><a href='#check_fs_result'><p>Check Freesurfer Result</p></a></li>
<li><a href='#checkmnc-methods'><p>Force object to filename with .mnc extension</p></a></li>
<li><a href='#construct_subj_dir'><p>Construct Subject Directory</p></a></li>
<li><a href='#convert_surface'><p>Convert Freesurfer Surface</p></a></li>
<li><a href='#freesurfer_read_curv'><p>Read Freesufer Curv file</p></a></li>
<li><a href='#freesurfer_read_surf'><p>Read Freesurfer Surface file</p></a></li>
<li><a href='#freesurfer_read3'><p>Freesurfer Read 3 records</p></a></li>
<li><a href='#freesurfer_read3_con'><p>Freesurfer Read 3 records</p></a></li>
<li><a href='#freesurferdir'><p>Get Freesurfer's Directory</p></a></li>
<li><a href='#fs_cmd'><p>FS Command Wrapper</p></a></li>
<li><a href='#fs_help'><p>Wrapper for getting Freesurfer help</p></a></li>
<li><a href='#fs_imgext'><p>Determine extension of image based on FSLOUTPUTTYPE</p></a></li>
<li><a href='#fs_lut'><p>Freesurfer look up table (LUT)</p></a></li>
<li><a href='#fs_subj_dir'><p>Determine Freesurfer Subjects Directory</p></a></li>
<li><a href='#fs_version'><p>Find Freesurfer Version</p></a></li>
<li><a href='#get_fs'><p>Create command declaring FREESURFER_HOME</p></a></li>
<li><a href='#get_fs_output'><p>Determine Freesurfer output type</p></a></li>
<li><a href='#have_fs'><p>Logical check if Freesurfer is accessible</p></a></li>
<li><a href='#mnc2nii'><p>Convert MNC to NIfTI</p></a></li>
<li><a href='#mnc2nii.help'><p>MNC to NIfTI Help</p></a></li>
<li><a href='#mri_convert'><p>Use Freesurfers MRI Converter</p></a></li>
<li><a href='#mri_convert.help'><p>MRI Normalize Help</p></a></li>
<li><a href='#mri_deface'><p>MRI Deface</p></a></li>
<li><a href='#mri_info'><p>MRI information</p></a></li>
<li><a href='#mri_info.help'><p>MRI information Help</p></a></li>
<li><a href='#mri_mask'><p>Use Freesurfers MRI Mask</p></a></li>
<li><a href='#mri_mask.help'><p>MRI Normalize Help</p></a></li>
<li><a href='#mri_normalize'><p>Use Freesurfers MRI Normalize Algorithm</p></a></li>
<li><a href='#mri_normalize.help'><p>MRI Normalize Help</p></a></li>
<li><a href='#mri_segment'><p>Use Freesurfers MRI Segmentation Algorithm</p></a></li>
<li><a href='#mri_segment.help'><p>MRI Segment Help</p></a></li>
<li><a href='#mri_surf2surf'><p>Use Freesurfers <code>mri_surf2surf</code> function to</p>
resamples one cortical surface onto another</a></li>
<li><a href='#mri_surf2surf.help'><p>Freesurfers mri_surf2surf Help</p></a></li>
<li><a href='#mri_watershed'><p>Use Freesurfers MRI Watershed Algorithm</p></a></li>
<li><a href='#mri_watershed.help'><p>MRI Watershed Help</p></a></li>
<li><a href='#mris_convert'><p>Use Freesurfers MRIs Converter</p></a></li>
<li><a href='#mris_convert_annot'><p>Convert Annotation file</p></a></li>
<li><a href='#mris_convert_curv'><p>Convert Curvature file</p></a></li>
<li><a href='#mris_convert_normals'><p>Convert Surface to Surface normals</p></a></li>
<li><a href='#mris_convert_vertex'><p>Convert Surface to vertex file</p></a></li>
<li><a href='#mris_convert.help'><p>Help file for Freesurfers MRIs Converter</p></a></li>
<li><a href='#mris_euler_number'><p>MRI Euler Number</p></a></li>
<li><a href='#mris_euler_number.help'><p>MRI Euler Number Help</p></a></li>
<li><a href='#nii2mnc'><p>Convert NIfTI to MNC</p></a></li>
<li><a href='#nii2mnc.help'><p>Convert NIfTI to MNC Help</p></a></li>
<li><a href='#nu_correct'><p>Use Freesurfers Non-Uniformity Correction</p></a></li>
<li><a href='#nu_correct.help'><p>Non-Uniformity Correction Help</p></a></li>
<li><a href='#read_annotation'><p>Read Freesurfer annotation file</p></a></li>
<li><a href='#read_aseg_stats'><p>Read Anatomical Segmentation Statistics</p></a></li>
<li><a href='#read_fs_label'><p>Read Label File</p></a></li>
<li><a href='#read_fs_table'><p>Read Freesurfer Table Output</p></a></li>
<li><a href='#readmgz'><p>Read MGH or MGZ File</p></a></li>
<li><a href='#readmnc'><p>Read MNC File</p></a></li>
<li><a href='#recon'><p>Reconstruction from Freesurfer</p></a></li>
<li><a href='#recon_all'><p>Reconstruction from Freesurfer for All Steps</p></a></li>
<li><a href='#recon_con1'><p>Reconstruction from Motion Correction to Skull Strip</p></a></li>
<li><a href='#reconner'><p>Reconstruction Helper for recon from Freesurfer</p></a></li>
<li><a href='#run_check_fs_cmd'><p>Run and Check a Freesurfer Command</p></a></li>
<li><a href='#set_fs_subj_dir'><p>Set Freesurfer Subjects Directory</p></a></li>
<li><a href='#surf_convert'><p>Convert Surface Data to ASCII</p></a></li>
<li><a href='#surface_to_obj'><p>Convert Freesurfer Surface to Wavefront OBJ</p></a></li>
<li><a href='#surface_to_triangles'><p>Convert Freesurfer Surface to Triangles</p></a></li>
<li><a href='#trac_all'><p>Tract Reconstruction Helper for trac-all from Freesurfer for All Steps</p></a></li>
<li><a href='#trac_prep'><p>Tract Reconstruction for Each Step</p></a></li>
<li><a href='#tracker'><p>Tract Reconstruction Helper for trac-all from Freesurfer</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Wrapper Functions for 'Freesurfer'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.6.10</td>
</tr>
<tr>
<td>Description:</td>
<td>Wrapper functions that interface with 'Freesurfer' 
    <a href="https://surfer.nmr.mgh.harvard.edu/">https://surfer.nmr.mgh.harvard.edu/</a>, a powerful and 
    commonly-used 'neuroimaging'
    software, using system commands. The goal is to be able to interface with
    'Freesurfer' completely in R, where you pass R objects of class 'nifti',
    implemented by package 'oro.nifti', and the function executes an 'Freesurfer'
    command and returns an R object of class 'nifti' or necessary output.</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, neurobase, tools, R.utils, reshape2, utils</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>magrittr, knitr, oro.nifti (&ge; 0.7), rgl, rmarkdown, pander,
fslr (&ge; 2.9.2)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/muschellij2/freesurfer/issues">https://github.com/muschellij2/freesurfer/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>FSL, Freesurfer
(https://surfer.nmr.mgh.harvard.edu/)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-13 16:40:35 UTC; johnmuschelli</td>
</tr>
<tr>
<td>Author:</td>
<td>John Muschelli <a href="https://orcid.org/0000-0001-6469-1750"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Athanasia Mo Mowinckel
    <a href="https://orcid.org/0000-0002-5756-0223"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Muschelli &lt;muschellij2@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-14 09:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='aparcs_to_bg'>Convert Freesurfer aparcs Table to brainGraph</h2><span id='topic+aparcs_to_bg'></span>

<h3>Description</h3>

<p>Converts Freesurfer aparcs table to brainGraph naming
convention, relying on <code><a href="#topic+aparcstats2table">aparcstats2table</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aparcs_to_bg(subjects, measure, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aparcs_to_bg_+3A_subjects">subjects</code></td>
<td>
<p>subjects to analyze, 
passed to <code><a href="#topic+aparcstats2table">aparcstats2table</a></code></p>
</td></tr>
<tr><td><code id="aparcs_to_bg_+3A_measure">measure</code></td>
<td>
<p>measure to be analyzed, 
passed to <code><a href="#topic+aparcstats2table">aparcstats2table</a></code></p>
</td></tr>
<tr><td><code id="aparcs_to_bg_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+aparcstats2table">aparcstats2table</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Long <code>data.frame</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   fs_subj_dir() 
   df = aparcs_to_bg(subjects = "bert", measure = "thickness")
   print(head(df))
}
</code></pre>

<hr>
<h2 id='aparcstats2table'>Parcellation Stats to Table</h2><span id='topic+aparcstats2table'></span>

<h3>Description</h3>

<p>This function calls <code>aparcstats2table</code> to 
convert parcellation statistics to a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aparcstats2table(
  subjects,
  outfile = NULL,
  hemi = c("lh", "rh"),
  measure = c("area", "volume", "thickness", "thicknessstd", "meancurv", "gauscurv",
    "foldind", "curvind"),
  sep = c("tab", "space", "comma", "semicolon"),
  parc = c("aparc", "aparc.a2009s"),
  skip = FALSE,
  subj_dir = NULL,
  opts = "",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aparcstats2table_+3A_subjects">subjects</code></td>
<td>
<p>(character) vector of subjects</p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_hemi">hemi</code></td>
<td>
<p>(character) hemisphere to run statistics</p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_measure">measure</code></td>
<td>
<p>(character) measure to be calculated</p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_sep">sep</code></td>
<td>
<p>(character) separator for the output file.  This will be
an attribute of <code>outfile</code></p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_parc">parc</code></td>
<td>
<p>(character) parcellation to compute on</p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_skip">skip</code></td>
<td>
<p>(logical) if subject does not have parcellation, 
should the command skip that subject (<code>TRUE</code>) or error 
(<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_subj_dir">subj_dir</code></td>
<td>
<p>(character path) if a different subjects directory
is to be used other than <code>SUBJECTS_DIR</code> from shell, it can be
specified here.  Use with care as if the command fail, it may not reset
the <code>SUBJECTS_DIR</code> back correctly after the error</p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>aparcstats2table</code></p>
</td></tr>
<tr><td><code id="aparcstats2table_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character filename of output file, with the 
attribute of the separator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   fs_subj_dir()
   outfile = aparcstats2table(subjects = "bert",
                    hemi = "lh",
                    meas = "thickness")
}
</code></pre>

<hr>
<h2 id='aparcstats2table.help'>Parcellation Stats to Table Help</h2><span id='topic+aparcstats2table.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>aparcstats2table</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aparcstats2table.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='asegstats2table'>Parcellation Stats to Table</h2><span id='topic+asegstats2table'></span>

<h3>Description</h3>

<p>This function calls <code>asegstats2table</code> to 
convert parcellation statistics to a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asegstats2table(
  subjects = NULL,
  inputs = NULL,
  outfile = NULL,
  measure = c("volume", "mean", "std"),
  sep = c("tab", "space", "comma", "semicolon"),
  skip = FALSE,
  subj_dir = NULL,
  opts = "",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="asegstats2table_+3A_subjects">subjects</code></td>
<td>
<p>(character) vector of subjects</p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_inputs">inputs</code></td>
<td>
<p>(character paths) vector of input filenames,
e.g. <code>aseg.stats</code>.</p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_measure">measure</code></td>
<td>
<p>(character) measure to be calculated</p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_sep">sep</code></td>
<td>
<p>(character) separator for the output file.  This will be
an attribute of <code>outfile</code></p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_skip">skip</code></td>
<td>
<p>(logical) if subject does not have parcellation, 
should the command skip that subject (<code>TRUE</code>) or error 
(<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_subj_dir">subj_dir</code></td>
<td>
<p>(character path) if a different subjects directory
is to be used other than <code>SUBJECTS_DIR</code> from shell, it can be
specified here.  Use with care as if the command fail, it may not reset
the <code>SUBJECTS_DIR</code> back correctly after the error</p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>asegstats2table</code></p>
</td></tr>
<tr><td><code id="asegstats2table_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character filename of output file, with the 
attribute of the separator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   outfile = asegstats2table(subjects = "bert",
                    meas = "mean")
}
</code></pre>

<hr>
<h2 id='asegstats2table.help'>Parcellation Stats to Table Help</h2><span id='topic+asegstats2table.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>asegstats2table</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asegstats2table.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='check_fs_result'>Check Freesurfer Result</h2><span id='topic+check_fs_result'></span>

<h3>Description</h3>

<p>Checks the Freesurfer system command result and will
stop or warning based on whether output files exist.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_fs_result(res, fe_before, fe_after)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_fs_result_+3A_res">res</code></td>
<td>
<p>(numeric) Result from system command</p>
</td></tr>
<tr><td><code id="check_fs_result_+3A_fe_before">fe_before</code></td>
<td>
<p>(logical) did the output file exist before the command ran</p>
</td></tr>
<tr><td><code id="check_fs_result_+3A_fe_after">fe_after</code></td>
<td>
<p>(logical) did the output file exist after the command ran</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='checkmnc-methods'>Force object to filename with .mnc extension</h2><span id='topic+checkmnc-methods'></span><span id='topic+checkmnc'></span><span id='topic+checkmnc+2Cnifti-method'></span><span id='topic+checkmnc+2Ccharacter-method'></span><span id='topic+checkmnc+2Clist-method'></span><span id='topic+ensure_mnc'></span>

<h3>Description</h3>

<p>Ensures the output to be a character filename (or vector) 
from an input image or <code>nifti</code> to have <code>.mnc</code> extension and
be converted to MNC when necessary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkmnc(file, ...)

## S4 method for signature 'nifti'
checkmnc(file, ...)

## S4 method for signature 'character'
checkmnc(file, ...)

## S4 method for signature 'list'
checkmnc(file, ...)

ensure_mnc(file, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkmnc-methods_+3A_file">file</code></td>
<td>
<p>character or <code>nifti</code> object</p>
</td></tr>
<tr><td><code id="checkmnc-methods_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character filename of mnc image
</p>


<h3>Author(s)</h3>

<p>John Muschelli <a href="mailto:muschellij2@gmail.com">muschellij2@gmail.com</a>
</p>

<hr>
<h2 id='construct_subj_dir'>Construct Subject Directory</h2><span id='topic+construct_subj_dir'></span>

<h3>Description</h3>

<p>This function copies files specified by the types of data, 
determined by the folder Freesurfer put them in, into a temporary directory
for easier separation of data and different structuring of data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>construct_subj_dir(
  label = NULL,
  mri = NULL,
  stats = NULL,
  surf = NULL,
  touch = NULL,
  subj = NULL,
  subj_root_dir = tempdir()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="construct_subj_dir_+3A_label">label</code></td>
<td>
<p>Files to copy to <code>subj_root_dir/subj/label</code> folder</p>
</td></tr>
<tr><td><code id="construct_subj_dir_+3A_mri">mri</code></td>
<td>
<p>Files to copy to <code>subj_root_dir/subj/mri</code> folder</p>
</td></tr>
<tr><td><code id="construct_subj_dir_+3A_stats">stats</code></td>
<td>
<p>Files to copy to <code>subj_root_dir/subj/stats</code> folder</p>
</td></tr>
<tr><td><code id="construct_subj_dir_+3A_surf">surf</code></td>
<td>
<p>Files to copy to <code>subj_root_dir/subj/surf</code> folder</p>
</td></tr>
<tr><td><code id="construct_subj_dir_+3A_touch">touch</code></td>
<td>
<p>Files to copy to <code>subj_root_dir/subj/touch</code> folder</p>
</td></tr>
<tr><td><code id="construct_subj_dir_+3A_subj">subj</code></td>
<td>
<p>Name of subject to make folder for to use for Freesurfer functions.
If <code>NULL</code>, a temporary id will be generated</p>
</td></tr>
<tr><td><code id="construct_subj_dir_+3A_subj_root_dir">subj_root_dir</code></td>
<td>
<p>Directory to put folder with contents of <code>subj</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with the subject name, the SUBJECTS_DIR to use (the directory
that contains the subject name), and the types of objects copied
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(freesurfer)
label = "/Applications/freesurfer/subjects/bert/label/aparc.annot.a2009s.ctab"
mri = c(
  "/Applications/freesurfer/subjects/bert/mri/aparc.a2009s+aseg.mgz",
  "/Applications/freesurfer/subjects/bert/mri/aseg.auto.mgz")
stats = c("/Applications/freesurfer/subjects/bert/stats/lh.aparc.stats",
          "/Applications/freesurfer/subjects/bert/stats/aseg.stats")
surf = "/Applications/freesurfer/subjects/bert/surf/lh.thickness"
touch = NULL

## End(Not run)
</code></pre>

<hr>
<h2 id='convert_surface'>Convert Freesurfer Surface</h2><span id='topic+convert_surface'></span>

<h3>Description</h3>

<p>Reads in a surface file from Freesurfer and separates
into vertices and faces
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_surface(infile, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_surface_+3A_infile">infile</code></td>
<td>
<p>Input surface file</p>
</td></tr>
<tr><td><code id="convert_surface_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to 
<code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of 3 elements: a header indicating the number of 
vertices and faces, the vertices, and the faces
</p>


<h3>Note</h3>

<p>This was adapted from the gist: 
<a href="https://gist.github.com/mm--/4a4fc7badacfad874102">https://gist.github.com/mm&ndash;/4a4fc7badacfad874102</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
infile = file.path(fs_subj_dir(), 
                   "bert", "surf", "rh.pial")
res = convert_surface(infile = infile)
}
</code></pre>

<hr>
<h2 id='freesurfer_read_curv'>Read Freesufer Curv file</h2><span id='topic+freesurfer_read_curv'></span>

<h3>Description</h3>

<p>Reads a Freesurfer curvature file according to the 
FREESURFER_HOME/matlab/read_curv.m file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freesurfer_read_curv(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="freesurfer_read_curv_+3A_file">file</code></td>
<td>
<p>file name of a curvature file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   bert_dir = file.path(fs_subj_dir(), "bert", "surf")
   file = file.path(bert_dir, "lh.thickness")
   fid = file(file, open = "rb")
   out = freesurfer_read_curv(file)
} 
</code></pre>

<hr>
<h2 id='freesurfer_read_surf'>Read Freesurfer Surface file</h2><span id='topic+freesurfer_read_surf'></span>

<h3>Description</h3>

<p>Reads a Freesurfer Surface file from 
the <code>surf/</code> directory
from <code>recon-all</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freesurfer_read_surf(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="freesurfer_read_surf_+3A_file">file</code></td>
<td>
<p>surface file (e.g. <code>lh.inflated</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of length 2: vertices and faces are the elements
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   fname = file.path(fs_subj_dir(), "bert", "surf", "lh.inflated")
   out = freesurfer_read_surf(fname)
}
</code></pre>

<hr>
<h2 id='freesurfer_read3'>Freesurfer Read 3 records</h2><span id='topic+freesurfer_read3'></span>

<h3>Description</h3>

<p>Reads first 3 records of file and returns the 
rotated value,
for checking for other functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freesurfer_read3(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="freesurfer_read3_+3A_file">file</code></td>
<td>
<p>thickness file or anything in surf/ directory 
from Freesurfer
subject</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   bert_dir = file.path(fs_subj_dir(), "bert", "surf")
   file = file.path(bert_dir, "lh.thickness")
   out = freesurfer_read3(file)
}
</code></pre>

<hr>
<h2 id='freesurfer_read3_con'>Freesurfer Read 3 records</h2><span id='topic+freesurfer_read3_con'></span>

<h3>Description</h3>

<p>Reads first 3 records from a connection and 
returns the rotated value,
for checking for other functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freesurfer_read3_con(fid)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="freesurfer_read3_con_+3A_fid">fid</code></td>
<td>
<p>connection to a 
thickness file or anything in surf/ directory from Freesurfer
subject</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   bert_dir = file.path(fs_subj_dir(), "bert", "surf")
   file = file.path(bert_dir, "lh.thickness")
   fid = file(file, open = "rb")
   out = freesurfer_read3_con(file)
} 
</code></pre>

<hr>
<h2 id='freesurferdir'>Get Freesurfer's Directory</h2><span id='topic+freesurferdir'></span><span id='topic+freesurfer_dir'></span><span id='topic+fs_dir'></span>

<h3>Description</h3>

<p>Finds the FREESURFER_HOME from system environment or 
<code>getOption("freesurfer.path")</code>
for location of Freesurfer functions and returns it
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freesurferdir()

freesurfer_dir()

fs_dir()
</code></pre>


<h3>Value</h3>

<p>Character path
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 freesurferdir()
 freesurfer_dir()
 fs_dir()
}
</code></pre>

<hr>
<h2 id='fs_cmd'>FS Command Wrapper</h2><span id='topic+fs_cmd'></span>

<h3>Description</h3>

<p>This function calls Freesurfer command passed to <code>func</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fs_cmd(
  func,
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  samefile = FALSE,
  opts_after_outfile = FALSE,
  frontopts = "",
  add_ext = TRUE,
  bin_app = "bin",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fs_cmd_+3A_func">func</code></td>
<td>
<p>(character) Freesurfer function</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>func</code></p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_samefile">samefile</code></td>
<td>
<p>(logical) is the output the same file?</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_opts_after_outfile">opts_after_outfile</code></td>
<td>
<p>(logical) should <code>opts</code> come after 
the <code>outfile</code> in the Freesurfer command?</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_frontopts">frontopts</code></td>
<td>
<p>(character) options/character to put in before filename</p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_add_ext">add_ext</code></td>
<td>
<p>(logical) should the extension be added to 
the <code>outfile</code></p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_bin_app">bin_app</code></td>
<td>
<p>(character) appendix to add to <code><a href="#topic+get_fs">get_fs</a></code></p>
</td></tr>
<tr><td><code id="fs_cmd_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="base.html#topic+system">system</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fs_help'>Wrapper for getting Freesurfer help</h2><span id='topic+fs_help'></span>

<h3>Description</h3>

<p>This function takes in the function and returns the
help from Freesurfer for that function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fs_help(func_name, help.arg = "--help", extra.args = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fs_help_+3A_func_name">func_name</code></td>
<td>
<p>Freesurfer function name</p>
</td></tr>
<tr><td><code id="fs_help_+3A_help.arg">help.arg</code></td>
<td>
<p>Argument to print help, usually &quot;&ndash;help&quot;</p>
</td></tr>
<tr><td><code id="fs_help_+3A_extra.args">extra.args</code></td>
<td>
<p>Extra arguments to be passed other than 
<code>--help</code></p>
</td></tr>
<tr><td><code id="fs_help_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="#topic+get_fs">get_fs</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
fs_help(func_name = "mri_watershed")
}
</code></pre>

<hr>
<h2 id='fs_imgext'>Determine extension of image based on FSLOUTPUTTYPE</h2><span id='topic+fs_imgext'></span>

<h3>Description</h3>

<p>Runs <code>get_fs_output()</code> to extract FSLOUTPUTTYPE and then 
gets corresponding extension (such as .nii.gz)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fs_imgext()
</code></pre>


<h3>Value</h3>

<p>Extension for output type
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fs_imgext()
</code></pre>

<hr>
<h2 id='fs_lut'>Freesurfer look up table (LUT)</h2><span id='topic+fs_lut'></span>

<h3>Description</h3>

<p>A <code>data.frame</code> with the index, label,
and RGBA (red, blue, green, alpha) specification for the segmentations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fs_lut
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 1266 rows and 6 columns.
</p>

<hr>
<h2 id='fs_subj_dir'>Determine Freesurfer Subjects Directory</h2><span id='topic+fs_subj_dir'></span>

<h3>Description</h3>

<p>Finds the SUBJECTS_DIR from system environment or 
<code>getOption("fs.subj_dir")</code> for subjects dir
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fs_subj_dir()
</code></pre>


<h3>Value</h3>

<p>SUBJECTS_DIR, such as <code>${FREESURFER_HOME}/subjects</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   fs_subj_dir()
}
</code></pre>

<hr>
<h2 id='fs_version'>Find Freesurfer Version</h2><span id='topic+fs_version'></span>

<h3>Description</h3>

<p>Finds the Freesurfer version from <code>FREESURFER_HOME/build-stamp.txt</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fs_version()
</code></pre>


<h3>Value</h3>

<p>If the version file does not exist, it will throw a warning, but 
it will return an empty string.  Otherwise it will be a string of the version.
</p>


<h3>Note</h3>

<p>This will use <code>fs_dir()</code> to get the directory of FREESURFER
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 fs_version()
}
</code></pre>

<hr>
<h2 id='get_fs'>Create command declaring FREESURFER_HOME</h2><span id='topic+get_fs'></span>

<h3>Description</h3>

<p>Finds the Freesurfer from system environment or <code>getOption("freesurfer.path")</code>
for location of Freesurfer functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fs(bin_app = c("bin", "mni/bin", ""))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_fs_+3A_bin_app">bin_app</code></td>
<td>
<p>Should <code>bin</code> be added to the freesurfer path? 
All executables are assumed to be in <code>FREESURFER_HOME/bin/</code>.  If not, and 
<code>bin_app = ""</code>, they will be assumed to be in <code>FREESURFER_HOME/</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL if Freesurfer in path, or bash code for setting up Freesurfer DIR
</p>


<h3>Note</h3>

<p>This will use <code>Sys.getenv("FREESURFER_HOME")</code> before <code>getOption("freesurfer.path")</code>.
If the directory is not found for Freesurfer in <code>Sys.getenv("FreesurferDIR")</code> and 
<code>getOption("freesurfer.path")</code>, it will try the default directory <code>/usr/local/freesurfer</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
get_fs()
}
</code></pre>

<hr>
<h2 id='get_fs_output'>Determine Freesurfer output type</h2><span id='topic+get_fs_output'></span>

<h3>Description</h3>

<p>Finds the FSF_OUTPUT_FORMAT from system environment or 
<code>getOption("fs.outputtype")</code> for output type (nii.gz, nii, ANALYZE,etc)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fs_output()
</code></pre>


<h3>Value</h3>

<p>FSF_OUTPUT_FORMAT, such as nii.gz  If none found, uses nii.gz as default
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_fs_output()
</code></pre>

<hr>
<h2 id='have_fs'>Logical check if Freesurfer is accessible</h2><span id='topic+have_fs'></span>

<h3>Description</h3>

<p>Uses <code>get_fs</code> to check if FreesurferDIR is accessible or the option
<code>freesurfer.path</code> is set and returns logical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>have_fs(..., check_license = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="have_fs_+3A_...">...</code></td>
<td>
<p>options to pass to <code><a href="#topic+get_fs">get_fs</a></code></p>
</td></tr>
<tr><td><code id="have_fs_+3A_check_license">check_license</code></td>
<td>
<p>Should a license file be checked to exist?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical TRUE is Freesurfer is accessible, FALSE if not
</p>


<h3>Examples</h3>

<pre><code class='language-R'>have_fs()
</code></pre>

<hr>
<h2 id='mnc2nii'>Convert MNC to NIfTI</h2><span id='topic+mnc2nii'></span>

<h3>Description</h3>

<p>This function calls <code>mnc2nii</code> 
to convert MNC files to NIfTI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mnc2nii(file, outfile = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mnc2nii_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="mnc2nii_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character filename of output
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs() &amp;&amp; requireNamespace("oro.nifti", quietly = TRUE)) {
   img = oro.nifti::nifti(array(rnorm(5*5*5), dim = c(5,5,5)))  
   mnc = nii2mnc(img)
   img_file = mnc2nii(mnc, outfile = tempfile(fileext = ".nii"))
   neurobase::readnii(img_file, verbose = TRUE)
}
</code></pre>

<hr>
<h2 id='mnc2nii.help'>MNC to NIfTI Help</h2><span id='topic+mnc2nii.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mnc2nii</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mnc2nii.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mri_convert'>Use Freesurfers MRI Converter</h2><span id='topic+mri_convert'></span>

<h3>Description</h3>

<p>This function calls <code>mri_convert</code> to convert an image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_convert(file, outfile, opts = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_convert_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="mri_convert_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mri_convert_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mri_convert</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code>system</code> command
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs() &amp;&amp; requireNamespace("oro.nifti", quietly = TRUE)) {
   img = oro.nifti::nifti(array(rnorm(5*5*5), dim = c(5,5,5))) 
   res = mri_convert(img, outfile = tempfile(fileext = ".mgz"))
} 
</code></pre>

<hr>
<h2 id='mri_convert.help'>MRI Normalize Help</h2><span id='topic+mri_convert.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_convert</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_convert.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mri_deface'>MRI Deface</h2><span id='topic+mri_deface'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_deface</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_deface(file, brain_template = NULL, face_template = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_deface_+3A_file">file</code></td>
<td>
<p>File to pass to <code>mri_deface</code></p>
</td></tr>
<tr><td><code id="mri_deface_+3A_brain_template">brain_template</code></td>
<td>
<p><code>gca</code> brain template file to pass to <code>mri_deface</code></p>
</td></tr>
<tr><td><code id="mri_deface_+3A_face_template">face_template</code></td>
<td>
<p><code>gca</code> face template file to pass to <code>mri_deface</code></p>
</td></tr>
<tr><td><code id="mri_deface_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code><a href="#topic+fs_cmd">fs_cmd</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code>fs_cmd</code>, which type depends on 
arguments to <code>...</code>
</p>


<h3>Note</h3>

<p>If <code>brain_template</code> or<code>face_template</code> is <code>NULL</code>,
they will be downloaded.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (have_fs()){
   base_url = "https://surfer.nmr.mgh.harvard.edu/pub/dist/mri_deface"
   url = file.path(base_url, "sample_T1_input.mgz")
   x = tempfile(fileext = ".mgz")
   out = try({
   utils::download.file(url, destfile = x)
   })
   if (!inherits(out, "try-error")) {
      noface = mri_deface(x)
   } else {
      url = paste0(
         "https://raw.githubusercontent.com/muschellij2/kirby21.t1/master/", 
         "inst/visit_1/113/113-01-T1.nii.gz")
      x = tempfile(fileext = ".nii.gz")
      out = try({
          utils::download.file(url, destfile = x)
      })
      noface = mri_deface(x)
   }
}

</code></pre>

<hr>
<h2 id='mri_info'>MRI information</h2><span id='topic+mri_info'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_info</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_info(file, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_info_+3A_file">file</code></td>
<td>
<p>File to pass to <code>mri_info</code></p>
</td></tr>
<tr><td><code id="mri_info_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code><a href="#topic+fs_cmd">fs_cmd</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code>fs_cmd</code>, which type depends on 
arguments to <code>...</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs() &amp;&amp; requireNamespace("oro.nifti", quietly = TRUE)){
   img = oro.nifti::nifti(array(rnorm(5*5*5), dim = c(5,5,5)))  
   mri_info(img)
}
</code></pre>

<hr>
<h2 id='mri_info.help'>MRI information Help</h2><span id='topic+mri_info.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_info</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_info.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mri_mask'>Use Freesurfers MRI Mask</h2><span id='topic+mri_mask'></span>

<h3>Description</h3>

<p>This function calls <code>mri_mask</code> to mask an image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_mask(file, mask, outfile = NULL, retimg = TRUE, opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_mask_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="mri_mask_+3A_mask">mask</code></td>
<td>
<p>(character) mask filename</p>
</td></tr>
<tr><td><code id="mri_mask_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mri_mask_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="mri_mask_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mri_mask</code></p>
</td></tr>
<tr><td><code id="mri_mask_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fs_cmd">fs_cmd</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character or nifti depending on <code>retimg</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs() &amp;&amp; requireNamespace("oro.nifti", quietly = TRUE)) {
   img = oro.nifti::nifti(array(rnorm(5*5*5), dim = c(5,5,5)))  
   mask = img &gt; 1
   res = mri_mask(img, mask)
}
</code></pre>

<hr>
<h2 id='mri_mask.help'>MRI Normalize Help</h2><span id='topic+mri_mask.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_mask</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_mask.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mri_normalize'>Use Freesurfers MRI Normalize Algorithm</h2><span id='topic+mri_normalize'></span>

<h3>Description</h3>

<p>This function calls <code>mri_normalize</code> to normalize the 
values of the image, with white matter voxels around 110.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_normalize(file, outfile = NULL, retimg = TRUE, opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_normalize_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="mri_normalize_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mri_normalize_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="mri_normalize_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mri_normalize</code></p>
</td></tr>
<tr><td><code id="mri_normalize_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fs_cmd">fs_cmd</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character or nifti depending on <code>retimg</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (have_fs()){
    mri_normalize("/path/to/T1.nii.gz")
} 

## End(Not run)
</code></pre>

<hr>
<h2 id='mri_normalize.help'>MRI Normalize Help</h2><span id='topic+mri_normalize.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_normalize</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_normalize.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mri_segment'>Use Freesurfers MRI Segmentation Algorithm</h2><span id='topic+mri_segment'></span>

<h3>Description</h3>

<p>This function calls <code>mri_segment</code> 
to segment tissues from an image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_segment(file, outfile = NULL, retimg = TRUE, opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_segment_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="mri_segment_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mri_segment_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="mri_segment_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mri_segment</code></p>
</td></tr>
<tr><td><code id="mri_segment_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fs_cmd">fs_cmd</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character or nifti depending on <code>retimg</code>
</p>


<h3>Note</h3>

<p>NOT COMPLETE
</p>

<hr>
<h2 id='mri_segment.help'>MRI Segment Help</h2><span id='topic+mri_segment.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_segment</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_segment.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mri_surf2surf'>Use Freesurfers <code>mri_surf2surf</code> function to 
resamples one cortical surface onto another</h2><span id='topic+mri_surf2surf'></span>

<h3>Description</h3>

<p>This function calls Freesurfer <code>mri_surf2surf</code> to 
resample one cortical surface onto another
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_surf2surf(
  subject = NULL,
  target_subject = NULL,
  trg_type = c("curv", "w", "mgh", "nii"),
  src_type = c("curv", "w"),
  outfile = NULL,
  hemi = c("lh", "rh"),
  sval = c("thickness"),
  subj_dir = NULL,
  opts = "",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_surf2surf_+3A_subject">subject</code></td>
<td>
<p>(character) vector of subject name</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_target_subject">target_subject</code></td>
<td>
<p>(character) vector of target subject name</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_trg_type">trg_type</code></td>
<td>
<p>(character) target file type, can be curv, paint (w), mgh, or nii</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_src_type">src_type</code></td>
<td>
<p>(character) source file type, can be curv or paint (w)</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_hemi">hemi</code></td>
<td>
<p>(character) hemisphere to run statistics</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_sval">sval</code></td>
<td>
<p>(character) source file</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_subj_dir">subj_dir</code></td>
<td>
<p>(character path) if a different subjects directory
is to be used other than <code>SUBJECTS_DIR</code> from shell, it can be
specified here.  Use with care as if the command fail, it may not reset
the <code>SUBJECTS_DIR</code> back correctly after the error</p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mri_surf2surf</code></p>
</td></tr>
<tr><td><code id="mri_surf2surf_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of output file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   out = mri_surf2surf( 
   subject = 'bert',
   target_subject = 'fsaverage', 
   trg_type  = 'curv', 
   src_type  = 'curv', 
   hemi = "rh",
   sval = "thickness")
} 
</code></pre>

<hr>
<h2 id='mri_surf2surf.help'>Freesurfers mri_surf2surf Help</h2><span id='topic+mri_surf2surf.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_surf2surf</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_surf2surf.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mri_watershed'>Use Freesurfers MRI Watershed Algorithm</h2><span id='topic+mri_watershed'></span>

<h3>Description</h3>

<p>This function calls <code>mri_watershed</code> to extract a brain 
from an image, usually for skull stripping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_watershed(file, outfile = NULL, retimg = TRUE, opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mri_watershed_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="mri_watershed_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mri_watershed_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="mri_watershed_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mri_watershed</code></p>
</td></tr>
<tr><td><code id="mri_watershed_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fs_cmd">fs_cmd</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character or nifti depending on <code>retimg</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (have_fs()){
    mri_watershed("/path/to/T1.nii.gz")
} 

## End(Not run)  
</code></pre>

<hr>
<h2 id='mri_watershed.help'>MRI Watershed Help</h2><span id='topic+mri_watershed.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mri_watershed</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mri_watershed.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mris_convert'>Use Freesurfers MRIs Converter</h2><span id='topic+mris_convert'></span>

<h3>Description</h3>

<p>This function call  <code>mris_convert</code>, a 
general conversion program for converting between cortical surface file formats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_convert(infile, outfile = NULL, ext = ".asc", opts = "", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mris_convert_+3A_infile">infile</code></td>
<td>
<p>(character) file path for input file</p>
</td></tr>
<tr><td><code id="mris_convert_+3A_outfile">outfile</code></td>
<td>
<p>(character) output file path</p>
</td></tr>
<tr><td><code id="mris_convert_+3A_ext">ext</code></td>
<td>
<p>(character) output file extension, default is set to .asc</p>
</td></tr>
<tr><td><code id="mris_convert_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to add to front of command</p>
</td></tr>
<tr><td><code id="mris_convert_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of output file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 bert_surf_dir = file.path(fs_subj_dir(), "bert", "surf")
 asc_file = mris_convert(
 infile = file.path(bert_surf_dir, "lh.white")
 )  
} 
</code></pre>

<hr>
<h2 id='mris_convert_annot'>Convert Annotation file</h2><span id='topic+mris_convert_annot'></span>

<h3>Description</h3>

<p>This function call <code>mris_convert</code>, 
using the <code>--annot</code> option
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_convert_annot(annot, opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mris_convert_annot_+3A_annot">annot</code></td>
<td>
<p>(character) annotation or gifti label data</p>
</td></tr>
<tr><td><code id="mris_convert_annot_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to 
<code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
<tr><td><code id="mris_convert_annot_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="#topic+mris_convert">mris_convert</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 bert_dir = file.path(fs_subj_dir(), "bert")
 gii_file = mris_convert_annot(
 infile = file.path(bert_dir, "surf", "lh.white"),
 annot = file.path(bert_dir, "label", "lh.aparc.annot"),
 ext = ".gii"
 )  
 gii = mris_convert_annot(
 infile = file.path(bert_dir, "surf", "lh.white"),
 annot = gii_file,
 ext = ".gii"
 )  
}   
</code></pre>

<hr>
<h2 id='mris_convert_curv'>Convert Curvature file</h2><span id='topic+mris_convert_curv'></span>

<h3>Description</h3>

<p>This function call <code>mris_convert</code>, 
using the <code>-c</code> option
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_convert_curv(curv, opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mris_convert_curv_+3A_curv">curv</code></td>
<td>
<p>(character) scalar curv overlay file</p>
</td></tr>
<tr><td><code id="mris_convert_curv_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to 
<code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
<tr><td><code id="mris_convert_curv_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="#topic+mris_convert">mris_convert</a></code>
</p>


<h3>Note</h3>

<p>The filename of the output may change due to how Freesurfer
does curvature conversions and you may need to paste the prefix to get
the correct filename, as seen in the example.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 bert_surf_dir = file.path(fs_subj_dir(), "bert", "surf")
 asc_file = mris_convert_curv(
 infile = file.path(bert_surf_dir, "lh.white"),
 curv = file.path(bert_surf_dir, "lh.thickness")
 )
 if (!file.exists(asc_file)) {
   asc_file = file.path(dirname(asc_file), paste0("lh.",
   basename(asc_file)))
 }
 res = read_fs_table(asc_file, header = FALSE)
 colnames(res) = c("index", "coord_1", "coord_2", "coord_3", "value")
 head(res)
}  
</code></pre>

<hr>
<h2 id='mris_convert_normals'>Convert Surface to Surface normals</h2><span id='topic+mris_convert_normals'></span>

<h3>Description</h3>

<p>This function call <code>mris_convert</code>, 
using the <code>-n</code> option
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_convert_normals(opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mris_convert_normals_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to 
<code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
<tr><td><code id="mris_convert_normals_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="#topic+mris_convert">mris_convert</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 bert_dir = file.path(fs_subj_dir(), "bert")
 asc_file = mris_convert_normals(
 infile = file.path(bert_dir, "surf", "lh.white")
 )  
readLines(asc_file, n = 6)
}   
</code></pre>

<hr>
<h2 id='mris_convert_vertex'>Convert Surface to vertex file</h2><span id='topic+mris_convert_vertex'></span>

<h3>Description</h3>

<p>This function call <code>mris_convert</code>, 
using the <code>-v</code> option
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_convert_vertex(opts = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mris_convert_vertex_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to 
<code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
<tr><td><code id="mris_convert_vertex_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="#topic+mris_convert">mris_convert</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="#topic+mris_convert">mris_convert</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 bert_surf_dir = file.path(fs_subj_dir(), "bert", "surf")
 asc_file = mris_convert_vertex(
 infile = file.path(bert_surf_dir, "lh.white")
 )  
 readLines(asc_file, n = 6)
 
} 
</code></pre>

<hr>
<h2 id='mris_convert.help'>Help file for Freesurfers MRIs Converter</h2><span id='topic+mris_convert.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mris_convert</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_convert.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='mris_euler_number'>MRI Euler Number</h2><span id='topic+mris_euler_number'></span>

<h3>Description</h3>

<p>This function calls <code>mris_euler_number</code> to 
calculate the Euler Number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_euler_number(file, outfile = NULL, opts = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mris_euler_number_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="mris_euler_number_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mris_euler_number_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mris_euler_number</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code>system</code> command
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (have_fs() &amp;&amp; requireNamespace("oro.nifti", quietly = TRUE)) {
   img = oro.nifti::nifti(array(rnorm(5*5*5), dim = c(5,5,5))) 
   res = mris_euler_number(img, outfile = tempfile(fileext = ".mgz"))
} 

## End(Not run)
</code></pre>

<hr>
<h2 id='mris_euler_number.help'>MRI Euler Number Help</h2><span id='topic+mris_euler_number.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mris_euler_number</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mris_euler_number.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='nii2mnc'>Convert NIfTI to MNC</h2><span id='topic+nii2mnc'></span>

<h3>Description</h3>

<p>This function calls <code>nii2mnc</code> 
to convert NIfTI to MNC files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nii2mnc(file, outfile = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nii2mnc_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="nii2mnc_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character filename of output
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs() &amp;&amp; requireNamespace("oro.nifti", quietly = TRUE)) {
   img = oro.nifti::nifti(array(rnorm(5*5*5), dim = c(5,5,5)))  
   mnc = nii2mnc(img)
   img_file = mnc2nii(mnc)
}
</code></pre>

<hr>
<h2 id='nii2mnc.help'>Convert NIfTI to MNC Help</h2><span id='topic+nii2mnc.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>mnc2nii</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nii2mnc.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='nu_correct'>Use Freesurfers Non-Uniformity Correction</h2><span id='topic+nu_correct'></span>

<h3>Description</h3>

<p>This function calls <code>nu_correct</code> 
to correct for non-uniformity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nu_correct(file, mask = NULL, opts = "", verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nu_correct_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="nu_correct_+3A_mask">mask</code></td>
<td>
<p>(character or nifti) Mask to use for correction.</p>
</td></tr>
<tr><td><code id="nu_correct_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>mri_segment</code></p>
</td></tr>
<tr><td><code id="nu_correct_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="nu_correct_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fs_cmd">fs_cmd</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class nifti depending on <code>retimg</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (have_fs()){
    nu_correct("/path/to/T1.nii.gz")
} 

## End(Not run) 
</code></pre>

<hr>
<h2 id='nu_correct.help'>Non-Uniformity Correction Help</h2><span id='topic+nu_correct.help'></span>

<h3>Description</h3>

<p>This calls Freesurfer's <code>nu_correct</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nu_correct.help()
</code></pre>


<h3>Value</h3>

<p>Result of <code>fs_help</code>
</p>

<hr>
<h2 id='read_annotation'>Read Freesurfer annotation file</h2><span id='topic+read_annotation'></span>

<h3>Description</h3>

<p>Reads Freesurfer binary annotation files
that contain information on vertex labels
and colours for use in analyses and
brain area lookups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_annotation(path, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_annotation_+3A_path">path</code></td>
<td>
<p>path to annotation file, usually with extension <code>annot</code></p>
</td></tr>
<tr><td><code id="read_annotation_+3A_verbose">verbose</code></td>
<td>
<p>logical.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is heavily
based on Freesurfer's read_annotation.m
Original Author: Bruce Fischl
CVS Revision Info:
$Author: greve $
$Date: 2014/02/25 19:54:10 $
$Revision: 1.10 $
</p>


<h3>Value</h3>

<p>list of 3 with vertices, labels, and colortable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
    bert_dir = file.path(fs_subj_dir(), "bert")
    annot_file = file.path(bert_dir, "label", "lh.aparc.annot")
    res = read_annotation(annot_file)
} 
</code></pre>

<hr>
<h2 id='read_aseg_stats'>Read Anatomical Segmentation Statistics</h2><span id='topic+read_aseg_stats'></span>

<h3>Description</h3>

<p>Reads an <code>aseg.stats</code> file from an individual subject
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_aseg_stats(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_aseg_stats_+3A_file">file</code></td>
<td>
<p>aseg.stats file from Freesurfer</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of 2 <code>data.frame</code>s, one with the global measures and one 
with the structure-specific measures.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 file = file.path(fs_subj_dir(), "bert", "stats", "aseg.stats")
 out = read_aseg_stats(file)
}
</code></pre>

<hr>
<h2 id='read_fs_label'>Read Label File</h2><span id='topic+read_fs_label'></span>

<h3>Description</h3>

<p>Reads an <code>label</code> file from an individual subject
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_fs_label(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_fs_label_+3A_file">file</code></td>
<td>
<p>label file from Freesurfer</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> with 5 columns:
</p>

<dl>
<dt><code>vertex_num</code>:</dt><dd><p>Vertex Number</p>
</dd>
<dt><code>r_coord</code>:</dt><dd><p>Coordinate in RL direction</p>
</dd>
<dt><code>a_coord</code>:</dt><dd><p>Coordinate in AP direction</p>
</dd>
<dt><code>s_coord</code>:</dt><dd><p>Coordinate in SI direction</p>
</dd>
<dt><code>value</code>:</dt><dd><p> Value of label (depends on file)</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
 file = file.path(fs_subj_dir(), "bert", "label", "lh.BA1.label")
 if (!file.exists(file)) {
 file = file.path(fs_subj_dir(), "bert", "label", "lh.BA1_exvivo.label")
 }
 out = read_fs_label(file)
}
</code></pre>

<hr>
<h2 id='read_fs_table'>Read Freesurfer Table Output</h2><span id='topic+read_fs_table'></span>

<h3>Description</h3>

<p>This function reads output from a Freesurfer table command,
e.g. <code>aparcstats2table</code>, <code>asegstats2table</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_fs_table(file, sep = NULL, stringsAsFactors = FALSE, header = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_fs_table_+3A_file">file</code></td>
<td>
<p>(character path) filename of text file</p>
</td></tr>
<tr><td><code id="read_fs_table_+3A_sep">sep</code></td>
<td>
<p>separator to override attribute of file, to 
pass to <code><a href="utils.html#topic+read.table">read.table</a></code>.</p>
</td></tr>
<tr><td><code id="read_fs_table_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>(logical) passed to <code><a href="utils.html#topic+read.table">read.table</a></code></p>
</td></tr>
<tr><td><code id="read_fs_table_+3A_header">header</code></td>
<td>
<p>Is there a header in the data</p>
</td></tr>
<tr><td><code id="read_fs_table_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="utils.html#topic+read.table">read.table</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> from the file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   outfile = aparcstats2table(subjects = "bert",
                    hemi = "lh",
                    meas = "thickness")
   df = read_fs_table(outfile)
   seg_outfile = asegstats2table(subjects = "bert", meas = "mean")
   df_seg = read_fs_table(seg_outfile)
}
## Not run: 
### using the pipe
if (requireNamespace("magrittr", quietly = TRUE)) {
df_seg = asegstats2table(subjects = "bert", meas = "mean") %&gt;% 
            read_fs_table
            }

## End(Not run)
</code></pre>

<hr>
<h2 id='readmgz'>Read MGH or MGZ File</h2><span id='topic+readmgz'></span><span id='topic+readmgh'></span>

<h3>Description</h3>

<p>This function calls <code>mri_convert</code> 
to convert MGH/MGZ files to NIfTI, then reads it in using 
<code>readnii</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readmgz(file)

readmgh(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readmgz_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>nifti</code>
</p>

<hr>
<h2 id='readmnc'>Read MNC File</h2><span id='topic+readmnc'></span>

<h3>Description</h3>

<p>This function calls <code>mnc2nii</code> 
to convert MNC files to NIfTI, then reads it in using 
<code>readnii</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readmnc(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readmnc_+3A_file">file</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>nifti</code>
</p>

<hr>
<h2 id='recon'>Reconstruction from Freesurfer</h2><span id='topic+recon'></span>

<h3>Description</h3>

<p>Reconstruction from Freesurfer with most of the options
implemented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recon(
  infile,
  outdir = NULL,
  subjid,
  motioncor = TRUE,
  nuintensitycor = TRUE,
  talairach = TRUE,
  normalization = TRUE,
  skullstrip = TRUE,
  gcareg = TRUE,
  canorm = TRUE,
  careg = TRUE,
  rmneck = TRUE,
  skull_lta = TRUE,
  calabel = TRUE,
  normalization2 = TRUE,
  segmentation = TRUE,
  fill = TRUE,
  tessellate = TRUE,
  smooth1 = TRUE,
  inflate1 = TRUE,
  qsphere = TRUE,
  fix = TRUE,
  finalsurfs = TRUE,
  smooth2 = TRUE,
  inflate2 = TRUE,
  cortribbon = TRUE,
  sphere = TRUE,
  surfreg = TRUE,
  contrasurfreg = TRUE,
  avgcurv = TRUE,
  cortparc = TRUE,
  parcstats = TRUE,
  cortparc2 = TRUE,
  parcstats2 = TRUE,
  aparc2aseg = TRUE,
  verbose = TRUE,
  opts = ""
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recon_+3A_infile">infile</code></td>
<td>
<p>Input filename (dcm or nii)</p>
</td></tr>
<tr><td><code id="recon_+3A_outdir">outdir</code></td>
<td>
<p>Output directory</p>
</td></tr>
<tr><td><code id="recon_+3A_subjid">subjid</code></td>
<td>
<p>subject id</p>
</td></tr>
<tr><td><code id="recon_+3A_motioncor">motioncor</code></td>
<td>
<p>When there are multiple source volumes, this step will 
correct for small motions between them and then average them together. 
The input are the volumes found in file(s) mri/orig/XXX.mgz. The output 
will be the volume mri/orig.mgz. If no runs are found, then it looks for 
a volume in mri/orig (or mri/orig.mgz). If that volume is there, then it 
is used in subsequent processes as if it was the motion corrected volume. 
If no volume is found, then the process exits with errors.</p>
</td></tr>
<tr><td><code id="recon_+3A_nuintensitycor">nuintensitycor</code></td>
<td>
<p>Non-parametric Non-uniform intensity Normalization 
(N3), corrects for intensity non-uniformity in MR data, making relatively 
few assumptions about the data. This runs the MINC tool 'nu_correct'. By 
default, four iterations of nu_correct are run. The flag '-nuiterations'
specification of some other number of iterations.</p>
</td></tr>
<tr><td><code id="recon_+3A_talairach">talairach</code></td>
<td>
<p>computes the affine transform from the orig volume to the 
MNI305 atlas using the MINC program mritotal. 
Creates the files mri/transform/talairach.auto.xfm and talairach.xfm.</p>
</td></tr>
<tr><td><code id="recon_+3A_normalization">normalization</code></td>
<td>
<p>Performs intensity normalization of the orig 
volume and places the result in mri/T1.mgz</p>
</td></tr>
<tr><td><code id="recon_+3A_skullstrip">skullstrip</code></td>
<td>
<p>Removes the skull from mri/T1.mgz and 
stores the result in mri/brainmask.auto.mgz and 
mri/brainmask.mgz. Runs the mri_watershed program.</p>
</td></tr>
<tr><td><code id="recon_+3A_gcareg">gcareg</code></td>
<td>
<p>Computes transform to align the mri/nu.mgz volume 
to the default GCA atlas found in FREESURFER_HOME/average. 
Creates the file mri/transforms/talairach.lta.</p>
</td></tr>
<tr><td><code id="recon_+3A_canorm">canorm</code></td>
<td>
<p>Further normalization, based on GCA model. 
Creates mri/norm.mgz.</p>
</td></tr>
<tr><td><code id="recon_+3A_careg">careg</code></td>
<td>
<p>Computes a nonlinear transform to align with GCA atlas. 
Creates the file mri/transform/talairach.m3z.</p>
</td></tr>
<tr><td><code id="recon_+3A_rmneck">rmneck</code></td>
<td>
<p>The neck region is removed from the NU-corrected volume mri/nu.mgz. 
Makes use of transform computed from prior CA Register stage. 
Creates the file mri/nu_noneck.mgz.</p>
</td></tr>
<tr><td><code id="recon_+3A_skull_lta">skull_lta</code></td>
<td>
<p>Computes transform to align volume mri/nu_noneck.mgz
with GCA volume possessing the skull. 
Creates the file mri/transforms/talairach_with_skull.lta.</p>
</td></tr>
<tr><td><code id="recon_+3A_calabel">calabel</code></td>
<td>
<p>Labels subcortical structures, based in GCA model. 
Creates the files mri/aseg.auto.mgz and mri/aseg.mgz.</p>
</td></tr>
<tr><td><code id="recon_+3A_normalization2">normalization2</code></td>
<td>
<p>Performs a second (major) intensity correction 
using only the brain volume as the input 
(so that it has to be done after the skull strip). 
Intensity normalization works better when the skull 
has been removed. Creates a new brain.mgz volume. 
If -noaseg flag is used, then aseg.mgz is not used by mri_normalize.</p>
</td></tr>
<tr><td><code id="recon_+3A_segmentation">segmentation</code></td>
<td>
<p>Attempts to separate white matter from 
everything else. The input is mri/brain.mgz, and the 
output is mri/wm.mgz. Uses intensity, neighborhood, 
and smoothness constraints. This is the volume that is 
edited when manually fixing defects. Calls mri_segment, 
mri_edit_wm_with_aseg, and mri_pretess. To keep previous edits, 
run with -keepwmedits. If -noaseg is used, them mri_edit_wm_aseg 
is skipped.</p>
</td></tr>
<tr><td><code id="recon_+3A_fill">fill</code></td>
<td>
<p>This creates the subcortical mass from which the orig 
surface is created. The mid brain is cut from the cerebrum, 
and the hemispheres are cut from each other. The left hemisphere 
is binarized to 255. The right hemisphere is binarized to 127. 
The input is mri/wm.mgz and the output is mri/filled.mgz. 
Calls mri_fill. If the cut fails, then seed points can be supplied 
(see -cc-crs, -pons-crs, -lh-crs, -rh-crs). 
The actual points used for the cutting planes in the corpus callosum
and pons can be found in scripts/ponscc.cut.log. 
This is the last stage of volumetric processing. 
If -noaseg is used, then aseg.mgz is not used by mri_fill.</p>
</td></tr>
<tr><td><code id="recon_+3A_tessellate">tessellate</code></td>
<td>
<p>This is the step where the orig surface 
(ie, surf/?h.orig.nofix) is created. 
The surface is created by covering the filled hemisphere 
with triangles. Runs mri_tessellate. The places where the 
points of the triangles meet are called vertices. 
Creates the file surf/?h.orig.nofix Note: the 
topology fixer will create the surface ?h.orig.</p>
</td></tr>
<tr><td><code id="recon_+3A_smooth1">smooth1</code></td>
<td>
<p>Calls mris_smooth. Smooth1 is the step just after tessellation</p>
</td></tr>
<tr><td><code id="recon_+3A_inflate1">inflate1</code></td>
<td>
<p>Inflation of the surf/?h.smoothwm(.nofix) surface to create surf/?h.inflated.</p>
</td></tr>
<tr><td><code id="recon_+3A_qsphere">qsphere</code></td>
<td>
<p>automatic topology fixing. It is a quasi-homeomorphic spherical transformation of the inflated surface designed to localize topological defects for the subsequent automatic topology fixer.</p>
</td></tr>
<tr><td><code id="recon_+3A_fix">fix</code></td>
<td>
<p>Finds topological defects (ie, holes in a filled hemisphere) using surf/?h.qsphere.nofix, and changes the orig surface (surf/?h.orig.nofix) to remove the defects. Changes the number of vertices. All the defects will be removed, but the user should check the orig surface in the volume to make sure that it looks appropriate. Calls mris_fix_topology.</p>
</td></tr>
<tr><td><code id="recon_+3A_finalsurfs">finalsurfs</code></td>
<td>
<p>Creates the ?h.white and ?h.pial surfaces as well as the thickness file (?h.thickness) and curvature file (?h.curv). The white surface is created by &quot;nudging&quot; the orig surface so that it closely follows the white-gray intensity gradient as found in the T1 volume. The pial surface is created by expanding the white surface so that it closely follows the gray-CSF intensity gradient as found in the T1 volume. Calls mris_make_surfaces.</p>
</td></tr>
<tr><td><code id="recon_+3A_smooth2">smooth2</code></td>
<td>
<p>the step just after topology fixing.</p>
</td></tr>
<tr><td><code id="recon_+3A_inflate2">inflate2</code></td>
<td>
<p>inflate2 is the step just after topology fixing</p>
</td></tr>
<tr><td><code id="recon_+3A_cortribbon">cortribbon</code></td>
<td>
<p>Creates binary volume masks of the cortical ribbon, ie, each voxel is either a 1 or 0 depending upon whether it falls in the ribbon or not. Saved as ?h.ribbon.mgz. Uses mgz regardless of whether the -mgz option is used.</p>
</td></tr>
<tr><td><code id="recon_+3A_sphere">sphere</code></td>
<td>
<p>Inflates the orig surface into a sphere while minimizing metric distortion. This step is necessary in order to register the surface to the spherical atlas. (also known as the spherical morph). Calls mris_sphere. Creates surf/?h.sphere.</p>
</td></tr>
<tr><td><code id="recon_+3A_surfreg">surfreg</code></td>
<td>
<p>Registers the orig surface to the spherical atlas through surf/?h.sphere. The surfaces are first coarsely registered by aligning the large scale folding patterns found in ?h.sulc and then fine tuned using the small-scale patterns as in ?h.curv. Calls mris_register. Creates surf/?h.sphere.reg.</p>
</td></tr>
<tr><td><code id="recon_+3A_contrasurfreg">contrasurfreg</code></td>
<td>
<p>Same as ipsilateral but registers to the contralateral atlas. Creates lh.rh.sphere.reg and rh.lh.sphere.reg.</p>
</td></tr>
<tr><td><code id="recon_+3A_avgcurv">avgcurv</code></td>
<td>
<p>Resamples the average curvature from the atlas to that of the subject. Allows the user to display activity on the surface of an individual with the folding pattern (ie, anatomy) of a group. Calls mrisp_paint. Creates surf/?h.avg_curv.</p>
</td></tr>
<tr><td><code id="recon_+3A_cortparc">cortparc</code></td>
<td>
<p>Assigns a neuroanatomical label to each location on the cortical surface. Incorporates both geometric information derived from the cortical model (sulcus and curvature), and neuroanatomical convention. Calls mris_ca_label. -cortparc creates label/?h.aparc.annot, and -cortparc2 creates /label/?h.aparc.a2005s.annot.</p>
</td></tr>
<tr><td><code id="recon_+3A_parcstats">parcstats</code></td>
<td>
<p>Runs mris_anatomical_stats to create a summary table of cortical parcellation statistics for each structure, including 1. structure name 2. number of vertices 3. total surface area (mm2) 4. total gray matter volume (mm3) 5. average cortical thickness (mm) 6. standard error of cortical thickness (mm) 7. integrated rectified mean curvature 8. integrated rectified Gaussian curvature 9. folding index 10. intrinsic curvature index. For -parcstats, the file is saved in stats/?h.aparc.stats. For -parcstats2, the file is saved in stats/?h.aparc.a2005s.stats.</p>
</td></tr>
<tr><td><code id="recon_+3A_cortparc2">cortparc2</code></td>
<td>
<p>see cortparc argument</p>
</td></tr>
<tr><td><code id="recon_+3A_parcstats2">parcstats2</code></td>
<td>
<p>see cortparc2 argument</p>
</td></tr>
<tr><td><code id="recon_+3A_aparc2aseg">aparc2aseg</code></td>
<td>
<p>Maps the cortical labels from the automatic cortical parcellation (aparc) to the automatic segmentation volume (aseg). The result can be used as the aseg would.</p>
</td></tr>
<tr><td><code id="recon_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="recon_+3A_opts">opts</code></td>
<td>
<p>Additional options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="base.html#topic+system">system</a></code>
</p>

<hr>
<h2 id='recon_all'>Reconstruction from Freesurfer for All Steps</h2><span id='topic+recon_all'></span>

<h3>Description</h3>

<p>Reconstruction from Freesurfer for All Steps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recon_all(
  infile = NULL,
  outdir = NULL,
  subjid = NULL,
  verbose = TRUE,
  opts = "-all",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recon_all_+3A_infile">infile</code></td>
<td>
<p>Input filename (dcm or nii)</p>
</td></tr>
<tr><td><code id="recon_all_+3A_outdir">outdir</code></td>
<td>
<p>Output directory</p>
</td></tr>
<tr><td><code id="recon_all_+3A_subjid">subjid</code></td>
<td>
<p>subject id</p>
</td></tr>
<tr><td><code id="recon_all_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="recon_all_+3A_opts">opts</code></td>
<td>
<p>Additional options</p>
</td></tr>
<tr><td><code id="recon_all_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="#topic+reconner">reconner</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="base.html#topic+system">system</a></code>
</p>


<h3>Note</h3>

<p>If you would like to restart a <code>recon-all</code> run,
change opts so that <code>opts = "-make all"</code>
</p>

<hr>
<h2 id='recon_con1'>Reconstruction from Motion Correction to Skull Strip</h2><span id='topic+recon_con1'></span><span id='topic+recon_con1+2Crecon_con2+2Crecon_con3'></span><span id='topic+autorecon1'></span><span id='topic+recon_con2'></span><span id='topic+autorecon2'></span><span id='topic+recon_con3'></span><span id='topic+autorecon3'></span>

<h3>Description</h3>

<p>Reconstruction from Freesurfer for Step 1-5 
(Motion Correction to Skull Strip), which calls <code>-autorecon1</code>
in <code>recon-all</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recon_con1(infile, outdir = NULL, subjid, verbose = TRUE)

autorecon1(infile, outdir = NULL, subjid, verbose = TRUE)

recon_con2(infile, outdir = NULL, subjid, verbose = TRUE)

autorecon2(infile, outdir = NULL, subjid, verbose = TRUE)

recon_con3(infile, outdir = NULL, subjid, verbose = TRUE)

autorecon3(infile, outdir = NULL, subjid, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recon_con1_+3A_infile">infile</code></td>
<td>
<p>Input filename (dcm or nii)</p>
</td></tr>
<tr><td><code id="recon_con1_+3A_outdir">outdir</code></td>
<td>
<p>Output directory</p>
</td></tr>
<tr><td><code id="recon_con1_+3A_subjid">subjid</code></td>
<td>
<p>subject id</p>
</td></tr>
<tr><td><code id="recon_con1_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="base.html#topic+system">system</a></code>
</p>


<h3>Note</h3>

<p>See https://surfer.nmr.mgh.harvard.edu/fswiki/recon-all for the 
steps of each <code>autorecon1-3</code>. 
If you set <code>infile = NULL</code>, then you can omit the 
<code>-i</code> flag in <code>recon-all</code>.
</p>

<hr>
<h2 id='reconner'>Reconstruction Helper for recon from Freesurfer</h2><span id='topic+reconner'></span>

<h3>Description</h3>

<p>Wrapper for the <code>recon-all</code> function in Freesurfer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reconner(
  infile = NULL,
  outdir = NULL,
  subjid = NULL,
  verbose = TRUE,
  opts = "-all",
  force = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reconner_+3A_infile">infile</code></td>
<td>
<p>Input filename (dcm or nii)</p>
</td></tr>
<tr><td><code id="reconner_+3A_outdir">outdir</code></td>
<td>
<p>Output directory</p>
</td></tr>
<tr><td><code id="reconner_+3A_subjid">subjid</code></td>
<td>
<p>subject id</p>
</td></tr>
<tr><td><code id="reconner_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="reconner_+3A_opts">opts</code></td>
<td>
<p>Additional options</p>
</td></tr>
<tr><td><code id="reconner_+3A_force">force</code></td>
<td>
<p>Force running of the reconstruction</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="base.html#topic+system">system</a></code>
</p>


<h3>Note</h3>

<p>If you set <code>infile = NULL</code>, then you can omit the 
<code>-i</code> flag in <code>recon-all</code>
</p>

<hr>
<h2 id='run_check_fs_cmd'>Run and Check a Freesurfer Command</h2><span id='topic+run_check_fs_cmd'></span>

<h3>Description</h3>

<p>Checks whether an output filename exists before a command
has run, prints and runs the command, and then checks the output from the
result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_check_fs_cmd(cmd, outfile, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_check_fs_cmd_+3A_cmd">cmd</code></td>
<td>
<p>Command to be run</p>
</td></tr>
<tr><td><code id="run_check_fs_cmd_+3A_outfile">outfile</code></td>
<td>
<p>Output file to be produced</p>
</td></tr>
<tr><td><code id="run_check_fs_cmd_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible NULL
</p>


<h3>See Also</h3>

<p><code><a href="#topic+check_fs_result">check_fs_result</a></code>
</p>

<hr>
<h2 id='set_fs_subj_dir'>Set Freesurfer Subjects Directory</h2><span id='topic+set_fs_subj_dir'></span>

<h3>Description</h3>

<p>Sets the SUBJECTS_DIR variable in the system environment or 
<code>options("fs.subj_dir" = x)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_fs_subj_dir(x = file.path(fs_dir(), "subjects"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_fs_subj_dir_+3A_x">x</code></td>
<td>
<p>path to SUBJECTS_DIR defaults to <code>file.path(fs_dir(), "subjects")</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects ('SUBJECTS_DIR' 
environment variable set, and 'fs.subj_dir' option set)
</p>

<hr>
<h2 id='surf_convert'>Convert Surface Data to ASCII</h2><span id='topic+surf_convert'></span>

<h3>Description</h3>

<p>This function calls <code>mri_convert</code> to convert a measure
from surfaces to an ASCII file and reads it in.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surf_convert(file, outfile = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="surf_convert_+3A_file">file</code></td>
<td>
<p>(character) input filename of curvature measure</p>
</td></tr>
<tr><td><code id="surf_convert_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename (if wanted to be saved)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
   fname = file.path(fs_subj_dir(), "bert", "surf", "lh.thickness")
   out = surf_convert(fname)
}
</code></pre>

<hr>
<h2 id='surface_to_obj'>Convert Freesurfer Surface to Wavefront OBJ</h2><span id='topic+surface_to_obj'></span>

<h3>Description</h3>

<p>Reads in a surface file from Freesurfer and converts it
to a Wavefront OBJ file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surface_to_obj(infile, outfile = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="surface_to_obj_+3A_infile">infile</code></td>
<td>
<p>Input surface file</p>
</td></tr>
<tr><td><code id="surface_to_obj_+3A_outfile">outfile</code></td>
<td>
<p>output Wavefront OBJ file.  If <code>NULL</code>, 
a temporary file will be created</p>
</td></tr>
<tr><td><code id="surface_to_obj_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to 
<code><a href="#topic+convert_surface">convert_surface</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character filename of output file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
infile = file.path(fs_subj_dir(), 
                   "bert", "surf", "rh.pial")
res = surface_to_obj(infile = infile)
}
</code></pre>

<hr>
<h2 id='surface_to_triangles'>Convert Freesurfer Surface to Triangles</h2><span id='topic+surface_to_triangles'></span>

<h3>Description</h3>

<p>Reads in a surface file from Freesurfer and 
converts it into triangles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surface_to_triangles(infile, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="surface_to_triangles_+3A_infile">infile</code></td>
<td>
<p>Input surface file</p>
</td></tr>
<tr><td><code id="surface_to_triangles_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to 
<code><a href="#topic+convert_surface">convert_surface</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix of triangles with the number of rows equal
to the number of faces (not the triplets - total faces)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fs()) {
infile = file.path(fs_subj_dir(), 
                   "bert", "surf", "rh.pial")
right_triangles = surface_to_triangles(infile = infile)
infile = file.path(fs_subj_dir(), 
                   "bert", "surf", "lh.pial")
left_triangles = surface_to_triangles(infile = infile) 
if (requireNamespace("rgl", quietly = TRUE)) {
  rgl::open3d()
  rgl::triangles3d(right_triangles, 
  color = rainbow(nrow(right_triangles)))
  rgl::triangles3d(left_triangles, 
  color = rainbow(nrow(left_triangles)))
}
infile = file.path(fs_subj_dir(), 
                   "bert", "surf", "rh.inflated")
right_triangles = surface_to_triangles(infile = infile)  
infile = file.path(fs_subj_dir(), 
                   "bert", "surf", "lh.inflated") 
left_triangles = surface_to_triangles(infile = infile)  
if (requireNamespace("rgl", quietly = TRUE)) {
  rgl::open3d()
  rgl::triangles3d(left_triangles, 
  color = rainbow(nrow(left_triangles)))
  rgl::triangles3d(right_triangles, 
  color = rainbow(nrow(right_triangles)))   
} 
}
</code></pre>

<hr>
<h2 id='trac_all'>Tract Reconstruction Helper for trac-all from Freesurfer for All Steps</h2><span id='topic+trac_all'></span>

<h3>Description</h3>

<p>Wrapper for the <code>trac-all</code> function in Freesurfer 
for All Steps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trac_all(infile, outdir = NULL, subjid, verbose = TRUE, opts = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trac_all_+3A_infile">infile</code></td>
<td>
<p>Input filename (dcm or nii)</p>
</td></tr>
<tr><td><code id="trac_all_+3A_outdir">outdir</code></td>
<td>
<p>Output directory</p>
</td></tr>
<tr><td><code id="trac_all_+3A_subjid">subjid</code></td>
<td>
<p>subject id</p>
</td></tr>
<tr><td><code id="trac_all_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="trac_all_+3A_opts">opts</code></td>
<td>
<p>Additional options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="base.html#topic+system">system</a></code>
</p>

<hr>
<h2 id='trac_prep'>Tract Reconstruction for Each Step</h2><span id='topic+trac_prep'></span><span id='topic+trac_bedpost'></span><span id='topic+trac_path'></span>

<h3>Description</h3>

<p>Reconstruction from Freesurfer for Preprocessing,
Bedpost, and Path reconstruction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trac_prep(infile, outdir = NULL, subjid, verbose = TRUE)

trac_bedpost(infile, outdir = NULL, subjid, verbose = TRUE)

trac_path(infile, outdir = NULL, subjid, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trac_prep_+3A_infile">infile</code></td>
<td>
<p>Input filename (dcm or nii)</p>
</td></tr>
<tr><td><code id="trac_prep_+3A_outdir">outdir</code></td>
<td>
<p>Output directory</p>
</td></tr>
<tr><td><code id="trac_prep_+3A_subjid">subjid</code></td>
<td>
<p>subject id</p>
</td></tr>
<tr><td><code id="trac_prep_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="base.html#topic+system">system</a></code>
</p>

<hr>
<h2 id='tracker'>Tract Reconstruction Helper for trac-all from Freesurfer</h2><span id='topic+tracker'></span>

<h3>Description</h3>

<p>Wrapper for the <code>trac-all</code> function in Freesurfer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tracker(infile, outdir = NULL, subjid, verbose = TRUE, opts = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tracker_+3A_infile">infile</code></td>
<td>
<p>Input filename (dcm or nii)</p>
</td></tr>
<tr><td><code id="tracker_+3A_outdir">outdir</code></td>
<td>
<p>Output directory</p>
</td></tr>
<tr><td><code id="tracker_+3A_subjid">subjid</code></td>
<td>
<p>subject id, if NULL, the basename of the infile will be used</p>
</td></tr>
<tr><td><code id="tracker_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="tracker_+3A_opts">opts</code></td>
<td>
<p>Additional options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of <code><a href="base.html#topic+system">system</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

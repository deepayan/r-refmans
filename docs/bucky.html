<!DOCTYPE html><html><head><title>Help for package bucky</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bucky}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bucky-package'>
<p>Bucky's Archive for Data Analysis in the Social Sciences</p></a></li>
<li><a href='#mi.eval'>
<p>Multiple-imputation evaluation</p></a></li>
<li><a href='#robust.summary'>
<p>Robust summary</p></a></li>
<li><a href='#robustify'>
<p>Robustify a model</p></a></li>
<li><a href='#summary.mi.estimates'>
<p>Summary for multiple imputation</p></a></li>
<li><a href='#vcovCR'>
<p>Clustered Robust Covariance Matrix Estimation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bucky's Archive for Data Analysis in the Social Sciences</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-03-25</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexander Tahk <a href="https://orcid.org/0000-0001-7895-9420"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexander Tahk &lt;tahk@alum.mit.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, sandwich, lmtest</td>
</tr>
<tr>
<td>Suggests:</td>
<td>MASS, parallel, Amelia, mice</td>
</tr>
<tr>
<td>Enhances:</td>
<td>texreg, stargazer</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/atahk/bucky">https://github.com/atahk/bucky</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions for various statistical techniques commonly used in the social sciences, including functions to compute clustered robust standard errors, combine results across multiply-imputed data sets, and simplify the addition of robust and clustered robust standard errors.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-25 18:34:46 UTC; tahk</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-25 23:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bucky-package'>
Bucky's Archive for Data Analysis in the Social Sciences
</h2><span id='topic+bucky-package'></span><span id='topic+bucky'></span>

<h3>Description</h3>

<p>Provides functions for various statistical techniques commonly used in the social sciences, including functions to compute clustered robust standard errors, combine results across multiply-imputed data sets, and simplify the addition of robust and clustered robust standard errors.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> bucky</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Bucky's Archive for Data Analysis in the Social Sciences</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.7</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-03-25</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> c(person("Alexander", "Tahk", role = c("aut", "cre"), email = "tahk@alum.mit.edu", comment = c(ORCID = "0000-0001-7895-9420")))</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Alexander Tahk [aut, cre] (&lt;https://orcid.org/0000-0001-7895-9420&gt;)</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Alexander Tahk &lt;tahk@alum.mit.edu&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.1.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> methods, sandwich, lmtest</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> MASS, parallel, Amelia, mice</td>
</tr>
<tr>
 <td style="text-align: left;">
Enhances: </td><td style="text-align: left;"> texreg, stargazer</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/atahk/bucky</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Provides functions for various statistical techniques commonly used in the social sciences, including functions to compute clustered robust standard errors, combine results across multiply-imputed data sets, and simplify the addition of robust and clustered robust standard errors.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
bucky-package           Bucky's Archive for Data Analysis in the Social
                        Sciences
mi.eval                 Multiple-imputation evaluation
robust.summary          Robust summary
robustify               Robustify a model
summary.mi.estimates    Summary for multiple imputation
vcovCR                  Clustered Robust Covariance Matrix Estimation
</pre>


<h3>Author(s)</h3>

<p>Alexander Tahk [aut, cre] (&lt;https://orcid.org/0000-0001-7895-9420&gt;)
</p>
<p>Maintainer: Alexander Tahk &lt;tahk@alum.mit.edu&gt;
</p>


<h3>References</h3>

<p>Cameron, A. Colin, and Douglas L. Miller.
&ldquo;A Practitioner's Guide to Cluster-Robust Inference.&rdquo;
<em>Journal of Human Resources</em> 50, no. 2 (Spring 2015): 317-372.
doi: <a href="https://doi.org/10.3368/jhr.50.2.317">10.3368/jhr.50.2.317</a>
</p>
<p>Little, Roderick J. A., and Donald B. Rubin.
&ldquo;The Analysis of Social Science Data with Missing Values.&rdquo;
<em>Sociological Methods &amp; Research</em>
18, no. 2-3 (November 1989): 292-326.
doi: <a href="https://doi.org/10.1177/0049124189018002004">10.1177/0049124189018002004</a>
</p>
<p>Rubin, Donald. B. <em>Multiple Imputation for Nonresponse in
Surveys</em>. New York: John Wiley &amp; Sons, 2004.
</p>


<h3>See Also</h3>

<p>See also
<code><a href="mice.html#topic+mice">mice</a></code>,
<code><a href="Amelia.html#topic+amelia-package">amelia-package</a></code>,
<code><a href="mitools.html#topic+MIcombine">MIcombine</a></code>,
<code><a href="sandwich.html#topic+sandwich">sandwich</a></code>
and
<code><a href="lmtest.html#topic+coeftest">coeftest</a></code>.
</p>

<hr>
<h2 id='mi.eval'>
Multiple-imputation evaluation
</h2><span id='topic+mi.eval'></span>

<h3>Description</h3>

<p>Evaluation of an expression across multiply imputed data sets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi.eval(EXPR, robust, cluster, coef., vcov., df.=NULL,
parallel=FALSE, lazy=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mi.eval_+3A_expr">EXPR</code></td>
<td>

<p>An R expression to evaluate. This expression must contain a <code>data</code>
argument that specifies a list containing the imputed data sets or a
an object of class
<code><a href="Amelia.html#topic+amelia">amelia</a></code>,
<code><a href="mice.html#topic+mids">mids</a></code>,
or
<code><a href="mitools.html#topic+imputationList">imputationList</a></code>.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_robust">robust</code></td>
<td>

<p>Whether to use Huber-White robust standard errors. The default is
<code>TRUE</code> if <code>cluster</code> is specified and <code>FALSE</code> otherwise.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_cluster">cluster</code></td>
<td>

<p>A vector specifying clusters for the purpose of computing clustered
robust standard errors. This can be a variable inside the
imputed data set. If unspecified, standard errors are not clustered. If
specified, <code>robust</code> cannot be <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_coef.">coef.</code></td>
<td>

<p>The function used to get a numeric vector of coefficient estimates when
evaluated on  an object returned from evaluating <code>EXPR</code> for each
data set. The default is to use <code><a href="stats.html#topic+coef">coef</a></code>.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_vcov.">vcov.</code></td>
<td>

<p>The function that returns a numeric matrix giving the variance-covariance
matrix when evaluated on an object returned from evaluating <code>EXPR</code>
for each data set. The default is to use <code><a href="#topic+vcovCR">vcovCR</a></code> if
<code>cluster</code> is specified, <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> if
<code>robust=TRUE</code> and <code>cluster</code> is not specified, and
<code><a href="stats.html#topic+vcov">vcov</a></code> otherwise.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_df.">df.</code></td>
<td>

<p>Either the degrees of freedom for each model or a function that
calculates degrees of freedom on an object returned from evaluating
<code>EXPR</code> for each data set. The default value of <code>NULL</code> uses
the minimum result of applying <code><a href="stats.html#topic+df.residual">df.residual</a></code> it
returns a numeric value when applied to the object returned by
<code>EXPR</code> and this object is not of class <code>glm</code> and <code>Inf</code>
otherwise.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_parallel">parallel</code></td>
<td>

<p>A logical indicating whether to evaluate <code>EXPR</code> across data sets in
parallel using <code><a href="parallel.html#topic+mclapply">mclapply</a></code>. Otherwise, 
evaluation is done serially using <code><a href="base.html#topic+lapply">lapply</a></code>.
<code>NULL</code> means to use parallel evaluation if and only if the
'parallel' package can be loaded and
<code>getOption("mc.cores", detectCores()-1L)</code> is greater than 1.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_lazy">lazy</code></td>
<td>

<p>A logical indicating whether to use lazy evaluation to avoid copying all
imputed data sets into memory. When the <code>data</code> argument to
<code>EXPR</code> generates the multiply imputed data set, this is generally a
bad idea because it means redoing the imputation multiple times. The
default value of <code>NULL</code> means to use lazy evaluation if and only if
the <code>data</code> argument to <code>EXPR</code> is a <code><a href="base.html#topic+name">name</a></code>.
</p>
</td></tr>
<tr><td><code id="mi.eval_+3A_...">...</code></td>
<td>

<p>Any additional arguments to be passed to <code><a href="base.html#topic+lapply">lapply</a></code> or
<code><a href="parallel.html#topic+mclapply">mclapply</a></code> when evaluating <code>EXPR</code> across data sets.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function evaluates a R command for each of several multiply imputed
data sets and combines results across data sets into a single set of
estimates. This is similar to the functionality provided by
<code><a href="mice.html#topic+with.mids">with.mids</a></code> but also works with multiply-imputed data
sets generated by other packages like 'Amelia' as well as those from
'mice'.
</p>
<p>For generating formatted tables of
regression coefficients, the outputted objects should be
compatible with the 'texreg' package. When used with <code>lm</code>,
<code>glm</code> or a few other types of models, these objects are also
compatible with the 'stargazer' package.
</p>


<h3>Value</h3>

<p>An object of class <code>mi.estimates</code> containing the coefficient
estimates, variance-covariance matrix, and related information.
</p>


<h3>See Also</h3>

<p>See Also <code><a href="#topic+summary.mi.estimates">summary.mi.estimates</a></code>,
<code><a href="mice.html#topic+with.mids">with.mids</a></code>,
<code><a href="Amelia.html#topic+amelia">amelia</a></code>,
<code><a href="mice.html#topic+mice">mice</a></code>,
<code><a href="stats.html#topic+coef">coef</a></code>,
<code><a href="stats.html#topic+vcov">vcov</a></code>
and
<code><a href="stats.html#topic+df.residual">df.residual</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("Amelia")) {
    ## Load data
    data(africa)
    africa$civlib &lt;- factor(round(africa$civlib*6), ordered=TRUE)

    ## Estimate a linear model using imputed data sets
    model0 &lt;- lm(trade ~ log(gdp_pc), data=africa, subset=year==1973)
    summary(model0)

    ## Impute using Amelia    
    a.out &lt;- amelia(x = africa, cs = "country", ts = "year",
                    logs = "gdp_pc", ord="civlib")

    ## Estimate a linear model using imputed data sets
    model1 &lt;- mi.eval(lm(trade ~ log(gdp_pc), data=a.out, subset=year==1973))

    ## Show estimates
    model1
    coef(model1)

    ## Show summary information
    summary(model1)

    if (require("MASS")) {
        ## Estimate an ordered logit model
        model2 &lt;- mi.eval(polr(civlib ~ log(gdp_pc) + log(population),
                               data=a.out))
        summary(model2)

        ## Also show thresholds by including thresholds with coefficients
        model3 &lt;- mi.eval(polr(civlib ~ log(gdp_pc) + log(population),
                               data=a.out),
                          coef=function(x) c(x$coefficients, x$zeta))
        summary(model2)
    }
}
</code></pre>

<hr>
<h2 id='robust.summary'>
Robust summary
</h2><span id='topic+robust.summary'></span><span id='topic+summary.robustified'></span>

<h3>Description</h3>

<p>Output summary information using robust or clustered robust standard errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'robustified'
summary(object, ...)

robust.summary(x, cluster, type, omega, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="robust.summary_+3A_object">object</code></td>
<td>

<p>An object of class <code>robustified</code>, usually generated by
<code><a href="#topic+robustify">robustify</a></code>.
</p>
</td></tr>
<tr><td><code id="robust.summary_+3A_x">x</code></td>
<td>

<p>A model of class <code>lm</code>, <code>glm</code>, or any other class which
contains a <code>call</code> object and methods for <code>estfun</code> and <code>nobs</code>.
</p>
</td></tr>
<tr><td><code id="robust.summary_+3A_cluster">cluster</code></td>
<td>

<p>The variable on which to cluster (if any). If this is not specified,
unclustered robust standard errors using <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> are
used. If this is specified, clustered robust standard errors using
<code><a href="#topic+vcovCR">vcovCR</a></code> are used.
</p>
</td></tr>
<tr><td><code id="robust.summary_+3A_type">type</code></td>
<td>

<p>A character string specifying the estimation type. The default is to use the
defaults for <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or <code><a href="#topic+vcovCR">vcovCR</a></code>, depending on whether
<code>cluster</code> is specified. For details, see <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or <code><a href="#topic+vcovCR">vcovCR</a></code>.
</p>
</td></tr>
<tr><td><code id="robust.summary_+3A_omega">omega</code></td>
<td>

<p>A vector or a function depending on the arguments &lsquo;residuals&rsquo;
(the working residuals of the model), &lsquo;diaghat&rsquo; (the diagonal
of the corresponding hat matrix) and &lsquo;df&rsquo; (the residual
degrees of freedom). For details, see <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or <code><a href="#topic+vcovCR">vcovCR</a></code>.
</p>
</td></tr>
<tr><td><code id="robust.summary_+3A_...">...</code></td>
<td>

<p>Any additional arguments to be passed to <code><a href="lmtest.html#topic+coeftest">coeftest</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Both functions provide summary output with robust (Huber-White) or
clustered robust standard errors based on <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or
<code><a href="#topic+vcovCR">vcovCR</a></code>, respectively. The <code>summary</code> method works on objects
where the type of the standard errors has already been set by
<code>robustify</code>. The <code>robust.summary</code> function works on
unadjusted objects. Thus, <code>robust.summary(x, ...)</code> is
a shorthand for <code>summary(robustify(x, ...))</code>.
</p>
<p>For <code>robust.summary</code>, if the <code>cluster</code> option is specified,
clustered robust standard errors are used based on the
variance-covariance matrix from <code><a href="#topic+vcovCR">vcovCR</a></code> with clustering on
<code>cluster</code>. If not, robust standard errors are used based on the
variance-covariance matrix from <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code>.
</p>


<h3>Value</h3>

<p>An object of class <code>summary.robustified</code> containing
a <code>coefficients</code> object computed using
<code><a href="lmtest.html#topic+coeftest">coeftest</a></code> and the <code>method</code> attribute
specifying the type of standard errors used.
</p>


<h3>See Also</h3>

<p>See Also <code><a href="#topic+robustify">robustify</a></code>, <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code>, <code><a href="#topic+vcovCR">vcovCR</a></code> and <code><a href="lmtest.html#topic+coeftest">coeftest</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## With clustering
clotting &lt;- data.frame(
    cl = 1:9,
    u = c(5,10,15,20,30,40,60,80,100),
    lot = c(118,58,42,35,27,25,21,19,18,
            69,35,26,21,18,16,13,12,12))
clot.model &lt;- glm(lot ~ log(u), data = clotting, family = Gamma)
robust.summary(clot.model, cluster=cl)

## Without clustering
data(swiss)
model1 &lt;- lm(Fertility ~ ., data = swiss)
robust.summary(model1)
model1r &lt;- robustify(model1)
summary(model1r)
</code></pre>

<hr>
<h2 id='robustify'>
Robustify a model
</h2><span id='topic+robustify'></span>

<h3>Description</h3>

<p>Create a robustified object that includes robust or clustered robust
standard errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>robustify(x, cluster, type, omega, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="robustify_+3A_x">x</code></td>
<td>

<p>A model of class <code>lm</code>, <code>glm</code>, or any other class which
contains a <code>call</code> object and methods for <code>estfun</code> and <code>nobs</code>.
</p>
</td></tr>
<tr><td><code id="robustify_+3A_cluster">cluster</code></td>
<td>

<p>The variable on which to cluster (if any). If this is not specified,
unclustered robust standard errors using <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> are
used. If this is specified, clustered robust standard errors using
<code><a href="#topic+vcovCR">vcovCR</a></code> are used.
</p>
</td></tr>
<tr><td><code id="robustify_+3A_type">type</code></td>
<td>

<p>A character string specifying the estimation type. The default for
linear models of class <code>lm</code> but not <code>glm</code> is to use
&quot;HC1&quot; for <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or &quot;CR1&quot; for
<code><a href="#topic+vcovCR">vcovCR</a></code>, depending on whether <code>cluster</code> is
specified. For other models, the default is to use &quot;HC&quot; for
<code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or &quot;CR&quot; for <code><a href="#topic+vcovCR">vcovCR</a></code>,
depending on whether <code>cluster</code> is specified. This mirrors the
defaults used by Stata as closely as possible.
For details, see <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or <code><a href="#topic+vcovCR">vcovCR</a></code>.
</p>
</td></tr>
<tr><td><code id="robustify_+3A_omega">omega</code></td>
<td>

<p>A vector or a function depending on the arguments &lsquo;residuals&rsquo;
(the working residuals of the model), &lsquo;diaghat&rsquo; (the diagonal
of the corresponding hat matrix) and &lsquo;df&rsquo; (the residual
degrees of freedom). For details, see <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or <code><a href="#topic+vcovCR">vcovCR</a></code>.
</p>
</td></tr>
<tr><td><code id="robustify_+3A_...">...</code></td>
<td>

<p>Any additional arguments to be passed to <code><a href="lmtest.html#topic+coeftest">coeftest</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a <code>robustified</code> object containing the
model, coefficients, and variance-covariance matrix based on
<code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> or <code><a href="#topic+vcovCR">vcovCR</a></code>, respectively. If the <code>cluster</code>
option is specified, the variance-covariance matrix is computed using
<code><a href="#topic+vcovCR">vcovCR</a></code> with clustering on <code>cluster</code>. If not, the
variance-covariance matrix is computed using
<code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code>. For generating formatted tables of
regression coefficients, the outputted objects should be
compatible with the 'texreg' package. When used with <code>lm</code>,
<code>glm</code> or a few other types of models, these objects are also
compatible with the 'stargazer' package.
</p>


<h3>Value</h3>

<p>An object of class <code>robustified</code> with the <code>method</code>
attribute specifying the type of standard errors used.
</p>


<h3>References</h3>

<p>Cameron, A. Colin, and Douglas L. Miller.
&ldquo;A Practitioner's Guide to Cluster-Robust Inference.&rdquo;
<em>Journal of Human Resources</em> 50, no. 2 (Spring 2015): 317-372.
doi: <a href="https://doi.org/10.3368/jhr.50.2.317">10.3368/jhr.50.2.317</a>
</p>


<h3>See Also</h3>

<p>See Also <code><a href="#topic+summary.robustified">summary.robustified</a></code>, <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code>, <code><a href="#topic+vcovCR">vcovCR</a></code> and <code><a href="lmtest.html#topic+coeftest">coeftest</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## With clustering
clotting &lt;- data.frame(
    cl = 1:9,
    u = c(5,10,15,20,30,40,60,80,100),
    lot = c(118,58,42,35,27,25,21,19,18,
            69,35,26,21,18,16,13,12,12))
clot.model &lt;- glm(lot ~ log(u), data = clotting, family = Gamma)
robust.clot.model &lt;- robustify(clot.model, cluster=cl)
robust.clot.model
summary(robust.clot.model)

## Without clustering
data(swiss)
model1 &lt;- robustify(lm(Fertility ~ ., data = swiss))
model1
summary(model1)
</code></pre>

<hr>
<h2 id='summary.mi.estimates'>
Summary for multiple imputation
</h2><span id='topic+summary.mi.estimates'></span>

<h3>Description</h3>

<p>Output summary information for estimates computed on multiply imputed data sets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mi.estimates'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.mi.estimates_+3A_object">object</code></td>
<td>

<p>An object of class <code>mi.estimates</code>, usually computed with
<code><a href="#topic+mi.eval">mi.eval</a></code>.
</p>
</td></tr>
<tr><td><code id="summary.mi.estimates_+3A_...">...</code></td>
<td>

<p>Any additional arguments to be passed to <code>coeftest</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides summary output for models estimated
using multiple imputation using <code><a href="#topic+mi.eval">mi.eval</a></code>.
</p>


<h3>Value</h3>

<p>An object of class <code>summary.mi.estimates</code> containing a
<code>coefficients</code> object of class <code>coeftest</code> and other
summary information.
</p>


<h3>See Also</h3>

<p>See Also <code><a href="#topic+mi.eval">mi.eval</a></code> and <code><a href="Amelia.html#topic+amelia">amelia</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("Amelia")) {
    data(africa)
    a.out &lt;- amelia(x = africa, cs = "country", ts = "year", logs = "gdp_pc")

    model &lt;- mi.eval(lm(civlib ~ log(gdp_pc), data=a.out, subset=year==1973))

    summary(model)
}
</code></pre>

<hr>
<h2 id='vcovCR'>
Clustered Robust Covariance Matrix Estimation
</h2><span id='topic+vcovCR'></span>

<h3>Description</h3>

<p>Robust estimation of the covariance matrix of the coefficient estimates
in regression models with clustering.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vcovCR(x, cluster = NULL, type = c("CR", "CR0", "CR1"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcovCR_+3A_x">x</code></td>
<td>

<p>A fitted model object.
</p>
</td></tr>
<tr><td><code id="vcovCR_+3A_cluster">cluster</code></td>
<td>

<p>A variable or expression giving the cluster for each observation.
</p>
</td></tr>
<tr><td><code id="vcovCR_+3A_type">type</code></td>
<td>

<p>A character string specifying the estimation type. For
details see below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default <code>type</code> of &quot;CR&quot; uses the same adjustment as 'Stata'.
The values of &quot;CR0&quot; and &quot;CR1&quot; are analogous to &quot;HC0&quot; and &quot;HC1&quot;,
respectively, in <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code>.
</p>


<h3>Value</h3>

<p>A matrix containing the covariance matrix estimate with attribute
<code>type</code> giving the <code>type</code> option used in estimating it.
</p>


<h3>See Also</h3>

<p>See Also <code><a href="#topic+robust.summary">robust.summary</a></code> and <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>clotting &lt;- data.frame(
    cl = rep(1:2,each=9),
    u = c(5,10,15,20,30,40,60,80,100),
    lot = c(118,58,42,35,27,25,21,19,18,
            69,35,26,21,18,16,13,12,12))
clot.model &lt;- glm(lot ~ log(u), data = clotting, family = Gamma)
vcovCR(clot.model, cluster=cl)

data(swiss)
model1 &lt;- lm(Fertility ~ ., data = swiss)
## These should give the same answer
vcovCR(model1, cluster=1:nobs(model1), type="CR0")
sandwich::vcovHC(model1, type="HC0")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

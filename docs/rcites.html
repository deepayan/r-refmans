<!DOCTYPE html><html><head><title>Help for package rcites</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rcites}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rcites'><p>rcites</p></a></li>
<li><a href='#print.spp'><p>Print methods for objects of class <code style="white-space: pre;">&#8288;spp_raw*&#8288;</code>.</p></a></li>
<li><a href='#set_token'><p>Login helper function</p></a></li>
<li><a href='#spp_cites_legislation'><p>Get current CITES appendix listings and reservations</p></a></li>
<li><a href='#spp_distributions'><p>Get distributions data available for a given taxon concept</p></a></li>
<li><a href='#spp_eu_legislation'><p>Get current EU annex listings, SRG opinions, and EU suspensions</p></a></li>
<li><a href='#spp_references'><p>Get references for a given taxon concept</p></a></li>
<li><a href='#spp_taxonconcept'><p>Get taxon concepts for a search term</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Interface to the Species+ Database</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A programmatic interface to the Species+ <a href="https://speciesplus.net/">https://speciesplus.net/</a> database via the Species+/CITES Checklist API <a href="https://api.speciesplus.net/">https://api.speciesplus.net/</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/rcites/">https://docs.ropensci.org/rcites/</a>,
<a href="https://github.com/ropensci/rcites">https://github.com/ropensci/rcites</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/rcites/issues">https://github.com/ropensci/rcites/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, curl, httr, jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, testthat, tibble, rmarkdown, rworldmap (&ge; 1.3.6), vcr
(&ge; 1.2.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-12 20:25:38 UTC; kc</td>
</tr>
<tr>
<td>Author:</td>
<td>Kevin Cazelles <a href="https://orcid.org/0000-0001-6619-9874"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Jonas Geschke <a href="https://orcid.org/0000-0002-5654-9313"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Ignasi Bartomeus <a href="https://orcid.org/0000-0001-7893-4389"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Jonathan Goldenberg [ctb],
  Marie-Bé Leduc [ctb],
  Yasmine Verzelen [ctb],
  Noam Ross [rev],
  Margaret Siple [rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kevin Cazelles &lt;kevin.cazelles@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-12 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rcites'>rcites</h2><span id='topic+rcites'></span><span id='topic+rcites-package'></span>

<h3>Description</h3>

<p>A programmatic interface to the Species+ <a href="https://speciesplus.net/">https://speciesplus.net/</a> database
via the Species+/CITES Checklist API <a href="https://api.speciesplus.net/">https://api.speciesplus.net/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Kevin Cazelles <a href="mailto:kevin.cazelles@gmail.com">kevin.cazelles@gmail.com</a> (<a href="https://orcid.org/0000-0001-6619-9874">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Jonas Geschke <a href="mailto:jonas.e.geschke@gmail.com">jonas.e.geschke@gmail.com</a> (<a href="https://orcid.org/0000-0002-5654-9313">ORCID</a>)
</p>
</li>
<li><p> Ignasi Bartomeus (<a href="https://orcid.org/0000-0001-7893-4389">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Jonathan Goldenberg [contributor]
</p>
</li>
<li><p> Marie-Bé Leduc [contributor]
</p>
</li>
<li><p> Yasmine Verzelen [contributor]
</p>
</li>
<li><p> Noam Ross [reviewer]
</p>
</li>
<li><p> Margaret Siple [reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/rcites/">https://docs.ropensci.org/rcites/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/rcites">https://github.com/ropensci/rcites</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/rcites/issues">https://github.com/ropensci/rcites/issues</a>
</p>
</li></ul>


<hr>
<h2 id='print.spp'>Print methods for objects of class <code style="white-space: pre;">&#8288;spp_raw*&#8288;</code>.</h2><span id='topic+print.spp'></span><span id='topic+print.spp_raw'></span><span id='topic+print.spp_raw_multi'></span><span id='topic+print.spp_cites_leg'></span><span id='topic+print.spp_cites_leg_multi'></span><span id='topic+print.spp_distr'></span><span id='topic+print.spp_distr_multi'></span><span id='topic+print.spp_eu_leg'></span><span id='topic+print.spp_eu_leg_multi'></span><span id='topic+print.spp_refs'></span><span id='topic+print.spp_refs_multi'></span><span id='topic+print.spp_taxon'></span>

<h3>Description</h3>

<p>Print the outputs of a Species+ API call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'spp_raw'
print(x, ...)

## S3 method for class 'spp_raw_multi'
print(x, ...)

## S3 method for class 'spp_cites_leg'
print(x, ...)

## S3 method for class 'spp_cites_leg_multi'
print(x, ...)

## S3 method for class 'spp_distr'
print(x, ...)

## S3 method for class 'spp_distr_multi'
print(x, ...)

## S3 method for class 'spp_eu_leg'
print(x, ...)

## S3 method for class 'spp_eu_leg_multi'
print(x, ...)

## S3 method for class 'spp_refs'
print(x, ...)

## S3 method for class 'spp_refs_multi'
print(x, ...)

## S3 method for class 'spp_taxon'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.spp_+3A_x">x</code></td>
<td>
<p>an object of class <code style="white-space: pre;">&#8288;spp_raw*&#8288;</code>.</p>
</td></tr>
<tr><td><code id="print.spp_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The JSON result.
</p>

<hr>
<h2 id='set_token'>Login helper function</h2><span id='topic+set_token'></span><span id='topic+forget_token'></span>

<h3>Description</h3>

<p>Set and forget the authentification token for the current session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_token(token = NULL)

forget_token()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_token_+3A_token">token</code></td>
<td>
<p>a character string (with quotes) containing your token. If
<code>NULL</code>, then the token can be passed without quotes (not as a character
string) after a prompt.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>set_token()</code>: set the environment variable <code>SPECIESPLUS_TOKEN</code>.
</p>
</li>
<li> <p><code>forget_token()</code>: forget the environment variable <code>SPECIESPLUS_TOKEN</code>.
</p>
</li></ul>


<h3>References</h3>

<p><a href="https://api.speciesplus.net/documentation">https://api.speciesplus.net/documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# NB: the token below is not working and should not be used
set_token("8QW6Qgh57sBG2k0gtt")

## End(Not run)
</code></pre>

<hr>
<h2 id='spp_cites_legislation'>Get current CITES appendix listings and reservations</h2><span id='topic+spp_cites_legislation'></span>

<h3>Description</h3>

<p>Retrieve current CITES appendix listings and reservations, CITES quotas, and
CITES suspensions for a given taxon concept.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spp_cites_legislation(
  taxon_id,
  scope = "current",
  language = "en",
  raw = FALSE,
  token = NULL,
  verbose = TRUE,
  pause = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spp_cites_legislation_+3A_taxon_id">taxon_id</code></td>
<td>
<p>a vector of character strings containing species' taxon
concept identifiers (see <code><a href="#topic+spp_taxonconcept">spp_taxonconcept()</a></code>).</p>
</td></tr>
<tr><td><code id="spp_cites_legislation_+3A_scope">scope</code></td>
<td>
<p>vector of character strings indicating the time scope of
legislation, values are taken among <code>current</code>, <code>historic</code> and <code>all</code>. Default
is <code>current</code>.</p>
</td></tr>
<tr><td><code id="spp_cites_legislation_+3A_language">language</code></td>
<td>
<p>vector of character strings indicating the language for the
text of legislation notes, values are taken among <code>en</code> (English),
<code>fr</code> (French) and <code>es</code> (Spanish). Default is <code>en</code>.</p>
</td></tr>
<tr><td><code id="spp_cites_legislation_+3A_raw">raw</code></td>
<td>
<p>a logical. Should raw data be returned?</p>
</td></tr>
<tr><td><code id="spp_cites_legislation_+3A_token">token</code></td>
<td>
<p>a character string containing the authentification token, see
<a href="https://api.speciesplus.net/documentation">https://api.speciesplus.net/documentation</a>. Default is set to
<code>NULL</code> and requires the environment variable <code>SPECIESPLUS_TOKEN</code> to be
set directly in <code>Renviron</code>. Alternatively, <code><a href="#topic+set_token">set_token()</a></code> can
be used to set <code>SPECIESPLUS_TOKEN</code> for the current session.</p>
</td></tr>
<tr><td><code id="spp_cites_legislation_+3A_verbose">verbose</code></td>
<td>
<p>a logical. Should extra information be reported on progress?</p>
</td></tr>
<tr><td><code id="spp_cites_legislation_+3A_pause">pause</code></td>
<td>
<p>a duration (in second) to suspend execution for (see
<code><a href="base.html#topic+Sys.sleep">Sys.sleep()</a></code>). This was added cause the web API returns a 404 error too many
requests in a short time interval.</p>
</td></tr>
<tr><td><code id="spp_cites_legislation_+3A_...">...</code></td>
<td>
<p>Further named parameters, see <code><a href="httr.html#topic+GET">httr::GET()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>raw</code> is set to <code>TRUE</code> then an object of class <code>spp_raw</code> (or
<code>spp_raw_multi</code> if <code>length(taxon_id) &gt; 1</code>) is returned which is essentially
a list of lists (see option <code>as = 'parsed'</code> in <code><a href="httr.html#topic+content">httr::content()</a></code>).
Otherwise, an object of class <code>spp_cites_leg</code> (or <code>spp_cites_leg_multi</code> if
<code>length(taxon_id)&gt;1</code>) is returned which is a list of three data frames:
</p>

<ol>
<li> <p><code>cites_listings</code>: lists CITES annex listings EU suspensions,
</p>
</li>
<li> <p><code>cites_quotas</code>: lists CITES quotas,
</p>
</li>
<li> <p><code>cites_suspensions</code>: lists CITES suspensions.
</p>
</li></ol>



<h3>References</h3>

<p><a href="https://api.speciesplus.net/documentation/v1/cites_legislation/index.html">https://api.speciesplus.net/documentation/v1/cites_legislation/index.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# this calls will only work if a token is set and valid
res1 &lt;- spp_cites_legislation(taxon_id = 4521)
res2 &lt;- spp_cites_legislation(taxon_id = c('4521', '3210', '10255'))
res3 &lt;- spp_cites_legislation(taxon_id = 4521, scope = 'all',
verbose = FALSE, config=httr::verbose())
res4 &lt;- spp_cites_legislation(taxon_id = 4521, language = 'fr')

## End(Not run)
</code></pre>

<hr>
<h2 id='spp_distributions'>Get distributions data available for a given taxon concept</h2><span id='topic+spp_distributions'></span>

<h3>Description</h3>

<p>Retrieve distributions data available for a given taxon concept for which the
the taxon identifier is known.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spp_distributions(
  taxon_id,
  language = "en",
  raw = FALSE,
  token = NULL,
  verbose = TRUE,
  pause = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spp_distributions_+3A_taxon_id">taxon_id</code></td>
<td>
<p>a vector of character strings containing species'
taxon concept identifiers (see <code><a href="#topic+spp_taxonconcept">spp_taxonconcept()</a></code>).</p>
</td></tr>
<tr><td><code id="spp_distributions_+3A_language">language</code></td>
<td>
<p>vector of character strings indicating the language for the
names of distributions, values are taken among <code>en</code> (English),
<code>fr</code> (French) and <code>es</code> (Spanish). Default is <code>en</code>.</p>
</td></tr>
<tr><td><code id="spp_distributions_+3A_raw">raw</code></td>
<td>
<p>a logical. Should raw data be returned?</p>
</td></tr>
<tr><td><code id="spp_distributions_+3A_token">token</code></td>
<td>
<p>a character string containing the authentification token, see
<a href="https://api.speciesplus.net/documentation">https://api.speciesplus.net/documentation</a>. Default is set to
<code>NULL</code> and requires the environment variable <code>SPECIESPLUS_TOKEN</code> to be
set directly in <code>Renviron</code>. Alternatively, <code>set_token()</code> can
be used to set <code>SPECIESPLUS_TOKEN</code> for the current session.</p>
</td></tr>
<tr><td><code id="spp_distributions_+3A_verbose">verbose</code></td>
<td>
<p>a logical. Should extra information be reported on progress?</p>
</td></tr>
<tr><td><code id="spp_distributions_+3A_pause">pause</code></td>
<td>
<p>a duration (in second) to suspend execution for (see
<code><a href="base.html#topic+Sys.sleep">Sys.sleep()</a></code>). This was added cause the web API returns a 404 error too many
requests in a short time interval.</p>
</td></tr>
<tr><td><code id="spp_distributions_+3A_...">...</code></td>
<td>
<p>Further named parameters, see <code><a href="httr.html#topic+GET">httr::GET()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>raw</code> is set to <code>TRUE</code> then an object of class <code>spp_raw</code> (or
<code>spp_raw_multi</code> if <code>length(taxon_id)&gt;1</code>) is returned which is essentially
a list of lists (see option <code>as = 'parsed'</code> in <code><a href="httr.html#topic+content">httr::content()</a></code>).
Otherwise, an object of class <code>spp_distr</code> (or <code>spp_distr_multi</code> if
<code>length(taxon_id) &gt; 1</code>) is returned which is a list of two data frames:
</p>

<ol>
<li> <p><code>distributions</code>: lists distributions for a given taxon concept,
</p>
</li>
<li> <p><code>references</code>: lists the corresponding references.
In case <code>taxon_id</code> includes several elements
</p>
</li></ol>



<h3>References</h3>

<p><a href="https://api.speciesplus.net/documentation/v1/distributions/index.html">https://api.speciesplus.net/documentation/v1/distributions/index.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 # this calls will only work if a token is set and valid
 res1 &lt;- spp_distributions(taxon_id = '4521')
 res2 &lt;- spp_distributions(taxon_id = c('4521', '3210', '10255'))
 res3 &lt;- spp_distributions(taxon_id = '4521', raw = TRUE)
 res4 &lt;- spp_distributions(taxon_id = '4521', language = 'fr',
 verbose = FALSE, config = httr::progress())

## End(Not run)
</code></pre>

<hr>
<h2 id='spp_eu_legislation'>Get current EU annex listings, SRG opinions, and EU suspensions</h2><span id='topic+spp_eu_legislation'></span>

<h3>Description</h3>

<p>Retrieve current EU annex listings, SRG opinions, and EU suspensions for a
given taxon concept (identifier must be known).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spp_eu_legislation(
  taxon_id,
  scope = "current",
  language = "en",
  raw = FALSE,
  token = NULL,
  verbose = TRUE,
  pause = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spp_eu_legislation_+3A_taxon_id">taxon_id</code></td>
<td>
<p>a vector of character strings containing species' taxon
concept identifiers (see <code><a href="#topic+spp_taxonconcept">spp_taxonconcept()</a></code>).</p>
</td></tr>
<tr><td><code id="spp_eu_legislation_+3A_scope">scope</code></td>
<td>
<p>vector of character strings indicating the time scope of
legislation, values are taken among <code>current</code>, <code>historic</code> and <code>all</code>.
Default is set to <code>current</code>.</p>
</td></tr>
<tr><td><code id="spp_eu_legislation_+3A_language">language</code></td>
<td>
<p>vector of character strings indicating the language for the
text of legislation notes, values are taken among <code>en</code> (English),
<code>fr</code> (French) and <code>es</code> (Spanish). Default is <code>en</code>.</p>
</td></tr>
<tr><td><code id="spp_eu_legislation_+3A_raw">raw</code></td>
<td>
<p>a logical. Should raw data be returned?</p>
</td></tr>
<tr><td><code id="spp_eu_legislation_+3A_token">token</code></td>
<td>
<p>a character string containing the authentification token, see
<a href="https://api.speciesplus.net/documentation">https://api.speciesplus.net/documentation</a>. Default is set to
<code>NULL</code> and requires the environment variable <code>SPECIESPLUS_TOKEN</code> to be
set directly in <code>Renviron</code>. Alternatively, <code><a href="#topic+set_token">set_token()</a></code> can
be used to set <code>SPECIESPLUS_TOKEN</code> for the current session.</p>
</td></tr>
<tr><td><code id="spp_eu_legislation_+3A_verbose">verbose</code></td>
<td>
<p>a logical. Should extra information be reported on progress?</p>
</td></tr>
<tr><td><code id="spp_eu_legislation_+3A_pause">pause</code></td>
<td>
<p>a duration (in second) to suspend execution for (see
<code><a href="base.html#topic+Sys.sleep">Sys.sleep()</a></code>). This was added cause the web API returns a 404 error too many
requests in a short time interval.</p>
</td></tr>
<tr><td><code id="spp_eu_legislation_+3A_...">...</code></td>
<td>
<p>Further named parameters, see <code><a href="httr.html#topic+GET">httr::GET()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>raw</code> is set to <code>TRUE</code> then an object of class <code>spp_raw</code> (or
<code>spp_raw_multi</code> if <code>length(taxon_id)&gt;1</code>) is returned which is essentially
a list of lists (see option <code>as = 'parsed'</code> in <code><a href="httr.html#topic+content">httr::content()</a></code>).
Otherwise, an object of class <code>spp_eu_leg</code> (or <code>spp_eu_leg_multi</code> if
<code>length(taxon_id)&gt;1</code>) is returned which is a list of two data frames:
</p>

<ol>
<li> <p><code>eu_listings</code>: lists EU annex listings EU suspensions,
</p>
</li>
<li> <p><code>eu_decisions</code>: lists EU decisions
</p>
</li></ol>



<h3>References</h3>

<p><a href="https://api.speciesplus.net/documentation/v1/eu_legislation/index.html">https://api.speciesplus.net/documentation/v1/eu_legislation/index.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# this calls will only work if a token is set and valid
res1 &lt;- spp_eu_legislation(taxon_id = '4521')
res2 &lt;- spp_eu_legislation(taxon_id = c('4521', '3210', '10255'))
res3 &lt;- spp_eu_legislation(taxon_id = '4521', scope = 'historic')
res4 &lt;- spp_eu_legislation(taxon_id = '4521', scope = 'all', language='fr',
 verbose = FALSE, config=httr::verbose())

## End(Not run)
</code></pre>

<hr>
<h2 id='spp_references'>Get references for a given taxon concept</h2><span id='topic+spp_references'></span>

<h3>Description</h3>

<p>Retrieve available references for a given taxon concept.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spp_references(
  taxon_id,
  raw = FALSE,
  token = NULL,
  verbose = TRUE,
  pause = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spp_references_+3A_taxon_id">taxon_id</code></td>
<td>
<p>a vector of character strings containing species' taxon
concept identifiers (see <code><a href="#topic+spp_taxonconcept">spp_taxonconcept()</a></code>).</p>
</td></tr>
<tr><td><code id="spp_references_+3A_raw">raw</code></td>
<td>
<p>a logical. Should raw data be returned?</p>
</td></tr>
<tr><td><code id="spp_references_+3A_token">token</code></td>
<td>
<p>a character string containing the authentification token, see
<a href="https://api.speciesplus.net/documentation">https://api.speciesplus.net/documentation</a>. Default is set to
<code>NULL</code> and requires the environment variable <code>SPECIESPLUS_TOKEN</code> to be
set directly in <code>Renviron</code>. Alternatively, <code><a href="#topic+set_token">set_token()</a></code> can be used to set
<code>SPECIESPLUS_TOKEN</code> for the current session.</p>
</td></tr>
<tr><td><code id="spp_references_+3A_verbose">verbose</code></td>
<td>
<p>a logical. Should extra information be reported on progress?</p>
</td></tr>
<tr><td><code id="spp_references_+3A_pause">pause</code></td>
<td>
<p>a duration (in second) to suspend execution for (see
<code><a href="base.html#topic+Sys.sleep">Sys.sleep()</a></code>). This was added cause the web API returns a 404 error too many
requests in a short time interval.</p>
</td></tr>
<tr><td><code id="spp_references_+3A_...">...</code></td>
<td>
<p>Further named parameters, see <code><a href="httr.html#topic+GET">httr::GET()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>raw</code> is set to <code>TRUE</code> then an object of class <code>spp_raw</code> (or
<code>spp_raw_multi</code> if <code>length(taxon_id) &gt; 1</code>) is returned which is essentially
a list of lists (see option <code>as = 'parsed'</code> in <code><a href="httr.html#topic+content">httr::content()</a></code>).
Otherwise, an object of class <code>spp_refs</code> (or <code>spp_refs_multi</code> if
<code>length(taxon_id) &gt; 1</code>) is returned which is a list of one
data frame:
</p>

<ul>
<li> <p><code>references</code> that includes the identifier of the reference and the
corresponding citation.
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://api.speciesplus.net/documentation/v1/references/index.html">https://api.speciesplus.net/documentation/v1/references/index.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# this calls will only work if a token is set and valid
res1 &lt;- spp_references(taxon_id = '4521')
res2 &lt;- spp_references(c('4521', '3210', '10255'))
res3 &lt;- spp_references(taxon_id = '4521', raw = TRUE, verbose = FALSE,
 config = httr::progress())

## End(Not run)
</code></pre>

<hr>
<h2 id='spp_taxonconcept'>Get taxon concepts for a search term</h2><span id='topic+spp_taxonconcept'></span>

<h3>Description</h3>

<p>Retrieve the taxon concept of a specific taxon (scientific name).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spp_taxonconcept(
  query_taxon,
  taxonomy = "CITES",
  with_descendants = FALSE,
  language = NULL,
  updated_since = NULL,
  per_page = 500,
  pages = NULL,
  raw = FALSE,
  token = NULL,
  verbose = TRUE,
  pause = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spp_taxonconcept_+3A_query_taxon">query_taxon</code></td>
<td>
<p>a character string containing the query (e.g. species).
Scientific taxa only (max 255 characters).</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_taxonomy">taxonomy</code></td>
<td>
<p>filter taxon concepts by taxonomy, accepts either 'CITES' or
'CMS' as its value. Default sets to 'CITES'.</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_with_descendants">with_descendants</code></td>
<td>
<p>a logical. Should the search by name be broadened to
include higher taxa?</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_language">language</code></td>
<td>
<p>filter languages returned for common names. Value should be a
vector of character strings including one or more country codes (two-letters
country code
<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a>).
Default is set to <code>NULL</code>, showing all available languages.</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_updated_since">updated_since</code></td>
<td>
<p>a timestamp. Only entries updated after (and including)
this timestamp will be pulled.</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_per_page">per_page</code></td>
<td>
<p>an integer that indicates how many objects are returned per
page for paginated responses. Default set to 500 which is the maximum.</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_pages">pages</code></td>
<td>
<p>a vector of integer that contains page numbers. Default is
set to <code>NULL</code>, i.e. all pages are accessed.</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_raw">raw</code></td>
<td>
<p>a logical. Should raw data be returned?</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_token">token</code></td>
<td>
<p>a character string containing the authentification token, see
<a href="https://api.speciesplus.net/documentation">https://api.speciesplus.net/documentation</a>. Default is set to
<code>NULL</code> and requires the environment variable <code>SPECIESPLUS_TOKEN</code> to be set
directly in <code>Renviron</code>. Alternatively, <code>set_token()</code> can be used to set
<code>SPECIESPLUS_TOKEN</code> for the current session.</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_verbose">verbose</code></td>
<td>
<p>a logical. Should extra information be reported on progress?</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_pause">pause</code></td>
<td>
<p>a duration (in second) to suspend execution for (see
<code><a href="base.html#topic+Sys.sleep">Sys.sleep()</a></code>). This was added cause the web API returns a 404 error too many
requests in a short time interval.</p>
</td></tr>
<tr><td><code id="spp_taxonconcept_+3A_...">...</code></td>
<td>
<p>Further named parameters, see <code><a href="httr.html#topic+GET">httr::GET()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>raw = TRUE</code>, then a object of class <code>spp_raw</code> is returned, which is
a list of lists. If <code>raw = FALSE</code>, then an object of class <code>spp_taxon</code> is
returned, it is a collection of seven data frames:
</p>

<ol>
<li> <p><code>all_id</code>: general information for all entries, including non-active taxon
concepts,
</p>
</li>
<li> <p><code>general</code>: includes general information for active taxon concepts,
</p>
</li>
<li> <p><code>higher_taxa</code>: includes taxonomy information,
</p>
</li>
<li> <p><code>accepted_names</code>: list of accepted names (only for synonyms),
</p>
</li>
<li> <p><code>common_names</code>: list of common names (only for accepted names),
</p>
</li>
<li> <p><code>synonyms</code>: list of synonyms (only for accepted names),
</p>
</li>
<li> <p><code>cites_listing</code>: list of current CITES listings with annotations
(missing if <code>taxonomy == 'CMS'</code>).
</p>
</li></ol>



<h3>References</h3>

<p><a href="https://api.speciesplus.net/documentation/v1/taxon_concepts/index.html">https://api.speciesplus.net/documentation/v1/taxon_concepts/index.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# this calls will only work if a token is set and valid
res1 &lt;- spp_taxonconcept(query_taxon = 'Loxodonta africana')
res2 &lt;- spp_taxonconcept(query_taxon = 'Amazilia versicolor', raw = TRUE)
res3 &lt;- spp_taxonconcept(query_taxon = '', taxonomy = 'CMS', pages = c(1, 3),
 language = 'EN', config = httr::progress())
res4 &lt;- spp_taxonconcept(query_taxon = '', per_page = 20, pages = 44)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

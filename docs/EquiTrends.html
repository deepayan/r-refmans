<!DOCTYPE html><html lang="en"><head><title>Help for package EquiTrends</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {EquiTrends}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#EquiTrends-package'>
<p>Equivalence Testing for Pre-Trends in Difference-in-Differences Designs</p></a></li>
<li><a href='#boot_optimization_function'><p>Finding the restricted placebo coefficients for the maximum equivalence test based on the bootstrap approaches</p></a></li>
<li><a href='#EquiTrends_dataconstr'><p>Data Construction Function for EquiTrends</p></a></li>
<li><a href='#EquiTrends_inputcheck'><p>Input Checks Function for EquiTrends</p></a></li>
<li><a href='#maxEquivTest'><p>Equivalence Test for Pre-trends based on the Maximum Absolute Placebo Coefficient</p></a></li>
<li><a href='#maxTest_error'><p>Additional input checks for the maxEquivTest function</p></a></li>
<li><a href='#maxTestBoot_func'><p>An internal function of the EquiTrends Maximum Equivalence Testing procedure using the Bootstrap approaches.</p></a></li>
<li><a href='#maxTestIU_func'><p>An internal function of the EquiTrends Maximum Equivalence Testing procedure using the Intersection Union approach.</p></a></li>
<li><a href='#maxTestIU_optim_func'><p>Finding the minimum equivalence threshold for the equivalence test based on the IU procedure for the maximum placebo coefficient.</p></a></li>
<li><a href='#meanEquivTest'><p>Equivalence Test for Pre-trends based on the Mean Placebo Coefficient</p></a></li>
<li><a href='#meanTest_func'><p>An internal function of the EquiTrends Mean Equivalence Testing procedure</p></a></li>
<li><a href='#meanTest_optim_func'><p>Finding the minimum equivalence threshold for the mean equivalence test</p></a></li>
<li><a href='#print.maxEquivTestBoot'><p>Print maxEquivTestBoot objects</p></a></li>
<li><a href='#print.maxEquivTestIU'><p>Print maxEquivTestIU objects</p></a></li>
<li><a href='#print.meanEquivTest'><p>Print meanEquivTest objects</p></a></li>
<li><a href='#print.rmsEquivTest'><p>Print rmsEquivTest objects</p></a></li>
<li><a href='#rmsEquivTest'><p>Equivalence Test for Pre-trends based on the RMS Placebo Coefficient</p></a></li>
<li><a href='#rmsTest_error'><p>Additional input checks for the rmsEquivTest function</p></a></li>
<li><a href='#rmsTest_func'><p>An internal function of the RMS Equivalence Testing procedure</p></a></li>
<li><a href='#sigma_hathat_c'><p>Calculating the constrained variance of the residuals for the Boostrap approaches in the EquiTrends Maximum Equivalence Testing procedure, according to Dette &amp; Schumann (2024).</p></a></li>
<li><a href='#sim_check'><p>Checking input for the sim_paneldata function</p></a></li>
<li><a href='#sim_paneldata'><p>Simulating a panel data for a binary treatment</p></a></li>
<li><a href='#W_critical_value'><p>Calculating the critical value for the W distribution as construced in Dette &amp; Schumann (2024).</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Equivalence Testing for Pre-Trends in Difference-in-Differences
Designs</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ties Bos &lt;tc.bos@student.maastrichtuniversity.nl&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Testing for parallel trends is crucial in the Difference-in-Differences framework. To this end, this package performs equivalence testing in the context of Difference-in-Differences estimation. It allows users to test if pre-treatment trends in the treated group are “equivalent” to those in the control group. Here, “equivalence” means that rejection of the null hypothesis implies that a function of the pre-treatment placebo effects (maximum absolute, average or root mean squared value) does not exceed a pre-specified threshold below which trend differences are considered negligible. The package is based on the theory developed in Dette &amp; Schumann (2024) &lt;<a href="https://doi.org/10.1080%2F07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>clubSandwich, nloptr, dplyr, rlang, plm, Rcpp (&ge; 1.0.12),
RcppParallel, stats, VGAM</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo, RcppParallel</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/TiesBos/EquiTrends">https://github.com/TiesBos/EquiTrends</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/TiesBos/EquiTrends/issues">https://github.com/TiesBos/EquiTrends/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-29 17:40:12 UTC; tiesbos</td>
</tr>
<tr>
<td>Author:</td>
<td>Ties Bos [aut, cre],
  Martin Schumann [ctb]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-03 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='EquiTrends-package'>
Equivalence Testing for Pre-Trends in Difference-in-Differences Designs
</h2><span id='topic+EquiTrends-package'></span><span id='topic+EquiTrends'></span>

<h3>Description</h3>

<p>Testing for parallel trends is crucial in the Difference-in-Difference framework. EquiTrends is an R package for equivalence testing in the context of Difference-in-Differences estimation. It allows users to test if pre-treatment trends in the treated group are “equivalent” to those in the control group. Here, “equivalence” means that rejection of the null hypothesis implies that a function of the pre-treatment placebo effects (maximum absolute, average or root mean squared value) does not exceed a pre-specified threshold below which trend differences are considered negligible. The package is based on the theory
developed in Dette &amp; Schumann (2024) &lt;doi: 10.1080/07350015.2024.2308121&gt;. 
</p>


<h3>Details</h3>

<p>The package contains the functions maxEquivTest to perform the testing procedure surrounding the maximum placebo coefficient (see equation (3.1) of Dette &amp; Schumann (2024)), meanEquivTest to perform the testing procedure surrounding the mean placebo coefficient (see equation (3.2) of Dette &amp; Schumann (2024)) and rmsEquivTest to perform the testing procedure surrounding the root mean squared placebo coefficient (see equation (3.3) and (3.4) of Dette &amp; Schumann (2024)). Furthermore, the package contains the function sim_paneldata to simulate a paneldataset for such testing purposes.
</p>


<h3>Author(s)</h3>

<p>Maintainer: Ties Bos &lt;tc.bos@student.maastrichtuniversity.nl&gt;
</p>


<h3>References</h3>

<p>Dette H., &amp; Schumann M. (2024). “Testing for Equivalence of Pre-Trends
in Difference-in-Differences Estimation.” *Journal of Business &amp;
Economic Statistics*, 1–13. DOI:
[10.1080/07350015.2024.2308121](https://doi.org/10.1080/07350015.2024.2308121)
</p>

<hr>
<h2 id='boot_optimization_function'>Finding the restricted placebo coefficients for the maximum equivalence test based on the bootstrap approaches</h2><span id='topic+boot_optimization_function'></span>

<h3>Description</h3>

<p><code>boot_optimization_function</code> solves the optimization problem to find the restricted placebo coefficients, according to Dette &amp; Schumann (2024).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot_optimization_function(x, y, no_placebos, equiv_threshold, start_val)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boot_optimization_function_+3A_x">x</code></td>
<td>
<p>The double demeaned independent variables.</p>
</td></tr>
<tr><td><code id="boot_optimization_function_+3A_y">y</code></td>
<td>
<p>The double demeaned dependent variable.</p>
</td></tr>
<tr><td><code id="boot_optimization_function_+3A_no_placebos">no_placebos</code></td>
<td>
<p>The number of placebo coefficients.</p>
</td></tr>
<tr><td><code id="boot_optimization_function_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The equivalence threshold for the test.</p>
</td></tr>
<tr><td><code id="boot_optimization_function_+3A_start_val">start_val</code></td>
<td>
<p>The starting values for the optimization.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector containing the restricted placebo coefficients
</p>


<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>

<hr>
<h2 id='EquiTrends_dataconstr'>Data Construction Function for EquiTrends</h2><span id='topic+EquiTrends_dataconstr'></span>

<h3>Description</h3>

<p>Data Construction Function for EquiTrends
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EquiTrends_dataconstr(
  Y,
  ID,
  G,
  period,
  X,
  data,
  pretreatment_period,
  base_period,
  cluster
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="EquiTrends_dataconstr_+3A_y">Y</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_id">ID</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_g">G</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_period">period</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_x">X</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_data">data</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_pretreatment_period">pretreatment_period</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_base_period">base_period</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_dataconstr_+3A_cluster">cluster</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the structured data.frame object used in the equivalence testing procedures, the base period for the test, a logical value indicating whether the panel is balanced and the number of periods.
</p>

<hr>
<h2 id='EquiTrends_inputcheck'>Input Checks Function for EquiTrends</h2><span id='topic+EquiTrends_inputcheck'></span>

<h3>Description</h3>

<p>Input Checks Function for EquiTrends
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EquiTrends_inputcheck(
  Y,
  ID,
  G,
  period,
  X,
  data,
  equiv_threshold,
  pretreatment_period,
  base_period,
  cluster,
  alpha
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="EquiTrends_inputcheck_+3A_y">Y</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_id">ID</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_g">G</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_period">period</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_x">X</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_data">data</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_pretreatment_period">pretreatment_period</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_base_period">base_period</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_cluster">cluster</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
<tr><td><code id="EquiTrends_inputcheck_+3A_alpha">alpha</code></td>
<td>
<p>see <a href="#topic+maxEquivTest">maxEquivTest</a>, <a href="#topic+meanEquivTest">meanEquivTest</a> or <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing an error indicator and a message. If <code>error</code> is TRUE, <code>message</code> contains an error message. If <code>error</code> is FALSE, <code>message</code> is empty.
</p>

<hr>
<h2 id='maxEquivTest'>Equivalence Test for Pre-trends based on the Maximum Absolute Placebo Coefficient</h2><span id='topic+maxEquivTest'></span>

<h3>Description</h3>

<p>This function performs an equivalence test for pre-trends based on the maximum absolute placebo coefficient from Dette &amp; Schumann (2024). The test can be performed using the intersection-union approach (IU), a bootstrap procedure for spherical errors (Boot) and a wild bootstrap procedure (Wild).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxEquivTest(
  Y,
  ID,
  G,
  period,
  X = NULL,
  data = NULL,
  equiv_threshold = NULL,
  pretreatment_period = NULL,
  base_period = NULL,
  type = c("IU", "Boot", "Wild"),
  vcov = NULL,
  cluster = NULL,
  alpha = 0.05,
  B = 1000
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxEquivTest_+3A_y">Y</code></td>
<td>
<p>A numeric vector with the variable of interest. If <code>data</code> is supplied, <code>Y</code> should be a scalar indicating the column number or column-name character string that corresponds to the numeric dependent (outcome) variable in ’data’.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_id">ID</code></td>
<td>
<p>A numeric vector identifying the different cross-sectional units in the dataset. If <code>data</code> is supplied, <code>ID</code> should be a scalar indicating the column number or column-name character string that corresponds to the cross-sectional units identifier in <code>data</code>.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_g">G</code></td>
<td>
<p>A binary or logic vector (of the same dimension as <code>Y</code> and <code>ID</code>) indicating if the individual (e.g. as indicated by <code>ID</code>) receives treatment (e.g. 1 or TRUE) or not (0 or FALSE). If 'data' is supplied, <code>G</code> should be a scalar identifying the column number or column-name character string associated to <code>G</code> in <code>data</code>.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_period">period</code></td>
<td>
<p>A numeric vector (of the same dimension as Y) indicating time. If <code>data</code> is supplied, <code>period</code> should be a scalar indicating the column number or column-name character string that corresponds to the time identifier in <code>data</code>.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_x">X</code></td>
<td>
<p>A vector, matrix, or data.frame containing the control variables. If <code>data</code> is supplied, <code>X</code> must be a vector of column numbers or column-name character strings that identifies the control variables’ columns.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_data">data</code></td>
<td>
<p>An optional <code>data.frame</code> object containing the variables in Y, ID, G, T and, if supplied, X and cluster as its columns.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The scalar equivalence threshold (must be positive). The default is NULL, implying that the function must look for the minimum value for which the null hypothesis of ”non-negligible differences” can still be rejected.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_pretreatment_period">pretreatment_period</code></td>
<td>
<p>A numeric vector identifying the pre-treatment periods that should be used for testing. <code>pretreatment_period</code> must be a subset of the periods included through <code>period</code>. The default is to use all periods that are included in <code>period</code>.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_base_period">base_period</code></td>
<td>
<p>The pre-treatment period to compare the post-treatment observation to. The default is to take the last period of the pre-treatment period.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_type">type</code></td>
<td>
<p>The type of maximum test that should be performed. &quot;IU&quot; for the intersection-union test, &quot;Boot&quot; for the regular bootstrap procedure from Dette &amp; Schumann (2024) and &quot;Wild&quot; for the Wild bootstrap procedure.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_vcov">vcov</code></td>
<td>
<p>If <code>type = "IU"</code>, the variance-covariance matrix that needs to be used. See <em>Details</em> for more details.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_cluster">cluster</code></td>
<td>
<p>If <code>vcov = "CL"</code>, a vector indicating which observations belong to the same cluster. <code>cluster</code> must be of the same length as the panel. If <code>data</code> is supplied, <code>cluster</code> must be either the column index or column name of this vector in the data.frame/matrix. The default (<code>cluster=NULL</code>) assumes every unit in ID is its own cluster. Only required if <code>vcov = "CL"</code> and <code>type = "IU"</code>.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_alpha">alpha</code></td>
<td>
<p>Significance level of the test. The default is 0.05. Only required if <code>equiv_threshold</code> is not specified.</p>
</td></tr>
<tr><td><code id="maxEquivTest_+3A_b">B</code></td>
<td>
<p>If type = Boot or type = Wild, the number of bootstrap samples used. The default is 1000.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>vcov</code> parameter specifies the variance-covariance matrix to be used in the function for <code>type = "IU"</code>. 
This parameter can take two types of inputs:
</p>

<ol>
<li><p> A character string specifying the type of variance-covariance matrix estimation. The options are:</p>

<ul>
<li> <p><code>NULL</code>: The default variance-covariance matrix estimated by the <a href="plm.html#topic+plm">plm</a> function is used.
</p>
</li>
<li> <p><code>"HC"</code>: A heteroscedasticity-robust (HC) covariance matrix is estimated using the <code>vcovHC</code> function from the <code>plm</code> package, <a href="plm.html#topic+vcovHC">vcovHC</a>, with type <code>"HC1"</code> and method <code>"white1"</code> (see White, 1980).
</p>
</li>
<li> <p><code>"HAC"</code>: A heteroscedasticity and autocorrelation robust (HAC) covariance matrix is estimated using the <code>vcovHC</code> function from the <code>plm</code> package, <a href="plm.html#topic+vcovHC">vcovHC</a>, with type <code>"HC3"</code> and method <code>"arellano"</code> (see Arellano, 1987).
</p>
</li>
<li> <p><code>"CL"</code>: A cluster-robust covariance matrix is estimated using the <code>vcovCR</code> function from the <code>clubSandwich</code> package with type <code>"CR0"</code> (see Lian &amp; Zegers (1986)). The cluster variable is either <code>"ID"</code> or a custom cluster variable provided in the <code>data</code> dataframe.
</p>
</li></ul>

</li>
<li><p> A function that takes an <a href="plm.html#topic+plm">plm</a> object as input and returns a variance-covariance matrix. 
This allows for custom variance-covariance matrix estimation methods. For example, you could 
use the <code>vcovHC</code> function from the <code>sandwich</code> package with a specific method and type:
</p>
<pre>function(x) {vcovHC(x, method = "white1", type = "HC2")}</pre>
</li></ol>

<p>If no <code>vcov</code> parameter is provided, the function defaults to using the variance-covariance matrix 
estimated by the <a href="plm.html#topic+plm">plm::plm()</a> function.
</p>
<p>One should note that rows containing <code>NA</code> values are removed from the panel before the testing procedure is performed.
</p>
<p>NOTE: Please be aware that including control variables (X) might lead to higher computation times for type = &quot;Boot&quot; and type = &quot;Wild&quot;, due to unconstrained parameters in the optimization problem that estimates the constrained placebo coefficients.
</p>
<p>On top of that, please be aware that the bootstrap procedures for the equivalence test based on the maximum absolute placebo coefficient apply a bootstrap procedure (as described by Dette &amp; Schumann (2024)), leading to a stochastic critical value and minimum equivalence threshold. Therefore, the results may vary slightly between different runs of the function. For reproducibility of the bootstrap procedures, it is recommended to set a seed before using the function.
</p>


<h3>Value</h3>

<p>If <code>type = "IU"</code>, an object of class <code>maxEquivTestIU</code>  with </p>

<ul>
<li><p><code>placebo_coefficients</code>: A numeric vector of the estimated placebo coefficients,
</p>
</li>
<li><p><code>abs_placebo_coefficients</code>: a numeric vector with the absolute values of estimated placebo coefficients,
</p>
</li>
<li><p><code>placebo_coefficients_se</code>: a numeric vector with the standard errors of the placebo coefficients,
</p>
</li>
<li><p><code>significance_level</code>: the chosen significance level of the test,
</p>
</li>
<li><p><code>base_period</code>: the base period used in the testing procedure,
</p>
</li>
<li><p><code>placebo_names</code>: the names corresponding to the placebo coefficients,
</p>
</li>
<li><p><code>num_individuals</code>: the number of cross-sectional individuals in the panel used for testing,
</p>
</li>
<li><p><code>num_periods</code>: the number of periods in the panel used for testing (if the panel is unbalanced, <code>num_periods</code> indicates the range of time periods across all individuals),
</p>
</li>
<li><p><code>num_observations</code>: the total number of observations in the panel used for testing,
</p>
</li>
<li><p><code>is_panel_balanced</code>: a logical value indicating whether the panel is balanced,
</p>
</li>
<li><p><code>equiv_threshold_specified</code>: a logical value indicating whether an equivalence threshold was specified.
</p>
</li>
<li><p>if <code>equiv_threshold_specified = TRUE</code>, then additionally</p>

<ul>
<li><p><code>IU_critical_values</code>: a numeric vector with the individual critical values for each of the placebo coefficients,
</p>
</li>
<li><p><code>reject_null_hypothesis</code>: a logical value indicating whether the null hypothesis of negligible pre-trend differences can be rejected at the specified significance level <code>alpha</code>,
</p>
</li>
<li><p><code>equiv_threshold</code>: the equivalence threshold employed.
</p>
</li></ul>

</li>
<li><p>if <code>equiv_threshold_specified = FALSE</code>, then additionally</p>

<ul>
<li><p><code>minimum_equiv_thresholds</code>: a numeric vector including for each placebo coefficient the minimum equivalence threshold for which the null hypothesis of negligible pre-trend differences can be rejected for the corresponding placebo coefficient individually,
</p>
</li>
<li><p><code>minimum_equiv_threshold</code>: a numeric scalar minimum equivalence threshold for which the null hypothesis of negligible pre-trend differences can be rejected for all placebo coefficients individually.
</p>
</li></ul>
</li></ul>

<p>if <code>type = "Boot"</code> or <code>type = "Wild"</code>, an object of class &quot;maxEquivTestBoot&quot;  with </p>

<ul>
<li><p><code>placebo_coefficients</code>: a numeric vector of the estimated placebo coefficients,
</p>
</li>
<li><p><code>abs_placebo_coefficients</code>: a numeric vector with the absolute values of estimated placebo coefficients,
</p>
</li>
<li><p><code>max_abs_coefficient</code>: the maximum absolute estimated placebo coefficient,
</p>
</li>
<li><p><code>B</code>: the number of bootstrap samples used to find the critical value,
</p>
</li>
<li><p><code>significance_level</code>: the chosen significance level of the test <code>alpha</code>,
</p>
</li>
<li><p><code>base_period</code>: the base period used in the testing procedure,
</p>
</li>
<li><p><code>placebo_names</code>: the names corresponding to the placebo coefficients,
</p>
</li>
<li><p><code>equiv_threshold_specified</code>: a logical value indicating whether an equivalence threshold was specified.
</p>
</li>
<li><p><code>num_individuals</code>: the number of cross-sectional individuals in the panel used for testing,
</p>
</li>
<li><p><code>num_periods</code>: the number of pre-treatment periods in the panel used for testing (if the panel is unbalanced, <code>num_periods</code> represents the range in the number of time periods covered by different individuals),
</p>
</li>
<li><p><code>num_observations</code>: the total number of observations in the panel used for testing,
</p>
</li>
<li><p><code>is_panel_balanced</code>: a logical value indicating whether the panel is balanced.
</p>
</li>
<li><p>if <code>equiv_threshold_specified = TRUE</code>, then additionally</p>

<ul>
<li><p><code>bootstrap_critical_value</code>: the by bootstrap found critical value for the equivalence test based on the maximum absolute placebo coefficient,
</p>
</li>
<li><p><code>reject_null_hypothesis</code>: a logical value indicating whether the null hypothesis of negligible pre-trend differences can be rejected at the specified significance level <code>alpha</code>,</p>
</li></ul>
 
</li>
<li><p>if <code>equiv_threshold_specified = FALSE</code>, then additionally</p>

<ul>
<li><p><code>minimum_equiv_threshold</code>: a numeric scalar minimum equivalence threshold for which the null hypothesis of negligible pre-trend differences can be rejected for the bootstrap procedure. 
</p>
</li></ul>

</li></ul>



<h3>Author(s)</h3>

<p>Ties Bos
</p>


<h3>References</h3>

<p>Arellano M (1987). “Computing Robust Standard Errors for Within-groups Estimators.” <em>Oxford bulletin of Economics and Statistics</em>, 49(4), 431–434.
</p>
<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>
<p>Liang, K.-Y., &amp; Zeger, S. L. (1986). &quot;Longitudinal data analysis using generalized linear models.&quot; <em>Biometrika</em>, 73(1), 13-22. <a href="doi:10.1093/biomet/73.1.13">doi:10.1093/biomet/73.1.13</a>
</p>
<p>White H (1980). “A heteroskedasticity-consistent covariance matrix estimator and a direct test for heteroskedasticity.” <em>Econometrica</em>, 48(4), 817–838.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.maxEquivTestBoot">print.maxEquivTestBoot</a></code> <code><a href="#topic+print.maxEquivTestIU">print.maxEquivTestIU</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a balanced panel dataset with 500 cross-sectional units (individuals), 
# 5 time periods (labeled 1-5), a binary variable indicating which individual 
# receives treatment and 2 control variables ("X_1" and "X_2") The error-terms are generated without 
# heteroscedasticity,  autocorrelation, or any significant clusters. 
# Furthermore, there are no fixed effects (lambda and eta are both vectors 
# containing only 0) and no pre-trends present in the data (all values in 
# beta are 0). See sim_paneldata() for more details.

sim_data &lt;- sim_paneldata(N = 500, tt = 5, p = 2, beta = rep(0, 5), 
                          gamma = rep(1, 2), het = 0, phi = 0, sd = 1, 
                          burnins = 50)

# -----------------  IU Approach -----------------
# Perform the test with equivalent threshold specified as 1 based on 
# pre-treatment periods 1-4 and homoscedastic error-terms:
  # To select variables, one can use the column names / numbers in the panel data
maxEquivTest(Y = "Y", ID = "ID", G = "G", period = 2, X= c(5,6),
              data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
              base_period = 4, type = "IU")
  # Alternatively, one can enter the variables separately:
data_Y &lt;- sim_data$Y
data_ID &lt;- sim_data$ID
data_G &lt;- sim_data$G
data_period &lt;- sim_data$period
data_X &lt;- sim_data[, c(5, 6)]
maxEquivTest(Y = data_Y, ID = data_ID, G = data_G, period = data_period, X = data_X,
             equiv_threshold = 1, pretreatment_period = 1:4,
             base_period = 4, type = "IU")
             
# Perform the test without specifying the equivalence threshold with heteroscedastic 
# and autocorrelation robust variance-covariance matrix estimator:
maxEquivTest(Y = 3, ID = 1, G = 4, period = 2, 
             data = sim_data, equiv_threshold = NULL, pretreatment_period = 1:4,
             base_period = 4, type = "IU", vcov = "HAC")

# Perform the test without specifying the equivalence threshold with a custom
# variance-covariance matrix estimator:
vcov_func &lt;- function(x) {plm::vcovHC(x, method = "white1", type = "HC2")}
maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
             data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
             base_period = 4, type = "IU", vcov = vcov_func)
 
# Perform the test using clustered standard errors based on a vector indicating 
# the cluster. For instance, two clusters with the following rule: all
# individuals with an ID below 250 are in the same cluster.
cluster_ind &lt;- ifelse(sim_data$ID &lt; 250, 1, 2)
maxEquivTest(Y = data_Y, ID = data_ID, G = data_G, period = data_period, X = data_X,
               equiv_threshold = 1, pretreatment_period = 1:4,
               base_period = 4, type = "IU", vcov = "CL", cluster = cluster_ind)

# Note that the testing procedure can also handle unbalanced panels. 
# Finally, one should note that the test procedure also works for unbalanced panels.
# To illustrate this, we generate an unbalanced panel dataset by randomly selecting
# 70% of the observations from the balanced panel dataset:
random_indeces &lt;- sample(nrow(sim_data), 0.7*nrow(sim_data))
unbalanced_sim_data &lt;- sim_data[random_indeces, ]
maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", X = c(5, 6),
              data = unbalanced_sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
              base_period = 4, type = "IU", vcov = "HAC")

#-----------------  Bootstrap Approach -----------------
 
 # Perform the test with equivalence threshold specified as 1 based on 
 # pre-treatment periods 1:4 (with base period 4) with the general bootstrap procedure:
 maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
             data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
             base_period = 4, type = "Boot")

 # Perform the test with the equivalence threshold specified as 1 based on 
 # pre-treatment periods 1:4 (with base period 4) with the wild bootstrap procedure:
 maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
             data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
             base_period = 4, type = "Wild")
 
 # The bootstrap procedures can handle unbalanced panels:
 maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
             data = unbalanced_sim_data, equiv_threshold = 1, 
             pretreatment_period = 1:4,
             base_period = 4, type = "Boot")
 maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
             data = unbalanced_sim_data, equiv_threshold = 1, 
             pretreatment_period = 1:4,
             base_period = 4, type = "Wild") 
 
 # Performing the test without specifying the equivalence threshold:
 maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
             data = sim_data, equiv_threshold = NULL, pretreatment_period = 1:4,
             base_period = 4, type = "Boot")

 maxEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
             data = sim_data, equiv_threshold = NULL, pretreatment_period = 1:4,
             base_period = 4, type = "Wild")           

</code></pre>

<hr>
<h2 id='maxTest_error'>Additional input checks for the maxEquivTest function</h2><span id='topic+maxTest_error'></span>

<h3>Description</h3>

<p>This function checks additonal inputs specific to the maxEquivTest function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxTest_error(type, equiv_threshold, vcov, B)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxTest_error_+3A_type">type</code></td>
<td>
<p>the type of test for the maximum absolute placebo coefficient to be conducted; must be one of &quot;IU&quot;, &quot;Boot&quot; or &quot;Wild&quot;.</p>
</td></tr>
<tr><td><code id="maxTest_error_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>the equivalence threshold for the test. Must be a numeric scalar or NULL.</p>
</td></tr>
<tr><td><code id="maxTest_error_+3A_vcov">vcov</code></td>
<td>
<p>the variance-covariance matrix estimator. See <code><a href="#topic+maxEquivTest">maxEquivTest</a></code> for more information.</p>
</td></tr>
<tr><td><code id="maxTest_error_+3A_b">B</code></td>
<td>
<p>the number of bootstrap iterations. Must be a numeric integer scalar.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: <code>error</code> a logical value indicating whether an error was found, and <code>message</code> a character string with the error message. If no error was found, <code>error</code> is <code>FALSE</code> and <code>message</code> is empty.
</p>

<hr>
<h2 id='maxTestBoot_func'>An internal function of the EquiTrends Maximum Equivalence Testing procedure using the Bootstrap approaches.</h2><span id='topic+maxTestBoot_func'></span>

<h3>Description</h3>

<p>This is a supporting function of the <code>maxEquivTest</code> function. It calculates the placebo coefficients and the absolute value of the placebo coefficients. It then calculates the critical value by bootstrap if an equivalence threshold is supplied for the test, according to Dette &amp; Schumann (2024).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxTestBoot_func(
  data,
  equiv_threshold,
  alpha,
  n,
  B,
  no_periods,
  base_period,
  type,
  original_names,
  is_panel_balanced
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxTestBoot_func_+3A_data">data</code></td>
<td>
<p>The data.frame object containing the data for the test. Should be of the form what is returned by the <a href="#topic+EquiTrends_dataconstr">EquiTrends_dataconstr</a> function.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The equivalence threshold for the test.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_alpha">alpha</code></td>
<td>
<p>The significance level for the test.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_n">n</code></td>
<td>
<p>The number of cross-sectional individuals in the data.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_b">B</code></td>
<td>
<p>The number of bootstrap replications.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_no_periods">no_periods</code></td>
<td>
<p>The number of periods in the data.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_base_period">base_period</code></td>
<td>
<p>The base period for the test. Must be one of the unique periods in the data.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_type">type</code></td>
<td>
<p>The type of bootstrap to be used. Must be one of &quot;Boot&quot; or &quot;Wild&quot;.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_original_names">original_names</code></td>
<td>
<p>The original names of the control variables in the data.</p>
</td></tr>
<tr><td><code id="maxTestBoot_func_+3A_is_panel_balanced">is_panel_balanced</code></td>
<td>
<p>A logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class &quot;maxEquivTestBoot&quot;  with
</p>
<table role = "presentation">
<tr><td><code>placebo_coefficients</code></td>
<td>
<p>A numeric vector of the estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>abs_placebo_coefficients</code></td>
<td>
<p>a numeric vector with the absolute values of estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>max_abs_coefficient</code></td>
<td>
<p>the maximum absolute estimated placebo coefficient,</p>
</td></tr>
<tr><td><code>bootstrap_critica_value</code></td>
<td>
<p>the by bootstrap found critical value for the equivalence test based on the maximum absolute placebo coefficient,</p>
</td></tr>
<tr><td><code>reject_null_hypothesis</code></td>
<td>
<p>a logical value indicating whether the null hypothesis of negligible pre-trend differences can be rejected at the specified significance level <code>alpha</code>,</p>
</td></tr>
<tr><td><code>B</code></td>
<td>
<p>the number of bootstrap samples used to find the critical value,</p>
</td></tr>
<tr><td><code>significance_level</code></td>
<td>
<p>the chosen significance level of the test <code>alpha</code>,</p>
</td></tr>
<tr><td><code>num_individuals</code></td>
<td>
<p>the number of cross-sectional individuals (n),</p>
</td></tr>
<tr><td><code>num_periods</code></td>
<td>
<p>the number of periods (T),</p>
</td></tr>
<tr><td><code>num_observations</code></td>
<td>
<p>the total number of observations (N),</p>
</td></tr>
<tr><td><code>base_period</code></td>
<td>
<p>the base period in the data,</p>
</td></tr>
<tr><td><code>placebo_names</code></td>
<td>
<p>the names corresponding to the placebo coefficients,</p>
</td></tr>
<tr><td><code>equiv_threshold_specified</code></td>
<td>
<p>a logical value indicating whether an equivalence threshold was specified.</p>
</td></tr>
<tr><td><code>is_panel_balanced</code></td>
<td>
<p>a logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>

<hr>
<h2 id='maxTestIU_func'>An internal function of the EquiTrends Maximum Equivalence Testing procedure using the Intersection Union approach.</h2><span id='topic+maxTestIU_func'></span>

<h3>Description</h3>

<p>This is a supporting function of the <code>maxEquivTest</code> function. It calculates the placebo coefficients and the absolute value of the placebo coefficients. It then calculates the critical value and p-values if an equivalence threshold is supplied for the test, according to Dette &amp; Schumann (2024). If no equivalence threshold is supplied, it calculates the minimum equivalence threshold for which the null of non-negligible pre-trend differences can be rejected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxTestIU_func(
  data,
  equiv_threshold,
  vcov,
  cluster,
  alpha,
  n,
  no_periods,
  base_period,
  is_panel_balanced
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxTestIU_func_+3A_data">data</code></td>
<td>
<p>The data.frame object containing the data for the test. Should be of the form what is returned by the <a href="#topic+EquiTrends_dataconstr">EquiTrends_dataconstr</a> function.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The equivalence threshold for the test. If NULL, the minimum equivalence threshold for which the null hypothesis of non-negligible can be rejected is calculated.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_vcov">vcov</code></td>
<td>
<p>The variance-covariance matrix estimator. See <a href="#topic+maxEquivTest">maxEquivTest</a> for more information.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_cluster">cluster</code></td>
<td>
<p>The cluster variable for the cluster-robust variance-covariance matrix estimator. See <a href="#topic+maxEquivTest">maxEquivTest</a> for more information.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_alpha">alpha</code></td>
<td>
<p>The significance level for the test.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_n">n</code></td>
<td>
<p>The number of cross-sectional individuals in the data.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_no_periods">no_periods</code></td>
<td>
<p>The number of periods in the data.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_base_period">base_period</code></td>
<td>
<p>The base period for the test. Must be one of the unique periods in the data.</p>
</td></tr>
<tr><td><code id="maxTestIU_func_+3A_is_panel_balanced">is_panel_balanced</code></td>
<td>
<p>A logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;maxEquivTestIU&quot; containing:
</p>
<table role = "presentation">
<tr><td><code>placebo_coefficients</code></td>
<td>
<p>A numeric vector of the estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>abs_placebo_coefficients</code></td>
<td>
<p>a numeric vector with the absolute values of estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>placebo_coefficient_se</code></td>
<td>
<p>a numeric vector with the standard errors of the placebo coefficients,</p>
</td></tr>
<tr><td><code>significance_level</code></td>
<td>
<p>the chosen significance level of the test,</p>
</td></tr>
<tr><td><code>num_individuals</code></td>
<td>
<p>the number of cross-sectional individuals (n),</p>
</td></tr>
<tr><td><code>num_periods</code></td>
<td>
<p>the number of periods (T),</p>
</td></tr>
<tr><td><code>num_observations</code></td>
<td>
<p>the total number of observations (N),</p>
</td></tr>
<tr><td><code>base_period</code></td>
<td>
<p>the base period in the data,</p>
</td></tr>
<tr><td><code>placebo_names</code></td>
<td>
<p>the names corresponding to the placebo coefficients,</p>
</td></tr>
<tr><td><code>equiv_threshold_specified</code></td>
<td>
<p>a logical value indicating whether an equivalence threshold was specified.</p>
</td></tr>
<tr><td><code>is_panel_balanced</code></td>
<td>
<p>a logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>
<p>Additionally, if <code>!(is.null(equiv_threshold))</code></p>

<ul>
<li><p><code>IU_critical_values</code>: a numeric vector with the individual critical values for each of the placebo coefficients,
</p>
</li>
<li><p><code>reject_null_hypothesis</code>: a logical value indicating whether the null hypothesis of negligible pre-trend differences can be rejected at the specified significance level <code>alpha</code>,
</p>
</li>
<li><p><code>equiv_threshold</code>: the equivalence threshold employed,
</p>
</li></ul>

<p>if <code>is.null(equiv_threshold)</code></p>

<ul>
<li><p><code>minimum_equiv_thresholds</code>: a numeric vector including for each placebo coefficient the minimum equivalence threshold for which the null hypothesis of negligible pre-trend differences can be rejected for the corresponding placebo coefficient individually,
</p>
</li>
<li><p><code>minimum_equiv_threshold</code>: a numeric scalar minimum equivalence threshold for which the null hypothesis of negligible pre-trend differences can be rejected for all placebo coefficients individually.
</p>
</li></ul>



<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>

<hr>
<h2 id='maxTestIU_optim_func'>Finding the minimum equivalence threshold for the equivalence test based on the IU procedure for the maximum placebo coefficient.</h2><span id='topic+maxTestIU_optim_func'></span>

<h3>Description</h3>

<p><code>maxTestIU_optim_func</code> solves the optimization problem to find the minimum equivalence threshold for which one can reject the null hypothesis of non-negligible pre-trend differences at a given significance level for the equivalence test based on the maximum placebo coefficient, especially for the Intersection Union type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxTestIU_optim_func(coef, sd, alpha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxTestIU_optim_func_+3A_coef">coef</code></td>
<td>
<p>The estimated absolute value of the mean placebo coefficients</p>
</td></tr>
<tr><td><code id="maxTestIU_optim_func_+3A_sd">sd</code></td>
<td>
<p>The estimated standard deviation of the mean of the placebo coefficients</p>
</td></tr>
<tr><td><code id="maxTestIU_optim_func_+3A_alpha">alpha</code></td>
<td>
<p>The significance level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The minimum equivalence threshold for which the null hypothesis of non-negligible differences can be rejected for the equivalence test based on the mean placebo coefficient.
</p>

<hr>
<h2 id='meanEquivTest'>Equivalence Test for Pre-trends based on the Mean Placebo Coefficient</h2><span id='topic+meanEquivTest'></span>

<h3>Description</h3>

<p>This function performs an equivalence test for pre-trends based on the mean placebo coefficient from Dette &amp; Schumann (2024).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanEquivTest(
  Y,
  ID,
  G,
  period,
  X = NULL,
  data = NULL,
  equiv_threshold = NULL,
  pretreatment_period = NULL,
  base_period = NULL,
  vcov = NULL,
  cluster = NULL,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meanEquivTest_+3A_y">Y</code></td>
<td>
<p>A numeric vector with the variable of interest. If <code>data</code> is supplied, <code>Y</code> should be a scalar indicating the column number or column-name character string that corresponds to the numeric dependent (outcome) variable in ’data’.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_id">ID</code></td>
<td>
<p>A numeric vector identifying the different cross-sectional units in the dataset. If <code>data</code> is supplied, <code>ID</code> should be a scalar indicating the column number or column-name character string that corresponds to the cross-sectional units identifier in <code>data</code>.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_g">G</code></td>
<td>
<p>A binary or logic vector (of the same dimension as <code>Y</code> and <code>ID</code>) indicating if the individual (e.g. as indicated by <code>ID</code>) receives treatment (e.g. 1 or TRUE) or not (0 or FALSE). f 'data' is supplied, <code>G</code> should be a scalar identifying the column number or column-name character string associated to <code>G</code> in <code>data</code>.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_period">period</code></td>
<td>
<p>A numeric vector (of the same dimension as Y) indicating time. If <code>data</code> is supplied, <code>period</code> should be a scalar indicating the column number or column-name character string that corresponds to the time identifier in <code>data</code>.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_x">X</code></td>
<td>
<p>A vector, matrix, or data.frame containing the control variables. If <code>data</code> is supplied, <code>X</code> must be a vector of column numbers or column-name character strings that identifies the control variables’ columns.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_data">data</code></td>
<td>
<p>An optional <code>data.frame</code> object containing the variables in Y, ID, G, T and, if supplied, X and cluster as its columns.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The scalar equivalence threshold (must be positive). The default is NULL, implying that the function must look for the minimum value for which the null hypothesis of ”non-negligible differences” can still be rejected.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_pretreatment_period">pretreatment_period</code></td>
<td>
<p>A numeric vector identifying the pre-treatment periods that should be used for testing. <code>pretreatment_period</code> must be a subset of the periods included through <code>period</code>. The default is to use all periods that are included in <code>period</code>.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_base_period">base_period</code></td>
<td>
<p>The pre-treatment period to compare the post-treatment observation to. The default is to take the last period of the pre-treatment period.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_vcov">vcov</code></td>
<td>
<p>The variance-covariance matrix that needs to be used. See <em>Details</em> for more details.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_cluster">cluster</code></td>
<td>
<p>If <code>vcov = "CL"</code>, a vector indicating which observations belong to the same cluster. <code>cluster</code> must be of the same length as the panel. If <code>data</code> is supplied, <code>cluster</code> must be either the column index or column name of this vector in the data.frame/matrix. The default (<code>cluster=NULL</code>) assumes every unit in ID is its own cluster.</p>
</td></tr>
<tr><td><code id="meanEquivTest_+3A_alpha">alpha</code></td>
<td>
<p>Significance level of the test. The default is 0.05. Only required if <code>equiv_threshold</code> is not specified.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>vcov</code> parameter specifies the variance-covariance matrix to be used in the function. 
This parameter can take two types of inputs:
</p>

<ol>
<li><p> A character string specifying the type of variance-covariance matrix estimation. The options are:</p>

<ul>
<li> <p><code>NULL</code>: The default variance-covariance matrix estimated by the <a href="plm.html#topic+plm">plm</a> function is used.
</p>
</li>
<li> <p><code>"HC"</code>: A heteroscedasticity-robust (HC) covariance matrix is estimated using the <code>vcovHC</code> function from the <code>plm</code> package, <a href="plm.html#topic+vcovHC">vcovHC</a>, with type <code>"HC1"</code> and method <code>"white1"</code> (see White, 1980).
</p>
</li>
<li> <p><code>"HAC"</code>: A heteroscedasticity and autocorrelation robust (HAC) covariance matrix is estimated using the <code>vcovHC</code> function from the <code>plm</code> package, <a href="plm.html#topic+vcovHC">vcovHC</a>, with type <code>"HC3"</code> and method <code>"arellano"</code> (see Arellano, 1987).
</p>
</li>
<li> <p><code>"CL"</code>: A cluster-robust covariance matrix is estimated using the <code>vcovCR</code> function from the <code>clubSandwich</code> package with type <code>"CR0"</code> (see Lian &amp; Zegers (1986)). The cluster variable is either <code>"ID"</code> or a custom cluster variable provided in the <code>data</code> dataframe.
</p>
</li></ul>

</li>
<li><p> A function that takes an <a href="plm.html#topic+plm">plm</a> object as input and returns a variance-covariance matrix. 
This allows for custom variance-covariance matrix estimation methods. For example, you could 
use the <code>vcovHC</code> function from the <code>sandwich</code> package with a specific method and type:
</p>
<pre>function(x) {vcovHC(x, method = "white1", type = "HC2")}</pre>
</li></ol>

<p>If no <code>vcov</code> parameter is provided, the function defaults to using the variance-covariance matrix 
estimated by the <a href="plm.html#topic+plm">plm::plm()</a> function.
</p>
<p>One should note that rows containing <code>NA</code> values are removed from the panel before the testing procedure is performed.
</p>


<h3>Value</h3>

<p>An object of class &quot;meanEquivTest&quot; containing:
</p>
<table role = "presentation">
<tr><td><code>placebo_coefficients</code></td>
<td>
<p> a numeric vector of the estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>abs_mean_placebo_coefs</code></td>
<td>
<p> the absolute value of the mean of the placebo coefficients,</p>
</td></tr>
<tr><td><code>var_mean_placebo_coef</code></td>
<td>
<p> the estimated variance of the mean placebo coefficient,</p>
</td></tr>
<tr><td><code>significance_level</code></td>
<td>
<p> the significance level of the test,</p>
</td></tr>
<tr><td><code>base_period</code></td>
<td>
<p> the base period used in the testing procedure,</p>
</td></tr>
<tr><td><code>num_individuals</code></td>
<td>
<p> the number of cross-sectional individuals in the panel used for testing,</p>
</td></tr>
<tr><td><code>num_periods</code></td>
<td>
<p> the number of periods in the panel used for testing (if the panel is unbalanced, <code>num_periods</code> represents the range in the number of time periods covered by different individuals),</p>
</td></tr>
<tr><td><code>num_observations</code></td>
<td>
<p> the total number of observations in the panel used for testing,</p>
</td></tr>
<tr><td><code>is_panel_balanced</code></td>
<td>
<p> a logical value indicating whether the panel is balanced,</p>
</td></tr>
<tr><td><code>equiv_threshold_specified</code></td>
<td>
<p> a logical value indicating whether an equivalence threshold was specified.</p>
</td></tr>
</table>
<p>If <code>equiv_threshold_specified = FALSE</code>, then additionally <code>minimum_equiv_threshold</code>: the minimum equivalence threshold for which the null hypothesis of non-negligible (based on the equivalence threshold) trend-differences can be rejected. 
</p>
<p>If <code>equiv_threshold_specified = TRUE</code>, then additionally </p>

<ul>
<li> <p><code>mean_critical_value</code>: the critical value at the alpha level,
</p>
</li>
<li> <p><code>p_value</code>: the p-value of the test,
</p>
</li>
<li> <p><code>reject_null_hypothesis</code>: A logical value indicating whether to reject the null hypothesis,
</p>
</li>
<li> <p><code>equiv_threshold</code>: the equivalence threshold specified.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Ties Bos
</p>


<h3>References</h3>

<p>Arellano M (1987). “Computing Robust Standard Errors for Within-groups Estimators.” <em>Oxford bulletin of Economics and Statistics</em>, 49(4), 431–434.
</p>
<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>
<p>Liang, K.-Y., &amp; Zeger, S. L. (1986). &quot;Longitudinal data analysis using generalized linear models.&quot; <em>Biometrika</em>, 73(1), 13-22. DOI: <a href="https://doi.org/10.1093/biomet/73.1.13">doi:10.1093/biomet/73.1.13</a>
</p>
<p>White H (1980). “A heteroskedasticity-consistent covariance matrix estimator and a direct test for heteroskedasticity.” <em>Econometrica</em>, 48(4), 817–838.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.meanEquivTest">print.meanEquivTest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a balanced panel dataset with 500 cross-sectional units (individuals), 
# 5 time periods (labeled 1-5), a binary variable indicating which individual 
# receives treatment and 2 control variables ("X_1" and "X_2") 
# The error-terms are generated without heteroscedasticity, autocorrelation, 
# or any significant clusters. Furthermore, there are no fixed effects 
# and no pre-trends present in the data (all values in beta are 0). 
# See sim_paneldata() for more details.

sim_data &lt;- sim_paneldata(N = 500, tt = 5, p = 2, beta = rep(0, 5), 
                          gamma = rep(1, 2), het = 0, phi = 0, sd = 1, 
                          burnins = 50)
                          
# Perform the test with equivalent threshold specified as 1 based on 
# pre-treatment periods 1-4 and assuming homoscedastic error-terms:
  # To select variables, one can use the column names / column numbers in the panel data:
  meanEquivTest(Y = "Y", ID = "ID", G = "G", period = 2, X = c(5, 6),
                data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
                base_period = 4)
  # Alternatively, one can use separate variables:
  data_Y &lt;- sim_data$Y
  data_ID &lt;- sim_data$ID
  data_G &lt;- sim_data$G
  data_period &lt;- sim_data$period
  data_X &lt;- sim_data[, c(5, 6)]
  meanEquivTest(Y = data_Y, ID = data_ID, G = data_G, period = data_period, X = data_X,
                equiv_threshold = 1, pretreatment_period = 1:4,
                base_period = 4)
   
# Perform the test with a heteroscedastic and autocorrelation robust 
# variance-covariance matrix estimator, and without specifying the equivalence threshold:
meanEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", X = c(5, 6),
              data = sim_data, equiv_threshold = NULL, pretreatment_period = 1:4,
              base_period = 4, vcov = "HAC")

# Perform the test with an equivalence threshold of 1 and a custom
# variance-covariance matrix estimator:
vcov_func &lt;- function(x) {plm::vcovHC(x, method = "white1", type = "HC2")}
meanEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", 
              data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
              base_period = 4, vcov = vcov_func)
               
# Perform the test using clustered standard errors based on a vector indicating 
# the cluster. For instance, two clusters with the following rule: all
# individuals with an ID below 250 are in the same cluster:
cluster_ind &lt;- ifelse(sim_data$ID &lt; 250, 1, 2)
meanEquivTest(Y = data_Y, ID = data_ID, G = data_G, period = data_period, X = data_X,
               equiv_threshold = 1, pretreatment_period = 1:4,
               base_period = 4, vcov = "CL", cluster = cluster_ind)

# Note that the testing procedure can also handle unbalanced panels. 
# Finally, one should note that the test procedure also works for unbalanced panels.
# To illustrate this, we generate an unbalanced panel dataset by randomly selecting
# 70% of the observations from the balanced panel dataset:
random_indeces &lt;- sample(nrow(sim_data), 0.7*nrow(sim_data))
unbalanced_sim_data &lt;- sim_data[random_indeces, ]
meanEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", X = c(5, 6),
              data = unbalanced_sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
              base_period = 4, vcov = "HAC")


</code></pre>

<hr>
<h2 id='meanTest_func'>An internal function of the EquiTrends Mean Equivalence Testing procedure</h2><span id='topic+meanTest_func'></span>

<h3>Description</h3>

<p>This is a supporting function of the <code>meanEquivTest</code> function. It calculates the placebo coefficients and the absolute value of the mean of the placebo coefficients. It then calculates the critical value and p-values if an equivalence threshold is supplied for the test, according to Dette &amp; Schumann (2024). If equivalence threshold is not supplied, it calculates the minimum equivalence threshold for which the null of non-negligible pre-trend differences can be rejected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanTest_func(
  data,
  equiv_threshold,
  vcov,
  cluster,
  alpha,
  n,
  no_periods,
  base_period,
  is_panel_balanced
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meanTest_func_+3A_data">data</code></td>
<td>
<p>The data.frame object containing the data for the test. Should be of the form what is returned by the <a href="#topic+EquiTrends_dataconstr">EquiTrends_dataconstr</a> function.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The equivalence threshold for the test. If NULL, the minimum equivalence threshold for which the null hypothesis can be rejected is calculated.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_vcov">vcov</code></td>
<td>
<p>The variance-covariance matrix estimator. See <a href="#topic+meanEquivTest">meanEquivTest</a> for more information.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_cluster">cluster</code></td>
<td>
<p>The cluster variable for the cluster-robust variance-covariance matrix estimator. See <a href="#topic+meanEquivTest">meanEquivTest</a> for more information.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_alpha">alpha</code></td>
<td>
<p>The significance level for the test. Only required if no equivalence threshold is supplied.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_n">n</code></td>
<td>
<p>The number of cross-sectional individuals in the data.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_no_periods">no_periods</code></td>
<td>
<p>The number of periods in the data.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_base_period">base_period</code></td>
<td>
<p>The base period for the test. Must be one of the unique periods in the data.</p>
</td></tr>
<tr><td><code id="meanTest_func_+3A_is_panel_balanced">is_panel_balanced</code></td>
<td>
<p>A logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>#' An object of class &quot;meanEquivTest&quot; containing:
</p>
<table role = "presentation">
<tr><td><code>placebo_coefficients</code></td>
<td>
<p>A numeric vector of the estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>abs_mean_placebo_coefs</code></td>
<td>
<p>the absolute value of the mean of the placebo coefficients,</p>
</td></tr>
<tr><td><code>var_mean_placebo_coef</code></td>
<td>
<p>the estimated variance of the mean placebo coefficient,</p>
</td></tr>
<tr><td><code>significance_level</code></td>
<td>
<p>the significance level of the test,</p>
</td></tr>
<tr><td><code>num_individuals</code></td>
<td>
<p>the number of cross-sectional individuals in the data,</p>
</td></tr>
<tr><td><code>num_periods</code></td>
<td>
<p>the number of periods in the data,</p>
</td></tr>
<tr><td><code>base_period</code></td>
<td>
<p>the base period in the data,</p>
</td></tr>
<tr><td><code>num_observations</code></td>
<td>
<p>the total number of observations in the data,</p>
</td></tr>
<tr><td><code>equiv_threshold_specified</code></td>
<td>
<p>a logical value indicating whether an equivalence threshold was specified.</p>
</td></tr>
<tr><td><code>is_panel_balanced</code></td>
<td>
<p>a logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>
<p>If <code>is.null(equiv_threshold)</code>, then additionally <code>minimum_equiv_threshold</code>: the minimum equivalence threshold for which the null hypothesis of non-negligible (based on the equivalence threshold) trend-differnces can be rejected. 
</p>
<p>if <code>!(is.null(equiv_threshold))</code>, then additionally
</p>

<ul>
<li> <p><code>mean_critical_value</code>: the critical value at the alpha level,
</p>
</li>
<li> <p><code>p_value</code>: the p-value of the test,
</p>
</li>
<li> <p><code>reject_null_hypothesis</code>: A logical value indicating whether to reject the null hypothesis,
</p>
</li>
<li> <p><code>equiv_threshold</code>: the equivalence threshold specified.
</p>
</li></ul>



<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>

<hr>
<h2 id='meanTest_optim_func'>Finding the minimum equivalence threshold for the mean equivalence test</h2><span id='topic+meanTest_optim_func'></span>

<h3>Description</h3>

<p><code>meanTest_optim_func</code> solves the optimization problem to find the minimum equivalence threshold for which one can reject the null hypothesis of non-negligible pre-trend differences at a given significance level for the equivalence test based on the mean placebo coefficient.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanTest_optim_func(coef, sd, alpha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meanTest_optim_func_+3A_coef">coef</code></td>
<td>
<p>The estimated absolute value of the mean placebo coefficients</p>
</td></tr>
<tr><td><code id="meanTest_optim_func_+3A_sd">sd</code></td>
<td>
<p>The estimated standard deviation of the mean of the placebo coefficients</p>
</td></tr>
<tr><td><code id="meanTest_optim_func_+3A_alpha">alpha</code></td>
<td>
<p>The significance level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The minimum equivalence threshold for which the null hypothesis of non-negligible differences can be rejected for the equivalence test based on the mean placebo coefficient.
</p>

<hr>
<h2 id='print.maxEquivTestBoot'>Print maxEquivTestBoot objects</h2><span id='topic+print.maxEquivTestBoot'></span>

<h3>Description</h3>

<p>Print maxEquivTestBoot objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'maxEquivTestBoot'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.maxEquivTestBoot_+3A_x">x</code></td>
<td>
<p>An object of class 'maxEquivTestBoot' containing the results of the maximum test based on the bootstrap procedure.</p>
</td></tr>
<tr><td><code id="print.maxEquivTestBoot_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function prints a summary of the results of the maximum test based on the bootstrap procedures.
</p>

<hr>
<h2 id='print.maxEquivTestIU'>Print maxEquivTestIU objects</h2><span id='topic+print.maxEquivTestIU'></span>

<h3>Description</h3>

<p>Print method for objects of class 'maxEquivTestIU'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'maxEquivTestIU'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.maxEquivTestIU_+3A_x">x</code></td>
<td>
<p>An object of class 'maxEquivTestIU' containing the results of the maximum test based on the intersection-union approach.</p>
</td></tr>
<tr><td><code id="print.maxEquivTestIU_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function prints a summary of the results of the maximum test based on the intersection-union approach.
</p>

<hr>
<h2 id='print.meanEquivTest'>Print meanEquivTest objects</h2><span id='topic+print.meanEquivTest'></span>

<h3>Description</h3>

<p>Print meanEquivTest objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'meanEquivTest'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.meanEquivTest_+3A_x">x</code></td>
<td>
<p>An object of class 'meanEquivTest' containing the results of the maximum test based on the bootstrap procedure.</p>
</td></tr>
<tr><td><code id="print.meanEquivTest_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function prints a summary of the results of the maximum test based on the bootstrap procedures.
</p>

<hr>
<h2 id='print.rmsEquivTest'>Print rmsEquivTest objects</h2><span id='topic+print.rmsEquivTest'></span>

<h3>Description</h3>

<p>Print rmsEquivTest objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rmsEquivTest'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rmsEquivTest_+3A_x">x</code></td>
<td>
<p>An object of class 'rmsEquivTest' containing the results of the maximum test based on the bootstrap procedure.</p>
</td></tr>
<tr><td><code id="print.rmsEquivTest_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function prints a summary of the results of the maximum test based on the bootstrap procedures.
</p>

<hr>
<h2 id='rmsEquivTest'>Equivalence Test for Pre-trends based on the RMS Placebo Coefficient</h2><span id='topic+rmsEquivTest'></span>

<h3>Description</h3>

<p>This function performs an equivalence test for pre-trends based on the root mean squared placebo coefficient from Dette &amp; Schumann (2024).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmsEquivTest(
  Y,
  ID,
  G,
  period,
  X = NULL,
  data = NULL,
  equiv_threshold = NULL,
  pretreatment_period = NULL,
  base_period = NULL,
  alpha = 0.05,
  no_lambda = 5
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmsEquivTest_+3A_y">Y</code></td>
<td>
<p>A numeric vector with the variable of interest. If <code>data</code> is supplied, <code>Y</code> should be a scalar indicating the column number or column-name character string that corresponds to the numeric dependent (outcome) variable in ’data’.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_id">ID</code></td>
<td>
<p>A numeric vector identifying the different cross-sectional units in the dataset. If <code>data</code> is supplied, <code>ID</code> should be a scalar indicating the column number or column-name character string that corresponds to the cross-sectional units identifier in <code>data</code>.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_g">G</code></td>
<td>
<p>A binary or logic vector (of the same dimension as <code>Y</code> and <code>ID</code>) indicating if the individual (e.g. as indicated by <code>ID</code>) receives treatment (e.g. 1 or TRUE) or not (0 or FALSE). f 'data' is supplied, <code>G</code> should be a scalar identifying the column number or column-name character string associated to <code>G</code> in <code>data</code>.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_period">period</code></td>
<td>
<p>A numeric vector (of the same dimension as Y) indicating time. If <code>data</code> is supplied, <code>period</code> should be a scalar indicating the column number or column-name character string that corresponds to the time identifier in <code>data</code>.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_x">X</code></td>
<td>
<p>A vector, matrix, or data.frame containing the control variables. If <code>data</code> is supplied, <code>X</code> must be a vector of column numbers or column-name character strings that identifies the control variables’ columns.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_data">data</code></td>
<td>
<p>An optional <code>data.frame</code> object containing the variables in Y, ID, G, T and, if supplied, X and cluster as its columns.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The scalar equivalence threshold (must be positive). The default is NULL, implying that the function must look for the minimum value for which the null hypothesis of ”non-negligible differences” can still be rejected.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_pretreatment_period">pretreatment_period</code></td>
<td>
<p>A numeric vector identifying the pre-treatment periods that should be used for testing. <code>pretreatment_period</code> must be a subset of the periods included through <code>period</code>. The default is to use all periods that are included in <code>period</code>.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_base_period">base_period</code></td>
<td>
<p>The pre-treatment period to compare the post-treatment observation to. The default is to take the last period of the pre-treatment period.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_alpha">alpha</code></td>
<td>
<p>Significance level of the test. The default is 0.05.</p>
</td></tr>
<tr><td><code id="rmsEquivTest_+3A_no_lambda">no_lambda</code></td>
<td>
<p>Parameter specifying the number of incremental segments of the dataset over which a statistic is calculated. See <em>Details</em>. The default is 5.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>no_lambda</code> determines the proportions lambda/<code>no.lambda</code> for lambda = 1,...,<code>no_lambda</code> of the cross-sectional units at which the placebo coefficients are estimated. The placebo coefficients are estimated for each of these proportions and the root mean squared (RMS) of the placebo coefficients is calculated, which are then used to construct the critical value at a significance level of <code>alpha</code>. See Dette &amp; Schumann (2024, s. 4.2.3.) for more details.
</p>
<p>One should note that rows containing <code>NA</code> values are removed from the panel before the testing procedure is performed.
</p>
<p>Please be aware that the equivalence test based on the root mean squared placebo coefficient uses a randomization technique (as described by Dette &amp; Schumann (2024)), leading to a stochastic critical value and minimum equivalence threshold. Therefore, the results may vary slightly between different runs of the function. For reproducibility, it is recommended to set a seed before using the function.
</p>


<h3>Value</h3>

<p>An object of class &quot;rmsEquivTest&quot; containing:
</p>
<table role = "presentation">
<tr><td><code>placebo_coefficients</code></td>
<td>
<p>A numeric vector of the estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>rms_placebo_coefs</code></td>
<td>
<p>the root mean squared value of the placebo coefficients,</p>
</td></tr>
<tr><td><code>significance_level</code></td>
<td>
<p>the significance level of the test,</p>
</td></tr>
<tr><td><code>base_period</code></td>
<td>
<p>the base period used in the testing procedure,</p>
</td></tr>
<tr><td><code>num_individuals</code></td>
<td>
<p>the number of cross-sectional individuals in the panel used for testing,</p>
</td></tr>
<tr><td><code>num_periods</code></td>
<td>
<p>the number of pre-treatment periods in the panel used for testing (if the panel is unbalanced, <code>num_periods</code> represents the range in the number of time periods covered by different individuals),</p>
</td></tr>
<tr><td><code>num_observations</code></td>
<td>
<p>the total number of observations in the panel used for testing,</p>
</td></tr>
<tr><td><code>is_panel_balanced</code></td>
<td>
<p>a logical value indicating whether the panel is balanced,</p>
</td></tr>
<tr><td><code>equiv_threshold_specified</code></td>
<td>
<p>a logical value indicating whether an equivalence threshold was specified.</p>
</td></tr>
</table>
<p>If <code>equiv_threshold_specified = FALSE</code>, then additionally <code>minimum_equiv_threshold</code>: the minimum equivalence threshold for which the null hypothesis of non-negligible (based on the equivalence threshold) trend-differences can be rejected. 
</p>
<p>If <code>equiv_threshold_specified = TRUE</code>, then additionally
</p>

<ul>
<li> <p><code>rms_critical_value</code>: the critical value at the alpha level,
</p>
</li>
<li> <p><code>reject_null_hypothesis</code>: A logical value indicating whether to reject the null hypothesis,
</p>
</li>
<li> <p><code>equiv_threshold</code>: the equivalence threshold specified.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Ties Bos
</p>


<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.rmsEquivTest">print.rmsEquivTest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a balanced panel dataset with 500 cross-sectional units (individuals), 
# 5 time periods (labeled 1-5), a binary variable indicating which individual 
# receives treatment and 2 control variables ("X_1" and "X_2"). 
# The error-terms are generated without  heteroscedasticity,  autocorrelation, 
# or any significant clusters. Furthermore, there are no fixed effects and 
# no pre-trends present in the data (all values in  beta are 0). 
# See sim_paneldata() for more details.

sim_data &lt;- sim_paneldata(N = 500, tt = 5, p = 2, beta = rep(0, 5), 
                          gamma = rep(1, 2), het = 0, phi = 0, sd = 1, 
                          burnins = 50)

# Perform the equivalence test using an equivalence threshold of 1 with periods 
# 1-4 as pre-treatment periods based on the RMS testing procedure:
#  - option 1: using column names in the panel
# One can use the names of the columns in the panel to specify the variables:
rmsEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", X = c("X_1", "X_2"),
             data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
             base_period = 4)

#  - option 2: using column numbers in the panel 
# Alternatively, one can use the column numbers in the panel to specify the variables:
rmsEquivTest(Y = 3, ID = 1, G = 4, period = 2, X = c(5, 6),
             data = sim_data, equiv_threshold = 1, pretreatment_period = 1:4,
             base_period = 4)
             
#  - option 3: using separate variables 
# One can also use the variables directly without specifying the data variable:
data_Y &lt;- sim_data$Y
data_ID &lt;- sim_data$ID
data_G &lt;- sim_data$G
data_period &lt;- sim_data$period
data_X &lt;- cbind(sim_data$X_1, sim_data$X_2)

rmsEquivTest(Y = data_Y, ID = data_ID, G = data_G, period = data_period, X = data_X,
             equiv_threshold = 1, pretreatment_period = 1:4,
             base_period = 4)

# The testing procedures can also be performed without specifying the 
# equivalence threshold specified. Then, the minimum equivalence threshold is returned
# for which the null hypothesis of non-negligible trend-differences can be rejected.
# Again, the three possible ways of entering the data as above can be used:
rmsEquivTest(Y = "Y", ID = "ID", G = "G", period = "period", X = c("X_1", "X_2"),
             data = sim_data, equiv_threshold = NULL, pretreatment_period = 1:4,
             base_period = 4)

rmsEquivTest(Y = 3, ID = 1, G = 4, period = 2, X = c(5, 6),
             data = sim_data, equiv_threshold = NULL, pretreatment_period = 1:4,
             base_period = 4)
             
rmsEquivTest(Y = data_Y, ID = data_ID, G = data_G, period = data_period, X= data_X,
             equiv_threshold = NULL, pretreatment_period = 1:4,
             base_period = 4)

# Finally, one should note that the test procedure also works for unbalanced panels.
# To illustrate this, we generate an unbalanced panel dataset by randomly selecting
# 70% of the observations from the balanced panel dataset:

random_indeces &lt;- sample(nrow(sim_data), 0.7*nrow(sim_data))
unbalanced_sim_data &lt;- sim_data[random_indeces, ]
#  With Equivalence Threshold:
rmsEquivTest(Y = 3, ID = 1, G = 4, period = 2, X = c(5, 6),
             data = unbalanced_sim_data, equiv_threshold = 1, 
             pretreatment_period = 1:4, base_period = 4)

#  Without Equivalence Threshold:
rmsEquivTest(Y = 3, ID = 1, G = 4, period = 2, X = c(5, 6),
             data = unbalanced_sim_data, equiv_threshold = NULL, 
             pretreatment_period = 1:4, base_period = 4)


</code></pre>

<hr>
<h2 id='rmsTest_error'>Additional input checks for the rmsEquivTest function</h2><span id='topic+rmsTest_error'></span>

<h3>Description</h3>

<p>Additional input checks for the rmsEquivTest function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmsTest_error(alpha, no_lambda)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmsTest_error_+3A_alpha">alpha</code></td>
<td>
<p>The significance level for the test. Must be one of 0.01, 0.025, 0.05, 0.1 or 0.2.</p>
</td></tr>
<tr><td><code id="rmsTest_error_+3A_no_lambda">no_lambda</code></td>
<td>
<p>see <a href="#topic+rmsEquivTest">rmsEquivTest</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: a logical object error indicating if an error is encountered and a message (a character string) corresponding to the error. If error is TRUE, message contains an error message. If error is FALSE, message is an empty string.
</p>

<hr>
<h2 id='rmsTest_func'>An internal function of the RMS Equivalence Testing procedure</h2><span id='topic+rmsTest_func'></span>

<h3>Description</h3>

<p>This is a supporting function of the <code>rmsEquivTest</code> function. It calculates the placebo coefficients and the RMS of the placebo coefficients. It then calculates the critical value for the test and checks whether the null hypothesis can be rejected, according to Dette &amp; Schumann (2024).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmsTest_func(
  data,
  equiv_threshold,
  alpha,
  no_lambda,
  base_period,
  no_periods,
  is_panel_balanced
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmsTest_func_+3A_data">data</code></td>
<td>
<p>The data.frame object containing the data for the test. Should be of the form what is returned by the <a href="#topic+EquiTrends_dataconstr">EquiTrends_dataconstr</a> function.</p>
</td></tr>
<tr><td><code id="rmsTest_func_+3A_equiv_threshold">equiv_threshold</code></td>
<td>
<p>The equivalence threshold for the test. If NULL, the minimum equivalence threshold for which the null hypothesis can be rejected is calculated.</p>
</td></tr>
<tr><td><code id="rmsTest_func_+3A_alpha">alpha</code></td>
<td>
<p>The significance level for the test. Must be one of 0.01, 0.025, 0.05, 0.1 or 0.2.</p>
</td></tr>
<tr><td><code id="rmsTest_func_+3A_no_lambda">no_lambda</code></td>
<td>
<p>See <a href="#topic+rmsEquivTest">rmsEquivTest</a>.</p>
</td></tr>
<tr><td><code id="rmsTest_func_+3A_base_period">base_period</code></td>
<td>
<p>The base period for the test. Must be one of the unique periods in the data.</p>
</td></tr>
<tr><td><code id="rmsTest_func_+3A_no_periods">no_periods</code></td>
<td>
<p>The number of periods in the data.</p>
</td></tr>
<tr><td><code id="rmsTest_func_+3A_is_panel_balanced">is_panel_balanced</code></td>
<td>
<p>A logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;rmsEquivTest&quot; containing:
</p>
<table role = "presentation">
<tr><td><code>placebo_coefficients</code></td>
<td>
<p>A numeric vector of the estimated placebo coefficients,</p>
</td></tr>
<tr><td><code>rms_placebo_coefs</code></td>
<td>
<p>the root mean squared value of the placebo coefficients,</p>
</td></tr>
<tr><td><code>significance_level</code></td>
<td>
<p>the significance level of the test,</p>
</td></tr>
<tr><td><code>num_individuals</code></td>
<td>
<p>the number of cross-sectional individuals in the data (n),</p>
</td></tr>
<tr><td><code>num_periods</code></td>
<td>
<p>the number of pre-treatment periods in the data (T),</p>
</td></tr>
<tr><td><code>num_observations</code></td>
<td>
<p>the number of observations in the data (N),</p>
</td></tr>
<tr><td><code>base_period</code></td>
<td>
<p>the base period in the data,</p>
</td></tr>
<tr><td><code>equiv_threshold_specified</code></td>
<td>
<p>a logical value indicating whether an equivalence threshold was specified.</p>
</td></tr>
<tr><td><code>is_panel_balanced</code></td>
<td>
<p>a logical value indicating whether the panel data is balanced.</p>
</td></tr>
</table>
<p>If <code>is.null(equiv_threshold)</code>, then additionally <code>minimum_equiv_threshold</code>: the minimum equivalence threshold for which the null hypothesis of non-negligible (based on the equivalence threshold) trend-differnces can be rejected. 
</p>
<p>if <code>!(is.null(equiv_threshold))</code>, then additionally
</p>

<ul>
<li> <p><code>rms_critical_value</code>: the critical value at the alpha level,
</p>
</li>
<li> <p><code>reject_null_hypothesis</code>: A logical value indicating whether to reject the null hypothesis,
</p>
</li>
<li> <p><code>equiv_threshold</code>: the equivalence threshold specified.
</p>
</li></ul>



<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>

<hr>
<h2 id='sigma_hathat_c'>Calculating the constrained variance of the residuals for the Boostrap approaches in the EquiTrends Maximum Equivalence Testing procedure, according to Dette &amp; Schumann (2024).</h2><span id='topic+sigma_hathat_c'></span>

<h3>Description</h3>

<p>Calculating the constrained variance of the residuals for the Boostrap approaches in the EquiTrends Maximum Equivalence Testing procedure, according to Dette &amp; Schumann (2024).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sigma_hathat_c(parameter, x, y, ID, time)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sigma_hathat_c_+3A_parameter">parameter</code></td>
<td>
<p>The constrained coefficients.</p>
</td></tr>
<tr><td><code id="sigma_hathat_c_+3A_x">x</code></td>
<td>
<p>The double demeaned independent variables.</p>
</td></tr>
<tr><td><code id="sigma_hathat_c_+3A_y">y</code></td>
<td>
<p>The double demeaned dependent variable.</p>
</td></tr>
<tr><td><code id="sigma_hathat_c_+3A_id">ID</code></td>
<td>
<p>The ID variable.</p>
</td></tr>
<tr><td><code id="sigma_hathat_c_+3A_time">time</code></td>
<td>
<p>The time variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The estimated constrained variance of the residuals.
</p>


<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>

<hr>
<h2 id='sim_check'>Checking input for the sim_paneldata function</h2><span id='topic+sim_check'></span>

<h3>Description</h3>

<p>Checking input for the sim_paneldata function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_check(N, tt, beta, p, gamma, eta, lambda, het, phi, sd, burnins)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sim_check_+3A_n">N</code></td>
<td>
<p>The number of cross-sectional units in the panel-data</p>
</td></tr>
<tr><td><code id="sim_check_+3A_tt">tt</code></td>
<td>
<p>The number of time periods in the panel-data</p>
</td></tr>
<tr><td><code id="sim_check_+3A_beta">beta</code></td>
<td>
<p>The vector of coefficients for the placebo variables. Must be of size tt.</p>
</td></tr>
<tr><td><code id="sim_check_+3A_p">p</code></td>
<td>
<p>The number of additional regressors</p>
</td></tr>
<tr><td><code id="sim_check_+3A_gamma">gamma</code></td>
<td>
<p>The vector of coefficients for the additional regressors</p>
</td></tr>
<tr><td><code id="sim_check_+3A_eta">eta</code></td>
<td>
<p>The vector of fixed effects. Must be of size N.</p>
</td></tr>
<tr><td><code id="sim_check_+3A_lambda">lambda</code></td>
<td>
<p>The vector of time effects. Must be of size tt.</p>
</td></tr>
<tr><td><code id="sim_check_+3A_het">het</code></td>
<td>
<p>The heteroskedasticity parameter. Must be 0 or 1: <code>het = 1</code> indicates that the error terms are generated under heteroskedasticity, <code>het = 0</code> indicates the error terms are generated under homoscedasticity.</p>
</td></tr>
<tr><td><code id="sim_check_+3A_phi">phi</code></td>
<td>
<p>The AR(1) parameter for the error terms. Must be in the interval [0,1).</p>
</td></tr>
<tr><td><code id="sim_check_+3A_sd">sd</code></td>
<td>
<p>The standard deviation of the error terms. Must be a positive number.</p>
</td></tr>
<tr><td><code id="sim_check_+3A_burnins">burnins</code></td>
<td>
<p>The number of burn-ins for the AR(1) process. Must be a positive integer.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: a logical object error indicating if an error is encountered and a message (a character string) corresponding to the error. If error is TRUE, message contains an error message. If error is FALSE, message is an empty string.
</p>

<hr>
<h2 id='sim_paneldata'>Simulating a panel data for a binary treatment</h2><span id='topic+sim_paneldata'></span>

<h3>Description</h3>

<p>sim.paneldata generates a panel data set with N cross-sectional units and tt time periods. The data set includes a binary treatment variable, a set of placebo variables, and a set of additional regressors. The data set can be generated under homoskedasticity or heteroskedasticity, and/or AR(1) errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_paneldata(
  N = 500,
  tt = 5,
  beta = rep(0, tt),
  p = 1,
  gamma = rep(1, p),
  eta = rep(0, N),
  lambda = rep(0, tt),
  het = 0,
  phi = c(0),
  sd = 1,
  burnins = 100
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sim_paneldata_+3A_n">N</code></td>
<td>
<p>The number of cross-sectional units in the panel-data</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_tt">tt</code></td>
<td>
<p>The number of time periods in the panel-data</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_beta">beta</code></td>
<td>
<p>The vector of coefficients for the placebo variables. Must be of size tt.</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_p">p</code></td>
<td>
<p>The number of additional regressors</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_gamma">gamma</code></td>
<td>
<p>The vector of coefficients for the additional regressors</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_eta">eta</code></td>
<td>
<p>The vector of fixed effects. Must be of size N.</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_lambda">lambda</code></td>
<td>
<p>The vector of time effects. Must be of size tt.</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_het">het</code></td>
<td>
<p>The heteroskedasticity parameter. Must be 0 or 1: <code>het = 1</code> indicates that the error terms are generated under heteroskedasticity, <code>het = 0</code> indicates the error terms are generated under homoscedasticity.</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_phi">phi</code></td>
<td>
<p>The AR(1) parameter for the error terms. Must be in the interval [0,1).</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_sd">sd</code></td>
<td>
<p>The standard deviation of the error terms. Must be a positive number.</p>
</td></tr>
<tr><td><code id="sim_paneldata_+3A_burnins">burnins</code></td>
<td>
<p>The number of burn-ins for the AR(1) process. Must be a positive integer.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns:
</p>
<table role = "presentation">
<tr><td><code>ID</code></td>
<td>
<p>The cross-sectional unit identifier</p>
</td></tr>
<tr><td><code>period</code></td>
<td>
<p>The time period identifier</p>
</td></tr>
<tr><td><code>Y</code></td>
<td>
<p>The dependent variable</p>
</td></tr>
<tr><td><code>G</code></td>
<td>
<p>The binary treatment variable</p>
</td></tr>
<tr><td><code>X_1</code>, <code>...</code>, <code>X_p</code></td>
<td>
<p>The additional regressors</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>sim_data &lt;- sim_paneldata(N = 500, tt = 5, beta = rep(0, 5), p=1, 
                          gamma = rep(0,1), het = 1, phi = 0.5, sd = 1, 
                          burnins = 100)
</code></pre>

<hr>
<h2 id='W_critical_value'>Calculating the critical value for the W distribution as construced in Dette &amp; Schumann (2024).</h2><span id='topic+W_critical_value'></span>

<h3>Description</h3>

<p>Calculating the critical value for the W distribution as construced in Dette &amp; Schumann (2024).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>W_critical_value(significance_level)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="W_critical_value_+3A_significance_level">significance_level</code></td>
<td>
<p>The significance level for the test. Must be one of 0.01, 0.025, 0.05, 0.1, 0.2, 0.8, 0.9, 0.95, 0.975, 0.99.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric scalar with the critical value for the W distribution at the given significance level.
</p>


<h3>References</h3>

<p>Dette, H., &amp; Schumann, M. (2024). &quot;Testing for Equivalence of Pre-Trends in Difference-in-Differences Estimation.&quot; <em>Journal of Business &amp; Economic Statistics</em>, 1–13. DOI: <a href="https://doi.org/10.1080/07350015.2024.2308121">doi:10.1080/07350015.2024.2308121</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

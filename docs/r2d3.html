<!DOCTYPE html><html><head><title>Help for package r2d3</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {r2d3}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_d3_data'><p>Convert object to D3 data</p></a></li>
<li><a href='#d3-shiny'><p>Shiny bindings for d3</p></a></li>
<li><a href='#default_sizing'><p>Default sizing policy for r2d3 widgets</p></a></li>
<li><a href='#html_dependencies_d3'><p>D3 HTML dependencies</p></a></li>
<li><a href='#r2d3'><p>D3 visualization</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#save_d3_html'><p>Save a D3 visualization as HTML</p></a></li>
<li><a href='#save_d3_png'><p>Save a D3 visualization as a PNG image</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface to 'D3' Visualizations</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Suite of tools for using 'D3', a library for producing dynamic, interactive data
  visualizations. Supports translating objects into 'D3' friendly data structures, rendering
  'D3' scripts, publishing 'D3' visualizations, incorporating 'D3' in R Markdown, creating
  interactive 'D3' applications with Shiny, and distributing 'D3' based 'htmlwidgets' in R
  packages.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmlwidgets (&ge; 1.2), htmltools, jsonlite, rstudioapi</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, R6, shiny, shinytest, testthat, webshot</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rstudio.github.io/r2d3/">https://rstudio.github.io/r2d3/</a>, <a href="https://github.com/rstudio/r2d3">https://github.com/rstudio/r2d3</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/r2d3/issues">https://github.com/rstudio/r2d3/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-02-28 16:22:53 UTC; nicholasstrayer</td>
</tr>
<tr>
<td>Author:</td>
<td>Nick Strayer [aut, cre],
  Javier Luraschi [aut],
  JJ Allaire [aut],
  Mike Bostock [ctb, cph] (d3.js library, https://d3js.org),
  RStudio [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nick Strayer &lt;nick.strayer@rstudio.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-28 16:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_d3_data'>Convert object to D3 data</h2><span id='topic+as_d3_data'></span><span id='topic+as_d3_data.default'></span>

<h3>Description</h3>

<p>Generic method to transform R objects into D3 friendly data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_d3_data(x, ...)

## Default S3 method:
as_d3_data(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_d3_data_+3A_x">x</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="as_d3_data_+3A_...">...</code></td>
<td>
<p>Additional arguments for generic methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The value returned from <code>as_d3_data()</code> should be one of:
</p>

<ul>
<li><p> An R data frame. In this case the <code>HTMLWidgets.dataframeToD3()</code>
JavaScript function will be called on the client to transform
the data into D3 friendly (row-oriented) data; or
</p>
</li>
<li><p> A JSON object created using <a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON</a>; or
</p>
</li>
<li><p> Any other R object which can be coverted to JSON using <a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON</a>.
</p>
</li></ul>


<hr>
<h2 id='d3-shiny'>Shiny bindings for d3</h2><span id='topic+d3-shiny'></span><span id='topic+d3Output'></span><span id='topic+renderD3'></span>

<h3>Description</h3>

<p>Output and render functions for using d3 within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3Output(outputId, width = "100%", height = "400px")

renderD3(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="d3-shiny_+3A_width">width</code>, <code id="d3-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="d3-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a d3</p>
</td></tr>
<tr><td><code id="d3-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="d3-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='default_sizing'>Default sizing policy for r2d3 widgets</h2><span id='topic+default_sizing'></span>

<h3>Description</h3>

<p>Default sizing policy for r2d3 widgets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_sizing()
</code></pre>


<h3>Details</h3>

<p>Use <code><a href="htmlwidgets.html#topic+sizingPolicy">htmlwidgets::sizingPolicy()</a></code> to specify an
alternate policy.
</p>

<hr>
<h2 id='html_dependencies_d3'>D3 HTML dependencies</h2><span id='topic+html_dependencies_d3'></span>

<h3>Description</h3>

<p>Create HTML dependencies for D3 and optional extensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>html_dependencies_d3(version = c("6", "5", "4", "3"), extensions = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="html_dependencies_d3_+3A_version">version</code></td>
<td>
<p>Major version of D3</p>
</td></tr>
<tr><td><code id="html_dependencies_d3_+3A_extensions">extensions</code></td>
<td>
<p>D3 extensions to include. Currently the only supported
extension is &quot;jetpack&quot; (<a href="https://github.com/gka/d3-jetpack">https://github.com/gka/d3-jetpack</a>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create list of HTML dependencies for D3. Each version has
a distinct root D3 object so it's possible to combine multiple versions
of D3 on a single page. For example, D3 v5 is accessed via <code>d3v5</code> and
D3 v4 is accessed via <code>d3v4</code>. Note however that D3 v3 is accessed via
simply <code>d3</code> (for compabibilty with existing htmlwidgets that use
this form).
</p>


<h3>Note</h3>

<p>This function is exported for use by htmlwidgets. If you are
using the <code>r2d3()</code> function to include D3 code within a document
or application this dependency is included automatically so calling
this function is unnecessary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(r2d3)
r2d3(
  data = c (0.3, 0.6, 0.8, 0.95, 0.40, 0.20),
  script = system.file("examples/barchart.js", package = "r2d3"),
  dependencies = "d3-jetpack"
)

</code></pre>

<hr>
<h2 id='r2d3'>D3 visualization</h2><span id='topic+r2d3'></span>

<h3>Description</h3>

<p>Visualize data using a custom D3 visualization script
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r2d3(
  data,
  script,
  css = "auto",
  dependencies = NULL,
  options = NULL,
  d3_version = c("6", "5", "4", "3"),
  container = "svg",
  elementId = NULL,
  width = NULL,
  height = NULL,
  sizing = default_sizing(),
  viewer = c("internal", "external", "browser")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r2d3_+3A_data">data</code></td>
<td>
<p>Data to be passed to D3 script.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_script">script</code></td>
<td>
<p>JavaScript file containing the D3 script.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_css">css</code></td>
<td>
<p>CSS file containing styles. The default value &quot;auto&quot; will use any CSS file
located alongside the script file with the same stem (e.g. &quot;barplot.css&quot; would be
used for &quot;barplot.js&quot;) as well as any CSS file with the name &quot;styles.css&quot;.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_dependencies">dependencies</code></td>
<td>
<p>Additional HTML dependencies. These can take the form of paths to
JavaScript or CSS files, or alternatively can be fully specified dependencies created
with <a href="htmltools.html#topic+htmlDependency">htmltools::htmlDependency</a>.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_options">options</code></td>
<td>
<p>Options to be passed to D3 script.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_d3_version">d3_version</code></td>
<td>
<p>Major D3 version to use, the latest minor version is automatically
picked.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_container">container</code></td>
<td>
<p>The 'HTML' container of the D3 output.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_elementid">elementId</code></td>
<td>
<p>Use an explicit element ID for the widget (rather than an
automatically generated one). Useful if you have other JavaScript that needs to
explicitly discover and interact with a specific widget instance.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_width">width</code></td>
<td>
<p>Desired width for output widget.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_height">height</code></td>
<td>
<p>Desired height for output widget.</p>
</td></tr>
<tr><td><code id="r2d3_+3A_sizing">sizing</code></td>
<td>
<p>Widget sizing policy (see <a href="htmlwidgets.html#topic+sizingPolicy">htmlwidgets::sizingPolicy</a>).</p>
</td></tr>
<tr><td><code id="r2d3_+3A_viewer">viewer</code></td>
<td>
<p>&quot;internal&quot; to use the RStudio internal viewer pane for output; &quot;external&quot;
to display in an external RStudio window; &quot;browser&quot; to display in an external
browser.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In order to scope CSS styles when multiple widgets are rendered, the Shadow DOM and
the wecomponents polyfill is used, this feature can be turned off by setting the
<code>r2d3.shadow</code> option to <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(r2d3)
r2d3(
  data = c (0.3, 0.6, 0.8, 0.95, 0.40, 0.20),
  script = system.file("examples/barchart.js", package = "r2d3")
)

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+sizingPolicy'></span><span id='topic+read_json'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>htmlwidgets</dt><dd><p><code><a href="htmlwidgets.html#topic+sizingPolicy">sizingPolicy</a></code></p>
</dd>
<dt>jsonlite</dt><dd><p><code><a href="jsonlite.html#topic+read_json">read_json</a></code></p>
</dd>
</dl>

<hr>
<h2 id='save_d3_html'>Save a D3 visualization as HTML</h2><span id='topic+save_d3_html'></span>

<h3>Description</h3>

<p>Save a D3 visualization to an HTML file (e.g. for sharing with others).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_d3_html(
  d3,
  file,
  selfcontained = TRUE,
  libdir = NULL,
  background = "white",
  title = "D3 Visualization",
  knitrOptions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_d3_html_+3A_d3">d3</code></td>
<td>
<p>D3 visualization to save</p>
</td></tr>
<tr><td><code id="save_d3_html_+3A_file">file</code></td>
<td>
<p>File to save HTML into</p>
</td></tr>
<tr><td><code id="save_d3_html_+3A_selfcontained">selfcontained</code></td>
<td>
<p>Whether to save the HTML as a single self-contained file
(with external resources base64 encoded) or a file with external resources
placed in an adjacent directory.</p>
</td></tr>
<tr><td><code id="save_d3_html_+3A_libdir">libdir</code></td>
<td>
<p>Directory to copy HTML dependencies into (defaults to
filename_files).</p>
</td></tr>
<tr><td><code id="save_d3_html_+3A_background">background</code></td>
<td>
<p>Text string giving the html background color of the widget.
Defaults to white.</p>
</td></tr>
<tr><td><code id="save_d3_html_+3A_title">title</code></td>
<td>
<p>Text to use as the title of the generated page.</p>
</td></tr>
<tr><td><code id="save_d3_html_+3A_knitroptions">knitrOptions</code></td>
<td>
<p>A list of <span class="pkg">knitr</span> chunk options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using <code>selfcontained</code> set to <code>TRUE</code> requires <a href="https://pandoc.org/">pandoc</a>
to be installed.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+save_d3_png">save_d3_png()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(r2d3)

viz &lt;- r2d3(
  data = c(0.3, 0.6, 0.8, 0.95, 0.40, 0.20),
  script = system.file("examples/barchart.js", package = "r2d3")
)

save_d3_html(
  viz,
  file = tempfile(fileext = ".html"),
  selfcontained = FALSE
)
</code></pre>

<hr>
<h2 id='save_d3_png'>Save a D3 visualization as a PNG image</h2><span id='topic+save_d3_png'></span>

<h3>Description</h3>

<p>Save a D3 visualization to PNG (e.g. for including in another document).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_d3_png(
  d3,
  file,
  background = "white",
  width = 992,
  height = 744,
  delay = 0.2,
  zoom = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_d3_png_+3A_d3">d3</code></td>
<td>
<p>D3 visualization to save</p>
</td></tr>
<tr><td><code id="save_d3_png_+3A_file">file</code></td>
<td>
<p>File to save HTML into</p>
</td></tr>
<tr><td><code id="save_d3_png_+3A_background">background</code></td>
<td>
<p>Text string giving the html background color of the widget.
Defaults to white.</p>
</td></tr>
<tr><td><code id="save_d3_png_+3A_width">width</code></td>
<td>
<p>Image width</p>
</td></tr>
<tr><td><code id="save_d3_png_+3A_height">height</code></td>
<td>
<p>Image height</p>
</td></tr>
<tr><td><code id="save_d3_png_+3A_delay">delay</code></td>
<td>
<p>Time to wait before taking screenshot, in seconds. Sometimes a
longer delay is needed for all assets to display properly.</p>
</td></tr>
<tr><td><code id="save_d3_png_+3A_zoom">zoom</code></td>
<td>
<p>A number specifying the zoom factor. A zoom factor of 2 will
result in twice as many pixels vertically and horizontally. Note that
using 2 is not exactly the same as taking a screenshot on a HiDPI (Retina)
device: it is like increasing the zoom to 200 doubling the height and
width of the browser window. This differs from using a HiDPI device
because some web pages load different, higher-resolution images when they
know they will be displayed on a HiDPI device (but using zoom will not
report that there is a HiDPI device).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>PNG versions of D3 visualizations are created by displaying them in
an offscreen web browser and taking a screenshot of the rendered web page.
</p>
<p>Using the <code>save_d3_png()</code> function requires that you install the
<span class="pkg">webshot</span> package, as well as the phantom.js headless browser (which
you can install using the function <code>webshot::install_phantomjs()</code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+save_d3_html">save_d3_html()</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

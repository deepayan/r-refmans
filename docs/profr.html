<!DOCTYPE html><html><head><title>Help for package profr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {profr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggplot.profr'><p>Visualise profiling data with ggplot2.</p>
Visualise profiling data stored in a <code>profr</code> data.frame.</a></li>
<li><a href='#parse_rprof'><p>Parse Rprof output.</p></a></li>
<li><a href='#plot.profr'><p>Visualise profiling data with base graphics.</p>
Visualise profiling data stored in a <code>profr</code> data.frame.</a></li>
<li><a href='#profr'><p>Profile the performance of a function call.</p></a></li>
<li><a href='#sample-data'><p>Sample profiling datasets</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>An Alternative Display for Profiling Information</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.3</td>
</tr>
<tr>
<td>Description:</td>
<td>An alternative data structure and visual rendering
    for the profiling information generated by Rprof.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/hadley/profr">https://github.com/hadley/profr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hadley/profr/issues">https://github.com/hadley/profr/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr, stringr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-12-05 19:19:37 UTC; hadley</td>
</tr>
<tr>
<td>Author:</td>
<td>Hadley Wickham [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hadley Wickham &lt;hadley@rstudio.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-12-05 23:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggplot.profr'>Visualise profiling data with ggplot2.
Visualise profiling data stored in a <code>profr</code> data.frame.</h2><span id='topic+ggplot.profr'></span>

<h3>Description</h3>

<p>This will plot the call tree of the specified stop watch object.
If you only want a small part, you will need to subset the object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot.profr(data, ..., minlabel = 0.1, angle = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot.profr_+3A_data">data</code></td>
<td>
<p>profile output to plot</p>
</td></tr>
<tr><td><code id="ggplot.profr_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code></p>
</td></tr>
<tr><td><code id="ggplot.profr_+3A_minlabel">minlabel</code></td>
<td>
<p>minimum percent of time for function to get a label</p>
</td></tr>
<tr><td><code id="ggplot.profr_+3A_angle">angle</code></td>
<td>
<p>function label angle</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+plot.profr">plot.profr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("ggplot2")) {
  ggplot(nesting_prof)
  ggplot(reshape_prof)
}
</code></pre>

<hr>
<h2 id='parse_rprof'>Parse Rprof output.</h2><span id='topic+parse_rprof'></span>

<h3>Description</h3>

<p>Parses the output of <code><a href="utils.html#topic+Rprof">Rprof</a></code> into an alternative format
described in <code><a href="#topic+profr">profr</a></code>. This produces a flat data frame, which is
somewhat easier to summarise and visualise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_rprof(path, interval = 0.02)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_rprof_+3A_path">path</code></td>
<td>
<p>path to <code><a href="utils.html#topic+Rprof">Rprof</a></code> output</p>
</td></tr>
<tr><td><code id="parse_rprof_+3A_interval">interval</code></td>
<td>
<p>real-time interval between samples (in seconds)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+data.frame">data.frame</a></code> of class <code>profr</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+profr">profr</a></code> for profiling and parsing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nesting_ex &lt;- system.file("samples", "nesting.rprof", package="profr")
nesting &lt;- parse_rprof(nesting_ex)

reshape_ex &lt;- system.file("samples", "reshape.rprof", package="profr")
diamonds &lt;- parse_rprof(reshape_ex)
</code></pre>

<hr>
<h2 id='plot.profr'>Visualise profiling data with base graphics.
Visualise profiling data stored in a <code>profr</code> data.frame.</h2><span id='topic+plot.profr'></span>

<h3>Description</h3>

<p>If you only want a small part of the total call tree, you will need
to subset the object as demonstrated by the example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'profr'
plot(x, ..., minlabel = 0.1, angle = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.profr_+3A_x">x</code></td>
<td>
<p>profile output to plot</p>
</td></tr>
<tr><td><code id="plot.profr_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="graphics.html#topic+plot.default">plot.default</a></code></p>
</td></tr>
<tr><td><code id="plot.profr_+3A_minlabel">minlabel</code></td>
<td>
<p>minimum percent of time for function to get a label</p>
</td></tr>
<tr><td><code id="plot.profr_+3A_angle">angle</code></td>
<td>
<p>function label angle</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+ggplot.profr">ggplot.profr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(nesting_prof)
plot(reshape_prof)
</code></pre>

<hr>
<h2 id='profr'>Profile the performance of a function call.</h2><span id='topic+profr'></span>

<h3>Description</h3>

<p>This is a wrapper around <code><a href="utils.html#topic+Rprof">Rprof</a></code> that provides results in an
alternative data structure, a data.frame.  The columns of the data.frame
are:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>profr(expr, interval = 0.02, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="profr_+3A_expr">expr</code></td>
<td>
<p>expression to profile</p>
</td></tr>
<tr><td><code id="profr_+3A_interval">interval</code></td>
<td>
<p>interval between samples (in seconds)</p>
</td></tr>
<tr><td><code id="profr_+3A_quiet">quiet</code></td>
<td>
<p>should output be discarded?</p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt>f</dt><dd><p>name of function</p>
</dd>
<dt>level</dt><dd><p>level in call stack</p>
</dd>
<dt>time</dt><dd><p>total time (seconds) spent in function</p>
</dd>
<dt>start</dt><dd><p>time at which control entered function</p>
</dd>
<dt>end</dt><dd><p>time at which control exited function</p>
</dd>
<dt>leaf</dt><dd><p><code>TRUE</code> if the function is a terminal node in the call tree, i.e. didn't call any other functions</p>
</dd>
<dt>source</dt><dd><p>guess at the package that the function came from</p>
</dd>
</dl>



<h3>Value</h3>

<p><code><a href="base.html#topic+data.frame">data.frame</a></code> of class <code>profr</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_rprof">parse_rprof</a></code> to parse standalone <code><a href="utils.html#topic+Rprof">Rprof</a></code>
file, <code><a href="#topic+plot.profr">plot.profr</a></code> and <code><a href="#topic+ggplot.profr">ggplot.profr</a></code>
to visualise the profiling data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
glm_ex &lt;- profr({Sys.sleep(1); example(glm)}, 0.01)
head(glm_ex)
summary(glm_ex)
plot(glm_ex)

## End(Not run)
</code></pre>

<hr>
<h2 id='sample-data'>Sample profiling datasets</h2><span id='topic+sample-data'></span><span id='topic+nesting_prof'></span><span id='topic+reshape_prof'></span>

<h3>Description</h3>

<p>These two datasets illustrate the results of running
<code><a href="#topic+parse_rprof">parse_rprof</a></code> on the sample <code><a href="utils.html#topic+Rprof">Rprof</a></code> output stored in
the samples directory.  The output was generated by the code in
<code>samples/generate.r</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nesting_prof

reshape_prof
</code></pre>


<h3>Format</h3>

<p>a data frame</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

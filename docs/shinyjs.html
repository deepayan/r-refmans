<!DOCTYPE html><html><head><title>Help for package shinyjs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinyjs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#classFuncs'><p>Add/remove CSS class</p></a></li>
<li><a href='#click'><p>Click on a Shiny button</p></a></li>
<li><a href='#colourInput'><p>Defunct functions in shinyjs</p></a></li>
<li><a href='#delay'><p>Execute R code after a specified number of milliseconds has elapsed</p></a></li>
<li><a href='#disabled'><p>Initialize a Shiny input as disabled</p></a></li>
<li><a href='#extendShinyjs'><p>Extend shinyjs by calling your own JavaScript functions</p></a></li>
<li><a href='#hidden'><p>Initialize a Shiny tag as hidden</p></a></li>
<li><a href='#html'><p>Change the HTML (or text) inside an element</p></a></li>
<li><a href='#inlineCSS'><p>Add inline CSS</p></a></li>
<li><a href='#js'><p>Call user-defined JavaScript functions from R</p></a></li>
<li><a href='#messageFuncs'><p>Show a message</p></a></li>
<li><a href='#onevent'><p>Run R code when an event is triggered on an element</p></a></li>
<li><a href='#refresh'><p>Refresh the page</p></a></li>
<li><a href='#removeEvent'><p>Remove an event that was added to an element</p></a></li>
<li><a href='#reset'><p>Reset input elements to their original values</p></a></li>
<li><a href='#runcode'><p>Construct to let you run arbitrary R code live in a Shiny app</p></a></li>
<li><a href='#runExample'><p>Run shinyjs examples</p></a></li>
<li><a href='#runjs'><p>Run JavaScript code</p></a></li>
<li><a href='#shinyjs'><p>shinyjs</p></a></li>
<li><a href='#showLog'><p>Print any JavaScript console.log messages in the R console</p></a></li>
<li><a href='#stateFuncs'><p>Enable/disable an input element</p></a></li>
<li><a href='#useShinyjs'><p>Set up a Shiny app to use shinyjs</p></a></li>
<li><a href='#visibilityFuncs'><p>Display/hide an element</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Easily Improve the User Experience of Your Shiny Apps in Seconds</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Perform common useful JavaScript operations in Shiny apps that will
    greatly improve your apps without having to know any JavaScript. Examples
    include: hiding an element, disabling an input, resetting an input back to
    its original value, delaying code execution by a few seconds, and many more
    useful functions for both the end user and the developer. 'shinyjs' can also
    be used to easily call your own custom JavaScript functions from R.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://deanattali.com/shinyjs/">https://deanattali.com/shinyjs/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/daattali/shinyjs/issues">https://github.com/daattali/shinyjs/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>digest (&ge; 0.6.8), jsonlite, shiny (&ge; 1.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>htmltools (&ge; 0.2.9), knitr (&ge; 1.7), rmarkdown, shinyAce,
shinydisconnect, testthat (&ge; 0.9.1)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-12-21 11:32:22 UTC; Dean-X1C</td>
</tr>
<tr>
<td>Author:</td>
<td>Dean Attali <a href="https://orcid.org/0000-0002-5645-3493"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dean Attali &lt;daattali@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-12-23 10:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='classFuncs'>Add/remove CSS class</h2><span id='topic+classFuncs'></span><span id='topic+addClass'></span><span id='topic+addCssClass'></span><span id='topic+removeClass'></span><span id='topic+removeCssClass'></span><span id='topic+toggleClass'></span><span id='topic+toggleCssClass'></span>

<h3>Description</h3>

<p>Add or remove a CSS class from an HTML element.<br /><br />
<strong><code>addClass</code></strong> adds a CSS class, <strong><code>removeClass</code></strong>
removes a CSS class, <strong><code>toggleClass</code></strong> adds the class if it is
not set and removes the class if it is already set.<br /><br />
<strong><code>addCssClass</code></strong>, <strong><code>removeCssClass</code></strong>, and
<strong><code>toggleCssClass</code></strong> are synonyms that may be safer to use if you're
working with S4 classes (since they don't mask any existing S4 functions).<br /><br />
If <code>condition</code> is given to <code>toggleClass</code>, that condition will be used
to determine if to add or remove the class. The class will be added if the
condition evaluates to <code>TRUE</code> and removed otherwise. If you find
yourself writing code such as <code>if (test()) addClass(id, cl) else removeClass(id, cl)</code>
then you can use <code>toggleClass</code> instead: <code>toggleClass(id, cl, test())</code>.<br /><br />
CSS is a simple way to describe how elements on a web page should be
displayed (position, colour, size, etc.).  You can learn the basics
at <a href="https://www.w3schools.com/css/">W3Schools</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addClass(id = NULL, class = NULL, selector = NULL, asis = FALSE)

addCssClass(id = NULL, class = NULL, selector = NULL, asis = FALSE)

removeClass(id = NULL, class = NULL, selector = NULL, asis = FALSE)

removeCssClass(id = NULL, class = NULL, selector = NULL, asis = FALSE)

toggleClass(
  id = NULL,
  class = NULL,
  condition = NULL,
  selector = NULL,
  asis = FALSE
)

toggleCssClass(
  id = NULL,
  class = NULL,
  condition = NULL,
  selector = NULL,
  asis = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="classFuncs_+3A_id">id</code></td>
<td>
<p>The id of the element/Shiny tag</p>
</td></tr>
<tr><td><code id="classFuncs_+3A_class">class</code></td>
<td>
<p>The CSS class to add/remove</p>
</td></tr>
<tr><td><code id="classFuncs_+3A_selector">selector</code></td>
<td>
<p>JQuery selector of the elements to target. Ignored if the <code>id</code>
argument is given. For example, to add a certain class to all inputs with class x,
use <code>selector = "input.x"</code></p>
</td></tr>
<tr><td><code id="classFuncs_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
<tr><td><code id="classFuncs_+3A_condition">condition</code></td>
<td>
<p>An optional argument to <code>toggleClass</code>, see 'Details' below.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>If you use S4 classes, you should be aware of the fact that both S4 and
<code>shinyjs</code> use the <code>removeClass()</code> function. This means that when using S4,
it is recommended to use <code>removeCssClass()</code> from <code>shinyjs</code>, and to
use <code>methods::removeClass()</code> for S4 object.
</p>
<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>,
<code><a href="#topic+inlineCSS">inlineCSS</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      # Add a CSS class for red text colour
      inlineCSS(list(.red = "background: red")),
      actionButton("btn", "Click me"),
      p(id = "element", "Watch what happens to me")
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        # Change the following line for more examples
        toggleClass("element", "red")
      })
    }
  )
}
## Not run: 
  # The shinyjs function call in the above app can be replaced by
  # any of the following examples to produce similar Shiny apps
  toggleClass(class = "red", id = "element")
  addClass("element", "red")
  removeClass("element", "red")

## End(Not run)

## toggleClass can be given an optional `condition` argument, which
## determines if to add or remove the class
if (interactive()) {
  shinyApp(
    ui = fluidPage(
      useShinyjs(),
      inlineCSS(list(.red = "background: red")),
      checkboxInput("checkbox", "Make it red"),
      p(id = "element", "Watch what happens to me")
    ),
    server = function(input, output) {
      observe({
        toggleClass(id = "element", class = "red",
                    condition = input$checkbox)
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='click'>Click on a Shiny button</h2><span id='topic+click'></span>

<h3>Description</h3>

<p>The <code>click()</code> function can be used to programatically simulate a click
on a Shiny <code>actionButton()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>click(id, asis = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="click_+3A_id">id</code></td>
<td>
<p>The id of the button</p>
</td></tr>
<tr><td><code id="click_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      "Count:", textOutput("number", inline = TRUE), br(),
      actionButton("btn", "Click me"), br(),
      "The button will be pressed automatically every 3 seconds"
    ),
    server = function(input, output) {
      output$number &lt;- renderText({
        input$btn
      })
      observe({
        click("btn")
        invalidateLater(3000)
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='colourInput'>Defunct functions in shinyjs</h2><span id='topic+colourInput'></span><span id='topic+updateColourInput'></span><span id='topic+colourPicker'></span><span id='topic+shinyjs-defunct'></span>

<h3>Description</h3>


<ul>
<li><p><b>colourInput()</b> Moved to the <code>colourpicker</code> package.
</p>
</li>
<li><p><b>updateColourInput()</b> Moved to the <code>colourpicker</code> package.
</p>
</li>
<li><p><b>colourPicker()</b> Moved to the <code>colourpicker</code> package.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>colourInput(...)

updateColourInput(...)

colourPicker(...)
</code></pre>

<hr>
<h2 id='delay'>Execute R code after a specified number of milliseconds has elapsed</h2><span id='topic+delay'></span>

<h3>Description</h3>

<p>You can use <code>delay</code> if you want to wait a specific amount of time before
running code.  This function can be used in combination with other <code>shinyjs</code>
functions, such as hiding or resetting an element in a few seconds, but it
can also be used with any code as long as it's used inside a Shiny app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delay(ms, expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delay_+3A_ms">ms</code></td>
<td>
<p>The number of milliseconds to wait (1000 milliseconds = 1 second)
before running the expression.</p>
</td></tr>
<tr><td><code id="delay_+3A_expr">expr</code></td>
<td>
<p>The R expression to run after the specified number of milliseconds
has elapsed.</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  shinyApp(
    ui = fluidPage(
      useShinyjs(),
      p(id = "text", "This text will disappear after 3 seconds"),
      actionButton("close", "Close the app in half a second")
    ),
    server = function(input, output) {
      delay(3000, hide("text"))
      observeEvent(input$close, {
        delay(500, stopApp())
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='disabled'>Initialize a Shiny input as disabled</h2><span id='topic+disabled'></span>

<h3>Description</h3>

<p>Create a Shiny input that is disabled when the Shiny app starts. The input can
be enabled later with <code><a href="#topic+toggleState">toggleState()</a></code> or <code><a href="#topic+enable">enable()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disabled(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="disabled_+3A_...">...</code></td>
<td>
<p>Shiny input (or tagList or list of of tags that include inputs) to
disable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The tag (or tags) that was given as an argument in a disabled state.
</p>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs()</a></code>, <code><a href="#topic+toggleState">toggleState()</a></code>, <code><a href="#topic+enable">enable()</a></code>, <code><a href="#topic+disable">disable()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me"),
      disabled(
        textInput("element", NULL, "I was born disabled")
      )
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        enable("element")
      })
    }
  )
}

library(shiny)
disabled(numericInput("num", NULL, 5), dateInput("date", NULL))
</code></pre>

<hr>
<h2 id='extendShinyjs'>Extend shinyjs by calling your own JavaScript functions</h2><span id='topic+extendShinyjs'></span>

<h3>Description</h3>

<p>Add your own JavaScript functions that can be called from R as if they were
regular R functions. This is a more advanced technique and can only
be used if you know JavaScript. See 'Basic Usage' below for more information
or <a href="https://deanattali.com/shinyjs/">view the shinyjs webpage</a>
to learn more.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extendShinyjs(script, text, functions)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extendShinyjs_+3A_script">script</code></td>
<td>
<p>Path to a JavaScript file that contains all the functions.
Each function name must begin with &quot;<code>shinyjs.</code>&quot;, for example
&quot;<code>shinyjs.myfunc</code>&quot;. Note that the path to the file must be discoverable by the browser
(meaning that it needs to be in a &quot;www/&quot; directory or available via <code>addResourcePath()</code>).
See 'Basic Usage' below for more details.</p>
</td></tr>
<tr><td><code id="extendShinyjs_+3A_text">text</code></td>
<td>
<p>Inline JavaScript code to use instead of providing a file.
See 'Basic Usage' below.</p>
</td></tr>
<tr><td><code id="extendShinyjs_+3A_functions">functions</code></td>
<td>
<p>The names of the shinyjs JavaScript functions which are defined and
you want to be able to call using <code>shinyjs</code>. For example, if you defined JavaScript functions
named <code>shinyjs.foo</code> and <code>shinyjs.bar</code>, then use <code>functions = c("foo", "bar")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Scripts that are required by <code>shinyjs</code>.
</p>


<h3>Basic Usage</h3>

<p>Any JavaScript function defined in your script that begins with &quot;<code>shinyjs.</code>&quot;
and that's provided in the <code>functions</code> argument will be available to run
from R using the &quot;<code style="white-space: pre;">&#8288;js$&#8288;</code>&quot; variable. For example, if you write a JavaScript function
called &quot;<code>shinyjs.myfunc</code>&quot; and used <code>functions = c("myfunc")</code>, then you can call it
from R with <code>js$myfunc()</code>.
</p>
<p>It's recommended to write JavaScript code in a separate file and provide the
filename as the <code>script</code> argument, but it's also possible to use the
<code>text</code> argument to provide a string containing valid JavaScript code.
</p>
<p>Here is a basic example of using <code>extendShinyjs()</code>
to define a function that changes the colour of the page:
</p>
<pre>
library(shiny)
library(shinyjs)

jsCode &lt;- "shinyjs.pageCol = function(params){$('body').css('background', params);}"

shinyApp(
  ui = fluidPage(
    useShinyjs(),
    extendShinyjs(text = jsCode, functions = c("pageCol")),
    selectInput("col", "Colour:",
                c("white", "yellow", "red", "blue", "purple"))
  ),
  server = function(input, output) {
    observeEvent(input$col, {
      js$pageCol(input$col)
    })
  }
)
</pre>
<p>You can add more functions to the JavaScript code, but remember that every
function you want to use in R has to have a name beginning with
&quot;<code>shinyjs.</code>&quot;. See the section on passing arguments and the examples below
for more information on how to write effective functions.
</p>


<h3>Running JavaScript code on page load</h3>

<p>If there is any JavaScript code that you want to run immediately when the page loads,
you can place it inside a <code>shinyjs.init</code> function. The function <code>shinyjs.init</code>
will automatically be called when the Shiny app's HTML is initialized. A common
use for this is when registering event handlers or initializing JavaScript objects,
as these usually just need to run once when the page loads. The <code>functions</code> parameter
does not need to be told about the <code>init</code> function, so you can use an empty list
such as <code>functions = c()</code> (or if you have an init function together with other shinyjs
functions, simply list all the functions except for <code>init</code>).
</p>
<p>For example, the following example uses <code>shinyjs.init</code> to register an event
handler so that every keypress will print its corresponding key code:
</p>
<pre>
jscode &lt;- "
shinyjs.init = function() {
  $(document).keypress(function(e) { alert('Key pressed: ' + e.which); });
}"
shinyApp(
  ui = fluidPage(
    useShinyjs(),
    extendShinyjs(text = jscode, functions = c()),
    "Press any key"
  ),
  server = function(input, output) {}
)
</pre>


<h3>Passing arguments from R to JavaScript</h3>

<p>Any <code>shinyjs</code> function that is called will pass a single array-like
parameter to its corresponding JavaScript function. If the function in R was
called with unnamed arguments, then it will pass an Array of the arguments;
if the R arguments are named then it will pass an Object with key-value pairs.
</p>
<p>For example, calling <code>js$foo("bar", 5)</code> in R will call <code>shinyjs.foo(["bar", 5])</code>
in JS, while calling <code>js$foo(num = 5, id = "bar")</code> in R will call
<code>shinyjs.foo({num : 5, id : "bar"})</code> in JS. This means that the
<code>shinyjs.foo</code> function needs to be able to deal with both types of
parameters.
</p>
<p>To assist in normalizing the parameters, <code>shinyjs</code> provides a
<code>shinyjs.getParams()</code> function which serves two purposes. First of all,
it ensures that all arguments are named (even if the R function was called
without names). Secondly, it allows you to define default values for arguments.
</p>
<p>Here is an example of a JS function that changes the background colour of an
element and uses <code>shinyjs.getParams()</code>.
</p>
<pre>
shinyjs.backgroundCol = function(params) {
  var defaultParams = {
    id : null,
    col : "red"
  };
  params = shinyjs.getParams(params, defaultParams);

  var el = $("#" + params.id);
  el.css("background-color", params.col);
}
</pre>
<p>Note the <code>defaultParams</code> object that was defined and the call to
<code>shinyjs.getParams</code>. It ensures that calling <code>js$backgroundCol("test", "blue")</code>
and <code>js$backgroundCol(id = "test", col = "blue")</code> and
<code>js$backgroundCol(col = "blue", id = "test")</code> are all equivalent, and
that if the colour parameter is not provided then &quot;red&quot; will be the default.
</p>
<p>All the functions provided in <code>shinyjs</code> make use of <code>shinyjs.getParams</code>,
and it is highly recommended to always use it in your functions as well.
Notice that the order of the arguments in <code>defaultParams</code> in the
JavaScript function matches the order of the arguments when calling the
function in R with unnamed arguments.
</p>
<p>See the examples below for a shiny app that uses this JS function.
</p>


<h3>Note</h3>

<p>You still need to call <code>useShinyjs()</code> as usual, and the call to
<code>useShinyjs()</code> must come before the call to <code>extendShinyjs()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+runExample">runExample</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # Example 1:
  # Change the page background to a certain colour when a button is clicked.

    jsCode &lt;- "shinyjs.pageCol = function(params){$('body').css('background', params);}"

    shinyApp(
      ui = fluidPage(
        useShinyjs(),
        extendShinyjs(text = jsCode, functions = c("pageCol")),
        selectInput("col", "Colour:",
                    c("white", "yellow", "red", "blue", "purple"))
      ),
      server = function(input, output) {
        observeEvent(input$col, {
          js$pageCol(input$col)
        })
      }
    )

  # ==============

  # Example 2:
  # Change the background colour of an element, using "red" as default

    jsCode &lt;- '
    shinyjs.backgroundCol = function(params) {
      var defaultParams = {
        id : null,
        col : "red"
      };
      params = shinyjs.getParams(params, defaultParams);

      var el = $("#" + params.id);
      el.css("background-color", params.col);
    }'

    shinyApp(
      ui = fluidPage(
        useShinyjs(),
        extendShinyjs(text = jsCode, functions = c("backgroundCol")),
        p(id = "name", "My name is Dean"),
        p(id = "sport", "I like soccer"),
        selectInput("col", "Colour",
                    c("green", "yellow", "red", "blue", "white")),
        selectInput("selector", "Element", c("sport", "name", "button")),
        actionButton("button", "Go")
      ),
      server = function(input, output) {
        observeEvent(input$button, {
          js$backgroundCol(input$selector, input$col)
        })
      }
    )

  # ==============

  # Example 3:
  # Create an `increment` function that increments the number inside an HTML
  # tag (increment by 1 by default, with an optional parameter). Use a separate
  # file instead of providing the JS code in a string.

  # Create a JavaScript file "myfuncs.js" in a "www/" directory:
    shinyjs.increment = function(params) {
      var defaultParams = {
        id : null,
        num : 1
      };
      params = shinyjs.getParams(params, defaultParams);

      var el = $("#" + params.id);
      el.text(parseInt(el.text()) + params.num);
    }

  # And a shiny app that uses the custom function we just defined. Note how
  # the arguments can be either passed as named or unnamed, and how default
  # values are set if no value is given to a parameter.

      library(shiny)
      shinyApp(
        ui = fluidPage(
          useShinyjs(),
          extendShinyjs("myfuncs.js", functions = c("increment")),
          p(id = "number", 0),
          actionButton("add", "js$increment('number')"),
          actionButton("add5", "js$increment('number', 5)"),
          actionButton("add10", "js$increment(num = 10, id = 'number')")
        ),
        server = function(input, output) {
          observeEvent(input$add, {
            js$increment('number')
          })
          observeEvent(input$add5, {
            js$increment('number', 5)
          })
          observeEvent(input$add10, {
            js$increment(num = 10, id = 'number')
          })
        }
      )

## End(Not run)
</code></pre>

<hr>
<h2 id='hidden'>Initialize a Shiny tag as hidden</h2><span id='topic+hidden'></span>

<h3>Description</h3>

<p>Create a Shiny tag that is invisible when the Shiny app starts. The tag can
be made visible later with <code><a href="#topic+toggle">toggle()</a></code> or <code><a href="#topic+show">show()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hidden(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hidden_+3A_...">...</code></td>
<td>
<p>Shiny tag (or tagList or list of of tags) to make invisible</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The tag (or tags) that was given as an argument in a hidden state.
</p>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs()</a></code>, <code><a href="#topic+toggle">toggle()</a></code>, <code><a href="#topic+show">show()</a></code>, <code><a href="#topic+hide">hide()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me"),
      hidden(
        p(id = "element", "I was born invisible")
      )
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        show("element")
      })
    }
  )
}

library(shiny)
hidden(span(id = "a"), div(id = "b"))
hidden(tagList(span(id = "a"), div(id = "b")))
hidden(list(span(id = "a"), div(id = "b")))
</code></pre>

<hr>
<h2 id='html'>Change the HTML (or text) inside an element</h2><span id='topic+html'></span>

<h3>Description</h3>

<p>Change the text or HTML inside an element.  The given HTML can be any
R expression, and it can either be appended to the currentcontents of the element
or overwrite it (default).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>html(id = NULL, html = NULL, add = FALSE, selector = NULL, asis = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="html_+3A_id">id</code></td>
<td>
<p>The id of the element/Shiny tag</p>
</td></tr>
<tr><td><code id="html_+3A_html">html</code></td>
<td>
<p>The HTML/text to place inside the element. Can be either simple
plain text or valid HTML code.</p>
</td></tr>
<tr><td><code id="html_+3A_add">add</code></td>
<td>
<p>If <code>TRUE</code>, then append <code>html</code> to the contents of the element;
otherwise overwrite it.</p>
</td></tr>
<tr><td><code id="html_+3A_selector">selector</code></td>
<td>
<p>JQuery selector of the elements to target. Ignored if the <code>id</code>
argument is given.</p>
</td></tr>
<tr><td><code id="html_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me"),
      p(id = "element", "Watch what happens to me")
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        # Change the following line for more examples
        html("element", paste0("The date is ", date()))
      })
    }
  )
}
## Not run: 
  # The shinyjs function call in the above app can be replaced by
  # any of the following examples to produce similar Shiny apps
  html("element", "Hello!")
  html("element", " Hello!", TRUE)
  html("element", "&lt;strong&gt;bold&lt;/strong&gt; that was achieved with HTML")
  local({val &lt;- "some text"; html("element", val)})
  html(id = "element", add = TRUE, html = input$btn)

## End(Not run)
</code></pre>

<hr>
<h2 id='inlineCSS'>Add inline CSS</h2><span id='topic+inlineCSS'></span>

<h3>Description</h3>

<p>Add inline CSS to a Shiny app. This is simply a convenience function that
gets called from a Shiny app's UI to make it less tedious to add inline CSS.
If there are many CSS rules, it is recommended to use an external stylesheet.<br /><br />
CSS is a simple way to describe how elements on a web page should be
displayed (position, colour, size, etc.).  You can learn the basics
at <a href="https://www.w3schools.com/css/">W3Schools</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inlineCSS(rules)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inlineCSS_+3A_rules">rules</code></td>
<td>
<p>The CSS rules to add. Can either be a string with valid
CSS code, or a named list of the form
<code>list(selector = declarations)</code>, where <code>selector</code> is a valid
CSS selector and <code>declarations</code> is a string or vector of declarations.
See examples for clarification.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Inline CSS code that is automatically inserted to the app's
<code>&lt;head&gt;</code> tag.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  # Method 1 - passing a string of valid CSS
  shinyApp(
    ui = fluidPage(
      inlineCSS("#big { font-size:30px; }
                 .red { color: red; border: 1px solid black;}"),
      p(id = "big", "This will be big"),
      p(class = "red", "This will be red and bordered")
    ),
    server = function(input, output) {}
  )

  # Method 2 - passing a list of CSS selectors/declarations
  # where each declaration is a full declaration block
  shinyApp(
    ui = fluidPage(
      inlineCSS(list(
        "#big" = "font-size:30px",
        ".red" = "color: red; border: 1px solid black;"
      )),
      p(id = "big", "This will be big"),
      p(class = "red", "This will be red and bordered")
    ),
    server = function(input, output) {}
  )

  # Method 3 - passing a list of CSS selectors/declarations
  # where each declaration is a vector of declarations
  shinyApp(
    ui = fluidPage(
      inlineCSS(list(
        "#big" = "font-size:30px",
        ".red" = c("color: red", "border: 1px solid black")
      )),
      p(id = "big", "This will be big"),
      p(class = "red", "This will be red and bordered")
    ),
    server = function(input, output) {}
  )
}
</code></pre>

<hr>
<h2 id='js'>Call user-defined JavaScript functions from R</h2><span id='topic+js'></span>

<h3>Description</h3>

<p>Call user-defined JavaScript functions from R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>js
</code></pre>


<h3>Format</h3>

<p>An object of class <code>environment</code> of length 0.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extendShinyjs">extendShinyjs</a></code>
</p>

<hr>
<h2 id='messageFuncs'>Show a message</h2><span id='topic+messageFuncs'></span><span id='topic+alert'></span><span id='topic+info'></span><span id='topic+logjs'></span>

<h3>Description</h3>

<p><code>alert</code> (and its alias <code>info</code>) shows a message to the user as a
simple popup.<br /><br />
<code>logjs</code> writes a message to the JavaScript console. <code>logjs</code> is
mainly used for debugging purposes as a way to non-intrusively print
messages, but it is also visible to the user if they choose to inspect the
console. You can also use the <code><a href="#topic+showLog">showLog</a></code> function to
print the JavaScript message directly to the R console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alert(text)

info(text)

logjs(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="messageFuncs_+3A_text">text</code></td>
<td>
<p>The message to show.  Can be either simple text or an R object.</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>,
<code><a href="#topic+showLog">showLog</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me")
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        # Change the following line for more examples
        alert(paste0("The date is ", date()))
      })
    }
  )
}
## Not run: 
  # The shinyjs function call in the above app can be replaced by
  # any of the following examples to produce similar Shiny apps
  alert("Hello!")
  alert(text = R.Version())
  logjs(R.Version())

## End(Not run)
</code></pre>

<hr>
<h2 id='onevent'>Run R code when an event is triggered on an element</h2><span id='topic+onevent'></span><span id='topic+onclick'></span>

<h3>Description</h3>

<p><code>onclick</code> runs an R expression (either a <code>shinyjs</code> function or any other code)
when an element is clicked.<br /><br />
<code>onevent</code> is similar, but can be used when any event is triggered on the element,
not only a mouse click. See below for a list of possible event types. Using &quot;click&quot;
results in the same behaviour as calling <code>onclick</code>.<br /><br />
This action can be reverted by calling <code><a href="#topic+removeEvent">removeEvent</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>onclick(id, expr, add = FALSE, asis = FALSE)

onevent(event, id, expr, add = FALSE, properties = NULL, asis = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="onevent_+3A_id">id</code></td>
<td>
<p>The id of the element/Shiny tag</p>
</td></tr>
<tr><td><code id="onevent_+3A_expr">expr</code></td>
<td>
<p>The R expression or function to run after the event is triggered.
If a function with an argument is provided, it will be called with the
JavaScript Event properties as its argument. Using a function can be useful
when you want to know, for example, what key was pressed on a &quot;keypress&quot; event
or the mouse coordinates in a mouse event. See below for a list of properties.</p>
</td></tr>
<tr><td><code id="onevent_+3A_add">add</code></td>
<td>
<p>If <code>TRUE</code>, then add <code>expr</code> to be executed after any
other code that was previously set using <code>onevent</code> or <code>onclick</code>; otherwise
<code>expr</code> will overwrite any previous expressions. Note that this parameter
works well in web browsers but is buggy when using the RStudio Viewer.</p>
</td></tr>
<tr><td><code id="onevent_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
<tr><td><code id="onevent_+3A_event">event</code></td>
<td>
<p>The event that needs to be triggered to run the code. See below
for a list of event types.</p>
</td></tr>
<tr><td><code id="onevent_+3A_properties">properties</code></td>
<td>
<p>A list of JavaScript Event properties that should be available
to the argument of the <code>expr</code> function. See below for more information about
Event properties.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An ID that can be used by <code><a href="#topic+removeEvent">removeEvent</a></code> to remove
the event listener. See <code><a href="#topic+removeEvent">removeEvent</a></code> for more details.
</p>


<h3>Event types</h3>

<p>Any standard <a href="https://api.jquery.com/category/events/mouse-events/">mouse</a> or
<a href="https://api.jquery.com/category/events/keyboard-events/">keyboard</a> events
that are supported by JQuery can be used. The standard list of events that can be used is:
<code>click</code>, <code>dblclick</code>, <code>hover</code>, <code>mousedown</code>, <code>mouseenter</code>,
<code>mouseleave</code>, <code>mousemove</code>, <code>mouseout</code>, <code>mouseover</code>, <code>mouseup</code>,
<code>keydown</code>, <code>keypress</code>, <code>keyup</code>. You can also use any other non
standard events that your browser supports or with the use of plugins (for
example, there is a <a href="https://github.com/jquery/jquery-mousewheel">mousewheel</a>
plugin that you can use to listen to mousewheel events).
</p>


<h3>Event properties</h3>

<p>If a function is provided to <code>expr</code>, the function will receive a list
of JavaScript Event properties describing the current event as an argument.
Different properties are available for different event types. The full list
of properties that can be returned is: <code>altKey</code>, <code>button</code>,
<code>buttons</code>, <code>clientX</code>, <code>clientY</code>, <code>ctrlKey</code>, <code>pageX</code>,
<code>pageY</code>, <code>screenX</code>, <code>screenY</code>, <code>shiftKey</code>, <code>which</code>,
<code>charCode</code>, <code>key</code>, <code>keyCode</code>, <code>offsetX</code>, <code>offsetY</code>.
If you want to retrieve any additional properties that are available in
JavaScript for your event type, you can use the <code>properties</code> parameter.
</p>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+removeEvent">removeEvent</a></code>,
<code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      p(id = "date", "Click me to see the date"),
      p(id = "coords", "Click me to see the mouse coordinates"),
      p(id = "disappear", "Move your mouse here to make the text below disappear"),
      p(id = "text", "Hello")
    ),
    server = function(input, output) {
      onclick("date", alert(date()))
      onclick("coords", function(event) { alert(event) })
      onevent("mouseenter", "disappear", hide("text"))
      onevent("mouseleave", "disappear", show("text"))
    }
  )
}
## Not run: 
  # The shinyjs function call in the above app can be replaced by
  # any of the following examples to produce similar Shiny apps
  onclick("disappear", toggle("text"))
  onclick(expr = text("date", date()), id = "date")

## End(Not run)
</code></pre>

<hr>
<h2 id='refresh'>Refresh the page</h2><span id='topic+refresh'></span>

<h3>Description</h3>

<p>Refresh the page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refresh()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  ui &lt;- fluidPage(
    useShinyjs(),
    textInput("text", "Text", "text"),
    actionButton("refresh", "Refresh")
  )

  server &lt;- function(input, output, session) {
    observeEvent(input$refresh, {
      refresh()
    })
  }

 shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='removeEvent'>Remove an event that was added to an element</h2><span id='topic+removeEvent'></span>

<h3>Description</h3>

<p>This function can be used to revert the action of
<code><a href="#topic+onclick">onclick</a></code> or <code><a href="#topic+onevent">onevent</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeEvent(event, id, asis = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeEvent_+3A_event">event</code></td>
<td>
<p>Either an event type (see below for a list of event types) or
an event ID (the return value from
<code><a href="#topic+onclick">onclick</a></code> or <code><a href="#topic+onevent">onevent</a></code>).
If an event type is provided (eg. &quot;hover&quot;), then all events of this type
attached to the given element will be removed. If an event ID is provided,
then only that specific event will be removed.
See examples for clarification.</p>
</td></tr>
<tr><td><code id="removeEvent_+3A_id">id</code></td>
<td>
<p>The ID of the element/Shiny tag. Must match the ID used in
<code><a href="#topic+onclick">onclick</a></code> or <code><a href="#topic+onevent">onevent</a></code>.</p>
</td></tr>
<tr><td><code id="removeEvent_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
</table>


<h3>Event types</h3>

<p>Any standard <a href="https://api.jquery.com/category/events/mouse-events/">mouse</a> or
<a href="https://api.jquery.com/category/events/keyboard-events/">keyboard</a> events
that are supported by JQuery can be used. The standard list of events that can be used is:
<code>click</code>, <code>dblclick</code>, <code>hover</code>, <code>mousedown</code>, <code>mouseenter</code>,
<code>mouseleave</code>, <code>mousemove</code>, <code>mouseout</code>, <code>mouseover</code>, <code>mouseup</code>,
<code>keydown</code>, <code>keypress</code>, <code>keyup</code>. You can also use any other non
standard events that your browser supports or with the use of plugins (for
example, there is a <a href="https://github.com/jquery/jquery-mousewheel">mousewheel</a>
plugin that you can use to listen to mousewheel events).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+onclick">onclick</a></code>,
<code><a href="#topic+onevent">onevent</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      p(id = "myel", "Hover over me to see the date, the time, and a random integer"),
      actionButton("remove_date", "Remove date hover event"),
      actionButton("remove_all", "Remove all hover events")
    ),
    server = function(input, output) {
      onevent("hover", "myel", print(format(Sys.time(), "%H:%M:%S")))
      onevent("hover", "myel", print(sample(100, 1)), add = TRUE)
      date_event_id &lt;- onevent("hover", "myel", print(as.character(Sys.Date())), add = TRUE)

      observeEvent(input$remove_all, {
        removeEvent("hover", "myel")
      })
      observeEvent(input$remove_date, {
        removeEvent(date_event_id, "myel")
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='reset'>Reset input elements to their original values</h2><span id='topic+reset'></span>

<h3>Description</h3>

<p>Reset any input element back to its original value. You can either reset
one specific input at a time by providing the id of a shiny input, or reset
all inputs within an HTML tag by providing the id of an HTML tag.<br /><br />
Reset can be performed on any traditional Shiny input widget, which
includes: textInput, numericInput, sliderInput, selectInput,
selectizeInput, radioButtons, dateInput, dateRangeInput, checkboxInput,
checkboxGroupInput, colourInput, passwordInput, textAreaInput. Note that
<code>actionButton</code> is not supported, meaning that you cannot reset
the value of a button back to 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reset(id = "", asis = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reset_+3A_id">id</code></td>
<td>
<p>The id of the input element to reset or the id of an HTML
tag to reset all inputs inside it. If no id is provided, then
all inputs on the page are reset.</p>
</td></tr>
<tr><td><code id="reset_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),
      div(
        id = "form",
        textInput("name", "Name", "Dean"),
        radioButtons("gender", "Gender", c("Male", "Female")),
        selectInput("letter", "Favourite letter", LETTERS)
      ),
      actionButton("resetAll", "Reset all"),
      actionButton("resetName", "Reset name"),
      actionButton("resetGender", "Reset Gender"),
      actionButton("resetLetter", "Reset letter")
    ),
    server = function(input, output) {
      observeEvent(input$resetName, {
        reset("name")
      })
      observeEvent(input$resetGender, {
        reset("gender")
      })
      observeEvent(input$resetLetter, {
        reset("letter")
      })
      observeEvent(input$resetAll, {
        reset("form")
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='runcode'>Construct to let you run arbitrary R code live in a Shiny app</h2><span id='topic+runcode'></span><span id='topic+runcodeUI'></span><span id='topic+runcodeServer'></span>

<h3>Description</h3>

<p>Sometimes when developing a Shiny app, it's useful to be able to run some R
code on-demand. This construct provides your app with a text input where you
can enter any R code and run it immediately.<br /><br />
This can be useful for testing
and while developing an app locally, but it <strong>should not be included in
an app that is accessible to other people</strong>, as letting others run arbitrary R
code can open you up to security attacks.<br /><br />
To use this construct, you must add a call to <code>runcodeUI()</code> in the UI
of your app, and a call to <code>runcodeServer()</code> in the server function. You
also need to initialize shinyjs with a call to <code>useShinyjs()</code> in the UI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runcodeUI(
  code = "",
  type = c("text", "textarea", "ace"),
  width = NULL,
  height = NULL,
  includeShinyjs = NULL,
  id = NULL
)

runcodeServer()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runcode_+3A_code">code</code></td>
<td>
<p>The initial R code to show in the text input when the app loads</p>
</td></tr>
<tr><td><code id="runcode_+3A_type">type</code></td>
<td>
<p>One of <code>"text"</code> (default), <code>"textarea"</code>, or <code>"ace"</code>.
When using a text input, the R code will be limited to be typed within a single line,
and is the recommended option. Textarea should be used if you want to write
long multi-line R code. Note that you can run multiple expressions even in
a single line by appending each R expression with a semicolon.
Use of the <code>"ace"</code> option requires the <code>shinyAce</code> package.</p>
</td></tr>
<tr><td><code id="runcode_+3A_width">width</code></td>
<td>
<p>The width of the editable code input (ignored when
<code>type="ace"</code>)</p>
</td></tr>
<tr><td><code id="runcode_+3A_height">height</code></td>
<td>
<p>The height of the editable code input (ignored when
<code>type="text"</code>)</p>
</td></tr>
<tr><td><code id="runcode_+3A_includeshinyjs">includeShinyjs</code></td>
<td>
<p>Deprecated. You should always make sure to initialize
shinyjs using <code><a href="#topic+useShinyjs">useShinyjs</a></code>.</p>
</td></tr>
<tr><td><code id="runcode_+3A_id">id</code></td>
<td>
<p>When used inside a shiny module, the module's id needs to be
provided to <code>runcodeUI</code>. This argument should remain <code>NULL</code>
when not used inside a module.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>You can only have one <code>runcode</code> construct in your shiny app.
Calling this function multiple times within the same app will result in
unpredictable behaviour.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      runcodeUI(code = "shinyjs::alert('Hello!')")
    ),
    server = function(input, output) {
      runcodeServer()
    }
  )
}
</code></pre>

<hr>
<h2 id='runExample'>Run shinyjs examples</h2><span id='topic+runExample'></span>

<h3>Description</h3>

<p>Launch a <code>shinyjs</code> example Shiny app that shows how to
easily use <code>shinyjs</code> in an app.<br /><br />
Run without any arguments to see a list of available example apps.
The &quot;demo&quot; example is also
<a href="https://daattali.com/shiny/shinyjs-demo/">available online</a>
to experiment with.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runExample(example)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runExample_+3A_example">example</code></td>
<td>
<p>The app to launch</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Only run this example in interactive R sessions
if (interactive()) {
  # List all available example apps
  runExample()

  runExample("sandbox")
  runExample("demo")
}
</code></pre>

<hr>
<h2 id='runjs'>Run JavaScript code</h2><span id='topic+runjs'></span>

<h3>Description</h3>

<p>Run arbitrary JavaScript code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runjs(code)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runjs_+3A_code">code</code></td>
<td>
<p>JavaScript code to run.</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me")
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        # Run JS code that simply shows a message
        runjs("var today = new Date(); alert(today);")
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='shinyjs'>shinyjs</h2><span id='topic+shinyjs'></span>

<h3>Description</h3>

<p>Easily improve the user experience of your Shiny apps in seconds
</p>


<h3>Details</h3>

<p><code>shinyjs</code> lets you perform common JavaScript operations that enhance the user experience in
applications without having to know any JavaScript. Examples include: hiding an
element, disabling an input, resetting an input back to its original value,
delaying code execution by a few seconds, and many more useful functions.
<code>shinyjs</code> also includes a colour picker widget, a colour picker RStudio
addin, and can also be used to easily run your own custom JavaScript functions
from R.
</p>
<p>View the <a href="https://deanattali.com/shinyjs/">shinyjs website</a> for more details
and to see a demo.
</p>

<hr>
<h2 id='showLog'>Print any JavaScript console.log messages in the R console</h2><span id='topic+showLog'></span>

<h3>Description</h3>

<p>When developing and debugging a Shiny that uses custom JavaScript code,
it can be helpful to use <code>console.log()</code> messages in JavaScript. This
function allows you to see these messages printed in the R console directly
rather than having to open the JavaScript console in the browser to view the
messages.<br /><br />
This function must be called in a Shiny app's server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showLog()
</code></pre>


<h3>Note</h3>

<p>Log messages that cannot be serialized in JavaScript (such as many
JavaScript Event objects that are cyclic) will not be printed in R.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+logjs">logjs()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),
      textInput("text", "Type something")
    ),
    server = function(input, output) {
      showLog()
      logjs("App started")
      observe({
        logjs(paste("Length of text:", nchar(input$text)))
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='stateFuncs'>Enable/disable an input element</h2><span id='topic+stateFuncs'></span><span id='topic+enable'></span><span id='topic+disable'></span><span id='topic+toggleState'></span>

<h3>Description</h3>

<p>Enable or disable an input element. A disabled element is not usable and
not clickable, while an enabled element (default) can receive user input.
Any shiny input tag can be used with these functions.<br /><br />
<strong><code>enable</code></strong> enables an input, <strong><code>disable</code></strong> disabled
an input,<strong><code>toggleState</code></strong> enables an input if it is disabled
and disables an input if it is already enabled.<br /><br />
If <code>condition</code> is given to <code>toggleState</code>, that condition will be used
to determine if to enable or disable the input. The element will be enabled if
the condition evaluates to <code>TRUE</code> and disabled otherwise. If you find
yourself writing code such as <code>if (test()) enable(id) else disable(id)</code>
then you can use <code>toggleState</code> instead: <code>toggleState(id, test())</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enable(id = NULL, selector = NULL, asis = FALSE)

disable(id = NULL, selector = NULL, asis = FALSE)

toggleState(id = NULL, condition = NULL, selector = NULL, asis = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stateFuncs_+3A_id">id</code></td>
<td>
<p>The id of the input element/Shiny tag</p>
</td></tr>
<tr><td><code id="stateFuncs_+3A_selector">selector</code></td>
<td>
<p>Query selector of the elements to target.  Ignored if the <code>id</code>
argument is given. For example, to disable all text inputs, use
<code>selector = "input[type='text']"</code></p>
</td></tr>
<tr><td><code id="stateFuncs_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
<tr><td><code id="stateFuncs_+3A_condition">condition</code></td>
<td>
<p>An optional argument to <code>toggleState</code>. The element will
be enabled when the <code>condition</code> is <code>TRUE</code>, and disabled otherwise.</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>
<code><a href="#topic+disabled">disabled</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me"),
      textInput("element", "Watch what happens to me")
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        # Change the following line for more examples
        toggleState("element")
      })
    }
  )
}
## Not run: 
  # The shinyjs function call in the above app can be replaced by
  # any of the following examples to produce similar Shiny apps
  toggleState(id = "element")
  enable("element")
  disable("element")

  # Similarly, the "element" text input can be changed to many other
  # input tags, such as the following examples
  actionButton("element", "I'm a button")
  fileInput("element", "Choose a file")
  selectInput("element", "I'm a select box", 1:10)

## End(Not run)

## toggleState can be given an optional `condition` argument, which
## determines if to enable or disable the input
if (interactive()) {
  shinyApp(
    ui = fluidPage(
      useShinyjs(),
      textInput("text", "Please type at least 3 characters"),
      actionButton("element", "Submit")
    ),
    server = function(input, output) {
      observe({
        toggleState(id = "element", condition = nchar(input$text) &gt;= 3)
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='useShinyjs'>Set up a Shiny app to use shinyjs</h2><span id='topic+useShinyjs'></span>

<h3>Description</h3>

<p>This function must be called from a Shiny app's UI in order for all other
<code>shinyjs</code> functions to work.<br /><br />
You can call <code>useShinyjs()</code> from anywhere inside the UI, as long as the
final app UI contains the result of <code>useShinyjs()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>useShinyjs(rmd = FALSE, debug = FALSE, html = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="useShinyjs_+3A_rmd">rmd</code></td>
<td>
<p>Set this to <code>TRUE</code> only if you are using <code>shinyjs</code>
inside an interactive R markdown document. If using this option, view the
<a href="https://github.com/daattali/shinyjs">README</a> online to learn how to
use shinyjs in R markdown documents.</p>
</td></tr>
<tr><td><code id="useShinyjs_+3A_debug">debug</code></td>
<td>
<p>Set this to <code>TRUE</code> if you want to see detailed debugging
statements in the JavaScript console. Can be useful when filing bug reports
to get more information about what is going on.</p>
</td></tr>
<tr><td><code id="useShinyjs_+3A_html">html</code></td>
<td>
<p>Set this to <code>TRUE</code> only if you are using <code>shinyjs</code> in
a Shiny app that builds the entire user interface with a custom HTML file. If
using this option, view the
<a href="https://github.com/daattali/shinyjs">README</a> online to learn
how to use shinyjs in these apps.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you're a package author and including <code>shinyjs</code> in a function in your
your package, you need to make sure <code>useShinyjs()</code> is called either by
the end user's Shiny app or by your function's UI.
</p>


<h3>Value</h3>

<p>Scripts that <code>shinyjs</code> requires that are automatically inserted
to the app's <code>&lt;head&gt;</code> tag. A side effect of calling this function is that
a <code>shinyjs</code> directory is added as a resource path using
<code><a href="shiny.html#topic+resourcePaths">shiny::addResourcePath()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+runExample">runExample</a></code>
<code><a href="#topic+extendShinyjs">extendShinyjs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me"),
      textInput("element", "Watch what happens to me")
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        # Run a simply shinyjs function
        toggle("element")
      })
    }
  )
}
</code></pre>

<hr>
<h2 id='visibilityFuncs'>Display/hide an element</h2><span id='topic+visibilityFuncs'></span><span id='topic+show'></span><span id='topic+showElement'></span><span id='topic+hide'></span><span id='topic+hideElement'></span><span id='topic+toggle'></span><span id='topic+toggleElement'></span>

<h3>Description</h3>

<p>Display or hide an HTML element.<br /><br />
<strong><code>show</code></strong> makes an element visible, <strong><code>hide</code></strong> makes
an element invisible, <strong><code>toggle</code></strong> displays the element if it it
hidden and hides it if it is visible.<br /><br />
<strong><code>showElement</code></strong>, <strong><code>hideElement</code></strong>, and
<strong><code>toggleElement</code></strong> are synonyms that may be safer to use if you're
working with S4 classes (since they don't mask any existing S4 functions).<br /><br />
If <code>condition</code> is given to <code>toggle</code>, that condition will be used
to determine if to show or hide the element. The element will be shown if the
condition evaluates to <code>TRUE</code> and hidden otherwise. If you find
yourself writing code such as <code>if (test()) show(id) else hide(id)</code>
then you can use <code>toggle</code> instead: <code>toggle(id = id, condition = test())</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show(
  id = NULL,
  anim = FALSE,
  animType = "slide",
  time = 0.5,
  selector = NULL,
  asis = FALSE
)

showElement(
  id = NULL,
  anim = FALSE,
  animType = "slide",
  time = 0.5,
  selector = NULL,
  asis = FALSE
)

hide(
  id = NULL,
  anim = FALSE,
  animType = "slide",
  time = 0.5,
  selector = NULL,
  asis = FALSE
)

hideElement(
  id = NULL,
  anim = FALSE,
  animType = "slide",
  time = 0.5,
  selector = NULL,
  asis = FALSE
)

toggle(
  id = NULL,
  anim = FALSE,
  animType = "slide",
  time = 0.5,
  selector = NULL,
  condition = NULL,
  asis = FALSE
)

toggleElement(
  id = NULL,
  anim = FALSE,
  animType = "slide",
  time = 0.5,
  selector = NULL,
  condition = NULL,
  asis = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="visibilityFuncs_+3A_id">id</code></td>
<td>
<p>The id of the element/Shiny tag</p>
</td></tr>
<tr><td><code id="visibilityFuncs_+3A_anim">anim</code></td>
<td>
<p>If <code>TRUE</code> then animate the behaviour</p>
</td></tr>
<tr><td><code id="visibilityFuncs_+3A_animtype">animType</code></td>
<td>
<p>The type of animation to use, either <code>"slide"</code> or <code>"fade"</code></p>
</td></tr>
<tr><td><code id="visibilityFuncs_+3A_time">time</code></td>
<td>
<p>The number of seconds to make the animation last</p>
</td></tr>
<tr><td><code id="visibilityFuncs_+3A_selector">selector</code></td>
<td>
<p>JQuery selector of the elements to show/hide. Ignored if the
<code>id</code> argument is given. For example, to select all span elements with
class x, use <code>selector = "span.x"</code></p>
</td></tr>
<tr><td><code id="visibilityFuncs_+3A_asis">asis</code></td>
<td>
<p>If <code>TRUE</code>, use the ID as-is even when inside a module
(instead of adding the namespace prefix to the ID).</p>
</td></tr>
<tr><td><code id="visibilityFuncs_+3A_condition">condition</code></td>
<td>
<p>An optional argument to <code>toggle</code>, see 'Details' below.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you want to hide/show an element in a few seconds rather than immediately,
you can use the <code><a href="#topic+delay">delay</a></code> function.
</p>


<h3>Note</h3>

<p>If you use S4 classes, you should be aware of the fact that both S4 and
<code>shinyjs</code> use the <code>show()</code> function. This means that when using S4,
it is recommended to use <code>showElement()</code> from <code>shinyjs</code>, and to
use <code>methods::show()</code> for S4 object.
</p>
<p><code>shinyjs</code> must be initialized with a call to <code>useShinyjs()</code>
in the app's ui.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+useShinyjs">useShinyjs</a></code>,
<code><a href="#topic+runExample">runExample</a></code>,
<code><a href="#topic+hidden">hidden</a></code>,
<code><a href="#topic+delay">delay</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      useShinyjs(),  # Set up shinyjs
      actionButton("btn", "Click me"),
      textInput("text", "Text")
    ),
    server = function(input, output) {
      observeEvent(input$btn, {
        # Change the following line for more examples
        toggle("text")
      })
    }
  )
}
## Not run: 
  # The shinyjs function call in the above app can be replaced by
  # any of the following examples to produce similar Shiny apps
  toggle(id = "text")
  delay(1000, toggle(id = "text")) # toggle in 1 second
  toggle("text", TRUE)
  toggle("text", TRUE, "fade", 2)
  toggle(id = "text", time = 1, anim = TRUE, animType = "slide")
  show("text")
  show(id = "text", anim = TRUE)
  hide("text")
  hide(id = "text", anim = TRUE)

## End(Not run)

## toggle can be given an optional `condition` argument, which
## determines if to show or hide the element
if (interactive()) {
  shinyApp(
    ui = fluidPage(
      useShinyjs(),
      checkboxInput("checkbox", "Show the text", TRUE),
      p(id = "element", "Watch what happens to me")
    ),
    server = function(input, output) {
      observe({
        toggle(id = "element", condition = input$checkbox)
      })
    }
  )
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

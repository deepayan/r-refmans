<!DOCTYPE html><html><head><title>Help for package RhpcBLASctl</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RhpcBLASctl}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RhpcBLASctl-package'>
<p>Control the number of threads on BLAS</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.23-42</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-02-11</td>
</tr>
<tr>
<td>Title:</td>
<td>Control the Number of Threads on 'BLAS'</td>
</tr>
<tr>
<td>Author:</td>
<td>Junji NAKANO &lt;nakanoj@ism.ac.jp&gt; and Ei-ji Nakama &lt;nakama@ki.rim.or.jp&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ei-ji Nakama &lt;nakama@ki.rim.or.jp&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Control the number of threads on 'BLAS' (Aka 'GotoBLAS', 'OpenBLAS', 'ACML', 'BLIS' and 'MKL').
  And possible to control the number of threads in 'OpenMP'.
  Get a number of logical cores and physical cores if feasible.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://prs.ism.ac.jp/~nakama/Rhpc/">https://prs.ism.ac.jp/~nakama/Rhpc/</a></td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-11 00:17:46 UTC; nakama</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-11 01:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='RhpcBLASctl-package'>
Control the number of threads on BLAS
</h2><span id='topic+RhpcBLASctl-package'></span><span id='topic+get_num_cores'></span><span id='topic+get_num_procs'></span><span id='topic+blas_get_num_procs'></span><span id='topic+blas_set_num_threads'></span><span id='topic+omp_get_num_procs'></span><span id='topic+omp_get_max_threads'></span><span id='topic+omp_set_num_threads'></span>

<h3>Description</h3>

<p>Control the number of threads on 'BLAS' (Aka 'GotoBLAS', 'ACML' and 'MKL').
</p>
<p>If you build R directly on Windows and the BLAS file name is not
'Rblas.dll', you can give it as 'options (&quot;RhpcBLASctl.win.Rblas.name&quot; = &quot;boofoo.dll&quot;)'.
</p>
<p>openmp-related functions only work at build-time instructions.
Omp_get * now returns NA_Integer if R was not built with openmp instructions.
NOTE: if R itself is built without OpenMP instructions and BLAS thread
is used with OpenMP, this package will not work...XD
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_num_cores()
get_num_procs()
blas_get_num_procs()
blas_set_num_threads(threads)
omp_get_num_procs()
omp_get_max_threads()
omp_set_num_threads(threads)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RhpcBLASctl-package_+3A_threads">threads</code></td>
<td>
<p>Number of threads</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://prs.ism.ac.jp/~nakama/Rhpc/">https://prs.ism.ac.jp/~nakama/Rhpc/</a>
</p>


<h3>Value</h3>

<table>
<tr><td><code>get_num_cores</code></td>
<td>
<p>Number of CPU physical processor.
NOTE:Returns 1L if unknown</p>
</td></tr>
<tr><td><code>get_num_procs</code></td>
<td>
<p>Number of CPU logical processor.
NOTE:Returns 1L if unknown</p>
</td></tr>
<tr><td><code>blas_get_num_procs</code></td>
<td>
<p>Number of available cores for the optimized
BLAS.
NOTE:Returns 1L if unknown</p>
</td></tr>
<tr><td><code>omp_get_num_procs</code></td>
<td>
<p>Result from OpenMP's omp_get_num_procs
function.
NOTE Returns NA_integer_ if unknown</p>
</td></tr>
<tr><td><code>omp_get_max_threads</code></td>
<td>
<p>Result from OpenMP's omp_get_max_threads
function.
NOTE Returns NA_integer_ if unknown</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Junji NAKANO &lt;nakanoj@ism.ac.jp&gt; and Ei-ji Nakama&lt;nakama@com-one.com&gt;
Maintainer: Ei-ji Nakama &lt;nakama@com-one.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_num_cores()
get_num_procs()
blas_get_num_procs()
blas_set_num_threads(2)
omp_get_num_procs()
omp_get_max_threads()
omp_set_num_threads(2)        
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

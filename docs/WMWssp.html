<!DOCTYPE html><html><head><title>Help for package WMWssp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {WMWssp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#WMWssp'><p>Sample size calculation for the Wilcoxon-Mann-Whitney test.</p></a></li>
<li><a href='#WMWssp_maximize'><p>Maximizing power for a given Type I error rate and prior information x and y</p></a></li>
<li><a href='#WMWssp_minimize'><p>Minimizing samplesize for a given Type I and II error rate and prior information x and y</p></a></li>
<li><a href='#WMWssp_noether'><p>Sample size calculation for the Wilcoxon-Mann-Whitney test using the Noether formula</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Wilcoxon-Mann-Whitney Sample Size Planning</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-07-09</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Martin Happ &lt;martin.happ@aon.at&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculates the minimal sample size for the Wilcoxon-Mann-Whitney test
    that is needed for a given power and two sided type I error rate. The method works for metric data with and without
    ties, count data, ordered categorical data, and even dichotomous data.
    But data is needed for the reference group to generate synthetic data for the treatment group based on a relevant effect.
    For details, see Brunner, E., Bathke A. C. and Konietschke, F: Rank- and Pseudo-Rank Procedures in Factorial Designs - Using R and SAS, Springer Verlag, to appear.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://github.com/happma/WMWssp">http://github.com/happma/WMWssp</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="http://github.com/happma/WMWssp/issues">http://github.com/happma/WMWssp/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-07-09 09:13:37 UTC; Martin</td>
</tr>
<tr>
<td>Author:</td>
<td>Arne C. Bathke [aut],
  Edgar Brunner [aut],
  Martin Happ <a href="https://orcid.org/0000-0003-0009-2665"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Frank Konietschke [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-07-09 10:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='WMWssp'>Sample size calculation for the Wilcoxon-Mann-Whitney test.</h2><span id='topic+WMWssp'></span>

<h3>Description</h3>

<p>This function calculates the sample size for a given power, type-I error rate and allocation rate t = n_1/N. Additionally, the actual achieved power can be simulated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WMWssp(x, y, alpha = 0.05, power = 0.8, t = 1/2,
  simulation = FALSE, nsim = 10^4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WMWssp_+3A_x">x</code></td>
<td>
<p>prior information for the first group</p>
</td></tr>
<tr><td><code id="WMWssp_+3A_y">y</code></td>
<td>
<p>prior information for the second group</p>
</td></tr>
<tr><td><code id="WMWssp_+3A_alpha">alpha</code></td>
<td>
<p>two sided type I error rate</p>
</td></tr>
<tr><td><code id="WMWssp_+3A_power">power</code></td>
<td>
<p>power</p>
</td></tr>
<tr><td><code id="WMWssp_+3A_t">t</code></td>
<td>
<p>proportion of subjects in the first group; or use t = &quot;min&quot; to use optimal proportion rate</p>
</td></tr>
<tr><td><code id="WMWssp_+3A_simulation">simulation</code></td>
<td>
<p>TRUE if a power simulation should be carried out</p>
</td></tr>
<tr><td><code id="WMWssp_+3A_nsim">nsim</code></td>
<td>
<p>number of simulations for the power simulation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object from class WMWssp containing
</p>
<table>
<tr><td><code>result</code></td>
<td>
<p>A dataframe with the results.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p>The allocation rate which was used.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The type-I error rate which was used.</p>
</td></tr>
<tr><td><code>simulation</code></td>
<td>
<p>The achieved power in a simulation.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The power which was used.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>The sample size needed.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Brunner, E., Bathke A. C. and Konietschke, F. Rank- and Pseudo-Rank Procedures in Factorial Designs - Using R and SAS. Springer Verlag. to appear.
</p>
<p>Happ, M., Bathke, A. C., &amp; Brunner, E. (2019). Optimal Sample Size Planning for the Wilcoxon-Mann-Whitney-Test. Statistics in medicine, 38(3), 363-375.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Prior information for the reference group
x &lt;- c(315,375,356,374,412,418,445,403,431,410,391,475,379)
# generate data for treatment group based on a shift effect
y &lt;- x - 20

# calculate sample size
ssp &lt;- WMWssp(x, y, alpha = 0.05, power = 0.8, t = 1/2)
summary(ssp)
</code></pre>

<hr>
<h2 id='WMWssp_maximize'>Maximizing power for a given Type I error rate and prior information x and y</h2><span id='topic+WMWssp_maximize'></span>

<h3>Description</h3>

<p>This function maximizes the power of the Wilcoxon-Mann-Whitney test for a given total sample size N and type-I error rate with respect to the allocation rate t = n_1/N.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WMWssp_maximize(x, y, alpha = 0.05, N)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WMWssp_maximize_+3A_x">x</code></td>
<td>
<p>a vector of prior information for the first group</p>
</td></tr>
<tr><td><code id="WMWssp_maximize_+3A_y">y</code></td>
<td>
<p>a vector of prior information for the second group</p>
</td></tr>
<tr><td><code id="WMWssp_maximize_+3A_alpha">alpha</code></td>
<td>
<p>Type I error rate</p>
</td></tr>
<tr><td><code id="WMWssp_maximize_+3A_n">N</code></td>
<td>
<p>total sample size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object from class WMWssp containing
</p>
<table>
<tr><td><code>result</code></td>
<td>
<p>A dataframe with the results.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p>The optimal allocation rate.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The type-I error rate which was used.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The maximized power.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>The total sample size which was used.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Brunner, E., Bathke A. C. and Konietschke, F. Rank- and Pseudo-Rank Procedures in Factorial Designs - Using R and SAS. Springer Verlag. to appear.
</p>
<p>Happ, M., Bathke, A. C., &amp; Brunner, E. (2019). Optimal Sample Size Planning for the Wilcoxon-Mann-Whitney-Test. Statistics in medicine, 38(3), 363-375.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Prior information for the reference group
x &lt;- c(315,375,356,374,412,418,445,403,431,410,391,475,379)
# generate data for treatment group based on a shift effect
y &lt;- x - 20

#
N &lt;- 112

# calculate optimal t
ssp &lt;- WMWssp_maximize(x, y, alpha = 0.05, N)
summary(ssp)
</code></pre>

<hr>
<h2 id='WMWssp_minimize'>Minimizing samplesize for a given Type I and II error rate and prior information x and y</h2><span id='topic+WMWssp_minimize'></span>

<h3>Description</h3>

<p>This function minimizes the sample size for a given power and type-I error rate with respect to the allocation rate t = n_1/N.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WMWssp_minimize(x, y, alpha = 0.05, power = 0.8, simulation = FALSE,
  nsim = 10^4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WMWssp_minimize_+3A_x">x</code></td>
<td>
<p>a vector of prior information for the first group</p>
</td></tr>
<tr><td><code id="WMWssp_minimize_+3A_y">y</code></td>
<td>
<p>a vector of prior information for the second group</p>
</td></tr>
<tr><td><code id="WMWssp_minimize_+3A_alpha">alpha</code></td>
<td>
<p>Type I error rate</p>
</td></tr>
<tr><td><code id="WMWssp_minimize_+3A_power">power</code></td>
<td>
<p>Power to detect a relative effect based on the prior information</p>
</td></tr>
<tr><td><code id="WMWssp_minimize_+3A_simulation">simulation</code></td>
<td>
<p>TRUE if a power simulation should be carried out</p>
</td></tr>
<tr><td><code id="WMWssp_minimize_+3A_nsim">nsim</code></td>
<td>
<p>number of simulations for the power simulation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object from class WMWssp containing
</p>
<table>
<tr><td><code>result</code></td>
<td>
<p>A dataframe with the results.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p>The optimal allocation rate for minimizing the sample size.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The type-I error rate which was used.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The power which was used.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>The minimized sample size.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Brunner, E., Bathke A. C. and Konietschke, F. Rank- and Pseudo-Rank Procedures in Factorial Designs - Using R and SAS. Springer Verlag. to appear.
</p>
<p>Happ, M., Bathke, A. C., &amp; Brunner, E. (2019). Optimal Sample Size Planning for the Wilcoxon-Mann-Whitney-Test. Statistics in medicine, 38(3), 363-375.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Prior information for the reference group
x &lt;- c(315,375,356,374,412,418,445,403,431,410,391,475,379)
# generate data for treatment group based on a shift effect
y &lt;- x - 20

# calculate optimal t
ssp &lt;- WMWssp_minimize(x, y, alpha = 0.05, power = 0.8)
summary(ssp)
</code></pre>

<hr>
<h2 id='WMWssp_noether'>Sample size calculation for the Wilcoxon-Mann-Whitney test using the Noether formula</h2><span id='topic+WMWssp_noether'></span>

<h3>Description</h3>

<p>This function calculates the sample size for given type-I and type-II error probabilities using Noether's formula.
If ties are present then prior information is needen.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WMWssp_noether(alpha, power, t, p, x = c(0), ties = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WMWssp_noether_+3A_alpha">alpha</code></td>
<td>
<p>two sided type I error rate</p>
</td></tr>
<tr><td><code id="WMWssp_noether_+3A_power">power</code></td>
<td>
<p>power: detect a relative effect p at least with the specified power</p>
</td></tr>
<tr><td><code id="WMWssp_noether_+3A_t">t</code></td>
<td>
<p>proportion of subjects in the first group (between 0 and 1)</p>
</td></tr>
<tr><td><code id="WMWssp_noether_+3A_p">p</code></td>
<td>
<p>relative effect</p>
</td></tr>
<tr><td><code id="WMWssp_noether_+3A_x">x</code></td>
<td>
<p>prior information is only needed in case of ties</p>
</td></tr>
<tr><td><code id="WMWssp_noether_+3A_ties">ties</code></td>
<td>
<p>TRUE if ties are possible (non continuous distribution), otherwise FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object from class WMWssp containing
</p>
<table>
<tr><td><code>result</code></td>
<td>
<p>A dataframe with the results.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p>The allocation rate which was used.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The type-I error rate which was used.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The power which was used.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>The sample size needed.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Noether, G. E. (1987). Sample Size Determination for Some Common Nonparametric Tests. Journal of the American Statistical Association 85, 645.647.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Prior information for the reference group
x &lt;- c(315,375,356,374,412,418,445,403,431,410,391,475,379)
# generate data for treatment group based on a shift effect
y &lt;- x - 20
# this data leads to a relative effect of p = 0.349

# calculate sampe size for a balanced design
ssp &lt;- WMWssp_noether(alpha = 0.05, power = 0.8, t =1/2, p = 0.349)
summary(ssp)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package o2geosocial</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {o2geosocial}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_config'><p>Set and check parameter settings</p></a></li>
<li><a href='#create_param'><p>Initializes outputs for outbreaker</p></a></li>
<li><a href='#custom_likelihoods'><p>Customise likelihood functions for o2geosocial</p></a></li>
<li><a href='#custom_moves'><p>Customise samplers for outbreaker</p></a></li>
<li><a href='#custom_priors'><p>Customise priors for outbreaker</p></a></li>
<li><a href='#outbreaker'><p>outbreaker: main function for reconstructing disease outbreaks</p></a></li>
<li><a href='#outbreaker_data'><p>Process input data for outbreaker</p></a></li>
<li><a href='#pre_clustering'><p>Pre cluster cases in groups according using the genotypes and the arbitrary</p>
thresholds gamma (spatial) and delta (temporal).</a></li>
<li><a href='#print.outbreaker_chains'><p>Basic methods for processing outbreaker results</p></a></li>
<li><a href='#toy_outbreak_long'><p>Simulated outbreaks</p></a></li>
<li><a href='#toy_outbreak_short'><p>Simulated outbreaks</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Reconstruction of Transmission Chains from Surveillance Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/alxsrobert/o2geosocial">https://github.com/alxsrobert/o2geosocial</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexis Robert &lt;alexis.robert@lshtm.ac.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Bayesian reconstruction of who infected whom during past outbreaks using routinely-collected surveillance data. Inference of transmission trees using genotype, age specific social contacts, distance between cases and onset dates of the reported cases. (Robert A, Kucharski AJ, Gastanaduy PA, Paul P, Funk S. (2020) &lt;<a href="https://doi.org/10.1098%2Frsif.2020.0084">doi:10.1098/rsif.2020.0084</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, methods, stats, grDevices, geosphere, ggplot2,
visNetwork, data.table, outbreaker2</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.5.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, tigris, sf, knitr, socialmixr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/alxsrobert/o2geosocial/issues">https://github.com/alxsrobert/o2geosocial/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-21 17:01:37 UTC; eidearob</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexis Robert <a href="https://orcid.org/0000-0002-4516-2965"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Sebastian Funk <a href="https://orcid.org/0000-0002-2842-3406"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Adam J Kucharski <a href="https://orcid.org/0000-0001-8814-9421"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Thibaut Jombart [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-21 21:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_config'>Set and check parameter settings</h2><span id='topic+create_config'></span>

<h3>Description</h3>

<p>This function defines settings.  It takes a list of named
items as input, performs various checks, set defaults where arguments are
missing, and return a correct list of settings. If no input is given, it
returns the default settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_config(..., data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_config_+3A_...">...</code></td>
<td>
<p>a list of config items to be processed (see description)</p>
</td></tr>
<tr><td><code id="create_config_+3A_data">data</code></td>
<td>
<p>an optional list of data items as returned by
<code>outbreaker_data</code>; if provided, this allows for further checks of
the outbreaker settings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Acceptable arguments for ... are:
</p>

<dl>
<dt>init_tree</dt><dd><p>the tree used to initialize the MCMC. It can be a vector of
integers corresponding to the tree itself, where the i-th value corresponds
to the index of case <code>i</code>. Otherwise, it should be defined as the character 
string &quot;star&quot; and the function <code>create_config()</code> will generate the initial 
tree.</p>
</dd>
<dt>spatial_method</dt><dd><p>a character string indicating the method used to
evaluate the spatial likelihood. Can be either &quot;exponential&quot; or &quot;power-law&quot;.</p>
</dd>
<dt>gamma</dt><dd><p>a double indicating the spatial threshold for pre clustering; 
defaults to NULL.</p>
</dd>
<dt>delta</dt><dd><p>a double indicating the temporal threshold for pre clustering;  
defaults to NULL.</p>
</dd>
<dt>init_kappa</dt><dd><p>a vector of integers indicating the initial values of kappa; 
defaults to 1.</p>
</dd>
<dt>init_a</dt><dd><p>initial value of the first spatial parameter (population).</p>
</dd>
<dt>init_b</dt><dd><p>initial value of the second spatial parameter (distance).</p>
</dd>
<dt>init_alpha</dt><dd><p>a vector of integers indicating the initial values of
alpha, where the i-th value indicates the ancestor of case 'i'; defaults to
<code>NULL</code>, in which ancestries are defined from <code>init_tree</code>.</p>
</dd>
<dt>init_t_inf</dt><dd><p>a vector of integers indicating the initial values of
<code>t_inf</code>, i.e. dates of infection; defaults to <code>NULL</code>, in which case
the most likely <code>t_inf</code> will be determined from the delay to
reporting/symptoms distribution, and the dates of reporting/symptoms,
provided in <code>data</code>.</p>
</dd>
<dt>init_pi</dt><dd><p>initial value for the reporting probability.</p>
</dd>
<dt>n_iter</dt><dd><p>an integer indicating the number of iterations in the MCMC,
including the burnin period.</p>
</dd>
<dt>move_alpha</dt><dd><p>a vector of logicals indicating, for each case, if the
ancestry should be estimated ('moved' in the MCMC), or not, defaulting to
TRUE; the vector is recycled if needed.</p>
</dd>
<dt>move_t_inf</dt><dd><p>a vector of logicals indicating, for each case, if the
dates of infection should be estimated ('moved' in the MCMC), or not,
defaulting to TRUE; the vector is recycled if needed.</p>
</dd>
<dt>move_pi</dt><dd><p>a logical indicating whether the reporting probability
should be estimated ('moved' in the MCMC), or not, all defaulting to TRUE.</p>
</dd>
<dt>move_kappa</dt><dd><p>a logical indicating whether the number of generations
between two successive cases should be estimated ('moved' in the MCMC), or
not, all defaulting to TRUE.</p>
</dd>
<dt>move_a</dt><dd><p>a logical indicating whether the first spatial parameter
should be estimated ('moved' in the MCMC), or not, all defaulting to TRUE.</p>
</dd>
<dt>move_b</dt><dd><p>a logical indicating whether the second spatial parameter
should be estimated ('moved' in the MCMC), or not, all defaulting to TRUE.</p>
</dd>
<dt>move_swap_cases</dt><dd><p>a logical indicating whether the movement to swap cases
should be used, or not, all defaulting to TRUE.</p>
</dd>
<dt>sample_every</dt><dd><p>the frequency at which MCMC samples are retained for the
output.</p>
</dd>
<dt>sd_pi</dt><dd><p>the standard deviation for the Normal proposal for the reporting
probability.</p>
</dd>
<dt>sd_a</dt><dd><p>the standard deviation for the Normal proposal for the first spatial 
parameter.</p>
</dd>
<dt>sd_b</dt><dd><p>the standard deviation for the Normal proposal for the second spatial 
parameter.</p>
</dd>
<dt>find_import</dt><dd><p>a logical indicating whether the import status of cases should
be estimated.</p>
</dd>
<dt>outlier_threshold</dt><dd><p>a numeric value indicating the probability that should be
used to compute the threshold when estimating the import status.</p>
</dd>
<dt>outlier_relative</dt><dd><p>a logical indicating whether the threshold is an absolute 
or relative value, default to FALSE (absolute value).</p>
</dd>
<dt>outlier_plot</dt><dd><p>a logical indicating whether to plot the comparison between the 
likelihoods of connection in the short run and the threshold.</p>
</dd>
<dt>n_iter_import</dt><dd><p>Number of iterations of the first short run.</p>
</dd>
<dt>sample_every_import</dt><dd><p>the frequency at which MCMC samples are retained for the
output during the first run.</p>
</dd>
<dt>burnin</dt><dd><p>The number of iterations that should be removed when estimating import.</p>
</dd>
<dt>max_kappa</dt><dd><p>an integer indicating the largest number of generations
between any two linked cases; defaults to 5.</p>
</dd>
<dt>prior_pi</dt><dd><p>a numeric vector of length 2 indicating the first and second
parameter of the beta prior for the reporting probability 'pi'.</p>
</dd>
<dt>prior_a</dt><dd><p>a numeric vector of length 2 indicating the first and second
parameter of the uniform prior for the first spatial parameter 'a'.</p>
</dd>
<dt>prior_b</dt><dd><p>a numeric vector of length 2 indicating the first and second
parameter of the uniform prior for the second spatial parameter 'b'.</p>
</dd>
<dt>verbatim</dt><dd><p>Logical, should the number of iteration be printed.</p>
</dd>
</dl>



<h3>Value</h3>

<p>A named list containing the value of each elements listed in the 'Details' section. This list describes the settings of the <code>outbreaker()</code> function. The class of this list is set to <code>outbreaker_config</code>.
</p>


<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+outbreaker_data">outbreaker_data</a></code> to check and process data for outbreaker
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## see default settings
create_config()

## change defaults
create_config(move_alpha = FALSE, n_iter = 2e5, sample_every = 1000)



</code></pre>

<hr>
<h2 id='create_param'>Initializes outputs for outbreaker</h2><span id='topic+create_param'></span><span id='topic+outbreaker_store'></span><span id='topic+outbreaker_param'></span>

<h3>Description</h3>

<p>This function creates initial outputs and parameter states for outbreaker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_param(data = outbreaker_data(), config = create_config())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_param_+3A_data">data</code></td>
<td>
<p>A list of data items as returned by <code>outbreaker_data</code>, or
arguments passed to this function.</p>
</td></tr>
<tr><td><code id="create_param_+3A_config">config</code></td>
<td>
<p>A list of settings as returned by <code>create_config</code>, or
arguments passed to this function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list containing two components <code>$store</code> and
<code>$current</code>. <code>store</code> is a list with the class
<code>outbreaker_store</code>, used for storing 'saved' states of the
MCMC. <code>current</code> is a list with the class <code>outbreaker_param</code>, used
for storing 'current' states of the MCMC. <br /> <br />
</p>
<p><code>outbreaker_store</code> class content:
</p>

<ul>
<li> <p><code>size</code>:The length of the list, corresponding to the number of
samples saved from the MCMC.
</p>
</li>
<li> <p><code>step</code>: A vector of integers of length <code>size</code>, storing the
steps of the MCMC corresponding to the saved samples.
</p>
</li>
<li> <p><code>post</code>: A numeric vector of length <code>size</code>, storing
log-posterior values.
</p>
</li>
<li> <p><code>like</code>: A numeric vector of length <code>size</code>, storing
log-likelihood values.
</p>
</li>
<li> <p><code>prior</code>: A numeric vector of length <code>size</code>,
storing log-prior values.
</p>
</li>
<li> <p><code>alpha</code>: A list of length <code>size</code>. Each item of the list is
an integer vector of length <code>data$N</code>, storing indices (from 1 to N) of
infectors for each case.
</p>
</li>
<li> <p><code>t_inf</code>: A list of length <code>size</code>. Each item of the list is
an integer vector of length <code>data$N</code>, storing dates of infections for
each case.
</p>
</li>
<li> <p><code>kappa</code>: A list of length <code>size</code>. Each item of the list is
an integer vector of length <code>data$N</code>, storing the number of generations
before the last sampled ancestor for each case.
</p>
</li>
<li> <p><code>pi</code>: A numeric vector of length <code>size</code>, storing values of
the reporting probability.
</p>
</li>
<li> <p><code>a</code>: A numeric vector of length <code>size</code>, storing values of
the first spatial parameter (population).
</p>
</li>
<li> <p><code>b</code>: A numeric vector of length <code>size</code>, storing values of
the second spatial parameter (distance).
</p>
</li>
<li> <p><code>counter</code>: A counter used to keep track of the current iteration
of the MCMC (used internally).
</p>
</li></ul>

<p><code>outbreaker_param</code> class content:
</p>

<ul>
<li> <p><code>alpha</code>: An integer vector of length <code>data$N</code>, storing
indices (from 1 to N) of infectors for each case.
</p>
</li>
<li> <p><code>t_inf</code>: An integer vector of length <code>data$N</code>, storing dates
of infections for each case.
</p>
</li>
<li> <p><code>kappa</code>: An integer vector of length <code>data$N</code>, storing the
number of generations before the last sampled ancestor for each case.
</p>
</li>
<li> <p><code>pi</code>: The value of the reporting probability.
</p>
</li>
<li> <p><code>a</code>: The value of the first spatial parameter (population).
</p>
</li>
<li> <p><code>b</code>: The value of the second spatial parameter (distance).
</p>
</li>
<li> <p><code>log_s_dens</code>:The spatial likelihood matrix, calculated at each step
from a and b if move_a == TRUE or move_b == TRUE.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## load data
data("toy_outbreak_short")
dt_cases &lt;- toy_outbreak_short$cases
dt_cases &lt;- dt_cases[order(dt_cases$Date), ]
dt_regions &lt;- toy_outbreak_short$dt_regions
all_dist &lt;- geosphere::distGeo(matrix(c(rep(dt_regions$long, nrow(dt_regions)), 
                                        rep(dt_regions$lat, nrow(dt_regions))), 
                                      ncol = 2), 
                               matrix(c(rep(dt_regions$long, each = nrow(dt_regions)), 
                                        rep(dt_regions$lat, each = nrow(dt_regions))),
                                      ncol = 2))

dist_mat &lt;- matrix(all_dist/1000, nrow = nrow(dt_regions))
pop_vect &lt;- dt_regions$population
names(pop_vect) &lt;- rownames(dist_mat) &lt;- colnames(dist_mat) &lt;- dt_regions$region

data &lt;- outbreaker_data(dates = dt_cases$Date, age_group = dt_cases$age_group,
                        region = dt_cases$Cens_tract, population = pop_vect, 
                        distance = dist_mat)

## modify config settings
config &lt;- create_config(move_alpha = FALSE, n_iter = 2e5, sample_every = 1000)

## create param object
param &lt;- create_param(data = data, config = config)

</code></pre>

<hr>
<h2 id='custom_likelihoods'>Customise likelihood functions for o2geosocial</h2><span id='topic+custom_likelihoods'></span><span id='topic+print.custom_likelihoods'></span>

<h3>Description</h3>

<p>This function is used to specify customised likelihood functions for
o2geosocial Custom functions are specified as a named list or series of
comma-separated, named arguments, indicating which log-likelihood component
they compute. Values currently available are:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>custom_likelihoods(...)

## S3 method for class 'custom_likelihoods'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="custom_likelihoods_+3A_...">...</code></td>
<td>
<p>a named list of functions, each computing a log-likelihood component.</p>
</td></tr>
<tr><td><code id="custom_likelihoods_+3A_x">x</code></td>
<td>
<p>an <code>outbreaker_config</code> object as returned by <code>create_config</code>.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>timing_sampling</code>: the likelihood of sampling times; by default, the function
<code>cpp_ll_timing_sampling</code> is used.
</p>
</li>
<li> <p><code>timing_infections</code>: the likelihood of infection times; by default, the function
<code>cpp_ll_timing_infections</code> is used.
</p>
</li>
<li> <p><code>reporting</code>: the likelihood of the reporting process; by default,
the function <code>cpp_ll_reporting</code> is used.
</p>
</li>
<li> <p><code>space</code>: the likelihood of spatial distances; by default,
the function <code>cpp_ll_space</code> is used.
</p>
</li>
<li> <p><code>age</code>: the likelihood of the age contacts; by default,
the function <code>cpp_ll_age</code> is used.
</p>
</li></ul>

<p>All log-likelihood functions should have the following arguments, in this
order:
</p>

<ul>
<li> <p><code>data</code>: a list of named items containing input data as returned by
<code><a href="#topic+outbreaker_data">outbreaker_data</a></code>
</p>
</li>
<li> <p><code>param</code>: a list of parameters with the class
<code><a href="#topic+create_param">create_param</a></code>
</p>
</li></ul>



<h3>Value</h3>

<p>A named list of functions with the class <code>custom_likelihood</code>, each
implementing a customised log-likelihood components of
outbreaker. Functions which are not customised will result in a NULL
component.
</p>


<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## specify a null model by disabling all likelihood components
f_null &lt;- function(data, config = NULL, param, i) {
  return(0.0)
}


null_model &lt;- custom_likelihoods(timing_sampling = f_null,
                                 timing_infections = f_null,
                                 reporting = f_null,
                                 space = f_null,
                                 age = f_null)

null_config &lt;- list(find_import = FALSE,
                    n_iter = 200, gamma = 100, delta = 30,
                    sample_every = 1)

## load data
data("toy_outbreak_short")
dt_cases &lt;- toy_outbreak_short$cases
dt_cases &lt;- dt_cases[order(dt_cases$Date), ][1:15,]
dt_regions &lt;- toy_outbreak_short$dt_regions
all_dist &lt;- geosphere::distGeo(matrix(c(rep(dt_regions$long, nrow(dt_regions)), 
                                        rep(dt_regions$lat, nrow(dt_regions))), 
                                      ncol = 2), 
                               matrix(c(rep(dt_regions$long, each = nrow(dt_regions)), 
                                        rep(dt_regions$lat, each = nrow(dt_regions))),
                                      ncol = 2))

dist_mat &lt;- matrix(all_dist/1000, nrow = nrow(dt_regions))
pop_vect &lt;- dt_regions$population
names(pop_vect) &lt;- rownames(dist_mat) &lt;- colnames(dist_mat) &lt;- dt_regions$region

data &lt;- outbreaker_data(dates = dt_cases$Date, age_group = dt_cases$age_group,
                        region = dt_cases$Cens_tract, population = pop_vect, 
                        distance = dist_mat)

res_null &lt;- outbreaker(data = data,
                       config = null_config,
                       likelihoods = null_model)

</code></pre>

<hr>
<h2 id='custom_moves'>Customise samplers for outbreaker</h2><span id='topic+custom_moves'></span>

<h3>Description</h3>

<p>This function is used to specify customised movement functions
(a.k.a. samplers) for outbreaker. Custom functions are specified as a named
list or series of comma-separated, named arguments, indicating which type of
movement they implement. Values currently available are:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>custom_moves(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="custom_moves_+3A_...">...</code></td>
<td>
<p>A list or a series of named, comma-separated functions
implementing movements of parameters or augmented data.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>pi</code>: movement of the reporting probability; by default, the function
<code>cpp_move_pi</code> is used.
</p>
</li>
<li> <p><code>a</code>: movement of the first spatial parameter; by default, the function
<code>cpp_move_a</code> is used.
</p>
</li>
<li> <p><code>b</code>: movement of the second  spatial parameter; by default, the function
<code>cpp_move_b</code> is used.
</p>
</li>
<li> <p><code>alpha</code>: movement of the transmission tree, by randomly proposing
infectors in the pool of cases infected before; by default, the function
<code>cpp_move_alpha</code> is used.
</p>
</li>
<li> <p><code>swap_cases</code>: movement of the transmission tree, by swapping
infectors and infected cases; by default, the function
<code>cpp_move_swap_cases</code> is used.
</p>
</li>
<li> <p><code>ancestors</code>: movement of the transmission tree, by changing
the ancestors of the different trees in a cluster; by default, the function
<code>cpp_move_ancestors</code> is used.
</p>
</li>
<li> <p><code>t_inf</code>: movement of the date of infection; by default, the
function <code>cpp_move_t_inf</code> is used.
</p>
</li>
<li> <p><code>kappa</code>: movement of the number generations between cases; by
default, the function <code>cpp_move_kappa</code> is used.
</p>
</li></ul>

<p>Movement functions must have an argument <code>param</code>, which is a list of
parameters and augmented data of the class <code><a href="#topic+create_param">create_param</a></code>.
Each movement function will be enclosed with its other arguments, so that the
resulting function will have a single argument 'param'. For non-standard
movements (i.e. none of the names specified above), the closure will contain:
</p>

<ul>
<li> <p><code>data</code>: a list of named items containing input data as returned by
<code><a href="#topic+outbreaker_data">outbreaker_data</a></code>
</p>
</li>
<li> <p><code>config</code>:  a list of named items containing input data as returned by
<code><a href="#topic+create_config">create_config</a></code>
</p>
</li>
<li> <p><code>likelihoods</code>: a list of named custom likelihood functions as returned by
<code><a href="#topic+custom_likelihoods">custom_likelihoods</a></code>
</p>
</li>
<li> <p><code>priors</code>: a list of named custom prior functions as returned by
<code><a href="#topic+custom_priors">custom_priors</a></code>
</p>
</li></ul>



<h3>Value</h3>

<p>A named list of movement functions with a single argument 'param', with
class <code>outbreaker_moves</code>.
</p>


<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>

<hr>
<h2 id='custom_priors'>Customise priors for outbreaker</h2><span id='topic+custom_priors'></span><span id='topic+print.custom_priors'></span>

<h3>Description</h3>

<p>Priors can be specified in several ways in o2geosocial (see details and
examples). The most flexible way to specify a prior is to provide a prior
function directly. This function must take an argument 'param', which is a
list which contains all the states of the parameters and augmented data. See
the documentation of <a href="#topic+create_param">create_param</a> for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>custom_priors(...)

## S3 method for class 'custom_priors'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="custom_priors_+3A_...">...</code></td>
<td>
<p>A list or a series of named, comma-separated functions
implementing priors. Each function must have a single argument, which
corresponds to a 'outbreaker_param' list.</p>
</td></tr>
<tr><td><code id="custom_priors_+3A_x">x</code></td>
<td>
<p>an <code>outbreaker_config</code> object as returned by <code>create_config</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are three ways a user can specify priors:<br />
</p>
<p>1) Default: this is what happens when the 'config' has default values of
prior parameters.<br />
2) Customized parameters: in this case, the prior functions are the default
ones from the package, but will use custom parameters, specified by the user
through <code><a href="#topic+create_config">create_config</a></code>.<br />
</p>
<p>3) Customized functions: in this case, prior functions themselves are
specified by the user, through the '...' argument of 'custom_priors'. The
requirements is that such functions must have either hard-coded parameters or
enclosed values. They will take a single argument which is a list containing
all model parameters with the class 'outbreaker_param'. ALL PRIORS functions
are expected to return values on a LOG SCALE.<br />
</p>
<p>Priors currently used for the model are:
</p>

<ul>
<li> <p><code>pi</code> (reporting probability): default function is a beta
distribution implemented in <code>cpp_prior_pi</code>. New prior
functions should use <code>x$pi</code> to refer to the current value of <code>pi</code>,
assuming their argument is called <code>x</code>.
</p>
</li>
<li> <p><code>a</code> (first spatial parameter (population)): default function is 
a uniform distribution implemented in <code>cpp_prior_a</code>. 
New prior functions should use <code>x$a</code> to refer to the current value of <code>a</code>,
assuming their argument is called <code>x</code>.
</p>
</li>
<li> <p><code>b</code> (second spatial parameter (distance)): default function is 
a uniform distribution implemented in <code>cpp_prior_b</code>.
New prior functions should use <code>x$b</code> to refer to the current value of <code>b</code>,
assuming their argument is called <code>x</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>A named list of custom functions with class <code>custom_priors</code>. Values
set to <code>NULL</code> will be ignored and default functions will be used
instead.
</p>


<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## SPECIFYING PRIOR PARAMETERS
## Default values: pi follows a beta distribution (parameters 10, 1), 
## a and b follow a uniform distribution (parameters 0, 5)
default_config &lt;- create_config()
## Use the variables prior_a, prior_b and prior_pi to change the parameters
## of the prior distributions can be 
new_config &lt;- create_config(prior_a = c(0,5), prior_b = c(0,5),
                        prior_pi = c(2, 1))


## SPECIFYING A NEW PRIOR FUNCTION
## Example: flat prior for pi between 0.5 and 1
f &lt;- function(x) {ifelse(x$pi &gt; 0.5, log(2), log(0))}
priors &lt;- custom_priors(pi = f)
## test the new prior distribution
priors$pi(list(pi=1))
priors$pi(list(pi=.6))
priors$pi(list(pi=.2))
priors$pi(list(pi=.49))

</code></pre>

<hr>
<h2 id='outbreaker'>outbreaker: main function for reconstructing disease outbreaks</h2><span id='topic+outbreaker'></span>

<h3>Description</h3>

<p>The function <code>outbreaker</code> is the main function of the package. It runs
processes various inputs (data, configuration settings, custom priors,
likelihoods and movement functions) and explores the space of plausible
transmission trees of a densely sampled outbreaks.<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outbreaker(
  data = outbreaker_data(),
  config = create_config(),
  priors = custom_priors(),
  likelihoods = custom_likelihoods(),
  moves = custom_moves()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="outbreaker_+3A_data">data</code></td>
<td>
<p>a list of named items containing input data as returned by
<code><a href="#topic+outbreaker_data">outbreaker_data</a></code></p>
</td></tr>
<tr><td><code id="outbreaker_+3A_config">config</code></td>
<td>
<p>a set of settings as returned by <code><a href="#topic+create_config">create_config</a></code></p>
</td></tr>
<tr><td><code id="outbreaker_+3A_priors">priors</code></td>
<td>
<p>a set of log-prior functions as returned by
<code><a href="#topic+custom_priors">custom_priors</a></code></p>
</td></tr>
<tr><td><code id="outbreaker_+3A_likelihoods">likelihoods</code></td>
<td>
<p>a set of log-likelihood functions as returned by
<code><a href="#topic+custom_likelihoods">custom_likelihoods</a></code></p>
</td></tr>
<tr><td><code id="outbreaker_+3A_moves">moves</code></td>
<td>
<p>a set of movement functions as returned by
<code><a href="#topic+custom_moves">custom_moves</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of <code>n_iter / sample_every</code> rows (as defined in the function<code>create_config()</code>). For each row, the data frame contains:
</p>

<ul>
<li> <p><code>post</code>: The posterior value of the transmission tree at this iteration.
</p>
</li>
<li> <p><code>like</code>: The likelihood value of the transmission tree at this iteration.
</p>
</li>
<li> <p><code>post</code>: The posterior value of the transmission tree at this iteration.
</p>
</li>
<li> <p><code>a</code>: The estimate of the spatial parameter <code>a</code> at this iteration,
</p>
</li>
<li> <p><code>a</code>: The estimate of the spatial parameter <code>b</code> at this iteration,
</p>
</li>
<li> <p><code>pi</code>: The estimate of the conditional report ratio <code>pi</code> at this iteration,
</p>
</li>
<li> <p><code>alpha_1 to alpha_N</code>: The infector of each case at this iteration.
</p>
</li>
<li> <p><code>t_inf_1 to t_inf_N</code>: The infection date of each case at this iteration.
</p>
</li>
<li> <p><code>kappa_1 to kappa_N</code>: The number of generation between each case and their infector at this iteration.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+outbreaker_data">outbreaker_data</a></code> to process input data, and
<code><a href="#topic+create_config">create_config</a></code> to process/set up parameters
</p>

<ul>
<li> <p><code><a href="#topic+outbreaker_data">outbreaker_data</a></code>: function to process input data
</p>
</li>
<li> <p><code><a href="#topic+create_config">create_config</a></code>: function to create default and customise
configuration settings
</p>
</li>
<li> <p><code><a href="#topic+custom_priors">custom_priors</a></code>: function to specify customised prior
functions
</p>
</li>
<li> <p><code><a href="#topic+custom_likelihoods">custom_likelihoods</a></code>: function to specify customised likelihoods
functions
</p>
</li>
<li> <p><code><a href="#topic+custom_moves">custom_moves</a></code>: function to create default and customise movement
functions
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
## get data
data(toy_outbreak_short)

## run outbreaker
dt_cases &lt;- toy_outbreak_short$cases
dt_cases &lt;- dt_cases[order(dt_cases$Date), ]
dt_regions &lt;- toy_outbreak_short$dt_regions
all_dist &lt;- geosphere::distGeo(matrix(c(rep(dt_regions$long, nrow(dt_regions)), 
                                        rep(dt_regions$lat, nrow(dt_regions))), 
                                      ncol = 2), 
                               matrix(c(rep(dt_regions$long, each = nrow(dt_regions)), 
                                        rep(dt_regions$lat, each = nrow(dt_regions))),
                                      ncol = 2))

dist_mat &lt;- matrix(all_dist/1000, nrow = nrow(dt_regions))
pop_vect &lt;- dt_regions$population
names(pop_vect) &lt;- rownames(dist_mat) &lt;- colnames(dist_mat) &lt;- dt_regions$region

data &lt;- outbreaker_data(dates = dt_cases$Date, age_group = dt_cases$age_group,
                        region = dt_cases$Cens_tract, population = pop_vect, 
                        distance = dist_mat, a_dens = toy_outbreak_short$age_contact,
                        f_dens = dgamma(x = 1:300, scale = 0.43, shape = 27),
                        w_dens = dnorm(x = 1:300, mean = 11.7, sd = 2.0))
out &lt;- outbreaker(data = data, config = list(n_iter = 200, sample_every = 5,
                                             n_iter_import = 100, sample_every_import = 5,
                                             gamma = 100, delta = 30, burnin = 20))
plot(out)


</code></pre>

<hr>
<h2 id='outbreaker_data'>Process input data for outbreaker</h2><span id='topic+outbreaker_data'></span>

<h3>Description</h3>

<p>This function performs various checks on input data given to outbreaker.  It
takes a list of named items as input, performs various checks, set defaults
where arguments are missing, and return a correct list of data input. If no
input is given, it returns the default settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outbreaker_data(..., data = list(...))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="outbreaker_data_+3A_...">...</code></td>
<td>
<p>a list of data items to be processed (see description)</p>
</td></tr>
<tr><td><code id="outbreaker_data_+3A_data">data</code></td>
<td>
<p>optionally, an existing list of data item as returned by <code>outbreaker_data</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Acceptable arguments for ... are:
</p>

<dl>
<dt>dates</dt><dd><p>a vector indicating the collection dates, provided either as
integer numbers or in a usual date format such as <code>Date</code> or
<code>POSIXct</code> format. By convention, zero will indicate the oldest date. 
Cases must be ordering by ascending onset date.</p>
</dd>
<dt>age_group</dt><dd><p>a vector indicating the age group of the cases, provided as
integer numbers. The value of age group corresponds to the position of this age
group in a_dens.</p>
</dd>
<dt>region</dt><dd><p>a vector indicating the region of the cases, provided as
integer numbers or characters. If numeric, the value of the region corresponds 
to the position of the region in the distance matrix and the population vector.
Otherwise, the value corresponds to the region and will be matched to the distance
matrix and the population vector.</p>
</dd>
<dt>w_dens</dt><dd><p>a vector of numeric values indicating the generation time
distribution, reflecting the infectious potential of a case t = 1, 2, ...
time steps after infection. By convention, it is assumed that
newly infected patients cannot see new infections on the same time step. If not
standardized, this distribution is rescaled to sum to 1.</p>
</dd>
<dt>f_dens</dt><dd><p>similar to <code>w_dens</code>, except that this is the distribution
of the incubation period, i_e. time interval between the reported onset date
and the infection date.</p>
</dd>
<dt>a_dens</dt><dd><p>a matrix of numeric values indicating the contact between age 
groups, reflecting on the infectious potential of a case for a given age group.</p>
</dd>
<dt>genotype</dt><dd><p>a character vector showing the genotype in each case.</p>
</dd>
<dt>is_cluster</dt><dd><p>an integer vector indicating which group of cases each case
belongs to.</p>
</dd>
<dt>s_dens</dt><dd><p>a matrix of numeric values indicating the initial value of 
the connectivity between region. Only needed if a and b are fixed in the model, 
otherwise NULL.</p>
</dd>
<dt>population</dt><dd><p>a double vector indicating the population in every region 
considered in the study.</p>
</dd>
<dt>distance</dt><dd><p>a double matrix indicating the distance between each region.</p>
</dd>
<dt>import</dt><dd><p>a logical vector indicating whether each case is an import (TRUE)
or not (FALSE).</p>
</dd>
</dl>



<h3>Value</h3>

<p>A named list containing the value of each elements listed in the 'Details' section. This list describes the data that will be used by the function <code>outbreaker()</code>.
</p>


<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("toy_outbreak_short")
dt_cases &lt;- toy_outbreak_short$cases
dt_cases &lt;- dt_cases[order(dt_cases$Date), ]
dt_regions &lt;- toy_outbreak_short$dt_regions
all_dist &lt;- geosphere::distGeo(matrix(c(rep(dt_regions$long, nrow(dt_regions)), 
                                        rep(dt_regions$lat, nrow(dt_regions))), 
                                      ncol = 2), 
                               matrix(c(rep(dt_regions$long, each = nrow(dt_regions)), 
                                        rep(dt_regions$lat, each = nrow(dt_regions))),
                                      ncol = 2))

dist_mat &lt;- matrix(all_dist/1000, nrow = nrow(dt_regions))
pop_vect &lt;- dt_regions$population
names(pop_vect) &lt;- rownames(dist_mat) &lt;- colnames(dist_mat) &lt;- dt_regions$region
data &lt;- outbreaker_data(dates = dt_cases$Date, age_group = dt_cases$age_group,
                        region = dt_cases$Cens_tract, population = pop_vect, 
                        distance = dist_mat)

</code></pre>

<hr>
<h2 id='pre_clustering'>Pre cluster cases in groups according using the genotypes and the arbitrary
thresholds gamma (spatial) and delta (temporal).</h2><span id='topic+pre_clustering'></span>

<h3>Description</h3>

<p>This function updates the clusters and the  initial tree in the lists data 
and config
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pre_clustering(data, config)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pre_clustering_+3A_data">data</code></td>
<td>
<p>A list of data items as returned by <code>outbreaker_data</code>, or
arguments passed to this function.</p>
</td></tr>
<tr><td><code id="pre_clustering_+3A_config">config</code></td>
<td>
<p>A list of settings as returned by <code>create_config</code>, or
arguments passed to this function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list containing two components <code>$data</code> and
<code>$config</code>. <code>data</code> data items as returned by <code>outbreaker_data</code>.
<code>config</code> is a list of settings as returned by <code>create_config</code>. <br /> <br />
</p>


<h3>Author(s)</h3>

<p>Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>

<hr>
<h2 id='print.outbreaker_chains'>Basic methods for processing outbreaker results</h2><span id='topic+print.outbreaker_chains'></span><span id='topic+outbreaker_chains'></span><span id='topic+plot.outbreaker_chains'></span><span id='topic+summary.outbreaker_chains'></span>

<h3>Description</h3>

<p>Several methods are defined for instances of the class
<code>outbreaker_chains</code>, returned by <code><a href="#topic+outbreaker">outbreaker</a></code>, including:
<code>print</code>, <code>plot</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'outbreaker_chains'
print(x, n_row = 3, n_col = 8, type = "chain", ...)

## S3 method for class 'outbreaker_chains'
plot(
  x,
  y = "post",
  type = c("trace", "hist", "density", "cluster", "alpha", "t_inf", "kappa", "network"),
  burnin = 0,
  min_support = 0.1,
  labels = NULL,
  group_cluster = NULL,
  ...
)

## S3 method for class 'outbreaker_chains'
summary(object, burnin = 0, group_cluster = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.outbreaker_chains_+3A_x">x</code></td>
<td>
<p>an <code>outbreaker_chains</code> object as returned by <code>outbreaker</code>.</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_n_row">n_row</code></td>
<td>
<p>the number of rows to display in head and tail; defaults to 3.</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_n_col">n_col</code></td>
<td>
<p>the number of columns to display; defaults to 8.</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_type">type</code></td>
<td>
<p>a character string indicating the kind of plot to be used (see details)</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to other methods</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_y">y</code></td>
<td>
<p>a character string indicating which element of an
<code>outbreaker_chains</code> object to plot</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_burnin">burnin</code></td>
<td>
<p>the number of iterations to be discarded as burnin</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_min_support">min_support</code></td>
<td>
<p>a number between 0 and 1 indicating the minimum support of
ancestries to be plotted; only used if 'type' is 'network'</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_labels">labels</code></td>
<td>
<p>a vector of length N indicating the case labels (must be
provided in the same order used for dates of symptom onset)</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_group_cluster">group_cluster</code></td>
<td>
<p>a numeric <code>vector</code> indicating the breaks to 
aggregate the cluster size distribution.</p>
</td></tr>
<tr><td><code id="print.outbreaker_chains_+3A_object">object</code></td>
<td>
<p>an <code>outbreaker_chains</code> object as returned by <code>outbreaker</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>type</code> indicates the type of graphic to plot:
</p>

<ul>
<li> <p><code>trace</code> to visualise MCMC traces for parameters or augmented data (plots the
log-likelihood by default)
</p>
</li>
<li> <p><code>hist</code> to plot histograms of quantitative values
</p>
</li>
<li> <p><code>density</code> to plot kernel density estimations of quantitative values
</p>
</li>
<li> <p><code>alpha</code> to visualise the posterior frequency of ancestries
</p>
</li>
<li> <p><code>network</code> to visualise the transmission tree; note that
this opens up an interactive plot and requires a web browser with
Javascript enabled; the argument 'min_support' is useful to select only the
most supported ancestries and avoid displaying too many links
</p>
</li>
<li> <p><code>kappa</code> to visualise the distributions generations between cases and their
ancestor/infector
</p>
</li>
<li> <p><code>cluster</code> to visualise the cluster size distribution, grouped by
the value in group_cluster
</p>
</li></ul>



<h3>Value</h3>

<p>The form of the value returned by <code>plot</code> depends on the <code>type</code>. 
If the type is set as <code>network</code>, plot returns a visNetwork object 
containing  the details of the inferred transmission trees. Otherwise, it 
returns a ggplot object containing the elements of the plot.
</p>
<p>The function <code>summary</code> returns a list containing 9 elements:
</p>

<ul>
<li><p><code>step</code>: contains the first and last values of the iteration 
number; the interval between each iteration retained for the output 
(defined by the parameter <code>sample_every</code> in <code>create_config</code>),
and the number of iterations in the output,
</p>
</li>
<li><p><code>post</code>: contains the minimum, maximum, mean, median and 
quartiles of the posterior distribution.
</p>
</li>
<li><p><code>like</code>: contains the minimum, maximum, mean, median and 
quartiles of the likelihood distribution.
</p>
</li>
<li><p><code>prior</code>: contains the minimum, maximum, mean, median and 
quartiles of the prior distribution.
</p>
</li>
<li><p><code>pi</code>: contains the minimum, maximum, mean, median and quartiles 
of the conditional report ratio.
</p>
</li>
<li><p><code>a</code>: contains the minimum, maximum, mean, median and quartiles 
of the spatial parameter <code>a</code>.
</p>
</li>
<li><p><code>b</code>: contains the minimum, maximum, mean, median and quartiles 
of the spatial parameter <code>b</code>.
</p>
</li>
<li><p><code>tree</code>: a <code>data.frame</code> that contains the most likely 
infector, the infection date, and the number of missing generations of each
case. It also contains the <code>support</code> of the most likely branch (i.e. 
the proportion of iterations where the infector of a case is its most 
likely infector), and <code>import</code>, the proportion of iteration where the 
case was classified as an importation.
</p>
</li>
<li><p><code>cluster</code>: a data frame listing the minimum, maximum, median,
mean and quartile of the cluster size distribution.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Initial version by Thibaut Jombart, rewritten by Alexis Robert (<a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>)
</p>

<hr>
<h2 id='toy_outbreak_long'>Simulated outbreaks</h2><span id='topic+toy_outbreak_long'></span>

<h3>Description</h3>

<p>We generated two datasets used to illustrate <code>o2geosocial</code>. 
The first one (toy_outbreak_long) contains 1,940 cases, from simulated outbreaks 
nationwide between 2010 and 2017. The list contains the following:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toy_outbreak_long
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 3.
</p>


<h3>Details</h3>


<ul>
<li> <p><code>$cases</code>: A data table summarising the epidemiological features of the
1,940 cases. It contains the ID, State, onset date,  genotype,  county, age group,
import status, cluster, generation and infector of the cases.
</p>
</li>
<li> <p><code>$dt_regions</code>: A data table containing the ID, population, longitude 
and latitude of each region. Should be used to compute the distance matrix, using 
the package geosphere.
</p>
</li>
<li> <p><code>$age_contact</code>: A matrix indicating the number of contacts between 
age groups
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Alexis Robert <a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("toy_outbreak_long")
names(toy_outbreak_long)
toy_outbreak_long

</code></pre>

<hr>
<h2 id='toy_outbreak_short'>Simulated outbreaks</h2><span id='topic+toy_outbreak_short'></span>

<h3>Description</h3>

<p>Second dataset used to illustrate <code>o2geosocial</code>. (toy_outbreak_short) is a 
smaller data set (75 cases), spread across different Census tracks in Ohio 
(population and location of each region taken from 
https://www.census.gov/geographies/reference-files/2010/geo/2010-centers-population.html).
The list contains the following:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toy_outbreak_short
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 3.
</p>


<h3>Details</h3>


<ul>
<li> <p><code>$cases</code>: A data table summarising the epidemiological features of the
75 cases. It contains the ID, state, onset date,  genotype, Census tract, age group,
import status, cluster, generation and infector of the cases.
</p>
</li>
<li> <p><code>$dt_regions</code>: A data table containing the ID, population, longitude 
and latitude of each region. Should be used to compute the distance matrix, using 
the package geosphere.
</p>
</li>
<li> <p><code>$age_contact</code>: A matrix indicating the number of contacts between 
age groups
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Alexis Robert <a href="mailto:alexis.robert@lshtm.ac.uk">alexis.robert@lshtm.ac.uk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("toy_outbreak_short")
names(toy_outbreak_short)
toy_outbreak_short

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

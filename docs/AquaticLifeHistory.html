<!DOCTYPE html><html><head><title>Help for package AquaticLifeHistory</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {AquaticLifeHistory}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AquaticLifeHistory'><p>Introduction to AquaticLifeHistory</p></a></li>
<li><a href='#boot_data'><p>boot_data</p></a></li>
<li><a href='#Calculate_MMI'><p>Calculate model averaged length-at-age estimates and parameters</p></a></li>
<li><a href='#Estimate_Age_Maturity'><p>Estimate age-at-maturity</p></a></li>
<li><a href='#Estimate_Growth'><p>Estimate length-at-age parameters and growth curves for Elasmobranchs</p></a></li>
<li><a href='#Estimate_Len_Maturity'><p>Estimate length-at-maturity</p></a></li>
<li><a href='#growth_data'><p>Length-at-age data for blacktip sharks</p></a></li>
<li><a href='#maturity_data'><p>Age and length-at-maturity data for silky sharks</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Life History Analysis Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-09</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jonathan Smart &lt;jonsmartphd@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimate aquatic species life history using robust techniques.
    This package supports users undertaking two types of analysis: 1) Growth from
    length-at-age data, and 2) maturity analyses for length and/or age data.
    Maturity analyses are performed using generalised linear model approaches incorporating
    either a binomial or quasibinomial distribution.
    Growth modelling is performed using the multimodel approach presented by
    Smart et al. (2016) "Multimodel approaches in shark and ray growth studies:
    strengths, weaknesses and the future" &lt;<a href="https://doi.org/10.1111%2Ffaf.12154">doi:10.1111/faf.12154</a>&gt;.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr, MASS, readr, broom, MuMIn, magrittr, rlist, minpack.lm,
dplyr, tidyr, ggplot2</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jonathansmart/AquaticLifeHistory">https://github.com/jonathansmart/AquaticLifeHistory</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jonathansmart/AquaticLifeHistory/issues">https://github.com/jonathansmart/AquaticLifeHistory/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-16 22:41:03 UTC; smartj</td>
</tr>
<tr>
<td>Author:</td>
<td>Jonathan Smart <a href="https://orcid.org/0000-0003-2070-3208"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-17 08:33:58 UTC</td>
</tr>
</table>
<hr>
<h2 id='AquaticLifeHistory'>Introduction to AquaticLifeHistory</h2><span id='topic+AquaticLifeHistory'></span>

<h3>Description</h3>

<p>Estimate aquatic species life history using robust techniques.
This package supports users undertaking two types of analysis: 1) Growth from
length-at-age data, and 2) maturity analyses for length and/or age data.
</p>
<p>Maturity analyses are performed using generalised linear model approaches incorporating
either a binomial or quasibinomial distribution.
</p>
<p>Growth modelling is performed using the multimodel approach presented by
Smart et al. (2016) &quot;Multimodel approaches in shark and ray growth studies:
strengths, weaknesses and the future&quot; &lt;doi:10.1111/faf.12154&gt;.
</p>


<h3>Author(s)</h3>

<p>Jonathan Smart
</p>


<h3>References</h3>

<p>To cite the AquaticLifeHistory package in publications, type citation('AquaticLifeHistory').
</p>

<hr>
<h2 id='boot_data'>boot_data</h2><span id='topic+boot_data'></span>

<h3>Description</h3>

<p>boot_data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot_data(.data, n = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boot_data_+3A_.data">.data</code></td>
<td>
<p>Length at Age data</p>
</td></tr>
<tr><td><code id="boot_data_+3A_n">n</code></td>
<td>
<p>number of bootstrap iterations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a grouped_df produced by the group_by function in dplyr
</p>

<hr>
<h2 id='Calculate_MMI'>Calculate model averaged length-at-age estimates and parameters</h2><span id='topic+Calculate_MMI'></span>

<h3>Description</h3>

<p>'Calculate_MMI' takes the outputs from an 'Estimate_Growth' function with plots = FALSE and returns the calculated model averaged parameters, SE and estimates based on AIC scores. It should be used if no candidate model has an AIC weight higher than 0.9. Use of this function should cite Smart et al (2016)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Calculate_MMI(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Calculate_MMI_+3A_data">data</code></td>
<td>
<p>An output from the Estimate_Growth function with plots = FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with model averaged parameters and a dataframe of model averaged length-at-age estimates
</p>


<h3>References</h3>

<p>Smart et al. (2016) Multi model approaches in shark and ray growth studies: strengths, weaknesses and the future. Fish and Fisheries. 17: 955-971<a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/faf.12154">https://onlinelibrary.wiley.com/doi/abs/10.1111/faf.12154</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load example data set
data("growth_data")
# Run function with three default model candidates and return results
# without plots. Use 100 bootstraps for testing and then increase to at
# least 1000 for actual model runs.
models &lt;- Estimate_Growth(growth_data, plots = FALSE,  n.bootstraps = 100)
# Calculate the model average of the resulting growth estimates
Calculate_MMI(models)
</code></pre>

<hr>
<h2 id='Estimate_Age_Maturity'>Estimate age-at-maturity</h2><span id='topic+Estimate_Age_Maturity'></span>

<h3>Description</h3>

<p>Age-at-maturity is estimated from binary maturity data using a logistic ogive.
Two options are available depending on error structure. If binary data are used then a binomial
error structure is required. If the user wishes to bin the data by age class then a quasi binomial error
structure is needed with the data weighted by the sample size of each bin. This is handled automatically by the function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Estimate_Age_Maturity(
  data,
  error.structure = "binomial",
  n.bootstraps = 1000,
  display.points = FALSE,
  return = "parameters"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Estimate_Age_Maturity_+3A_data">data</code></td>
<td>
<p>A dataframe that includes age and a binary maturity status (immature = 0 and mature = 1).
Columns should be named &quot;Age&quot; and &quot;Maturity&quot; but the function is robust enough to accept some reasonable variations to these</p>
</td></tr>
<tr><td><code id="Estimate_Age_Maturity_+3A_error.structure">error.structure</code></td>
<td>
<p>The distribution for the glm used to produce the logistic ogive. Must be either &quot;binomial&quot;
for binary data or &quot;quasi binomial&quot; for binned maturity at age. Proportion mature at each age is automatically calculated within the function</p>
</td></tr>
<tr><td><code id="Estimate_Age_Maturity_+3A_n.bootstraps">n.bootstraps</code></td>
<td>
<p>Number of bootstrap iterations required to produce 95% confidence intervals about the logistic ogive</p>
</td></tr>
<tr><td><code id="Estimate_Age_Maturity_+3A_display.points">display.points</code></td>
<td>
<p>Should the raw data be plotted for the binomial model?</p>
</td></tr>
<tr><td><code id="Estimate_Age_Maturity_+3A_return">return</code></td>
<td>
<p>Either: </p>

<dl>
<dt>parameters</dt><dd><p>The estimated logistic parameters and their standard error (A50 and A95)</p>
</dd>
<dt>estimates</dt><dd><p>The logistic ogive predictions with 95 percent confidence intervals (useful for creating ones own plots)</p>
</dd>
<dt>plot</dt><dd><p>a ggplot object of the logistic ogive.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>Either: </p>

<dl>
<dt>parameters</dt><dd><p>a dataframe of the estimated logistic parameters and their standard error (A50 and A95)</p>
</dd>
<dt>estimates</dt><dd><p>a dataframe of logistic ogive predictions with 95 percent confidence intervals</p>
</dd>
<dt>plot</dt><dd><p>a ggplot object of the logistic ogive</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># load example data set
data("maturity_data")
# Run function to estimate age-at-maturity parameters
Estimate_Age_Maturity(maturity_data)
# A plot can also be returned with bootstrapped CI's.  Use 100 bootstraps for
# testing and then increase to at least 1000 for actual model runs.
Estimate_Age_Maturity(maturity_data, return = "plot",n.bootstraps = 100)
</code></pre>

<hr>
<h2 id='Estimate_Growth'>Estimate length-at-age parameters and growth curves for Elasmobranchs</h2><span id='topic+Estimate_Growth'></span>

<h3>Description</h3>

<p>A multi-model growth estimation approach is applied to length-at-age data. Three models can be applied which include the von Bertalanffy (VB), logistic (Log) and Gompertz (Gom) models. AIC values and weights are calculated. The outputs will return a list of model parameter estimates and will either print a plot to the screen or output the length-at-age estimates as part of the list.Use of this function should cite Smart et al. (2016).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Estimate_Growth(
  data,
  models = c("VB", "Log", "Gom"),
  Birth.Len = NULL,
  correlation.matrix = FALSE,
  n.bootstraps = 1000,
  plots = TRUE,
  Max.Age = NULL,
  plot.legend = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Estimate_Growth_+3A_data">data</code></td>
<td>
<p>a data frame which includes 'Age' and 'Length - ideally with these names but the function will except some variation to these</p>
</td></tr>
<tr><td><code id="Estimate_Growth_+3A_models">models</code></td>
<td>
<p>a vector of models to be fitted. These can include&quot; VB&quot;, &quot;Log&quot; and &quot;Gom&quot;. A subset can also be used</p>
</td></tr>
<tr><td><code id="Estimate_Growth_+3A_birth.len">Birth.Len</code></td>
<td>
<p>The length-at-birth to be used for two parameter models. If a value is provided, two parameter models are automatically run</p>
</td></tr>
<tr><td><code id="Estimate_Growth_+3A_correlation.matrix">correlation.matrix</code></td>
<td>
<p>Should the correlation matrix of parameters be returned? This is the only object returned if TRUE.</p>
</td></tr>
<tr><td><code id="Estimate_Growth_+3A_n.bootstraps">n.bootstraps</code></td>
<td>
<p>The number of bootstraps performed for model 95 confidence intervals</p>
</td></tr>
<tr><td><code id="Estimate_Growth_+3A_plots">plots</code></td>
<td>
<p>Should plots be printed to the screen. If FALSE then the model estimates and CI's are returned as an additional output</p>
</td></tr>
<tr><td><code id="Estimate_Growth_+3A_max.age">Max.Age</code></td>
<td>
<p>Specify the max age for bootstrapped confidence intervals to be produced over. Default is the max age in the data.</p>
</td></tr>
<tr><td><code id="Estimate_Growth_+3A_plot.legend">plot.legend</code></td>
<td>
<p>Do you want a legend for the different models on the plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of parameter estimates with errors and AIC results. If plots is TRUE then a plot is printed to the screen. If plots is FALSE then the length-at-age estimates are returned as a list element
</p>


<h3>References</h3>

<p>Smart et al. (2016) Multi-model approaches in shark and ray growth studies: strengths, weaknesses and the future. Fish and Fisheries. 17: 955-971<a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/faf.12154">https://onlinelibrary.wiley.com/doi/abs/10.1111/faf.12154</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load example data set
data("growth_data")
# Run function with three default model candidates. Use 100 bootstraps for
# testing and then increase to at least 1000 for actual model runs.
Estimate_Growth(growth_data, n.bootstraps = 100)
</code></pre>

<hr>
<h2 id='Estimate_Len_Maturity'>Estimate length-at-maturity</h2><span id='topic+Estimate_Len_Maturity'></span>

<h3>Description</h3>

<p>Length-at-maturity is estimated from binary maturity data using a logistic ogive.
Two options are available depending on error structure. If binary data are used then a binomial
error structure is required. If the user wishes to bin the data by length class then a quasi binomial error
structure is needed with the data weighted by the sample size of each bin. This is handled automatically by the function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Estimate_Len_Maturity(
  data,
  error.structure = "binomial",
  n.bootstraps = 1000,
  bin.width = NA,
  display.points = FALSE,
  return = "parameters"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Estimate_Len_Maturity_+3A_data">data</code></td>
<td>
<p>A dataframe that includes length and a binary maturity status (immature = 0 and mature = 1).
Columns should be named &quot;Length&quot; and &quot;Maturity&quot; but the function is robust enough to accept some reasonable variations to these</p>
</td></tr>
<tr><td><code id="Estimate_Len_Maturity_+3A_error.structure">error.structure</code></td>
<td>
<p>The distribution for the glm used to produce the logistic ogive. Must be either &quot;binomial&quot;
for binary data or &quot;quasi binomial&quot; for binned maturity at length. Proportion mature at each length bin is automatically calculated within the function</p>
</td></tr>
<tr><td><code id="Estimate_Len_Maturity_+3A_n.bootstraps">n.bootstraps</code></td>
<td>
<p>Number of bootstrap iterations required to produce 95% confidence intervals about the logistic ogive</p>
</td></tr>
<tr><td><code id="Estimate_Len_Maturity_+3A_bin.width">bin.width</code></td>
<td>
<p>The width of the length-class bins used for a quasi binomial logistic model. These should on the same unit as the length data.
The y axis on any plots will automatically scale to the correct unit (&quot;cm&quot; or &quot;mm&quot;)</p>
</td></tr>
<tr><td><code id="Estimate_Len_Maturity_+3A_display.points">display.points</code></td>
<td>
<p>Should the raw data be plotted for the binomial model?</p>
</td></tr>
<tr><td><code id="Estimate_Len_Maturity_+3A_return">return</code></td>
<td>
<p>Either: </p>

<dl>
<dt>parameters</dt><dd><p>The estimated logistic parameters and their standard error (L50 and L95)</p>
</dd>
<dt>estimates</dt><dd><p>The logistic ogive predictions with 95 percent confidence intervals (useful for creating ones own plots)</p>
</dd>
<dt>plot</dt><dd><p>a ggplot object of the logistic ogive.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>Either: </p>

<dl>
<dt>parameters</dt><dd><p>a dataframe of the estimated logistic parameters and their standard error (L50 and L95)</p>
</dd>
<dt>estimates</dt><dd><p>a dataframe of logistic ogive predictions with 95 percent confidence intervals</p>
</dd>
<dt>plot</dt><dd><p>a ggplot object of the logistic ogive. If binned length classes are used, this includes a bar plot of proportional maturity </p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># load example data set

data("maturity_data")
# Run function to estimate length-at-maturity parameters
Estimate_Len_Maturity(maturity_data)
# A plot can also be returned with bootstrapped CI's. Use 100 bootstraps for
# testing and then increase to at least 1000 for actual model runs.
Estimate_Len_Maturity(maturity_data, return = "plot",n.bootstraps = 100)

</code></pre>

<hr>
<h2 id='growth_data'>Length-at-age data for blacktip sharks</h2><span id='topic+growth_data'></span>

<h3>Description</h3>

<p>A data set containing the length-at-age data for common blacktip sharks (<em>Carcharhinus limbatus</em>)
from Indonesia. This data was published in Smart et al. (2015).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(growth_data)
</code></pre>


<h3>Format</h3>

<p>A data frame with 294 rows and 3 variables
</p>


<h3>Details</h3>


<ul>
<li><p> Age. Number of growth bands determined from vertebral analysis
</p>
</li>
<li><p> Length. Total Length in mm determined via back-calculation
</p>
</li>
<li><p> Sex. Females (F) or males (M)
</p>
</li></ul>



<h3>References</h3>

<p>Smart et al (2015)  Age and growth of the common
blacktip shark Carcharhinus limbatus from Indonesia, incorporating an improved approach to
comparing regional population growth rates. African Journal of Marine Science 37:177-188.
<a href="https://www.tandfonline.com/doi/abs/10.2989/1814232X.2015.1025428">https://www.tandfonline.com/doi/abs/10.2989/1814232X.2015.1025428</a>
</p>

<hr>
<h2 id='maturity_data'>Age and length-at-maturity data for silky sharks</h2><span id='topic+maturity_data'></span>

<h3>Description</h3>

<p>A data set containing the length-at-maturity and age-at-maturity data for female silky sharks
(<em>Carcharhinus falciformis</em>) from Papua New Guinea. This data was published in Grant et al (2018)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(maturity_data)
</code></pre>


<h3>Format</h3>

<p>A data frame with 284 rows and 4 variables
</p>


<h3>Details</h3>


<ul>
<li><p> Tag. Unique identifier for each Shark
</p>
</li>
<li><p> Age. Number of growth bands determined from vertebral analysis
</p>
</li>
<li><p> Length. Total Length in cm
</p>
</li>
<li><p> Maturity. Binary maturity status: immature = 0 and mature = 1
</p>
</li></ul>



<h3>References</h3>

<p>Grant et al (2018)
Life history characteristics of the silky shark (<em>Carcharhinus falciformis</em>)
from the central west Pacific. Marine and Freshwater Research 69:562-573
<a href="http://www.publish.csiro.au/mf/MF17163">http://www.publish.csiro.au/mf/MF17163</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

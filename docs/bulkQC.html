<!DOCTYPE html><html><head><title>Help for package bulkQC</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bulkQC}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bulkQC-package'><p>Quality Control and Outlier Identification in Bulk for Multicenter Trials</p></a></li>
<li><a href='#getOutliers'>
<p>Function to obtain values outside of whiskers on boxplot</p></a></li>
<li><a href='#ind_multi'><p>Identifies individual multivariate outliers</p></a></li>
<li><a href='#ind_uni'><p>Identifies individual univariate outliers</p></a></li>
<li><a href='#nVal'>
<p>Unique values in a vector</p></a></li>
<li><a href='#site_outliers'><p>Identifies site level outliers</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Quality Control and Outlier Identification in Bulk for
Multicenter Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-25</td>
</tr>
<tr>
<td>Author:</td>
<td>Joseph Rigdon &lt;jrigdon@wakehealth.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joseph Rigdon &lt;jrigdon@wakehealth.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Multicenter randomized trials involve the collection and analysis of data from numerous study participants across multiple sites. Outliers may be present. To identify outliers, this package examines data at the individual level (univariate and multivariate) and site-level (with and without covariate adjustment). Methods are outlined in further detail in Rigdon et al (to appear). </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>isotree, stddiff</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-25 12:32:20 UTC; jrigdon</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-27 17:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bulkQC-package'>Quality Control and Outlier Identification in Bulk for Multicenter Trials</h2><span id='topic+bulkQC-package'></span>

<h3>Description</h3>

<p>Multicenter randomized trials involve the collection and analysis of data from numerous study participants across multiple sites. Outliers may be present. To identify outliers, this package examines data at the individual level (univariate and multivariate) and site-level (with and without covariate adjustment). Methods are outlined in further detail in Rigdon et al (to appear). 
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> bulkQC </td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2024-04-24</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Joseph Rigdon <a href="mailto:jrigdon@wakehealth.edu">jrigdon@wakehealth.edu</a></p>


<h3>References</h3>

<p>Tukey J. Exploratory Data Analysis. 1st edition. Reading, Mass: Pearson; 1977. 712 p. 
</p>
<p>Cortes D. Explainable outlier detection through decision tree conditioning. arXiv:200100636 [cs, stat] [Internet]. 2020 Jan 2 [cited 2021 Nov 12]; Available from: http://arxiv.org/abs/2001.00636 
</p>
<p>Yang D, Dalton JE. A unified approach to measuring the effect size between two groups using SAS. 2012;6 
</p>

<hr>
<h2 id='getOutliers'>
Function to obtain values outside of whiskers on boxplot
</h2><span id='topic+getOutliers'></span>

<h3>Description</h3>

<p>Within vector of continuous data, identifies and outputs those values sufficiently smaller than the first quartile (Q1) or larger than the third quartile (Q3).  Used in consort with <code><a href="#topic+ind_uni">ind_uni</a></code> function to identify individual univariate outliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getOutliers(x, mult = 1.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getOutliers_+3A_x">x</code></td>
<td>
<p>A vector of continuous data</p>
</td></tr>
<tr><td><code id="getOutliers_+3A_mult">mult</code></td>
<td>
<p>A multiplier on the interquartile range (IQR) to flag outliers that are mult*IQR less than Q1 or mult*IQR greater than Q3; default is 1.5</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the subset of observations in x that are mult*IQR less than Q1 or mult*IQR greater than Q3
</p>


<h3>References</h3>

<p>Tukey J. Exploratory Data Analysis. 1st edition. Reading, Mass: Pearson; 1977. 712 p.	
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ind_uni">ind_uni</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>ex = c(rnorm(95), -10, -8, 7, 9, 11)
getOutliers(ex)
getOutliers(ex, mult=3) 
</code></pre>

<hr>
<h2 id='ind_multi'>Identifies individual multivariate outliers</h2><span id='topic+ind_multi'></span>

<h3>Description</h3>

<p>Discovers potential individual multivariate outliers by identifying and returning those observations with outlier score greater than a threshold. The outlier score is calculated using single isolation forests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_multi(d0, exclude = c("pid", "site"), thresh = 0.7, n_uniq = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_multi_+3A_d0">d0</code></td>
<td>
<p>A data frame with columns as variables and rows as observations</p>
</td></tr>
<tr><td><code id="ind_multi_+3A_exclude">exclude</code></td>
<td>
<p>A vector of names of variables to exclude in outlier identification</p>
</td></tr>
<tr><td><code id="ind_multi_+3A_thresh">thresh</code></td>
<td>
<p>Threshold (0-1) that an outlier score must exceed to be flagged for further investigation</p>
</td></tr>
<tr><td><code id="ind_multi_+3A_n_uniq">n_uniq</code></td>
<td>
<p>Number of unique observations of a variable needed for outlier identification to be performed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function evaluates multivariate observations from each row consisting of those variables not excluded by the 'exclude' argument above. For each multivariate observation, an outlier score is calculated using single isolation forests. Those multivariate observations that are isolated earliest in a decision tree have a lower tree depth, in turn have higher outlier scores, and are thought more likely to be outliers. 
</p>


<h3>Value</h3>

<table>
<tr><td><code>nID</code></td>
<td>
<p>The number of observations evaluated</p>
</td></tr>
<tr><td><code>nVar</code></td>
<td>
<p>The number of variables evaluated</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>A data frame containing those observations deemed to be potential outliers that appends the outliers with the excluded variables to aid in interpretation, and includes an outlier score for each row</p>
</td></tr>
</table>


<h3>References</h3>

<p>Cortes D. Explainable outlier detection through decision tree conditioning. arXiv:200100636 [cs, stat] [Internet]. 2020 Jan 2 [cited 2021 Nov 12]; Available from: http://arxiv.org/abs/2001.00636 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)
iris2 = iris
iris2$pid = 1:dim(iris2)[1]
ind_multi(iris2, exclude=c("pid", "Species"), thresh=0.7, n_uniq=10)
ind_multi(iris2, exclude=c("pid", "Species"), thresh=0.6, n_uniq=10)
</code></pre>

<hr>
<h2 id='ind_uni'>Identifies individual univariate outliers</h2><span id='topic+ind_uni'></span>

<h3>Description</h3>

<p>Discovers potential individual univariate outliers by identifying and returning those observations outside of the whiskers on a boxplot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_uni(d0, exclude = c("pid", "site"), n_uniq = 10, m = 1.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_uni_+3A_d0">d0</code></td>
<td>
<p>A data frame with columns as variables and rows as observations</p>
</td></tr>
<tr><td><code id="ind_uni_+3A_exclude">exclude</code></td>
<td>
<p>A vector of names of variables to exclude in outlier identification</p>
</td></tr>
<tr><td><code id="ind_uni_+3A_n_uniq">n_uniq</code></td>
<td>
<p>Number of unique observations of a variable needed for outlier identification to be performed</p>
</td></tr>
<tr><td><code id="ind_uni_+3A_m">m</code></td>
<td>
<p>A multiplier on the interquartile range (IQR) to flag outliers that are mult*IQR less than Q1 or mult*IQR greater than Q3; default is 1.5</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>nID</code></td>
<td>
<p>The number of observations evaluated</p>
</td></tr>
<tr><td><code>nVar</code></td>
<td>
<p>The number of variables evaluated</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>A data frame containing those observations deemed to be potential outliers that appends the outliers with the excluded variables to aid in interpretation</p>
</td></tr>	
</table>


<h3>References</h3>

<p>Tukey J. Exploratory Data Analysis. 1st edition. Reading, Mass: Pearson; 1977. 712 p. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getOutliers">getOutliers</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)
iris2 = iris
iris2$pid = 1:dim(iris2)[1]
ind_uni(iris2, exclude=c("pid", "Species"), m=1.5)
ind_uni(iris2, exclude=c("pid", "Species"), m=3)
</code></pre>

<hr>
<h2 id='nVal'>
Unique values in a vector
</h2><span id='topic+nVal'></span>

<h3>Description</h3>

<p>Returns number of unique values in a vector 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nVal(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nVal_+3A_x">x</code></td>
<td>
<p>A vector of observations of a variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of unique values in the vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nVal(runif(10))
</code></pre>

<hr>
<h2 id='site_outliers'>Identifies site level outliers</h2><span id='topic+site_outliers'></span>

<h3>Description</h3>

<p>Discovers potential site level outliers by using unadjusted and adjusted regression models and standardized difference calculations. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>site_outliers(d0, exclude = c("pid"), siteID = "site", covs = c("age"), threshG = 0.001, 
thresh2 = 0.05, threshS = 0.5, n_uniq = 10, n_dec = 4, n_decS = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="site_outliers_+3A_d0">d0</code></td>
<td>
<p>A data frame with columns as variables and rows as observations</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_exclude">exclude</code></td>
<td>
<p>A vector of names of variables to exclude in outlier identification</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_siteid">siteID</code></td>
<td>
<p>The name of the variable in the data frame that identifies sites</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_covs">covs</code></td>
<td>
<p>A vector of covariates to adjust for in the adjusted regression models</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_threshg">threshG</code></td>
<td>
<p>P-value threshold for global test equal means across sites</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_thresh2">thresh2</code></td>
<td>
<p>P-value threshold for comparison of reference site vs. all other sites</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_threshs">threshS</code></td>
<td>
<p>Standardized difference threshold above which a site difference is deemed meaningfully large</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_n_uniq">n_uniq</code></td>
<td>
<p>Number of unique observations of a variable needed for outlier identification to be performed</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_n_dec">n_dec</code></td>
<td>
<p>Number of decimals to display for p-values in output</p>
</td></tr>
<tr><td><code id="site_outliers_+3A_n_decs">n_decS</code></td>
<td>
<p>Number of decimals to display for standardized differences in output</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function compares the distribution of a given variable across sites by first conducting a global test of equal means (without and with adjustment for covariates of interest). Among those variables where the null hypothesis of equal means across sites is rejected, the function then compares each site vs. all other sites using unadjusted and adjusted comparisons. The unadjusted comparisons include a two-sample t-test with equal variance and a standardized difference calculation. The adjusted comparisons include a linear regression model with an indicator variable for reference site and user-specified covariates, and an adjusted standardized difference calculated as the model coefficient for site divided by the model estimated root mean squared error.
</p>


<h3>Value</h3>

<table>
<tr><td><code>overall</code></td>
<td>
<p>A matrix with rows as variables where global test of equal means is rejected and columns as the corresponding p-values from the unadjusted and adjusted statistical tests</p>
</td></tr>
<tr><td><code>sitewise_P</code></td>
<td>
<p>For the variables identified by the global tests (columns), the unadjusted p-values (from two-sample t-test) comparing each site to all other sites (rows). Values above threshold printed as missing.</p>
</td></tr> 
<tr><td><code>sitewise_P_adj</code></td>
<td>
<p>For the variables identified by the global tests (columns), the adjusted p-values (from linear regression model) comparing each site to all other sites (rows). Values above threshold printed as missing.</p>
</td></tr>  
<tr><td><code>sitewise_StDf</code></td>
<td>
<p>For the variables identified by the global tests (columns), the unadjusted standardized differences comparing each site to all other sites (rows). Values below threshold printed as missing.</p>
</td></tr>    
<tr><td><code>sitewise_StDf_adj</code></td>
<td>
<p>For the variables identified by the global tests (columns), the adjusted standardized differences comparing each site to all other sites (rows). Values below threshold printed as missing.</p>
</td></tr>     
</table>


<h3>References</h3>

<p>Yang D, Dalton JE. A unified approach to measuring the effect size between two groups using SAS. 2012;6 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)
iris2 = iris
iris2$temp = rnorm(dim(iris2)[1]) #for covariate adjustment
site_outliers(iris2, site="Species", covs=c("temp"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

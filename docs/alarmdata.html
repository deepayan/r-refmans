<!DOCTYPE html><html lang="en-US"><head><title>Help for package alarmdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {alarmdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alarmdata-package'><p>alarmdata: Download, Merge, and Process Redistricting Data</p></a></li>
<li><a href='#alarm_50state'><p>Download maps and plans from the 50-State Simulation Project</p></a></li>
<li><a href='#alarm_add_plan'><p>Add a reference plan to a set of plans</p></a></li>
<li><a href='#alarm_cache_size'><p>Work with the the <code>alarmdata</code> cache</p></a></li>
<li><a href='#alarm_census_vest'><p>Download Joined VEST and Census Data</p></a></li>
<li><a href='#alarm_epsg'><p>Suggested EPSG Codes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Download, Merge, and Process Redistricting Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Utility functions to download and process data produced by the ALARM Project,
    including 2020 redistricting files Kenny and McCartan (2021) 
    <a href="https://alarm-redist.org/posts/2021-08-10-census-2020/">https://alarm-redist.org/posts/2021-08-10-census-2020/</a> and the 50-State 
    Redistricting Simulations of McCartan, Kenny, Simko, Garcia, Wang, Wu, 
    Kuriwaki, and Imai (2022) &lt;<a href="https://doi.org/10.7910%2FDVN%2FSLCD3E">doi:10.7910/DVN/SLCD3E</a>&gt;. The package extends 
    the data introduced in McCartan, Kenny, Simko, Garcia, Wang, Wu, Kuriwaki,
    and Imai (2022) &lt;<a href="https://doi.org/10.1038%2Fs41597-022-01808-2">doi:10.1038/s41597-022-01808-2</a>&gt; to also include states with 
    only a single district.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rlang, cli, curl, dplyr, readr, stringr, sf, dataverse,
censable, geomander (&ge; 2.1.0), tidyselect, redist (&ge; 4.2.0),
redistmetrics, tinytiger, rappdirs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rstudioapi, rmapshaper, testthat (&ge; 3.0.0), spelling</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/alarm-redist/alarmdata/">https://github.com/alarm-redist/alarmdata/</a>,
<a href="https://alarm-redist.org/alarmdata/">https://alarm-redist.org/alarmdata/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/alarm-redist/alarmdata/issues/">https://github.com/alarm-redist/alarmdata/issues/</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-27 19:23:24 UTC; cmccartan</td>
</tr>
<tr>
<td>Author:</td>
<td>Cory McCartan <a href="https://orcid.org/0000-0002-6251-669X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Christopher T. Kenny
    <a href="https://orcid.org/0000-0002-9386-6860"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Tyler Simko <a href="https://orcid.org/0000-0001-9382-7346"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Michael Zhao <a href="https://orcid.org/0000-0001-8435-2078"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Kosuke Imai <a href="https://orcid.org/0000-0002-2748-1022"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Cory McCartan &lt;corymccartan@nyu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-28 18:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='alarmdata-package'>alarmdata: Download, Merge, and Process Redistricting Data</h2><span id='topic+alarmdata'></span><span id='topic+alarmdata-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Utility functions to download and process data produced by the ALARM Project, including 2020 redistricting files Kenny and McCartan (2021) <a href="https://alarm-redist.org/posts/2021-08-10-census-2020/">https://alarm-redist.org/posts/2021-08-10-census-2020/</a> and the 50-State Redistricting Simulations of McCartan, Kenny, Simko, Garcia, Wang, Wu, Kuriwaki, and Imai (2022) <a href="https://doi.org/10.7910/DVN/SLCD3E">doi:10.7910/DVN/SLCD3E</a>. The package extends the data introduced in McCartan, Kenny, Simko, Garcia, Wang, Wu, Kuriwaki, and Imai (2022) <a href="https://doi.org/10.1038/s41597-022-01808-2">doi:10.1038/s41597-022-01808-2</a> to also include states with only a single district.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Cory McCartan <a href="mailto:corymccartan@nyu.edu">corymccartan@nyu.edu</a> (<a href="https://orcid.org/0000-0002-6251-669X">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Christopher T. Kenny <a href="mailto:christopherkenny@fas.harvard.edu">christopherkenny@fas.harvard.edu</a> (<a href="https://orcid.org/0000-0002-9386-6860">ORCID</a>)
</p>
</li>
<li><p> Tyler Simko <a href="mailto:tsimko@g.harvard.edu">tsimko@g.harvard.edu</a> (<a href="https://orcid.org/0000-0001-9382-7346">ORCID</a>)
</p>
</li>
<li><p> Michael Zhao <a href="mailto:michaelzhao@college.harvard.edu">michaelzhao@college.harvard.edu</a> (<a href="https://orcid.org/0000-0001-8435-2078">ORCID</a>)
</p>
</li>
<li><p> Kosuke Imai <a href="mailto:imai@harvard.edu">imai@harvard.edu</a> (<a href="https://orcid.org/0000-0002-2748-1022">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/alarm-redist/alarmdata/">https://github.com/alarm-redist/alarmdata/</a>
</p>
</li>
<li> <p><a href="https://alarm-redist.org/alarmdata/">https://alarm-redist.org/alarmdata/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/alarm-redist/alarmdata/issues/">https://github.com/alarm-redist/alarmdata/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='alarm_50state'>Download maps and plans from the 50-State Simulation Project</h2><span id='topic+alarm_50state'></span><span id='topic+alarm_50state_map'></span><span id='topic+alarm_50state_plans'></span><span id='topic+alarm_50state_stats'></span><span id='topic+alarm_50state_doc'></span>

<h3>Description</h3>

<p>These functions will download <a href="redist.html#topic+redist_map">redist_map</a> and
<a href="redist.html#topic+redist_plans">redist_plans</a> objects for the 50-State Simulation
Project from the ALARM Project's Dataverse. <code>alarm_50state_doc()</code> will
download documentation for a particular state and show it in a browser.
<code>alarm_50state_stats</code> will download just the summary statistics for a state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm_50state_map(state, year = 2020, refresh = FALSE)

alarm_50state_plans(
  state,
  stats = TRUE,
  year = 2020,
  refresh = FALSE,
  compress = "xz"
)

alarm_50state_stats(state, year = 2020, refresh = FALSE)

alarm_50state_doc(state, year = 2020)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alarm_50state_+3A_state">state</code></td>
<td>
<p>A state name, abbreviation, FIPS code, or ANSI code.</p>
</td></tr>
<tr><td><code id="alarm_50state_+3A_year">year</code></td>
<td>
<p>The redistricting cycle to download. Currently only <code>2020</code> and <code>2010</code> are available.</p>
</td></tr>
<tr><td><code id="alarm_50state_+3A_refresh">refresh</code></td>
<td>
<p>If <code>TRUE</code>, ignore the cache and download again.</p>
</td></tr>
<tr><td><code id="alarm_50state_+3A_stats">stats</code></td>
<td>
<p>If <code>TRUE</code> (the default), download summary statistics for each plan.</p>
</td></tr>
<tr><td><code id="alarm_50state_+3A_compress">compress</code></td>
<td>
<p>The compression level used for caching <a href="redist.html#topic+redist_plans">redist_plans</a> objects.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Every decade following the Census, states and municipalities must redraw
districts for Congress, state houses, city councils, and more. The goal of
the 50-State Simulation Project is to enable researchers, practitioners, and
the general public to use cutting-edge redistricting simulation analysis to
evaluate enacted congressional districts.
</p>
<p>Evaluating a redistricting plan requires analysts to take into account each
stateâ€™s redistricting rules and particular political geography. Comparing the
partisan bias of a plan for Texas with the bias of a plan for New York, for
example, is likely misleading. Comparing a stateâ€™s current plan to a past
plan is also problematic because of demographic and political changes over
time. Redistricting simulations generate an ensemble of alternative
redistricting plans within a given state which are tailored to its
redistricting rules. Unlike traditional evaluation methods, therefore,
simulations are able to directly account for the stateâ€™s political geography
and redistricting criteria.
</p>


<h3>Value</h3>

<p>For <code>alarm_50state_map()</code>, a <a href="redist.html#topic+redist_map">redist_map</a>. For
<code>alarm_50state_plans()</code>, a <a href="redist.html#topic+redist_plans">redist_plans</a>. For
<code>alarm_50state_doc()</code>, invisibly returns the path to the HTML documentation,
and also loads an HTML file into the viewer or web browser.
For <code>alarm_50state_stats()</code>, a <a href="dplyr.html#topic+reexports">tibble</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# requires Harvard Dataverse API key
alarm_50state_map("WA")
alarm_50state_plans("WA", stats = FALSE)
alarm_50state_stats("WA")
alarm_50state_doc("WA")

map &lt;- alarm_50state_map("WY")
pl &lt;- alarm_50state_plans("WY")

</code></pre>

<hr>
<h2 id='alarm_add_plan'>Add a reference plan to a set of plans</h2><span id='topic+alarm_add_plan'></span>

<h3>Description</h3>

<p>Facilitates comparing an existing (i.e., non-simulated) redistricting plan to a set of simulated plans.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm_add_plan(
  plans,
  ref_plan,
  map = NULL,
  name = NULL,
  calc_polsby = FALSE,
  GEOID = "GEOID",
  year = 2020
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alarm_add_plan_+3A_plans">plans</code></td>
<td>
<p>A <code>redist_plans</code> object.</p>
</td></tr>
<tr><td><code id="alarm_add_plan_+3A_ref_plan">ref_plan</code></td>
<td>
<p>An integer vector containing the reference plan or a block assignment file as a <code>tibble</code> or <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="alarm_add_plan_+3A_map">map</code></td>
<td>
<p>A <code>redist_map</code> object. Only required if the <code>redist_plans</code> object includes summary statistics.</p>
</td></tr>
<tr><td><code id="alarm_add_plan_+3A_name">name</code></td>
<td>
<p>A human-readable name for the reference plan. Defaults to the name of <code>ref_plan</code>. If <code>ref_plan</code> is a
<code>tibble</code> or <code>data.frame</code>, it should be the name of the column of <code>ref_plan</code> that identifies districts.</p>
</td></tr>
<tr><td><code id="alarm_add_plan_+3A_calc_polsby">calc_polsby</code></td>
<td>
<p>A logical value indicating whether a Polsby-Popper compactness score should be calculated for the reference plan. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="alarm_add_plan_+3A_geoid">GEOID</code></td>
<td>
<p>character. Ignored unless <code>ref_plan</code> is a <code>tibble</code> or <code>data.frame</code>.
Should correspond to the column of <code>ref_plan</code> that identifies block <code>GEOID</code>s.
Default is <code>'GEOID'</code>.</p>
</td></tr>
<tr><td><code id="alarm_add_plan_+3A_year">year</code></td>
<td>
<p>the decade to request if passing a <code>tibble</code> to <code>ref_plan</code>, either <code>2010</code> or <code>2020</code>. Default is <code>2020</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified <code>redist_plans</code> object containing the reference plan. Includes summary statistics if the original <code>redist_plans</code> object had them as well.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# requires Harvard Dataverse API key
map &lt;- alarm_50state_map("WY")
pl &lt;- alarm_50state_plans("WY")
pl_new &lt;- alarm_add_plan(pl, ref_plan = c(1), map, name = "example")

# download and load a comparison plan
url &lt;- paste0("https://github.com/PlanScore/Redistrict2020/raw/main/files/",
  "NM-2021-10/Congressional_Concept_A.zip")
tf &lt;- tempfile(fileext = ".zip")
utils::download.file(url, tf)
utils::unzip(tf, exdir = dirname(tf))
baf &lt;- readr::read_csv(file = paste0(dirname(tf), "/Congressional Concept A.csv"),
                       col_types = "ci")
names(baf) &lt;- c("GEOID", "concept_a")
# Add it to the plans object
map_nm &lt;- alarm_50state_map("NM")
plans_nm &lt;- alarm_50state_plans("NM", stats = FALSE)
alarm_add_plan(plans_nm, baf, map = map_nm, name = "concept_a")

</code></pre>

<hr>
<h2 id='alarm_cache_size'>Work with the the <code>alarmdata</code> cache</h2><span id='topic+alarm_cache_size'></span><span id='topic+alarm_cache_clear'></span><span id='topic+alarm_cache_path'></span>

<h3>Description</h3>

<p>Functions to inspect and clear the cache. If the cache is not enabled, uses a
temporary directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm_cache_size()

alarm_cache_clear(force = FALSE)

alarm_cache_path()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alarm_cache_size_+3A_force">force</code></td>
<td>
<p>FALSE by default. Asks the user to confirm if interactive. Does
not clear cache if force is FALSE and not interactive.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>alarm_cache_size()</code>, the size in bytes, invisibly
</p>
<p>For <code>alarm_cache_clear()</code>, the path to the cache, invisibly.
</p>
<p>For <code>alarm_cache_path()</code>, the path to the cache
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alarm_cache_size()

alarm_cache_clear()

alarm_cache_path()

</code></pre>

<hr>
<h2 id='alarm_census_vest'>Download Joined VEST and Census Data</h2><span id='topic+alarm_census_vest'></span>

<h3>Description</h3>

<p>Downloads Census data joined with VEST's election data. All are re-tabulated from
precincts collected by VEST to 2020 Census geographies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm_census_vest(state, geometry = FALSE, epsg = alarm_epsg(state))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alarm_census_vest_+3A_state">state</code></td>
<td>
<p>A state name, abbreviation, FIPS code, or ANSI code.</p>
</td></tr>
<tr><td><code id="alarm_census_vest_+3A_geometry">geometry</code></td>
<td>
<p>If <code>TRUE</code> (default is <code>FALSE</code>), include <code>sf</code> geometry from Census Bureau TIGER Lines with the data.</p>
</td></tr>
<tr><td><code id="alarm_census_vest_+3A_epsg">epsg</code></td>
<td>
<p>A numeric EPSG code to use as the coordinate system. Default is <code>alarm_epsg(state)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble with Census and election data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alarm_census_vest("DE", geometry = FALSE)
</code></pre>

<hr>
<h2 id='alarm_epsg'>Suggested EPSG Codes</h2><span id='topic+alarm_epsg'></span>

<h3>Description</h3>

<p>Provides suggested EPSG codes for each of the 50 states.
One of the NAD83 (HARN) coordinate systems for each state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm_epsg(state)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alarm_epsg_+3A_state">state</code></td>
<td>
<p>A state name, abbreviation, FIPS code, or ANSI code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric EPSG code
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alarm_epsg("NY")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

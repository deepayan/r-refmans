<!DOCTYPE html><html><head><title>Help for package KMunicate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {KMunicate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#KMunicate-package'><p>KMunicate-Style Kaplan–Meier Plots</p></a></li>
<li><a href='#brcancer'><p>German Breast Cancer Study Data</p></a></li>
<li><a href='#cancer2'><p>Patient Survival in Drug Trial</p></a></li>
<li><a href='#KMunicate'><p>Create KMunicate-Style Kaplan–Meier Plots</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>KMunicate-Style Kaplan–Meier Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Produce Kaplan–Meier plots in the style recommended
    following the KMunicate study by Morris et al. (2019)
    &lt;<a href="https://doi.org/10.1136%2Fbmjopen-2019-030215">doi:10.1136/bmjopen-2019-030215</a>&gt;. The KMunicate style consists of
    Kaplan-Meier curves with confidence intervals to quantify uncertainty
    and an extended risk table (per treatment arm) depicting the number of
    study subjects at risk, events, and censored observations over time.
    The resulting plots are built using 'ggplot2' and can be further
    customised to a certain extent, including themes, fonts, and colour
    scales.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ellessenne.github.io/KMunicate-package/">https://ellessenne.github.io/KMunicate-package/</a>,
<a href="https://github.com/ellessenne/KMunicate-package">https://github.com/ellessenne/KMunicate-package</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ellessenne/KMunicate-package/issues">https://github.com/ellessenne/KMunicate-package/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), survival</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, cowplot, ggplot2, pammtools, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>broom, covr, devtools, knitr, rmarkdown, simsurv, testthat,
usethis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-26 10:00:09 UTC; ellessenne</td>
</tr>
<tr>
<td>Author:</td>
<td>Alessandro Gasparini
    <a href="https://orcid.org/0000-0002-8319-7624"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre,
    cph],
  Ary Serpa Neto [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alessandro Gasparini &lt;alessandro@ellessenne.xyz&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-26 10:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='KMunicate-package'>KMunicate-Style Kaplan–Meier Plots</h2><span id='topic+KMunicate-package'></span>

<h3>Description</h3>

<p>Produce Kaplan–Meier plots in the style recommended following the KMunicate study, <a href="https://doi.org/10.1136/bmjopen-2019-030215">doi:10.1136/bmjopen-2019-030215</a>.
</p>


<h3>Author(s)</h3>

<p>Alessandro Gasparini (alessandro@ellessenne.xyz)
</p>

<hr>
<h2 id='brcancer'>German Breast Cancer Study Data</h2><span id='topic+brcancer'></span>

<h3>Description</h3>

<p>German breast cancer study data, imported from Stata 16.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brcancer
</code></pre>


<h3>Format</h3>

<p>A data frame with 686 rows and 14 variables:
</p>

<ul>
<li> <p><code>id</code> A numeric vector;
</p>
</li>
<li> <p><code>hormon</code> Hormonal therapy;
</p>
</li>
<li> <p><code>x1</code> Age, in years;
</p>
</li>
<li> <p><code>x2</code> Menopausal status;
</p>
</li>
<li> <p><code>x3</code> Tumour size, mm;
</p>
</li>
<li> <p><code>x4</code> Tumour grade;
</p>
</li>
<li> <p><code>x5</code> Number of positive nodes;
</p>
</li>
<li> <p><code>x6</code> Progesterone receptor, fmol;
</p>
</li>
<li> <p><code>rectime</code> Recurrence-free survival time, days;
</p>
</li>
<li> <p><code>censrec</code> Censoring indicator;
</p>
</li>
<li> <p><code>x4a</code> Tumour grade &gt;=2;
</p>
</li>
<li> <p><code>x4b</code> Tumour grade == 3;
</p>
</li>
<li> <p><code>x5e</code> exp(-0.12 * x5).
</p>
</li></ul>



<h3>References</h3>

<p>http://www.stata-press.com/data/r16/brcancer.dta
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("brcancer", package = "KMunicate")
</code></pre>

<hr>
<h2 id='cancer2'>Patient Survival in Drug Trial</h2><span id='topic+cancer2'></span>

<h3>Description</h3>

<p>Patient survival in drug trial data, imported from Stata 16.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cancer2
</code></pre>


<h3>Format</h3>

<p>A data frame with 48 rows and 4 variables:
</p>

<ul>
<li> <p><code>studytime</code> Months to death or end of follow-up;
</p>
</li>
<li> <p><code>died</code> Event indicator variable, <code>died = 1</code> if a patient died;
</p>
</li>
<li> <p><code>drug</code> Drug type, with <code>drug = 1</code> being placebo;
</p>
</li>
<li> <p><code>age</code> Age of a patient at baseline.
</p>
</li></ul>



<h3>Note</h3>

<p>The dataset is named <code>cancer2</code> to avoid name collision with the <code>cancer</code> dataset from the survival package.
</p>


<h3>References</h3>

<p>http://www.stata-press.com/data/r16/cancer.dta
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("cancer2", package = "KMunicate")
</code></pre>

<hr>
<h2 id='KMunicate'>Create KMunicate-Style Kaplan–Meier Plots</h2><span id='topic+KMunicate'></span>

<h3>Description</h3>

<p>Produce Kaplan–Meier plots in the style recommended following the KMunicate study by TP Morris <em>et al</em>. (<a href="https://doi.org/10.1136/bmjopen-2019-030215">doi:10.1136/bmjopen-2019-030215</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>KMunicate(
  fit,
  time_scale,
  .risk_table = "KMunicate",
  .reverse = FALSE,
  .theme = NULL,
  .color_scale = NULL,
  .fill_scale = NULL,
  .linetype_scale = NULL,
  .annotate = NULL,
  .xlab = "Time",
  .ylab = ifelse(.reverse, "Estimated (1 - survival)", "Estimated survival"),
  .title = NULL,
  .alpha = 0.25,
  .rel_heights = NULL,
  .ff = NULL,
  .risk_table_base_size = 11,
  .size = NULL,
  .legend_position = c(1, 1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="KMunicate_+3A_fit">fit</code></td>
<td>
<p>A <code>survfit</code> object.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_time_scale">time_scale</code></td>
<td>
<p>The time scale that will be used for the x-axis and for the summary tables.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.risk_table">.risk_table</code></td>
<td>
<p>This arguments define the type of risk table that is produced.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.reverse">.reverse</code></td>
<td>
<p>If <code>reverse = TRUE</code>, then the plot uses 1 - survival probability on the y-axis.
Defaults to <code>KMunicate</code>, where the cumulative number of events and censored are calculated.
Another possibility is <code>survfit</code>, which will use the default numbers returned by <code>summary.survfit</code> (e.g. number of events and censored per interval).
<code>.risk_table</code> can also be <code>NULL</code>, in which case the risk table will be omitted from the plot.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.theme">.theme</code></td>
<td>
<p><code>ggplot</code> theme used by the plot. Defaults to <code>NULL</code>, where the default <code>ggplot</code> theme will be used.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.color_scale">.color_scale</code></td>
<td>
<p>Colour scale used for the plot. Has to be a <code style="white-space: pre;">&#8288;scale_colour_*&#8288;</code> component, and defaults to <code>NULL</code> where the default colour scale will be used.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.fill_scale">.fill_scale</code></td>
<td>
<p>Fill scale used for the plot. Has to be a <code style="white-space: pre;">&#8288;scale_fill_*&#8288;</code> component, and defaults to <code>NULL</code> where the default fill scale will be used.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.linetype_scale">.linetype_scale</code></td>
<td>
<p>Linetype scale used for the plot. Has to be a <code style="white-space: pre;">&#8288;scale_linetype_*&#8288;</code> component, and defaults to <code>NULL</code> where the default linetype scale will be used.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.annotate">.annotate</code></td>
<td>
<p>Optional annotation to be added to the plot, e.g. using <code><a href="ggplot2.html#topic+annotate">ggplot2::annotate()</a></code>. Defaults to <code>NULL</code>, where no extra annotation is added.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.xlab">.xlab</code></td>
<td>
<p>Label for the horizontal axis, defaults to <em>Time</em>.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.ylab">.ylab</code></td>
<td>
<p>Label for the vertical axis, defaults to <em>Estimated survival</em> if <code>.reverse = FALSE</code>, to <em>Estimated (1 - survival)</em> otherwise.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.title">.title</code></td>
<td>
<p>A title to be added on top of the plot. Defaults to <code>NULL</code>, where no title will be included.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.alpha">.alpha</code></td>
<td>
<p>Transparency of the point-wise confidence intervals</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.rel_heights">.rel_heights</code></td>
<td>
<p>Override default relative heights of plots and tables. Must be a numeric vector of length equal 1 + 1 per each arm in the Kaplan-Meier plot. See <code><a href="cowplot.html#topic+plot_grid">cowplot::plot_grid()</a></code> for more details on how to use this argument.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.ff">.ff</code></td>
<td>
<p>A string used to define a base font for the plot.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.risk_table_base_size">.risk_table_base_size</code></td>
<td>
<p>Base font size for the risk table, given in pts. Defaults to 11.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.size">.size</code></td>
<td>
<p>Thickness of each Kaplan-Meier curve. Defaults to <code>NULL</code>, where <code>ggplot2</code>'s default will be used.</p>
</td></tr>
<tr><td><code id="KMunicate_+3A_.legend_position">.legend_position</code></td>
<td>
<p>Position of the legend in the plot. Defaults to <code>c(1, 1)</code>, which corresponds to <em>top-right</em> of the plot. It is also possible to pass a string, as in <code>ggplot2</code>, e.g. <code>"none"</code> to suppress the legend. N.B.: Legend justification is modified accordingly. See <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code> for more details on how to place the legend of the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A KMunicate-style <code>ggplot</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
data("cancer2", package = "KMunicate")
KM &lt;- survfit(Surv(studytime, died) ~ drug, data = cancer2)
time_scale &lt;- seq(0, max(cancer2$studytime), by = 7)
KMunicate(fit = KM, time_scale = time_scale)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

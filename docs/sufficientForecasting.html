<!DOCTYPE html><html lang="en"><head><title>Help for package sufficientForecasting</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sufficientForecasting}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sufficientForecasting-package'><p>sufficientForecasting: Sufficient Forecasting using Factor Models</p></a></li>
<li><a href='#dataExample'><p>A simulated dataset</p></a></li>
<li><a href='#getK'><p>Estimate the number of common factors K</p></a></li>
<li><a href='#SF'><p>Select a method from PC, SIR and DR to do point prediction</p></a></li>
<li><a href='#SF.CI'><p>Conformal inference of the sufficient forecasting</p></a></li>
<li><a href='#SF.DR'><p>Directional regression for sufficient forecasting</p></a></li>
<li><a href='#SF.PC'><p>Principal component regression for sufficient forecasting</p></a></li>
<li><a href='#SF.SIR'><p>Sliced inverse regression for sufficient forecasting</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sufficient Forecasting using Factor Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The sufficient forecasting (SF) method is implemented by this package for a single time series forecasting using many predictors and a possibly nonlinear forecasting function. Assuming that the predictors are driven by some latent factors, the SF first conducts factor analysis and then performs sufficient dimension reduction on the estimated factors to derive predictive indices for forecasting. The package implements several dimension reduction approaches, including principal components (PC), sliced inverse regression (SIR), and directional regression (DR). Methods for dimension reduction are as described in: Fan, J., Xue, L. and Yao, J. (2017) &lt;<a href="https://doi.org/10.1016%2Fj.jeconom.2017.08.009">doi:10.1016/j.jeconom.2017.08.009</a>&gt;, Luo, W., Xue, L., Yao, J. and Yu, X. (2022) &lt;<a href="https://doi.org/10.1093%2Fbiomet%2Fasab037">doi:10.1093/biomet/asab037</a>&gt; and Yu, X., Yao, J. and Xue, L. (2022) &lt;<a href="https://doi.org/10.1080%2F07350015.2020.1813589">doi:10.1080/07350015.2020.1813589</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>gam, stats</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/JingFu1224/sufficientForecasting">https://github.com/JingFu1224/sufficientForecasting</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/JingFu1224/sufficientForecasting/issues">https://github.com/JingFu1224/sufficientForecasting/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-17 03:07:49 UTC; fusei</td>
</tr>
<tr>
<td>Author:</td>
<td>Jianqing Fan [aut],
  Jing Fu [aut, cre],
  Wei Luo [aut],
  Lingzhou Xue [aut],
  Jiawei Yao [aut],
  Xiufan Yu [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jing Fu &lt;jingfu991224@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-17 10:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='sufficientForecasting-package'>sufficientForecasting: Sufficient Forecasting using Factor Models</h2><span id='topic+sufficientForecasting'></span><span id='topic+sufficientForecasting-package'></span>

<h3>Description</h3>

<p>The sufficient forecasting (SF) method is implemented by this package for a single time series forecasting using many predictors and a possibly nonlinear forecasting function. Assuming that the predictors are driven by some latent factors, the SF first conducts factor analysis and then performs sufficient dimension reduction on the estimated factors to derive predictive indices for forecasting. The package implements several dimension reduction approaches, including principal components (PC), sliced inverse regression (SIR), and directional regression (DR). Methods for dimension reduction are as described in: Fan, J., Xue, L. and Yao, J. (2017) <a href="https://doi.org/10.1016/j.jeconom.2017.08.009">doi:10.1016/j.jeconom.2017.08.009</a>, Luo, W., Xue, L., Yao, J. and Yu, X. (2022) <a href="https://doi.org/10.1093/biomet/asab037">doi:10.1093/biomet/asab037</a> and Yu, X., Yao, J. and Xue, L. (2022) <a href="https://doi.org/10.1080/07350015.2020.1813589">doi:10.1080/07350015.2020.1813589</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jing Fu <a href="mailto:jingfu991224@outlook.com">jingfu991224@outlook.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Jianqing Fan
</p>
</li>
<li><p> Wei Luo
</p>
</li>
<li><p> Lingzhou Xue
</p>
</li>
<li><p> Jiawei Yao
</p>
</li>
<li><p> Xiufan Yu
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/JingFu1224/sufficientForecasting">https://github.com/JingFu1224/sufficientForecasting</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/JingFu1224/sufficientForecasting/issues">https://github.com/JingFu1224/sufficientForecasting/issues</a>
</p>
</li></ul>


<hr>
<h2 id='dataExample'>A simulated dataset</h2><span id='topic+dataExample'></span>

<h3>Description</h3>

<p>This is a simulated dataset consisting of predictors, responses, and additional
predictors to make forecasting at a future time. In this example, the dimension
of predictors is p=100, and the number of observed time periods is T=100.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataExample
</code></pre>


<h3>Format</h3>


<ul>
<li> <p><code>dataExample$X</code> simulated predictors; a p by T matrix
</p>
</li>
<li> <p><code>dataExample$y</code> simulated responses; a T by 1 vector
</p>
</li>
<li> <p><code>dataExample$newX</code> simulated new predictors for forecasting; a p by 1 vector
</p>
</li></ul>


<hr>
<h2 id='getK'>Estimate the number of common factors K</h2><span id='topic+getK'></span>

<h3>Description</h3>

<p>Estimate the number of common factors K
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getK(y, X, Kmax = 12)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getK_+3A_y">y</code></td>
<td>
<p>Response, T by 1 vector</p>
</td></tr>
<tr><td><code id="getK_+3A_x">X</code></td>
<td>
<p>Predictors, p by T matrix</p>
</td></tr>
<tr><td><code id="getK_+3A_kmax">Kmax</code></td>
<td>
<p>A prescribed upper bound that possibly increases with p and T
(default = 12)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Estimate of K
</p>


<h3>References</h3>

<p>Bai, J., and Ng, S. (2002), Determining the number of factors in approximate
factor models, <em>Econometrica</em> 70(1), 191-221.
</p>
<p>Li, H., Li, Q. and Shi, Y. (2017), Determining the number of factors when the
number of factors can increase with sample size, <em>Journal of Econometrics</em>
197(1), 76â€“86.
</p>

<hr>
<h2 id='SF'>Select a method from PC, SIR and DR to do point prediction</h2><span id='topic+SF'></span>

<h3>Description</h3>

<p>Select a method from PC, SIR and DR to do point prediction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SF(
  y,
  X,
  newX = NULL,
  K = "default",
  L = 1,
  method = "SIR.LM",
  hyperparameter = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SF_+3A_y">y</code></td>
<td>
<p>Response, T by 1 matrix</p>
</td></tr>
<tr><td><code id="SF_+3A_x">X</code></td>
<td>
<p>Predictors, p by T matrix</p>
</td></tr>
<tr><td><code id="SF_+3A_newx">newX</code></td>
<td>
<p>New predictors, a vector contains p entries (or <code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SF_+3A_k">K</code></td>
<td>
<p>The number of common factors (default = obtained by
<code><a href="#topic+getK">getK</a></code>)</p>
</td></tr>
<tr><td><code id="SF_+3A_l">L</code></td>
<td>
<p>The number of predictive indices, L is required to be no greater than
K (default = 1)</p>
</td></tr>
<tr><td><code id="SF_+3A_method">method</code></td>
<td>
<p>Select one from <code>PC</code>, <code>SIR.LM</code>, <code>SIR.LLM</code>
and <code>DR</code> to do point prediction (default = <code>SIR.LM</code>)</p>
</td></tr>
<tr><td><code id="SF_+3A_hyperparameter">hyperparameter</code></td>
<td>
<p>A list of parameters for the corresponding method
</p>

<dl>
<dt>For <code>SIR.LM</code> and <code>SIR.LLM</code>:</dt><dd><p>arguments <code>discretization</code>
and <code>nslices</code>. See <code><a href="#topic+SF.SIR">SF.SIR</a></code> for detail</p>
</dd>
<dt>For <code>DR</code>:</dt><dd><p>arguments <code>etaopg</code> and <code>nslices</code>.
See <code><a href="#topic+SF.DR">SF.DR</a></code> for detail</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>Out-of-sample forecast for <code>newX</code>; or in-sample forecast for the last
observed data point if <code>newX</code> is <code>NULL</code>
</p>


<h3>References</h3>

<p>Fan, J., Xue, L. and Yao, J. (2017), Sufficient forecasting using factor models,
<em>Journal of econometrics</em> 201(2), 292â€“306
</p>
<p>Luo, W., Xue, L., Yao, J. and Yu, X. (2022), Inverse moment methods for sufficient
forecasting using high-dimensional predictors, <em>Biometrika</em> 109(2), 473â€“487.
</p>
<p>Yu, X., Yao, J. and Xue, L. (2022), Nonparametric estimation and conformal inference
of the sufficient forecasting with a diverging number of factors,
<em>Journal of Business &amp; Economic Statistics</em> 40(1), 342â€“354.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utils::data(dataExample,package = "sufficientForecasting")
SF(dataExample$y,dataExample$X,method = "SIR.LLM",
hyperparameter = list(nslices = 5,discretization = TRUE))
SF(dataExample$y,dataExample$X,dataExample$newX,method = "DR")
SF(dataExample$y,dataExample$X,dataExample$newX,method = "PC")
</code></pre>

<hr>
<h2 id='SF.CI'>Conformal inference of the sufficient forecasting</h2><span id='topic+SF.CI'></span>

<h3>Description</h3>

<p>Conformal inference of the sufficient forecasting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SF.CI(
  y,
  X,
  newX = NULL,
  type = "LM",
  K = "default",
  L = 1,
  alpha = 0.1,
  discretization = TRUE,
  nslices = 10
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SF.CI_+3A_y">y</code></td>
<td>
<p>Response, T by 1 matrix</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_x">X</code></td>
<td>
<p>Predictors, p by T matrix</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_newx">newX</code></td>
<td>
<p>New predictors, a vector contains p entries (or <code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_type">type</code></td>
<td>
<p><code>LM</code> or <code>LLM</code> (default = <code>LM</code>)</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_k">K</code></td>
<td>
<p>The number of common factors (default = obtained
by <code><a href="#topic+getK">getK</a></code>)</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_l">L</code></td>
<td>
<p>The number of predictive indices, L is required to be no greater than
K (default = 1)</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_alpha">alpha</code></td>
<td>
<p>Mis-coverage rate</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_discretization">discretization</code></td>
<td>
<p>Hyperparameter in SIR (default = <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="SF.CI_+3A_nslices">nslices</code></td>
<td>
<p>Hyperparameter in SIR (default = 10)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with components
</p>

<dl>
<dt>yhat</dt><dd><p>Out-of-sample forecast for <code>newX</code>; or in-sample forecast
for the last observed data point if <code>newX</code> is <code>NULL</code></p>
</dd>
<dt>ci_lower</dt><dd><p>Lower bound of conformal interval</p>
</dd>
<dt>ci_upper</dt><dd><p>Upper bound of conformal interval</p>
</dd>
</dl>



<h3>References</h3>

<p>Yu, X., Yao, J. and Xue, L. (2022), Nonparametric estimation and conformal inference
of the sufficient forecasting with a diverging number of factors,
<em>Journal of Business &amp; Economic Statistics</em> 40(1), 342â€“354.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utils::data(dataExample,package = "sufficientForecasting")
SF.CI(dataExample$y,dataExample$X,type = "LM",alpha = 0.05)
</code></pre>

<hr>
<h2 id='SF.DR'>Directional regression for sufficient forecasting</h2><span id='topic+SF.DR'></span>

<h3>Description</h3>

<p>Directional regression for sufficient forecasting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SF.DR(y, X, newX = NULL, K = "default", L = 1, etaopg = "default", nslices = 3)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SF.DR_+3A_y">y</code></td>
<td>
<p>Response, T by 1 matrix</p>
</td></tr>
<tr><td><code id="SF.DR_+3A_x">X</code></td>
<td>
<p>Predictors, p by T matrix</p>
</td></tr>
<tr><td><code id="SF.DR_+3A_newx">newX</code></td>
<td>
<p>New predictors, a vector contains p entries (or <code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SF.DR_+3A_k">K</code></td>
<td>
<p>The number of common factors (default = obtained
by <code><a href="#topic+getK">getK</a></code>)</p>
</td></tr>
<tr><td><code id="SF.DR_+3A_l">L</code></td>
<td>
<p>The number of predictive indices, L is required to be no greater than
K (default = 1)</p>
</td></tr>
<tr><td><code id="SF.DR_+3A_etaopg">etaopg</code></td>
<td>
<p>hyperparameter in DR (default = obtained by <code>opg</code>)</p>
</td></tr>
<tr><td><code id="SF.DR_+3A_nslices">nslices</code></td>
<td>
<p>hyperparameter in DR (default = 3)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Out-of-sample forecast for <code>newX</code>; or in-sample forecast for the last
observed data point if <code>newX</code> is <code>NULL</code>
</p>


<h3>References</h3>

<p>Luo, W., Xue, L., Yao, J. and Yu, X. (2022), Inverse moment methods for sufficient
forecasting using high-dimensional predictors, <em>Biometrika</em> 109(2), 473â€“487.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utils::data(dataExample,package = "sufficientForecasting")
SF.DR(dataExample$y,dataExample$X,dataExample$newX)
</code></pre>

<hr>
<h2 id='SF.PC'>Principal component regression for sufficient forecasting</h2><span id='topic+SF.PC'></span>

<h3>Description</h3>

<p>Principal component regression for sufficient forecasting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SF.PC(y, X, newX = NULL, K = "default", L = "default")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SF.PC_+3A_y">y</code></td>
<td>
<p>Response, T by 1 matrix</p>
</td></tr>
<tr><td><code id="SF.PC_+3A_x">X</code></td>
<td>
<p>Predictors, p by T matrix</p>
</td></tr>
<tr><td><code id="SF.PC_+3A_newx">newX</code></td>
<td>
<p>New predictors, a vector contains p entries (or <code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SF.PC_+3A_k">K</code></td>
<td>
<p>The number of common factors (default = obtained
by <code><a href="#topic+getK">getK</a></code>)</p>
</td></tr>
<tr><td><code id="SF.PC_+3A_l">L</code></td>
<td>
<p>The number of principal components used in the prediction,
L is required to be no greater than K (default = <code>K</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Out-of-sample forecast for <code>newX</code>; or in-sample forecast for the last
observed data point if <code>newX</code> is <code>NULL</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utils::data(dataExample,package = "sufficientForecasting")
SF.PC(dataExample$y,dataExample$X)
</code></pre>

<hr>
<h2 id='SF.SIR'>Sliced inverse regression for sufficient forecasting</h2><span id='topic+SF.SIR'></span>

<h3>Description</h3>

<p>Sliced inverse regression for sufficient forecasting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SF.SIR(
  y,
  X,
  newX = NULL,
  type = "LM",
  K = "default",
  L = 1,
  discretization = TRUE,
  nslices = 10
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SF.SIR_+3A_y">y</code></td>
<td>
<p>Response, T by 1 matrix</p>
</td></tr>
<tr><td><code id="SF.SIR_+3A_x">X</code></td>
<td>
<p>Predictors, p by T matrix</p>
</td></tr>
<tr><td><code id="SF.SIR_+3A_newx">newX</code></td>
<td>
<p>New predictors, a vector contains p entries (or <code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SF.SIR_+3A_type">type</code></td>
<td>
<p><code>LM</code> or <code>LLM</code> (default = <code>LM</code>), <code>type = LM</code> fits
a linear regression of the response on the estimated predictive indices;
<code>type = LLM</code> fits a local linear regression</p>
</td></tr>
<tr><td><code id="SF.SIR_+3A_k">K</code></td>
<td>
<p>The number of common factors (default = obtained
by <code><a href="#topic+getK">getK</a></code>)</p>
</td></tr>
<tr><td><code id="SF.SIR_+3A_l">L</code></td>
<td>
<p>The number of predictive indices, L is required to be no greater than
K (default = 1)</p>
</td></tr>
<tr><td><code id="SF.SIR_+3A_discretization">discretization</code></td>
<td>
<p>Hyperparameter in SIR (default = <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="SF.SIR_+3A_nslices">nslices</code></td>
<td>
<p>Hyperparameter in SIR (default = 10)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Out-of-sample forecast for <code>newX</code>; or in-sample forecast for the last
observed data point if <code>newX</code> is <code>NULL</code>
</p>


<h3>References</h3>

<p>Fan, J., Xue, L. and Yao, J. (2017), Sufficient forecasting using factor models,
<em>Journal of econometrics</em> 201(2), 292â€“306.
</p>
<p>Yu, X., Yao, J. and Xue, L. (2022), Nonparametric estimation and conformal inference
of the sufficient forecasting with a diverging number of factors,
<em>Journal of Business &amp; Economic Statistics</em> 40(1), 342â€“354.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utils::data(dataExample,package = "sufficientForecasting")
SF.SIR(dataExample$y,dataExample$X,type = "LLM")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

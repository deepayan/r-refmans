<!DOCTYPE html><html><head><title>Help for package SplitGLM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SplitGLM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#coef.cv.SplitGLM'><p>Coefficients for cv.SplitGLM Object</p></a></li>
<li><a href='#coef.SplitGLM'><p>Coefficients for SplitGLM Object</p></a></li>
<li><a href='#cv.SplitGLM'><p>Cross Validation - Split Generalized Linear Model</p></a></li>
<li><a href='#plot.cv.SplitGLM'><p>Plot of coefficients paths for cv.SplitGLM Object</p></a></li>
<li><a href='#predict.cv.SplitGLM'><p>Predictions for cv.SplitGLM Object</p></a></li>
<li><a href='#predict.SplitGLM'><p>Predictions for SplitGLM Object</p></a></li>
<li><a href='#SplitGLM'><p>Split Generalized Linear Model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Split Generalized Linear Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-11-21</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Anthony Christidis &lt;anthony.christidis@stat.ubc.ca&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to compute split generalized linear models. The approach fits 
             generalized linear models that split the covariates into groups. The 
             optimal split of the variables into groups and the regularized estimation 
             of the coefficients are performed by minimizing an objective function 
             that encourages sparsity within each group and diversity among them.
             Example applications can be found in Christidis et al. (2021)
             &lt;<a href="https://doi.org/10.48550/arXiv.2102.08591">doi:10.48550/arXiv.2102.08591</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.3)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, vctrs, mvnfast</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-21 22:20:43 UTC; antho</td>
</tr>
<tr>
<td>Author:</td>
<td>Anthony Christidis [aut, cre],
  Stefan Van Aelst [aut],
  Ruben Zamar [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-22 09:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='coef.cv.SplitGLM'>Coefficients for cv.SplitGLM Object</h2><span id='topic+coef.cv.SplitGLM'></span>

<h3>Description</h3>

<p><code>coef.cv.SplitGLM</code> returns the coefficients for a cv.SplitGLM object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.SplitGLM'
coef(object, group_index = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.cv.SplitGLM_+3A_object">object</code></td>
<td>
<p>An object of class cv.SplitGLM.</p>
</td></tr>
<tr><td><code id="coef.cv.SplitGLM_+3A_group_index">group_index</code></td>
<td>
<p>The group for which to return the coefficients. Default is the ensemble coefficients.</p>
</td></tr>
<tr><td><code id="coef.cv.SplitGLM_+3A_...">...</code></td>
<td>
<p>Additional arguments for compatibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The coefficients for the cv.SplitGLM object.
</p>


<h3>Author(s)</h3>

<p>Anthony-Alexander Christidis, <a href="mailto:anthony.christidis@stat.ubc.ca">anthony.christidis@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cv.SplitGLM">cv.SplitGLM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Data simulation
set.seed(1)
n &lt;- 50
N &lt;- 2000
p &lt;- 1000
beta.active &lt;- c(abs(runif(p, 0, 1/2))*(-1)^rbinom(p, 1, 0.3))
# Parameters
p.active &lt;- 100
beta &lt;- c(beta.active[1:p.active], rep(0, p-p.active))
Sigma &lt;- matrix(0, p, p)
Sigma[1:p.active, 1:p.active] &lt;- 0.5
diag(Sigma) &lt;- 1

# Train data
x.train &lt;- mvnfast::rmvn(n, mu = rep(0, p), sigma = Sigma) 
prob.train &lt;- exp(x.train %*% beta)/
              (1+exp(x.train %*% beta))
y.train &lt;- rbinom(n, 1, prob.train)
mean(y.train)
# Test data
x.test &lt;- mvnfast::rmvn(N, mu = rep(0, p), sigma = Sigma)
prob.test &lt;- exp(x.test %*% beta)/
             (1+exp(x.test %*% beta))
y.test &lt;- rbinom(N, 1, prob.test)
mean(y.test)

# SplitGLM - CV (Multiple Groups)
split.out &lt;- cv.SplitGLM(x.train, y.train,
                         glm_type="Logistic",
                         G=10, include_intercept=TRUE,
                         alpha_s=3/4, alpha_d=1,
                         n_lambda_sparsity=50, n_lambda_diversity=50,
                         tolerance=1e-3, max_iter=1e3,
                         n_folds=5,
                         active_set=FALSE,
                         n_threads=1)
split.coef &lt;- coef(split.out)
# Predictions
split.prob &lt;- predict(split.out, newx=x.test, type="prob", group_index=NULL)
split.class &lt;- predict(split.out, newx=x.test, type="class", group_index=NULL)
plot(prob.test, split.prob, pch=20)
abline(h=0.5,v=0.5)
mean((prob.test-split.prob)^2)
mean(abs(y.test-split.class))



</code></pre>

<hr>
<h2 id='coef.SplitGLM'>Coefficients for SplitGLM Object</h2><span id='topic+coef.SplitGLM'></span>

<h3>Description</h3>

<p><code>coef.SplitGLM</code> returns the coefficients for a SplitGLM object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SplitGLM'
coef(object, group_index = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.SplitGLM_+3A_object">object</code></td>
<td>
<p>An object of class SplitGLM.</p>
</td></tr>
<tr><td><code id="coef.SplitGLM_+3A_group_index">group_index</code></td>
<td>
<p>The group for which to return the coefficients. Default is the ensemble.</p>
</td></tr>
<tr><td><code id="coef.SplitGLM_+3A_...">...</code></td>
<td>
<p>Additional arguments for compatibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The coefficients for the SplitGLM object.
</p>


<h3>Author(s)</h3>

<p>Anthony-Alexander Christidis, <a href="mailto:anthony.christidis@stat.ubc.ca">anthony.christidis@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SplitGLM">SplitGLM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Data simulation
set.seed(1)
n &lt;- 50
N &lt;- 2000
p &lt;- 1000
beta.active &lt;- c(abs(runif(p, 0, 1/2))*(-1)^rbinom(p, 1, 0.3))
# Parameters
p.active &lt;- 100
beta &lt;- c(beta.active[1:p.active], rep(0, p-p.active))
Sigma &lt;- matrix(0, p, p)
Sigma[1:p.active, 1:p.active] &lt;- 0.5
diag(Sigma) &lt;- 1

# Train data
x.train &lt;- mvnfast::rmvn(n, mu = rep(0, p), sigma = Sigma) 
prob.train &lt;- exp(x.train %*% beta)/
              (1+exp(x.train %*% beta))
y.train &lt;- rbinom(n, 1, prob.train)
mean(y.train)
# Test data
x.test &lt;- mvnfast::rmvn(N, mu = rep(0, p), sigma = Sigma)
prob.test &lt;- exp(x.test %*% beta)/
             (1+exp(x.test %*% beta))
y.test &lt;- rbinom(N, 1, prob.test)
mean(y.test)

# SplitGLM - CV (Multiple Groups)
split.out &lt;- SplitGLM(x.train, y.train,
                      glm_type="Logistic",
                      G=10, include_intercept=TRUE,
                      alpha_s=3/4, alpha_d=1,
                      lambda_sparsity=1, lambda_diversity=1,
                      tolerance=1e-3, max_iter=1e3,
                      active_set=FALSE)
split.coef &lt;- coef(split.out)
# Predictions
split.prob &lt;- predict(split.out, newx=x.test, type="prob", group_index=NULL)
split.class &lt;- predict(split.out, newx=x.test, type="class", group_index=NULL)
plot(prob.test, split.prob, pch=20)
abline(h=0.5,v=0.5)
mean((prob.test-split.prob)^2)
mean(abs(y.test-split.class))



</code></pre>

<hr>
<h2 id='cv.SplitGLM'>Cross Validation - Split Generalized Linear Model</h2><span id='topic+cv.SplitGLM'></span>

<h3>Description</h3>

<p><code>cv.SplitGLM</code> performs the CV procedure for split generalized linear models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.SplitGLM(
  x,
  y,
  glm_type = "Linear",
  G = 10,
  include_intercept = TRUE,
  alpha_s = 3/4,
  alpha_d = 1,
  n_lambda_sparsity = 50,
  n_lambda_diversity = 50,
  tolerance = 0.001,
  max_iter = 1e+05,
  n_folds = 10,
  active_set = FALSE,
  full_diversity = FALSE,
  n_threads = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cv.SplitGLM_+3A_x">x</code></td>
<td>
<p>Design matrix.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_glm_type">glm_type</code></td>
<td>
<p>Description of the error distribution and link function to be used for the model. Must be one of &quot;Linear&quot;, &quot;Logistic&quot;,
&quot;Gamma&quot; or &quot;Poisson&quot;.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_g">G</code></td>
<td>
<p>Number of groups into which the variables are split. Can have more than one value.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_include_intercept">include_intercept</code></td>
<td>
<p>Boolean variable to determine if there is intercept (default is TRUE) or not.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_alpha_s">alpha_s</code></td>
<td>
<p>Elastic net mixing parmeter. Default is 3/4.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_alpha_d">alpha_d</code></td>
<td>
<p>Mixing parameter for diversity penalty. Default is 1.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_n_lambda_sparsity">n_lambda_sparsity</code></td>
<td>
<p>Number of candidates for the sparsity penalty parameter. Default is 100.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_n_lambda_diversity">n_lambda_diversity</code></td>
<td>
<p>Number of candidates for the sparsity penalty parameter. Default is 100.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_tolerance">tolerance</code></td>
<td>
<p>Convergence criteria for the coefficients. Default is 1e-3.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_max_iter">max_iter</code></td>
<td>
<p>Maximum number of iterations in the algorithm. Default is 1e5.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_n_folds">n_folds</code></td>
<td>
<p>Number of cross-validation folds. Default is 10.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_active_set">active_set</code></td>
<td>
<p>Active set convergence for the algorithm. Default is FALSE.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_full_diversity">full_diversity</code></td>
<td>
<p>Full diversity between the groups. Default is FALSE.</p>
</td></tr>
<tr><td><code id="cv.SplitGLM_+3A_n_threads">n_threads</code></td>
<td>
<p>Number of threads. Default is 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class cv.SplitGLM.
</p>


<h3>Author(s)</h3>

<p>Anthony-Alexander Christidis, <a href="mailto:anthony.christidis@stat.ubc.ca">anthony.christidis@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+coef.cv.SplitGLM">coef.cv.SplitGLM</a></code>, <code><a href="#topic+predict.cv.SplitGLM">predict.cv.SplitGLM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Data simulation
set.seed(1)
n &lt;- 50
N &lt;- 2000
p &lt;- 1000
beta.active &lt;- c(abs(runif(p, 0, 1/2))*(-1)^rbinom(p, 1, 0.3))
# Parameters
p.active &lt;- 100
beta &lt;- c(beta.active[1:p.active], rep(0, p-p.active))
Sigma &lt;- matrix(0, p, p)
Sigma[1:p.active, 1:p.active] &lt;- 0.5
diag(Sigma) &lt;- 1

# Train data
x.train &lt;- mvnfast::rmvn(n, mu = rep(0, p), sigma = Sigma) 
prob.train &lt;- exp(x.train %*% beta)/
              (1+exp(x.train %*% beta))
y.train &lt;- rbinom(n, 1, prob.train)
mean(y.train)
# Test data
x.test &lt;- mvnfast::rmvn(N, mu = rep(0, p), sigma = Sigma)
prob.test &lt;- exp(x.test %*% beta)/
             (1+exp(x.test %*% beta))
y.test &lt;- rbinom(N, 1, prob.test)
mean(y.test)

# SplitGLM - CV (Multiple Groups)
split.out &lt;- cv.SplitGLM(x.train, y.train,
                         glm_type="Logistic",
                         G=10, include_intercept=TRUE,
                         alpha_s=3/4, alpha_d=1,
                         n_lambda_sparsity=50, n_lambda_diversity=50,
                         tolerance=1e-3, max_iter=1e3,
                         n_folds=5,
                         active_set=FALSE,
                         n_threads=1)
split.coef &lt;- coef(split.out)
# Predictions
split.prob &lt;- predict(split.out, newx=x.test, type="prob", group_index=NULL)
split.class &lt;- predict(split.out, newx=x.test, type="class", group_index=NULL)
plot(prob.test, split.prob, pch=20)
abline(h=0.5,v=0.5)
mean((prob.test-split.prob)^2)
mean(abs(y.test-split.class))



</code></pre>

<hr>
<h2 id='plot.cv.SplitGLM'>Plot of coefficients paths for cv.SplitGLM Object</h2><span id='topic+plot.cv.SplitGLM'></span>

<h3>Description</h3>

<p><code>plot.cv.SplitGLM</code> returns the coefficients for a cv.SplitGLM object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.SplitGLM'
plot(
  x,
  group_index = NULL,
  plot_type = c("Coef", "CV-Error")[1],
  active_only = TRUE,
  path_type = c("Log-Lambda", "L1-Norm")[1],
  labels = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.cv.SplitGLM_+3A_x">x</code></td>
<td>
<p>An object of class cv.SplitGLM.</p>
</td></tr>
<tr><td><code id="plot.cv.SplitGLM_+3A_group_index">group_index</code></td>
<td>
<p>The group for which to return the coefficients. Default is the ensemble coefficients.</p>
</td></tr>
<tr><td><code id="plot.cv.SplitGLM_+3A_plot_type">plot_type</code></td>
<td>
<p>Plot of coefficients, &quot;Coef&quot; (default), or cross-validated error or deviance, &quot;CV-Error&quot;.</p>
</td></tr>
<tr><td><code id="plot.cv.SplitGLM_+3A_active_only">active_only</code></td>
<td>
<p>Only include the variables selected in final model (default is TRUE).</p>
</td></tr>
<tr><td><code id="plot.cv.SplitGLM_+3A_path_type">path_type</code></td>
<td>
<p>Plot of coefficients paths as a function of either &quot;Log-Lambda&quot; (default) or &quot;L1-Norm&quot;.</p>
</td></tr>
<tr><td><code id="plot.cv.SplitGLM_+3A_labels">labels</code></td>
<td>
<p>Include the labels of the variables (default is FALSE).</p>
</td></tr>
<tr><td><code id="plot.cv.SplitGLM_+3A_...">...</code></td>
<td>
<p>Additional arguments for compatibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The coefficients for the cv.SplitGLM object.
</p>


<h3>Author(s)</h3>

<p>Anthony-Alexander Christidis, <a href="mailto:anthony.christidis@stat.ubc.ca">anthony.christidis@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cv.SplitGLM">cv.SplitGLM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Data simulation
set.seed(1)
n &lt;- 50
N &lt;- 2000
p &lt;- 1000
beta.active &lt;- c(abs(runif(p, 0, 1/2))*(-1)^rbinom(p, 1, 0.3))
# Parameters
p.active &lt;- 100
beta &lt;- c(beta.active[1:p.active], rep(0, p-p.active))
Sigma &lt;- matrix(0, p, p)
Sigma[1:p.active, 1:p.active] &lt;- 0.5
diag(Sigma) &lt;- 1

# Train data
x.train &lt;- mvnfast::rmvn(n, mu = rep(0, p), sigma = Sigma) 
prob.train &lt;- exp(x.train %*% beta)/
              (1+exp(x.train %*% beta))
y.train &lt;- rbinom(n, 1, prob.train)
mean(y.train)
# Test data
x.test &lt;- mvnfast::rmvn(N, mu = rep(0, p), sigma = Sigma)
prob.test &lt;- exp(x.test %*% beta)/
             (1+exp(x.test %*% beta))
y.test &lt;- rbinom(N, 1, prob.test)
mean(y.test)

# SplitGLM - CV (Multiple Groups)
split.out &lt;- cv.SplitGLM(x.train, y.train,
                         glm_type="Logistic",
                         G=10, include_intercept=TRUE,
                         alpha_s=3/4, alpha_d=1,
                         n_lambda_sparsity=50, n_lambda_diversity=50,
                         tolerance=1e-3, max_iter=1e3,
                         n_folds=5,
                         active_set=FALSE,
                         n_threads=1)
                         
# Plot of coefficients paths (function of Log-Lambda)
plot(split.out, plot_type="Coef", path_type="Log-Lambda", group_index=1, labels=FALSE)

# Plot of coefficients paths (function of L1-Norm)
plot(split.out, plot_type="Coef", path_type="L1-Norm", group_index=1, labels=FALSE)

# Plot of CV error
plot(split.out, plot_type="CV-Error")



</code></pre>

<hr>
<h2 id='predict.cv.SplitGLM'>Predictions for cv.SplitGLM Object</h2><span id='topic+predict.cv.SplitGLM'></span>

<h3>Description</h3>

<p><code>predict.cv.SplitGLM</code> returns the predictions for a SplitGLM object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.SplitGLM'
predict(object, newx, group_index = NULL, type = c("prob", "class")[1], ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.cv.SplitGLM_+3A_object">object</code></td>
<td>
<p>An object of class cv.SplitGLM.</p>
</td></tr>
<tr><td><code id="predict.cv.SplitGLM_+3A_newx">newx</code></td>
<td>
<p>New data for predictions.</p>
</td></tr>
<tr><td><code id="predict.cv.SplitGLM_+3A_group_index">group_index</code></td>
<td>
<p>The group for which to return the coefficients. Default is the ensemble.</p>
</td></tr>
<tr><td><code id="predict.cv.SplitGLM_+3A_type">type</code></td>
<td>
<p>The type of predictions for binary response. Options are &quot;prob&quot; (default) and &quot;class&quot;.</p>
</td></tr>
<tr><td><code id="predict.cv.SplitGLM_+3A_...">...</code></td>
<td>
<p>Additional arguments for compatibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The predictions for the cv.SplitGLM object.
</p>


<h3>Author(s)</h3>

<p>Anthony-Alexander Christidis, <a href="mailto:anthony.christidis@stat.ubc.ca">anthony.christidis@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cv.SplitGLM">cv.SplitGLM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Data simulation
set.seed(1)
n &lt;- 50
N &lt;- 2000
p &lt;- 1000
beta.active &lt;- c(abs(runif(p, 0, 1/2))*(-1)^rbinom(p, 1, 0.3))
# Parameters
p.active &lt;- 100
beta &lt;- c(beta.active[1:p.active], rep(0, p-p.active))
Sigma &lt;- matrix(0, p, p)
Sigma[1:p.active, 1:p.active] &lt;- 0.5
diag(Sigma) &lt;- 1

# Train data
x.train &lt;- mvnfast::rmvn(n, mu = rep(0, p), sigma = Sigma) 
prob.train &lt;- exp(x.train %*% beta)/
              (1+exp(x.train %*% beta))
y.train &lt;- rbinom(n, 1, prob.train)
mean(y.train)
# Test data
x.test &lt;- mvnfast::rmvn(N, mu = rep(0, p), sigma = Sigma)
prob.test &lt;- exp(x.test %*% beta)/
             (1+exp(x.test %*% beta))
y.test &lt;- rbinom(N, 1, prob.test)
mean(y.test)

# SplitGLM - CV (Multiple Groups)
split.out &lt;- cv.SplitGLM(x.train, y.train,
                         glm_type="Logistic",
                         G=10, include_intercept=TRUE,
                         alpha_s=3/4, alpha_d=1,
                         n_lambda_sparsity=50, n_lambda_diversity=50,
                         tolerance=1e-3, max_iter=1e3,
                         n_folds=5,
                         active_set=FALSE,
                         n_threads=1)
split.coef &lt;- coef(split.out)
# Predictions
split.prob &lt;- predict(split.out, newx=x.test, type="prob", group_index=NULL)
split.class &lt;- predict(split.out, newx=x.test, type="class", group_index=NULL)
plot(prob.test, split.prob, pch=20)
abline(h=0.5,v=0.5)
mean((prob.test-split.prob)^2)
mean(abs(y.test-split.class))



</code></pre>

<hr>
<h2 id='predict.SplitGLM'>Predictions for SplitGLM Object</h2><span id='topic+predict.SplitGLM'></span>

<h3>Description</h3>

<p><code>predict.SplitGLM</code> returns the predictions for a SplitGLM object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SplitGLM'
predict(object, newx, group_index = NULL, type = c("prob", "class")[1], ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.SplitGLM_+3A_object">object</code></td>
<td>
<p>An object of class SplitGLM.</p>
</td></tr>
<tr><td><code id="predict.SplitGLM_+3A_newx">newx</code></td>
<td>
<p>New data for predictions.</p>
</td></tr>
<tr><td><code id="predict.SplitGLM_+3A_group_index">group_index</code></td>
<td>
<p>The group for which to return the coefficients. Default is the ensemble.</p>
</td></tr>
<tr><td><code id="predict.SplitGLM_+3A_type">type</code></td>
<td>
<p>The type of predictions for binary response. Options are &quot;prob&quot; (default) and &quot;class&quot;.</p>
</td></tr>
<tr><td><code id="predict.SplitGLM_+3A_...">...</code></td>
<td>
<p>Additional arguments for compatibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The predictions for the SplitGLM object.
</p>


<h3>Author(s)</h3>

<p>Anthony-Alexander Christidis, <a href="mailto:anthony.christidis@stat.ubc.ca">anthony.christidis@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SplitGLM">SplitGLM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Data simulation
set.seed(1)
n &lt;- 50
N &lt;- 2000
p &lt;- 1000
beta.active &lt;- c(abs(runif(p, 0, 1/2))*(-1)^rbinom(p, 1, 0.3))
# Parameters
p.active &lt;- 100
beta &lt;- c(beta.active[1:p.active], rep(0, p-p.active))
Sigma &lt;- matrix(0, p, p)
Sigma[1:p.active, 1:p.active] &lt;- 0.5
diag(Sigma) &lt;- 1

# Train data
x.train &lt;- mvnfast::rmvn(n, mu = rep(0, p), sigma = Sigma) 
prob.train &lt;- exp(x.train %*% beta)/
              (1+exp(x.train %*% beta))
y.train &lt;- rbinom(n, 1, prob.train)
mean(y.train)
# Test data
x.test &lt;- mvnfast::rmvn(N, mu = rep(0, p), sigma = Sigma)
prob.test &lt;- exp(x.test %*% beta)/
             (1+exp(x.test %*% beta))
y.test &lt;- rbinom(N, 1, prob.test)
mean(y.test)

# SplitGLM - CV (Multiple Groups)
split.out &lt;- SplitGLM(x.train, y.train,
                      glm_type="Logistic",
                      G=10, include_intercept=TRUE,
                      alpha_s=3/4, alpha_d=1,
                      lambda_sparsity=1, lambda_diversity=1,
                      tolerance=1e-3, max_iter=1e3,
                      active_set=FALSE)
split.coef &lt;- coef(split.out)
# Predictions
split.prob &lt;- predict(split.out, newx=x.test, type="prob", group_index=NULL)
split.class &lt;- predict(split.out, newx=x.test, type="class", group_index=NULL)
plot(prob.test, split.prob, pch=20)
abline(h=0.5,v=0.5)
mean((prob.test-split.prob)^2)
mean(abs(y.test-split.class))



</code></pre>

<hr>
<h2 id='SplitGLM'>Split Generalized Linear Model</h2><span id='topic+SplitGLM'></span>

<h3>Description</h3>

<p><code>SplitGLM</code> performs computes the coefficients for split generalized linear models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SplitGLM(
  x,
  y,
  glm_type = "Linear",
  G = 10,
  include_intercept = TRUE,
  alpha_s = 3/4,
  alpha_d = 1,
  lambda_sparsity,
  lambda_diversity,
  tolerance = 0.001,
  max_iter = 1e+05,
  active_set = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SplitGLM_+3A_x">x</code></td>
<td>
<p>Design matrix.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_glm_type">glm_type</code></td>
<td>
<p>Description of the error distribution and link function to be used for the model. Must be one of &quot;Linear&quot;, &quot;Logistic&quot;,
&quot;Gamma&quot; or &quot;Poisson&quot;.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_g">G</code></td>
<td>
<p>Number of groups into which the variables are split. Can have more than one value.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_include_intercept">include_intercept</code></td>
<td>
<p>Boolean variable to determine if there is intercept (default is TRUE) or not.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_alpha_s">alpha_s</code></td>
<td>
<p>Elastic net mixing parmeter. Default is 3/4.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_alpha_d">alpha_d</code></td>
<td>
<p>Mixing parameter for diversity penalty. Default is 1.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_lambda_sparsity">lambda_sparsity</code></td>
<td>
<p>Sparsity tuning parameter value.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_lambda_diversity">lambda_diversity</code></td>
<td>
<p>Diversity tuning parameter value.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_tolerance">tolerance</code></td>
<td>
<p>Convergence criteria for the coefficients. Default is 1e-3.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_max_iter">max_iter</code></td>
<td>
<p>Maximum number of iterations in the algorithm. Default is 1e5.</p>
</td></tr>
<tr><td><code id="SplitGLM_+3A_active_set">active_set</code></td>
<td>
<p>Active set convergence for the algorithm. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class SplitGLM.
</p>


<h3>Author(s)</h3>

<p>Anthony-Alexander Christidis, <a href="mailto:anthony.christidis@stat.ubc.ca">anthony.christidis@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+coef.SplitGLM">coef.SplitGLM</a></code>, <code><a href="#topic+predict.SplitGLM">predict.SplitGLM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Data simulation
set.seed(1)
n &lt;- 50
N &lt;- 2000
p &lt;- 1000
beta.active &lt;- c(abs(runif(p, 0, 1/2))*(-1)^rbinom(p, 1, 0.3))
# Parameters
p.active &lt;- 100
beta &lt;- c(beta.active[1:p.active], rep(0, p-p.active))
Sigma &lt;- matrix(0, p, p)
Sigma[1:p.active, 1:p.active] &lt;- 0.5
diag(Sigma) &lt;- 1

# Train data
x.train &lt;- mvnfast::rmvn(n, mu = rep(0, p), sigma = Sigma) 
prob.train &lt;- exp(x.train %*% beta)/
              (1+exp(x.train %*% beta))
y.train &lt;- rbinom(n, 1, prob.train)
mean(y.train)
# Test data
x.test &lt;- mvnfast::rmvn(N, mu = rep(0, p), sigma = Sigma)
prob.test &lt;- exp(x.test %*% beta)/
             (1+exp(x.test %*% beta))
y.test &lt;- rbinom(N, 1, prob.test)
mean(y.test)

# SplitGLM - Multiple Groups
split.out &lt;- SplitGLM(x.train, y.train,
                      glm_type="Logistic",
                      G=10, include_intercept=TRUE,
                      alpha_s=3/4, alpha_d=1,
                      lambda_sparsity=1, lambda_diversity=1,
                      tolerance=1e-3, max_iter=1e3,
                      active_set=FALSE)
split.coef &lt;- coef(split.out)
# Predictions
split.prob &lt;- predict(split.out, newx=x.test, type="prob", group_index=NULL)
split.class &lt;- predict(split.out, newx=x.test, type="class", group_index=NULL)
plot(prob.test, split.prob, pch=20)
abline(h=0.5,v=0.5)
mean((prob.test-split.prob)^2)
mean(abs(y.test-split.class))



</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

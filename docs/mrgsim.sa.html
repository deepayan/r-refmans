<!DOCTYPE html><html lang="en-US"><head><title>Help for package mrgsim.sa</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mrgsim.sa}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.data.frame.sens_each'><p>Coerce sens_each output to data frame</p></a></li>
<li><a href='#denest'><p>Unnest a sens_each object</p></a></li>
<li><a href='#lsa'><p>Perform local sensitivity analysis</p></a></li>
<li><a href='#mrgsim.sa'><p>Sensitivity Analysis with 'mrgsolve'</p></a></li>
<li><a href='#parseq_cv'><p>Generate a sequence of parameters based on CV</p></a></li>
<li><a href='#parseq_fct'><p>Generate a sequence of parameters</p></a></li>
<li><a href='#parseq_manual'><p>Simulation helper to manually specify parameter sequences</p></a></li>
<li><a href='#parseq_range'><p>Simulation helper to generate a sequence of parameters from a range</p></a></li>
<li><a href='#parseq_reference'><p>Set reference values for each parameter</p></a></li>
<li><a href='#plot.lsa'><p>Plot a lsa object</p></a></li>
<li><a href='#select_par'><p>Identify parameters in a model for sensitivity analysis</p></a></li>
<li><a href='#select_sens'><p>Select sensitivity runs from a sens_each object</p></a></li>
<li><a href='#sens_fun'><p>Run an ad-hoc sensitivity analysis</p></a></li>
<li><a href='#sens_plot'><p>Plot sensitivity analysis results</p></a></li>
<li><a href='#sens_run'><p>Run ad-hoc parameter sensitivity analyses with mrgsolve</p></a></li>
<li><a href='#seq_cv'><p>Generate a sequence based on coefficient of variation</p></a></li>
<li><a href='#seq_even'><p>Generate evenly spaced sequence</p></a></li>
<li><a href='#seq_fct'><p>Generate a sequence by fold increase and decrease from a point</p></a></li>
<li><a href='#seq_geo'><p>Generate a geometric sequence of parameter values</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sensitivity Analysis with 'mrgsolve'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kyle Baron &lt;kylebtwin@imap.cc&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Perform sensitivity analysis on ordinary differential equation 
    based models, including ad-hoc graphical analyses based on structured 
    sequences of parameters as well as local sensitivity analysis. Functions 
    are provided for creating inputs, simulating scenarios and plotting outputs.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kylebaron/mrgsim.sa">https://github.com/kylebaron/mrgsim.sa</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kylebaron/mrgsim.sa/issues">https://github.com/kylebaron/mrgsim.sa/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>withr, purrr, dplyr, assertthat, rlang, ggplot2, tidyselect,
tidyr, methods, tibble, patchwork, glue</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Depends:</td>
<td>mrgsolve</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'utils.R' 'parseq.R' 'sens.R' 'AAA.R' 'lsa.R' 'sens_each.R'
'sens_grid.R' 'sens_plot.R' 'sens_run.R' 'seq.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-08 13:24:06 UTC; kyleb</td>
</tr>
<tr>
<td>Author:</td>
<td>Kyle Baron [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-08 13:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.data.frame.sens_each'>Coerce sens_each output to data frame</h2><span id='topic+as.data.frame.sens_each'></span>

<h3>Description</h3>

<p>Coerce sens_each output to data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sens_each'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.data.frame.sens_each_+3A_x">x</code></td>
<td>
<p>a <code>sense_each</code> object.</p>
</td></tr>
<tr><td><code id="as.data.frame.sens_each_+3A_row.names">row.names</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="as.data.frame.sens_each_+3A_optional">optional</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="as.data.frame.sens_each_+3A_...">...</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>

<hr>
<h2 id='denest'>Unnest a sens_each object</h2><span id='topic+denest'></span>

<h3>Description</h3>

<p>Unnest a sens_each object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>denest(x, keep_id = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="denest_+3A_x">x</code></td>
<td>
<p>a sens_each object.</p>
</td></tr>
<tr><td><code id="denest_+3A_keep_id">keep_id</code></td>
<td>
<p>if <code>FALSE</code> then the <code>ID</code> column is removed .</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> is returned after unnesting and possible modification.
</p>

<hr>
<h2 id='lsa'>Perform local sensitivity analysis</h2><span id='topic+lsa'></span><span id='topic+lsa_plot'></span>

<h3>Description</h3>

<p>Perform local sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lsa(mod, par, var, fun = .lsa_fun, eps = 1e-07, ...)

lsa_plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lsa_+3A_mod">mod</code></td>
<td>
<p>a mrgsolve model object.</p>
</td></tr>
<tr><td><code id="lsa_+3A_par">par</code></td>
<td>
<p>parameter names as character vector or comma-separated string.</p>
</td></tr>
<tr><td><code id="lsa_+3A_var">var</code></td>
<td>
<p>output names (compartment or capture) as character vector
or comma-separated string.</p>
</td></tr>
<tr><td><code id="lsa_+3A_fun">fun</code></td>
<td>
<p>generating simulated for sensitivity analysis (see details).</p>
</td></tr>
<tr><td><code id="lsa_+3A_eps">eps</code></td>
<td>
<p>parameter change value for sensitivity analysis.</p>
</td></tr>
<tr><td><code id="lsa_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+plot.lsa">plot.lsa()</a></code>.</p>
</td></tr>
<tr><td><code id="lsa_+3A_x">x</code></td>
<td>
<p>output from <code>lsa()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with class <code>lsa</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house(delta=0.1)

par &lt;- "CL,VC,KA"

var &lt;- "CP"

dose &lt;- ev(amt = 100)

fun &lt;- function(mod, ...) mrgsolve::mrgsim_e(mod, dose, output="df")

out &lt;- lsa(mod, par, var, fun)

head(out)

lsa_plot(out)

</code></pre>

<hr>
<h2 id='mrgsim.sa'>Sensitivity Analysis with 'mrgsolve'</h2><span id='topic+mrgsim.sa'></span>

<h3>Description</h3>

<p>Perform local sensitivity analysis on ordinary differential
equation based models, including ad-hoc graphical analyses based on
sequences of parameters as well as local sensitivity analysis. Functions
are provided for creating inputs, simulating scenarios and plotting outputs.
</p>


<h3>Details</h3>


<ul>
<li><p> Local sensitivity analysis: <code><a href="#topic+lsa">lsa()</a></code>
</p>
</li>
<li><p> Run ad-hoc sensitivity analyses: <code><a href="#topic+sens_each">sens_each()</a></code>, <code><a href="#topic+sens_grid">sens_grid()</a></code>, <code><a href="#topic+sens_run">sens_run()</a></code>
</p>

<ul>
<li><p> Use <code><a href="#topic+sens_each_data">sens_each_data()</a></code> and <code><a href="#topic+sens_grid_data">sens_grid_data()</a></code> to pass in data sets
</p>
</li></ul>

</li>
<li><p> Parameter sequence generation:
</p>

<ul>
<li><p> In a pipeline: <code><a href="#topic+parseq_cv">parseq_cv()</a></code>, <code><a href="#topic+parseq_fct">parseq_fct()</a></code>, <code><a href="#topic+parseq_range">parseq_range()</a></code>, <code><a href="#topic+parseq_manual">parseq_manual()</a></code>
</p>
</li>
<li><p> Stand alone: <code><a href="#topic+seq_cv">seq_cv()</a></code>, <code><a href="#topic+seq_fct">seq_fct()</a></code>, <code><a href="#topic+seq_geo">seq_geo()</a></code>, <code><a href="#topic+seq_even">seq_even()</a></code>
</p>
</li></ul>

</li>
<li><p> Plot ad-hoc sensitivity analysis results
</p>

<ul>
<li><p> Use <code><a href="#topic+sens_plot">sens_plot()</a></code>
</p>
</li></ul>

</li>
<li><p> Select a subset of sensitivity analysis results
</p>

<ul>
<li><p> Use <code><a href="#topic+select_sens">select_sens()</a></code>
</p>
</li></ul>

</li></ul>


<hr>
<h2 id='parseq_cv'>Generate a sequence of parameters based on CV</h2><span id='topic+parseq_cv'></span>

<h3>Description</h3>

<p>Generate a sequence of parameters based on CV
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseq_cv(mod, ..., .cv = 30, .n = 5, .nsd = 2, .digits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parseq_cv_+3A_mod">mod</code></td>
<td>
<p>a model object.</p>
</td></tr>
<tr><td><code id="parseq_cv_+3A_...">...</code></td>
<td>
<p>model parameter names.</p>
</td></tr>
<tr><td><code id="parseq_cv_+3A_.cv">.cv</code></td>
<td>
<p>a coefficient of variation used to determine
range of test parameters.</p>
</td></tr>
<tr><td><code id="parseq_cv_+3A_.n">.n</code></td>
<td>
<p>number of parameters to simulate in the sequence.</p>
</td></tr>
<tr><td><code id="parseq_cv_+3A_.nsd">.nsd</code></td>
<td>
<p>number of standard deviations used to determine the range.</p>
</td></tr>
<tr><td><code id="parseq_cv_+3A_.digits">.digits</code></td>
<td>
<p>if <code>numeric</code>, the number of significant digits in the
parameter sensitivity values are set using <code><a href="base.html#topic+Round">base::signif()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>.cv</code>  is passed to <code><a href="#topic+seq_cv">seq_cv()</a></code> as <code>cv</code>
</p>
</li>
<li> <p><code>.n</code>   is passed to <code><a href="#topic+seq_cv">seq_cv()</a></code> as <code>n</code>
</p>
</li>
<li> <p><code>.nsd</code> is passed to <code><a href="#topic+seq_cv">seq_cv()</a></code> as <code>nsd</code>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+parseq_fct">parseq_fct()</a></code>, <code><a href="#topic+parseq_range">parseq_range()</a></code>, <code><a href="#topic+parseq_manual">parseq_manual()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()

mod %&gt;%
  parseq_cv(CL,VC) %&gt;% 
  sens_each()

</code></pre>

<hr>
<h2 id='parseq_fct'>Generate a sequence of parameters</h2><span id='topic+parseq_fct'></span><span id='topic+parseq_factor'></span>

<h3>Description</h3>

<p>Generate a sequence of parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseq_fct(mod, ..., .n = 5, .factor = 2, .geo = TRUE, .digits = NULL)

parseq_factor(mod, ..., .n = 5, .factor = 2, .geo = TRUE, .digits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parseq_fct_+3A_mod">mod</code></td>
<td>
<p>a model object.</p>
</td></tr>
<tr><td><code id="parseq_fct_+3A_...">...</code></td>
<td>
<p>unquoted parameter names.</p>
</td></tr>
<tr><td><code id="parseq_fct_+3A_.n">.n</code></td>
<td>
<p>number of parameters to simulate between the minimum
and maximum parameter values.</p>
</td></tr>
<tr><td><code id="parseq_fct_+3A_.factor">.factor</code></td>
<td>
<p>a numeric vector used to divide and multiply the
parameter value thus generating the minimum and maximum parameter values,
respectively, for the sequence; if <code>.factor</code> is length 1 it will be
recycled to length 2; the first value is used to divide the nominal
value generating the minimum value; the second value is used to multiply
the nominal value generating the maximum value.</p>
</td></tr>
<tr><td><code id="parseq_fct_+3A_.geo">.geo</code></td>
<td>
<p>if <code>TRUE</code> a geometric sequence is generated (evenly
spaced from min to max on log scale); otherwise, the sequence is
evenly spaced on Cartesian scale.</p>
</td></tr>
<tr><td><code id="parseq_fct_+3A_.digits">.digits</code></td>
<td>
<p>if <code>numeric</code>, the number of significant digits in the
parameter sensitivity values are set using <code><a href="base.html#topic+Round">base::signif()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>.n</code>       is passed to <code><a href="#topic+seq_fct">seq_fct()</a></code> as <code>n</code>
</p>
</li>
<li> <p><code>.factor</code>  is passed to <code><a href="#topic+seq_fct">seq_fct()</a></code> as <code>factor</code>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+parseq_cv">parseq_cv()</a></code>, <code><a href="#topic+parseq_range">parseq_range()</a></code>, <code><a href="#topic+parseq_manual">parseq_manual()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()

mod %&gt;%
  parseq_fct(CL,VC) %&gt;% 
  sens_each()

</code></pre>

<hr>
<h2 id='parseq_manual'>Simulation helper to manually specify parameter sequences</h2><span id='topic+parseq_manual'></span>

<h3>Description</h3>

<p>Simulation helper to manually specify parameter sequences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseq_manual(mod, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parseq_manual_+3A_mod">mod</code></td>
<td>
<p>mrgsolve model object.</p>
</td></tr>
<tr><td><code id="parseq_manual_+3A_...">...</code></td>
<td>
<p>named numeric vectors of parameter values to
simulate; names must correspond to parameters in the model
object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Parameter value vectors passed via <code>...</code> will be sorted prior to simulation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parseq_cv">parseq_cv()</a></code>, <code><a href="#topic+parseq_range">parseq_range()</a></code>, <code><a href="#topic+parseq_fct">parseq_fct()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()

mod %&gt;%
  parseq_manual(CL = c(0.5, 1, 1.5)) %&gt;% 
  sens_each()

</code></pre>

<hr>
<h2 id='parseq_range'>Simulation helper to generate a sequence of parameters from a range</h2><span id='topic+parseq_range'></span>

<h3>Description</h3>

<p>Simulation helper to generate a sequence of parameters from a range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseq_range(mod, ..., .n = 5, .geo = TRUE, .digits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parseq_range_+3A_mod">mod</code></td>
<td>
<p>mrgsolve model object.</p>
</td></tr>
<tr><td><code id="parseq_range_+3A_...">...</code></td>
<td>
<p>named  parameter range vectors )minimum and maximum) for model
parameters; each vector must have length 2 and names must correspond to
model parameters.</p>
</td></tr>
<tr><td><code id="parseq_range_+3A_.n">.n</code></td>
<td>
<p>number of values to simulate for each parameter sequence; passed
to <code><a href="#topic+seq_geo">seq_geo()</a></code> as <code>n</code>.</p>
</td></tr>
<tr><td><code id="parseq_range_+3A_.geo">.geo</code></td>
<td>
<p>if <code>TRUE</code> generate a geometric sequence; otherwise,
generate a sequence evenly spaced on Cartesian scale; see <code><a href="#topic+seq_geo">seq_geo()</a></code>.</p>
</td></tr>
<tr><td><code id="parseq_range_+3A_.digits">.digits</code></td>
<td>
<p>if <code>numeric</code>, the number of significant digits in the
parameter sensitivity values are set using <code><a href="base.html#topic+Round">base::signif()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Parameter range vectors passed via <code>...</code> will be sorted prior to simulation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parseq_cv">parseq_cv()</a></code>, <code><a href="#topic+parseq_fct">parseq_fct()</a></code>, <code><a href="#topic+parseq_manual">parseq_manual()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()

mod %&gt;%
  parseq_range(CL = c(0.5,1),VC = c(10,40)) %&gt;% 
  sens_each()

</code></pre>

<hr>
<h2 id='parseq_reference'>Set reference values for each parameter</h2><span id='topic+parseq_reference'></span>

<h3>Description</h3>

<p>Set reference values for each parameter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseq_reference(mod, auto = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parseq_reference_+3A_mod">mod</code></td>
<td>
<p>a model object.</p>
</td></tr>
<tr><td><code id="parseq_reference_+3A_auto">auto</code></td>
<td>
<p>if <code>TRUE</code> then the model parameter list is used.</p>
</td></tr>
</table>

<hr>
<h2 id='plot.lsa'>Plot a lsa object</h2><span id='topic+plot.lsa'></span>

<h3>Description</h3>

<p>Plot a lsa object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lsa'
plot(x, y = NULL, pal = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.lsa_+3A_x">x</code></td>
<td>
<p>output from <code><a href="#topic+lsa">lsa()</a></code>.</p>
</td></tr>
<tr><td><code id="plot.lsa_+3A_y">y</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="plot.lsa_+3A_pal">pal</code></td>
<td>
<p>a color palette passed to <code><a href="ggplot2.html#topic+scale_brewer">ggplot2::scale_color_brewer()</a></code>; use
<code>NULL</code> to use default ggplot color scale.</p>
</td></tr>
<tr><td><code id="plot.lsa_+3A_...">...</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>

<hr>
<h2 id='select_par'>Identify parameters in a model for sensitivity analysis</h2><span id='topic+select_par'></span>

<h3>Description</h3>

<p>Identify parameters in a model for sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_par(mod, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_par_+3A_mod">mod</code></td>
<td>
<p>an mrgsolve model object.</p>
</td></tr>
<tr><td><code id="select_par_+3A_...">...</code></td>
<td>
<p>unquoted parameter names.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()
select_par(mod, CL, VC)

</code></pre>

<hr>
<h2 id='select_sens'>Select sensitivity runs from a sens_each object</h2><span id='topic+select_sens'></span>

<h3>Description</h3>

<p>Select sensitivity runs from a sens_each object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_sens(x, dv_name = NULL, p_name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_sens_+3A_x">x</code></td>
<td>
<p>a <code>sens_each</code> object.</p>
</td></tr>
<tr><td><code id="select_sens_+3A_dv_name">dv_name</code></td>
<td>
<p>character names of dependent variables to select; can be a
comma-separated string.</p>
</td></tr>
<tr><td><code id="select_sens_+3A_p_name">p_name</code></td>
<td>
<p>character names of parameters to select; can be a
comma-separated string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The updated <code>sens_each</code> object is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)

mod &lt;- mrgsolve::house()

out1 &lt;- mod %&gt;% parseq_factor(CL,VC) %&gt;% sens_each()

out2 &lt;- select_sens(out1, dv_name = "CP,RESP", p_name = "CL")


</code></pre>

<hr>
<h2 id='sens_fun'>Run an ad-hoc sensitivity analysis</h2><span id='topic+sens_fun'></span><span id='topic+sens_each'></span><span id='topic+sens_each_data'></span><span id='topic+sens_grid'></span><span id='topic+sens_grid_data'></span>

<h3>Description</h3>

<p>Use <code>sens_each()</code> to examine sequences of parameters, one
at a time.  Use <code>sens_grid()</code> to examine all combinations of
sequences of parameters. The <code>sens_each_data()</code> and <code>sens_grid_data()</code>
variants allow you to pass in a data set to simulate from.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sens_each(mod, idata = NULL, ...)

sens_each_data(mod, data, idata = NULL, ...)

sens_grid(mod, idata = NULL, ...)

sens_grid_data(mod, data, idata = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sens_fun_+3A_mod">mod</code></td>
<td>
<p>an mrgsolve model object (usually read in with
<code><a href="mrgsolve.html#topic+mread">mrgsolve::mread()</a></code>).</p>
</td></tr>
<tr><td><code id="sens_fun_+3A_idata">idata</code></td>
<td>
<p>included only to prevent users from passing through; the
function will create an <code>idata_set</code> if appropriate.</p>
</td></tr>
<tr><td><code id="sens_fun_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="mrgsolve.html#topic+mrgsim_variants">mrgsolve::mrgsim_d()</a></code>.</p>
</td></tr>
<tr><td><code id="sens_fun_+3A_data">data</code></td>
<td>
<p>a simulation input data set (see <code><a href="mrgsolve.html#topic+data_set">mrgsolve::data_set()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble-like object with class <code>sens_each</code> or <code>sens_grid</code>, depending on the
vary method that was used.  These objects will look just like a tibble, but
they can be plotted with <code><a href="#topic+sens_plot">sens_plot()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sens_plot">sens_plot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()

mod &lt;- mrgsolve::ev(mod, amt = 100)

out_each &lt;- parseq_cv(mod, CL, VC, .n = 3) %&gt;% sens_each()

sens_plot(out_each, dv_name = "CP,RESP", layout = "facet_grid")

out_grid &lt;- parseq_cv(mod, CL, VC) %&gt;% sens_grid()

sens_plot(out_grid, dv_name = "CP")

</code></pre>

<hr>
<h2 id='sens_plot'>Plot sensitivity analysis results</h2><span id='topic+sens_plot'></span><span id='topic+sens_plot.sens_each'></span><span id='topic+sens_plot.sens_grid'></span>

<h3>Description</h3>

<p>Plot sensitivity analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sens_plot(data, ...)

## S3 method for class 'sens_each'
sens_plot(
  data,
  dv_name = NULL,
  p_name = NULL,
  logy = FALSE,
  ncol = NULL,
  lwd = 0.8,
  digits = 3,
  plot_ref = TRUE,
  xlab = "time",
  ylab = dv_name[1],
  layout = c("default", "facet_grid", "facet_wrap", "list"),
  grid = FALSE,
  ...
)

## S3 method for class 'sens_grid'
sens_plot(
  data,
  dv_name = NULL,
  digits = 2,
  ncol = NULL,
  lwd = 0.8,
  logy = FALSE,
  plot_ref = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sens_plot_+3A_data">data</code></td>
<td>
<p>output from <code><a href="#topic+sens_each">sens_each()</a></code> or
<code><a href="#topic+sens_grid">sens_grid()</a></code>.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_...">...</code></td>
<td>
<p>arguments passed on to methods.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_dv_name">dv_name</code></td>
<td>
<p>dependent variable names to plot; can be a comma-separated
string; if <code>NULL</code>, then the unique values of <code>dv_name</code> in <code>data</code> are used.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_p_name">p_name</code></td>
<td>
<p>parameter names to plot; can be a comma-separates string.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_logy">logy</code></td>
<td>
<p>if <code>TRUE</code>, y-axis is transformed to log scale</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_ncol">ncol</code></td>
<td>
<p>passed to <code><a href="ggplot2.html#topic+facet_wrap">ggplot2::facet_wrap()</a></code>.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_lwd">lwd</code></td>
<td>
<p>passed to <code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_line()</a></code>.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_digits">digits</code></td>
<td>
<p>used to format numbers on the strips.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_plot_ref">plot_ref</code></td>
<td>
<p>if <code>TRUE</code>, then the reference case will be plotted in a black
dashed line.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_xlab">xlab</code></td>
<td>
<p>x-axis title.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_ylab">ylab</code></td>
<td>
<p>y-axis title; not used for <code>facet_grid</code> or <code>facet_wrap</code> layouts.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_layout">layout</code></td>
<td>
<p>specifies how plots should be returned when <code>dv_name</code> requests
multiple dependent variables; see <code>Details</code>.</p>
</td></tr>
<tr><td><code id="sens_plot_+3A_grid">grid</code></td>
<td>
<p>if <code>TRUE</code>, plots from the <code>sens_each</code> method
will be arranged on a page with <code><a href="patchwork.html#topic+wrap_plots">patchwork::wrap_plots()</a></code>; see the <code>ncol</code>
argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>layout</code> argument is only used for the <code>sens_each</code> method. It lets
you get the plots back in different formats when multiple dependent
variables are requested via <code>dv_name</code>.
</p>

<ul>
<li><p> Use <code>default</code> to get the plots back in a list if multiple dependent
variables are requested otherwise a single plot is returned.
</p>
</li>
<li><p> Use <code>facet_grid</code> to get a single plot, with parameters in columns and
dependent variables in rows.
</p>
</li>
<li><p> Use <code>facet_wrap</code> to get a plot with faceted using <code><a href="ggplot2.html#topic+facet_wrap">ggplot2::facet_wrap()</a></code>,
with both the parameter name and the dependent variable name in the strip.
</p>
</li>
<li><p> Use <code>list</code> to force output to be a list of plots; this output can be
further arranged using <code><a href="patchwork.html#topic+wrap_plots">patchwork::wrap_plots()</a></code> if desired.
</p>
</li></ul>

<p>When <code>grid</code> is <code>TRUE</code>, a list of plots will be returned when multiple
dependent variables are requested.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object when one <code>dv_name</code> is specified or a list of <code>ggplot</code>
objects when multiple <code>dv_name</code>s are specified.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()

dose &lt;- mrgsolve::ev(amt = 100)

out &lt;- sens_run(mod, sargs = list(events = dose),  par = "CL,VC") 

sens_plot(out, dv_name = "CP")

</code></pre>

<hr>
<h2 id='sens_run'>Run ad-hoc parameter sensitivity analyses with mrgsolve</h2><span id='topic+sens_run'></span>

<h3>Description</h3>

<p>Run ad-hoc parameter sensitivity analyses with mrgsolve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sens_run(
  mod,
  par = NULL,
  var = NULL,
  method = c("factor", "cv", "range", "manual"),
  vary = c("each", "grid"),
  ...,
  sargs = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sens_run_+3A_mod">mod</code></td>
<td>
<p>a mrgsolve model object.</p>
</td></tr>
<tr><td><code id="sens_run_+3A_par">par</code></td>
<td>
<p>parameter names for sensitivity analysis; this can be
a character vector or a comma-separated string (see examples).</p>
</td></tr>
<tr><td><code id="sens_run_+3A_var">var</code></td>
<td>
<p>names of model output variables to include in simulated output;
this could be the name of a compartment or another output derived inside
of the model (e.g. <code>DV</code> or <code>CP</code> or <code>logV</code>, but is specific to what is coded
into <code>mod</code>).</p>
</td></tr>
<tr><td><code id="sens_run_+3A_method">method</code></td>
<td>
<p>parameter sequence generation method.</p>
</td></tr>
<tr><td><code id="sens_run_+3A_vary">vary</code></td>
<td>
<p>use <code>each</code> to vary one parameter at a time or <code>grid</code> to vary
all combinations of parameters.</p>
</td></tr>
<tr><td><code id="sens_run_+3A_...">...</code></td>
<td>
<p>passed to <code>method</code> function.</p>
</td></tr>
<tr><td><code id="sens_run_+3A_sargs">sargs</code></td>
<td>
<p>a named list of arguments passed to <code><a href="#topic+sens_each">sens_each()</a></code> or
<code><a href="#topic+sens_grid">sens_grid()</a></code> and eventually to <code><a href="mrgsolve.html#topic+mrgsim">mrgsolve::mrgsim()</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mrgsolve::house()

dose &lt;- mrgsolve::ev(amt = 100)

sens_run(
  mod, 
  par = "CL,VC", 
  method = "cv", 
  vary = "each", 
  sargs = list(events = dose)
)

</code></pre>

<hr>
<h2 id='seq_cv'>Generate a sequence based on coefficient of variation</h2><span id='topic+seq_cv'></span>

<h3>Description</h3>

<p>Generate a sequence based on coefficient of variation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seq_cv(point, cv = 30, n = 5, nsd = 2, digits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seq_cv_+3A_point">point</code></td>
<td>
<p>reference parameter value.</p>
</td></tr>
<tr><td><code id="seq_cv_+3A_cv">cv</code></td>
<td>
<p>coefficient of variation.</p>
</td></tr>
<tr><td><code id="seq_cv_+3A_n">n</code></td>
<td>
<p>number of values to simulate in the sequence.</p>
</td></tr>
<tr><td><code id="seq_cv_+3A_nsd">nsd</code></td>
<td>
<p>number of standard deviations defining the range of simulated \
parameter values.</p>
</td></tr>
<tr><td><code id="seq_cv_+3A_digits">digits</code></td>
<td>
<p>number of significant digits in the answer; if <code>NULL</code> (the
default) all digits are retained.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>seq_cv(10)

seq_cv(5, n = 10)

</code></pre>

<hr>
<h2 id='seq_even'>Generate evenly spaced sequence</h2><span id='topic+seq_even'></span>

<h3>Description</h3>

<p>Generate evenly spaced sequence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seq_even(from, to, n = 5, digits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seq_even_+3A_from">from</code></td>
<td>
<p>passed to <code><a href="base.html#topic+seq">base::seq()</a></code>.</p>
</td></tr>
<tr><td><code id="seq_even_+3A_to">to</code></td>
<td>
<p>passed to <code><a href="base.html#topic+seq">base::seq()</a></code>.</p>
</td></tr>
<tr><td><code id="seq_even_+3A_n">n</code></td>
<td>
<p>passed to <code><a href="base.html#topic+seq">base::seq()</a></code> as <code>length.out</code>.</p>
</td></tr>
<tr><td><code id="seq_even_+3A_digits">digits</code></td>
<td>
<p>number of significant digits in the answer; if <code>NULL</code> (the
default) all digits are retained.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>seq_even(1, 10, 4)

</code></pre>

<hr>
<h2 id='seq_fct'>Generate a sequence by fold increase and decrease from a point</h2><span id='topic+seq_fct'></span>

<h3>Description</h3>

<p>Generate a sequence by fold increase and decrease from a point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seq_fct(point, n = 5, factor = c(3, 3), geo = TRUE, digits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seq_fct_+3A_point">point</code></td>
<td>
<p>a numeric vector of length 1.</p>
</td></tr>
<tr><td><code id="seq_fct_+3A_n">n</code></td>
<td>
<p>number of elements in the sequence.</p>
</td></tr>
<tr><td><code id="seq_fct_+3A_factor">factor</code></td>
<td>
<p>an integer vector of length 1 or 2; if length 1,
values will be recycled to length 2; the first number used to divide
<code>point</code> to generate the minimum value in the sequence; the second
number is used to multiply <code>point</code> to generate the
maximum value in the sequence.</p>
</td></tr>
<tr><td><code id="seq_fct_+3A_geo">geo</code></td>
<td>
<p>if <code>TRUE</code>, <code><a href="#topic+seq_geo">seq_geo()</a></code> is used to generate
the sequence; otherwise, <code><a href="#topic+seq_even">seq_even()</a></code> is used to generate
the sequence.</p>
</td></tr>
<tr><td><code id="seq_fct_+3A_digits">digits</code></td>
<td>
<p>number of significant digits in the answer; if <code>NULL</code> (the
default) all digits are retained.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>seq_fct(10)

seq_fct(10, n = 4, factor = 2)

seq_fct(10, n = 4, factor = 2, geo = TRUE)

</code></pre>

<hr>
<h2 id='seq_geo'>Generate a geometric sequence of parameter values</h2><span id='topic+seq_geo'></span>

<h3>Description</h3>

<p>Generate a geometric sequence of parameter values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seq_geo(from, to, n = 5, digits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seq_geo_+3A_from">from</code></td>
<td>
<p>passed to <code><a href="base.html#topic+seq">base::seq()</a></code>; must be numeric and positive.</p>
</td></tr>
<tr><td><code id="seq_geo_+3A_to">to</code></td>
<td>
<p>passed to <code><a href="base.html#topic+seq">base::seq()</a></code>; must be numeric and positive.</p>
</td></tr>
<tr><td><code id="seq_geo_+3A_n">n</code></td>
<td>
<p>passed to <code><a href="base.html#topic+seq">base::seq()</a></code> as <code>length.out</code>.</p>
</td></tr>
<tr><td><code id="seq_geo_+3A_digits">digits</code></td>
<td>
<p>number of significant digits in the answer; if <code>NULL</code> (the
default) all digits are retained.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>seq_geo(from = 1, to = 10, n = 10)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

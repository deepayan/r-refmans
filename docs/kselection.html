<!DOCTYPE html><html><head><title>Help for package kselection</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {kselection}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#kselection-package'><p>Selection of K in K-Means Clustering</p></a></li>
<li><a href='#get_f_k'><p>Get the <code class="reqn">f(K)</code> vector</p></a></li>
<li><a href='#get_k_threshold'><p>Get the <code>k_threshold</code></p></a></li>
<li><a href='#kselection'><p>Selection of K in K-means Clustering</p></a></li>
<li><a href='#num_clusters'><p>Get the number of clusters.</p></a></li>
<li><a href='#num_clusters_all'><p>Get all recommended numbers of clusters</p></a></li>
<li><a href='#set_k_threshold'><p>Set the <code>k_threshold</code></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Selection of K in K-Means Clustering</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-05-16</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Rodriguez</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Rodriguez &lt;daniel.rodriguez.perez@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Selection of k in k-means clustering based on Pham et al. paper
    &ldquo;Selection of k in k-means clustering&rdquo;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/drodriguezperez/kselection">https://github.com/drodriguezperez/kselection</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/drodriguezperez/kselection/issues">https://github.com/drodriguezperez/kselection/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>amap, FactoClass, foreach, testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-16 19:33:30 UTC; daniel</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-16 19:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='kselection-package'>Selection of K in K-Means Clustering</h2><span id='topic+kselection-package'></span>

<h3>Description</h3>

<p>Selection of k in k-means clustering based on Pham et al. paper &ldquo;Selection
of k in k-means clustering&rdquo;
</p>


<h3>Details</h3>

<p>This package implements the method for selecting the number of clusters for
the algorithm K-means introduced in the publication of Pham, Dimov and
Nguyen of 2004.
</p>

<table>
<tr>
 <td style="text-align: left;">
  Package: </td><td style="text-align: left;"> kselection </td>
</tr>
<tr>
 <td style="text-align: left;">
  Version: </td><td style="text-align: left;"> 0.2.0 </td>
</tr>
<tr>
 <td style="text-align: left;">
  License: </td><td style="text-align: left;"> GPL-3 </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Daniel Rodriguez <a href="mailto:daniel.rodriguez.perez@gmail.com">daniel.rodriguez.perez@gmail.com</a>
</p>


<h3>References</h3>

<p>D T Pham, S S Dimov, and C D Nguyen, &quot;Selection of k in k-means clustering&quot;,
Mechanical Engineering Science, 2004, pp. 103-119.
</p>

<hr>
<h2 id='get_f_k'>Get the <code class="reqn">f(K)</code> vector</h2><span id='topic+get_f_k'></span>

<h3>Description</h3>

<p>Get the <code class="reqn">f(K)</code> vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_f_k(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_f_k_+3A_obj">obj</code></td>
<td>
<p>the output of <code>kselection</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the vector of <code class="reqn">f(K)</code> function.
</p>


<h3>Author(s)</h3>

<p>Daniel Rodriguez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+num_clusters">num_clusters</a></code>, <code><a href="#topic+num_clusters_all">num_clusters_all</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a data set with two clusters
dat &lt;- matrix(c(rnorm(100, 2, .1), rnorm(100, 3, .1),
                rnorm(100, -2, .1), rnorm(100, -3, .1)), 200, 2)

# Get the f(k) vector
sol &lt;- kselection(dat)
f_k &lt;- get_f_k(sol)

</code></pre>

<hr>
<h2 id='get_k_threshold'>Get the <code>k_threshold</code></h2><span id='topic+get_k_threshold'></span>

<h3>Description</h3>

<p>Get the maximum value of <code class="reqn">f(K)</code> from which can not be considered the
existence of more than one cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_k_threshold(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_k_threshold_+3A_obj">obj</code></td>
<td>
<p>the output of <code>kselection</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the <code>k_threshold</code> value.
</p>


<h3>Author(s)</h3>

<p>Daniel Rodriguez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_k_threshold">set_k_threshold</a></code>
</p>

<hr>
<h2 id='kselection'>Selection of K in K-means Clustering</h2><span id='topic+kselection'></span>

<h3>Description</h3>

<p>Selection of k in k-means clustering based on Pham et al. paper.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kselection(
  x,
  fun_cluster = stats::kmeans,
  max_centers = 15,
  k_threshold = 0.85,
  progressBar = FALSE,
  trace = FALSE,
  parallel = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kselection_+3A_x">x</code></td>
<td>
<p>numeric matrix of data, or an object that can be coerced to such a
matrix.</p>
</td></tr>
<tr><td><code id="kselection_+3A_fun_cluster">fun_cluster</code></td>
<td>
<p>function to cluster by (e.g. <code>kmeans</code>). The first 
parameter of the function must a numeric matrix and the second the
number of clusters. The function must return an object with a named
attribute <code>withinss</code> which is a numeric vector with the within.</p>
</td></tr>
<tr><td><code id="kselection_+3A_max_centers">max_centers</code></td>
<td>
<p>maximum number of clusters for evaluation.</p>
</td></tr>
<tr><td><code id="kselection_+3A_k_threshold">k_threshold</code></td>
<td>
<p>maximum value of <code class="reqn">f(K)</code> from which can not be
considered the existence of more than one cluster in the data set.
The default value is 0.85.</p>
</td></tr>
<tr><td><code id="kselection_+3A_progressbar">progressBar</code></td>
<td>
<p>show a progress bar.</p>
</td></tr>
<tr><td><code id="kselection_+3A_trace">trace</code></td>
<td>
<p>display a trace of the progress.</p>
</td></tr>
<tr><td><code id="kselection_+3A_parallel">parallel</code></td>
<td>
<p>If set to true, use parallel <code>foreach</code> to execute the
function that implements the kmeans algorithm. Must register parallel
before hand, such as <code>doMC</code> or others. Selecting this option the
progress bar is disabled.</p>
</td></tr>
<tr><td><code id="kselection_+3A_...">...</code></td>
<td>
<p>arguments to be passed to the kmeans method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the method proposed by Pham, Dimov and Nguyen for
selecting the number of clusters for the K-means algorithm. In this method
a function <code class="reqn">f(K)</code> is used to evaluate the quality of the resulting
clustering and help decide on the optimal value of <code class="reqn">K</code> for each data
set. The <code class="reqn">f(K)</code> function is defined as
</p>
<p style="text-align: center;"><code class="reqn">f(K) = \left\{
\begin{array}{rl}
 1 &amp; \mbox{if $K = 1$} \\
 \frac{S_K}{\alpha_K S_{K-1}} &amp; \mbox{if $S_{K-1} \ne 0$, $\forall K &gt;1$} \\
 1 &amp; \mbox{if $S_{K-1} = 0$, $\forall K &gt;1$}
\end{array} \right.</code>
</p>

<p>where <code class="reqn">S_K</code> is the sum of the distortion of all cluster and <code class="reqn">\alpha_K</code>
is a weight factor which is defined as
</p>
<p style="text-align: center;"><code class="reqn">\alpha_K = \left\{
\begin{array}{rl}
 1 - \frac{3}{4 N_d}                        &amp; \mbox{if $K = 1$ and $N_d &gt; 1$} \\
 \alpha_{K-1} + \frac{1 - \alpha_{K-1}}{6}  &amp; \mbox{if $K &gt; 2$ and $N_d &gt; 1$}
\end{array} \right.</code>
</p>

<p>where <code class="reqn">N_d</code> is the number of dimensions of the data set.
</p>
<p>In this definition <code class="reqn">f(K)</code> is the ratio of the real distortion to the
estimated distortion and decreases when there are areas of concentration in
the data distribution.
</p>
<p>The values of <code class="reqn">K</code> that yield <code class="reqn">f(K) &lt; 0.85</code> can be recommended for
clustering. If there is not a value of <code class="reqn">K</code> which <code class="reqn">f(K) &lt; 0.85</code>, it
cannot be considered the existence of clusters in the data set.
</p>


<h3>Value</h3>

<p>an object with the <code class="reqn">f(K)</code> results.
</p>


<h3>Author(s)</h3>

<p>Daniel Rodriguez
</p>


<h3>References</h3>

<p>D T Pham, S S Dimov, and C D Nguyen, &quot;Selection of k in k-means clustering&quot;,
Mechanical Engineering Science, 2004, pp. 103-119.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+num_clusters">num_clusters</a></code>, <code><a href="#topic+get_f_k">get_f_k</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a data set with two clusters
dat &lt;- matrix(c(rnorm(100, 2, .1), rnorm(100, 3, .1),
                rnorm(100, -2, .1), rnorm(100, -3, .1)), 200, 2)

# Execute the method
sol &lt;- kselection(dat)

# Get the results
k   &lt;- num_clusters(sol) # optimal number of clustes
f_k &lt;- get_f_k(sol)      # the f(K) vector

# Plot the results
plot(sol)

## Not run: 
# Parallel
require(doMC)
registerDoMC(cores = 4)

system.time(kselection(dat, max_centers = 50 , nstart = 25))
system.time(kselection(dat, max_centers = 50 , nstart = 25, parallel = TRUE))

## End(Not run)

</code></pre>

<hr>
<h2 id='num_clusters'>Get the number of clusters.</h2><span id='topic+num_clusters'></span>

<h3>Description</h3>

<p>The optimal number of clusters proposed by the method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_clusters(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="num_clusters_+3A_obj">obj</code></td>
<td>
<p>the output of kselection function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the number of clusters proposed.
</p>


<h3>Author(s)</h3>

<p>Daniel Rodriguez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+num_clusters_all">num_clusters_all</a></code>, <code><a href="#topic+get_f_k">get_f_k</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a data set with two clusters
dat &lt;- matrix(c(rnorm(100, 2, .1), rnorm(100, 3, .1),
                rnorm(100, -2, .1), rnorm(100, -3, .1)), 200, 2)

# Get the optimal number of clustes
sol &lt;- kselection(dat)
k   &lt;- num_clusters(sol)

</code></pre>

<hr>
<h2 id='num_clusters_all'>Get all recommended numbers of clusters</h2><span id='topic+num_clusters_all'></span>

<h3>Description</h3>

<p>The number of cluster which could be recommender according the method
threshold.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_clusters_all(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="num_clusters_all_+3A_obj">obj</code></td>
<td>
<p>the output of <code>kselection</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an array of number of clusters that could be recommended.
</p>


<h3>Author(s)</h3>

<p>Daniel Rodriguez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+num_clusters">num_clusters</a></code>, <code><a href="#topic+get_f_k">get_f_k</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a data set with two clusters
dat &lt;- matrix(c(rnorm(100, 2, .1), rnorm(100, 3, .1),
                rnorm(100, -2, .1), rnorm(100, -3, .1)), 200, 2)

# Get the optimal number of clustes
sol &lt;- kselection(dat)
k   &lt;- num_clusters(sol)

</code></pre>

<hr>
<h2 id='set_k_threshold'>Set the <code>k_threshold</code></h2><span id='topic+set_k_threshold'></span>

<h3>Description</h3>

<p>Set the maximum value of <code class="reqn">f(K)</code> from which can not be considered the
existence of more than one cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_k_threshold(obj, k_threshold)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_k_threshold_+3A_obj">obj</code></td>
<td>
<p>the output of <code>kselection</code> function.</p>
</td></tr>
<tr><td><code id="set_k_threshold_+3A_k_threshold">k_threshold</code></td>
<td>
<p>maximum value of <code class="reqn">f(K)</code> from which can not be
considered the existence of more than one cluster in the data set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the output of kselection function with new <code>k_threshold</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel Rodriguez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_k_threshold">get_k_threshold</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

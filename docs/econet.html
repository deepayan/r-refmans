<!DOCTYPE html><html><head><title>Help for package econet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {econet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#a_db_alumni'><p>Dataset from Battaglini, Patacchini (2018)</p></a></li>
<li><a href='#a_G_alumni_111'><p>Column-normalized adjacency matrix representing the alumni network of the 111th U.S. Congress.</p></a></li>
<li><a href='#boot'><p>boot: Bootstrap residuals with cross-sectional dependence</p></a></li>
<li><a href='#db_alumni_test'><p>Dataset from Battaglini, Patacchini (2018)</p></a></li>
<li><a href='#db_cosponsor'><p>Dataset from Battaglini, Leone Sciabolazza, Patacchini (2018)</p></a></li>
<li><a href='#G_alumni_111'><p>Column-normalized adjacency matrix representing the alumni network of the 111th U.S. Congress.</p></a></li>
<li><a href='#G_cosponsor_111'><p>Column-normalized adjacency matrix representing the cosponsorship network of the 111th U.S. Congress.</p></a></li>
<li><a href='#G_model_A_test'><p>Column-normalized adjacency matrix representing a subsample of the alumni network of the 111th U.S. Congress.</p></a></li>
<li><a href='#horse_race'><p>Compare the explanatory power of parameter.dependent network centrality measures with those of standard measures of network centrality.</p></a></li>
<li><a href='#net_dep'><p>Implement a number of modifications to the linear-in-means model to obtain different weighted versions of Katz-Bonacich centrality.</p></a></li>
<li><a href='#quantify'><p>quantify: quantification of marginal effects in linear-in-means models.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Estimation of Parameter-Dependent Network Centrality Measures</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides methods for estimating parameter-dependent network centrality measures with linear-in-means models. Both non linear least squares and maximum likelihood estimators are implemented. The methods allow for both link and node heterogeneity in network effects, endogenous network formation and the presence of unconnected nodes. The routines also compare the explanatory power of parameter-dependent network centrality measures with those of standard measures of network centrality. Benefits and features of the 'econet' package are illustrated using data from Battaglini and Patacchini (2018) and Battaglini, Patacchini, and Leone Sciabolazza (2020). For additional details, see the vignette &lt;<a href="https://doi.org/10.18637%2Fjss.v102.i08">doi:10.18637/jss.v102.i08</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>bbmle, igraph, intergraph, formula.tools, Matrix, MASS,
minpack.lm, sna, spatstat.utils, stats, utils, plyr, dplyr,
parallel, doParallel, progressr, foreach</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, R.rsp</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>R.rsp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-27 23:07:22 UTC; Valerio</td>
</tr>
<tr>
<td>Author:</td>
<td>Marco Battaglini <a href="https://orcid.org/0000-0001-9690-0721"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Valerio Leone Sciabolazza
    <a href="https://orcid.org/0000-0003-2537-3084"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Eleonora Patacchini
    <a href="https://orcid.org/0000-0002-3510-2969"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Sida Peng <a href="https://orcid.org/0000-0002-2151-0523"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Valerio Leone Sciabolazza &lt;valerio.leonesciabolazza@uniroma1.it&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-28 00:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='a_db_alumni'>Dataset from Battaglini, Patacchini (2018)</h2><span id='topic+a_db_alumni'></span>

<h3>Description</h3>

<p>Dataset from Battaglini, Patacchini (2018)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("a_db_alumni")
</code></pre>


<h3>Format</h3>

<p>an object of class <code>data.frame</code> with 2176 rows and 48 columns
</p>

<dl>
<dt>id</dt><dd><p>unique congressman id.</p>
</dd>
<dt>PAC</dt><dd><p>PAC contributions to a member of Congress (in US dollars).</p>
</dd>
<dt>isolate</dt><dd><p>dummy variable taking value of 1 if the congressman did not graduate from the same institution within eight years with any other congressman.</p>
</dd>
<dt>S1-S65</dt><dd><p>list of school dummies. Each one refers to a different school. The dummy takes value one if the congressman attended the given school.</p>
</dd>
<dt>S_other</dt><dd><p>dummy variable taking value of 1 if the congressman attended any other school not previously listed.</p>
</dd>
<dt>party</dt><dd><p>dummy variable taking value 1 if the congressman is a Democrat, and 0 if the congressman is a Republican.</p>
</dd>
<dt>gender</dt><dd><p>dummy variable taking value of 1 if the congressman is female.</p>
</dd>
<dt>nchair</dt><dd><p>dummy variable taking value of 1 if the congressman is a chair of at least one committee.</p>
</dd>
<dt>sen</dt><dd><p>number of consecutive years in the House of Representatives.</p>
</dd>
<dt>margin_b</dt><dd><p>dummy variable taking value of 1 if the election margin of victory is less than 5%.</p>
</dd>
<dt>dw</dt><dd><p>distance to the center in terms of ideology measured using the absolute value of the first dimension of the dw-nominate score created by McCarty et al. (1997).</p>
</dd>
<dt>majority</dt><dd><p>dummy variable taking value of 1 if the member of Congress is a member of the party holding the majority of the seats in the House of Representatives.</p>
</dd>
<dt>relcom</dt><dd><p>dummy variable taking value of 1 if the congressman is member of a powerful committee (Appropriations, Budget, Rules and Ways and Means).</p>
</dd>
<dt>time</dt><dd><p>categorical variable. It takes 1 if the record refers to the 109th congress, 2 if the record refers to the 110th congress, 3 if the record refers to the 111th congress, 4 if the record refers to the 112th congress, 5 if the record refers to the 113th congress.</p>
</dd>
<dt>weights</dt><dd><p>for each congressman <em>i</em>, the value is equal to the inverse of the variance of PAC contributions received by all congressmen in <em>i</em>'s State of election.</p>
</dd>
</dl>



<h3>References</h3>

<p>Battaglini M., E. Patacchini (2018), &quot;Influencing Connected Legislators&quot;, Journal of Political Economy, forthcoming. <br />
McCarty, N. M., K. T. Poole, and H. Rosenthal (1997), &quot;Income redistribution and the realignment of American politics&quot;, AEIpress. <br />
</p>

<hr>
<h2 id='a_G_alumni_111'>Column-normalized adjacency matrix representing the alumni network of the 111th U.S. Congress.</h2><span id='topic+a_G_alumni_111'></span>

<h3>Description</h3>

<p>Column-normalized adjacency matrix representing the alumni network of the 111th U.S. Congress.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("a_G_alumni_111")
</code></pre>


<h3>Format</h3>

<p>an object of class <code>Matrix</code> with 426 rows and 426 columns
</p>


<h3>References</h3>

<p>Battaglini M., E. Patacchini (2018), &quot;Influencing Connected Legislators&quot;, Journal of Political Economy, forthcoming.<br />
</p>

<hr>
<h2 id='boot'>boot: Bootstrap residuals with cross-sectional dependence</h2><span id='topic+boot'></span><span id='topic+boot.econet'></span>

<h3>Description</h3>

<p>boot: Bootstrap residuals with cross-sectional dependence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'econet'
boot(
  object,
  hypothesis = c("lim", "het", "het_l", "het_r", "par", "par_split_with",
    "par_split_btw", "par_split_with_btw"),
  group = NULL,
  niter,
  weights = FALSE,
  delta = NULL,
  na.rm = FALSE,
  parallel = FALSE,
  cl,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boot_+3A_object">object</code></td>
<td>
<p>an object of class <code>econet</code> obtained using 'NLLS' estimation.</p>
</td></tr>
<tr><td><code id="boot_+3A_hypothesis">hypothesis</code></td>
<td>
<p>string. One of <code>c("lim","het", "het_l", "het_r", "par", "par_split_with", "par_split_btw", "par_split_with_btw")</code>.</p>
</td></tr>
<tr><td><code id="boot_+3A_group">group</code></td>
<td>
<p><code>NULL</code> or vector of positive integers specifying the indices for resampling within groups.</p>
</td></tr>
<tr><td><code id="boot_+3A_niter">niter</code></td>
<td>
<p>number of required iterations.</p>
</td></tr>
<tr><td><code id="boot_+3A_weights">weights</code></td>
<td>
<p>logical. It is <code>TRUE</code> if the object <code>object</code> was estimated using <code>weights</code>, and <code>FALSE</code> otherwise. Default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="boot_+3A_delta">delta</code></td>
<td>
<p>Default is <code>NULL</code>.It has to be a number between zero (included) and one (excluded). When used, <code>econet</code> performs a constrained NLLS estimation. In this case, the estimated peer effect parameter, taken in absolute value, is forced to be higher than zero and lower than the spectral radius of <code>G</code>. Specifically, <code>delta</code> is a penalizing factor, decreasing the goodness of fit of the NLLS estimation, when the peer effect parameter approaches one of the two bounds. Observe that very high values of <code>delta</code> may cause NLLS estimation not to converge.</p>
</td></tr>
<tr><td><code id="boot_+3A_na.rm">na.rm</code></td>
<td>
<p>logical. Should missing values (including <code>NaN</code>) be removed?</p>
</td></tr>
<tr><td><code id="boot_+3A_parallel">parallel</code></td>
<td>
<p>logical. It is <code>TRUE</code> if the user wants to make use of parallelization. Default is <code>FALSE</code>. Observe that this option is still in its beta version and it has been tested only for the Windows platform.</p>
</td></tr>
<tr><td><code id="boot_+3A_cl">cl</code></td>
<td>
<p>numeric. Number of cores to be used for parallelization.</p>
</td></tr>
<tr><td><code id="boot_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For additional details, see the vignette (doi:10.18637/jss.v102.i08).
Warning: This function is available only when <code>net_dep</code> is run with <code>estimation == "NLLS"</code>
</p>


<h3>Value</h3>

<p>a numeric vector containing bootstrapped standard errors  (see Anselin, 1990). If the procedure is not feasible, it returns a vector of NAs.
</p>


<h3>References</h3>

<p>Anselin, L., 1990, &quot;Some robust approach to testing and estimation in spatial econometrics&quot;, Regional Science and Urban Economics, 20, 141-163.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+net_dep">net_dep</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load data
data("db_cosponsor")
data("G_alumni_111")
db_model_B &lt;- db_cosponsor
G_model_B &lt;- G_cosponsor_111
G_exclusion_restriction &lt;- G_alumni_111
are_factors &lt;- c("party", "gender", "nchair")
db_model_B[are_factors] &lt;- lapply(db_model_B[are_factors], factor)

# Specify formula
f_model_B &lt;- formula("les ~gender + party + nchair")

# Specify starting values
starting &lt;- c(alpha = 0.23952,
              beta_gender1 = -0.22024,
              beta_party1 = 0.42947,
              beta_nchair1 = 3.09615,
              phi = 0.40038,
              unobservables = 0.07714)

# object Linear-in-means model
lim_model_B &lt;- net_dep(formula = f_model_B, data = db_model_B,
                       G = G_model_B, model = "model_B", estimation = "NLLS",
                       hypothesis = "lim", endogeneity = TRUE, correction = "heckman",
                       first_step = "standard",
                       exclusion_restriction = G_exclusion_restriction,
                       start.val = starting)
# Bootstrap
# Warning: this may take a very long time to run.
# Decrease the number of iterations to reduce runtime.
# If you run econet on a Windows platform, you can try to set the
# argument parallel = TRUE. However note that this option is still
# in its beta version.
boot_lim_estimate &lt;- boot(object = lim_model_B, hypothesis = "lim",
                          group = NULL, niter = 10, weights = FALSE)
boot_lim_estimate

</code></pre>

<hr>
<h2 id='db_alumni_test'>Dataset from Battaglini, Patacchini (2018)</h2><span id='topic+db_alumni_test'></span>

<h3>Description</h3>

<p>Dataset from Battaglini, Patacchini (2018)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("db_alumni_test")
</code></pre>


<h3>Format</h3>

<p>Data set for runtime executions. An object of class <code>data.frame</code> with 42 rows and 48 columns
</p>

<dl>
<dt>id</dt><dd><p>unique congressman id.</p>
</dd>
<dt>PAC</dt><dd><p>PAC contributions to a member of Congress (in US dollars).</p>
</dd>
<dt>isolate</dt><dd><p>dummy variable taking value of 1 if the congressman did not graduate from the same institution within eight years with any other congressman.</p>
</dd>
<dt>S1-S65</dt><dd><p>list of school dummies. Each one refers to a different school. The dummy takes value one if the congressman attended the given school.</p>
</dd>
<dt>S_other</dt><dd><p>dummy variable taking value of 1 if the congressman attended any other school not previously listed.</p>
</dd>
<dt>party</dt><dd><p>dummy variable taking value 1 if the congressman is a Democrat, and 0 if the congressman is a Republican.</p>
</dd>
<dt>gender</dt><dd><p>dummy variable taking value of 1 if the congressman is female.</p>
</dd>
<dt>nchair</dt><dd><p>dummy variable taking value of 1 if the congressman is a chair of at least one committee.</p>
</dd>
<dt>sen</dt><dd><p>number of consecutive years in the House of Representatives.</p>
</dd>
<dt>margin_b</dt><dd><p>dummy variable taking value of 1 if the election margin of victory is less than 5%.</p>
</dd>
<dt>dw</dt><dd><p>distance to the center in terms of ideology measured using the absolute value of the first dimension of the dw-nominate score created by McCarty et al. (1997).</p>
</dd>
<dt>majority</dt><dd><p>dummy variable taking value of 1 if the member of Congress is a member of the party holding the majority of the seats in the House of Representatives.</p>
</dd>
<dt>relcom</dt><dd><p>dummy variable taking value of 1 if the congressman is member of a powerful committee (Appropriations, Budget, Rules and Ways and Means).</p>
</dd>
<dt>time</dt><dd><p>categorical variable. It takes 1 if the record refers to the 109th congress, 2 if the record refers to the 110th congress, 3 if the record refers to the 111th congress, 4 if the record refers to the 112th congress, 5 if the record refers to the 113th congress.</p>
</dd>
<dt>weights</dt><dd><p>for each congressman <em>i</em>, the value is equal to the inverse of the variance of PAC contributions received by all congressmen in <em>i</em>'s State of election.</p>
</dd>
</dl>


<hr>
<h2 id='db_cosponsor'>Dataset from Battaglini, Leone Sciabolazza, Patacchini (2018)</h2><span id='topic+db_cosponsor'></span>

<h3>Description</h3>

<p>Dataset from Battaglini, Leone Sciabolazza, Patacchini (2018)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("db_cosponsor")
</code></pre>


<h3>Format</h3>

<p>an object of class <code>data.frame</code> with 2176 rows and 48 columns
</p>

<dl>
<dt>id</dt><dd><p>unique congressman id.</p>
</dd>
<dt>time</dt><dd><p>categorical variable. It takes 1 if the record refers to the 109th congress, 2 if the record refers to the 110th congress, 3 if the record refers to the 111th congress, 4 if the record refers to the 112th congress, 5 if the record refers to the 113th congress.</p>
</dd>
<dt>party</dt><dd><p>dummy variable taking value 1 if the congressman is a Democrat, and 0 if the congressman is a Republican.</p>
</dd>
<dt>gender</dt><dd><p>dummy variable taking value of 1 if the congressman is female.</p>
</dd>
<dt>nchair</dt><dd><p>dummy variable taking value of 1 if the congressman is a chair of at least one committee.</p>
</dd>
<dt>margin</dt><dd><p>election Margin of Victory of the member of Congress.</p>
</dd>
<dt>dw</dt><dd><p>distance to the center in terms of ideology measured using the absolute value of the first dimension of the dw-nominate score created by McCarty et al. (1997).</p>
</dd>
<dt>les</dt><dd><p>weighted average of the following the number of a congressman’s sponsored bill that were introduced, received any action in committee and beyond committee, passed the House, and became law. It differentially weights commemorative, substantive and significant legislation. Created by Volden C. and Wiseman A. E. (2014).</p>
</dd>
<dt>majority</dt><dd><p>dummy variable taking value of 1 if the member of Congress is a member of the party holding the majority of the seats in the House of Representatives.</p>
</dd>
<dt>state_leg</dt><dd><p>dummy variable taking value of 1 if the member of Congress served in state legislature.</p>
</dd>
<dt>state_leg_prof</dt><dd><p>Squire’s (1992) index of state professionalism relative to Congress.</p>
</dd>
<dt>speaker</dt><dd><p>dummy variable taking value of 1 if the member of Congress is speaker of the House.</p>
</dd>
<dt>seniority</dt><dd><p>number of consecutive years in the House of Representatives.</p>
</dd>
<dt>maj_leader</dt><dd><p>dummy variable taking value of 1 if the member of Congress is member of the majority party leadership, as reported by the Almanac of American Politics.</p>
</dd>
<dt>min_leader</dt><dd><p>dummy variable taking value of 1 if the member of Congress is member of the minority party leadership, as reported by the Almanac of American Politics.</p>
</dd>
<dt>nowhite</dt><dd><p>dummy variable taking value of 1 if the member of Congress is Afro-American or Latino, and 0 otherwise.</p>
</dd>
<dt>H.102-251</dt><dd><p>list of committee dummies. Each one refers to a different committee. The dummy takes value of 1 if the congressman served in the given commitee.</p>
</dd>
<dt>weights</dt><dd><p>for each congressman <em>i</em>, the value is equal to the inverse of the variance of LES of all congressmen in <em>i</em>'s State of election.</p>
</dd>
</dl>



<h3>References</h3>

<p>Battaglini M., V. Leone Sciabolazza, E. Patacchini (2018), &quot;Effectiveness of Connected Legislators&quot;, Mimeo.<br />
McCarty, N. M., K. T. Poole, and H. Rosenthal (1997), &quot;Income redistribution and the realignment of American politics&quot;, AEIpress. <br />
Squire, P. (1992), &quot;Legislative professionalization and membership diversity in state legislatures&quot;, Legislative Studies Quarterly, 17(1) 69-79.<br />
Volden, C., and A. E. Wiseman (2014), &quot;Legislative Effectiveness in the United States Congress The Lawmakers&quot;, Cambridge University Press.
</p>

<hr>
<h2 id='G_alumni_111'>Column-normalized adjacency matrix representing the alumni network of the 111th U.S. Congress.</h2><span id='topic+G_alumni_111'></span>

<h3>Description</h3>

<p>Column-normalized adjacency matrix representing the alumni network of the 111th U.S. Congress.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("G_alumni_111")
</code></pre>


<h3>Format</h3>

<p>an object of class <code>Matrix</code> with 426 rows and 426 columns
</p>


<h3>References</h3>

<p>Battaglini M., V. Leone Sciabolazza, E. Patacchini (2018), &quot;Effectiveness of Connected Legislators&quot;,  Mimeo.
</p>

<hr>
<h2 id='G_cosponsor_111'>Column-normalized adjacency matrix representing the cosponsorship network of the 111th U.S. Congress.</h2><span id='topic+G_cosponsor_111'></span>

<h3>Description</h3>

<p>Column-normalized adjacency matrix representing the cosponsorship network of the 111th U.S. Congress.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("G_cosponsor_111")
</code></pre>


<h3>Format</h3>

<p>an object of class <code>Matrix</code> with 439 rows and 439 columns
</p>


<h3>References</h3>

<p>Battaglini M., V. Leone Sciabolazza, E. Patacchini (2018), &quot;Effectiveness of Connected Legislators&quot;, Mimeo.<br />
</p>

<hr>
<h2 id='G_model_A_test'>Column-normalized adjacency matrix representing a subsample of the alumni network of the 111th U.S. Congress.</h2><span id='topic+G_model_A_test'></span>

<h3>Description</h3>

<p>Column-normalized adjacency matrix representing a subsample of the alumni network of the 111th U.S. Congress.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("G_model_A_test")
</code></pre>


<h3>Format</h3>

<p>Data set for runtime executions. An object of class <code>Matrix</code> with 42 rows and 42 columns
</p>


<h3>References</h3>

<p>Battaglini M., E. Patacchini (2018), &quot;Influencing Connected Legislators&quot;, Journal of Political Economy, forthcoming.<br />
</p>

<hr>
<h2 id='horse_race'>Compare the explanatory power of parameter.dependent network centrality measures with those of standard measures of network centrality.</h2><span id='topic+horse_race'></span>

<h3>Description</h3>

<p>Compare the explanatory power of parameter.dependent network centrality measures with those of standard measures of network centrality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>horse_race(
  formula = formula(),
  centralities = c("indegree", "outdegree", "degree", "betweenness", "incloseness",
    "outcloseness", "closeness", "eigenvector"),
  directed = FALSE,
  weighted = FALSE,
  normalization = FALSE,
  data = list(),
  unobservables = list(),
  G = list(),
  model = c("model_A", "model_B"),
  estimation = c("NLLS", "MLE"),
  endogeneity = FALSE,
  first_step = NULL,
  exclusion_restriction = NULL,
  start.val = NULL,
  to_weight = NULL,
  time_fixed_effect = NULL,
  ind_fixed_effect = NULL,
  mle_controls = NULL,
  kappa = NULL,
  delta = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="horse_race_+3A_formula">formula</code></td>
<td>
<p>an object of class <code>formula</code>: a symbolic description of the model to be fitted. The constant (i.e. intercept) and the autogressive parameter needs not to be specified.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_centralities">centralities</code></td>
<td>
<p>at least one of <code>c("indegree","outdegree","degree", "betweenness", "incloseness", "outcloseness", "closeness", "eigenvector")</code>.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_directed">directed</code></td>
<td>
<p>logical. <code>TRUE</code> if the social network is directed, <code>FALSE</code> otherwise.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_weighted">weighted</code></td>
<td>
<p>logical. <code>TRUE</code> if the social network is weighted, <code>FALSE</code> otherwise.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_normalization">normalization</code></td>
<td>
<p>Default is NULL. Alternatively, it can be set to <code>c("bygraph","bycomponent","bymaxcomponent","bymaxgraph")</code>. See details.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_data">data</code></td>
<td>
<p>an object of class <code>data.frame</code> containing the variables in the model. If data are longitudinal, observations must be ordered by time period and then by individual.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_unobservables">unobservables</code></td>
<td>
<p>a numeric vector used to obtain an unbiased estimate of the parameter.dependent centrality when the network is endogenous. See details.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_g">G</code></td>
<td>
<p>an object of class <code>Matrix</code> representing the social network. Row and column names must be specified and match the order of the observations in <code>data</code>.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_model">model</code></td>
<td>
<p>string. One of <code>c("model_A","model_B")</code>. See details.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_estimation">estimation</code></td>
<td>
<p>string. One of <code>c("NLLS","MLE")</code>. They are used to implement respectively a non-linear least square and a maximum likelihood estimator.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_endogeneity">endogeneity</code></td>
<td>
<p>logical. Default is <code>FALSE</code>. If <code>TRUE</code>, <code>net_dep</code> implements a two-step correction procedure to control for the endogeneity of the network.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_first_step">first_step</code></td>
<td>
<p>Default is NULL. If <code>endogeneity = TRUE</code>, it requires to specify one of <code>c("standard","fe", "shortest", "coauthors", "degree")</code>. See details.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_exclusion_restriction">exclusion_restriction</code></td>
<td>
<p>an object of class <code>Matrix</code> representing the exogenous matrix used to instrument the endogenous social network, if <code>unobservables</code> is non-<code>NULL</code>.  Row and column names must be specified and match the order of the observations in <code>data</code>.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_start.val">start.val</code></td>
<td>
<p>an optional list containing the starting values for the estimations. Object names must match the names provided in <code>formula</code>. It is also required to specify the value of both the constant and the decay parameter(s).</p>
</td></tr>
<tr><td><code id="horse_race_+3A_to_weight">to_weight</code></td>
<td>
<p>an optional vector of weights to be used in the fitting process to indicate that different observations have different variances. Should be <code>NULL</code> or a numeric vector. If non-<code>NULL</code>, weighted non-linear least squares (if <code>estimation = "NLLS"</code>) or weighted maximum likelihood  (if <code>estimation = "MLE"</code>) is estimated.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_time_fixed_effect">time_fixed_effect</code></td>
<td>
<p>an optional string. It indicates the name of the time index used in formula. It is used for models with longitudinal data.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_ind_fixed_effect">ind_fixed_effect</code></td>
<td>
<p>an optional string. Default is <code>NULL</code>. It indicates the name of the individual index contained in the data. If provided, individual fixed effects are automatically added to the <code>formula</code> of the main equation. If <code>endogeneity = TRUE</code>, the field <code>first_step</code> is overridden, and automatically set equal to <code>"fe"</code>. It is used for models with longitudinal data.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_mle_controls">mle_controls</code></td>
<td>
<p>a list allowing the user to set upper and lower bounds for control variables in MLE estimation and the variance for the ML estimator. See details.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_kappa">kappa</code></td>
<td>
<p>a normalization level with default equals 1 used in MLE estimation.</p>
</td></tr>
<tr><td><code id="horse_race_+3A_delta">delta</code></td>
<td>
<p>Default is <code>NULL</code>. To be used when <code>estimation = "NLLS"</code>. It has to be a number between zero (included) and one (excluded). When used, <code>econet</code> performs a constrained NLLS estimation. In this case, the estimated peer effect parameter, taken in absolute value, is forced to be higher than zero and lower than the spectral radius of <code>G</code>. Specifically, <code>delta</code> is a penalizing factor, decreasing the goodness of fit of the NLLS estimation, when the peer effect parameter approaches one of the two bounds. Observe that very high values of <code>delta</code> may cause NLLS estimation not to converge.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A number of different normalization are available to the user:
</p>

<ul>
<li> <p><code>bygraph</code> and <code>bycomponent</code> are used to divide <em>degree</em> and <em>closeness</em> centrality by <code class="reqn">n - 1</code>, and <em>betweenness</em> centrality by <code class="reqn">(n - 1) * (n - 2)</code> if <code>directed = TRUE</code>, or by <code class="reqn">(n - 1)*(n - 2)/2</code> if <code>directed = FALSE</code>. In the former case (i.e. <code>bygraph</code>), <em>n</em> is equal to the number of nodes in the network In the latter case (i.e. <code>bycomponent</code>), <em>n</em> is equal to the number of nodes of the component in which the node is embedded.
</p>
</li>
<li> <p><code>bymaxgraph</code> and <code>bymaxcomponent</code> are used to divide <em>degree</em>, <em>betweenness</em> and <em>closeness</em> centrality by the maximum value of the centrality of the network (<code>bymaxgraph</code>) or component (<code>bymaxcomponent</code>) in which the node is embedded.
</p>
</li></ul>

<p>If the network is endogenous, the user is required to run separately <code>net_dep</code> and extract from the resulting object the vector of unobservables necessary for obtaining an unbiased estimate of the parameter.dependent centrality. This vector can be passed through the argument <code>unobservables</code>.<br />
If <code>endogeneity = TRUE</code>, a two-step estimation is implemented to control for network endogeneity. The argument <code>first_step</code> is used to control for the specification of the first-step model, e.g.:
</p>

<ul>
<li> <p><code>first_step = "standard"</code> is used when agents' connection are predicted by the differences in their characteristics (i.e. those on the right hand side of <code>formula</code>), and an <code>exclusion_restriction</code>: i.e., their connections in a different network.
</p>
</li>
<li> <p><code>first_step = "fe"</code> adds individual fixed effects to the <code>standard</code> model, as in Graham (2017).
</p>
</li>
<li> <p><code>first_step = "shortest"</code> adds to the <code>standard</code> model, the shortest distance between <em>i</em> and <em>j</em>, excluding the link between <em>i</em> and <em>j</em> itself, as in Fafchamps et al (2010).
</p>
</li>
<li> <p><code>first_step = "coauthor"</code> adds to the <code>standard</code> model, the number of shared connections between <em>i</em> and <em>j</em>, as in Graham (2015).
</p>
</li>
<li> <p><code>first_step = "degree"</code> adds to the <code>standard</code> model, the difference in the degree centrality of <em>i</em> and <em>j</em>.
</p>
</li></ul>

<p>For additional details, see the vignette (doi:10.18637/jss.v102.i08).
</p>


<h3>Value</h3>

<p>A list of two objects:
</p>

<ul>
<li><p> A list of estimates, each one setting the decay parameter to zero, and adding one of the <code>centralities</code> to the specification of <code>formula</code>. The last object adds to <code>formula</code> all the selected <code>centralities</code> and the decay parameter is set different from zero.
</p>
</li>
<li><p> An object of class <code>data.frame</code> containing the computed centrality measures.
</p>
</li>
<li><p> A list of first-step estimations used to correct the effect of centrality measures when the network is endogenous.
</p>
</li></ul>



<h3>References</h3>

<p>Battaglini M., V. Leone Sciabolazza, E. Patacchini, S. Peng (2020), &quot;Econet: An R package for the Estimation of parameter-dependent centrality measures&quot;, Mimeo. <br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+net_dep">net_dep</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load data
data("db_cosponsor")
data("G_alumni_111")
db_model_B &lt;- db_cosponsor
G_model_B &lt;- G_cosponsor_111
G_exclusion_restriction &lt;- G_alumni_111
are_factors &lt;- c("party", "gender", "nchair")
db_model_B[are_factors] &lt;- lapply(db_model_B[are_factors], factor)

# Specify formula
f_model_B &lt;- formula("les ~gender + party + nchair")

# Specify starting values
starting &lt;- c(alpha = 0.214094,
             beta_gender1 = -0.212706,
             beta_party1 = 0.478518,
             beta_nchair1 = 3.09234,
             beta_betweenness = 7.06287e-05,
             phi = 0.344787)

# Fit model
horse_model_B &lt;- horse_race(formula = f_model_B,
              centralities = "betweenness",
              directed = TRUE, weighted = TRUE,
              data = db_model_B, G = G_model_B,
              model = "model_B", estimation = "NLLS",
              start.val = starting)

# Store and print results
summary(horse_model_B)
summary(horse_model_B, centrality = "betweenness")
horse_model_B$centrality

# WARNING, This toy example is provided only for runtime execution.
# Please refer to previous examples for sensible calculations.
data("db_alumni_test")
data("G_model_A_test")
db_model &lt;- db_alumni_test
G_model &lt;- G_model_A_test
f_model &lt;- formula("les ~ dw")
horse_model_test &lt;- horse_race(formula = f_model, centralities = "betweenness",
                            directed = TRUE, weighted = FALSE, normalization = NULL,
                            data = db_model, unobservables = NULL, G = G_model,
                            model = "model_A", estimation = "NLLS",
                            start.val = c(alpha = -0.31055275,
                                          beta_dw = 1.50666982,
                                          beta_betweenness = 0.09666742,
                                          phi = 16.13035695))
summary(horse_model_test)
</code></pre>

<hr>
<h2 id='net_dep'>Implement a number of modifications to the linear-in-means model to obtain different weighted versions of Katz-Bonacich centrality.</h2><span id='topic+net_dep'></span>

<h3>Description</h3>

<p>Implement a number of modifications to the linear-in-means model to obtain different weighted versions of Katz-Bonacich centrality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>net_dep(
  formula = formula(),
  data = list(),
  G = list(),
  model = c("model_A", "model_B"),
  estimation = c("NLLS", "MLE"),
  hypothesis = c("lim", "het", "het_l", "het_r", "par", "par_split_with",
    "par_split_btw", "par_split_with_btw"),
  endogeneity = FALSE,
  correction = NULL,
  first_step = NULL,
  z = NULL,
  formula_first_step = NULL,
  exclusion_restriction = NULL,
  start.val = NULL,
  to_weight = NULL,
  time_fixed_effect = NULL,
  ind_fixed_effect = NULL,
  mle_controls = NULL,
  kappa = NULL,
  delta = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="net_dep_+3A_formula">formula</code></td>
<td>
<p>an object of class <code>formula</code>: a symbolic description of the model to be fitted. The constant (i.e. intercept) and the autogressive parameter needs not to be specified.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_data">data</code></td>
<td>
<p>an object of class <code>data.frame</code> containing the variables in the model. If data are longitudinal, observations must be ordered by time period and then by individual.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_g">G</code></td>
<td>
<p>an object of class <code>Matrix</code> representing the social network. Row and column names must be specified and match the order of the observations in <code>data</code>.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_model">model</code></td>
<td>
<p>string. One of <code>c("model_A","model_B")</code>. See details.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_estimation">estimation</code></td>
<td>
<p>string. One of <code>c("NLLS","MLE")</code>. They are used to implement respectively a non-linear least square and a Maximum Likelihood estimator.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_hypothesis">hypothesis</code></td>
<td>
<p>string. One of <code>c("lim","het", "het_l", "het_r", "par", "par_split_with", "par_split_btw", "par_split_with_btw")</code>. See details.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_endogeneity">endogeneity</code></td>
<td>
<p>logical. Default is <code>FALSE</code>. If <code>TRUE</code>, <code>net_dep</code> implements a two-step correction procedure to control for the endogeneity of the network.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_correction">correction</code></td>
<td>
<p>Default is <code>NULL</code>. If <code>endogeneity = TRUE</code>, it is required to specify if the main regression should use an instrumental variable (&quot;iv&quot;) or Heckman (&quot;heckman&quot;) approach.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_first_step">first_step</code></td>
<td>
<p>Default is NULL. If <code>endogeneity = TRUE</code>, it requires to specify one of <code>c("standard","fe", "shortest", "coauthors", "degree")</code>. See details.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_z">z</code></td>
<td>
<p>numeric vector. It specifies the source of heterogeneity for peer effects when <code>hypothesis</code> is equal to <code>"het"</code>, <code>"het_l"</code>, or <code>"het_r"</code>. Alternatively, it specifies the groups in which the network should be partitioned when <code>hypothesis</code> is equal to <code>"par"</code>, <code>"par_split_with"</code>, <code>"par_split_btw"</code>, or <code>"par_split_with_btw")</code>. See details.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_formula_first_step">formula_first_step</code></td>
<td>
<p>an optional object of class <code>formula</code>. If provided, it is used to implement the first step of the estimation when <code>endogeneity = TRUE</code>. The name of the dependent variable must be the same used in the field  <code>formula</code>.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_exclusion_restriction">exclusion_restriction</code></td>
<td>
<p>an object of class <code>Matrix</code> representing the exogenous matrix used to instrument the endogenous social network, if <code>endogeneity = TRUE</code>.  Row and column names must be specified and match the order of the observations in <code>data</code>.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_start.val">start.val</code></td>
<td>
<p>an optional list containing the starting values for the estimations. Object names must match the names provided in <code>formula</code>. It is also required to specify the value of both the constant and the decay parameter(s). See details.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_to_weight">to_weight</code></td>
<td>
<p>an optional vector of weights to be used in the fitting process to indicate that different observations have different variances. Should be <code>NULL</code> or a numeric vector. If non-<code>NULL</code>, it can be used to fit a weighted non-linear least squares (<code>estimation = "NLLS"</code>).</p>
</td></tr>
<tr><td><code id="net_dep_+3A_time_fixed_effect">time_fixed_effect</code></td>
<td>
<p>an optional string. It indicates the name of the time index used in formula. It is used for models with longitudinal data.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_ind_fixed_effect">ind_fixed_effect</code></td>
<td>
<p>an optional string. Default is <code>NULL</code>. It indicates the name of the individual index contained in the data. If provided, individual fixed effects are automatically added to the <code>formula</code> of the main equation. If <code>endogeneity = TRUE</code>, the field <code>first_step</code> is overridden, and automatically set equal to <code>"fe"</code>. It is used for models with longitudinal data. Observe that inclusion of individual fixed effects is in its beta version. When <code>estimation == "MLE"</code>, <code>net_dep</code> is guaranteed to work only if <code>hypothesis == "lim"</code>.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_mle_controls">mle_controls</code></td>
<td>
<p>a list allowing the user to set upper and lower bounds for control variables in MLE estimation and the variance for the ML estimator. See details.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_kappa">kappa</code></td>
<td>
<p>a normalization level with default equals 1 used in MLE estimation.</p>
</td></tr>
<tr><td><code id="net_dep_+3A_delta">delta</code></td>
<td>
<p>Default is <code>NULL</code>. To be used when <code>estimation = "NLLS"</code>. It has to be a number between zero (included) and one (excluded). When used, <code>econet</code> performs a constrained NLLS estimation. In this case, the estimated peer effect parameter, taken in absolute value, is forced to be between the spectral radius of <code>G</code> and its opposite value. Specifically, <code>delta</code> is a penalizing factor, decreasing the goodness of fit of the NLLS estimation, when the peer effect parameter approaches one of the two bounds. Observe that very high values of <code>delta</code> may cause NLLS estimation not to converge.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Agent's parameter-dependent centrality is obtained as a function of </p>

<ul>
<li><p> the agent's characteristics and the performance of its socially connected peers, as in Battaglini, Leone Sciabolazza, Patacchini (2020), if <code>model = "model_B"</code>;
</p>
</li>
<li> <p>the performance of its socially connected peers, as in Battaglini, Patacchini (2018), if <code>model = "model_A"</code>.
</p>
</li></ul>

<p>Peer effects are assumed to be homogenous if <code>hypothesis = "lim"</code>. They are assumed to be heterogenous by setting:</p>

<ul>
<li> <p><code>hypothesis = "het"</code>, when peers' performance is susceptible to agent's characteristics and <code>model = "model_A"</code>.
</p>
</li>
<li> <p><code>hypothesis = "het_l"</code>, when peers' performance is susceptible to agent's characteristics and <code>model = "model_B"</code>.
</p>
</li>
<li> <p><code>hypothesis = "het_r"</code>, when agent's performance is susceptible to peers' characteristics and <code>model = "model_B"</code>.
</p>
</li>
<li> <p><code>hypothesis = "par"</code>, when <code>model = "model_B"</code>, if the network is formed by interactions between and within two different groups.
</p>
</li>
<li> <p><code>hypothesis = "par_split_with"</code>, when <code>model = "model_B"</code>, if the network is formed by interactions between and within two different groups, and interactions within each group are different from the other.
</p>
</li>
<li> <p><code>hypothesis = "par_split_btw"</code>, when <code>model = "model_B"</code>, if the network is formed by interactions between and within two different groups, and interactions between groups are different according to their direction.
</p>
</li>
<li> <p><code>hypothesis = "par_split_with_btw"</code>, when <code>model = "model_B"</code>, if the network is formed by interactions between and within two different groups, interactions within each group are different from the other, and interactions between groups are different according to their direction.
</p>
</li></ul>

<p>When <code>hypothesis</code> is equal to <code>"het"</code>, <code>"het_l"</code>, or <code>"het_r"</code>, the argument <code>z</code> is used to specify the source of heterogeneity: i.e. the attribute affecting the ability of the agent to influence or be influenced by peers.
When <code>hypothesis</code> is equal to <code>"par"</code>, <code>"par_split_with"</code>, <code>"par_split_btw"</code>, or <code>"par_split_with_btw"</code> the argument <code>"z"</code> is used to partition observations in two groups: e.g. the generic element <em>i</em> of vector <code>z</code> takes the value 1 if agent <em>i</em> is member of the first group, and it takes 2 otherwise. <br />
<br />
If <code>endogeneity = TRUE</code>, a two-step estimation is implemented to control for network endogeneity. The argument <code>first_step</code> is used to control for the specification of the first-step model, e.g.:
</p>

<ul>
<li> <p><code>first_step = "standard"</code> is used when agents' connection are predicted by the differences in their characteristics (i.e. those on the right hand side of <code>formula</code>), and an <code>exclusion_restriction</code>: i.e., their connections in a different network.
</p>
</li>
<li> <p><code>first_step = "fe"</code> adds to the <code>standard</code> model, individual fixed effects, as in Graham (2017).
</p>
</li>
<li> <p><code>first_step = "shortest"</code> adds to the <code>standard</code> model, the shortest distance between <em>i</em> and <em>j</em>, excluding the link between <em>i</em> and <em>j</em> itself, as in Fafchamps et al (2010).
</p>
</li>
<li> <p><code>first_step = "coauthor"</code> adds to the <code>standard</code> model, the number of shared connections between <em>i</em> and <em>j</em>, as in Graham (2015).
</p>
</li>
<li> <p><code>first_step = "degree"</code> adds to the <code>standard</code> model, the difference in the degree centrality of <em>i</em> and <em>j</em>.
</p>
</li></ul>

<p>The argument <code>start.val</code> is used to specify starting estimates. This can be done with a named list. If a factor is present, a value for each <code>treatment contrast</code> must be provided. Labels of <code>treatment contrast</code>s must be assigned following R model design standards: e.g., a number is appended to contrast names as in <code>contrasts()</code>. <br />
The starting value referring to the intercept (constant) must be labelled as &quot;alpha&quot;. The label(s) for decay parameter(s) must be:
</p>

<ul>
<li> <p><code>"phi"</code>, if <code>hypothesis="lim"</code> or  <code>hypothesis="het"</code>
</p>
</li>
<li> <p><code>"theta_0","theta_1"</code>, if <code>hypothesis="het_l"</code>
</p>
</li>
<li> <p><code>"eta_0","eta_1"</code>, if <code>hypothesis="het_r"</code>
</p>
</li>
<li> <p><code>"phi_within","phi_between"</code>, if <code>hypothesis="par"</code>
</p>
</li>
<li> <p><code>"phi_within_0","phi_within_1","phi_between"</code>, if <code>hypothesis="par_split_with"</code>
</p>
</li>
<li> <p><code>"phi_within","phi_between_0","phi_between_1"</code>, if <code>hypothesis="par_split_btw"</code>
</p>
</li>
<li> <p><code>"phi_within_0","phi_within_1","phi_between_0","phi_between_1"</code>, if <code>hypothesis="par_split_with_btw"</code>
</p>
</li></ul>

<p>The interaction term when <code>hypothesis="het"</code> must be labelled  <code>"gamma"</code>. The label to be used for unobservables when <code>endogeneity = TRUE</code> is <code>"unobservables"</code>. When <code>estimation = "MLE"</code>, it is required to set also the starting value for the variance of the ML estimator. This should be labelled as &quot;sigma&quot;. <br />
The argument <code>mle_controls</code> takes a list of two objects. The first is a named numeric vector used to set upper and lower bounds for control variables. The second object is a vector used to set upper (first value) and lower (second value) bounds for the variance of the Maximum Likelihood estimator.<br />
Names in <code>mle_controls</code> must be equal to those used in <code>start.val</code>.
For additional details, see the vignette (doi:10.18637/jss.v102.i08).
</p>


<h3>Value</h3>

<p>A list of three objects: i) Estimates of the main regression; ii) The vector of agents' parameter-dependent centrality; iii) Estimates of the first-step regression (if <code>endogeneity = TRUE</code>)
</p>


<h3>References</h3>

<p>Battaglini M., E. Patacchini (2018), &quot;Influencing Connected Legislators,&quot; Journal of Political Economy, 126(6): 2277-2322. <br />
Battaglini M., V. Leone Sciabolazza, E. Patacchini (2020), &quot;Effectiveness of Connected Legislators,&quot;  American Journal of Political Science, forthcoming. <br />
Battaglini M., V. Leone Sciabolazza, E. Patacchini, S. Peng (2020), &quot;Econet: An R package for the Estimation of parameter-dependent centrality measures&quot;, Mimeo. <br />
Fafchamps, M., M. J. Leij and S. Goyal (2010), “Matching and network effects,” Journal of the European Economic Association, 8(1): 203-231. <br />
Graham B. (2015), “Methods of identification in social networks,” Annual Review of Economics, 7, 465 - 485. <br />
Graham B. (2017), “An econometric model of network formation with degree heterogeneity,” Econometrica 85 (4), 1033 - 1063. <br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Model A

# Load data
data("a_db_alumni")
data("a_G_alumni_111")
db_model_A &lt;- a_db_alumni
G_model_A &lt;- a_G_alumni_111
are_factors &lt;- c("party", "gender", "nchair", "isolate")
db_model_A[are_factors] &lt;- lapply(db_model_A[are_factors] ,factor)
db_model_A$PAC &lt;- db_model_A$PAC/1e+06

# Specify formula
f_model_A &lt;- formula("PAC ~ gender + party + nchair + isolate")

# Specify starting values
starting &lt;- c(alpha = 0.47325,
              beta_gender1 = -0.26991,
              beta_party1 = 0.55883,
              beta_nchair1 = -0.17409,
              beta_isolate1 = 0.18813,
              phi = 0.21440)

# Fit Linear-in-means model
lim_model_A &lt;- net_dep(formula = f_model_A, data = db_model_A,
                       G = G_model_A, model = "model_A", estimation = "NLLS",
                       hypothesis = "lim", start.val = starting)

summary(lim_model_A)
lim_model_A$centrality

# Test Heterogeneity

# Heterogeneous factor
z &lt;- as.numeric(as.character(db_model_A$gender))

# Specify formula
f_het_model_A &lt;- formula("PAC ~ party + nchair + isolate")

# Specify starting values
starting &lt;- c(alpha = 0.44835,
              beta_party1 = 0.56004,
              beta_nchair1 = -0.16349,
              beta_isolate1 = 0.21011,
              beta_z = -0.26015,
              phi = 0.34212,
              gamma = -0.49960)

# Fit model
het_model_A &lt;- net_dep(formula = f_het_model_A, data = db_model_A,
                       G = G_model_A, model = "model_A", estimation = "NLLS",
                       hypothesis = "het", z = z, start.val = starting)

summary(het_model_A)
het_model_A$centrality

# Model B

# Load data
data("db_cosponsor")
data("G_alumni_111")
db_model_B &lt;- db_cosponsor
G_model_B &lt;- G_cosponsor_111
G_exclusion_restriction &lt;- G_alumni_111
are_factors &lt;- c("party", "gender", "nchair")
db_model_B[are_factors] &lt;- lapply(db_model_B[are_factors], factor)

# Specify formula
f_model_B &lt;- formula("les ~ gender + party + nchair")

# Specify starting values
starting &lt;- c(alpha = 0.23952,
              beta_gender1 = -0.22024,
              beta_party1 = 0.42947,
              beta_nchair1 = 3.09615,
              phi = 0.40038,
              unobservables = 0.07714)

# Fit Linear-in-means model
lim_model_B &lt;- net_dep(formula = f_model_B, data = db_model_B,
                       G = G_model_B, model = "model_B", estimation = "NLLS",
                       hypothesis = "lim", endogeneity = TRUE,
                       correction = "heckman", first_step = "standard",
                       exclusion_restriction = G_exclusion_restriction,
                       start.val = starting)

summary(lim_model_B)
lim_model_B$centrality
summary(lim_model_B, print = "first.step")

# Test Heterogeneity

# Heterogeneous factor (node -level)
z &lt;- as.numeric(as.character(db_model_B$gender))

# Specify formula
f_het_model_B &lt;- formula("les ~ party + nchair")

# Specify starting values
starting &lt;- c(alpha = 0.23952,
              beta_party1 = 0.42947,
              beta_nchair1 = 3.09615,
              beta_z = -0.12749,
              theta_0 = 0.42588,
              theta_1 = 0.08007)

# Fit model
het_model_B_l &lt;- net_dep(formula = f_het_model_B,
                         data = db_model_B,
                         G = G_model_B, model = "model_B", estimation = "NLLS",
                         hypothesis = "het_l", z = z, start.val = starting)

# Store and print results
summary(het_model_B_l)
het_model_B_l$centrality

# Specify starting values
starting &lt;- c(alpha = 0.04717,
              beta_party1 = 0.51713,
              beta_nchair1 = 3.12683,
              beta_z = 0.01975,
              eta_0 = 1.02789,
              eta_1 = 2.71825)

# Fit model
het_model_B_r &lt;- net_dep(formula = f_het_model_B,
                         data = db_model_B,
                         G = G_model_B, model = "model_B", estimation = "NLLS",
                         hypothesis = "het_r", z = z, start.val = starting)

# Store and print results
summary(het_model_B_r)
het_model_B_r$centrality

# Heterogeneous factor (edge -level)
z &lt;- as.numeric(as.character(db_model_B$party))

# Specify starting values
starting &lt;- c(alpha = 0.242486,
              beta_gender1 = -0.229895,
              beta_party1 = 0.42848,
              beta_nchair1 = 3.0959,
              phi_within  = 0.396371,
              phi_between = 0.414135)

# Fit model
party_model_B &lt;- net_dep(formula = f_model_B, data = db_model_B,
                         G = G_model_B, model = "model_B",
                         estimation = "NLLS", hypothesis = "par",
                         z = z, start.val = starting)

# Store and print results
summary(party_model_B)
party_model_B$centrality

# WARNING, This toy example is provided only for runtime execution.
# Please refer to previous examples for sensible calculations.
data("db_alumni_test")
data("G_model_A_test")
db_model_A &lt;- db_alumni_test
G_model_A &lt;- G_model_A_test
f_model_A &lt;- formula("les ~ dw")
lim_model_A_test &lt;- net_dep(formula = f_model_A, data = db_model_A,
                       G = G_model_A, model = "model_A", estimation = "NLLS",
                       hypothesis = "lim", start.val = c(alpha = 0.09030594,
                                                         beta_dw = 1.21401940,
                                                         phi = 1.47140647))
summary(lim_model_A_test)
</code></pre>

<hr>
<h2 id='quantify'>quantify: quantification of marginal effects in linear-in-means models.</h2><span id='topic+quantify'></span><span id='topic+quantify.econet'></span>

<h3>Description</h3>

<p>quantify: quantification of marginal effects in linear-in-means models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'econet'
quantify(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="quantify_+3A_object">object</code></td>
<td>
<p>first object in the list of outcomes returned by <code>net_dep</code> (available only if the argument <code>model</code> is set to <code>"model_B"</code>).</p>
</td></tr>
<tr><td><code id="quantify_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>quantify</code> returns marginal effects for <code>net_dep</code> objects when <code>model = "model_B"</code> and <code>hypothesis = "lim"</code>.
For additional details, see the vignette (doi:10.18637/jss.v102.i08).
</p>


<h3>Value</h3>

<p>an object of class <code>data.frame</code> listing direct and indirect variable effects (mean, standard deviation, max, min).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+net_dep">net_dep</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load data
data("db_cosponsor")
data("G_alumni_111")
db_model_B &lt;- db_cosponsor
G_model_B &lt;- G_cosponsor_111
G_exclusion_restriction &lt;- G_alumni_111
are_factors &lt;- c("party", "gender", "nchair")
db_model_B[are_factors] &lt;- lapply(db_model_B[are_factors], factor)

# Specify formula
f_model_B &lt;- formula("les ~gender + party + nchair")

# Specify starting values
starting &lt;- c(alpha = 0.23952,
              beta_gender1 = -0.22024,
              beta_party1 = 0.42947,
              beta_nchair1 = 3.09615,
              phi = 0.40038,
              unobservables = 0.07714)

# Fit Linear-in-means model
lim_model_B &lt;- net_dep(formula = f_model_B, data = db_model_B,
                       G = G_model_B, model = "model_B", estimation = "NLLS",
                       hypothesis = "lim", endogeneity = TRUE, correction = "heckman",
                       first_step = "standard",
                       exclusion_restriction = G_exclusion_restriction,
                       start.val = starting)
quantify(lim_model_B)

# WARNING, This toy example is provided only for runtime execution.
# Please refer to previous examples for sensible calculations.
data("db_alumni_test")
data("G_model_A_test")
db_model &lt;- db_alumni_test
G_model &lt;- G_model_A_test
f_model &lt;- formula("les ~ dw")
lim_model_test &lt;- net_dep(formula = f_model, data = db_model,
                       G = G_model, model = "model_B", estimation = "NLLS",
                       hypothesis = "lim", start.val = c(alpha = 0.4553039,
                                                         beta_dw = -0.7514903,
                                                         phi = 1.6170539))
quantify(lim_model_test)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

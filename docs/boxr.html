<!DOCTYPE html><html lang="en"><head><title>Help for package boxr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {boxr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#boxr-package'><p>boxr: access the Box API</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#box_add_description'><p>Add description to a Box file</p></a></li>
<li><a href='#box_auth'><p>Authenticate to Box (interactive-app)</p></a></li>
<li><a href='#box_auth_on_attach'><p>Authenticate to Box (interactive) automatically</p></a></li>
<li><a href='#box_auth_service'><p>Authenticate to Box (service-app)</p></a></li>
<li><a href='#box_browse'><p>Open a Box directory or file in browser</p></a></li>
<li><a href='#box_collab_create'><p>Create Box collaboration</p></a></li>
<li><a href='#box_collab_delete'><p>Delete Box collaboration</p></a></li>
<li><a href='#box_collab_get'><p>Get Box collaborations</p></a></li>
<li><a href='#box_comment_create'><p>Create/get Box comments</p></a></li>
<li><a href='#box_delete_file'><p>Move files within Box, from/to trash directory</p></a></li>
<li><a href='#box_dir_create'><p>Create a Box directory</p></a></li>
<li><a href='#box_dir_diff'><p>Compare the contents of Remote and Local Directories</p></a></li>
<li><a href='#box_dir_invite'><p>Invite collaboration</p></a></li>
<li><a href='#box_dl'><p>Download/upload files from/to Box</p></a></li>
<li><a href='#box_fetch'><p>Download/upload directories from/to Box</p></a></li>
<li><a href='#box_fresh_auth'><p>Re-authenticate to Box (interactive-app)</p></a></li>
<li><a href='#box_ls'><p>List files in a Box directory</p></a></li>
<li><a href='#box_previous_versions'><p>Get version information</p></a></li>
<li><a href='#box_read'><p>Read an R object from a Box file</p></a></li>
<li><a href='#box_save'><p>Download/upload an R workspace from/to a Box file</p></a></li>
<li><a href='#box_search'><p>Search Box files</p></a></li>
<li><a href='#box_setwd'><p>Get/set Box default working-directory</p></a></li>
<li><a href='#box_source'><p>Source R code from a Box file</p></a></li>
<li><a href='#box_upload_new'><p>Upload or update a file</p></a></li>
<li><a href='#box_version_api'><p>Access Box version API</p></a></li>
<li><a href='#box_version_history'><p>Get version information</p></a></li>
<li><a href='#box_write'><p>Write an R object to a Box file</p></a></li>
<li><a href='#boxGet'><p>Issue a get request for a file stored on box.com</p></a></li>
<li><a href='#boxr_options'><p>Get boxr options</p></a></li>
<li><a href='#boxr_S3_classes'><p>boxr S3 Classes</p></a></li>
<li><a href='#create_loc_dir_df'><p>Create a data.frame of metadata of the contents of a local directory</p></a></li>
<li><a href='#deleteRemoteObjects'><p>Single Directory Operations for Downloading and Uploading multiple Files</p></a></li>
<li><a href='#dirTreeRecursive'><p>Obtain a data.frame of the sub-directories in a box.com folder</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface for the 'Box.com API'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.6</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-box/boxr/">https://github.com/r-box/boxr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-box/boxr/issues">https://github.com/r-box/boxr/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>An R interface for the remote file hosting service 'Box'
    (<a href="https://www.box.com/">https://www.box.com/</a>). In addition to uploading and downloading files,
    this package includes functions which mirror base R operations for local
    files, (e.g. box_load(), box_save(), box_read(), box_setwd(), etc.), as well
    as 'git' style functions for entire directories (e.g. box_fetch(),
    box_push()).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, bit64, dplyr, digest, fs, glue, httr (&ge; 1.1.0),
httpuv, magrittr, mime, purrr, rio, rlang, stats, stringr,
utils, tibble, lifecycle, jsonlite,</td>
</tr>
<tr>
<td>Suggests:</td>
<td>clipr (&ge; 0.3.0), conflicted, gargle (&ge; 0.3.0), here, jose,
knitr, openssl, png, rmarkdown, sodium, testthat, usethis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>lifecycle</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-01-19 15:10:29 UTC; sesa19001</td>
</tr>
<tr>
<td>Author:</td>
<td>Brendan Rocks [aut],
  Ian Lyttle <a href="https://orcid.org/0000-0001-9962-4849"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Nathan Day <a href="https://orcid.org/0000-0002-6714-8611"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Vincent Fulco [ctb],
  Alec Wong [ctb],
  Alex Brodersen [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ian Lyttle &lt;ian.lyttle@se.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-01-19 17:00:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='boxr-package'>boxr: access the Box API</h2><span id='topic+boxr-package'></span><span id='topic+boxr'></span>

<h3>Description</h3>

<p>A lightweight, <em>opinionated</em>, high-level R interface for the <a href="https://developer.box.com/docs">box.com</a> API.
</p>


<h3>Details</h3>

<p>This package has a documentation-website (created using <a href="https://pkgdown.r-lib.org/">pkgdown</a>), containing:
</p>

<ul>
<li> <p><a href="https://r-box.github.io/boxr/">README</a>.
</p>
</li>
<li> <p><a href="https://r-box.github.io/boxr/articles/boxr.html">Get-started article</a>,
also accessible from R: <code>vignette("boxr")</code>.
</p>
</li>
<li> <p><a href="https://r-box.github.io/boxr/reference/index.html">Function reference</a>.
</p>
</li></ul>

<p>The boxr source-repository is at GitHub: <a href="https://github.com/r-box/boxr">https://github.com/r-box/boxr</a>.
</p>
<p>If you find anything you think might be a bug, please report it as a
<a href="https://github.com/r-box/boxr/issues">GitHub issue</a>!
</p>
<p>Happy hacking! :)
</p>

<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='box_add_description'>Add description to a Box file</h2><span id='topic+box_add_description'></span>

<h3>Description</h3>

<p>These functions will attach a description or comment to a Box file. A new
description will overwrite an existing one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_add_description(file_id, description)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_add_description_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
<tr><td><code id="box_add_description_+3A_description">description</code></td>
<td>
<p><code>character</code>, description caption for the file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Files hosted at Box can have small text-descriptions that
you can be use to annotate files, or even to
</p>


<h3>Value</h3>

<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_file_reference</a></code>.
</p>

<hr>
<h2 id='box_auth'>Authenticate to Box (interactive-app)</h2><span id='topic+box_auth'></span>

<h3>Description</h3>

<p>There are two common use-cases for <code>box_auth()</code>:
</p>

<ol>
<li><p> Connecting to <a href="https://developer.box.com/docs">box.com</a>
accounts from <strong>boxr</strong> for the first time.
</p>
</li>
<li><p> Connecting to previously-connected
<a href="https://developer.box.com/docs">box.com</a> accounts.
</p>
</li></ol>

<p>In the first case, you will need to provide <code>box_auth()</code> with
<code>client_id</code> and <code>client_secret</code>.
</p>
<p>In the second case, you can call <code>box_auth()</code> with no arguments;
the function will look for these in your R environment.
</p>
<p>To run this function the first time, you will need access to the <code>client_id</code>
and <code>client_secret</code> of a Box interactive-app. If you are using a work account,
this information might be provided to you by your Box-admin team. If you are
using a personal account, you will have to set up a Box interactive-app.
</p>
<p>For both cases, these procedures are detailed in this boxr
<a href="https://r-box.github.io/boxr/articles/boxr-app-interactive.html">interactive-app article</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_auth(
  client_id = NULL,
  client_secret = NULL,
  interactive = TRUE,
  cache = "~/.boxr-oauth",
  write.Renv,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_auth_+3A_client_id">client_id</code></td>
<td>
<p><code>character</code>,
the client id for the account to use.</p>
</td></tr>
<tr><td><code id="box_auth_+3A_client_secret">client_secret</code></td>
<td>
<p><code>character</code>,
the client secret for the account to use.</p>
</td></tr>
<tr><td><code id="box_auth_+3A_interactive">interactive</code></td>
<td>
<p><code>logical</code>, indicates that the authorization process
will be interactive (requiring user input to the R console, and/or a
visit to <a href="https://developer.box.com/docs">box.com</a>).</p>
</td></tr>
<tr><td><code id="box_auth_+3A_cache">cache</code></td>
<td>
<p>A logical value or a string. <code>TRUE</code> means to cache
using the default cache file <code>.httr-oauth</code>, <code>FALSE</code> means
don't cache, and <code>NA</code> means to guess using some sensible heuristics.
A string means use the specified path as the cache file.</p>
</td></tr>
<tr><td><code id="box_auth_+3A_write.renv">write.Renv</code></td>
<td>
<p><strong>deprecated</strong>.</p>
</td></tr>
<tr><td><code id="box_auth_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="httr.html#topic+oauth2.0_token">httr::oauth2.0_token()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>, called for side effects.
</p>


<h3>Side-effects</h3>

<p>This function has some side effects which make subsequent calls to
<code>box_auth()</code> easier:
</p>

<ul>
<li><p> a browser window may be opened at <a href="https://developer.box.com/docs">box.com</a>,
for you to authorize to your Box app.
</p>
</li>
<li><p> a token file is written, according to the value of <code>cache</code>. The default
behaviour is to write this file to <code style="white-space: pre;">&#8288;~/.boxr-oauth&#8288;</code>.
</p>
</li>
<li><p> some global <code><a href="base.html#topic+options">options()</a></code> are set for your session to manage the token.
</p>
</li>
<li><p> environment variables <code>BOX_USER_ID</code>, <code>BOX_CLIENT_ID</code>,
and <code>BOX_CLIENT_SECRET</code> are set.
</p>
</li>
<li><p> if these environment variables have changed, and you have the
<a href="https://usethis.r-lib.org">usethis</a> package installed, it will copy
some text to your clipboard that you can paste into your <code>.Renviron</code> file.
</p>
</li>
<li><p> a message is printed to the console.
</p>
</li></ul>



<h3>See Also</h3>


<dl>
<dt><code><a href="#topic+box_auth_service">box_auth_service()</a></code></dt><dd><p>for authenticating to service-apps.</p>
</dd>
<dt><code><a href="httr.html#topic+oauth2.0_token">httr::oauth2.0_token()</a></code></dt><dd><p>for details on how tokens are handled.</p>
</dd>
<dt><a href="https://developer.box.com/en/guides/applications/custom-apps/oauth2-setup">Box Developers: Setup with OAuth 2.0</a></dt><dd>
<p>documentation for setting up Box (interactive) apps with OAuth 2.0.</p>
</dd>
</dl>


<hr>
<h2 id='box_auth_on_attach'>Authenticate to Box (interactive) automatically</h2><span id='topic+box_auth_on_attach'></span>

<h3>Description</h3>

<p><img src="../help/figures/lifecycle-deprecated.svg" alt='Deprecated lifecycle' />
</p>
<p><strong>This function is deprecated, and may be removed at the next release.</strong>
</p>
<p>This function saves you the effort of typing <code><a href="#topic+box_auth">box_auth()</a></code> after
the package loads. Executing <code>box_auth_on_attach(TRUE)</code> will mean that
<code>boxr</code> will automatically attempt to authorize itself when
'attached' (e.g. <code>library(boxr)</code>), using the credentials from the
current session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_auth_on_attach(auth_on_attach = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_auth_on_attach_+3A_auth_on_attach">auth_on_attach</code></td>
<td>
<p><code>logical</code>, indicates if boxr should authenticate
as soon as it's loaded.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>, called for side effects.
</p>


<h3>Note</h3>

<p>This is provided for convenience, but it's a bad idea to use, if:
</p>

<ul>
<li><p> You'd like your code to be reproducible. Even if your
collaborators have access to the same files on box.com, as the default
behaviour is to require using <code><a href="#topic+box_auth">box_auth()</a></code>, code is likely to
become irreproducible.
</p>
</li>
<li><p> You use more than one box.com account. Things could get
rather confusing.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+box_auth">box_auth()</a></code>
</p>

<hr>
<h2 id='box_auth_service'>Authenticate to Box (service-app)</h2><span id='topic+box_auth_service'></span>

<h3>Description</h3>

<p>How you authenticate to Box depends the Box-app through which you
connect. A Box service-app can be useful for unattended jobs that need
access to only a limited part of Box, e.g. one folder.
</p>
<p>Use this function to access Box using a service-app.
</p>
<p>To access a service-app, you will need a JSON web-token (JWT),
generated by your Box-admin team. If you have a personal Box account, <em>you</em>
are your Box-admin team. You specify the JWT either as <code>token_file</code>,
the path to the JWT file, or as <code>token_text</code>, the text of the JWT.
</p>
<p>Using JWT-authentication is more convenient than using standard OAuth2
authentication, as you do not have to go through the &quot;OAuth Dance&quot;. This
convenience brings additional considerations because the JWT file gives
its bearer uninhibited access to anything the Box service-app can access.
Accordingly, you are recommended to:
</p>

<ul>
<li><p> give the service-account access to as little information as you need it
to have, e.g. a single folder.
</p>
</li>
<li><p> keep the JWT file secure.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>box_auth_service(token_file = NULL, token_text = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_auth_service_+3A_token_file">token_file</code></td>
<td>
<p><code>character</code>, path to JSON token-file. If not provided,
the function will look for an environment variable <code>BOX_TOKEN_FILE</code>. If
that is not there, it will try <code style="white-space: pre;">&#8288;~/.boxr-auth/token.json&#8288;</code>.</p>
</td></tr>
<tr><td><code id="box_auth_service_+3A_token_text">token_text</code></td>
<td>
<p><code>character</code>, JSON text. If this is provided,
<code>token_file</code> is ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default behavior of a service-app is to act on behalf of the
service-account associated with the service-app. This is different
from an interactive-app, which acts on behalf of the Box user who
authenticates to it.
</p>
<p>To use a service-app on a folder belonging to a Box user, either
the Box user has to invite the service-account to collaborate on a
folder belonging to the user, or the service-account has to invite the
Box user to collaborate on a folder belonging to the service-account.
</p>
<p>In either case, you can use <code>box_collab_create()</code>.
</p>
<p>In mid-2020, there appeared intermittent and unexplained failures of
<code>box_auth_service()</code>; the theory is that the clocks at either end
of the authentication process can be out-of-sync. The workaround
is to watch for this failure, then retry the authentication request
with a time-offset. If an offset is used, this function generates a message.
</p>
<p>For more details on Box service-apps, including how to create them, and
service-app-based workflows, please read this boxr
<a href="https://r-box.github.io/boxr/articles/boxr-app-service.html">service-app article</a>.
</p>


<h3>Value</h3>

<p>Invisible <code>NULL</code>, called for side effects.
</p>


<h3>Side-effects</h3>

<p>This function has some side effects:
</p>

<ul>
<li><p> some global <code><a href="base.html#topic+options">options()</a></code> are set for your session to manage the token.
</p>
</li>
<li><p> a message is printed to the console.
</p>
</li></ul>



<h3>See Also</h3>


<dl>
<dt><code><a href="#topic+box_auth">box_auth()</a></code></dt><dd><p>for authenticating to interactive-apps.</p>
</dd>
<dt><code><a href="#topic+box_collab_create">box_collab_create()</a></code></dt><dd><p>for creating a collaboration with a different account
on a Box file or folder.</p>
</dd>
<dt><a href="https://developer.box.com/en/guides/applications/custom-apps/jwt-setup">Box Developers: Setup with JWT</a></dt><dd>
<p>documentation for setting up Box (service) apps with JWT.</p>
</dd>
</dl>


<hr>
<h2 id='box_browse'>Open a Box directory or file in browser</h2><span id='topic+box_browse'></span>

<h3>Description</h3>

<p>Thin wrapper of <code>utils::browseURL()</code> to make bouncing between R and Box a breeze.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_browse(dir_id = NULL, file_id = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_browse_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_browse_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  box_browse(0) # root folder on Box
  box_browse(file_id = 12345)

## End(Not run)

</code></pre>

<hr>
<h2 id='box_collab_create'>Create Box collaboration</h2><span id='topic+box_collab_create'></span>

<h3>Description</h3>

<p>Although this function can be used in all sorts of situations, it can be
particularly useful in setting up a workflow with a service-account:
</p>

<ul>
<li><p> If you are authenticated as a user, using <code><a href="#topic+box_auth">box_auth()</a></code>, you can invite
the service account to collaborate on a folder in your <em>user</em> filespace.
In this case, the shared folder will appear in the service-account
filespace.
</p>
</li>
<li><p> If you are authenticated as the service-account using
<code><a href="#topic+box_auth_service">box_auth_service()</a></code>, you can invite your <em>user-account</em> to collaborate.
In this case, the shared folder will appear in your user file-space.
</p>
</li></ul>

<p>Once you issue an invitation to create a collaboration, you cannot change it,
e.g. you cannot change the <code>role</code> from <code>"viewer"</code> to <code>"co-owner"</code>.
However, you can delete the collaboration, then issue a <em>new</em> invitation.
To delete a collaboration, use <code><a href="#topic+box_collab_delete">box_collab_delete()</a></code>. To check a Box folder ID or file ID
for existing collaborations, use <code><a href="#topic+box_collab_get">box_collab_get()</a></code>.
You can also use the Box web-portal to manage collaborations.
</p>
<p>The default <code>role</code>, i.e. permission level, for an invitation
is <code>"editor"</code>. Legal values for <code>role</code> are <code>"editor"</code>, <code>"viewer"</code>,
<code>"previewer"</code>, <code>"uploader"</code>, <code>"previewer uploader"</code>, <code>"viewer uploader"</code>,
<code>"co-owner"</code>, <code>"owner"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_collab_create(
  dir_id = NULL,
  user_id = NULL,
  file_id = NULL,
  group_id = NULL,
  login = NULL,
  role = "editor",
  can_view_path = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_collab_create_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_collab_create_+3A_user_id">user_id</code></td>
<td>
<p><code>character</code> ID for Box user-account to invite.</p>
</td></tr>
<tr><td><code id="box_collab_create_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
<tr><td><code id="box_collab_create_+3A_group_id">group_id</code></td>
<td>
<p><code>character</code> ID for Box group-account to invite.</p>
</td></tr>
<tr><td><code id="box_collab_create_+3A_login">login</code></td>
<td>
<p><code>character</code> email address of account to invite, if specified
will be used instead of <code>user_id</code>.</p>
</td></tr>
<tr><td><code id="box_collab_create_+3A_role">role</code></td>
<td>
<p><code>character</code> role of the collaborator; default is <code>"viewer"</code>.</p>
</td></tr>
<tr><td><code id="box_collab_create_+3A_can_view_path">can_view_path</code></td>
<td>
<p><code>logical</code> indicates to allow the collaborator to
navigate parent-folders at Box.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To use this function, you must provide exactly one of: <code>dir_id</code> or <code>file_id</code>,
to specify what you want to share, and exactly one of: <code>user_id</code>,
<code>group_id</code>, or <code>login</code> (email address), to specify the account you want to
share it with.
</p>
<p>While authenticated from the host account, the one that will issue the
invitation, you can use <code>box_ls()</code> and <code>box_setwd()</code> to get the <code>dir_id</code>
or <code>file_id</code> for the item you want to share. If the host-account is the
user-account, you can also use the web-portal to find the <code>dir_id</code> or
<code>file-id</code>. If the host account is the service-account, you can use the Box
<a href="https://app.box.com/master/content">content-portal</a> to find this.
</p>
<p>A user can find their <code>user_id</code> using the Box web-portal. As well, when
you authenticate using boxr, the <code>user_id</code> is included in the login
message. Thus, you can use <code>box_auth_service()</code> to find out the <code>user_id</code>
for a given service-account.
</p>
<p>This returns an object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_collab</a></code>;
this is a list containing the response from the API. You can use
<code>as_tibble()</code> or <code>as.data.frame()</code> on this return-object to convert to
a tibble or data frame.
</p>


<h3>Value</h3>

<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_collab</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_auth">box_auth()</a></code>, <code><a href="#topic+box_auth_service">box_auth_service()</a></code>
</p>

<hr>
<h2 id='box_collab_delete'>Delete Box collaboration</h2><span id='topic+box_collab_delete'></span>

<h3>Description</h3>

<p>Delete Box collaboration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_collab_delete(collab_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_collab_delete_+3A_collab_id">collab_id</code></td>
<td>
<p><code>character</code> ID for Box collaboration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>, called for side effects.
</p>

<hr>
<h2 id='box_collab_get'>Get Box collaborations</h2><span id='topic+box_collab_get'></span>

<h3>Description</h3>

<p>Retrieve information on all collaborations on a file or folder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_collab_get(dir_id = NULL, file_id = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_collab_get_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_collab_get_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You must specify exactly one of <code>dir_id</code> or <code>file_id</code>.
</p>
<p>This returns an object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_collab_list</a></code>;
this is a list containing the response from the API. You can use
<code>as_tibble()</code> or <code>as.data.frame()</code> on this return-object to convert to
a tibble or data frame.
</p>


<h3>Value</h3>

<p>Object with S3 class
<code><a href="#topic+boxr_S3_classes">boxr_collab_list</a></code>.
</p>

<hr>
<h2 id='box_comment_create'>Create/get Box comments</h2><span id='topic+box_comment_create'></span><span id='topic+box_comment_get'></span>

<h3>Description</h3>

<p>Use these functions to create and get comments for Box files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_comment_create(file_id = NULL, message, comment_id = NULL)

box_comment_get(file_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_comment_create_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
<tr><td><code id="box_comment_create_+3A_message">message</code></td>
<td>
<p><code>character</code> contents of comment.
Note: tagging people with the @user pattern is <em>not</em> yet supported.</p>
</td></tr>
<tr><td><code id="box_comment_create_+3A_comment_id">comment_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, comment ID at Box.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When you create a comment using <code>box_comment_create()</code>, you have to specify
a <code>file_id</code> or a <code>comment_id</code>. If you specify a <code>comment_id</code>, the comment
will be posted as a reply to that comment.
</p>
<p>Use <code>box_comment_get()</code> to retrieve comments in bulk. This gets all the
comments associated with a file, thus you can specify only a  <code>file_id</code>.
</p>


<h3>Value</h3>


<dl>
<dt><code>box_comment_create()</code></dt><dd>
<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_comment</a></code>.</p>
</dd>
<dt><code>box_comment_get()</code></dt><dd>
<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_comment_list</a></code>.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  file_id &lt;- 12345
  
  # create comments
  x &lt;- box_comment_create(file_id, "Report is ready.")
  box_comment_create(comment_id = x$id, message = "Response to a comment")
  
  # get comments
  box_comment_get(file_id)

## End(Not run)
</code></pre>

<hr>
<h2 id='box_delete_file'>Move files within Box, from/to trash directory</h2><span id='topic+box_delete_file'></span><span id='topic+box_delete_folder'></span><span id='topic+box_restore_file'></span><span id='topic+box_restore_folder'></span>

<h3>Description</h3>

<p>In the Box context, deleting a file moves it to a special folder
within your Box account: 'Trash'. As of mid-2019, Box' default
<a href="https://support.box.com/hc/en-us/articles/360044196093-Manage-Trash">policy</a>
is to retain files in Trash for 30 days.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_delete_file(file_id)

box_restore_file(file_id)

box_delete_folder(dir_id)

box_restore_folder(dir_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_delete_file_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
<tr><td><code id="box_delete_file_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt><code>box_delete_file()</code></dt><dd><p>Move a file to Trash.</p>
</dd>
<dt><code>box_restore_file()</code></dt><dd><p>Restore a file from Trash.</p>
</dd>
<dt><code>box_delete_folder()</code></dt><dd><p>Move a folder, including contents, to Trash.</p>
</dd>
<dt><code>box_restore_folder()</code></dt><dd><p>Restore a folder, including contents, from Trash.</p>
</dd>
</dl>



<h3>Value</h3>


<dl>
<dt><code>box_delete_file()</code></dt><dd><p>Invisible <code>NULL</code>, called for side effects.</p>
</dd>
<dt><code>box_restore_file()</code></dt><dd><p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_file_reference</a></code>.</p>
</dd>
<dt><code>box_delete_folder()</code></dt><dd><p>Invisible <code>NULL</code>, called for side effects.</p>
</dd>
<dt><code>box_restore_folder()</code></dt><dd><p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_folder_reference</a></code>.</p>
</dd>
</dl>


<hr>
<h2 id='box_dir_create'>Create a Box directory</h2><span id='topic+box_dir_create'></span>

<h3>Description</h3>

<p>This will create a new folder at Box, with name <code>dir_name</code>,
in the Box folder with ID <code>parent_dir_id</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_dir_create(dir_name, parent_dir_id = box_getwd())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_dir_create_+3A_dir_name">dir_name</code></td>
<td>
<p><code>character</code>, name for new folder at Box.</p>
</td></tr>
<tr><td><code id="box_dir_create_+3A_parent_dir_id">parent_dir_id</code></td>
<td>
<p><code>character</code> or <code>numeric</code>,
ID for the parent folder at Box.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_folder_reference</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_delete_folder">box_delete_folder()</a></code> to move Box folders to trash,
<code><a href="#topic+box_ls">box_ls()</a></code> to list files in a Box folder.
</p>

<hr>
<h2 id='box_dir_diff'>Compare the contents of Remote and Local Directories</h2><span id='topic+box_dir_diff'></span>

<h3>Description</h3>

<p><code>box_dir_diff</code> is the internal function used by
<code><a href="#topic+box_fetch">box_fetch()</a></code> and <code><a href="#topic+box_push">box_push()</a></code> to determine how to
which files and folders should be uploaded/downloaded, updated,
or deleted, to synchronize remote and local directories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_dir_diff(
  dir_id = box_getwd(),
  local_dir = getwd(),
  load = "up",
  folders = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_dir_diff_+3A_dir_id">dir_id</code></td>
<td>
<p>The id of the box.com folder which you'd like to use for the
comparison</p>
</td></tr>
<tr><td><code id="box_dir_diff_+3A_local_dir">local_dir</code></td>
<td>
<p>The path of the local folder which you'd like to use for the
comparison</p>
</td></tr>
<tr><td><code id="box_dir_diff_+3A_load">load</code></td>
<td>
<p><code>logical</code>. Should the results be in the context of an upload
or a download operation? Permitted values are <code>"up"</code> or <code>"down"</code></p>
</td></tr>
<tr><td><code id="box_dir_diff_+3A_folders">folders</code></td>
<td>
<p><code>logical</code>. Should folders/directories be included in the
result?</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>box_dir_diff</code> works by comparing files in the <strong>'origin'</strong> to
those in the <strong>'destination'</strong>.
</p>
<p>For downloading files (e.g. with <code><a href="#topic+box_fetch">box_fetch()</a></code>), the origin is
the remote folder on box.com specified with <code>dir_id</code>, and the
destination would be the local directory specified by <code>local_dir</code>.
</p>
<p>The reverse is true for uploads (e.g. via <code><a href="#topic+box_fetch">box_fetch()</a></code>).
</p>
<p><code>box_dir_diff</code> decides what should happen to a file based on three
</p>

<dl>
<dt><strong>Presence</strong></dt><dd>
<p>Is the file present in both the origin and destination? The filename
(within the directory structure) is used to determine this.
</p>
</dd>
<dt><strong>Content</strong></dt><dd>
<p>If a file is present in both the origin and the destination, does it
have the same content? The definition comes from the file's <code>sha1</code>
hash, which for local files is determined using the
<code><a href="digest.html#topic+digest">digest()</a></code> function from the package of the same name. For
remote files, it is queried from the box.com API.
</p>
</dd>
<dt><strong>Modification Date</strong></dt><dd>
<p>If a file is present in both the origin and destination, and the
content is different in each, boxr will prefer the file which was most
recently modified.
</p>
<p>For local files, the 'content modified time' is used; the <code>mtime</code>
variable returned by <code><a href="base.html#topic+file.info">file.info()</a></code>.
</p>
<p>For remote files, the <code>modified_at</code> date returned by the box.com API.
This is the time that the file was modified on the box.com servers, as
opposed to the time that the content itself was modified.
</p>
</dd>
</dl>

<p><strong>Why not use the content modified time for both?</strong>
</p>
<p>With regards to the box.com API, <code>modified_at</code> is preferred to
<code>content_modified_at</code>, as it includes changes to the file outside of
just it's content. This means that, for example, a collaborator could
roll back to a previous version of a file, or upload a preferred but
older version. These actions count as modifications on the box.com
servers, but not to the content of the file itself (they are reflected
in <code>modified_at</code>, but not <code>content_modified_at</code>).
</p>
<p>Implementing similar functionality for local files is not possible in a
platform-independent manner; content modified time is the only file-based
timestamp which has a consistent definition for UNIX and Windows
systems.
</p>


<h3>Value</h3>

<p>An object of class <code>boxr_dir_comparison</code>, describing the
differences between the files.
</p>
<p>It is a named list, it's entries containing data frames,
describing the files in each of the following categories:
</p>

<dl>
<dt><strong><code>new</code></strong></dt><dd>
<p>Files which are present in the origin, but not the destination. These
will be downloaded by <code><a href="#topic+box_fetch">box_fetch()</a></code>/uploaded by
<code><a href="#topic+box_push">box_push()</a></code>.
</p>
</dd>
<dt><strong><code>superfluous</code></strong></dt><dd>
<p>These are files which are present in the destination, but not the
origin. If <code>delete</code> is set to <code>TRUE</code> in
<code><a href="#topic+box_fetch">box_fetch()</a></code>/<code><a href="#topic+box_push">box_push()</a></code>, they will be deleted.
</p>
</dd>
<dt><strong><code>to_update</code></strong></dt><dd>
<p>Files which are present in both the origin and the destination, but
which have more recently modified copies in the origin. If downloading
with <code><a href="#topic+box_fetch">box_fetch()</a></code>, and <code>overwrite</code> set to <code>TRUE</code>,
new files will overwrite existing local copies. If uploading with
<code><a href="#topic+box_push">box_push()</a></code> (and <code>overwrite</code> set to <code>TRUE</code>), the
new version will be uploaded to box.com, with a new version number, and
the old version still being available.
</p>
</dd>
<dt><strong><code>up_to_date</code></strong></dt><dd>
<p>Files present in both origin and destination, with the same content.
Note: A file may be modified at later date, but if it has identical
contents according to it's <code>sha1</code> hash, it will be considered
up-to-date. <code><a href="#topic+box_fetch">box_fetch()</a></code>/<code><a href="#topic+box_push">box_push()</a></code> do nothing for these
files.
</p>
</dd>
<dt><strong><code>behind</code></strong></dt><dd>
<p>Files which are present in both origin and destination, but where the
content differs, and the version in the destination has been more
recently updated. <code><a href="#topic+box_fetch">box_fetch()</a></code>/<code><a href="#topic+box_push">box_push()</a></code> do nothing for these
files.
</p>
</dd>
<dt><strong><code>new_folders</code></strong></dt><dd>
<p>Analogous to the file operation, but for directories/folders.
</p>
</dd>
<dt><strong><code>superfluous_folders</code></strong></dt><dd>
<p>Analogous to the file operation, but for directories/folders.
</p>
</dd>
</dl>



<h3>References</h3>

<p><a href="https://developer.box.com/guides/folders/">https://developer.box.com/guides/folders/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_fetch">box_fetch()</a></code> and <code><a href="#topic+box_push">box_push()</a></code>, which depend on
this internal function, <code><a href="base.html#topic+file.info">file.info()</a></code> for timestamps describing
local files, <code><a href="digest.html#topic+digest">digest()</a></code> for details of the <code>sha1</code> algorithm
implementation.
</p>

<hr>
<h2 id='box_dir_invite'>Invite collaboration</h2><span id='topic+box_dir_invite'></span>

<h3>Description</h3>

<p><img src="../help/figures/lifecycle-deprecated.svg" alt='Deprecated lifecycle' />
</p>
<p><code>box_dir_invite()</code> is deprecated in favor of <code>box_collab_create()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_dir_invite(
  dir_id,
  user_id,
  login = NULL,
  role = "viewer",
  can_view_path = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_dir_invite_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_dir_invite_+3A_user_id">user_id</code></td>
<td>
<p><code>character</code> ID for Box user-account to invite.</p>
</td></tr>
<tr><td><code id="box_dir_invite_+3A_login">login</code></td>
<td>
<p><code>character</code> email address of account to invite, if specified
will be used instead of <code>user_id</code>.</p>
</td></tr>
<tr><td><code id="box_dir_invite_+3A_role">role</code></td>
<td>
<p><code>character</code> role of the collaborator; default is <code>"viewer"</code>.</p>
</td></tr>
<tr><td><code id="box_dir_invite_+3A_can_view_path">can_view_path</code></td>
<td>
<p><code>logical</code> indicates to allow the collaborator to
navigate parent-folders at Box.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>list()</code>.
</p>

<hr>
<h2 id='box_dl'>Download/upload files from/to Box</h2><span id='topic+box_dl'></span><span id='topic+box_ul'></span>

<h3>Description</h3>


<dl>
<dt><code>box_dl()</code></dt><dd><p>download a file from Box to a local directory</p>
</dd>
<dt><code>box_ul()</code></dt><dd><p>upload a local file to a Box folder</p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>box_dl(
  file_id,
  local_dir = getwd(),
  overwrite = FALSE,
  file_name = NULL,
  version_id = NULL,
  version_no = NULL,
  pb = options()$boxr.progress,
  filename
)

box_ul(
  dir_id = box_getwd(),
  file,
  pb = options()$boxr.progress,
  description = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_dl_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_local_dir">local_dir</code></td>
<td>
<p><code>character</code>, path to local directory.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_overwrite">overwrite</code></td>
<td>
<p><code>logical</code>, indicates that newer files at origin will
overwrite older files at destination.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_file_name">file_name</code></td>
<td>
<p><code>character</code>, if supplied, an alternate filename
for the local version of the Box file.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_version_id">version_id</code></td>
<td>
<p><code>character</code> or <code>numeric</code>, the <code>version_id</code> of the file.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_version_no">version_no</code></td>
<td>
<p><code>numeric</code>, version of the file you'd like to download
(starting at 1).</p>
</td></tr>
<tr><td><code id="box_dl_+3A_pb">pb</code></td>
<td>
<p><code>logical</code>, indicates to show progress bar
(via <code><a href="utils.html#topic+setTxtProgressBar">setTxtProgressBar()</a></code>).</p>
</td></tr>
<tr><td><code id="box_dl_+3A_filename">filename</code></td>
<td>
<p><code>character</code>, <strong>deprecated</strong>: use <code>file_name</code> instead.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_file">file</code></td>
<td>
<p><code>character</code>, local path to the file.</p>
</td></tr>
<tr><td><code id="box_dl_+3A_description">description</code></td>
<td>
<p><code>character</code>, description caption for the file.</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt><code>box_dl()</code></dt><dd><p><code>character</code>, local path to the downloaded file.</p>
</dd>
<dt><code>box_ul()</code></dt><dd><p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_file_reference</a></code>.</p>
</dd>
</dl>



<h3>Versions</h3>

<p><code>box_dl()</code> can accept one of two parameters to specify file versions:
<strong><code>version_id</code></strong> or <strong><code>version_no</code></strong>.
</p>
<p>The box.com API refers to file versions using 11 digit ids (which can be
accessed via <code><a href="#topic+box_version_history">box_version_history()</a></code>) - you can specify these
using the <code>version_id</code> parameter.
</p>
<p>However, this isn't terribly intuitive. As a result, <code>box_dl()</code>
provides the <code>version_no</code> parameter, which accepts a whole number,
and corresponds to the versions that you'll see via the web UI. For
example to download the version marked 'V2' on box.com, specify
<code>version_no = 2</code>. This works by making an internal call to
<code><a href="#topic+box_version_history">box_version_history()</a></code> to retrieve the <code>version_id</code>,
which makes it slightly slower.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+box_fetch">box_fetch()</a></code> and <code><a href="#topic+box_push">box_push()</a></code> for
directory-wide equivalents.
</p>
</li>
<li> <p><code><a href="#topic+box_delete_file">box_delete_file()</a></code> for removing
uploaded files.
</p>
</li>
<li> <p><code><a href="#topic+box_source">box_source()</a></code> for R code.
</p>
</li>
<li> <p><code><a href="#topic+box_save">box_save()</a></code>/<code><a href="#topic+box_load">box_load()</a></code> for remote R objects.
</p>
</li></ul>


<hr>
<h2 id='box_fetch'>Download/upload directories from/to Box</h2><span id='topic+box_fetch'></span><span id='topic+box_push'></span>

<h3>Description</h3>


<dl>
<dt><code>box_fetch()</code></dt><dd><p>download the contents of a Box folder to a local
directory</p>
</dd>
<dt><code>box_push()</code></dt><dd><p>upload the contents of a local directory to a Box
folder</p>
</dd>
</dl>

<p>Files present in the origin but not the destination will be
copied over.
</p>
<p>Behavior when a file exists in both depends on the arguments supplied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_fetch(
  dir_id = box_getwd(),
  local_dir = getwd(),
  recursive = TRUE,
  overwrite = FALSE,
  delete = FALSE
)

box_push(
  dir_id = box_getwd(),
  local_dir = getwd(),
  ignore_dots = TRUE,
  overwrite = FALSE,
  delete = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_fetch_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_fetch_+3A_local_dir">local_dir</code></td>
<td>
<p><code>character</code>, path to local directory.</p>
</td></tr>
<tr><td><code id="box_fetch_+3A_recursive">recursive</code></td>
<td>
<p><code>logical</code>, indicates to include subdirectories.</p>
</td></tr>
<tr><td><code id="box_fetch_+3A_overwrite">overwrite</code></td>
<td>
<p><code>logical</code>, indicates that newer files at origin will
overwrite older files at destination.</p>
</td></tr>
<tr><td><code id="box_fetch_+3A_delete">delete</code></td>
<td>
<p><code>logical</code>, indicates to delete files that exist at destination,
but not at origin.</p>
</td></tr>
<tr><td><code id="box_fetch_+3A_ignore_dots">ignore_dots</code></td>
<td>
<p><code>logical</code>, indicates to ignore directories with names
that begin with dots, e.g. <code>.git</code> and <code>.Rproj.user</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_dir_wide_operation_result</a></code>.
</p>


<h3>Overwrite/Update</h3>

<p>In the interests of preventing mishaps, <code>overwrite</code> is by default set
to <code>FALSE</code>, which means that files which exist in the destination,
but which are out of date, are not modified.
</p>
<p>Setting <code>overwrite</code> to <code>TRUE</code> is likely to produce expected
behavior for most users.
</p>
<p>This is a conservative precaution to prevent users unexpectedly overwriting
their files, and may change as a default in later releases.
</p>
<p>However, files at Box are versioned, and most
operating systems have file recovery features (e.g. 'Trash'
(Ubuntu/Debian/OSX), or 'Recycle Bin' (Windows)), so unintended
modification of files will be revertible for most users.
</p>


<h3>Implementation</h3>

<p>At the time of writing, the Box API allows for only one file at a time
to be uploaded/downloaded. As a result, boxr recursively scans the
directory tree, uploading/downloading files in loops. Because the Box
API can send, but not accept, gzipped files, downloading tends to be faster
than uploading.
</p>
<p><code>box_fetch()</code>/<code>box_push()</code> rely on the internal function
<code><a href="#topic+box_dir_diff">box_dir_diff()</a></code> to determine how to process individual files
(i.e. which to update, which to leave as is, etc.). See its help page for
details.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_dl">box_dl()</a></code>/<code><a href="#topic+box_ul">box_ul()</a></code> for single file
operations, <code><a href="#topic+box_dir_diff">box_dir_diff()</a></code>
determines how files should be processed
</p>

<hr>
<h2 id='box_fresh_auth'>Re-authenticate to Box (interactive-app)</h2><span id='topic+box_fresh_auth'></span>

<h3>Description</h3>

<p>Deletes the cached token-file before trying to re-authenticate. This
is often the solution to authentication problems.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_fresh_auth(cache = "~/.boxr-oauth", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_fresh_auth_+3A_cache">cache</code></td>
<td>
<p>A logical value or a string. <code>TRUE</code> means to cache
using the default cache file <code>.httr-oauth</code>, <code>FALSE</code> means
don't cache, and <code>NA</code> means to guess using some sensible heuristics.
A string means use the specified path as the cache file.</p>
</td></tr>
<tr><td><code id="box_fresh_auth_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="#topic+box_auth">box_auth()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>, called for side effects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_auth">box_auth()</a></code> for the usual method of authentication.
</p>

<hr>
<h2 id='box_ls'>List files in a Box directory</h2><span id='topic+box_ls'></span>

<h3>Description</h3>

<p>Non-recursive
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_ls(dir_id = box_getwd(), limit = 100, max = Inf, fields = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_ls_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_ls_+3A_limit">limit</code></td>
<td>
<p><code>integer</code>, maximum number of entries to retrieve per query-page.</p>
</td></tr>
<tr><td><code id="box_ls_+3A_max">max</code></td>
<td>
<p><code>integer</code>, maximum number of entries to retrieve in total.</p>
</td></tr>
<tr><td><code id="box_ls_+3A_fields">fields</code></td>
<td>
<p><code>character</code>, fields to return; the default
value, <code>NULL</code>, will return all possible fields from API: <code>modified_at</code>,
<code>content_modified_at</code>, <code>name</code>, <code>id</code>, <code>type</code>, <code>sha1</code> ,<code>size</code>,
<code>owned_by</code>, <code>path_collection</code>, <code>description</code>, <code>file_version</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_object_list</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_fetch">box_fetch()</a></code> and <code><a href="#topic+box_push">box_push()</a></code> for synchronizing the contents of
local and remote directories.
</p>

<hr>
<h2 id='box_previous_versions'>Get version information</h2><span id='topic+box_previous_versions'></span>

<h3>Description</h3>

<a href='https://www.tidyverse.org/lifecycle/#superseded'><img src='figures/lifecycle-superseded.svg' alt='Superseded lifecycle'></a>
<p>Superseded by <code><a href="#topic+box_version_history">box_version_history()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_previous_versions(file_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_previous_versions_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> describing previous versions of file.
</p>

<hr>
<h2 id='box_read'>Read an R object from a Box file</h2><span id='topic+box_read'></span><span id='topic+box_read_csv'></span><span id='topic+box_read_tsv'></span><span id='topic+box_read_json'></span><span id='topic+box_read_excel'></span><span id='topic+box_read_rds'></span>

<h3>Description</h3>

<p>These functions are used to download a Box file, specified by <code>file_id</code>, then
attempt to parse its contents into memory as an R object. For
example, you may wish to read a Box CSV file as a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_read(
  file_id,
  type = NULL,
  version_id = NULL,
  version_no = NULL,
  read_fun = rio::import,
  ...
)

box_read_csv(file_id, ...)

box_read_tsv(file_id, ...)

box_read_json(file_id, ...)

box_read_excel(file_id, ...)

box_read_rds(file_id, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_read_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
<tr><td><code id="box_read_+3A_type">type</code></td>
<td>
<p><code>character</code>,
<a href="https://en.wikipedia.org/wiki/Internet_media_type">MIME type</a>
used to override the content type returned by the server.</p>
</td></tr>
<tr><td><code id="box_read_+3A_version_id">version_id</code></td>
<td>
<p><code>character</code> or <code>numeric</code>, the <code>version_id</code> of the file.</p>
</td></tr>
<tr><td><code id="box_read_+3A_version_no">version_no</code></td>
<td>
<p><code>numeric</code>, version of the file you'd like to download
(starting at 1).</p>
</td></tr>
<tr><td><code id="box_read_+3A_read_fun">read_fun</code></td>
<td>
<p><code>function</code>, used to read (parse) the content into R; for <code>box_read()</code>
the default function is <code><a href="rio.html#topic+import">rio::import()</a></code>; the specific helpers
each use a different function directly.</p>
</td></tr>
<tr><td><code id="box_read_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code>read_fun</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a two-step process. The first is to download the contents
of the file, the second is to parse those contents into an R object.
The default parsing-function is <code><a href="rio.html#topic+import">rio::import()</a></code>.
</p>
<p>In addition to <code>box_read()</code>, some specific helpers are
provided:
</p>

<dl>
<dt><code>box_read_csv()</code></dt><dd><p>parse a remote CSV file into a <code>data.frame</code>. Default
read-function is <code><a href="rio.html#topic+import">rio::import()</a></code> with <code>format = "csv"</code>, which uses <code><a href="data.table.html#topic+fread">data.table::fread()</a></code> if available,
and <code>utils::read.csv()</code> if not. Pass the argument <code>fread = FALSE</code> to <code>...</code>
to always use <code>utils::read.csv()</code>.</p>
</dd>
<dt><code>box_read_tsv()</code></dt><dd><p>parse a remote TSV file into a <code>data.frame</code>. Default
read-function is <code><a href="rio.html#topic+import">rio::import()</a></code> with <code>format = "tsv"</code>, which uses <code><a href="data.table.html#topic+fread">data.table::fread()</a></code> if available,
and <code>utils::read.delim()</code> if not. Pass the argument <code>fread = FALSE</code> to <code>...</code>
to always use <code>utils::read.delim()</code>.</p>
</dd>
<dt><code>box_read_json()</code></dt><dd><p>parse a remote JSON file into a R object. Default
read-function is <code><a href="jsonlite.html#topic+fromJSON">jsonlite::fromJSON()</a></code>.</p>
</dd>
<dt><code>box_read_excel()</code></dt><dd><p>parse a remote Microsoft Excel file into a <code>data.frame</code>. Default
read-function is <code><a href="rio.html#topic+import">rio::import()</a></code> with <code>format = "excel"</code>, which uses <code><a href="readxl.html#topic+read_excel">readxl::read_excel()</a></code> by default.
Pass the argument <code>readxl = FALSE</code> to <code>...</code> to use <code><a href="openxlsx.html#topic+read.xlsx">openxlsx::read.xlsx()</a></code> instead.</p>
</dd>
<dt><code>box_read_rds()</code></dt><dd><p>parse an RDS file into a R object. Uses <code><a href="base.html#topic+readRDS">readRDS()</a></code>.</p>
</dd>
</dl>



<h3>Value</h3>

<p>Object returned by function <code>read_fun</code>.
</p>


<h3>rio's import() and JSON files</h3>

<p>In rio (0.5.18) there was a change in how JSON files are processed by
<code><a href="rio.html#topic+import">rio::import()</a></code>, a non-<code>data.frame</code> object stored in JSON is no longer coerced
into a <code>data.frame</code>. The old behavior would produce unexpected results or fatal errors
if the stored object was not a <code>data.frame</code>. The new behavior is closer to that
of the underlying function <code><a href="jsonlite.html#topic+fromJSON">jsonlite::fromJSON()</a></code> and similar to the behavior for RDS files.
</p>
<p>In keeping with the spirit of <code>jsonlite</code>, <code>box_read_json()</code> has been
modified to call <code>jsonlite::fromJSON()</code> directly, which by-passes the old
&quot;undesirable&quot; behavior of <code>rio</code> (&lt; 0.5.18). If you are using the current CRAN
release of <code>rio</code> (0.5.16) you should use <code><a href="jsonlite.html#topic+read_json">jsonlite::read_json()</a></code> to avoid these issues.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_dl">box_dl()</a></code>, <code><a href="#topic+box_save">box_save()</a></code>, <code><a href="#topic+box_source">box_source()</a></code>
</p>

<hr>
<h2 id='box_save'>Download/upload an R workspace from/to a Box file</h2><span id='topic+box_save'></span><span id='topic+box_load'></span><span id='topic+box_save_image'></span>

<h3>Description</h3>

<p>Use these functions to save and load workspaces or collections of objects
to or from Box. Similar to <code><a href="base.html#topic+save">save()</a></code>, <code><a href="base.html#topic+save.image">save.image()</a></code>, and <code><a href="base.html#topic+load">load()</a></code>:
these functions operate on files at Box instead of on local files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_save(..., dir_id = box_getwd(), file_name = ".RData", description = NULL)

box_save_image(
  dir_id = box_getwd(),
  file_name = ".RData",
  description = NULL,
  filename
)

box_load(file_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_save_+3A_...">...</code></td>
<td>
<p>Objects to be saved, quoted or unquoted; passed to <code>save()</code>.</p>
</td></tr>
<tr><td><code id="box_save_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_save_+3A_file_name">file_name</code></td>
<td>
<p><code>character</code>, if supplied, an alternate filename
for the local version of the Box file.</p>
</td></tr>
<tr><td><code id="box_save_+3A_description">description</code></td>
<td>
<p><code>character</code>, description caption for the file.</p>
</td></tr>
<tr><td><code id="box_save_+3A_filename">filename</code></td>
<td>
<p><code>character</code>, <strong>deprecated</strong>: use <code>file_name</code> instead.</p>
</td></tr>
<tr><td><code id="box_save_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt><code>box_save()</code></dt><dd><p>Save object(s) using <code><a href="base.html#topic+save">save()</a></code>, write to Box.</p>
</dd>
<dt><code>box_save_image()</code></dt><dd><p>Save workspace image using <code><a href="base.html#topic+save.image">save.image()</a></code>,
write to Box.</p>
</dd>
<dt><code>box_load()</code></dt><dd><p>Read from Box, load using <code><a href="base.html#topic+load">load()</a></code>.</p>
</dd>
</dl>



<h3>Value</h3>


<dl>
<dt><code style="white-space: pre;">&#8288;box_save(), box_save_image()&#8288;</code></dt><dd><p>Object with S3 class
<code><a href="#topic+boxr_S3_classes">boxr_file_reference</a></code>.</p>
</dd>
<dt><code>box_load()</code></dt><dd><p>From <code><a href="base.html#topic+load">load()</a></code>, a character vector of the names of
objects created, invisibly.</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="base.html#topic+save">save()</a></code>, <code><a href="base.html#topic+save.image">save.image()</a></code>, <code><a href="base.html#topic+load">load()</a></code>
</p>

<hr>
<h2 id='box_search'>Search Box files</h2><span id='topic+box_search'></span><span id='topic+box_search_files'></span><span id='topic+box_search_folders'></span><span id='topic+box_search_trash'></span>

<h3>Description</h3>

<p>Search Box files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_search(
  query = "",
  content_types = c("name", "description", "file_content", "comments", "tags"),
  type = NULL,
  file_extensions = NULL,
  ancestor_folder_ids = NULL,
  created_at_range = NULL,
  updated_at_range = NULL,
  size_range = NULL,
  trash = FALSE,
  owner_user_ids = NULL,
  max = 200
)

box_search_files(query, ...)

box_search_folders(query, ...)

box_search_trash(query, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_search_+3A_query">query</code></td>
<td>
<p><code>character</code>, search term.</p>
</td></tr>
<tr><td><code id="box_search_+3A_content_types">content_types</code></td>
<td>
<p><code>character</code>, content to search; more than one
can be supplied with a vector.</p>
</td></tr>
<tr><td><code id="box_search_+3A_type">type</code></td>
<td>
<p><code>character</code>, type of object to return; the default,
<code>NULL</code>, returns all possible types (<code>"file"</code>, <code>"folder"</code>, or <code>"weblink"</code>).</p>
</td></tr>
<tr><td><code id="box_search_+3A_file_extensions">file_extensions</code></td>
<td>
<p><code>character</code>, vector of strings containing the file
extensions (without dots) by which to narrow your search.</p>
</td></tr>
<tr><td><code id="box_search_+3A_ancestor_folder_ids">ancestor_folder_ids</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, if supplied,
results are limited to one or more parent (ancestor) folders.</p>
</td></tr>
<tr><td><code id="box_search_+3A_created_at_range">created_at_range</code></td>
<td>
<p><code>POSIXct</code> (vector, length 2),
range of created-at times.</p>
</td></tr>
<tr><td><code id="box_search_+3A_updated_at_range">updated_at_range</code></td>
<td>
<p><code>POSIXct</code> (vector, length 2),
range of updated-at times.</p>
</td></tr>
<tr><td><code id="box_search_+3A_size_range">size_range</code></td>
<td>
<p><code>numeric</code> (vector, length 2),
range of file sizes (bytes).</p>
</td></tr>
<tr><td><code id="box_search_+3A_trash">trash</code></td>
<td>
<p><code>logical</code>, indicates to search only the trash folder.</p>
</td></tr>
<tr><td><code id="box_search_+3A_owner_user_ids">owner_user_ids</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, limits search to files owned
by users with these IDs.</p>
</td></tr>
<tr><td><code id="box_search_+3A_max">max</code></td>
<td>
<p><code>numeric</code>, upper limit on the number of search results.</p>
</td></tr>
<tr><td><code id="box_search_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code>box_search()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Box API supports a maximum of 200 results per request. If
<code>max &gt; 200</code>, then multiple requests will be sent to retrieve and
combine 'paginated' results for you, behind the scenes.
</p>
<p>See the <a href="https://support.box.com/hc/en-us/articles/360043696314-Search-for-Files-Folders-and-Content">box.com search description</a>
for details of the features of the service.
Some notable details:
</p>

<ul>
<li><p> Full-text searching is the default
</p>

<ul>
<li><p> available for many source code file types, but not R scripts.
</p>
</li>
<li><p> by default Box seaches by word/token and uses the <code>OR</code> operation e.g.
<code>box_search("this that")</code> is equivilant to <code>box_search("this OR that")</code>
</p>
</li></ul>

</li>
<li><p> Reserved words for boolean operations
</p>

<ul>
<li> <p><code>AND</code>, <code>OR</code>, and <code>NOT</code> (uppercase only) are interpreted as special context e.g.
<code>box_search("NOT this")</code>, <code>box_search("this AND that")</code>
</p>
</li></ul>

</li>
<li><p> Exact phrases can be matched
</p>

<ul>
<li><p> by surrounding them with double quotation marks e.g.
<code>box_search('"this exact phrase"')</code> or <code style="white-space: pre;">&#8288;box_search("\"this exact phrase\"")&#8288;</code>
</p>
</li></ul>

</li>
<li><p> Searchability is not instantaneous
</p>

<ul>
<li><p> it can take &gt;10 minutes for a newly uploaded file to become findable
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_object_list</a></code>.
</p>

<hr>
<h2 id='box_setwd'>Get/set Box default working-directory</h2><span id='topic+box_setwd'></span><span id='topic+box_getwd'></span>

<h3>Description</h3>

<p>Similar to <code><a href="base.html#topic+getwd">getwd()</a></code> and <code><a href="base.html#topic+setwd">setwd()</a></code>,
these functions get and set the folder ID of the working directory
at <a href="https://www.box.com">box.com</a>.
</p>
<p>This folder ID is also stored in <code><a href="#topic+boxr_options">boxr_options()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_setwd(dir_id)

box_getwd()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_setwd_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt><code>box_getwd()</code></dt><dd><p><code>numeric</code>, ID for working folder at Box.</p>
</dd>
<dt><code>box_setwd()</code></dt><dd><p><code>invisible(NULL)</code>, called for side-effects.</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+box_ls">box_ls()</a></code> to list files in a Box directory,
<code><a href="#topic+box_fetch">box_fetch()</a></code>/<code><a href="#topic+box_push">box_push()</a></code> to download/upload directories from/to Box
</p>

<hr>
<h2 id='box_source'>Source R code from a Box file</h2><span id='topic+box_source'></span>

<h3>Description</h3>

<p><strong>Note</strong>: please use this function with extreme caution, as it is
possible for the contents of a Box file to change without
your knowledge.
</p>
<p>This function downloads a file from Box, then runs its
contents, as R code, using <code><a href="base.html#topic+source">source()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_source(file_id, local = globalenv(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_source_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
<tr><td><code id="box_source_+3A_local">local</code></td>
<td>
<p><code>TRUE</code>, <code>FALSE</code> or an environment, determining
where the parsed expressions are evaluated.  <code>FALSE</code> (the
default) corresponds to the user's workspace (the global
environment) and <code>TRUE</code> to the environment from which
<code>source</code> is called.</p>
</td></tr>
<tr><td><code id="box_source_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+source">source()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object returned by <code><a href="base.html#topic+source">source()</a></code>,
called for side-effect of modifying an environment.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_dl">box_dl()</a></code>, <code><a href="#topic+box_save">box_save()</a></code>, <code><a href="#topic+box_read">box_read()</a></code>
</p>

<hr>
<h2 id='box_upload_new'>Upload or update a file</h2><span id='topic+box_upload_new'></span><span id='topic+box_update_file'></span>

<h3>Description</h3>

<p>Internal functions used by <code><a href="#topic+box_ul">box_ul()</a></code> (who's use is recommended as
an alternative to these functions).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_upload_new(dir_id, file, pb = FALSE)

box_update_file(file_id, file, dir_id, pb = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_upload_new_+3A_dir_id">dir_id</code></td>
<td>
<p>The box.com id for the folder that you'd like to upload to</p>
</td></tr>
<tr><td><code id="box_upload_new_+3A_file">file</code></td>
<td>
<p>A path to a file stored locally</p>
</td></tr>
<tr><td><code id="box_upload_new_+3A_file_id">file_id</code></td>
<td>
<p>the box.com id of the file you'd like to update</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The box.com api requires different API calls to upload a new file, and to
upload a new version of a file which already exists (incrementing the version
number).
</p>
<p><code>box_upload_new</code> make the API call to upload a new file.
<code>box_update_file</code> makes the API call to update an existing file.
</p>


<h3>Value</h3>

<p>The <code><a href="httr.html#topic+httr">httr()</a></code> object returned by the api call
</p>

<hr>
<h2 id='box_version_api'>Access Box version API</h2><span id='topic+box_version_api'></span>

<h3>Description</h3>

<p>Use this function to access the response-content for the
versions API endpoint.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_version_api(file_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_version_api_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object with S3 class <code>"boxr_version_list"</code>
</p>

<hr>
<h2 id='box_version_history'>Get version information</h2><span id='topic+box_version_history'></span><span id='topic+box_version_number'></span>

<h3>Description</h3>

<p>Box uses file versioning, but the API does not explicitly provide version
numbers. These functions use <code>modified_date</code> as a proxy to determine a
version number (<code>version_no</code>), which you can use with <code><a href="#topic+box_dl">box_dl()</a></code> and
<code><a href="#topic+box_read">box_read()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_version_history(file_id)

box_version_number(file_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_version_history_+3A_file_id">file_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, file ID at Box.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>box_version_history()</code>, previously called <code>box_previous_versions()</code>,
gets information on all previous versions of a file. If there are no
previous versions, this function returns <code>NULL</code>.
</p>
</li>
<li> <p><code>box_version_number()</code> gets the version number of the most-recent version.
</p>
</li>
<li><p> To access the Box version API itself, you can use <code><a href="#topic+box_version_api">box_version_api()</a></code>.
</p>
</li></ul>



<h3>Value</h3>


<dl>
<dt><code>box_previous_versions()</code></dt><dd>
<p><code>data.frame</code> describing previous versions of file.</p>
</dd>
<dt><code>box_version()</code></dt><dd>
<p><code>integer</code> version number of most-recent version of file.</p>
</dd>
</dl>



<h3>References</h3>

<p>This function is a light wrapper of the
<a href="https://developer.box.com/docs/">box.com</a> API <code>versions</code> method.
</p>
<p><a href="https://developer.box.com/reference/get-files-id-versions/">https://developer.box.com/reference/get-files-id-versions/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_version_api">box_version_api()</a></code>, <code><a href="#topic+box_dl">box_dl()</a></code>, <code><a href="#topic+box_read">box_read()</a></code>
</p>

<hr>
<h2 id='box_write'>Write an R object to a Box file</h2><span id='topic+box_write'></span><span id='topic+box_save_rds'></span>

<h3>Description</h3>

<p>Use these functions to serialize an R object and write it
to a Box file. To write an object using RDS serialization,
use <code>box_save_rds()</code>; for other types of serialization,
use <code>box_write()</code> and provide a serialization function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_write(
  object,
  file_name,
  dir_id = box_getwd(),
  description = NULL,
  write_fun = rio::export,
  x,
  filename,
  ...
)

box_save_rds(
  object,
  dir_id = box_getwd(),
  file_name = ".RDS",
  description = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_write_+3A_object">object</code></td>
<td>
<p>Object to be written.</p>
</td></tr>
<tr><td><code id="box_write_+3A_file_name">file_name</code></td>
<td>
<p><code>character</code>, name of the new Box file.</p>
</td></tr>
<tr><td><code id="box_write_+3A_dir_id">dir_id</code></td>
<td>
<p><code>numeric</code> or <code>character</code>, folder ID at Box.</p>
</td></tr>
<tr><td><code id="box_write_+3A_description">description</code></td>
<td>
<p><code>character</code>, description caption for the file.</p>
</td></tr>
<tr><td><code id="box_write_+3A_write_fun">write_fun</code></td>
<td>
<p><code>function</code>, used to write (serialize) the content from R;
default function is <code><a href="rio.html#topic+export">rio::export()</a></code>.</p>
</td></tr>
<tr><td><code id="box_write_+3A_x">x</code></td>
<td>
<p>Object to be written, <strong>deprecated</strong>: use <code>object</code> instead.</p>
</td></tr>
<tr><td><code id="box_write_+3A_filename">filename</code></td>
<td>
<p><code>character</code>, <strong>deprecated</strong>: use <code>file_name</code> instead.</p>
</td></tr>
<tr><td><code id="box_write_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code>write_fun</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using <code>box_save_rds()</code> is relatively straightforward, your
object will be written to Box as an RDS file.
</p>
<p>If you want to specify the serialization, use <code>box_write()</code>.
For example, you may wish to write a <code>data.frame</code>
to Box as a CSV file. Within <code>box_write()</code>, this is a
two-step process:
</p>

<ul>
<li><p> serialize the contents of the R object using <code>write_fun</code>
</p>
</li>
<li><p> upload that serialization to a Box file
</p>
</li></ul>

<p>The default serialization-function is <code><a href="rio.html#topic+export">rio::export()</a></code>.
</p>
<p>The <code><a href="rio.html#topic+export">rio::export()</a></code> function currently supports only <code>data.frame</code>;
to serialize lists, you may wish to use <code>jsonlite::toJSON()</code>.
</p>
<p>Please note that <code>box_write()</code> is used to write R objects to Box files
using standard formats. To write R objects as <code>.RData</code> files,
you can use <code><a href="#topic+box_save">box_save()</a></code>.
</p>


<h3>Value</h3>

<p>Object with S3 class <code><a href="#topic+boxr_S3_classes">boxr_file_reference</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+saveRDS">saveRDS()</a></code>, <code><a href="#topic+box_save">box_save()</a></code>
</p>

<hr>
<h2 id='boxGet'>Issue a get request for a file stored on box.com</h2><span id='topic+boxGet'></span>

<h3>Description</h3>

<p>This internal function is shared by <code><a href="#topic+box_dl">box_dl()</a></code>, and the
<code><a href="#topic+box_read">box_read()</a></code> family of functions, to issue GET requests, while
handling things like version numbers etc. It can be used to download a file,
or just read it into memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxGet(
  file_id,
  local_file,
  version_id = NULL,
  version_no = NULL,
  download = FALSE,
  pb = FALSE
)
</code></pre>

<hr>
<h2 id='boxr_options'>Get boxr options</h2><span id='topic+boxr_options'></span>

<h3>Description</h3>

<p>This function gets the values of boxr's global options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxr_options()
</code></pre>


<h3>Details</h3>

<p>Options can be set in the usual way, using <code><a href="base.html#topic+options">options()</a></code>.
</p>


<h3>Value</h3>

<p><code>list</code>, current values of boxr options, with elements:
</p>

<dl>
<dt><code>boxr.interactive</code></dt><dd><p><code>logical</code>, indicates if boxr is running in interactive mode.</p>
</dd>
<dt><code>boxr.progress</code></dt><dd><p><code>logical</code>, indicates to use progress-bars, if available.</p>
</dd>
<dt><code>boxr.verbose</code></dt><dd><p><code>logical</code>, indicates if boxr will use <code><a href="base.html#topic+cat">cat()</a></code> to print to the console.
Setting to <code>TRUE</code> may cause problems with <code>knitr</code>.</p>
</dd>
<dt><code>boxr.wd</code></dt><dd><p><code>list</code>, containing information on the Box working-directory:
<code>id</code> <code>(numeric)</code>, and <code>name</code> <code>(character)</code>.</p>
</dd>
<dt><code>boxr.wd.path</code></dt><dd><p><code>character</code>, path to the Box working-directory.</p>
</dd>
<dt><code>boxr.token</code></dt><dd><p>Object with S3 class <code>Token2.0</code> (<code>httr::Token2.0</code>).</p>
</dd>
<dt><code>boxr_token_jwt</code></dt><dd><p>Object with S3 class <code>request</code> (<code>httr::request</code>).</p>
</dd>
<dt><code>boxr.print_tibble</code></dt><dd><p><code>logical</code>, indicates to print as tibble where available.</p>
</dd>
</dl>


<hr>
<h2 id='boxr_S3_classes'>boxr S3 Classes</h2><span id='topic+boxr_S3_classes'></span>

<h3>Description</h3>

<p>boxr implements a series of S3 classes to manage the data returned by the
Box API. These classes are built on <code>list</code>; if you wish to access the
information directly, you can use <code>unclass(x)</code>.
</p>


<h3>Details</h3>

<p><strong><code>boxr_file_reference</code></strong>
</p>

<ul>
<li><p> describes a file created, modified, or deleted at Box.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_ul">box_ul()</a></code>, <code><a href="#topic+box_save">box_save()</a></code>, <code><a href="#topic+box_delete_file">box_delete_file()</a></code>, etc.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_folder_reference</code></strong>
</p>

<ul>
<li><p> describes a folder created or deleted at Box.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_dir_create">box_dir_create()</a></code>, <code><a href="#topic+box_delete_folder">box_delete_folder()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_dir_wide_operation_result</code></strong>
</p>

<ul>
<li><p> describes the result of a directory-wide operation.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_fetch">box_fetch()</a></code> and <code><a href="#topic+box_push">box_push()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+summary">summary()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_object_list</code></strong>
</p>

<ul>
<li><p> describes a collection of files at Box.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_ls">box_ls()</a></code>, <code><a href="#topic+box_search">box_search()</a></code>, and related functions.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_dir_comparison</code></strong>
</p>

<ul>
<li><p> describes the difference between directories.
</p>
</li>
<li><p> returned by the internal function <code><a href="#topic+box_dir_diff">box_dir_diff()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+summary">summary()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_collab</code></strong>
</p>

<ul>
<li><p> describes a collaboration (sharing permission).
</p>
</li>
<li><p> returned by <code><a href="#topic+box_collab_create">box_collab_create()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>, <code><a href="dplyr.html#topic+as_tibble">as_tibble()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_collab_list</code></strong>
</p>

<ul>
<li><p> describes a collection of collaborations.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_collab_get">box_collab_get()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>, <code><a href="dplyr.html#topic+as_tibble">as_tibble()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_comment</code></strong>
</p>

<ul>
<li><p> describes a comment on a file.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_comment_create">box_comment_create()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>, <code><a href="dplyr.html#topic+as_tibble">as_tibble()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_comment_list</code></strong>
</p>

<ul>
<li><p> describes a collection of comments on a file.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_comment_get">box_comment_get()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>, <code><a href="dplyr.html#topic+as_tibble">as_tibble()</a></code>.
</p>
</li></ul>

<p><strong><code>boxr_version_list</code></strong>
</p>

<ul>
<li><p> describes a collection of version information on a file.
</p>
</li>
<li><p> returned by <code><a href="#topic+box_version_api">box_version_api()</a></code>.
</p>
</li>
<li><p> available methods: <code><a href="base.html#topic+print">print()</a></code>, <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>, <code><a href="dplyr.html#topic+as_tibble">as_tibble()</a></code>.
</p>
</li></ul>


<hr>
<h2 id='create_loc_dir_df'>Create a data.frame of metadata of the contents of a local directory</h2><span id='topic+create_loc_dir_df'></span>

<h3>Description</h3>

<p>Create a data.frame of metadata of the contents of a local directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_loc_dir_df(local_dir = getwd())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_loc_dir_df_+3A_local_dir">local_dir</code></td>
<td>
<p>The local directory which you'd like <code>dir_id</code> to
correspond to. If you're not interested in mapping local to hosted
directories, this isn't terribly important.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame of metadata.
</p>

<hr>
<h2 id='deleteRemoteObjects'>Single Directory Operations for Downloading and Uploading multiple Files</h2><span id='topic+deleteRemoteObjects'></span><span id='topic+downloadDirFiles'></span><span id='topic+uploadDirFiles'></span>

<h3>Description</h3>

<p>Download or upload the contents of a box.com directory, not including
subdirectories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deleteRemoteObjects(dir_id, local_dir = getwd())

downloadDirFiles(
  dir_id,
  local_dir = getwd(),
  overwrite = TRUE,
  dir_str = getwd()
)

uploadDirFiles(dir_id, local_dir = getwd(), overwrite = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deleteRemoteObjects_+3A_dir_id">dir_id</code></td>
<td>
<p>The box.com id for the folder that you'd like to query</p>
</td></tr>
<tr><td><code id="deleteRemoteObjects_+3A_local_dir">local_dir</code></td>
<td>
<p>The local directory which you'd like <code>dir_id</code> to
correspond to. If you're not interested in mapping local to hosted
directories, this isn't terribly important.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> for a successful sync, <code>NULL</code> if the box.com folder
is empty.
</p>

<hr>
<h2 id='dirTreeRecursive'>Obtain a data.frame of the sub-directories in a box.com folder</h2><span id='topic+dirTreeRecursive'></span>

<h3>Description</h3>

<p>Takes the <code>id</code> of a box folder and returns a data.frame of it's
subdirectories, including their equivalent paths in the local directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dirTreeRecursive(dir_id, local_dir = getwd())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dirTreeRecursive_+3A_dir_id">dir_id</code></td>
<td>
<p>The box.com id for the folder that you'd like to query</p>
</td></tr>
<tr><td><code id="dirTreeRecursive_+3A_local_dir">local_dir</code></td>
<td>
<p>The local directory which you'd like <code>dir_id</code> to
correspond to. If you're not interested in mapping local to hosted
directories, this isn't terribly important.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame describing the contents directory structure of the
box.com folder corresponding to <code>dir_id</code>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

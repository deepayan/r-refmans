<!DOCTYPE html><html><head><title>Help for package wikiTools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wikiTools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cc'><p>Converts a text separated by commas into a character vector.</p></a></li>
<li><a href='#extractWiki'><p>Extract the first paragraph of a Wikipedia article with a maximum of characters.</p></a></li>
<li><a href='#filext'><p>Extract the extension of a file</p></a></li>
<li><a href='#get_template'><p>Create a drop-down vignette for nodes from different items (for galleries).</p></a></li>
<li><a href='#get_template_for_maps'><p>Create a drop-down vignette for nodes from different items (for maps).</p></a></li>
<li><a href='#getFiles'><p>Downloads a list of files in a specified path of the computer, and return a vector of the no-found names (if any).</p></a></li>
<li><a href='#getWikiData'><p>Create a data.frame with Wikidata of a vector of names.</p></a></li>
<li><a href='#GetWikidataitem'><p>GetWikidataitem</p>
Use Wikimedia_query to obtain the Wikidata entity of a article from a Wikimedia project.
Automatically resolvs redirects.</a></li>
<li><a href='#getWikiFiles'><p>Downloads a list of Wikipedia pages in a specified path of the computer, and return a vector of the no-found names (if any).</p></a></li>
<li><a href='#getWikiInf'><p>Create a data.frame with Q's and descriptions of a vector of names.</p></a></li>
<li><a href='#limit_requester'><p>limit_requester</p>
Limit the rate at which a function will execute</a></li>
<li><a href='#nametoWikiFrame'><p>Convert names into a Wikipedia's iframe</p></a></li>
<li><a href='#nametoWikiHtml'><p>Create the Wikipedia link of a name or entry.</p></a></li>
<li><a href='#nametoWikiURL'><p>Create the Wikipedia URL of a name or entry.</p></a></li>
<li><a href='#preName'><p>Reverse the order of the first and last names of every element of a vector.</p></a></li>
<li><a href='#req_WDQS'><p>req_WDQS</p>
Retrieve responses in JSON format from Wikidata Query Service (WDQS)</a></li>
<li><a href='#req_wikimedia_metrics'><p>req_wikimedia_metrics</p>
Retrieve responses in JSON format from Wikimedia metrics API</a></li>
<li><a href='#searchWiki'><p>Find if there is a Wikipedia page of a name(s) in the selected language.</p></a></li>
<li><a href='#urltoFrame'><p>Convert an URL link to an HTML iframe.</p></a></li>
<li><a href='#urltoHtml'><p>Convert a Wikipedia URL to an HTML link</p></a></li>
<li><a href='#validUrl'><p>Find if an URL link is valid.</p></a></li>
<li><a href='#Wikidata_occupationCount'><p>Wikidata_occupationCount</p>
Search Wikidata Query Service (WDQS) to know the number of Wikidata entities with P106 property (occupation) set to Qoc.</a></li>
<li><a href='#Wikidata_sparql_query'><p>Wikidata_sparql_query</p>
Retrieve responses in JSON format from Wikidata Query Service (WDQS)
#' req_WDQS_rated
The ratelimitr version of req_WDQS_rate.
See https://www.mediawiki.org/wiki/Wikidata_Query_Service/User_Manual#SPARQL_endpoint</a></li>
<li><a href='#Wikidata_Wikipedias'><p>Wikidata_wikipedias</p>
For an occupation, obtains all Wikidata entity of the people with that ocupation, also the
number of wikipedias witch article they have, and the URL of those wikipedias (sep = tab)
Run queries splitting with offset and chunk.</a></li>
<li><a href='#Wikimedia_get_redirects'><p>Wikimedia_get_redirects</p>
Obtains redirection pages (from namespace 0) to the article page in the Wikimedia project</a></li>
<li><a href='#Wikimedia_page_views'><p>Wikimedia_page_views</p>
Return the number of views one article has in a Wikimedia project in a date interval (see granularity). Optionally include redirections to the article page.
req_wikimeida_metrics_rated
The limitratedr version of req_wikimedia_metrics.</a></li>
<li><a href='#Wikimedia_person_exists'><p>Wikimedia_person_exists</p>
Use Wikimedia_query and Wikidata_sparql_query to check if a article of a person
exists in the Wikimedia project. If exists, also return the Wikipedia pages of
that person in the languages indicated in param lang</a></li>
<li><a href='#Wikimedia_query'><p>Wikimedia_query</p>
Use httr package to retrieve responses in JSON format about an article from Wikimedia API.</a></li>
<li><a href='#wmflabs_get_allinfo'><p>wmflabs_get_allinfo</p>
Obtains information about an article in the Wikimedia project in JSON format, or NULL on error.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.6</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-03-18</td>
</tr>
<tr>
<td>Title:</td>
<td>Tools for Wikidata and Wikipedia</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of wrappers intended to check, read and download information from the Wikimedia sources. It is specifically created to work with names of celebrities, in which case their information and statistics can be downloaded. Additionally, it also builds links and snippets to use in combination with the function gallery() in netCoin package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>WikidataQueryServiceR (&ge; 1.0.0), WikidataR (&ge; 1.4.0), httr,
jsonlite, ratelimitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Modesto Escobar &lt;modesto@usal.es&gt;</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-23 18:25:19 UTC; Modesto</td>
</tr>
<tr>
<td>Author:</td>
<td>Modesto Escobar <a href="https://orcid.org/0000-0003-2072-6071"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph, cre],
  √Ångel Zazo [aut],
  Carlos Prieto <a href="https://orcid.org/0000-0001-8178-9768"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  David Barrios [aut],
  Cristina Calvo [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-24 08:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cc'>Converts a text separated by commas into a character vector.</h2><span id='topic+cc'></span>

<h3>Description</h3>

<p>Converts a text separated by commas into a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cc(text, sep = ",")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cc_+3A_text">text</code></td>
<td>
<p>Text to be separated.</p>
</td></tr>
<tr><td><code id="cc_+3A_sep">sep</code></td>
<td>
<p>A character of separation. It must be a blank. If it is another character, trailing blanks are suppressed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns inside the text are omitted.
</p>


<h3>Value</h3>

<p>A vector of the split segments of the text.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## A text with three names separated with commas is converted into a vector of length 3.
cc("Pablo Picasso, Diego Velazquez, Salvador Dali")
</code></pre>

<hr>
<h2 id='extractWiki'>Extract the first paragraph of a Wikipedia article with a maximum of characters.</h2><span id='topic+extractWiki'></span>

<h3>Description</h3>

<p>Extract the first paragraph of a Wikipedia article with a maximum of characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractWiki(
  names,
  language = c("en", "es", "fr", "de", "it"),
  plain = FALSE,
  maximum = 1000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractWiki_+3A_names">names</code></td>
<td>
<p>A vector of names, whose entries have to be extracted.</p>
</td></tr>
<tr><td><code id="extractWiki_+3A_language">language</code></td>
<td>
<p>A vector of Wikipedia's languages to look for. If the article is not found in the language of the first element, it search for the followings,.</p>
</td></tr>
<tr><td><code id="extractWiki_+3A_plain">plain</code></td>
<td>
<p>If TRUE, the results are delivered in plain format.</p>
</td></tr>
<tr><td><code id="extractWiki_+3A_maximum">maximum</code></td>
<td>
<p>Number maximum of characters to be included when the paragraph is too large.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with html formatted (or plain text) Wikipedia paragraphs.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Obtaining information in English Wikidata
names &lt;- c("William Shakespeare", "Pablo Picasso")
info &lt;- getWikiInf(names)
info$text &lt;- extractWiki(info$label)
</code></pre>

<hr>
<h2 id='filext'>Extract the extension of a file</h2><span id='topic+filext'></span>

<h3>Description</h3>

<p>Extract the extension of a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filext(fn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filext_+3A_fn">fn</code></td>
<td>
<p>Character vector with the files whose extensions are to be extracted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extracts the extension of a vector of file names.
</p>


<h3>Value</h3>

<p>A character vector of extension names.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## For a single item:
filext("Albert Einstein.jpg")
## You can do the same for a vector:
filext(c("Hillary Duff.png", "Britney Spears.jpg", "Avril Lavigne.tiff"))
</code></pre>

<hr>
<h2 id='get_template'>Create a drop-down vignette for nodes from different items (for galleries).</h2><span id='topic+get_template'></span>

<h3>Description</h3>

<p>Create a drop-down vignette for nodes from different items (for galleries).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_template(
  data,
  title = NULL,
  title2 = NULL,
  text = NULL,
  img = NULL,
  wiki = NULL,
  width = 300,
  color = "#135dcd",
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_template_+3A_data">data</code></td>
<td>
<p>data frame which contains the data.</p>
</td></tr>
<tr><td><code id="get_template_+3A_title">title</code></td>
<td>
<p>column name which contains the first tittle of the vignette.</p>
</td></tr>
<tr><td><code id="get_template_+3A_title2">title2</code></td>
<td>
<p>column name which contains the secondary title of the vignette.</p>
</td></tr>
<tr><td><code id="get_template_+3A_text">text</code></td>
<td>
<p>column name which contains the main text of the vignette.</p>
</td></tr>
<tr><td><code id="get_template_+3A_img">img</code></td>
<td>
<p>column name which contains the names of the image files.</p>
</td></tr>
<tr><td><code id="get_template_+3A_wiki">wiki</code></td>
<td>
<p>column name which contains the wiki URL for the vignette.</p>
</td></tr>
<tr><td><code id="get_template_+3A_width">width</code></td>
<td>
<p>length of the vignette's width.</p>
</td></tr>
<tr><td><code id="get_template_+3A_color">color</code></td>
<td>
<p>color of the vignette's strip (It also could be a column name which contains colors).</p>
</td></tr>
<tr><td><code id="get_template_+3A_cex">cex</code></td>
<td>
<p>number indicating the amount by which plotting text should be scaled relative to the default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of html formatted vignettes.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Obtaining information in English Wikidata
## Not run: 
names &lt;- c("William Shakespeare", "Pablo Picasso")
information &lt;- getWikiData(names)
information$html &lt;- get_template(information, title="entityLabel", text="entityDescription")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_template_for_maps'>Create a drop-down vignette for nodes from different items (for maps).</h2><span id='topic+get_template_for_maps'></span>

<h3>Description</h3>

<p>Create a drop-down vignette for nodes from different items (for maps).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_template_for_maps(
  data,
  title = NULL,
  title2 = NULL,
  text = NULL,
  img = NULL,
  wiki = NULL,
  color = "#cbdefb",
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_template_for_maps_+3A_data">data</code></td>
<td>
<p>data frame which contains the data.</p>
</td></tr>
<tr><td><code id="get_template_for_maps_+3A_title">title</code></td>
<td>
<p>column name which contains the first tittle of the vignette.</p>
</td></tr>
<tr><td><code id="get_template_for_maps_+3A_title2">title2</code></td>
<td>
<p>column name which contains the secondary title of the vignette.</p>
</td></tr>
<tr><td><code id="get_template_for_maps_+3A_text">text</code></td>
<td>
<p>column name which contains the main text of the vignette.</p>
</td></tr>
<tr><td><code id="get_template_for_maps_+3A_img">img</code></td>
<td>
<p>column name which contains the names of the image files.</p>
</td></tr>
<tr><td><code id="get_template_for_maps_+3A_wiki">wiki</code></td>
<td>
<p>column name which contains the wiki URL for the vignette.</p>
</td></tr>
<tr><td><code id="get_template_for_maps_+3A_color">color</code></td>
<td>
<p>color of the vignette's strip (It also could be a column name which contains colors).</p>
</td></tr>
<tr><td><code id="get_template_for_maps_+3A_cex">cex</code></td>
<td>
<p>number indicating the amount by which plotting text should be scaled relative to the default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of html formatted vignettes.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Obtaining information in English Wikidata
## Not run: 
names &lt;- c("William Shakespeare", "Pablo Picasso")
info &lt;- getWikiData(names)
info$html &lt;- get_template_for_maps(info, title="entityLabel", text="entityDescription")

## End(Not run)
</code></pre>

<hr>
<h2 id='getFiles'>Downloads a list of files in a specified path of the computer, and return a vector of the no-found names (if any).</h2><span id='topic+getFiles'></span>

<h3>Description</h3>

<p>Downloads a list of files in a specified path of the computer, and return a vector of the no-found names (if any).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFiles(lista, path = "./", ext = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFiles_+3A_lista">lista</code></td>
<td>
<p>A list or data frame of files' URLs to be download (See details).</p>
</td></tr>
<tr><td><code id="getFiles_+3A_path">path</code></td>
<td>
<p>Directory where to export the files.</p>
</td></tr>
<tr><td><code id="getFiles_+3A_ext">ext</code></td>
<td>
<p>Select desired extension of the files. Default= NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows download a file of files directly into your directory.
This function needs a preexistent data frame of names and pictures' URL. It must be a list (or data.frame) with two values: &quot;name&quot; (specifying the names of the files) and &quot;url&quot; (containing the urls to the files to download)..
All the errors are reported as outcomes (NULL= no errors). The files are donwload into your chosen directory.
</p>


<h3>Value</h3>

<p>It returns a vector of errors, if any. All pictures are download into the selected directory (NULL= no errors).
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## In case you want to download a file directly from an URL:

# dta &lt;- data.frame(name = "Data", url = "https://sociocav.usal.es/me/Stata/example.dta")
# getFiles(dta, path = "./")

##  You can can also combine this function with getWikiData (among others).
## In case you want to download a picture of a person:

# A &lt;- data.frame(name= getWikiData("Rembrandt")$label, url=getWikiData("Rembrandt")$pics)
# getFiles(A, path = "./", ext = "png")

## Or the pics of multiple authors: 

# B &lt;- getWikiData(c("Monet", "Renoir", "Caillebotte"))
# data &lt;- data.frame(name = B$label, url = B$pics)
# getFiles(data, path = "./", ext = NULL)

## End(Not run)
</code></pre>

<hr>
<h2 id='getWikiData'>Create a data.frame with Wikidata of a vector of names.</h2><span id='topic+getWikiData'></span>

<h3>Description</h3>

<p>Create a data.frame with Wikidata of a vector of names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWikiData(names, language = "en", csv = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWikiData_+3A_names">names</code></td>
<td>
<p>A vector consisting of one or more Wikidata's entry (i.e., topic or person).</p>
</td></tr>
<tr><td><code id="getWikiData_+3A_language">language</code></td>
<td>
<p>The language of the Wikipedia page version. This should consist of an ISO language code (default = &quot;en&quot;).</p>
</td></tr>
<tr><td><code id="getWikiData_+3A_csv">csv</code></td>
<td>
<p>A file name to save the results, in which case the only return is a message with the name of the saved file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with personal information of the names or a csv file with the information separated by semicolons.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Obtaining information in English Wikidata
## Not run: 
names &lt;- c("William Shakespeare", "Pablo Picasso")
info &lt;- getWikiData(names)
## Obtaining information in Spanish Wikidata
d &lt;- getWikiData(names, language="es")

## End(Not run)
</code></pre>

<hr>
<h2 id='GetWikidataitem'>GetWikidataitem
Use Wikimedia_query to obtain the Wikidata entity of a article from a Wikimedia project.
Automatically resolvs redirects.</h2><span id='topic+GetWikidataitem'></span>

<h3>Description</h3>

<p>GetWikidataitem
Use Wikimedia_query to obtain the Wikidata entity of a article from a Wikimedia project.
Automatically resolvs redirects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetWikidataitem(article = "", project = "en.wikipedia.org")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetWikidataitem_+3A_article">article</code></td>
<td>
<p>Article to search</p>
</td></tr>
<tr><td><code id="GetWikidataitem_+3A_project">project</code></td>
<td>
<p>Wikimedia project, defaults &quot;en.wikipedia.org&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the firts element to 1 if exists the Wikidata item and if not a
disambiguation page, the second element de normalized forma of article, and the third the wikidata item. If errors, the firts element is set to 0 and the third is the explication of error.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>


<h3>Examples</h3>

<pre><code class='language-R'>GetWikidataitem('Max Planck', project='es.wikipedia.org')

GetWikidataitem('Max')

GetWikidataitem('Cervante')
</code></pre>

<hr>
<h2 id='getWikiFiles'>Downloads a list of Wikipedia pages in a specified path of the computer, and return a vector of the no-found names (if any).</h2><span id='topic+getWikiFiles'></span>

<h3>Description</h3>

<p>Downloads a list of Wikipedia pages in a specified path of the computer, and return a vector of the no-found names (if any).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWikiFiles(X, language = c("es", "en", "fr"), directory = "./", maxtime = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWikiFiles_+3A_x">X</code></td>
<td>
<p>A vector of Wikipedia's entry).</p>
</td></tr>
<tr><td><code id="getWikiFiles_+3A_language">language</code></td>
<td>
<p>The language of the Wikipedia page version. This should consist of an ISO language code (default = &quot;en&quot;).</p>
</td></tr>
<tr><td><code id="getWikiFiles_+3A_directory">directory</code></td>
<td>
<p>Directory where to export the files to.</p>
</td></tr>
<tr><td><code id="getWikiFiles_+3A_maxtime">maxtime</code></td>
<td>
<p>In case you want to apply a random waiting between consecutive searches.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows download a set of Wikipedia pages into a directory of the local computer.
All the errors (not found pages) are reported as outcomes (NULL= no errors). The files are donwload into your chosen directory.
</p>


<h3>Value</h3>

<p>It returns a vector of errors, if any. All pictures are download into the selected directory (NULL= no errors).
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## In case you want to download the Wikipage of a person:

# getWikiFiles("Rembrandt", dir = "./")

## Or the pics of multiple authors: 

# B &lt;- c("Monet", "Renoir", "Caillebotte")
# getWikiFiles(B, dir = "./", language="fr")

## End(Not run)
</code></pre>

<hr>
<h2 id='getWikiInf'>Create a data.frame with Q's and descriptions of a vector of names.</h2><span id='topic+getWikiInf'></span>

<h3>Description</h3>

<p>Create a data.frame with Q's and descriptions of a vector of names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWikiInf(names, number = 1, language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWikiInf_+3A_names">names</code></td>
<td>
<p>A vector consisting of one or more Wikidata's entry (i.e., topic or person).</p>
</td></tr>
<tr><td><code id="getWikiInf_+3A_number">number</code></td>
<td>
<p>Take the number occurrence in case there are several equal names in Wikidata.</p>
</td></tr>
<tr><td><code id="getWikiInf_+3A_language">language</code></td>
<td>
<p>The language of the Wikipedia page version. This should consist of an ISO language code (default = &quot;en&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with name, Q, label and description of the names.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Obtaining information in English Wikidata
names &lt;- c("William Shakespeare", "Pablo Picasso")
information &lt;- getWikiInf(names)

## Obtaining information in Spanish Wikidata
## Not run: 
informacion &lt;- getWikiInf(names, language="es")

## End(Not run)
</code></pre>

<hr>
<h2 id='limit_requester'>limit_requester
Limit the rate at which a function will execute</h2><span id='topic+limit_requester'></span>

<h3>Description</h3>

<p>limit_requester
Limit the rate at which a function will execute
</p>


<h3>Usage</h3>

<pre><code class='language-R'>limit_requester(f, n, period)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="limit_requester_+3A_f">f</code></td>
<td>
<p>The original function</p>
</td></tr>
<tr><td><code id="limit_requester_+3A_n">n</code></td>
<td>
<p>Number of allowed events within a period</p>
</td></tr>
<tr><td><code id="limit_requester_+3A_period">period</code></td>
<td>
<p>Length (in seconds) of measurement period</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'f' is a single function, then a new function with the same signature and (eventual) behavior as the original function, but rate limited. If 'f' is a named list of functions, then a new list of functions with the same names and signatures, but collectively bound by a shared rate limit.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>


<h3>See Also</h3>

<p>ratelimitr
</p>

<hr>
<h2 id='nametoWikiFrame'>Convert names into a Wikipedia's iframe</h2><span id='topic+nametoWikiFrame'></span>

<h3>Description</h3>

<p>Convert names into a Wikipedia's iframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nametoWikiFrame(name, language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nametoWikiFrame_+3A_name">name</code></td>
<td>
<p>A vector consisting of one or more Wikipedia's entry (i.e., topic or person).</p>
</td></tr>
<tr><td><code id="nametoWikiFrame_+3A_language">language</code></td>
<td>
<p>The language of the Wikipedia page version. This should consist of an ISO language code (default = &quot;en&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function adds the Wikipedia's iframe to a entry or name, i.e., &quot;Max Weber&quot; converts into &quot;&lt;iframe src=\&quot;https://es.m.wikipedia.org/wiki/Max_Weber\&quot; width=\&quot;100...&quot;. It also manages different the languages of Wikipedia through the abbreviated two-letter language parameter, i.e., &quot;en&quot; = &quot;english&quot;.
</p>


<h3>Value</h3>

<p>A character vector of Wikipedia's iframes.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## When extracting a single item;
nametoWikiFrame("Computer", language = "en")

## When extracting two objetcs;
A &lt;- c("Computer", "Operating system")
nametoWikiFrame(A)

## Same when three or more items;
B &lt;- c("Socrates", "Plato", "Aristotle")
nametoWikiFrame(B)
</code></pre>

<hr>
<h2 id='nametoWikiHtml'>Create the Wikipedia link of a name or entry.</h2><span id='topic+nametoWikiHtml'></span>

<h3>Description</h3>

<p>Create the Wikipedia link of a name or entry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nametoWikiHtml(name, language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nametoWikiHtml_+3A_name">name</code></td>
<td>
<p>A vector consisting of one or more Wikipedia's entry (i.e., topic or person).</p>
</td></tr>
<tr><td><code id="nametoWikiHtml_+3A_language">language</code></td>
<td>
<p>The language of the Wikipedia page version. This should consist of an ISO language code (default = &quot;en&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function adds the Wikipedia's html link to a entry or name, i.e., &quot;Max Weber&quot; converts into &quot;&lt;a href='https://es.wikipedia.org/wiki/Max_Weber', target='_blank'&gt;Max Weber&lt;/a&gt;&quot;. It also manages different the languages of Wikipedia through the abbreviated two-letter language parameter, i.e., &quot;en&quot; = &quot;english&quot;.
</p>


<h3>Value</h3>

<p>A character vector of names' links.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## When extracting a single item;
nametoWikiHtml("Computer", language = "en")

## When extracting two objetcs;
A &lt;- c("Computer", "Operating system")
nametoWikiHtml(A)
B &lt;- c("Socrates", "Plato","Aristotle" )
nametoWikiHtml(B)
</code></pre>

<hr>
<h2 id='nametoWikiURL'>Create the Wikipedia URL of a name or entry.</h2><span id='topic+nametoWikiURL'></span>

<h3>Description</h3>

<p>Create the Wikipedia URL of a name or entry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nametoWikiURL(name, language = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nametoWikiURL_+3A_name">name</code></td>
<td>
<p>A vector consisting of one or more Wikipedia's entry (i.e., topic or person).</p>
</td></tr>
<tr><td><code id="nametoWikiURL_+3A_language">language</code></td>
<td>
<p>The language of the Wikipedia page version. This should consist of an ISO language code (default = &quot;en&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function adds the Wikipedia URL to a entry or name, i.e., &quot;Max Weber&quot; converts into &quot;https://es.wikipedia.org/wiki/Max_Weber&quot;. It also manages different the languages of Wikipedia thru the abbreviated two-letter language parameter, i.e., &quot;en&quot; = &quot;english&quot;.
</p>


<h3>Value</h3>

<p>A character vector of names' URLs.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## When extracting a single item;
nametoWikiURL("Computer", language = "en")

## When extracting two objetcs;
A &lt;- c("Computer", "Operating system")
nametoWikiURL(A)

## Same when three or more items;
B &lt;- c("Socrates", "Plato" , "Aristotle")
nametoWikiURL(B)
</code></pre>

<hr>
<h2 id='preName'>Reverse the order of the first and last names of every element of a vector.</h2><span id='topic+preName'></span>

<h3>Description</h3>

<p>Reverse the order of the first and last names of every element of a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>preName(X)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="preName_+3A_x">X</code></td>
<td>
<p>A vector of names with format &quot;name, prename&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function reverses the order of the first and last names of the items: i.e., &quot;Weber, Max&quot; turns into &quot;Max Weber&quot;.
</p>


<h3>Value</h3>

<p>Another vector with its elements changed.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## To reconvert a single name:
preName("Weber, Max")
## It is possible to work with several items, as in here:
A &lt;- c("Weber, Max", "Descartes, Rene", "Locke, John")
preName(A)
</code></pre>

<hr>
<h2 id='req_WDQS'>req_WDQS
Retrieve responses in JSON format from Wikidata Query Service (WDQS)</h2><span id='topic+req_WDQS'></span>

<h3>Description</h3>

<p>req_WDQS
Retrieve responses in JSON format from Wikidata Query Service (WDQS)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>req_WDQS(sparql_query)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="req_WDQS_+3A_sparql_query">sparql_query</code></td>
<td>
<p>A string with the query in SPARQL language.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A JSON response. Please check httr::stop_for_status(response)
</p>


<h3>Note</h3>

<p>For short queries GET method is better, POST for long ones. Only GET queries as cached.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='req_wikimedia_metrics'>req_wikimedia_metrics
Retrieve responses in JSON format from Wikimedia metrics API</h2><span id='topic+req_wikimedia_metrics'></span>

<h3>Description</h3>

<p>req_wikimedia_metrics
Retrieve responses in JSON format from Wikimedia metrics API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>req_wikimedia_metrics(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="req_wikimedia_metrics_+3A_url">url</code></td>
<td>
<p>The URL with the query</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A JSON response. Please check httr::stop_for_status(response)
</p>


<h3>Note</h3>

<p>Used in Wikimedia_page_views
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='searchWiki'>Find if there is a Wikipedia page of a name(s) in the selected language.</h2><span id='topic+searchWiki'></span>

<h3>Description</h3>

<p>Find if there is a Wikipedia page of a name(s) in the selected language.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>searchWiki(
  name,
  language = c("en", "es", "fr", "it", "de", "pt", "ca"),
  all = FALSE,
  maxtime = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="searchWiki_+3A_name">name</code></td>
<td>
<p>A vector consisting of one or more Wikipedia's entry (i.e., topic or person).</p>
</td></tr>
<tr><td><code id="searchWiki_+3A_language">language</code></td>
<td>
<p>The language of the Wikipedia page version. This should consist of an ISO language code.</p>
</td></tr>
<tr><td><code id="searchWiki_+3A_all">all</code></td>
<td>
<p>If all, all the languages are checked. If false, once a term is found, there is no search of others, so it's faster.</p>
</td></tr>
<tr><td><code id="searchWiki_+3A_maxtime">maxtime</code></td>
<td>
<p>In case you want to apply a random waiting between consecutive searches.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks any page or entry in order to find if it has a Wikipedia page in a given language.
It manages the different the languages of Wikipedia thru the two-letters abbreviated language parameter, i.e, &quot;en&quot; = &quot;english&quot;. It is possible to check multiple languages in order of preference; in this case, only the first available language will appear as TRUE.
</p>


<h3>Value</h3>

<p>A Boolean data frame of TRUE or FALSE.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## When you want to check an entry in a single language:
searchWiki("Manuel Vilas", language = "es")

## When you want to check an entry in several languages:
## Not run: 
searchWiki("Manuel Vilas", language = c( "en", "es", "fr", "it", "de", "pt", "ca"), all=TRUE)

## End(Not run)
## Not run: 
A&lt;-c("Manuel Vilas", "Julia Navarro", "Rosa Montero")
searchWiki(A, language = c("en", "es", "fr", "it", "de", "pt", "ca"), all=FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='urltoFrame'>Convert an URL link to an HTML iframe.</h2><span id='topic+urltoFrame'></span>

<h3>Description</h3>

<p>Convert an URL link to an HTML iframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>urltoFrame(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="urltoFrame_+3A_url">url</code></td>
<td>
<p>Character vector of URLs.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function converts an available URL direction to the corresponding HTML iframe, i.e., &quot;https://es.wikipedia.org/wiki/Socrates&quot; changes into &quot;&lt;a href='https://es.wikipedia.org/wiki/Socrates', target='_blank'&gt;Socrates&lt;/a&gt;&quot;.
</p>


<h3>Value</h3>

<p>A character vector of HTML iframe for the given urls.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## When you have a single URL:

urltoFrame("https://es.wikipedia.org/wiki/Socrates")

## It is possible to work with a vector of URL to obtain another vector of html frames:

A &lt;- c("https://es.wikipedia.org/wiki/Socrates", 
       "https://es.wikipedia.org/wiki/Plato", 
       "https://es.wikipedia.org/wiki/Aristotle")
urltoHtml (A)
</code></pre>

<hr>
<h2 id='urltoHtml'>Convert a Wikipedia URL to an HTML link</h2><span id='topic+urltoHtml'></span>

<h3>Description</h3>

<p>Convert a Wikipedia URL to an HTML link
</p>


<h3>Usage</h3>

<pre><code class='language-R'>urltoHtml(url, text = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="urltoHtml_+3A_url">url</code></td>
<td>
<p>Character vector of URLs.</p>
</td></tr>
<tr><td><code id="urltoHtml_+3A_text">text</code></td>
<td>
<p>A vector with name of the correspondent title of the url (See details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function converts an available URL direction to the corresponding HTML link, i.e., &quot;https://es.wikipedia.org/wiki/Socrates&quot; changes into &quot;&lt;a href='https://es.wikipedia.org/wiki/Socrates', target='_blank'&gt;Socrates&lt;/a&gt;&quot;.
</p>


<h3>Value</h3>

<p>A character vector of HTML links for the given urls.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## When you have a single URL:

urltoHtml("https://es.wikipedia.org/wiki/Socrates", text = "Socrates")

## It is possible to work with several items:

A &lt;- c("https://es.wikipedia.org/wiki/Socrates", 
       "https://es.wikipedia.org/wiki/Plato", 
       "https://es.wikipedia.org/wiki/Aristotle")
urltoHtml (A, text = c("Socrates", "Plato", "Aristotle"))

## And  you can also directly extract the info from nametoWikiURL():

urltoHtml(nametoWikiURL("Plato", "en"), "Plato" )
urltoHtml(nametoWikiURL(c("Plato", "Socrates", "Aristotle"), language="en"), 
          c("Plato", "Socrates", "Aristotle"))
</code></pre>

<hr>
<h2 id='validUrl'>Find if an URL link is valid.</h2><span id='topic+validUrl'></span>

<h3>Description</h3>

<p>Find if an URL link is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validUrl(url, time = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validUrl_+3A_url">url</code></td>
<td>
<p>A vector of URLs.</p>
</td></tr>
<tr><td><code id="validUrl_+3A_time">time</code></td>
<td>
<p>The timeout (in seconds) to be used for each connection. Default = 2.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks if a URL exists on the Internet.
</p>


<h3>Value</h3>

<p>A boolean value of TRUE or FALSE.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>validUrl(url="https://es.wikipedia.org/wiki/Weber,_Max", time=2)
</code></pre>

<hr>
<h2 id='Wikidata_occupationCount'>Wikidata_occupationCount
Search Wikidata Query Service (WDQS) to know the number of Wikidata entities with P106 property (occupation) set to Qoc.</h2><span id='topic+Wikidata_occupationCount'></span>

<h3>Description</h3>

<p>Wikidata_occupationCount
Search Wikidata Query Service (WDQS) to know the number of Wikidata entities with P106 property (occupation) set to Qoc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Wikidata_occupationCount(Qoc = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Wikidata_occupationCount_+3A_qoc">Qoc</code></td>
<td>
<p>The Wikidata entity of the occupation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of entities with that occupation (integer)
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Wikidata_occupationCount('Q2526255') # Film director
</code></pre>

<hr>
<h2 id='Wikidata_sparql_query'>Wikidata_sparql_query
Retrieve responses in JSON format from Wikidata Query Service (WDQS)
#' req_WDQS_rated
The ratelimitr version of req_WDQS_rate.
See https://www.mediawiki.org/wiki/Wikidata_Query_Service/User_Manual#SPARQL_endpoint</h2><span id='topic+Wikidata_sparql_query'></span>

<h3>Description</h3>

<p>Wikidata_sparql_query
Retrieve responses in JSON format from Wikidata Query Service (WDQS)
#' req_WDQS_rated
The ratelimitr version of req_WDQS_rate.
See https://www.mediawiki.org/wiki/Wikidata_Query_Service/User_Manual#SPARQL_endpoint
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Wikidata_sparql_query(sparql_query)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Wikidata_sparql_query_+3A_sparql_query">sparql_query</code></td>
<td>
<p>A string with the query in SPARQL language.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A JSON response or NULL on errors.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='Wikidata_Wikipedias'>Wikidata_wikipedias
For an occupation, obtains all Wikidata entity of the people with that ocupation, also the
number of wikipedias witch article they have, and the URL of those wikipedias (sep = tab)
Run queries splitting with offset and chunk.</h2><span id='topic+Wikidata_Wikipedias'></span>

<h3>Description</h3>

<p>Wikidata_wikipedias
For an occupation, obtains all Wikidata entity of the people with that ocupation, also the
number of wikipedias witch article they have, and the URL of those wikipedias (sep = tab)
Run queries splitting with offset and chunk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Wikidata_Wikipedias(Qoc, chunk = 10000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Wikidata_Wikipedias_+3A_qoc">Qoc</code></td>
<td>
<p>The Wikidata entity of the occupation</p>
</td></tr>
<tr><td><code id="Wikidata_Wikipedias_+3A_chunk">chunk</code></td>
<td>
<p>The chunk to split intermediate results with the aim of reduce the limit 60 seconds processig time.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with Wikidata entity, the number of wikipedias and the URL
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='Wikimedia_get_redirects'>Wikimedia_get_redirects
Obtains redirection pages (from namespace 0) to the article page in the Wikimedia project</h2><span id='topic+Wikimedia_get_redirects'></span>

<h3>Description</h3>

<p>Wikimedia_get_redirects
Obtains redirection pages (from namespace 0) to the article page in the Wikimedia project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Wikimedia_get_redirects(article, project = "en.wikipedia.org")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Wikimedia_get_redirects_+3A_article">article</code></td>
<td>
<p>Article target</p>
</td></tr>
<tr><td><code id="Wikimedia_get_redirects_+3A_project">project</code></td>
<td>
<p>Wikimedia project, defaults &quot;en.wikipedio.org&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the firts element the target of all redirections, or NULL on error.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='Wikimedia_page_views'>Wikimedia_page_views
Return the number of views one article has in a Wikimedia project in a date interval (see granularity). Optionally include redirections to the article page.
req_wikimeida_metrics_rated
The limitratedr version of req_wikimedia_metrics.</h2><span id='topic+Wikimedia_page_views'></span>

<h3>Description</h3>

<p>Wikimedia_page_views
Return the number of views one article has in a Wikimedia project in a date interval (see granularity). Optionally include redirections to the article page.
req_wikimeida_metrics_rated
The limitratedr version of req_wikimedia_metrics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Wikimedia_page_views(
  article,
  project = "en.wikipedia.org",
  start,
  end,
  access = "all-access",
  agent = "user",
  granularity = "monthly",
  include_redirects = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Wikimedia_page_views_+3A_article">article</code></td>
<td>
<p>The article to search</p>
</td></tr>
<tr><td><code id="Wikimedia_page_views_+3A_project">project</code></td>
<td>
<p>The Wikimedia project, defaults en.wikipedia.org</p>
</td></tr>
<tr><td><code id="Wikimedia_page_views_+3A_start">start</code>, <code id="Wikimedia_page_views_+3A_end">end</code></td>
<td>
<p>First and last day to include (format YYYYMMDD or YYYYMMDDHH)</p>
</td></tr>
<tr><td><code id="Wikimedia_page_views_+3A_access">access</code></td>
<td>
<p>Filter by access method: all-access (default), desktop, mobile-app, mobile-web</p>
</td></tr>
<tr><td><code id="Wikimedia_page_views_+3A_agent">agent</code></td>
<td>
<p>Filter by agent type: all-agents, user (default), spider, automated</p>
</td></tr>
<tr><td><code id="Wikimedia_page_views_+3A_granularity">granularity</code></td>
<td>
<p>Time unit for the response data: daily, monthly (default)</p>
</td></tr>
<tr><td><code id="Wikimedia_page_views_+3A_include_redirects">include_redirects</code></td>
<td>
<p>Boolean to include redirection to the article page (defaults: False)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of visits
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='Wikimedia_person_exists'>Wikimedia_person_exists
Use Wikimedia_query and Wikidata_sparql_query to check if a article of a person
exists in the Wikimedia project. If exists, also return the Wikipedia pages of
that person in the languages indicated in param lang</h2><span id='topic+Wikimedia_person_exists'></span>

<h3>Description</h3>

<p>Wikimedia_person_exists
Use Wikimedia_query and Wikidata_sparql_query to check if a article of a person
exists in the Wikimedia project. If exists, also return the Wikipedia pages of
that person in the languages indicated in param lang
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Wikimedia_person_exists(
  article,
  project = "en.wikipedia.org",
  langs = "en|es|fr|de|it|pt|ca"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Wikimedia_person_exists_+3A_article">article</code></td>
<td>
<p>Article to search</p>
</td></tr>
<tr><td><code id="Wikimedia_person_exists_+3A_project">project</code></td>
<td>
<p>Wikimedia project, defaults &quot;en.wikipedia.org&quot;</p>
</td></tr>
<tr><td><code id="Wikimedia_person_exists_+3A_langs">langs</code></td>
<td>
<p>Wikipedia languages to search if the person has a page, use &quot;|&quot; to split languages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the article of the person exists, a vector with four elements: the firts one set to 1, the second de article label normalized, the third de Wikidata id, and fourth a data frame with URL to Wikipedias (lang, label, URL)
If the article of the person does not exist, the firts element is set to 0 and the third is the explication of error.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='Wikimedia_query'>Wikimedia_query
Use httr package to retrieve responses in JSON format about an article from Wikimedia API.</h2><span id='topic+Wikimedia_query'></span>

<h3>Description</h3>

<p>Wikimedia_query
Use httr package to retrieve responses in JSON format about an article from Wikimedia API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Wikimedia_query(
  query,
  project = "en.wikipedia.org",
  headers = my_headers,
  attempts = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Wikimedia_query_+3A_query">query</code></td>
<td>
<p>A list with de (key, values) pairs with the search.</p>
</td></tr>
<tr><td><code id="Wikimedia_query_+3A_project">project</code></td>
<td>
<p>The Wikimedia project to search.</p>
</td></tr>
<tr><td><code id="Wikimedia_query_+3A_headers">headers</code></td>
<td>
<p>A vector with aditional query headers for the request.</p>
</td></tr>
<tr><td><code id="Wikimedia_query_+3A_attempts">attempts</code></td>
<td>
<p>On errors, the maximun number of times the query is launched if repetition_on_error is not zero (default 2)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The response in JSON format or NULL on errors.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

<hr>
<h2 id='wmflabs_get_allinfo'>wmflabs_get_allinfo
Obtains information about an article in the Wikimedia project in JSON format, or NULL on error.</h2><span id='topic+wmflabs_get_allinfo'></span>

<h3>Description</h3>

<p>wmflabs_get_allinfo
Obtains information about an article in the Wikimedia project in JSON format, or NULL on error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wmflabs_get_allinfo(
  article,
  project = "en.wikipedia.org",
  links_in_count_redirects = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wmflabs_get_allinfo_+3A_article">article</code></td>
<td>
<p>The article to search</p>
</td></tr>
<tr><td><code id="wmflabs_get_allinfo_+3A_project">project</code></td>
<td>
<p>The Wikimedia project, defaults en.wikipedia.org</p>
</td></tr>
<tr><td><code id="wmflabs_get_allinfo_+3A_links_in_count_redirects">links_in_count_redirects</code></td>
<td>
<p>If infotype==links, if redirects are included or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of visits
</p>


<h3>Note</h3>

<p>Is important that the article be don't a redirection: with &quot;prose&quot; infotype the function gets information of the target article, but with &quot;articleinfo&quot; and &quot;links&quot; the information is about the redirection.
</p>


<h3>Author(s)</h3>

<p>Angel F. Zazo, Departament of Computer Science and Automatics, University of Salamanca
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package mblm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mblm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#confint.mblm'><p> Confidence Intervals for 'mblm' Model</p></a></li>
<li><a href='#mblm'><p> Fitting Median-Based Linear Models</p></a></li>
<li><a href='#summary.mblm'><p> Summarizing median-based linear models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Median-Based Linear Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.12.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2013-12-30</td>
</tr>
<tr>
<td>Author:</td>
<td>Lukasz Komsta &lt;lukasz.komsta@umlub.pl&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lukasz Komsta &lt;lukasz.komsta@umlub.pl&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides linear models based on Theil-Sen
        single median and Siegel repeated medians. They are very robust
        (29 or 50 percent breakdown point, respectively), and if no
        outliers are present, the estimators are very similar to OLS.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.r-project.org">https://www.r-project.org</a>, <a href="http://www.komsta.net/">http://www.komsta.net/</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-01-26 16:15:34 UTC; hornik</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-01-26 16:40:24 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
</table>
<hr>
<h2 id='confint.mblm'> Confidence Intervals for 'mblm' Model </h2><span id='topic+confint.mblm'></span>

<h3>Description</h3>

<p>Computes confidence intervals for one or more parameters in a
fitted model of 'mblm' class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mblm'
confint(object, parm, level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="confint.mblm_+3A_object">object</code></td>
<td>
<p> a fitted model object </p>
</td></tr>
<tr><td><code id="confint.mblm_+3A_parm">parm</code></td>
<td>
<p> a specification of which parameters are to be given
confidence intervals, either a vector of numbers or a vector
of names. Not yet implemented for 'mblm'</p>
</td></tr>
<tr><td><code id="confint.mblm_+3A_level">level</code></td>
<td>
<p> the confidence level required </p>
</td></tr>
<tr><td><code id="confint.mblm_+3A_...">...</code></td>
<td>
<p> additional arguments </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function computes confidence intervals for slope and intercept in
linear model based on single median or repeated medians. The confidence
intervals are computed in simpliest way, as confidence interval for the
median of all slopes or intercepts found during fitting.
</p>


<h3>Value</h3>

<p>A matrix (or vector) with columns giving lower and upper
confidence limits for each parameter. 
</p>


<h3>Note</h3>

 
<p>The recommended method of calculating confidence intervals, given by Sen and based on
Kendall's tau, not Wilcoxon test, is not implemented at this time and is considered 
to be implemented in next version of this package.
</p>


<h3>Author(s)</h3>

<p> Lukasz Komsta </p>


<h3>References</h3>

 
<p>Sen, P.K. (1968). Estimates of Regression Coefficient Based on Kendall's tau. J. Am. Stat.
Ass. 63, 324, 1379-1389.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+mblm">mblm</a></code>, <code><a href="#topic+summary.mblm">summary.mblm</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1234)
x &lt;- 1:100+rnorm(100)
y &lt;- x+rnorm(100)
y[100] &lt;- 200
fit &lt;- mblm(y~x)
fit
summary(fit)
confint(fit)
</code></pre>

<hr>
<h2 id='mblm'> Fitting Median-Based Linear Models </h2><span id='topic+mblm'></span>

<h3>Description</h3>

<p>This function is used to fit linear models based on Theil-Sen single median,
or Siegel repeated medians.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mblm(formula, dataframe, repeated = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mblm_+3A_formula">formula</code></td>
<td>
<p> A formula of type <code>y ~ x</code> (only linear models are accepted)</p>
</td></tr>
<tr><td><code id="mblm_+3A_dataframe">dataframe</code></td>
<td>
<p> Optional dataframe </p>
</td></tr>
<tr><td><code id="mblm_+3A_repeated">repeated</code></td>
<td>
<p> If set to true, model is computed using repeated medians. If false,
a single median estimators are calculated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Theil-Sen single median method computes slopes of lines crossing all possible pairs 
of points, when x coordinates differ. After calculating these n(n-1)/2 slopes (these
value are true only if x is distinct), the median of them is taken as slope estimator.
Next, the intercepts of n lines, crossing each point and having calculated slope are
calculated. The median from them is intercept estimator.
</p>
<p>Siegel repeated medians is more complicated. For each point, the slopes between it and
the others are calcuated (resulting n-1 slopes) and the median is taken. This results in
n medians and median from this medians is slope estimator. Intercept is calculated in
similar way, for more information please take a look in function source.
</p>
<p>The breakdown point of Theil-Sen method is about 29%, Siegel extended it to 50%,
so these regression methods are very robust. Additionally, if the errors are normally distributed
and no outliers are present, the estimators are very similar to classic least squares.
</p>


<h3>Value</h3>

<p>An object of class <code>c("mblm","lm")</code>, containing minimal set of data to perform basic
operations, such as in case of lm model. Additionally, the return value contains 2 fields:
</p>
<table role = "presentation">
<tr><td><code>slopes</code></td>
<td>
<p>The slopes (in single median), or medians of slopes (in repeated medians)
between tested point pairs</p>
</td></tr>
<tr><td><code>intercepts</code></td>
<td>
<p>The intercepts calculated</p>
</td></tr>
</table>


<h3>Note</h3>

 
<p>This function should have compatibility with all 'lm' methods, but it is not guaranteed that they
will work or have any cognitive value (this method is nonparametric). The compatibility
was only introduced to use some basic methods from 'lm' without programming new functions.
</p>


<h3>Author(s)</h3>

<p> Lukasz Komsta, some fixes by Sven Garbade </p>


<h3>References</h3>

 
<p>Theil, H. (1950) A rank invariant method for linear and polynomial regression analysis.
Nederl. Akad. Wetensch. Proc. Ser. A 53, 386-392 (Part I), 521-525 (Part II), 1397-1412
(Part III).
</p>
<p>Sen, P.K. (1968). Estimates of Regression Coefficient Based on Kendall's tau. J. Am. Stat.
Ass. 63, 324, 1379-1389.
</p>
<p>Siegel, A.F. (1982). Robust Regression Using Repeated Medians. Biometrika, 69, 1, 242-244.
</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+lm">lm</a></code>, <code><a href="#topic+summary.mblm">summary.mblm</a></code>, <code><a href="#topic+confint.mblm">confint.mblm</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(1234)
x &lt;- 1:100+rnorm(100)
y &lt;- x+rnorm(100)
y[100] &lt;- 200
fit &lt;- mblm(y~x)
fit
summary(fit)
fit2 &lt;- lm(y~x)
plot(x,y)
abline(fit)
abline(fit2,lty=2)
plot(fit)
residuals(fit)
fitted(fit)
plot(density(fit$slopes))
plot(density(fit$intercepts))
anova(fit)
anova(fit2)
anova(fit,fit2)
confint(fit)
AIC(fit,fit2)
</code></pre>

<hr>
<h2 id='summary.mblm'> Summarizing median-based linear models </h2><span id='topic+summary.mblm'></span>

<h3>Description</h3>

<p>'summary' method for class 'mblm'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mblm'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.mblm_+3A_object">object</code></td>
<td>
<p> an object of class 'mblm', usually, a result of a call to 'mblm'.</p>
</td></tr>
<tr><td><code id="summary.mblm_+3A_...">...</code></td>
<td>
<p> additional arguments </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on <code>summary.lm</code> code, and the base difference is use
of nonparametric <code>wilcox.test</code> to obtain significance and <code>mad</code> instead
of standard error of estimates. Of course you can force standard <code>lm</code> behavior
by calling <code>summary.lm</code>, but values received in such way has low cognitive value.
</p>


<h3>Value</h3>

<p>For the return value, see <code><a href="stats.html#topic+summary.lm">summary.lm</a></code>. Summary of 'mblm' class does not
contain R-squared values and F-test result.
</p>


<h3>Note</h3>

 
<p>The significance of estimators can be computed more &quot;lege artis&quot; based on Kendall's tau,
as suggested by Sen, but today such feature is not yet implemented.
</p>


<h3>Author(s)</h3>

<p> Lukasz Komsta </p>


<h3>References</h3>

 
<p>Theil, H. (1950) A rank invariant method for linear and polynomial regression analysis.
Nederl. Akad. Wetensch. Proc. Ser. A 53, 386-392 (Part I), 521-525 (Part II), 1397-1412
(Part III).
</p>
<p>Sen, P.K. (1968). Estimates of Regression Coefficient Based on Kendall's tau. J. Am. Stat.
Ass. 63, 324, 1379-1389.
</p>
<p>Siegel, A.F. (1982). Robust Regression Using Repeated Medians. Biometrika, 69, 1, 242-244.
</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+summary.lm">summary.lm</a></code>, <code><a href="#topic+mblm">mblm</a></code>, <code><a href="#topic+confint.mblm">confint.mblm</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(1234)
x &lt;- 1:10+rnorm(10)
y &lt;- x+rnorm(10)
y[10] &lt;- 20
fit &lt;- mblm(y~x)
summary(fit)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

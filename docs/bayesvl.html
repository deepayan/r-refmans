<!DOCTYPE html><html><head><title>Help for package bayesvl</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bayesvl}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bayesvl-package'><p>BayesVL package for Bayesian statistical analyses in R</p></a></li>
<li><a href='#bayesvl+20bnlearn+20utilities'><p>bnlearn interface for bayesvl objects</p></a></li>
<li><a href='#bayesvl+20graph+20utilities'><p>Utilities to manipulate graphs</p></a></li>
<li><a href='#bayesvl+20plot+20utilities'><p>Plot utilities for bayesvl objects</p></a></li>
<li><a href='#bayesvl+20stan+20utilities'><p>Build RStan models from directed acyclic graph</p></a></li>
<li><a href='#bayesvl-class'><p>Class <code>bayesvl</code>: object class of bayesvl model</p></a></li>
<li><a href='#Legends345'><p>Legends345 data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Visually Learning the Graphical Structure of Bayesian Networks
and Performing MCMC with 'Stan'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-05-20</td>
</tr>
<tr>
<td>Author:</td>
<td>Viet-Phuong La [aut, cre],
  Quan-Hoang Vuong [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Viet-Phuong La &lt;lvphuong@gmail.com&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>coda, bnlearn, ggplot2, bayesplot, viridis, reshape2, dplyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>loo (&ge; 2.0.0)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), rstan (&ge; 2.10.0), StanHeaders (&ge; 2.18.0),
stats, graphics, methods</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides users with its associated functions for pedagogical purposes in visually learning Bayesian networks and Markov chain Monte Carlo (MCMC) computations. It enables users to: a) Create and examine the (starting) graphical structure of Bayesian networks; b) Create random Bayesian networks using a dataset with customized constraints; c) Generate 'Stan' code for structures of Bayesian networks for sampling the data and learning parameters; d) Plot the network graphs; e) Perform Markov chain Monte Carlo computations and produce graphs for posteriors checks. The package refers to one reference item, which describes the methods and algorithms: Vuong, Quan-Hoang and La, Viet-Phuong (2019) &lt;<a href="https://doi.org/10.31219%2Fosf.io%2Fw5dx6">doi:10.31219/osf.io/w5dx6</a>&gt; The 'bayesvl' R package. Open Science Framework (May 18).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sshpa/bayesvl/issues">https://github.com/sshpa/bayesvl/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sshpa/bayesvl">https://github.com/sshpa/bayesvl</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-05-22 16:21:34 UTC; phuong</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-05-24 13:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='bayesvl-package'>BayesVL package for Bayesian statistical analyses in R</h2><span id='topic+bayesvl-package'></span><span id='topic+bayesvl'></span>

<h3>Description</h3>

<p>The R package for visually learning the graphical structures of Bayesian networks, and performing Hamiltonian MCMC with Stan through <code><a href="#topic+bvl_model2Stan">bvl_model2Stan</a></code>, <code><a href="#topic+bvl_modelFit">bvl_modelFit</a></code>
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
    Package: </td><td style="text-align: left;"> bayesvl</td>
</tr>
<tr>
 <td style="text-align: left;">
    Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
    Version: </td><td style="text-align: left;"> 0.8.0</td>
</tr>
<tr>
 <td style="text-align: left;">
    Date: </td><td style="text-align: left;"> 13 May 2019</td>
</tr>
<tr>
 <td style="text-align: left;">
    License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
    Website: </td><td style="text-align: left;"> <a href="https://github.com/sshpa/bayesvl/">Bayesvl</a></td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Quan-Hoang Vuong, Viet-Phuong La
</p>


<h3>References</h3>

<p>For documentation, case studies and worked examples, and other
tutorial information visit the References section on our Github:
</p>

<ul>
<li> <p><a href="https://github.com/sshpa/bayesvl/raw/master/References/bvl_ug_en08.pdf">github.com/sshpa/bayesvl/master/References/bvl_ug_en08.pdf</a>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+bayesvl-class">bayesvl-class</a></code>, <code><a href="#topic+bvl_modelFit">bvl_modelFit</a></code>, <code><a href="#topic+bvl_model2Stan">bvl_model2Stan</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	# Design the model in directed acyclic graph
	model &lt;- bayesvl()
	
	# add observed data nodes to the model
	model &lt;- bvl_addNode(model, "Lie", "binom")
	model &lt;- bvl_addNode(model, "B", "binom")
	model &lt;- bvl_addNode(model, "C", "binom")
	model &lt;- bvl_addNode(model, "T", "binom")
	
	# add path between nodes
	model &lt;- bvl_addArc(model, "B", "Lie", "slope")
	model &lt;- bvl_addArc(model, "C", "Lie", "slope")
	model &lt;- bvl_addArc(model, "T", "Lie", "slope")
  
  summary(model)
</code></pre>

<hr>
<h2 id='bayesvl+20bnlearn+20utilities'>bnlearn interface for bayesvl objects</h2><span id='topic+bayesvl+20bnlearn+20utilities'></span><span id='topic+bayesvl+20bnlearn'></span><span id='topic+bvl_bnBayes+2Cbayesvl-method'></span><span id='topic+bvl_bnScore+2Cbayesvl-method'></span><span id='topic+bvl_bnStrength+2Cbayesvl-method'></span><span id='topic+bvl_bnBarchart+2Cbayesvl-method'></span><span id='topic+bvl_bnPlot+2Cbayesvl-method'></span><span id='topic+bvl_bnBayes'></span><span id='topic+bvl_bnScore'></span><span id='topic+bvl_bnStrength'></span><span id='topic+bvl_bnBarchart'></span>

<h3>Description</h3>

<p>Provides the interface to the functions in the bnlearn package for network diagnostics of an object of class <code>bayesvl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
# Interface to bn.fit function to fit the parameters of 
# a Bayesian network conditional on its structure.
bvl_bnBayes(dag, data = NULL, method = "bayes", iss = 10, ...)

# Interface to bnlearn score function to compute the score of the Bayesian network.
bvl_bnScore(dag, data = NULL, ...)

# Interface to arc.strength function to measure the strength of the probabilistic 
# relationships expressed by the arcs of a Bayesian network.
bvl_bnStrength(dag, data = NULL, criterion = "x2", ...)

# Interface to bn.fit.barchart function to plot fit 
# the parameters of a Bayesian network conditional on its structure.
bvl_bnBarchart(dag, data = NULL, method = "bayes", iss = 10, ...) 

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bayesvl+2B20bnlearn+2B20utilities_+3A_dag">dag</code></td>
<td>
<p>an object of class <code>bayesvl</code></p>
</td></tr>
<tr><td><code id="bayesvl+2B20bnlearn+2B20utilities_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables in the model.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20bnlearn+2B20utilities_+3A_method">method</code></td>
<td>
<p>a character string, either mle for Maximum Likelihood parameter estimation or bayes 
for Bayesian parameter estimation (currently implemented only for discrete data).</p>
</td></tr>
<tr><td><code id="bayesvl+2B20bnlearn+2B20utilities_+3A_iss">iss</code></td>
<td>
<p>a numeric value, the imaginary sample size used by the bayes method to estimate 
the conditional probability tables associated with discrete nodes</p>
</td></tr>
<tr><td><code id="bayesvl+2B20bnlearn+2B20utilities_+3A_criterion">criterion</code></td>
<td>
<p>a character string, the method using for measuring</p>
</td></tr>
<tr><td><code id="bayesvl+2B20bnlearn+2B20utilities_+3A_...">...</code></td>
<td>
<p>extra arguments from the generic method</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>bvl_bnScore()</code> return a number, value of score. <br />
</p>


<h3>Author(s)</h3>

<p>La Viet-Phuong, Vuong Quan-Hoang</p>


<h3>References</h3>

<p>For documentation, case studies and worked examples, and other
tutorial information visit the References section on our Github:
</p>

<ul>
<li> <p><a href="https://github.com/sshpa/bayesvl/raw/master/References/bvl_ug_en08.pdf">github.com/sshpa/bayesvl/master/References/bvl_ug_en08.pdf</a>
</p>
</li></ul>


<hr>
<h2 id='bayesvl+20graph+20utilities'>Utilities to manipulate graphs</h2><span id='topic+bayesvl+20graph+20utilities'></span><span id='topic+bayesvl+20graphs'></span><span id='topic+bvl_addNode'></span><span id='topic+bvl_addArc'></span>

<h3>Description</h3>

<p>Manipulate directed acyclic graph of an object of class <code>bayesvl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'># added a new node to the graph.
bvl_addNode(dag, name, dist = "norm", priors = NULL, fun = NULL, out_type = NULL, 
  lower = NULL, upper=NULL, test = NULL)

# added a new path between nodes to the graph.
bvl_addArc(dag, from, to, type = "slope", priors = NULL, fun = NULL)

# added a new path between nodes to the graph.
bvl_addArc(dag, from, to, type = "slope", priors = NULL, fun = NULL)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_dag">dag</code></td>
<td>
<p>an object of class <code>bayesvl</code></p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_name">name</code></td>
<td>
<p>a character string, the name of a node.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_dist">dist</code></td>
<td>
<p>a character string, distribution code of the node (<code>norm</code>, <code>binom</code>).</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_priors">priors</code></td>
<td>
<p>a vector of string, the priors of the node or path.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_fun">fun</code></td>
<td>
<p>a character string, the transform function of the node.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_out_type">out_type</code></td>
<td>
<p>a character string, the variable data type (<code>int</code>, <code>real</code>, ...).</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_lower">lower</code></td>
<td>
<p>integer or real, the lower bound of variable data type (<code>int</code> or <code>real</code>).</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_upper">upper</code></td>
<td>
<p>integer or real, the upper bound of variable data type (<code>int</code> or <code>real</code>).</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_test">test</code></td>
<td>
<p>a vector of testing values for variable.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_from">from</code></td>
<td>
<p>a character string, the name of node the path connect from.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_to">to</code></td>
<td>
<p>a character string, the name of node the path connect to.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20graph+2B20utilities_+3A_type">type</code></td>
<td>
<p>a character string, the path type between nodes (<code>slope</code>, <code>varint</code>, ...).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>bvl_addNode(), bvl_addArc()</code> return object class <code>bayesvl</code>. <br />
</p>


<h3>Author(s)</h3>

<p>La Viet-Phuong, Vuong Quan-Hoang</p>


<h3>References</h3>

<p>For documentation, case studies and worked examples, and other
tutorial information visit the References section on our Github:
</p>

<ul>
<li> <p><a href="https://github.com/sshpa/bayesvl/raw/master/References/bvl_ug_en08.pdf">github.com/sshpa/bayesvl/master/References/bvl_ug_en08.pdf</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
dag = bayesvl()

# add nodes to dag
dag = bvl_addNode(dag, "node1")
dag = bvl_addNode(dag, "node2")

# add the path between two nodes
dag = bvl_addArc(dag, "node1", "node2")

summary(dag)

</code></pre>

<hr>
<h2 id='bayesvl+20plot+20utilities'>Plot utilities for bayesvl objects</h2><span id='topic+bayesvl+20plot+20utilities'></span><span id='topic+bayesvl+20plots'></span><span id='topic+bvl_plotParams'></span><span id='topic+bvl_plotIntervals'></span><span id='topic+bvl_plotAreas'></span><span id='topic+bvl_plotPairs'></span><span id='topic+bvl_plotDensity'></span><span id='topic+bvl_plotDensity2d'></span><span id='topic+bvl_plotTrace'></span><span id='topic+bvl_plotGelman'></span><span id='topic+bvl_plotGelmans'></span><span id='topic+bvl_plotAcfs'></span><span id='topic+bvl_plotTest'></span><span id='topic+bvl_plotDiag'></span><span id='topic+bvl_bnPlot'></span>

<h3>Description</h3>

<p>Provides plot methods and the interface to the MCMC module in the bayesplot package for plotting MCMC draws and diagnostics for an object of class <code>bayesvl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'># Plot network diagram to visualize the model
bvl_bnPlot(dag, ...)

# Plots historgram of regression parameters computed from posterior draws in grid layout
bvl_plotParams (dag, row = 2, col = 2, credMass = 0.89, params = NULL)

# The interface to mcmc_intervals for plotting uncertainty intervals
# computed from posterior draws
bvl_plotIntervals (dag, params = NULL, fun = "stat", stat = "mean", 
  prob = 0.8, prob_outer = 0.95, 
  color_scheme = "blue", labels = NULL)

# The interface to mcmc_intervals for plotting density computed from posterior draws
bvl_plotAreas (dag, params = NULL, fun = "stat", stat = "mean", 
  prob = 0.8, prob_outer = 0.95, 
  color_scheme = "blue", labels = NULL)

bvl_plotPairs (dag, params = NULL, fun = "stat", stat = "mean", 
  prob = 0.8, prob_outer = 0.95, 
  color_scheme = "blue", labels = NULL)

bvl_plotDensity (dag, params = NULL, size = 1, labels = NULL)

bvl_plotDensity2d(dag, x, y, color = NULL, color_scheme = "red", labels = NULL)

bvl_plotTrace (dag, params = NULL)

bvl_plotDiag (dag)

bvl_plotGelman (dag, params = NULL)

bvl_plotGelmans (dag, params = NULL, row = 2, col = 2)

bvl_plotAcfs ( dag, params = NULL, row = 2, col = 2)

bvl_plotTest (dag, y_name, test_name, n = 200, color_scheme = "blue")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_dag">dag</code></td>
<td>
<p>an object of class <code>bayesvl</code></p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_params">params</code></td>
<td>
<p>Optional: character vector of parameter names.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_fun">fun</code></td>
<td>
<p>Optional: statistic function.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_stat">stat</code></td>
<td>
<p>Optional: the plotting function to call.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_prob">prob</code></td>
<td>
<p>Optional: the probability mass to include in the inner interval. Default is 0.8.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_prob_outer">prob_outer</code></td>
<td>
<p>Optional: the probability mass to include in the outer interval. Default is 0.95.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_row">row</code></td>
<td>
<p>Optional: number of rows of grid layout.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_col">col</code></td>
<td>
<p>Optional: number of columns of grid layout.</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_credmass">credMass</code></td>
<td>
<p>Optional: specifying the mass within the credible interval. Default is 0.89. </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_size">size</code></td>
<td>
<p>Optional: the size of line width. </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_color_scheme">color_scheme</code></td>
<td>
<p>Optional: color scheme. Default is &quot;blue&quot; </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_...">...</code></td>
<td>
<p>extra arguments from the generic method</p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_y_name">y_name</code></td>
<td>
<p>a character string. Name of outcome variable </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_test_name">test_name</code></td>
<td>
<p>a character string. Name of test variable and test value </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_n">n</code></td>
<td>
<p>number of yrep values to plot </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_x">x</code></td>
<td>
<p>a character string. Name of x parameter to pair with </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_y">y</code></td>
<td>
<p>a character string. Name of y parameter to pair with </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_color">color</code></td>
<td>
<p>a character string. Variable for color of points on density plot </p>
</td></tr>
<tr><td><code id="bayesvl+2B20plot+2B20utilities_+3A_labels">labels</code></td>
<td>
<p>Optional: character vector of parameter labels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>bvl_plotIntervals(), bvl_plotPairs()</code> return a ggplot object that can be further customized using the ggplot2 package. <br />
</p>


<h3>Author(s)</h3>

<p>La Viet-Phuong, Vuong Quan-Hoang</p>


<h3>References</h3>

<p>For documentation, case studies and worked examples, and other
tutorial information visit the References section on our Github:
</p>

<ul>
<li> <p><a href="https://github.com/sshpa/bayesvl/raw/master/References/bvl_ug_en08.pdf">github.com/sshpa/bayesvl/master/References/bvl_ug_en08.pdf</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
## create network model
model &lt;- bayesvl()
## add the observed data nodes
model &lt;- bvl_addNode(model, "O", "binom")
model &lt;- bvl_addNode(model, "Lie", "binom")
model &lt;- bvl_addNode(model, "Viol", "binom")
model &lt;- bvl_addNode(model, "VB", "binom")
model &lt;- bvl_addNode(model, "VC", "binom")
model &lt;- bvl_addNode(model, "VT", "binom")
model &lt;- bvl_addNode(model, "Int1", "binom")
model &lt;- bvl_addNode(model, "Int2", "binom")

## add the tranform data nodes and arcs as part of the model
model &lt;- bvl_addNode(model, "B_and_Viol", "trans")
model &lt;- bvl_addNode(model, "C_and_Viol", "trans")
model &lt;- bvl_addNode(model, "T_and_Viol", "trans")
model &lt;- bvl_addArc(model, "VB",        "B_and_Viol", "*")
model &lt;- bvl_addArc(model, "Viol",      "B_and_Viol", "*")
model &lt;- bvl_addArc(model, "VC",        "C_and_Viol", "*")
model &lt;- bvl_addArc(model, "Viol",      "C_and_Viol", "*")
model &lt;- bvl_addArc(model, "VT",        "T_and_Viol", "*")
model &lt;- bvl_addArc(model, "Viol",      "T_and_Viol", "*")
model &lt;- bvl_addArc(model, "B_and_Viol",  "O", "slope")
model &lt;- bvl_addArc(model, "C_and_Viol",  "O", "slope")
model &lt;- bvl_addArc(model, "T_and_Viol",  "O", "slope")

model &lt;- bvl_addArc(model, "Viol",   "O", "slope")

model &lt;- bvl_addNode(model, "B_and_Lie", "trans")
model &lt;- bvl_addNode(model, "C_and_Lie", "trans")
model &lt;- bvl_addNode(model, "T_and_Lie", "trans")
model &lt;- bvl_addArc(model, "VB",       "B_and_Lie", "*")
model &lt;- bvl_addArc(model, "Lie",      "B_and_Lie", "*")
model &lt;- bvl_addArc(model, "VC",       "C_and_Lie", "*")
model &lt;- bvl_addArc(model, "Lie",      "C_and_Lie", "*")
model &lt;- bvl_addArc(model, "VT",       "T_and_Lie", "*")
model &lt;- bvl_addArc(model, "Lie",      "T_and_Lie", "*")
model &lt;- bvl_addArc(model, "B_and_Lie",  "O", "slope")
model &lt;- bvl_addArc(model, "C_and_Lie",  "O", "slope")
model &lt;- bvl_addArc(model, "T_and_Lie",  "O", "slope")

model &lt;- bvl_addArc(model, "Lie",   "O", "slope")

model &lt;- bvl_addNode(model, "Int1_or_Int2", "trans")
model &lt;- bvl_addArc(model, "Int1", "Int1_or_Int2", "+")
model &lt;- bvl_addArc(model, "Int2", "Int1_or_Int2", "+")

model &lt;- bvl_addArc(model, "Int1_or_Int2", "O", "varint")

## Plot network diagram to visualize the model
bvl_bnPlot(model)

</code></pre>

<hr>
<h2 id='bayesvl+20stan+20utilities'>Build RStan models from directed acyclic graph</h2><span id='topic+bayesvl+20stan'></span><span id='topic+bayesvl+20stan+20utilities'></span><span id='topic+bvl_model2Stan'></span><span id='topic+bvl_modelFit'></span><span id='topic+bvl_stanPriors'></span><span id='topic+bvl_stanParams'></span><span id='topic+bvl_formula'></span>

<h3>Description</h3>

<p>Build Stan models from directed acyclic graph of an object of class <code>bayesvl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'># build Stan models from directed acyclic graph.
bvl_model2Stan(dag, ppc = "")

# compile and simulate samples from the model.
bvl_modelFit(dag, data, warmup = 1000, iter = 5000, chains = 2, ppc = "", ...)

# summarize the stan priors used for the model.
bvl_stanPriors(dag)

# summarize the stan parameters used for the model.
bvl_stanParams(dag)

# summarize the generated formula at the node.
bvl_formula(dag, nodeName, outcome = T, re = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_dag">dag</code></td>
<td>
<p>an object of class <code>bayesvl</code></p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_data">data</code></td>
<td>
<p>a data frame or list containing the data</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_warmup">warmup</code></td>
<td>
<p>Optional: Number of warmup iterations. By default, half of iter</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_iter">iter</code></td>
<td>
<p>Optional: Number of iterations of sampling. Default is 5000</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_chains">chains</code></td>
<td>
<p>Optional: Number of independent chains to sample from. Default is 2</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_ppc">ppc</code></td>
<td>
<p>Optional: a character string contains posterior predictive check scripts</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_...">...</code></td>
<td>
<p>extra arguments from the generic method</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_nodename">nodeName</code></td>
<td>
<p>A character string contains the node name</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_outcome">outcome</code></td>
<td>
<p>Optional: Whether show out distribution</p>
</td></tr>
<tr><td><code id="bayesvl+2B20stan+2B20utilities_+3A_re">re</code></td>
<td>
<p>Optional: Whether run recursive for all up-level nodes</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>bvl_model2Stan()</code> return character string of rstan code generated from the model. <br />
</p>
<p><code>bvl_modelFit()</code> return an object class <code>bayesvl</code> which contains result with the following slots.
</p>
<table>
<tr><td><code>model</code></td>
<td>
<p>Stan model code</p>
</td></tr>
<tr><td><code>stanfit</code></td>
<td>
<p><code>stanfit</code> object returned by <code><a href="rstan.html#topic+stan">stan</a></code></p>
</td></tr>
<tr><td><code>standata</code></td>
<td>
<p>The data</p>
</td></tr>
<tr><td><code>pars</code></td>
<td>
<p>Parameter names monitored in samples</p>
</td></tr>
<tr><td><code>formula</code></td>
<td>
<p>Generated formula from the model</p>
</td></tr>
</table>
<p><code>bvl_stanPriors()</code> return character string of rstan priors generated from the model. <br />
</p>
<p><code>bvl_stanParams()</code> return character string of rstan parameters generated from the model. <br />
</p>


<h3>Author(s)</h3>

<p>La Viet-Phuong, Vuong Quan-Hoang</p>


<h3>References</h3>

<p>For documentation, case studies and worked examples, and other
tutorial information visit the References section on our Github:
</p>

<ul>
<li> <p><a href="https://github.com/sshpa/bayesvl/raw/master/References/bvl_ug_en08.pdf">github.com/sshpa/bayesvl/master/References/bvl_ug_en08.pdf</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Design the model in directed acyclic graph
model &lt;- bayesvl()
model &lt;- bvl_addNode(model, "Lie", "binom")
model &lt;- bvl_addNode(model, "B", "binom")
model &lt;- bvl_addNode(model, "C", "binom")
model &lt;- bvl_addNode(model, "T", "binom")

model &lt;- bvl_addArc(model, "B", "Lie", "slope")
model &lt;- bvl_addArc(model, "C", "Lie", "slope")
model &lt;- bvl_addArc(model, "T", "Lie", "slope")

# Generate the Stan model's code
model_string &lt;- bvl_model2Stan(model)
cat(model_string)

# Show priors in generated Stan model
bvl_stanPriors(model)

</code></pre>

<hr>
<h2 id='bayesvl-class'>Class <code>bayesvl</code>: object class of bayesvl model</h2><span id='topic+bayesvl-class'></span><span id='topic+show+2Cbayesvl-method'></span><span id='topic+summary+2Cbayesvl-method'></span><span id='topic+bvl_addNode+2Cbayesvl-method'></span><span id='topic+bvl_addArc+2Cbayesvl-method'></span><span id='topic+bvl_modelFit+2Cbayesvl-method'></span><span id='topic+bvl_stanParams+2Cbayesvl-method'></span>

<h3>Description</h3>

<p>This object contains an object of class <code>bayesvl</code>, return by <code><a href="#topic+bayesvl">bayesvl</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>call</code>:</dt><dd><p>Original function call that produced the fit</p>
</dd>
<dt><code>nodes</code>:</dt><dd><p>The list of nodes in model </p>
</dd>
<dt><code>arcs</code>:</dt><dd><p>The list of arcs in model </p>
</dd>
<dt><code>pars</code>:</dt><dd><p>List of parameters </p>
</dd>
<dt><code>stanfit</code>:</dt><dd><p>Object of class <code>stanfit</code></p>
</dd>
<dt><code>rawdata</code>:</dt><dd><p>Observed data frame </p>
</dd>
<dt><code>standata</code>:</dt><dd><p>Data used in sampling</p>
</dd>
<dt><code>posterior</code>:</dt><dd><p>Coerce to a Data Frame of object of class <code>stanfit</code></p>
</dd>
<dt><code>elapsed</code>:</dt><dd><p>Elapsed time of MCMC simulation</p>
</dd>    
</dl>



<h3>Methods</h3>


<dl>
<dt><code>show</code></dt><dd><p><code>signature(object = "bayesvl")</code>: print the default summary for the model.</p>
</dd>
<dt><code>summary</code></dt><dd><p>Displays the <code>model</code> slot.</p>
</dd>
</dl>



<h3>References</h3>

<p>For documentation, case studies and worked examples, and other
tutorial information visit the References section on our Github:
</p>

<ul>
<li> <p><a href="https://github.com/sshpa/bayesvl/raw/master/References/bvl_ug_en08.pdf">github.com/sshpa/bayesvl/master/References/bvl_ug_en08.pdf</a>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+bayesvl">bayesvl</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	# Design the model in directed acyclic graph
	model &lt;- bayesvl()
	
	# add observed data nodes to the model
	model &lt;- bvl_addNode(model, "Lie", "binom")
	model &lt;- bvl_addNode(model, "B", "binom")
	model &lt;- bvl_addNode(model, "C", "binom")
	model &lt;- bvl_addNode(model, "T", "binom")
	
	# add path between nodes
	model &lt;- bvl_addArc(model, "B", "Lie", "slope")
	model &lt;- bvl_addArc(model, "C", "Lie", "slope")
	model &lt;- bvl_addArc(model, "T", "Lie", "slope")
  
  summary(model)
</code></pre>

<hr>
<h2 id='Legends345'>Legends345 data</h2><span id='topic+Legends345'></span>

<h3>Description</h3>

<p>Legends345.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>	data(Legends345)
</code></pre>


<h3>Format</h3>


<ol>
<li><p> O : Whether or not happy ending for main character
</p>
</li>
<li><p> VB : Whether or not the main character behaves in accordance with the core values of Buddhism
</p>
</li>
<li><p> VC : Whether or not the main character behaves in accordance with the core values of Confucianism
</p>
</li>
<li><p> VT : Whether or not the main character behaves in accordance with the core values of Taoism
</p>
</li>
<li><p> Lie : Whether or not the main character tells lie
</p>
</li>
<li><p> Viol : Whether or not the main character commits acts of violence
</p>
</li>
<li><p> Int1 : Whether there are interventions from the supernatural world
</p>
</li>
<li><p> Int2 : Whether there are interventions from the human world
</p>
</li></ol>



<h3>References</h3>

<p>For documentation, case studies and worked examples, and other
tutorial information visit the References section on our Github:
</p>

<ul>
<li> <p><a href="https://github.com/sshpa/bayesvl/raw/master/References/bvl_ug_en08.pdf">github.com/sshpa/bayesvl/master/References/bvl_ug_en08.pdf</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>	data(Legends345)
	
	data1 &lt;- Legends345
	head(data1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

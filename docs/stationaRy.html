<!DOCTYPE html><html><head><title>Help for package stationaRy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stationaRy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#get_met_data'><p>Get data from a meteorological station</p></a></li>
<li><a href='#get_station_metadata'><p>Get a table of metadata for meteorological stations</p></a></li>
<li><a href='#station_coverage'><p>Find out which additional data fields a station has recorded</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Detailed Meteorological Data from Stations All Over the World</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Acquire hourly meteorological data from stations located all over
    the world. There is a wealth of data available, with historic weather data
    accessible from nearly 30,000 stations. The available data is automatically
    downloaded from a data repository and processed into a 'tibble' for the
    exact range of years requested. A relative humidity approximation is
    provided using the 'August-Roche-Magnus' formula, which was adapted from
    Alduchov and Eskridge (1996) &lt;<a href="https://doi.org/10.1175%2F1520-0450%281996%29035%3C0601%3AIMFAOS%3E2.0.CO%3B2">doi:10.1175%2F1520-0450%281996%29035%3C0601%3AIMFAOS%3E2.0.CO%3B2</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rich-iannone/stationaRy">https://github.com/rich-iannone/stationaRy</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rich-iannone/stationaRy/issues">https://github.com/rich-iannone/stationaRy/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.3), readr (&ge; 1.3.1), downloader (&ge; 0.4),
lubridate (&ge; 1.7.4), lutz (&ge; 0.3.1), progress (&ge; 1.2.2),
stringr (&ge; 1.4.0), tidyr (&ge; 0.8.3), magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-01-12 04:02:02 UTC; rich</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Iannone <a href="https://orcid.org/0000-0003-3925-190X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Iannone &lt;riannone@me.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-01-12 06:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code style="white-space: pre;">&#8288;magrittr::[\%&gt;\%][magrittr::pipe]&#8288;</code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='get_met_data'>Get data from a meteorological station</h2><span id='topic+get_met_data'></span>

<h3>Description</h3>

<p>Obtain one or more years of meteorological data for a particular station.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_met_data(
  station_id,
  years = NULL,
  full_data = FALSE,
  add_fields = NULL,
  make_hourly = TRUE,
  local_file_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_met_data_+3A_station_id">station_id</code></td>
<td>
<p>A station identifier composed of the station's USAF and
WBAN numbers, separated by a hyphen.</p>
</td></tr>
<tr><td><code id="get_met_data_+3A_years">years</code></td>
<td>
<p>The years for which station met data will be collected. If not
specified then all records for all available years will be obtained for the
station.</p>
</td></tr>
<tr><td><code id="get_met_data_+3A_full_data">full_data</code></td>
<td>
<p>Include all additional meteorological data found in the
dataset's additional data section?</p>
</td></tr>
<tr><td><code id="get_met_data_+3A_add_fields">add_fields</code></td>
<td>
<p>A vector of categories for additional meteorological data
to include (instead of all available categories).</p>
</td></tr>
<tr><td><code id="get_met_data_+3A_make_hourly">make_hourly</code></td>
<td>
<p>Transforms data to force values to the start of each hour.
All data is bucketed by hour and all missing hours are filled with <code>NA</code>s.
This regularizes each year of data, where the number of records per year of
data will be either 8760 or 8784 (depending on whether a year is a leap
year). By default to this is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_met_data_+3A_local_file_dir">local_file_dir</code></td>
<td>
<p>Path to local meteorological data files. If specified,
then data files will be downloaded to and retrieved from this location and
not from the remote data store.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tibble with at least 10 variables. While times are recorded
using the Universal Time Code (UTC) in the source data, they are adjusted
here to local standard time for the station's locale.
</p>

<dl>
<dt>id</dt><dd><p>A character string identifying the fixed weather station
from the USAF Master Station Catalog identifier and the WBAN identifier.</p>
</dd>
<dt>time</dt><dd><p>A datetime value representing the observation time.</p>
</dd>
<dt>temp</dt><dd><p>Air temperature measured in degrees Celsius. Conversions to
degrees Fahrenheit may be calculated with <code>(temp * 9) / 5 + 32</code>.</p>
</dd>
<dt>wd</dt><dd><p>The angle of wind direction, measured in a clockwise direction,
between true north and the direction from which the wind is blowing. For
example, <code>wd = 90</code> indicates the wind is blowing from due east. <code>wd = 225</code>
indicates the wind is blowing from the south west. The minimum value is <code>1</code>,
and the maximum value is <code>360</code>.</p>
</dd>
<dt>ws</dt><dd><p>Wind speed in meters per second. Wind speed in feet per second can
be estimated by <code>ws * 3.28084</code>.</p>
</dd>
<dt>atmos_pres</dt><dd><p>The air pressure in hectopascals relative to Mean Sea Level
(MSL).</p>
</dd>
<dt>dew_point</dt><dd><p>The temperature in degrees Celsius to which a given parcel
of air must be cooled at constant pressure and water vapor content in order
for saturation to occur.</p>
</dd>
<dt>rh</dt><dd><p>Relative humidity, measured as a percentage, as calculated using
the August-Roche-Magnus approximation.</p>
</dd>
<dt>ceil_hgt</dt><dd><p>The height above ground level of the lowest cloud cover or
other obscuring phenomena amounting to at least 5/8 sky coverage. Measured in
meters. Unlimited height (no obstruction) is denoted by the value <code>22000</code>.</p>
</dd>
<dt>visibility</dt><dd><p>The horizontal distance at which an object can be seen and
identified. Measured in meters. Values greater than <code>16000</code> are entered as
<code>16000</code> (which constitutes 10 mile visibility).</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Obtain two years of data from the
# met station with the ID value of
# "999999-63897" 
met_data &lt;- 
  get_met_data(
    station_id = "999999-63897",
    years = 2013:2014
  )

## End(Not run)

</code></pre>

<hr>
<h2 id='get_station_metadata'>Get a table of metadata for meteorological stations</h2><span id='topic+get_station_metadata'></span>

<h3>Description</h3>

<p>Obtain a tibble containing information on all of the stations that
have data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_station_metadata()
</code></pre>


<h3>Value</h3>

<p>Returns a tibble with 16 columns.
</p>

<dl>
<dt>id</dt><dd><p>A character string that is a unique identifier for the
weather station.</p>
</dd>
<dt>usaf</dt><dd><p>A character string identifying the fixed weather
station from the USAF Master Station Catalog.
USAF is an acronym for United States Air Force.</p>
</dd>
<dt>wban</dt><dd><p>A character string for the fixed weather
station NCDC WBAN identifier.
NCDC is an acronym for National Climatic Data Center.
WBAN is an acronym for Weather Bureau, Air Force and Navy.</p>
</dd>
<dt>name</dt><dd><p>A character string with the station name.</p>
</dd>
<dt>country</dt><dd><p>A character string with the two character country
code where the station is located. Not identical to <code>country_code</code>.</p>
</dd>
<dt>state</dt><dd><p>Character string of the two character abbreviation of a US
state (when applicable).</p>
</dd>
<dt>icao</dt><dd><p>The ICAO identifier for the station.</p>
</dd>
<dt>lat</dt><dd><p>Latitude (degrees) rounded to three decimal places.</p>
</dd>
<dt>lon</dt><dd><p>Longitude (degrees) rounded to three decimal places.</p>
</dd>
<dt>elev</dt><dd><p>Numeric value for the elevation as measured in meters.
The minimum value is -400 with a maximum of 8850. Elevation in feet
can be approximated by <code>elev * 3.28084</code></p>
</dd>
<dt>begin_date</dt><dd><p>The earliest date for which data are available.</p>
</dd>
<dt>end_date</dt><dd><p>The latest date for which data are available.</p>
</dd>
<dt>begin_year</dt><dd><p>The earliest year for which data are available.</p>
</dd>
<dt>end_year</dt><dd><p>The latest year for which data are available.</p>
</dd>
<dt>tz_name</dt><dd><p>The time zone name.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Obtain a data frame with all available met stations
get_station_metadata()

</code></pre>

<hr>
<h2 id='station_coverage'>Find out which additional data fields a station has recorded</h2><span id='topic+station_coverage'></span>

<h3>Description</h3>

<p>Get a tibble of information on which additional data fields a particular
station has during a specified year range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>station_coverage(
  station_id,
  years = NULL,
  wide_tbl = FALSE,
  grouping = NULL,
  local_file_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="station_coverage_+3A_station_id">station_id</code></td>
<td>
<p>A station identifier composed of the station's USAF and
WBAN numbers, separated by a hyphen.</p>
</td></tr>
<tr><td><code id="station_coverage_+3A_years">years</code></td>
<td>
<p>The years for which station met data will be collected. If not
specified then all records for all available years will be obtained for the
station.</p>
</td></tr>
<tr><td><code id="station_coverage_+3A_wide_tbl">wide_tbl</code></td>
<td>
<p>A wide table of a single row for the station can be generated
by setting this to <code>TRUE</code>. In this arrangement, additional data field
categories will appear as columns (having counts of observations as values
for the period of <code>years</code>). This is useful when collecting station coverage
tables for multiple stations, since the rows can be safely bound together.
By default, this is set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="station_coverage_+3A_grouping">grouping</code></td>
<td>
<p>An option to group and summarize counts of observations by
<code>"year"</code> or by <code>"month"</code>. If these keywords aren't provided then
summarization will occur over the entire period specified by <code>years</code>.</p>
</td></tr>
<tr><td><code id="station_coverage_+3A_local_file_dir">local_file_dir</code></td>
<td>
<p>Path to local meteorological data files. If specified,
then data files will be downloaded to and retrieved from this location and
not from the remote data store.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Obtain a coverage report of the
# additional data that the met
# station with the ID value of
# "999999-63897" has over a two-
# year period
met_data &lt;- 
  station_coverage(
    station_id = "999999-63897",
    years = 2013:2014
  )

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package nseq</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nseq}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#shift'><p>Shifts vector values to right or left</p></a></li>
<li><a href='#trle'><p>Run Length Encoding and return result as a data frame</p></a></li>
<li><a href='#trle_cond'><p>Count the number of events in a sequence</p></a></li>
<li><a href='#trle_cond_stat'><p>Statistics of events in a sequence</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Count of Sequential Events</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Count the occurrence of sequences of values in a vector that meets certain conditions of length and magnitude. The method is based on the Run Length Encoding algorithm, available with base R, inspired by A. H. Robinson and C. Cherry (1967) &lt;<a href="https://doi.org/10.1109%2FPROC.1967.5493">doi:10.1109/PROC.1967.5493</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), ggplot2, dplyr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>rmarkdown</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rfsaldanha.github.io/nseq/">https://rfsaldanha.github.io/nseq/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rfsaldanha/nseq/issues">https://github.com/rfsaldanha/nseq/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-30 08:42:58 UTC; raphael</td>
</tr>
<tr>
<td>Author:</td>
<td>Raphael Saldanha <a href="https://orcid.org/0000-0003-0652-8466"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Raphael Saldanha &lt;raphael.de-freitas-saldanha@inria.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-31 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='shift'>Shifts vector values to right or left</h2><span id='topic+shift'></span>

<h3>Description</h3>

<p>Shifts vector values to right or left
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shift(x, n, invert = FALSE, default = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shift_+3A_x">x</code></td>
<td>
<p>Vector for which to shift values</p>
</td></tr>
<tr><td><code id="shift_+3A_n">n</code></td>
<td>
<p>Number of places to be shifted.
Positive numbers will shift to the right by default.
Negative numbers will shift to the left by default.
The direction can be inverted by the invert parameter.</p>
</td></tr>
<tr><td><code id="shift_+3A_invert">invert</code></td>
<td>
<p>Whether or not the default shift directions should be inverted.</p>
</td></tr>
<tr><td><code id="shift_+3A_default">default</code></td>
<td>
<p>The value that should be inserted by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Lag
shift(c(2,3,5,6,7), n = 1, default = 0)
# Lead
shift(c(2,3,5,6,7), n = -1, default = 0)

</code></pre>

<hr>
<h2 id='trle'>Run Length Encoding and return result as a data frame</h2><span id='topic+trle'></span>

<h3>Description</h3>

<p>Given a tibble object and a variable <code>y</code>, this function will count the number of occurrence of each element in <code>y</code> in the sequence that they appear, and return this count as a tibble object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trle(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trle_+3A_x">x</code></td>
<td>
<p>a vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+rle">rle()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trle(c(8,15,20,0,0,0,0,5,9,12))
</code></pre>

<hr>
<h2 id='trle_cond'>Count the number of events in a sequence</h2><span id='topic+trle_cond'></span>

<h3>Description</h3>

<p>This function will count the occurrence of sequential events that meets some conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trle_cond(x, a_op = "gte", a, b_op = "gte", b, isolated = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trle_cond_+3A_x">x</code></td>
<td>
<p>numeric vector.</p>
</td></tr>
<tr><td><code id="trle_cond_+3A_a_op">a_op</code>, <code id="trle_cond_+3A_b_op">b_op</code></td>
<td>
<p>character. Operator, <code>gte</code> = greater than or equal, <code>lte</code> = less than or equal, <code>gt</code> = greater than, <code>lt</code> = less than, <code>e</code> = equal.</p>
</td></tr>
<tr><td><code id="trle_cond_+3A_a">a</code></td>
<td>
<p>integer. Length of period threshold.</p>
</td></tr>
<tr><td><code id="trle_cond_+3A_b">b</code></td>
<td>
<p>integer. Value threshold.</p>
</td></tr>
<tr><td><code id="trle_cond_+3A_isolated">isolated</code></td>
<td>
<p>logical. Consider only isolated events, i.e. surrounded by zeros. On this case, <code>a</code> and <code>a_op</code> are not considered.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Example: In a vector, how many sequences have at least 3 consecutive observations (<code>a_op = "gte", a = 3</code>) with values equal or greater than 5 (<code>b_op = "gte", b = 5</code>)?
</p>


<h3>Value</h3>

<p>a numeric value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># How many sequences have at least 3 consecutive observations with value equal or greater than 5?
trle_cond(x = c(8,15,20,0,0,0,0,5,9,12), a_op = "gte", a = 3, b_op = "gte", b = 5)

</code></pre>

<hr>
<h2 id='trle_cond_stat'>Statistics of events in a sequence</h2><span id='topic+trle_cond_stat'></span>

<h3>Description</h3>

<p>This function will compute statistics of sequential events that meets some conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trle_cond_stat(x, b, b_op, stat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trle_cond_stat_+3A_x">x</code></td>
<td>
<p>numeric vector.</p>
</td></tr>
<tr><td><code id="trle_cond_stat_+3A_b">b</code></td>
<td>
<p>integer. Value threshold.</p>
</td></tr>
<tr><td><code id="trle_cond_stat_+3A_b_op">b_op</code></td>
<td>
<p>character. Operator, <code>gte</code> = greater than or equal, <code>lte</code> = less than or equal, <code>gt</code> = greater than, <code>lt</code> = less than, <code>e</code> = equal.</p>
</td></tr>
<tr><td><code id="trle_cond_stat_+3A_stat">stat</code></td>
<td>
<p>character. A statistic to be calculated. One of: max, min, mean, median, sd, var.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Example: in a vector, what is the maximum size of sequences with values equal or greater than 5?
</p>


<h3>Value</h3>

<p>a numeric value
</p>


<h3>Examples</h3>

<pre><code class='language-R'># What is the maximum size of sequences with values equal or greater than 5?
trle_cond_stat(c(4,6,6,4,7,8,9), b = 5, b_op = "gte", stat = "max")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package survivalROC</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {survivalROC}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#mayo'><p>Mayo Marker data</p></a></li>
<li><a href='#survivalROC'><p>Time-dependent ROC curve estimation from censored survival data</p></a></li>
<li><a href='#survivalROC.C'><p>Time-dependent ROC curve estimation from censored survival data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2013-01-13</td>
</tr>
<tr>
<td>Title:</td>
<td>Time-Dependent ROC Curve Estimation from Censored Survival Data</td>
</tr>
<tr>
<td>Author:</td>
<td>Patrick J. Heagerty &lt;heagerty@u.washington.edu&gt;, packaging by
        Paramita Saha-Chaudhuri &lt;paramita.sahachaudhuri.work@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paramita Saha-Chaudhuri
&lt;paramita.sahachaudhuri.work@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 1.6.1)</td>
</tr>
<tr>
<td>Description:</td>
<td>Compute time-dependent ROC curve from censored survival
        data using Kaplan-Meier (KM) or Nearest Neighbor Estimation
        (NNE) method of Heagerty, Lumley &amp; Pepe (Biometrics, Vol 56 No
        2, 2000, PP 337-344).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-12-05 15:15:50 UTC; hornik</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-12-05 15:33:48 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
</table>
<hr>
<h2 id='mayo'>Mayo Marker data</h2><span id='topic+mayo'></span>

<h3>Description</h3>

<p>Two marker values with event time and censoring status for
the subjects in Mayo PBC data</p>


<h3>Format</h3>

<p>A data frame with 312 observations and 4 variables: time (event
time/censoring time), censor (censoring indicator), 
mayoscore4, mayoscore5. The two scores are derived from 4 and 5
covariates respectively.</p>


<h3>Author(s)</h3>

<p>Patrick J. Heagerty </p>


<h3>References</h3>

<p>Heagerty, P.J., Zheng, Y.  (2005)
Survival Model Predictive Accuracy and ROC Curves <em>Biometrics</em>, <b>61</b>, 92 &ndash; 105
</p>

<hr>
<h2 id='survivalROC'>Time-dependent ROC curve estimation from censored survival data</h2><span id='topic+survivalROC'></span>

<h3>Description</h3>

<p>This function creates time-dependent ROC curve from censored survival
data using the Kaplan-Meier (KM) or Nearest Neighbor Estimation (NNE)
method of Heagerty, Lumley and Pepe, 2000</p>


<h3>Usage</h3>

<pre><code class='language-R'>survivalROC(Stime, status, marker, entry = NULL, predict.time, cut.values =
NULL, method = "NNE", lambda = NULL, span = NULL, window =
"symmetric")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survivalROC_+3A_stime">Stime</code></td>
<td>
<p>Event time or censoring time for subjects</p>
</td></tr>
<tr><td><code id="survivalROC_+3A_status">status</code></td>
<td>
<p>Indicator of status, 1 if death or event, 0 otherwise </p>
</td></tr>
<tr><td><code id="survivalROC_+3A_marker">marker</code></td>
<td>
<p>Predictor or marker value</p>
</td></tr>
<tr><td><code id="survivalROC_+3A_entry">entry</code></td>
<td>
<p>Entry time for the subjects</p>
</td></tr>
<tr><td><code id="survivalROC_+3A_predict.time">predict.time</code></td>
<td>
<p>Time point of the ROC curve</p>
</td></tr>
<tr><td><code id="survivalROC_+3A_cut.values">cut.values</code></td>
<td>
<p>marker values to use as a cut-off for
calculation of sensitivity and specificity</p>
</td></tr> 
<tr><td><code id="survivalROC_+3A_method">method</code></td>
<td>
<p>Method for fitting joint distribution of (marker,t), either
of KM or NNE, the default method is NNE</p>
</td></tr>
<tr><td><code id="survivalROC_+3A_lambda">lambda</code></td>
<td>
<p>smoothing parameter for NNE</p>
</td></tr>
<tr><td><code id="survivalROC_+3A_span">span</code></td>
<td>
<p>Span for the NNE, need either lambda or span for NNE</p>
</td></tr>
<tr><td><code id="survivalROC_+3A_window">window</code></td>
<td>
<p>window for NNE, either of symmetric or asymmetric</p>
</td></tr>
</table>


<h3>Details</h3>

<p> Suppose we have censored survival data along with a baseline
marker value and  we want to see how well the marker predicts the 
survival time for the subjects in the dataset. In particular,
suppose we have survival times in days and  we want to see how well the
marker predicts the one-year survival (predict.time=365 days). This
function roc.KM.calc(), returns the unique marker values, TP (True
Positive), FP (False Positive),  Kaplan-Meier survival
estimate  corresponding to the  time point of interest (predict.time)
and AUC (Area Under (ROC) Curve) at the time point of interest. 
</p>


<h3>Value</h3>

<p>Returns a list of the following items:
</p>
<table>
<tr><td><code>cut.values</code></td>
<td>
<p>unique marker values for calculation of TP and FP</p>
</td></tr>
<tr><td><code>TP</code></td>
<td>
<p>True Positive corresponding to the cut offs in marker</p>
</td></tr>
<tr><td><code>FP</code></td>
<td>
<p>False Positive corresponding to the cut offs in marker</p>
</td></tr>
<tr><td><code>predict.time</code></td>
<td>
<p>time point of interest</p>
</td></tr>
<tr><td><code>Survival</code></td>
<td>
<p>Kaplan-Meier survival estimate at predict.time</p>
</td></tr>
<tr><td><code>AUC</code></td>
<td>
<p>Area Under (ROC) Curve at time predict.time</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Patrick J. Heagerty </p>


<h3>References</h3>

<p>Heagerty, P.J., Lumley, T., Pepe, M. S. (2000)
Time-dependent ROC Curves for Censored Survival Data and a Diagnostic
Marker <em>Biometrics</em>, <b>56</b>, 337 &ndash; 344</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mayo)
nobs &lt;- NROW(mayo)
cutoff &lt;- 365
  ## MAYOSCORE 4, METHOD = NNE
  Mayo4.1= survivalROC(Stime=mayo$time,  
    status=mayo$censor,      
    marker = mayo$mayoscore4,     
    predict.time = cutoff,span = 0.25*nobs^(-0.20) )
  plot(Mayo4.1$FP, Mayo4.1$TP, type="l", xlim=c(0,1), ylim=c(0,1),   
  xlab=paste( "FP", "\n", "AUC = ",round(Mayo4.1$AUC,3)), 
  ylab="TP",main="Mayoscore 4, Method = NNE \n  Year = 1")
  abline(0,1)

  ## MAYOSCORE 4, METHOD = KM
  Mayo4.2= survivalROC(Stime=mayo$time,  
    status=mayo$censor,      
    marker = mayo$mayoscore4,     
    predict.time =  cutoff, method="KM")
  plot(Mayo4.2$FP, Mayo4.2$TP, type="l", xlim=c(0,1), ylim=c(0,1),   
  xlab=paste( "FP", "\n", "AUC = ",round(Mayo4.2$AUC,3)), 
  ylab="TP",main="Mayoscore 4, Method = KM \n Year = 1")
  abline(0,1)
  </code></pre>

<hr>
<h2 id='survivalROC.C'>Time-dependent ROC curve estimation from censored survival data</h2><span id='topic+survivalROC.C'></span>

<h3>Description</h3>

<p>This function creates time-dependent ROC curve from censored survival
data using the Nearest Neighbor Estimation (NNE) method of Heagerty,
Lumley and Pepe, 2000</p>


<h3>Usage</h3>

<pre><code class='language-R'>survivalROC.C(Stime,status,marker,predict.time,span)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survivalROC.C_+3A_stime">Stime</code></td>
<td>
<p>Event time or censoring time for subjects</p>
</td></tr>
<tr><td><code id="survivalROC.C_+3A_status">status</code></td>
<td>
<p>Indicator of status, 1 if death or event, 0 otherwise </p>
</td></tr>
<tr><td><code id="survivalROC.C_+3A_marker">marker</code></td>
<td>
<p>Predictor or marker value</p>
</td></tr>
<tr><td><code id="survivalROC.C_+3A_predict.time">predict.time</code></td>
<td>
<p>Time point of the ROC curve</p>
</td></tr>
<tr><td><code id="survivalROC.C_+3A_span">span</code></td>
<td>
<p>Span for the NNE</p>
</td></tr>  
</table>


<h3>Details</h3>

<p> Suppose we have censored survival data along with a baseline
marker value and
we want to see how well the marker predicts the survival time for the
subjects in the dataset. In particular, suppose we have survival times in
days and  we want to see how well the
marker predicts the one-year survival (PredictTime=365 days). This
function returns the unique marker values, sensitivity (True positive
or TP), (1-specificity) (False positive or FP) and Kaplan-Meier
survival estimate  corresponding to the
time point of interest (PredictTime). The (FP,TP) values then can be
used to construct ROC curve at the time point of interest.
</p>


<h3>Value</h3>

<p>Returns a list of the following items:
</p>
<table>
<tr><td><code>cut.values</code></td>
<td>
<p>unique marker values for calculation of TP and FP</p>
</td></tr>
<tr><td><code>TP</code></td>
<td>
<p>TP corresponding to the cut off in marker</p>
</td></tr>
<tr><td><code>FP</code></td>
<td>
<p>FP corresponding to the cut off in marker</p>
</td></tr>
<tr><td><code>predict.time</code></td>
<td>
<p>time point of interest</p>
</td></tr>
<tr><td><code>Survival</code></td>
<td>
<p>Kaplan-Meier survival estimate at predict.time</p>
</td></tr>
<tr><td><code>AUC</code></td>
<td>
<p>Area Under (ROC) Curve at time predict.time</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Patrick J. Heagerty </p>


<h3>References</h3>

<p>Heagerty, P.J., Lumley, T., Pepe, M. S. (2000)
Time-dependent ROC Curves for Censored Survival Data and a Diagnostic
Marker <em>Biometrics</em>, <b>56</b>, 337 &ndash; 344</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mayo)

nobs &lt;- NROW(mayo)
cutoff &lt;- 365
Staltscore4 &lt;- NULL
Mayo.fit4 &lt;- survivalROC.C( Stime = mayo$time,  
      status = mayo$censor,      
      marker = mayo$mayoscore4,     
      predict.time = cutoff,      
      span = 0.25*nobs^(-0.20))
Staltscore4 &lt;- Mayo.fit4$Survival
plot(Mayo.fit4$FP, Mayo.fit4$TP, type = "l",
xlim = c(0,1), ylim = c(0,1),
xlab = paste( "FP \n AUC =",round(Mayo.fit4$AUC,3)),
ylab = "TP",main = "Year = 1" )
abline(0,1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

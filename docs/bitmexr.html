<!DOCTYPE html><html lang="en"><head><title>Help for package bitmexr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bitmexr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#available_symbols'><p>Available symbols</p></a></li>
<li><a href='#bitmexr'><p>bitmexr: R Client for the BitMEX Exchange</p></a></li>
<li><a href='#bucket_trades'><p>Bucketed trade data</p></a></li>
<li><a href='#cancel_all_orders'><p>Cancel all orders</p></a></li>
<li><a href='#cancel_order'><p>Cancel order</p></a></li>
<li><a href='#edit_order'><p>Edit an order</p></a></li>
<li><a href='#get_bitmex'><p>GET requests</p></a></li>
<li><a href='#map_bucket_trades'><p>Bucket trade data over an extended period</p></a></li>
<li><a href='#map_trades'><p>Trade data over an extended period</p></a></li>
<li><a href='#place_order'><p>Place an order</p></a></li>
<li><a href='#post_bitmex'><p>POST requests</p></a></li>
<li><a href='#tn_bucket_trades'><p>Bucketed trade data (testnet)</p></a></li>
<li><a href='#tn_cancel_all_orders'><p>Cancel all orders (testnet)</p></a></li>
<li><a href='#tn_cancel_order'><p>Cancel order (testnet)</p></a></li>
<li><a href='#tn_edit_order'><p>Edit an order (testnet)</p></a></li>
<li><a href='#tn_get_bitmex'><p>GET requests (testnet)</p></a></li>
<li><a href='#tn_map_bucket_trades'><p>Bucket trade data over an extended period (testnet)</p></a></li>
<li><a href='#tn_map_trades'><p>Trade data over an extended period (testnet)</p></a></li>
<li><a href='#tn_place_order'><p>Place an order (testnet)</p></a></li>
<li><a href='#tn_post_bitmex'><p>POST requests (testnet)</p></a></li>
<li><a href='#tn_trades'><p>Individual trade data (testnet)</p></a></li>
<li><a href='#trades'><p>Individual trade data</p></a></li>
<li><a href='#valid_dates'><p>Start date of data availability for available symbols</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Client for BitMEX</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.3</td>
</tr>
<tr>
<td>Description:</td>
<td>A client for cryptocurrency exchange BitMEX
    <a href="https://www.bitmex.com/">https://www.bitmex.com/</a> including the ability to obtain historic
    trade data and place, edit and cancel orders. BitMEX's Testnet and
    live API are both supported.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/hfshr/bitmexr/">https://github.com/hfshr/bitmexr/</a>,
<a href="https://hfshr.github.io/bitmexr/">https://hfshr.github.io/bitmexr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hfshr/bitmexr/issues/">https://github.com/hfshr/bitmexr/issues/</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>attempt, curl, digest, dplyr, httr, jsonlite, lubridate,
magrittr, progress, purrr, rlang, stringr, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, httptest, knitr, rmarkdown, testthat,
tidyquant</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-07 18:52:21 UTC; harry</td>
</tr>
<tr>
<td>Author:</td>
<td>Harry Fisher [cre, aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Harry Fisher &lt;harryfisher21@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-07 19:40:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='available_symbols'>Available symbols</h2><span id='topic+available_symbols'></span>

<h3>Description</h3>

<p>Available symbols
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_symbols()
</code></pre>


<h3>Value</h3>

<p>A character vector of currently available symbols to be used as the <code>symbol</code> value in
functions within the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
available_symbols()

## End(Not run)
</code></pre>

<hr>
<h2 id='bitmexr'>bitmexr: R Client for the BitMEX Exchange</h2><span id='topic+bitmexr'></span>

<h3>Description</h3>

<p>bitmexr provides tools to access the API for the
BitMEX cryptocurrency derivatives exchange https://www.bitmex.com/.
</p>


<h3>See Also</h3>


<ul>
<li><p> https://www.bitmex.com/app/apiOverview
</p>
</li>
<li><p> https://www.bitmex.com/api/explorer/
</p>
</li></ul>


<hr>
<h2 id='bucket_trades'>Bucketed trade data</h2><span id='topic+bucket_trades'></span>

<h3>Description</h3>

<p><code>bucket_trades()</code> retrieves open high low close (OHLC) data for the specified symbol/time frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bucket_trades(
  binSize = "1m",
  partial = "false",
  symbol = "XBTUSD",
  count = 1000,
  reverse = "true",
  filter = NULL,
  columns = NULL,
  start = NULL,
  startTime = NULL,
  endTime = NULL,
  use_auth = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bucket_trades_+3A_binsize">binSize</code></td>
<td>
<p>character string.
The time interval to bucket by, must be one of: <code>"1m"</code>, <code>"5m"</code>, <code>"1h"</code> or <code>"1d"</code>.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_partial">partial</code></td>
<td>
<p>character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, will send in-progress (incomplete) bins for the current time period.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_count">count</code></td>
<td>
<p>an optional integer to specify the number of rows to return.
Maximum of 1000 (the default) per request.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_reverse">reverse</code></td>
<td>
<p>an optional character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, result will be ordered with starting with the newest (defaults to <code>"true"</code>).</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_columns">columns</code></td>
<td>
<p>an optional character vector of column names to return.
If <code>NULL</code>, all columns will be returned.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_start">start</code></td>
<td>
<p>an optional integer. Can be used to specify the starting point for results.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_starttime">startTime</code></td>
<td>
<p>an optional character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_endtime">endTime</code></td>
<td>
<p>an optional character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="bucket_trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The API will only return 1000 rows per call. If the desired time frame requires more than one API call,
consider using <code><a href="#topic+map_bucket_trades">map_bucket_trades()</a></code>.
</p>


<h3>Value</h3>

<p><code>bucket_trades()</code> returns a <code>data.frame</code> containing:
</p>

<ul>
<li><p>timestamp: POSIXct. Date and time of trade.
</p>
</li>
<li><p>symbol: character. Instrument ticker.
</p>
</li>
<li><p>open: numeric. Opening price for the bucket.
</p>
</li>
<li><p>high: numeric. Highest price in the bucket.
</p>
</li>
<li><p>low: numeric. Lowest price in the bucket.
</p>
</li>
<li><p>close: numeric. Closing price of the bucket.
</p>
</li>
<li><p>trades: numeric. Number of trades executed within the bucket.
</p>
</li>
<li><p>volume: numeric. Volume in USD.
</p>
</li>
<li><p>vwap: numeric. Volume weighted average price.
</p>
</li>
<li><p>lastSize: numeric. Size of the last trade executed.
</p>
</li>
<li><p>turnover: numeric. How many satoshi were exchanged.
</p>
</li>
<li><p>homeNotional: numeric. BTC value of the bucket.
</p>
</li>
<li><p>foreignNotional: numeric. USD value of the bucket.
</p>
</li></ul>



<h3>References</h3>

<p>urlhttps://www.bitmex.com/api/explorer/#!/Trade/Trade_getBucketed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Return most recent data for symbol `"ETHUSD"` for 1 hour buckets

bucket_trades(
  binSize = "1h",
  symbol = "ETHUSD",
  count = 10
)

## End(Not run)
</code></pre>

<hr>
<h2 id='cancel_all_orders'>Cancel all orders</h2><span id='topic+cancel_all_orders'></span>

<h3>Description</h3>

<p>Cancel all orders that have been placed for a specific symbol,
or use a filter to select specific orders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cancel_all_orders(symbol = NULL, filter = NULL, text = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cancel_all_orders_+3A_symbol">symbol</code></td>
<td>
<p>string. Optional symbol. If provided, only cancels orders for that symbol.</p>
</td></tr>
<tr><td><code id="cancel_all_orders_+3A_filter">filter</code></td>
<td>
<p>string. Optional filter for cancellation. Use to only cancel some orders,
e.g. '&quot;side&quot;: &quot;Buy&quot;'.</p>
</td></tr>
<tr><td><code id="cancel_all_orders_+3A_text">text</code></td>
<td>
<p>string. Optional cancellation annotation. e.g. 'Spread Exceeded'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with information about the orders that were cancelled.
See <a href="https://www.bitmex.com/api/explorer/#!/Order/Order_cancelAll">https://www.bitmex.com/api/explorer/#!/Order/Order_cancelAll</a> for more information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# cancel all "Buy" orders
cancel_all_orders(filter = '{"side": "Buy"}')

## End(Not run)

</code></pre>

<hr>
<h2 id='cancel_order'>Cancel order</h2><span id='topic+cancel_order'></span>

<h3>Description</h3>

<p>Cancel an order that has been placed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cancel_order(orderID = NULL, clOrdID = NULL, text = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cancel_order_+3A_orderid">orderID</code></td>
<td>
<p>string. Order ID.</p>
</td></tr>
<tr><td><code id="cancel_order_+3A_clordid">clOrdID</code></td>
<td>
<p>string. Optional client ID set when placing an order.</p>
</td></tr>
<tr><td><code id="cancel_order_+3A_text">text</code></td>
<td>
<p>string. Optional cancellation annotation. e.g. 'Spread Exceeded'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with details about the order that was cancelled.
See <a href="https://www.bitmex.com/api/explorer/#!/Order/Order_cancel">https://www.bitmex.com/api/explorer/#!/Order/Order_cancel</a> for more information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Cancel an order
cancel_order(clOrdID = "myorderid")

## End(Not run)

</code></pre>

<hr>
<h2 id='edit_order'>Edit an order</h2><span id='topic+edit_order'></span>

<h3>Description</h3>

<p>Edit an order that has been placed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit_order(
  orderID = NULL,
  origClOrdID = NULL,
  clOrdID = NULL,
  orderQty = NULL,
  leavesQty = NULL,
  price = NULL,
  stopPx = NULL,
  pegOffsetValue = NULL,
  text = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="edit_order_+3A_orderid">orderID</code></td>
<td>
<p>string. Order ID.</p>
</td></tr>
<tr><td><code id="edit_order_+3A_origclordid">origClOrdID</code></td>
<td>
<p>string. The original client order ID</p>
</td></tr>
<tr><td><code id="edit_order_+3A_clordid">clOrdID</code></td>
<td>
<p>string. Optional new client order ID.</p>
</td></tr>
<tr><td><code id="edit_order_+3A_orderqty">orderQty</code></td>
<td>
<p>double. Order quantity in units of the instrument (i.e. contracts).</p>
</td></tr>
<tr><td><code id="edit_order_+3A_leavesqty">leavesQty</code></td>
<td>
<p>string. Optional leaves quantity in units of the instrument (i.e. contracts).
Useful for amending partially filled orders.</p>
</td></tr>
<tr><td><code id="edit_order_+3A_price">price</code></td>
<td>
<p>double. Optional limit price for 'Limit', 'StopLimit', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="edit_order_+3A_stoppx">stopPx</code></td>
<td>
<p>double. Optional trigger price for 'Stop', 'StopLimit', 'MarketIfTouched', and 'LimitIfTouched' orders.
Use a price below the current price for stop-sell orders and buy-if-touched orders.
Use <code>execInst</code> of 'MarkPrice' or 'LastPrice' to define the current price used for triggering.</p>
</td></tr>
<tr><td><code id="edit_order_+3A_pegoffsetvalue">pegOffsetValue</code></td>
<td>
<p>string. Optional trailing offset from the current price for 'Stop', 'StopLimit', '
MarketIfTouched', and 'LimitIfTouched' orders; use a negative offset for stop-sell orders and buy-if-touched orders.
Optional offset from the peg price for 'Pegged' orders.</p>
</td></tr>
<tr><td><code id="edit_order_+3A_text">text</code></td>
<td>
<p>string. Optional amend annotation. e.g. 'Adjust skew'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with information about the amended order. See
<a href="https://www.bitmex.com/api/explorer/#!/Order/Order_amend">https://www.bitmex.com/api/explorer/#!/Order/Order_amend</a> for more information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# place an order

place_order(symbol = "XBTUSD", price = 5000, orderQty = 100, clOrdID = "myorderid")

# edit the order

edit_order(origClOrID = "myorderid", orderQty = 200)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_bitmex'>GET requests</h2><span id='topic+get_bitmex'></span>

<h3>Description</h3>

<p>Use <code>get_bitmex()</code> to send GET requests. For private endpoints, authentication is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bitmex(path, args = NULL, use_auth = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_bitmex_+3A_path">path</code></td>
<td>
<p>string. End point for the api.</p>
</td></tr>
<tr><td><code id="get_bitmex_+3A_args">args</code></td>
<td>
<p>A named list containing valid parameters for the given API endpoint.</p>
</td></tr>
<tr><td><code id="get_bitmex_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to access private endpoints
if authentication has been set up</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> containing the response from the request.
</p>


<h3>References</h3>

<p><a href="https://www.bitmex.com/api/explorer/">https://www.bitmex.com/api/explorer/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Access a public endpoint
chat &lt;- get_bitmex(path = "/chat", args = list(channelID = 1, reverse = "true"))

# Access private endpoint using `use_auth` = `TRUE`.
user &lt;- get_bitmex(path = "/execution", args = list(symbol = "XBTUSD"), use_auth = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='map_bucket_trades'>Bucket trade data over an extended period</h2><span id='topic+map_bucket_trades'></span>

<h3>Description</h3>

<p><code>map_bucket_trades()</code> uses <code>purrr::map_dfr</code> to execute multiple API calls.
This is useful when the data you want to return exceeds the maximum 1000 row response limit,
but do not want to have to manually call <code><a href="#topic+bucket_trades">bucket_trades()</a></code> repeatedly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_bucket_trades(
  start_date = "2015-09-25 13:00:00",
  end_date = now(tzone = "UTC"),
  binSize = "1d",
  symbol = "XBTUSD",
  partial = "false",
  filter = NULL,
  use_auth = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="map_bucket_trades_+3A_start_date">start_date</code></td>
<td>
<p>character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="map_bucket_trades_+3A_end_date">end_date</code></td>
<td>
<p>character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="map_bucket_trades_+3A_binsize">binSize</code></td>
<td>
<p>character string.
The time interval to bucket by, must be one of: <code>"1m"</code>, <code>"5m"</code>, <code>"1h"</code> or <code>"1d"</code>.</p>
</td></tr>
<tr><td><code id="map_bucket_trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="map_bucket_trades_+3A_partial">partial</code></td>
<td>
<p>character string. Either <code>"true"</code> or <code>"false"</code>.
If <code>"true"</code>, will send in-progress (incomplete) bins for the current time period.</p>
</td></tr>
<tr><td><code id="map_bucket_trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples in <code><a href="#topic+trades">trades()</a></code>.</p>
</td></tr>
<tr><td><code id="map_bucket_trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
<tr><td><code id="map_bucket_trades_+3A_verbose">verbose</code></td>
<td>
<p>logical. If <code>TRUE</code>, will print information to the console. Useful for
long running requests.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>map_bucket_trades()</code> takes a start and end date, and creates a sequence of start dates
which are passed in to the 'startTime&ldquo; parameter in <code><a href="#topic+bucket_trades">bucket_trades()</a></code>.
</p>
<p>The length of time between each start time in each API call is determined by the binSize.
For example, <code>"1d"</code> is chosen as the binSize the length of time between start dates will be 1000 days.
If <code>"1h"</code> is chosen, it will be 1000 hours etc.
</p>
<p>The function will print the number of API calls being sent and provides a progress bar in the console
</p>
<p>Public API requests are limited to 30 per minute. Consequently, <code>map_bucket_trades()</code> uses
<code>purrr::slowly</code> to restrict how often the function is called.
</p>


<h3>Value</h3>

<p><code>map_bucket_trades</code> returns a <code>data.frame</code> containing:
</p>

<ul>
<li><p>timestamp: POSIXct. Date and time of trade.
</p>
</li>
<li><p>symbol: character. Instrument ticker.
</p>
</li>
<li><p>open: numeric. Opening price for the bucket.
</p>
</li>
<li><p>high: numeric. Highest price in the bucket.
</p>
</li>
<li><p>low: numeric. Lowest price in the bucket.
</p>
</li>
<li><p>close: numeric. Closing price of the bucket.
</p>
</li>
<li><p>trades: numeric. Number of trades executed within the bucket.
</p>
</li>
<li><p>volume: numeric. Volume in USD.
</p>
</li>
<li><p>vwap: numeric. Volume weighted average price.
</p>
</li>
<li><p>lastSize: numeric. Size of the last trade executed.
</p>
</li>
<li><p>turnover: numeric. How many satoshi were exchanged.
</p>
</li>
<li><p>homeNotional: numeric. BTC value of the bucket.
</p>
</li>
<li><p>foreignNotional: numeric. USD value of the bucket.
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://www.bitmex.com/api/explorer/#!/Trade/Trade_getBucketed">https://www.bitmex.com/api/explorer/#!/Trade/Trade_getBucketed</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get hourly bucketed trade data between 2020-01-01 and 2020-02-01

map_bucket_trades(
  start_date = "2020-01-01",
  end_date = "2020-02-01",
  binSize = "1h"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='map_trades'>Trade data over an extended period</h2><span id='topic+map_trades'></span>

<h3>Description</h3>

<p>The map variant of <code><a href="#topic+trades">trades()</a></code> uses a repeat loop to continually
request trade data between two time points.
The function will stop when the <code>start_date</code> is greater than <code>end_date</code>.
Given the large number of trades executed per day,
a warning message with a choice to continue is presented when inputting a
date range spanning more than one day.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_trades(
  symbol = "XBTUSD",
  start_date = "2019-01-01 12:00:00",
  end_date = "2019-01-01 12:15:00",
  filter = NULL,
  use_auth = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="map_trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="map_trades_+3A_start_date">start_date</code></td>
<td>
<p>character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="map_trades_+3A_end_date">end_date</code></td>
<td>
<p>character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="map_trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples in <code><a href="#topic+trades">trades()</a></code>.</p>
</td></tr>
<tr><td><code id="map_trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
<tr><td><code id="map_trades_+3A_verbose">verbose</code></td>
<td>
<p>logical. If <code>TRUE</code>, will print information to the console. Useful for
long running requests.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Warning! Due to the extremely large number of trades executed on the exchange,
using this function over an extended of time frame will result in an extremely
long running process.
For example, during 2019 the exchange averaged approximately 630000 trades per day,
with a maximum of 2114878 trades being executed in a single day.
Obtaining the trade data for this day alone would take over an hour, and the use of
<code><a href="#topic+map_bucket_trades">map_bucket_trades()</a></code> with a small 'binSize' (e.g., <code>"1m"</code>) is preferrable.
</p>


<h3>Value</h3>

<p><code>map_trades()</code> returns a <code>data.frame</code> containing:
</p>

<ul>
<li><p>timestamp: POSIXct. Date and time of trade.
</p>
</li>
<li><p>symbol: character. The instrument ticker.
</p>
</li>
<li><p>side: character. Whether the trade was buy or sell.
</p>
</li>
<li><p>size: numeric. Size of the trade.
</p>
</li>
<li><p>price: numeric. Price the trade was executed at
</p>
</li>
<li><p>tickDirection: character. Indicates if the trade price was higher,
lower or the same as the previous trade price.
</p>
</li>
<li><p>trdMatchID: character. Unique trade ID.
</p>
</li>
<li><p>grossValue: numeric. How many satoshi were exchanged. 1 satoshi = 0.00000001 BTC.
</p>
</li>
<li><p>homeNotional: numeric. BTC value of the trade.
</p>
</li>
<li><p>foreignNotional: numeric. USD value of the trade.
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://www.bitmex.com/api/explorer/#!/Trade/Trade_get">https://www.bitmex.com/api/explorer/#!/Trade/Trade_get</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Get all trade data between 2019-05-03 12:00:00 and 2019-05-03 12:15:00

map_trades(
  start_date = "2019-05-03 12:00:00",
  end_date = "2019-05-03 12:15:00",
  symbol = "XBTUSD"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='place_order'>Place an order</h2><span id='topic+place_order'></span>

<h3>Description</h3>

<p>Place an order using the Bitmex API. Requires API key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>place_order(
  symbol = NULL,
  side = NULL,
  orderQty = NULL,
  price = NULL,
  displayQty = NULL,
  stopPx = NULL,
  clOrdID = NULL,
  pegOffsetValue = NULL,
  pegPriceType = NULL,
  ordType = NULL,
  timeInForce = NULL,
  execInst = NULL,
  text = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="place_order_+3A_symbol">symbol</code></td>
<td>
<p>string. Instrument symbol. e.g. 'XBTUSD'.</p>
</td></tr>
<tr><td><code id="place_order_+3A_side">side</code></td>
<td>
<p>string. Order side. Valid options: Buy, Sell. Defaults to 'Buy' unless <code>orderQty</code>is negative.</p>
</td></tr>
<tr><td><code id="place_order_+3A_orderqty">orderQty</code></td>
<td>
<p>double. Order quantity in units of the instrument (i.e. contracts).</p>
</td></tr>
<tr><td><code id="place_order_+3A_price">price</code></td>
<td>
<p>double. Optional limit price for 'Limit', 'StopLimit', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="place_order_+3A_displayqty">displayQty</code></td>
<td>
<p>double. Optional quantity to display in the book. Use 0 for a fully hidden order.</p>
</td></tr>
<tr><td><code id="place_order_+3A_stoppx">stopPx</code></td>
<td>
<p>double. Optional trigger price for 'Stop', 'StopLimit', 'MarketIfTouched', and 'LimitIfTouched' orders.
Use a price below the current price for stop-sell orders and buy-if-touched orders.
Use <code>execInst</code> of 'MarkPrice' or 'LastPrice' to define the current price used for triggering.</p>
</td></tr>
<tr><td><code id="place_order_+3A_clordid">clOrdID</code></td>
<td>
<p>string. Optional Client Order ID. This clOrdID will come back on the order and any related executions.</p>
</td></tr>
<tr><td><code id="place_order_+3A_pegoffsetvalue">pegOffsetValue</code></td>
<td>
<p>string. Optional trailing offset from the current price for 'Stop', 'StopLimit', '
MarketIfTouched', and 'LimitIfTouched' orders; use a negative offset for stop-sell orders and buy-if-touched orders.
Optional offset from the peg price for 'Pegged' orders.</p>
</td></tr>
<tr><td><code id="place_order_+3A_pegpricetype">pegPriceType</code></td>
<td>
<p>string. Optional peg price type.
Valid options: LastPeg, MidPricePeg, MarketPeg, PrimaryPeg, TrailingStopPeg.</p>
</td></tr>
<tr><td><code id="place_order_+3A_ordtype">ordType</code></td>
<td>
<p>string. Order type. Valid options: Market, Limit, Stop, StopLimit, MarketIfTouched, LimitIfTouched, Pegged.
Defaults to 'Limit' when <code>price</code> is specified. Defaults to 'Stop' when <code>stopPx</code> is specified.
Defaults to 'StopLimit' when <code>price</code> and <code>stopPx</code> are specified.</p>
</td></tr>
<tr><td><code id="place_order_+3A_timeinforce">timeInForce</code></td>
<td>
<p>string. Time in force. Valid options: Day, GoodTillCancel, ImmediateOrCancel, FillOrKill.
Defaults to 'GoodTillCancel' for 'Limit', 'StopLimit', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="place_order_+3A_execinst">execInst</code></td>
<td>
<p>string. Optional execution instructions. Valid options: ParticipateDoNotInitiate,
AllOrNone, MarkPrice, IndexPrice, LastPrice, Close, ReduceOnly, Fixed.
'AllOrNone' instruction requires <code>displayQty</code> to be 0. 'MarkPrice', 'IndexPrice' or 'LastPrice'
instruction valid for 'Stop', 'StopLimit', 'MarketIfTouched', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="place_order_+3A_text">text</code></td>
<td>
<p>string. Optional order annotation. e.g. 'Take profit'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing information about the trade that has been placed.
See <a href="https://www.bitmex.com/api/explorer/#!/Order/Order_new">https://www.bitmex.com/api/explorer/#!/Order/Order_new</a> for more details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# place limit order to Buy 10 contracts at a specific price
place_order(symbol = "XBTUSD", price = 6000, orderQty = 10)

## End(Not run)

</code></pre>

<hr>
<h2 id='post_bitmex'>POST requests</h2><span id='topic+post_bitmex'></span>

<h3>Description</h3>

<p>Use <code>post_bitmex()</code> to send POST requests. All POST requests require authentication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>post_bitmex(path, args = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="post_bitmex_+3A_path">path</code></td>
<td>
<p>string. End point for the api.</p>
</td></tr>
<tr><td><code id="post_bitmex_+3A_args">args</code></td>
<td>
<p>A named list containing valid parameters for the given API endpoint.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> containing the response from the request.
</p>


<h3>References</h3>

<p><a href="https://www.bitmex.com/api/explorer/">https://www.bitmex.com/api/explorer/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# edit leverage on a position

post_bitmex(
  path = "/position/leverage",
  args = list("symbol" = "XBTUSD", "leverage" = 10)
)

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_bucket_trades'>Bucketed trade data (testnet)</h2><span id='topic+tn_bucket_trades'></span>

<h3>Description</h3>

<p><code>tn_bucket_trades()</code> retrieves open high low close (OHLC) data for the specified symbol/time frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_bucket_trades(
  binSize = "1m",
  partial = "false",
  symbol = "XBTUSD",
  count = 1000,
  reverse = "true",
  filter = NULL,
  columns = NULL,
  start = NULL,
  startTime = NULL,
  endTime = NULL,
  use_auth = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_bucket_trades_+3A_binsize">binSize</code></td>
<td>
<p>character string.
The time interval to bucket by, must be one of: <code>"1m"</code>, <code>"5m"</code>, <code>"1h"</code> or <code>"1d"</code>.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_partial">partial</code></td>
<td>
<p>character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, will send in-progress (incomplete) bins for the current time period.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_count">count</code></td>
<td>
<p>an optional integer to specify the number of rows to return.
Maximum of 1000 (the default) per request.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_reverse">reverse</code></td>
<td>
<p>an optional character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, result will be ordered with starting with the newest (defaults to <code>"true"</code>).</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_columns">columns</code></td>
<td>
<p>an optional character vector of column names to return.
If <code>NULL</code>, all columns will be returned.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_start">start</code></td>
<td>
<p>an optional integer. Can be used to specify the starting point for results.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_starttime">startTime</code></td>
<td>
<p>an optional character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_endtime">endTime</code></td>
<td>
<p>an optional character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_bucket_trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The API will only return 1000 rows per call. If the desired time frame requires more than one API call,
consider using <code><a href="#topic+tn_map_bucket_trades">tn_map_bucket_trades()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Return most recent data for symbol `"ETHUSD"` for 1 hour buckets

tn_bucket_trades(
  binSize = "1h",
  symbol = "ETHUSD",
  count = 10
)

## End(Not run)
</code></pre>

<hr>
<h2 id='tn_cancel_all_orders'>Cancel all orders (testnet)</h2><span id='topic+tn_cancel_all_orders'></span>

<h3>Description</h3>

<p>Cancel all orders that have been placed using testnet API for a specific symbol,
or use a filter to select specific orders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_cancel_all_orders(symbol = NULL, filter = NULL, text = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_cancel_all_orders_+3A_symbol">symbol</code></td>
<td>
<p>string. Optional symbol. If provided, only cancels orders for that symbol.</p>
</td></tr>
<tr><td><code id="tn_cancel_all_orders_+3A_filter">filter</code></td>
<td>
<p>string. Optional filter for cancellation. Use to only cancel some orders,
e.g. '&quot;side&quot;: &quot;Buy&quot;'.</p>
</td></tr>
<tr><td><code id="tn_cancel_all_orders_+3A_text">text</code></td>
<td>
<p>string. Optional cancellation annotation. e.g. 'Spread Exceeded'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with information about the orders that were cancelled.
See <a href="https://www.bitmex.com/api/explorer/#!/Order/Order_cancelAll">https://www.bitmex.com/api/explorer/#!/Order/Order_cancelAll</a> for more information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# cancel all "Buy" orders
tn_cancel_all_orders(filter = '{"side": "Buy"}')

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_cancel_order'>Cancel order (testnet)</h2><span id='topic+tn_cancel_order'></span>

<h3>Description</h3>

<p>Cancel an order that has been placed using the testnet API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_cancel_order(orderID = NULL, clOrdID = NULL, text = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_cancel_order_+3A_orderid">orderID</code></td>
<td>
<p>string. Order ID.</p>
</td></tr>
<tr><td><code id="tn_cancel_order_+3A_clordid">clOrdID</code></td>
<td>
<p>string. Optional client ID set when placing an order.</p>
</td></tr>
<tr><td><code id="tn_cancel_order_+3A_text">text</code></td>
<td>
<p>string. Optional cancellation annotation. e.g. 'Spread Exceeded'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with details about the order that was cancelled.
See <a href="https://www.bitmex.com/api/explorer/#!/Order/Order_cancel">https://www.bitmex.com/api/explorer/#!/Order/Order_cancel</a> for more information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Cancel an order
tn_cancel_order(clOrdID = "myorderid")

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_edit_order'>Edit an order (testnet)</h2><span id='topic+tn_edit_order'></span>

<h3>Description</h3>

<p>Edit an order that has been placed with the testnet API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_edit_order(
  orderID = NULL,
  origClOrdID = NULL,
  clOrdID = NULL,
  orderQty = NULL,
  leavesQty = NULL,
  price = NULL,
  stopPx = NULL,
  pegOffsetValue = NULL,
  text = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_edit_order_+3A_orderid">orderID</code></td>
<td>
<p>string. Order ID.</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_origclordid">origClOrdID</code></td>
<td>
<p>string. The original client order ID</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_clordid">clOrdID</code></td>
<td>
<p>string. Optional new client order ID.</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_orderqty">orderQty</code></td>
<td>
<p>double. Order quantity in units of the instrument (i.e. contracts).</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_leavesqty">leavesQty</code></td>
<td>
<p>string. Optional leaves quantity in units of the instrument (i.e. contracts).
Useful for amending partially filled orders.</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_price">price</code></td>
<td>
<p>double. Optional limit price for 'Limit', 'StopLimit', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_stoppx">stopPx</code></td>
<td>
<p>double. Optional trigger price for 'Stop', 'StopLimit', 'MarketIfTouched', and 'LimitIfTouched' orders.
Use a price below the current price for stop-sell orders and buy-if-touched orders.
Use <code>execInst</code> of 'MarkPrice' or 'LastPrice' to define the current price used for triggering.</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_pegoffsetvalue">pegOffsetValue</code></td>
<td>
<p>string. Optional trailing offset from the current price for 'Stop', 'StopLimit', '
MarketIfTouched', and 'LimitIfTouched' orders; use a negative offset for stop-sell orders and buy-if-touched orders.
Optional offset from the peg price for 'Pegged' orders.</p>
</td></tr>
<tr><td><code id="tn_edit_order_+3A_text">text</code></td>
<td>
<p>string. Optional amend annotation. e.g. 'Adjust skew'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with information about the amended order. See
<a href="https://www.bitmex.com/api/explorer/#!/Order/Order_amend">https://www.bitmex.com/api/explorer/#!/Order/Order_amend</a> for more information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# place an order

tn_place_order(symbol = "XBTUSD", price = 5000, orderQty = 100, clOrdID = "myorderid")

# edit the order

tn_edit_order(origClOrID = "myorderid", orderQty = 200)

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_get_bitmex'>GET requests (testnet)</h2><span id='topic+tn_get_bitmex'></span>

<h3>Description</h3>

<p>Use <code>tn_get_bitmex()</code> to send GET requests to the testnet API. For private endpoints, authentication is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_get_bitmex(path, args = NULL, use_auth = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_get_bitmex_+3A_path">path</code></td>
<td>
<p>string. End point for the api.</p>
</td></tr>
<tr><td><code id="tn_get_bitmex_+3A_args">args</code></td>
<td>
<p>A named list containing valid parameters for the given API endpoint.</p>
</td></tr>
<tr><td><code id="tn_get_bitmex_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to access private endpoints
if authentication has been set up.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> containing the response from the request.
</p>


<h3>References</h3>

<p><a href="https://www.bitmex.com/api/explorer/">https://www.bitmex.com/api/explorer/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Access a public endpoint
chat &lt;- tn_get_bitmex(path = "/chat", args = list(channelID = 1, reverse = "true"))

# Access private endpoint using `use_auth` = `TRUE`.

user &lt;- tn_get_bitmex(path = "/execution", args = list(symbol = "XBTUSD"), use_auth = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_map_bucket_trades'>Bucket trade data over an extended period (testnet)</h2><span id='topic+tn_map_bucket_trades'></span>

<h3>Description</h3>

<p><code>tn_map_bucket_trades()</code> uses <code>purrr::map_dfr</code> to execute multiple API calls.
This is useful when the data you want to return exceeds the maximum 1000 row response limit,
but do not want to have to manually call <code><a href="#topic+tn_bucket_trades">tn_bucket_trades()</a></code> repeatedly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_map_bucket_trades(
  start_date = "2015-09-25 13:00:00",
  end_date = now(tzone = "UTC"),
  binSize = "1d",
  symbol = "XBTUSD",
  partial = "false",
  filter = NULL,
  use_auth = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_map_bucket_trades_+3A_start_date">start_date</code></td>
<td>
<p>character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_map_bucket_trades_+3A_end_date">end_date</code></td>
<td>
<p>character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_map_bucket_trades_+3A_binsize">binSize</code></td>
<td>
<p>character string.
The time interval to bucket by, must be one of: <code>"1m"</code>, <code>"5m"</code>, <code>"1h"</code> or <code>"1d"</code>.</p>
</td></tr>
<tr><td><code id="tn_map_bucket_trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="tn_map_bucket_trades_+3A_partial">partial</code></td>
<td>
<p>character string. Either <code>"true"</code> or <code>"false"</code>.
If <code>"true"</code>, will send in-progress (incomplete) bins for the current time period.</p>
</td></tr>
<tr><td><code id="tn_map_bucket_trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples in <code><a href="#topic+trades">trades()</a></code>.</p>
</td></tr>
<tr><td><code id="tn_map_bucket_trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
<tr><td><code id="tn_map_bucket_trades_+3A_verbose">verbose</code></td>
<td>
<p>logical. If <code>TRUE</code>, will print information to the console. Useful for
long running requests.</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://testnet.bitmex.com/api/explorer/#!/Trade/Trade_getBucketed">https://testnet.bitmex.com/api/explorer/#!/Trade/Trade_getBucketed</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+map_bucket_trades">map_bucket_trades()</a></code> for more information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get hourly bucketed trade data between 2020-01-01 and 2020-02-01

tn_map_bucket_trades(
  start_date = "2020-01-01",
  end_date = "2020-02-01",
  binSize = "1h"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='tn_map_trades'>Trade data over an extended period (testnet)</h2><span id='topic+tn_map_trades'></span>

<h3>Description</h3>

<p>The map variant of <code><a href="#topic+tn_trades">tn_trades()</a></code> uses a repeat loop to continually
request trade data between two time points.
The function will stop when the <code>start_date</code> is greater than <code>end_date</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_map_trades(
  symbol = "XBTUSD",
  start_date = "2019-01-01 12:00:00",
  end_date = "2019-01-01 12:15:00",
  filter = NULL,
  use_auth = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_map_trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="tn_map_trades_+3A_start_date">start_date</code></td>
<td>
<p>character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_map_trades_+3A_end_date">end_date</code></td>
<td>
<p>character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_map_trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples in <code><a href="#topic+trades">trades()</a></code>.</p>
</td></tr>
<tr><td><code id="tn_map_trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
<tr><td><code id="tn_map_trades_+3A_verbose">verbose</code></td>
<td>
<p>logical. If <code>TRUE</code>, will print information to the console. Useful for
long running requests.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Get all trade data between 2019-05-03 12:00:00 and 2019-05-03 12:15:00

tn_map_trades(
  start_date = "2019-05-03 12:00:00",
  end_date = "2019-05-03 12:15:00",
  symbol = "XBTUSD"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_place_order'>Place an order (testnet)</h2><span id='topic+tn_place_order'></span>

<h3>Description</h3>

<p>Place an order using the Bitmex testnet API. Requires testnet API key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_place_order(
  symbol = NULL,
  side = NULL,
  orderQty = NULL,
  price = NULL,
  displayQty = NULL,
  stopPx = NULL,
  clOrdID = NULL,
  pegOffsetValue = NULL,
  pegPriceType = NULL,
  ordType = NULL,
  timeInForce = NULL,
  execInst = NULL,
  text = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_place_order_+3A_symbol">symbol</code></td>
<td>
<p>string. Instrument symbol. e.g. 'XBTUSD'.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_side">side</code></td>
<td>
<p>string. Order side. Valid options: Buy, Sell. Defaults to 'Buy' unless <code>orderQty</code>is negative.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_orderqty">orderQty</code></td>
<td>
<p>double. Order quantity in units of the instrument (i.e. contracts).</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_price">price</code></td>
<td>
<p>double. Optional limit price for 'Limit', 'StopLimit', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_displayqty">displayQty</code></td>
<td>
<p>double. Optional quantity to display in the book. Use 0 for a fully hidden order.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_stoppx">stopPx</code></td>
<td>
<p>double. Optional trigger price for 'Stop', 'StopLimit', 'MarketIfTouched', and 'LimitIfTouched' orders.
Use a price below the current price for stop-sell orders and buy-if-touched orders.
Use <code>execInst</code> of 'MarkPrice' or 'LastPrice' to define the current price used for triggering.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_clordid">clOrdID</code></td>
<td>
<p>string. Optional Client Order ID. This clOrdID will come back on the order and any related executions.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_pegoffsetvalue">pegOffsetValue</code></td>
<td>
<p>string. Optional trailing offset from the current price for 'Stop', 'StopLimit', '
MarketIfTouched', and 'LimitIfTouched' orders; use a negative offset for stop-sell orders and buy-if-touched orders.
Optional offset from the peg price for 'Pegged' orders.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_pegpricetype">pegPriceType</code></td>
<td>
<p>string. Optional peg price type.
Valid options: LastPeg, MidPricePeg, MarketPeg, PrimaryPeg, TrailingStopPeg.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_ordtype">ordType</code></td>
<td>
<p>string. Order type. Valid options: Market, Limit, Stop, StopLimit, MarketIfTouched, LimitIfTouched, Pegged.
Defaults to 'Limit' when <code>price</code> is specified. Defaults to 'Stop' when <code>stopPx</code> is specified.
Defaults to 'StopLimit' when <code>price</code> and <code>stopPx</code> are specified.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_timeinforce">timeInForce</code></td>
<td>
<p>string. Time in force. Valid options: Day, GoodTillCancel, ImmediateOrCancel, FillOrKill.
Defaults to 'GoodTillCancel' for 'Limit', 'StopLimit', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_execinst">execInst</code></td>
<td>
<p>string. Optional execution instructions. Valid options: ParticipateDoNotInitiate,
AllOrNone, MarkPrice, IndexPrice, LastPrice, Close, ReduceOnly, Fixed.
'AllOrNone' instruction requires <code>displayQty</code> to be 0. 'MarkPrice', 'IndexPrice' or 'LastPrice'
instruction valid for 'Stop', 'StopLimit', 'MarketIfTouched', and 'LimitIfTouched' orders.</p>
</td></tr>
<tr><td><code id="tn_place_order_+3A_text">text</code></td>
<td>
<p>string. Optional order annotation. e.g. 'Take profit'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>tibble</code> containing information about the trade that has been placed.
See <a href="https://testnet.bitmex.com/api/explorer/#!/Order/Order_new">https://testnet.bitmex.com/api/explorer/#!/Order/Order_new</a> for more details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# place limit order to Buy at specific price
tn_place_order(symbol = "XBTUSD", price = 6000, orderQty = 10)

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_post_bitmex'>POST requests (testnet)</h2><span id='topic+tn_post_bitmex'></span>

<h3>Description</h3>

<p>Use <code>tn_post_bitmex()</code> to send POST requests to the testnet API. All POST requests require authentication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_post_bitmex(path, args = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_post_bitmex_+3A_path">path</code></td>
<td>
<p>string. End point for the api.</p>
</td></tr>
<tr><td><code id="tn_post_bitmex_+3A_args">args</code></td>
<td>
<p>A named list containing valid parameters for the given API endpoint.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> containing the response from the request.
</p>


<h3>References</h3>

<p><a href="https://www.bitmex.com/api/explorer/">https://www.bitmex.com/api/explorer/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# edit leverage on a position

tn_post_bitmex(
  path = "/position/leverage",
  args = list("symbol" = "XBTUSD", "leverage" = 10)
)

## End(Not run)

</code></pre>

<hr>
<h2 id='tn_trades'>Individual trade data (testnet)</h2><span id='topic+tn_trades'></span>

<h3>Description</h3>

<p><code>tn_trades()</code> retrieves data regarding individual trades that have been executed on the
testnet exchange.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tn_trades(
  symbol = "XBTUSD",
  count = 1000,
  reverse = "true",
  filter = NULL,
  columns = NULL,
  start = NULL,
  startTime = NULL,
  endTime = NULL,
  use_auth = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tn_trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_count">count</code></td>
<td>
<p>an optional integer to specify the number of rows to return.
Maximum of 1000 (the default) per request.</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_reverse">reverse</code></td>
<td>
<p>an optional character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, result will be ordered with starting with the newest (defaults to <code>"true"</code>).</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples.</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_columns">columns</code></td>
<td>
<p>an optional character vector of column names to return.
If <code>NULL</code>, all columns will be returned.</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_start">start</code></td>
<td>
<p>an optional integer. Can be used to specify the starting point for results.</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_starttime">startTime</code></td>
<td>
<p>an optional character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_endtime">endTime</code></td>
<td>
<p>an optional character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="tn_trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://testnet.bitmex.com/api/explorer/#!/Trade/Trade_get">https://testnet.bitmex.com/api/explorer/#!/Trade/Trade_get</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Return 1000 most recent trades for symbol "XBTUSD".
tn_trades(symbol = "XBTUSD")

# Use filter for very specific values: Return trade data executed at 12:15.
tn_trades(
  symbol = "XBTUSD",
  filter = "{'timestamp.minute':'12:15'}"
)

# Also possible to combine more than one filter.
tn_trades(
  symbol = "XBTUSD",
  filter = "{'timestamp.minute':'12:15', 'size':10000}"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='trades'>Individual trade data</h2><span id='topic+trades'></span>

<h3>Description</h3>

<p><code>trades()</code> retrieves data regarding individual trades that have been executed on the
exchange.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trades(
  symbol = "XBTUSD",
  count = 1000,
  reverse = "true",
  filter = NULL,
  columns = NULL,
  start = NULL,
  startTime = NULL,
  endTime = NULL,
  use_auth = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trades_+3A_symbol">symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code><a href="#topic+available_symbols">available_symbols()</a></code> to see available symbols.</p>
</td></tr>
<tr><td><code id="trades_+3A_count">count</code></td>
<td>
<p>an optional integer to specify the number of rows to return.
Maximum of 1000 (the default) per request.</p>
</td></tr>
<tr><td><code id="trades_+3A_reverse">reverse</code></td>
<td>
<p>an optional character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, result will be ordered with starting with the newest (defaults to <code>"true"</code>).</p>
</td></tr>
<tr><td><code id="trades_+3A_filter">filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples.</p>
</td></tr>
<tr><td><code id="trades_+3A_columns">columns</code></td>
<td>
<p>an optional character vector of column names to return.
If <code>NULL</code>, all columns will be returned.</p>
</td></tr>
<tr><td><code id="trades_+3A_start">start</code></td>
<td>
<p>an optional integer. Can be used to specify the starting point for results.</p>
</td></tr>
<tr><td><code id="trades_+3A_starttime">startTime</code></td>
<td>
<p>an optional character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="trades_+3A_endtime">endTime</code></td>
<td>
<p>an optional character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td></tr>
<tr><td><code id="trades_+3A_use_auth">use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>trades()</code> returns a <code>data.frame</code> containing:
</p>

<ul>
<li><p>timestamp: POSIXct. Date and time of trade.
</p>
</li>
<li><p>symbol: character. The instrument ticker.
</p>
</li>
<li><p>side: character. Whether the trade was buy or sell.
</p>
</li>
<li><p>size: numeric. Size of the trade.
</p>
</li>
<li><p>price: numeric. Price the trade was executed at
</p>
</li>
<li><p>tickDirection: character. Indicates if the trade price was higher, lower or the same as the previous trade price.
</p>
</li>
<li><p>trdMatchID: character. Unique trade ID.
</p>
</li>
<li><p>grossValue: numeric. How many satoshi were exchanged. 1 satoshi = 0.00000001 BTC.
</p>
</li>
<li><p>homeNotional: numeric. BTC value of the trade.
</p>
</li>
<li><p>foreignNotional: numeric. USD value of the trade.
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://www.bitmex.com/api/explorer/#!/Trade/Trade_get">https://www.bitmex.com/api/explorer/#!/Trade/Trade_get</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Return 1000 most recent trades for symbol "XBTUSD".
trades(symbol = "XBTUSD", count = 10)

# Use filter for very specific values: Return trade data executed at 12:15.
trades(
  symbol = "XBTUSD",
  filter = "{'timestamp.minute':'12:15'}",
  count = 10
)

# Also possible to combine more than one filter.
trades(
  symbol = "XBTUSD",
  filter = "{'timestamp.minute':'12:15', 'size':10000}",
  count = 10
)

## End(Not run)

</code></pre>

<hr>
<h2 id='valid_dates'>Start date of data availability for available symbols</h2><span id='topic+valid_dates'></span>

<h3>Description</h3>

<p>Pass in a symbol from <code><a href="#topic+available_symbols">available_symbols()</a></code> or no symbol to return dates for all available symbols
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valid_dates(symbol = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="valid_dates_+3A_symbol">symbol</code></td>
<td>
<p>character string of the instrument
symbol to find start date for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the symbol and date from which data is available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
valid_dates("XBTUSD")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

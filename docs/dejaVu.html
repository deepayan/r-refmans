<!DOCTYPE html><html><head><title>Help for package dejaVu</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dejaVu}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ConstantRateDrop'><p>Create a Dropout Mechanism with constant dropout rate</p></a></li>
<li><a href='#copy_reference'><p>Create a copy reference <code>ImputeMechanism</code> object</p></a></li>
<li><a href='#CreateNewDropoutMechanism'><p>A function which creates a DropOut Mechanism object</p></a></li>
<li><a href='#CreateNewImputeMechanism'><p>A function which creates an Impute Mechanism object</p></a></li>
<li><a href='#CreateScenario'><p>Create <code>Scenario</code> object from list of Fit Summaries</p></a></li>
<li><a href='#DejaData.object'><p>Data frame of covariates for simulating recurrent events</p></a></li>
<li><a href='#DropoutMechanism.object'><p>DropoutMechanism object</p></a></li>
<li><a href='#expandEventCount'><p>Expand event counts into a list of event times</p></a></li>
<li><a href='#extract_results'><p>Extract the results of running a scenario</p></a></li>
<li><a href='#GetImputedDataSet'><p>Output a single imputed data set</p></a></li>
<li><a href='#ImportSim'><p>Import an existing data frame for use with the package</p></a></li>
<li><a href='#Impute'><p>Produce imputed data sets</p></a></li>
<li><a href='#ImputeMechanism.object'><p>ImputeMechanism object</p></a></li>
<li><a href='#ImputeSim.object'><p>ImputeSim object</p></a></li>
<li><a href='#ImputeSimFit.object'><p>ImputeSimFit object</p></a></li>
<li><a href='#LinearRateChangeDrop'><p>Create a Dropout Mechanism with drop out rate which changes by a fixed constant</p>
after every event</a></li>
<li><a href='#MakeDejaData'><p>Create a <code>DejaData</code> object</p></a></li>
<li><a href='#numberSubjects'><p>S3 generic to output the number of subjects in a given object</p></a></li>
<li><a href='#Scenario.object'><p>Scenario object</p></a></li>
<li><a href='#simData'><p>Simulated recurrent event data.</p></a></li>
<li><a href='#Simfit'><p>S3 generic for fitting models</p></a></li>
<li><a href='#SimulateComplete'><p>Simulate a complete data set</p></a></li>
<li><a href='#SimulateDropout'><p>Simulate subject dropout</p></a></li>
<li><a href='#SingleSim.object'><p>SingleSim Object</p></a></li>
<li><a href='#SingleSimFit.object'><p>SingleSimFit object</p></a></li>
<li><a href='#subjectsPerArm'><p>S3 generic to output the number of subjects in each arm for a given object</p></a></li>
<li><a href='#summary.ImputeSimFit.object'><p>summary.ImputeSimFit object</p></a></li>
<li><a href='#summary.Scenario.object'><p>summary.Scenario object</p></a></li>
<li><a href='#summary.SingleSim.object'><p>summary.SingleSim object</p></a></li>
<li><a href='#summary.SingleSimFit'><p>summary.SingleSimFit</p></a></li>
<li><a href='#weighted_j2r'><p>Create a weighted_j2r <code>ImputeMechanism</code> object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Multiple Imputation for Recurrent Events</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jonathan Bartlett &lt;j.w.bartlett@bath.ac.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs reference based multiple imputation of recurrent event data
    based on a negative binomial regression model, as described
    by Keene et al (2014) &lt;<a href="https://doi.org/10.1002%2Fpst.1624">doi:10.1002/pst.1624</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, testthat,</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>MASS, stats</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-27 12:01:21 UTC; jwb13</td>
</tr>
<tr>
<td>Author:</td>
<td>Nikolas Burkoff [aut],
  Paul Metcalfe [aut],
  Jonathan Bartlett [aut, cre],
  David Ruau [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-27 12:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ConstantRateDrop'>Create a Dropout Mechanism with constant dropout rate</h2><span id='topic+ConstantRateDrop'></span>

<h3>Description</h3>

<p>Creates an MCAR <code>DropoutMechanism</code> object where subject <code>i</code> dropout
is exponentially distributed with rate <code>Ri</code> where 
<code>Ri = C*exp(Xi)</code> for constant <code>C</code> and 
<code>Xi</code> a random normal variable with mean 0 and standard deviation <code>sigma</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ConstantRateDrop(rate, var = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ConstantRateDrop_+3A_rate">rate</code></td>
<td>
<p><code>C</code> described in the details</p>
</td></tr>
<tr><td><code id="ConstantRateDrop_+3A_var">var</code></td>
<td>
<p><code>sigma^2</code> described in the details section, by default = 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>DropoutMechanism</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+DropoutMechanism.object">DropoutMechanism.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ConstantRateDrop(rate=0.0025)
ConstantRateDrop(rate=0.0025,var=1)
</code></pre>

<hr>
<h2 id='copy_reference'>Create a copy reference <code>ImputeMechanism</code> object</h2><span id='topic+copy_reference'></span>

<h3>Description</h3>

<p>Missing counts for subjects in both arms are imputed by assuming
the rate before and dropout are both equal to the control (reference) estimated rate.
This corresponds to what is usually termed the copy reference assumption.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>copy_reference(proper = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="copy_reference_+3A_proper">proper</code></td>
<td>
<p>If <code>proper=TRUE</code> then proper imputation is performed, in which each imputation
is created based on parameters values drawn from the (approximate) posterior distribution of the
imputation model. If <code>proper=FALSE</code>, improper imputation is performed. This means all 
imputed datasets are generated conditional on the maximum likelihood estimates of the parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>ImputeMechanism</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ImputeMechanism.object">ImputeMechanism.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
                        event.rates=c(0.01,0.005),dispersions=0.25)
sim.with.MCAR.dropout &lt;- SimulateDropout(sim,
                                         drop.mechanism = ConstantRateDrop(rate = 0.0025))
fit &lt;- Simfit(sim.with.MCAR.dropout)
imps &lt;- Impute(fit, copy_reference(), 10)

</code></pre>

<hr>
<h2 id='CreateNewDropoutMechanism'>A function which creates a DropOut Mechanism object</h2><span id='topic+CreateNewDropoutMechanism'></span>

<h3>Description</h3>

<p>A function which creates a DropOut Mechanism object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CreateNewDropoutMechanism(
  type,
  text,
  cols.needed = vector("character"),
  GetDropTime,
  parameters = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CreateNewDropoutMechanism_+3A_type">type</code></td>
<td>
<p>The type of mechanism (e.g. &quot;MCAR&quot; or &quot;MNAR&quot;)</p>
</td></tr>
<tr><td><code id="CreateNewDropoutMechanism_+3A_text">text</code></td>
<td>
<p>A short string describing the mechanism (only used for printing)</p>
</td></tr>
<tr><td><code id="CreateNewDropoutMechanism_+3A_cols.needed">cols.needed</code></td>
<td>
<p>Which columns in the SingleSim$data data frame must be included for this
drop out mechanism to work. This option could allow drop out mechanism which depend on covariates to be
included.</p>
</td></tr>
<tr><td><code id="CreateNewDropoutMechanism_+3A_getdroptime">GetDropTime</code></td>
<td>
<p>A function with two arguments event.times and data, the corresponding entries from the 
SingleSim object. This function should return a list of dropout times (if a subject does not dropout its dropout time should be 
their current censored.time (i.e. the study follow up time))</p>
</td></tr>
<tr><td><code id="CreateNewDropoutMechanism_+3A_parameters">parameters</code></td>
<td>
<p>A list of named parameters for the mechanism (only used for printing) or NULL if none</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+DropoutMechanism.object">DropoutMechanism.object</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+DropoutMechanism.object">DropoutMechanism.object</a></code>
</p>

<hr>
<h2 id='CreateNewImputeMechanism'>A function which creates an Impute Mechanism object</h2><span id='topic+CreateNewImputeMechanism'></span>

<h3>Description</h3>

<p>A function which creates an Impute Mechanism object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CreateNewImputeMechanism(
  name,
  cols.needed = vector("character"),
  impute,
  parameters = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CreateNewImputeMechanism_+3A_name">name</code></td>
<td>
<p>The method name (used for printing)</p>
</td></tr>
<tr><td><code id="CreateNewImputeMechanism_+3A_cols.needed">cols.needed</code></td>
<td>
<p>which columns of the SingleSim data frame are required by the method, typically
<code>c("censored.time","observed.events","arm")</code></p>
</td></tr>
<tr><td><code id="CreateNewImputeMechanism_+3A_impute">impute</code></td>
<td>
<p>A function which takes a <code>SingleSimFit</code> object and outputs the details for a single
imputed data set, specifically a list with two elements:
<code>new.censored.times</code> - a vector of times subjects were censored (after taking into account imputation)
and <code>newevent.times</code> - a list of vectors where the vectors contain the imputed event times for the subjects
(these vectors do not contain the observed event times before subject drop out). If a subject has no imputed events then 
the vector <code>numeric(0)</code> is returned.</p>
</td></tr>
<tr><td><code id="CreateNewImputeMechanism_+3A_parameters">parameters</code></td>
<td>
<p>A list of named parameters describing the method (used for printing) - or NULL if none</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+ImputeMechanism.object">ImputeMechanism.object</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ImputeMechanism.object">ImputeMechanism.object</a></code>
</p>

<hr>
<h2 id='CreateScenario'>Create <code>Scenario</code> object from list of Fit Summaries</h2><span id='topic+CreateScenario'></span>

<h3>Description</h3>

<p>Create <code>Scenario</code> object from list of Fit Summaries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CreateScenario(object, description = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CreateScenario_+3A_object">object</code></td>
<td>
<p>Either a list of <code>summary.SingleSimFit</code>
or <code>summary.ImputeSimFit</code> objects</p>
</td></tr>
<tr><td><code id="CreateScenario_+3A_description">description</code></td>
<td>
<p>A character string describing the scenario 
(used for printing)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Scenario</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Scenario.object">Scenario.object</a></code>
</p>

<hr>
<h2 id='DejaData.object'>Data frame of covariates for simulating recurrent events</h2><span id='topic+DejaData.object'></span>

<h3>Description</h3>

<p>This object allows covariates to be included in the simulation procedure
The object is created using the <code><a href="#topic+MakeDejaData">MakeDejaData</a></code> function
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="DejaData.object_+3A_data">data</code></td>
<td>
<p>A data frame containing the subject</p>
</td></tr>
<tr><td><code id="DejaData.object_+3A_arm">arm</code></td>
<td>
<p>character the column name of the treatment arm for each subject</p>
</td></tr>
<tr><td><code id="DejaData.object_+3A_rate">rate</code></td>
<td>
<p>character the column name of the rate to be used when simulating</p>
</td></tr>
<tr><td><code id="DejaData.object_+3A_id">Id</code></td>
<td>
<p>character the column name of subject Id</p>
</td></tr>
</table>


<h3>Structure</h3>

<p>The above components must be included in
a DejaData Object
</p>

<hr>
<h2 id='DropoutMechanism.object'>DropoutMechanism object</h2><span id='topic+DropoutMechanism.object'></span><span id='topic+print.DropoutMechanism'></span>

<h3>Description</h3>

<p>An object which defines a specific mechanism which  
takes a complete <code>SingleSim</code> object and returns
a set of drop out times for subjects
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="DropoutMechanism.object_+3A_type">type</code></td>
<td>
<p>The type of mechanism (e.g. &quot;MCAR&quot; or &quot;MNAR&quot;)</p>
</td></tr>
<tr><td><code id="DropoutMechanism.object_+3A_text">text</code></td>
<td>
<p>A short string describing the mechanism (only used for printing)</p>
</td></tr>
<tr><td><code id="DropoutMechanism.object_+3A_cols.needed">cols.needed</code></td>
<td>
<p>Which columns in the SingleSim$data data frame must be included for this
drop out mechanism to work. This option could allow drop out mechanism which depend on covariates to be
included.</p>
</td></tr>
<tr><td><code id="DropoutMechanism.object_+3A_getdroptime">GetDropTime</code></td>
<td>
<p>A function with two arguments event.times and data, the corresponding entries from the 
SingleSim object. This function should return a list of dropout times (if a subject does not dropout its dropout time should be 
their current censored.time (i.e. the study follow up time))</p>
</td></tr>
<tr><td><code id="DropoutMechanism.object_+3A_parameters">parameters</code></td>
<td>
<p>A list of named parameters for the mechanism (only used for printing) or NULL if none</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is possible to create user defined mechanisms, however, certain
common mechanisms have already been implemented. For example see
<code><a href="#topic+ConstantRateDrop">ConstantRateDrop</a></code> and <code><a href="#topic+LinearRateChangeDrop">LinearRateChangeDrop</a></code>
</p>
<p>Only the GetDropTime and cols.needed entries are required for
calculation, the other entries are used for printing the object 
</p>
<p><code>print.DropoutMechanism</code> methods is defined.
</p>


<h3>Structure</h3>

<p>The following components must be included in
a DropoutMechanism Object
</p>

<hr>
<h2 id='expandEventCount'>Expand event counts into a list of event times</h2><span id='topic+expandEventCount'></span>

<h3>Description</h3>

<p>This function exists to allow clinical trial data which typically
gives event counts over time to be plugged into this software, which
relies on actual event counts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expandEventCount(count, time)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expandEventCount_+3A_count">count</code></td>
<td>
<p>a vector of event counts.  All entries must be
non-negative.</p>
</td></tr>
<tr><td><code id="expandEventCount_+3A_time">time</code></td>
<td>
<p>a matching (strictly positive) vector of followup
times.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function always produces a warning: anyone relying on this
function to actually analyze data should take great care.
</p>


<h3>Value</h3>

<p>a list of vectors of event times
</p>


<h3>Examples</h3>

<pre><code class='language-R'>expandEventCount(count=c(0, 20), time=c(10, 20))
</code></pre>

<hr>
<h2 id='extract_results'>Extract the results of running a scenario</h2><span id='topic+extract_results'></span>

<h3>Description</h3>

<p>This function is a wrapper around <code><a href="#topic+CreateScenario">CreateScenario</a></code>
See the user guide vignette for an example of using this function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_results(answer, name, description)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_results_+3A_answer">answer</code></td>
<td>
<p>A named list of lists</p>
</td></tr>
<tr><td><code id="extract_results_+3A_name">name</code></td>
<td>
<p>The name of the lists of answer which should be extracted and 
put together into a <code>sc</code></p>
</td></tr>
<tr><td><code id="extract_results_+3A_description">description</code></td>
<td>
<p>The description parameter to be passed into the <code>CreateScenario</code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Scenario</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CreateScenario">CreateScenario</a></code>
</p>

<hr>
<h2 id='GetImputedDataSet'>Output a single imputed data set</h2><span id='topic+GetImputedDataSet'></span>

<h3>Description</h3>

<p>Output a single imputed data set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetImputedDataSet(imputeSim, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetImputedDataSet_+3A_imputesim">imputeSim</code></td>
<td>
<p>A <code>ImputeSim</code> object which contains 
multiple imputed data sets</p>
</td></tr>
<tr><td><code id="GetImputedDataSet_+3A_index">index</code></td>
<td>
<p>numeric, which of the multiple imputed data sets to output</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SingleSim</code> object with <code>status="imputed"</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ImputeSim.object">ImputeSim.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
event.rates=c(0.01,0.005),dispersions=0.25)
sim.with.MCAR.dropout &lt;- SimulateDropout(sim,
  drop.mechanism = ConstantRateDrop(rate = 0.0025))
fit &lt;- Simfit(sim.with.MCAR.dropout)
imps &lt;- Impute(fit, copy_reference(), 10)
imp1 &lt;- GetImputedDataSet(imps, 1)

</code></pre>

<hr>
<h2 id='ImportSim'>Import an existing data frame for use with the package</h2><span id='topic+ImportSim'></span>

<h3>Description</h3>

<p>Import an existing data frame for use with the package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ImportSim(
  dejaData,
  event.times,
  status,
  study.time,
  censored.time = NULL,
  actual.events = NULL,
  allow.beyond.study = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ImportSim_+3A_dejadata">dejaData</code></td>
<td>
<p>a <code>DejaData</code> object contain the subject
covariates and treatment arm</p>
</td></tr>
<tr><td><code id="ImportSim_+3A_event.times">event.times</code></td>
<td>
<p>A list of vectors, containing the observed
event times of each subject. If no events are observed then
numeric(0) should be used. See example in this help file for more
details</p>
</td></tr>
<tr><td><code id="ImportSim_+3A_status">status</code></td>
<td>
<p>The status of the data set imported, either
&quot;complete&quot; (if all subjects complete their follow up period) or
&quot;dropout&quot; (if not)</p>
</td></tr>
<tr><td><code id="ImportSim_+3A_study.time">study.time</code></td>
<td>
<p>The total follow up time according to study
protocol</p>
</td></tr>
<tr><td><code id="ImportSim_+3A_censored.time">censored.time</code></td>
<td>
<p>If status is &quot;dropout&quot;, this is a vector of
the times at which each subject is censored</p>
</td></tr>
<tr><td><code id="ImportSim_+3A_actual.events">actual.events</code></td>
<td>
<p>If status is &quot;dropout&quot; and the total number
of events (i.e. not just the number observed) is known (e.g. if a
different simulation procedure was used) a vector of total number
of events should be included. If the number is not known or status
is &quot;complete&quot; then this should be set to NULL</p>
</td></tr>
<tr><td><code id="ImportSim_+3A_allow.beyond.study">allow.beyond.study</code></td>
<td>
<p>Whether or not to allow imported data
with events after the nominal end of study.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A SingleSim object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
covar.df &lt;- data.frame(Id=1:6,
                       arm=c(rep(0,3),rep(1,3)),
                       Z=c(0,1,1,0,1,0))
 
dejaData &lt;- MakeDejaData(covar.df,arm="arm",Id="Id") 


event.times &lt;- list(c(25,100,121,200,225),
                    c(100,110),c(55),numeric(0),
                    150,45)     

complete.dataset &lt;- ImportSim(dejaData, event.times,
                    status="complete",
                    study.time=365)
 
censored.time  &lt;- c(365,178,100,245,200,100)

dropout.dataset &lt;- ImportSim(dejaData, event.times,
                    status="dropout",
                    study.time=365,
                    censored.time=censored.time)

</code></pre>

<hr>
<h2 id='Impute'>Produce imputed data sets</h2><span id='topic+Impute'></span>

<h3>Description</h3>

<p>Given a <code>SingleSimFit</code> object (with impute.parameters not NULL)
and an imputation mechanism,
create a collection of imputed data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Impute(fit, impute.mechanism, N)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Impute_+3A_fit">fit</code></td>
<td>
<p>A <code>SingleSimFit</code> object</p>
</td></tr>
<tr><td><code id="Impute_+3A_impute.mechanism">impute.mechanism</code></td>
<td>
<p>An <code>ImputeMechanism</code> object</p>
</td></tr>
<tr><td><code id="Impute_+3A_n">N</code></td>
<td>
<p>The number of data sets to impute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>ImputeSim</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
    event.rates=c(0.01,0.005),dispersions=0.25)
sim.with.MCAR.dropout &lt;- SimulateDropout(sim,
    drop.mechanism = ConstantRateDrop(rate = 0.0025))
fit &lt;- Simfit(sim.with.MCAR.dropout)
imps &lt;- Impute(fit, copy_reference(), 10)

</code></pre>

<hr>
<h2 id='ImputeMechanism.object'>ImputeMechanism object</h2><span id='topic+ImputeMechanism.object'></span>

<h3>Description</h3>

<p>An object which defines a mechanism for taking
a <code>SingleSimFit</code> object and imputing missing data
to create a <code>ImputeSim</code>
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="ImputeMechanism.object_+3A_name">name</code></td>
<td>
<p>The method name (used for printing)</p>
</td></tr>
<tr><td><code id="ImputeMechanism.object_+3A_cols.needed">cols.needed</code></td>
<td>
<p>which columns of the SingleSim data frame are required by the method, typically
<code>c("censored.time","observed.events","arm")</code></p>
</td></tr>
<tr><td><code id="ImputeMechanism.object_+3A_impute">impute</code></td>
<td>
<p>A function which takes a <code>SingleSimFit</code> object and outputs the details for a single
imputed data set, specifically a list with two elements:
<code>new.censored.times</code> - a vector of times subjects were censored (after taking into account imputation)
and <code>newevent.times</code> - a list of vectors where the vectors contain the imputed event times for the subjects
(these vectors do not contain the observed event times before subject drop out). If a subject has no imputed events then 
the vector <code>numeric(0)</code> is returned.</p>
</td></tr>
<tr><td><code id="ImputeMechanism.object_+3A_parameters">parameters</code></td>
<td>
<p>A list of named parameters describing the method (used for printing) - or NULL if none</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is possible to create user defined mechanisms, however, 
common mechanisms have already been implemented. For example see
<code><a href="#topic+weighted_j2r">weighted_j2r</a></code> 
</p>
<p>A <code>print.ImputeMechanism</code> method is defined.
</p>


<h3>Structure</h3>

<p>The following components must be included in
an ImputeMechanism Object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>j2r &lt;- weighted_j2r(trt.weight=0)
</code></pre>

<hr>
<h2 id='ImputeSim.object'>ImputeSim object</h2><span id='topic+ImputeSim.object'></span>

<h3>Description</h3>

<p>This object contains a collection of imputed data sets
derived from a <code>SingleSimFit</code> object and <code>ImputeMechanism</code>
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="ImputeSim.object_+3A_singlesim">singleSim</code></td>
<td>
<p>The <code>SingleSim</code> object from which the imputed data sets
have been derived</p>
</td></tr>
<tr><td><code id="ImputeSim.object_+3A_impute.mechanism">impute.mechanism</code></td>
<td>
<p>The <code>ImputeMechanism</code> object used to perform the
imputation</p>
</td></tr>
<tr><td><code id="ImputeSim.object_+3A_imputed.values">imputed.values</code></td>
<td>
<p>A matrix with 1 column per imputed data set and two rows:
newevent.times a list of vectors containing the imputed event times (not including the events 
which were observed) and new.censored.times - a vector containing the times at which subjects (with imputed
data) are now censored</p>
</td></tr>
<tr><td><code id="ImputeSim.object_+3A_dropout">dropout</code></td>
<td>
<p>A vector containing the number of subjects who have dropped out in each arm, for whom data is to be
imputed  
</p>
<p>Use <code><a href="#topic+GetImputedDataSet">GetImputedDataSet</a></code> to extract a single imputed data set and use <code>Simfit</code> to fit
a model to the set of data sets</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+GetImputedDataSet">GetImputedDataSet</a></code>
</p>

<hr>
<h2 id='ImputeSimFit.object'>ImputeSimFit object</h2><span id='topic+ImputeSimFit.object'></span>

<h3>Description</h3>

<p>An object which contains both a set of imputed data sets (<code>ImputeSim</code> object) and
a set of models fitted to them
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="ImputeSimFit.object_+3A_imputesim">imputeSim</code></td>
<td>
<p>The <code>ImputeSim</code> object for which models have been fitted</p>
</td></tr>
<tr><td><code id="ImputeSimFit.object_+3A_summaries">summaries</code></td>
<td>
<p>A list of <code>summary.SingleSimFit</code> objects containing the model fits
for each of the imputed data sets</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calling <code>summary.ImputeSimFit</code> will apply Rubin's formula to calculate 
estimates for the treatment effect and standard error
</p>
<p>Functions <code>summary.ImputeSimFit</code> and <code>as.data.frame.ImputeSimFit</code>
have been implemented
</p>


<h3>See Also</h3>

<p><code>summary.ImputeSimFit</code> <code><a href="#topic+summary.SingleSimFit">summary.SingleSimFit</a></code>
</p>

<hr>
<h2 id='LinearRateChangeDrop'>Create a Dropout Mechanism with drop out rate which changes by a fixed constant
after every event</h2><span id='topic+LinearRateChangeDrop'></span>

<h3>Description</h3>

<p>Creates an MAR <code>DropoutMechanism</code> object where subject <code>i</code> has piecewise exponential
dropout rate where the rate changes by a constant amount after each event, specifically after <code>j</code> events
the subject has rate <code>Rij = Cj*exp(Xij)</code> where <code>Cj=C+j*D</code> for constants <code>C</code>, <code>D</code> 
and Xij is a standard normal variable with mean 0 and standard deviation <code>sigma</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LinearRateChangeDrop(starting.rate, rate.change, var = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LinearRateChangeDrop_+3A_starting.rate">starting.rate</code></td>
<td>
<p><code>C</code>, see description section.</p>
</td></tr>
<tr><td><code id="LinearRateChangeDrop_+3A_rate.change">rate.change</code></td>
<td>
<p><code>D</code>, see description section. Note if <code>D&lt;0</code>, <code>Cj</code> could be negative
for large <code>j</code>, this is not possible and the rate remains constant if the next change would set <code>Cj&lt;=0</code></p>
</td></tr>
<tr><td><code id="LinearRateChangeDrop_+3A_var">var</code></td>
<td>
<p><code>sigma^2</code>, see description section</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>DropoutMechanism</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+DropoutMechanism.object">DropoutMechanism.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>LinearRateChangeDrop(starting.rate=0.0025,rate.change=0.0005)
LinearRateChangeDrop(starting.rate=0.0025,rate.change=-0.00001,var=1)
</code></pre>

<hr>
<h2 id='MakeDejaData'>Create a <code>DejaData</code> object</h2><span id='topic+MakeDejaData'></span>

<h3>Description</h3>

<p>This object is can be used to create a <code>SingleSim</code> object with
subject specific rates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MakeDejaData(data, arm, Id, rate = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MakeDejaData_+3A_data">data</code></td>
<td>
<p>A data frame containing the subject</p>
</td></tr>
<tr><td><code id="MakeDejaData_+3A_arm">arm</code></td>
<td>
<p>character the column name of the treatment arm for each subject</p>
</td></tr>
<tr><td><code id="MakeDejaData_+3A_id">Id</code></td>
<td>
<p>character the column name of subject Id</p>
</td></tr>
<tr><td><code id="MakeDejaData_+3A_rate">rate</code></td>
<td>
<p>character the column name of the rate to be used when simulating (or NULL,
if using DejaData to import a data set, see <code><a href="#topic+ImportSim">ImportSim</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>DejaData</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(232)

my.df &lt;- data.frame(Id=1:100,
                    arm=c(rep(0,50),rep(1,50)),
                    covar=rbinom(n=100,size=1,prob=0.5))

my.df$rate &lt;- 0.0025 + my.df$covar*0.002 + (1-my.df$arm)*0.002

my.dejaData &lt;- MakeDejaData(my.df,arm="arm",rate="rate",Id="Id")

</code></pre>

<hr>
<h2 id='numberSubjects'>S3 generic to output the number of subjects in a given object</h2><span id='topic+numberSubjects'></span>

<h3>Description</h3>

<p>S3 generic to output the number of subjects in a given object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>numberSubjects(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="numberSubjects_+3A_x">x</code></td>
<td>
<p>The object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of subjects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
event.rates=c(0.01,0.005),dispersions=0.25)
numberSubjects(sim)
</code></pre>

<hr>
<h2 id='Scenario.object'>Scenario object</h2><span id='topic+Scenario.object'></span>

<h3>Description</h3>

<p>This class contains a collection of model fit summaries and summarizing
this object will calculate overall summary statistics such as power/type I error
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="Scenario.object_+3A_description">description</code></td>
<td>
<p>A string containing a description of the scenario</p>
</td></tr>
<tr><td><code id="Scenario.object_+3A_summaries">summaries</code></td>
<td>
<p>A list of either <code>summary.ImputeSimFit</code> or <code>summary.SingleSimFit</code> objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>as.data.frame.Scenario</code> and <code>summary.Scenario</code> have 
been implemented
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CreateScenario">CreateScenario</a></code>
</p>

<hr>
<h2 id='simData'>Simulated recurrent event data.</h2><span id='topic+simData'></span>

<h3>Description</h3>

<p>A simulated dataset containing a randomised treatment group, follow-up time,
and number of events, for 500 patients. The planned follow-up period for the 
study was 1 year, but some patients dropped out early and so their
follow-up ended prematurely (i.e. before 1 year)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simData
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 3 variables:
</p>

<dl>
<dt>z</dt><dd><p>a binary variable indicating randomised treatment group</p>
</dd>
<dt>y</dt><dd><p>number of events observed during patient's follow-up</p>
</dd>
<dt>fupTime</dt><dd><p>the time in years the patient was followed up for</p>
</dd>
</dl>
<p>...

</p>


<h3>Source</h3>

<p>Simulated data
</p>

<hr>
<h2 id='Simfit'>S3 generic for fitting models</h2><span id='topic+Simfit'></span>

<h3>Description</h3>

<p>S3 generic for fitting models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Simfit(x, family = "negbin", equal.dispersion = TRUE, covar = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Simfit_+3A_x">x</code></td>
<td>
<p>The S3 object</p>
</td></tr>
<tr><td><code id="Simfit_+3A_family">family</code></td>
<td>
<p>Either &quot;negbin&quot; for fitting a negative binomial model (using <code>MASS::glm.nb</code>),
&quot;poisson&quot; for fitting a poisson model (<code>glm</code>) or &quot;quasipoisson&quot; for fitting a quasipoisson model
<code>glm</code></p>
</td></tr>
<tr><td><code id="Simfit_+3A_equal.dispersion">equal.dispersion</code></td>
<td>
<p>logical, should the arms have the same dispersion parameter when
fitting negative binomial models</p>
</td></tr>
<tr><td><code id="Simfit_+3A_covar">covar</code></td>
<td>
<p>A formula containing the additional covariates to be used when calling <code>glm.nb</code> if
no covariates are included in the model this should be NULL, for example <code>~covar1 + covar2</code>
See vignette for further details</p>
</td></tr>
<tr><td><code id="Simfit_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code>glm</code> or <code>glm.nb</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SingleSimFit</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SingleSimFit.object">SingleSimFit.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
set.seed(1234)
sim &lt;- SimulateComplete(study.time=1,number.subjects=50,
      event.rates=c(0.1,0.05),dispersions=0.1)
summary(Simfit(sim,equal.dispersion=TRUE))


</code></pre>

<hr>
<h2 id='SimulateComplete'>Simulate a complete data set</h2><span id='topic+SimulateComplete'></span>

<h3>Description</h3>

<p>Simulate a complete data set of a recurrent event
clinical trial without dropouts using a negative binomial model
with given rates and dispersion parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimulateComplete(
  study.time,
  dejaData = NULL,
  number.subjects = NULL,
  event.rates = NULL,
  dispersions
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SimulateComplete_+3A_study.time">study.time</code></td>
<td>
<p>The study follow up period</p>
</td></tr>
<tr><td><code id="SimulateComplete_+3A_dejadata">dejaData</code></td>
<td>
<p>If not NULL this should contain a <code>DejaData</code> object. If this is used then
number.subjects and event.rates arguments are ignored</p>
</td></tr>
<tr><td><code id="SimulateComplete_+3A_number.subjects">number.subjects</code></td>
<td>
<p>The number of subjects, if a vector <code>c(a,b)</code> then
<code>a</code> subjects on the control arm and <code>b</code> subjects on the active arm. If 
<code>number.subjects</code> is a single number then both arms have the given number of subjects.</p>
</td></tr>
<tr><td><code id="SimulateComplete_+3A_event.rates">event.rates</code></td>
<td>
<p>The rate parameter(s) for the negative binomial model (if single parameter then it is used for both arms)</p>
</td></tr>
<tr><td><code id="SimulateComplete_+3A_dispersions">dispersions</code></td>
<td>
<p>The dispersion parameter(s) for the negative binomial model (if single parameter then it is used for both arms)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each subject's events are described by a Poisson process with a subject specific rate given by
<code>lambda/study.time</code> where <code>study.time</code> is the study follow up period and <code>lambda</code>
has a gamma distribution with <code>shape=1/dispersion</code> and <code>scale=dispersion*event.rate*study.time</code> 
</p>
<p>Different dispersions, event.rates and number of subjects can be specified for both arms of the trial
</p>


<h3>Value</h3>

<p>A <code>SingleSim</code> object with <code>status='complete'</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SingleSim.object">SingleSim.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
                        event.rates=c(0.01,0.005),dispersions=0.25)
sim2 &lt;- SimulateComplete(study.time=365,number.subjects=c(50,75),
                        event.rates=c(0.01,0.005),dispersions=c(0,0.25))
</code></pre>

<hr>
<h2 id='SimulateDropout'>Simulate subject dropout</h2><span id='topic+SimulateDropout'></span>

<h3>Description</h3>

<p>This function takes a complete recurrent event data set
and drop out mechanism and creates a data set set with
dropout
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimulateDropout(simComplete, drop.mechanism)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SimulateDropout_+3A_simcomplete">simComplete</code></td>
<td>
<p>A <code>SingleSim</code> object (with <code>status="complete"</code>)</p>
</td></tr>
<tr><td><code id="SimulateDropout_+3A_drop.mechanism">drop.mechanism</code></td>
<td>
<p>A <code>DropoutMechanism</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SingleSim</code> object with <code>status='dropout'</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
                        event.rates=c(0.01,0.005),dispersions=0.25)
                        
sim.with.MCAR.dropout &lt;- SimulateDropout(sim,
                      drop.mechanism = ConstantRateDrop(rate = 0.0025)) 
sim.with.MAR.dropout &lt;- SimulateDropout(sim, 
                     drop.mechanism = LinearRateChangeDrop(
                                          starting.rate = 0.0025,
                                          rate.change = 0.0005))

</code></pre>

<hr>
<h2 id='SingleSim.object'>SingleSim Object</h2><span id='topic+SingleSim.object'></span><span id='topic+print.SingleSim'></span><span id='topic+summary.SingleSim'></span>

<h3>Description</h3>

<p>A class containing the data for a single simulation. Depending on the value
of <code>status</code>, this may be a complete data set, a set including subject dropouts
or a data set after multiple imputation  
</p>
<p><code>print.SingleSim</code> and <code>summary.SingleSim</code> methods are defined.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="SingleSim.object_+3A_data">data</code></td>
<td>
<p>The data frame, one row per subject containing (at least) the following columns
Id, arm, censored.time, observed.events and actual.events</p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_event.times">event.times</code></td>
<td>
<p>A list of event times. event.times[[1]] is a list of event times for subject with Id 1
The length of event.times[[1]] = the number of observed events of subject with Id 1</p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_status">status</code></td>
<td>
<p>Either &quot;complete&quot;, &quot;dropout&quot; or &quot;imputed&quot; denoting the status of the data set.</p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_subject.rates">subject.rates</code></td>
<td>
<p>A vector of the specific rates used for the Poisson process for subjects when generating the data</p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_dropout.mechanism">dropout.mechanism</code></td>
<td>
<p>If status is not &quot;complete&quot; then this contains the <code>DropoutMechanism</code> object
used to perform the subject dropout. See <code><a href="#topic+DropoutMechanism.object">DropoutMechanism.object</a></code>.</p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_impute.mechanism">impute.mechanism</code></td>
<td>
<p>If the status is &quot;imputed&quot; then this contains the <code>ImputeMechanism</code> object
used to perform the imputation. See <code><a href="#topic+ImputeMechanism.object">ImputeMechanism.object</a></code></p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_study.time">study.time</code></td>
<td>
<p>The study follow up period (see <code>SimulateComplete</code>)</p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_event.rates">event.rates</code></td>
<td>
<p>The control/active event rates (see <code>SimulateComplete</code>), if data set was 
generated without using these (e.g. the dejaData argument was used) then this is set to NULL</p>
</td></tr>
<tr><td><code id="SingleSim.object_+3A_dispersions">dispersions</code></td>
<td>
<p>The control/active dispersion rates (see <code>SimulateComplete</code>)</p>
</td></tr>
</table>


<h3>Structure</h3>

<p>The above components must be included in
a SingleSim Object
</p>

<hr>
<h2 id='SingleSimFit.object'>SingleSimFit object</h2><span id='topic+SingleSimFit.object'></span>

<h3>Description</h3>

<p>A <code>SingleSimFit</code> object is returned from calling <code>Simfit</code> with
a <code>SingleSim object</code>. It can be used to both impute data sets or can be summarized
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="SingleSimFit.object_+3A_singlesim">singleSim</code></td>
<td>
<p>The <code>SingleSim</code> object to which a model has been fitted</p>
</td></tr>
<tr><td><code id="SingleSimFit.object_+3A_model">model</code></td>
<td>
<p>The model which has been fitted</p>
</td></tr>
<tr><td><code id="SingleSimFit.object_+3A_gencoeff.function">genCoeff.function</code></td>
<td>
<p>A function which returns a list of parameters from the model fit(s) which can 
be used when performing the gamma imputation. It takes one argument, use.uncertainty (by default is TRUE) which
if TRUE stochastically incorporates uncertainty into the parameter estimates in preparation for use with imputation 
If a Poisson/quasi-Poisson model was fitted to the <code>SingleSimFit</code> object
then this will be NULL</p>
</td></tr>
<tr><td><code id="SingleSimFit.object_+3A_equal">equal</code></td>
<td>
<p>dispersion whether equal dispersions were used when fitting model(s) to the data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code><a href="#topic+summary.SingleSimFit">summary.SingleSimFit</a></code> method has been implemented
</p>

<hr>
<h2 id='subjectsPerArm'>S3 generic to output the number of subjects in each arm for a given object</h2><span id='topic+subjectsPerArm'></span>

<h3>Description</h3>

<p>S3 generic to output the number of subjects in each arm for a given object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectsPerArm(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectsPerArm_+3A_x">x</code></td>
<td>
<p>The object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the number of subjects in each arm
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
event.rates=c(0.01,0.005),dispersions=0.25)
subjectsPerArm(sim)
</code></pre>

<hr>
<h2 id='summary.ImputeSimFit.object'>summary.ImputeSimFit object</h2><span id='topic+summary.ImputeSimFit.object'></span>

<h3>Description</h3>

<p>The summary of a <code>ImputeSimFit</code> object. Rubin's formula 
is used to combine the test statistics into a single summary
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ImputeSimFit.object_+3A_treatment.effect">treatment.effect</code></td>
<td>
<p>The mean of the estimated treatment.effect
from the imputed data</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_se">se</code></td>
<td>
<p>The standard error of the (log) treatment effect calculated using Rubin's formula</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_df">df</code></td>
<td>
<p>The number of degrees of freedom used to calculate the p-value</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_adjusted.df">adjusted.df</code></td>
<td>
<p>The number of degrees of freedom used to calculate the adjusted
p-value (this should be used if the complete data number of degrees of freedom is small)</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_dispersion">dispersion</code></td>
<td>
<p>The mean of the estimated dispersion parameter</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_pval">pval</code></td>
<td>
<p>The p-value for the test log(treatment.effect)=0 using Rubin's formula</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_adjusted.pval">adjusted.pval</code></td>
<td>
<p>The p-value for the test log(treatment.effect)=0 using Rubin's
formula and the adjusted number of degrees of freedom</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_dropout">dropout</code></td>
<td>
<p>The number of subjects who drop out (per arm) for this imputed data set</p>
</td></tr>
<tr><td><code id="summary.ImputeSimFit.object_+3A_number.subjects">number.subjects</code></td>
<td>
<p>The number of subjects (per arm) for this imputed data set</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>print.summary.ImputeSimFit</code> object has been implemented
</p>

<hr>
<h2 id='summary.Scenario.object'>summary.Scenario object</h2><span id='topic+summary.Scenario.object'></span>

<h3>Description</h3>

<p>This object contains the overall summary statistics for a specific
scenario. It is envisioned that multiple scenarios are run and a set of
<code>summary.Scenario</code> objects are created and these can then be used for
plotting
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.Scenario.object_+3A_treatment.effect">treatment.effect</code></td>
<td>
<p>The exp(mean(log(individual treatment effects))),</p>
</td></tr>
<tr><td><code id="summary.Scenario.object_+3A_se">se</code></td>
<td>
<p>The mean standard error of the (log) treatment effect</p>
</td></tr>
<tr><td><code id="summary.Scenario.object_+3A_power">power</code></td>
<td>
<p>The proportion of simulations for which the p-value is <code>&lt; alpha</code></p>
</td></tr>
<tr><td><code id="summary.Scenario.object_+3A_alpha">alpha</code></td>
<td>
<p>The significance level used when calculating power, by default 0.05 use
<code>summary(object,alpha=x)</code> to use a different p value</p>
</td></tr>
<tr><td><code id="summary.Scenario.object_+3A_use.adjusted.pval">use.adjusted.pval</code></td>
<td>
<p>logical, default FALSE should the p values calculated using
Rubin's formula with the adjusted number of degrees of freedom be used. Use <code>summary(object,use.adjusted.pval=TRUE)</code>,
to use the adjusted p values</p>
</td></tr>
<tr><td><code id="summary.Scenario.object_+3A_description">description</code></td>
<td>
<p>A string containing a description of the scenario</p>
</td></tr>
<tr><td><code id="summary.Scenario.object_+3A_dropout">dropout</code></td>
<td>
<p>A list of summary statistics regarding number of subject dropouts</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>print.summary.Scenario</code> function has been implemented
</p>

<hr>
<h2 id='summary.SingleSim.object'>summary.SingleSim object</h2><span id='topic+summary.SingleSim.object'></span>

<h3>Description</h3>

<p>The object returned when calling the summary function on a <code>SingleSim</code> object
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.SingleSim.object_+3A_status">status</code></td>
<td>
<p>The status of the SingleSim object</p>
</td></tr>
<tr><td><code id="summary.SingleSim.object_+3A_study.time">study.time</code></td>
<td>
<p>The study.time from the SingleSim object</p>
</td></tr>
<tr><td><code id="summary.SingleSim.object_+3A_number.subjects">number.subjects</code></td>
<td>
<p>The number of subjects on each arm</p>
</td></tr>
<tr><td><code id="summary.SingleSim.object_+3A_number.dropouts">number.dropouts</code></td>
<td>
<p>The number of subjects who dropout on each arm</p>
</td></tr>
<tr><td><code id="summary.SingleSim.object_+3A_total.events">total.events</code></td>
<td>
<p>The total number of events for each arm</p>
</td></tr>
<tr><td><code id="summary.SingleSim.object_+3A_time.at.risk">time.at.risk</code></td>
<td>
<p>The total time at risk for each arm</p>
</td></tr>
<tr><td><code id="summary.SingleSim.object_+3A_empirical.rates">empirical.rates</code></td>
<td>
<p>total.events/time.at.risk 
</p>
<p>The <code>print.summary.SingleSim</code> method has been implemented</p>
</td></tr>
</table>

<hr>
<h2 id='summary.SingleSimFit'>summary.SingleSimFit</h2><span id='topic+summary.SingleSimFit'></span>

<h3>Description</h3>

<p>The summary object for a <code>SingleSimFit</code> object
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.SingleSimFit_+3A_model.summary">model.summary</code></td>
<td>
<p>The model summary from the fit</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_treatment.effect">treatment.effect</code></td>
<td>
<p>The estimate of treatment effect from the model fit</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_ci.limit">CI.limit</code></td>
<td>
<p>The confidence interval limit (by default 0.95), call <code>summary(object,CI.limit=x)</code> to use
CI of <code>x</code> instead.</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_ci">CI</code></td>
<td>
<p>The confidence interval of the treatment effect</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_se">se</code></td>
<td>
<p>Estimate for the standard error of (log) treatment effect</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_dispersion">dispersion</code></td>
<td>
<p>Estimate for the dispersion parameter or numeric(0) if Poisson/quasi-Poisson model used</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_rate.estimate">rate.estimate</code></td>
<td>
<p>Estimate of the event rates from the model a vector c(control arm, treatment arm)</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_pval">pval</code></td>
<td>
<p>The p value directly from the model fit (this is for the single model fit only, i.e. not using Rubin's formula)</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_datastatus">datastatus</code></td>
<td>
<p>The status of SingleSim object to which the fit was applied</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_df">df</code></td>
<td>
<p>The number of degrees of freedom of the model</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_dropout">dropout</code></td>
<td>
<p>The number of dropouts of each arm</p>
</td></tr>
<tr><td><code id="summary.SingleSimFit_+3A_number.subjects">number.subjects</code></td>
<td>
<p>The number of subjects in each arm</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>print.summary.SingleSimFit</code> method has been implemented
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SingleSimFit.object">SingleSimFit.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
event.rates=c(0.01,0.005),dispersions=0.25)
fit &lt;- Simfit(sim)
summary(fit)
</code></pre>

<hr>
<h2 id='weighted_j2r'>Create a weighted_j2r <code>ImputeMechanism</code> object</h2><span id='topic+weighted_j2r'></span>

<h3>Description</h3>

<p>Missing counts for a subject in the active treatment arm will be imputed according to a point 
(determined by <code>trt.weight</code>) between the means of the placebo and treatment arms,
conditioned on the number of events. Missing counts for subjects in the 
placebo arm will be imputed according to the mean of the placebo arm, conditioned
on the subject's observed number of events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weighted_j2r(trt.weight, delta = c(1, 1), proper = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weighted_j2r_+3A_trt.weight">trt.weight</code></td>
<td>
<p>See details</p>
</td></tr>
<tr><td><code id="weighted_j2r_+3A_delta">delta</code></td>
<td>
<p>If <code>trt.weight=1</code> then delta is a vector of length 2
(control.delta,treatment.delta) and the mean number of expected events for the imputed missing data is
multiplied by the appropriate delta</p>
</td></tr>
<tr><td><code id="weighted_j2r_+3A_proper">proper</code></td>
<td>
<p>If <code>proper=TRUE</code> then proper imputation is performed, in which each imputation
is created based on parameters values drawn from the (approximate) posterior distribution of the
imputation model. If <code>proper=FALSE</code>, improper imputation is performed. This means all 
imputed datasets are generated conditional on the maximum likelihood estimates of the parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>trt.weight</code> = 0 then imputation using this mechanism will follow 
the jump to reference (j2r) model whereby missing counts for subjects 
in both arms will be imputed according to the mean of the placebo arm 
conditioned on the subject's observed number of events
</p>
<p>If <code>trt.weight</code> = 1 then imputation using this mechanism will follow 
the MAR model whereby missing counts for subjects 
in each arm will be imputed according to the event rate of subjects in its treatment group 
conditioned on the subject's observed number of events
</p>
<p>See the User guide vignette for further details
</p>


<h3>Value</h3>

<p>An <code>ImputeMechanism</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ImputeMechanism.object">ImputeMechanism.object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim &lt;- SimulateComplete(study.time=365,number.subjects=50,
event.rates=c(0.01,0.005),dispersions=0.25)
sim.with.MCAR.dropout &lt;- SimulateDropout(sim,
                     drop.mechanism = ConstantRateDrop(rate = 0.0025))
fit &lt;- Simfit(sim.with.MCAR.dropout)
imps &lt;- Impute(fit, weighted_j2r(trt.weight=0), 10)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

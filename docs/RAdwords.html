<!DOCTYPE html><html lang="en"><head><title>Help for package RAdwords</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RAdwords}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#changeNames'><p>Change Names of Attributes/variables</p></a></li>
<li><a href='#doAuth'><p>Invoke the Authentication Process with Google</p></a></li>
<li><a href='#getAuth'><p>Authentication of R app</p></a></li>
<li><a href='#getData'><p>Get Adwords Data</p></a></li>
<li><a href='#loadToken'><p>Loading the Access Token</p></a></li>
<li><a href='#metrics'><p>Get Metrics/Attributes of specified Report</p></a></li>
<li><a href='#RAdwords'><p>Loading Google Adwords Data into R</p></a></li>
<li><a href='#refreshToken'><p>Refresh Access Token</p></a></li>
<li><a href='#reports'><p>Show available Adwords Reports</p></a></li>
<li><a href='#statement'><p>Build Adwords Query Language Statement</p></a></li>
<li><a href='#transformData'><p>Transform data into R dataframe</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Loading Google Adwords Data into R</td>
</tr>
<tr>
<td>Description:</td>
<td>Aims at loading Google Adwords data into R. Adwords is an online
    advertising service that enables advertisers to display advertising copy to web
    users (see <a href="https://developers.google.com/adwords/">https://developers.google.com/adwords/</a> for more information). 
    Therefore the package implements three main features. First, the package
    provides an authentication process for R with the Google Adwords API (see 
    <a href="https://developers.google.com/adwords/api/">https://developers.google.com/adwords/api/</a> for more information) via OAUTH2.
    Second, the package offers an interface to apply the Adwords query language in
    R and query the Adwords API with ad-hoc reports. Third, the received data are
    transformed into suitable data formats for further data processing and data
    analysis.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.18</td>
</tr>
<tr>
<td>Author:</td>
<td>Johannes Burkhardt &lt;johannes.burkhardt@gmail.com&gt;, Matthias Bannert
    &lt;matthias.bannert@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Johannes Burkhardt &lt;johannes.burkhardt@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>RCurl, rjson</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jburkhardt/RAdwords">https://github.com/jburkhardt/RAdwords</a>,
<a href="https://developers.google.com/adwords">https://developers.google.com/adwords</a>,
<a href="https://developers.google.com/adwords/api/">https://developers.google.com/adwords/api/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jburkhardt/RAdwords/issues">https://github.com/jburkhardt/RAdwords/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-01-28 09:59:14 UTC; jburkhardt</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-01-28 10:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='changeNames'>Change Names of Attributes/variables</h2><span id='topic+changeNames'></span>

<h3>Description</h3>

<p>Converts the default display names into nicer or more practical names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeNames(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="changeNames_+3A_data">data</code></td>
<td>
<p>Transformed dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>New column names of dataframe.
</p>

<hr>
<h2 id='doAuth'>Invoke the Authentication Process with Google</h2><span id='topic+doAuth'></span>

<h3>Description</h3>

<p>This function starts the authentication process with Google. 
Note that this functions needs user interaction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>doAuth(save = T)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="doAuth_+3A_save">save</code></td>
<td>
<p>logical denotes whether authentication information should be saved on disk. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+getAuth">getAuth</a></code>,<code><a href="#topic+loadToken">loadToken</a></code>
</p>

<hr>
<h2 id='getAuth'>Authentication of R app</h2><span id='topic+getAuth'></span>

<h3>Description</h3>

<p>getAuth authenticates the R app at the Google authentication server using OAUTH2 and receives the client token.
Usually you need not to run getAuth() explicitly since the whole authentication process is managed by <code><a href="#topic+doAuth">doAuth</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAuth()
</code></pre>


<h3>Value</h3>

<p>Client token from Google authentication server.
Dataframe with the credential information which is cached in working space 
and optionally saved as RData file in current working directory.
</p>

<hr>
<h2 id='getData'>Get Adwords Data</h2><span id='topic+getData'></span><span id='topic+clientCustomerId'></span><span id='topic+transformation'></span>

<h3>Description</h3>

<p>getData posts the Adwords Query Language (awql) Statement which is generated with <code><a href="#topic+statement">statement</a></code>.
The data are retrieved from the Adwords API as a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getData(clientCustomerId, google_auth, statement, apiVersion = "201809",
  transformation = TRUE, changeNames = TRUE,
  includeZeroImpressions = FALSE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getData_+3A_clientcustomerid">clientCustomerId</code></td>
<td>
<p>Adwords Account Id</p>
</td></tr>
<tr><td><code id="getData_+3A_google_auth">google_auth</code></td>
<td>
<p>list of authentication</p>
</td></tr>
<tr><td><code id="getData_+3A_statement">statement</code></td>
<td>
<p>awql statement generated with <code><a href="#topic+statement">statement</a></code>.</p>
</td></tr>
<tr><td><code id="getData_+3A_apiversion">apiVersion</code></td>
<td>
<p>supports 201809, 201806, 201802 defaults to 201806.</p>
</td></tr>
<tr><td><code id="getData_+3A_transformation">transformation</code></td>
<td>
<p>If TRUE, data will be transformed with <code><a href="#topic+transformData">transformData</a></code> into suitable R dataframe.
Else, the data are returned in raw format.</p>
</td></tr>
<tr><td><code id="getData_+3A_changenames">changeNames</code></td>
<td>
<p>If TRUE, the display names of the transformed data are converted into more nicer/practical names. Requires transformation = TRUE</p>
</td></tr>
<tr><td><code id="getData_+3A_includezeroimpressions">includeZeroImpressions</code></td>
<td>
<p>If TRUE zero impressions will be included. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="getData_+3A_verbose">verbose</code></td>
<td>
<p>Defaults to FALSE. If TRUE, the curl connection output will be printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe with the Adwords Data.
</p>

<hr>
<h2 id='loadToken'>Loading the Access Token</h2><span id='topic+loadToken'></span>

<h3>Description</h3>

<p>loadToken loads the access token using credentials provided by <code><a href="#topic+getAuth">getAuth</a></code>. Execution of function is possible only once per authentication process.
Usually you need not to run loadToken() explicitly since the whole authentication process is managed by <code><a href="#topic+doAuth">doAuth</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadToken(credlist)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loadToken_+3A_credlist">credlist</code></td>
<td>
<p>list of credentials</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Access token with corresponding time stamp.
</p>

<hr>
<h2 id='metrics'>Get Metrics/Attributes of specified Report</h2><span id='topic+metrics'></span>

<h3>Description</h3>

<p>metrics provides an overview of all available metrics/attributes for a specified report type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metrics(report = "ACCOUNT_PERFORMANCE_REPORT", apiVersion = "201809")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="metrics_+3A_report">report</code></td>
<td>
<p>Report type</p>
</td></tr>
<tr><td><code id="metrics_+3A_apiversion">apiVersion</code></td>
<td>
<p>Supports 201809, 201806, 201802. Defaults to 201809.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of available metrics/attributes.
</p>

<hr>
<h2 id='RAdwords'>Loading Google Adwords Data into R</h2><span id='topic+RAdwords'></span>

<h3>Description</h3>

<p>The aim of <strong>RAdwords</strong> is loading Google Adwords data into R. Therefore the
package implements three main features.<br />
First, the package provides an <strong>authentication process</strong> for <strong>R</strong> with the <strong>Adwords API</strong> via OAUTH2.<br />
Second, the package offers an interface to apply the <a href="https://developers.google.com/adwords/api/docs/guides/awql">Adwords query language</a> in R and <strong>query the Adwords API</strong> with <a href="https://developers.google.com/adwords/api/docs/guides/reporting">ad-hoc reports</a>.<br />
Third, the received <strong>data are transformed into suitable data format</strong> for further data processing
and data analysis.
</p>


<h3>Details</h3>

<p><strong>Requirements:</strong><br />
In order to access the Adwords API you have to set up a <a href="https://developers.google.com/console/help/">Google API project</a> for native apps. The Google API project provides a <strong>Client Id</strong> and <strong>Client Secret</strong> which is necessary for the authentication. Moreover you need to have a <a href="https://developers.google.com/adwords/api/docs/signingup">Adwords MCC</a> (My Client Center) with an <strong>Adwords developer token</strong>.<br />
<br />
<strong>Authentication:</strong><br />
<code><a href="#topic+doAuth">doAuth</a></code> manages the complete authentication process. Meaning <code><a href="#topic+doAuth">doAuth</a></code> authenticates the R app for the first time, loads the access token or refreshes the access token if expired. Hence, you only run doAuth() to authenticate whether it is your initial R Session or a later instance.<br />
<br />
What's happening in details?<br />
Once the API projects for native application is set up, <code><a href="#topic+getAuth">getAuth</a></code> is able to authenticate the R app with the credentials (Client Id, Client Secret) from the Google API project. The Google authentication server returns a client token, which later is used by <code><a href="#topic+loadToken">loadToken</a></code> to receive the access token. If the access token is expired after one hour, it can be updated with <code><a href="#topic+refreshToken">refreshToken</a></code>. The access token in combination with the Adwords developer token enables a connection with the Adwords API.<br />
<br />
<strong>Create Statement:</strong><br />
<code><a href="#topic+statement">statement</a></code> creates the Adwords Query Language Statement.<br />
<br />
<strong>Receiving Data:</strong><br />
<code><a href="#topic+getData">getData</a></code> queries the data from the Adwords API and transforms the data into an R dataframe.<br />
</p>


<h3>Author(s)</h3>

<p>Johannes Burkhardt &lt;johannes.burkhardt@gmail.com&gt;<br />
Matthias Bannert &lt;matthias.bannert@gmail.com&gt;<br />
<a href="https://github.com/jburkhardt/RAdwords">https://github.com/jburkhardt/RAdwords</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Authentication:
google_auth &lt;- doAuth()
Create Statement:
body &lt;- statement(select = c('Clicks','AveragePosition','Cost','Ctr'),
                  report = "ACCOUNT_PERFORMANCE_REPORT",
                  start = "2018-01-01",
                  end = "2018-01-10")
Query Adwords API and load data as dataframe:
data &lt;- getData(clientCustomerId = 'xxx-xxx-xxxx', #use Adwords Account Id (MCC Id will not work)
                google_auth = google_auth,
                statement = body)
Get available report types:
reports()
Get available metrics/attributes of specific report type:
metrics(report = 'ACCOUNT_PERFORMANCE_REPORT')

## End(Not run)
</code></pre>

<hr>
<h2 id='refreshToken'>Refresh Access Token</h2><span id='topic+refreshToken'></span>

<h3>Description</h3>

<p>refreshToken returns a new valid access token. The access token deprecates after one hour and has to updated with the refresh token.
Usually you need not to run refreshToken() explicitly since the whole authentication process is managed by <code><a href="#topic+doAuth">doAuth</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refreshToken(google_auth)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="refreshToken_+3A_google_auth">google_auth</code></td>
<td>
<p>list of credentials and access token</p>
</td></tr>
</table>


<h3>Value</h3>

<p>New access token with corresponding time stamp.
</p>

<hr>
<h2 id='reports'>Show available Adwords Reports</h2><span id='topic+reports'></span>

<h3>Description</h3>

<p>reports provides an overview of all available Adwords report types. The report type is specified in <code><a href="#topic+statement">statement</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reports(apiVersion = "201809")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reports_+3A_apiversion">apiVersion</code></td>
<td>
<p>Supports 201809, 201806 and 201802. Defaults to 201809.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Available report types.
</p>

<hr>
<h2 id='statement'>Build Adwords Query Language Statement</h2><span id='topic+statement'></span>

<h3>Description</h3>

<p>Generates and builds the Adwords Query Language Statement for querying the Adwords API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statement(select = c("AccountDescriptiveName", "AccountId", "Impressions",
  "Clicks", "Cost", "Date"), report = "ACCOUNT_PERFORMANCE_REPORT", where,
  start = "2018-01-01", end = "2018-01-10", apiVersion = "201809",
  compress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="statement_+3A_select">select</code></td>
<td>
<p>Attributes</p>
</td></tr>
<tr><td><code id="statement_+3A_report">report</code></td>
<td>
<p>Report type</p>
</td></tr>
<tr><td><code id="statement_+3A_where">where</code></td>
<td>
<p>Condition list, e.g. &quot;CampaignName STARTS_WITH 'A' AND Clicks &gt; 100&quot;,
multiple conditions can be only combined with AND
Operators:  = | != | &gt; | &gt;= | &lt; | &lt;= | IN | NOT_IN | STARTS_WITH | STARTS_WITH_IGNORE_CASE |
CONTAINS | CONTAINS_IGNORE_CASE | DOES_NOT_CONTAIN | DOES_NOT_CONTAIN_IGNORE_CASE</p>
</td></tr>
<tr><td><code id="statement_+3A_start">start</code></td>
<td>
<p>Beginning of date range. Format: 2018-01-01</p>
</td></tr>
<tr><td><code id="statement_+3A_end">end</code></td>
<td>
<p>End of date rage. Format: 2018-01-10</p>
</td></tr>
<tr><td><code id="statement_+3A_apiversion">apiVersion</code></td>
<td>
<p>Adwords API Version, supports 201809, 201806, 201802 defaults to 201809.</p>
</td></tr>
<tr><td><code id="statement_+3A_compress">compress</code></td>
<td>
<p>TRUE / FALSE, Gzipped data download if TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The statement neccessary for the <code><a href="#topic+getData">getData</a></code> function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>body &lt;- statement(select=c('CampaignName','Clicks','Cost','Ctr'),
                  report="CAMPAIGN_PERFORMANCE_REPORT",
                  where="CampaignName STARTS_WITH 'A' AND Clicks &gt; 100",
                  start="2018-01-20",
                  end="2018-01-21")
body &lt;- statement(select=c('Criteria','Clicks','Cost','Ctr'),
                  report="KEYWORDS_PERFORMANCE_REPORT",
                  where="Clicks &gt; 100",
                  start="2018-01-20",
                  end="2018-01-21")    
body &lt;- statement(select=c('Clicks','AveragePosition','Cost','Ctr'),
                  report="ACCOUNT_PERFORMANCE_REPORT",
                  start="2018-01-20",
                  end="2018-01-21") 
</code></pre>

<hr>
<h2 id='transformData'>Transform data into R dataframe</h2><span id='topic+transformData'></span>

<h3>Description</h3>

<p>Transforms the csv data file received from the Adwords API into a dataframe. Moreover the variables are converted into suitable formats.
The function is used inside <code><a href="#topic+getData">getData</a></code> and parameters are set automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transformData(data, report = reportType, apiVersion = "201809")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transformData_+3A_data">data</code></td>
<td>
<p>Raw csv data from Adwords API.</p>
</td></tr>
<tr><td><code id="transformData_+3A_report">report</code></td>
<td>
<p>Report type.</p>
</td></tr>
<tr><td><code id="transformData_+3A_apiversion">apiVersion</code></td>
<td>
<p>set automatically by <code><a href="#topic+getData">getData</a></code>. Supported are 201809, 201806, 201802. Defaults to 201809.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe with the Adwords Data.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

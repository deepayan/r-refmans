<!DOCTYPE html><html><head><title>Help for package document</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {document}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alter_description_file'><p>Alter Contents of a DESCRIPTION File</p></a></li>
<li><a href='#check_package'><p>Run <code>R CMD check</code> on a Package Directory</p></a></li>
<li><a href='#checks'><p>Are There Errors, Warnings or Notes From <code>rcmdcheck</code>?</p></a></li>
<li><a href='#clean_description_file'><p>Make a Default DESCRIPTION File Pass <code>R CMD check</code></p></a></li>
<li><a href='#display_Rd'><p>Display the Contents of an R Documentation File</p></a></li>
<li><a href='#document'><p>Document (Chunks of) an R Code File</p></a></li>
<li><a href='#document-package'><p>Document a Single R Code File</p></a></li>
<li><a href='#fake_package'><p>Fake a Package From a Single Code File</p></a></li>
<li><a href='#get_dpd'><p>A Convenience Wrapper</p></a></li>
<li><a href='#is_Rd_file'><p>Check Whether a File is Probably an R Documentation File</p></a></li>
<li><a href='#man'><p>Display a Help Page From a File's Documentation</p></a></li>
<li><a href='#Rd_txt_RUnit'><p>Clean a String Created From a Run Through <span class="pkg">RUnit</span></p></a></li>
<li><a href='#sort_unlocale'><p>Sort a Character Vector in Lexical Order Avoiding the Locale</p></a></li>
<li><a href='#throw'><p>Throw an Error</p></a></li>
<li><a href='#usage'><p>Return the Usage of a Function From Within the Function</p></a></li>
<li><a href='#warn'><p>Throw a Warning</p></a></li>
<li><a href='#write_the_docs'><p>Write Documentation to Disk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Run 'roxygen2' on (Chunks of) Single Code Files</td>
</tr>
<tr>
<td>Version:</td>
<td>4.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Have you ever been tempted to create 'roxygen2'-style documentation
    comments for one of your functions that was not part of one of your
    packages (yet)?
    This is exactly what this package is about: running 'roxygen2' on
    (chunks of) a single code file.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gitlab.com/fvafrcu/document">https://gitlab.com/fvafrcu/document</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>callr, checkmate, desc, fritools, rcmdcheck, roxygen2,
rstudioapi</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, pkgload, rmarkdown, RUnit, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-14 10:01:30 UTC; qwer</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Dominik Cullmann [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Dominik Cullmann &lt;fvafrcu@mailbox.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-14 10:42:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='alter_description_file'>Alter Contents of a DESCRIPTION File</h2><span id='topic+alter_description_file'></span>

<h3>Description</h3>

<p>Substitutes and/or adds fields in a DESCRIPTION file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alter_description_file(path, substitution = NULL, addition = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alter_description_file_+3A_path">path</code></td>
<td>
<p>Path to the DESCRIPTION file or the directory containing it.</p>
</td></tr>
<tr><td><code id="alter_description_file_+3A_substitution">substitution</code></td>
<td>
<p>A list of named character vector giving the pairs for
substitution.</p>
</td></tr>
<tr><td><code id="alter_description_file_+3A_addition">addition</code></td>
<td>
<p>A list of named character vector giving the pairs for
addition.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>value of <code><a href="base.html#topic+write.dcf">write.dcf</a></code>.
</p>


<h3>Note</h3>

<p>Adding NULL elements (Title = NULL, for example) to substitution
does not delete or overwrite the entry in the DESCRIPTION file. <br />
<em>alter_description_file() is deprecated, please use CRAN package
<span class="pkg">desc</span></em>.
</p>

<hr>
<h2 id='check_package'>Run <code>R CMD check</code> on a Package Directory</h2><span id='topic+check_package'></span>

<h3>Description</h3>

<p>This is a wrapper to <code><a href="rcmdcheck.html#topic+rcmdcheck">rcmdcheck::rcmdcheck</a></code>,
signaling notes, warnings and errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_package(
  package_directory,
  working_directory,
  check_as_cran = TRUE,
  stop_on_check_not_passing = FALSE,
  debug = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_package_+3A_package_directory">package_directory</code></td>
<td>
<p>The directory containing the package's source.</p>
</td></tr>
<tr><td><code id="check_package_+3A_working_directory">working_directory</code></td>
<td>
<p>A working directory. Keep the default.</p>
</td></tr>
<tr><td><code id="check_package_+3A_check_as_cran">check_as_cran</code></td>
<td>
<p>Use the <code>--as-cran</code> flag with
<code>R CMD check</code>?</p>
</td></tr>
<tr><td><code id="check_package_+3A_stop_on_check_not_passing">stop_on_check_not_passing</code></td>
<td>
<p>Stop if <code>R CMD check</code> does not pass?</p>
</td></tr>
<tr><td><code id="check_package_+3A_debug">debug</code></td>
<td>
<p>For internal use only: Summarize errors for <code>travis</code>?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The return value of
<code><a href="rcmdcheck.html#topic+rcmdcheck">rcmdcheck::rcmdcheck</a></code>.
</p>

<hr>
<h2 id='checks'>Are There Errors, Warnings or Notes From <code><a href="rcmdcheck.html#topic+rcmdcheck">rcmdcheck</a></code>?</h2><span id='topic+checks'></span>

<h3>Description</h3>

<p><code><a href="rcmdcheck.html#topic+rcmdcheck">rcmdcheck</a></code> returns a list containing characters that give
errors, warnings and notes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checks(rcmdcheck_value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checks_+3A_rcmdcheck_value">rcmdcheck_value</code></td>
<td>
<p>The return value of <code><a href="rcmdcheck.html#topic+rcmdcheck">rcmdcheck</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>! any(checks(x)))</code> to ensure there were no errors, warnings or
notes in <code>x</code>.
</p>


<h3>Value</h3>

<p>A named logical vector, all <code><a href="base.html#topic+logical">FALSE</a></code> if
there were no errors, warnings or notes.
</p>

<hr>
<h2 id='clean_description_file'>Make a Default DESCRIPTION File Pass <code>R CMD check</code></h2><span id='topic+clean_description_file'></span>

<h3>Description</h3>

<p><code>utils::<a href="utils.html#topic+package.skeleton">package.skeleton</a></code> leaves us with a DESCRIPTION
that throws a warning in <code>R CMD check</code>. Fix that.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_description_file(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_description_file_+3A_path">path</code></td>
<td>
<p>Path to the DESCRIPTION file or the directory containing it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly NULL.
</p>

<hr>
<h2 id='display_Rd'>Display the Contents of an R Documentation File</h2><span id='topic+display_Rd'></span>

<h3>Description</h3>

<p>This is meant for internal use by <code><a href="#topic+man">man</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>display_Rd(rd_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="display_Rd_+3A_rd_file">rd_file</code></td>
<td>
<p>The path to the Rd file to be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The return value of removing the temporary file.
</p>


<h3>Note</h3>

<p>The Contents are converted to text with <code>Rdconv</code> and then saved
to a temporary file which is then displayed using the R pager.
Using <code><a href="base.html#topic+cat">cat</a></code> on the text would not allow for using different
pagers.
</p>

<hr>
<h2 id='document'>Document (Chunks of) an R Code File</h2><span id='topic+document'></span>

<h3>Description</h3>

<p>Document (Chunks of) an R Code File
</p>


<h3>Usage</h3>

<pre><code class='language-R'>document(
  file_name,
  working_directory = NULL,
  output_directory = tempdir(),
  dependencies = NULL,
  sanitize_Rd = TRUE,
  runit = FALSE,
  check_package = TRUE,
  check_as_cran = check_package,
  stop_on_check_not_passing = check_package,
  clean = FALSE,
  debug = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="document_+3A_file_name">file_name</code></td>
<td>
<p>The name of the R code file to be documented.</p>
</td></tr>
<tr><td><code id="document_+3A_working_directory">working_directory</code></td>
<td>
<p>A working directory. Keep the default.</p>
</td></tr>
<tr><td><code id="document_+3A_output_directory">output_directory</code></td>
<td>
<p>The directory to put the documentation into. You
might want to use <code><a href="base.html#topic+dirname">dirname</a>(file_name)</code>.</p>
</td></tr>
<tr><td><code id="document_+3A_dependencies">dependencies</code></td>
<td>
<p>A character vector of package names the functions depend
on.</p>
</td></tr>
<tr><td><code id="document_+3A_sanitize_rd">sanitize_Rd</code></td>
<td>
<p>Remove strange characters from <code>Rdconv</code>?</p>
</td></tr>
<tr><td><code id="document_+3A_runit">runit</code></td>
<td>
<p>Convert the text received from the help files if running
<span class="pkg">RUnit</span>?
Do not bother, this is for Unit testing only.</p>
</td></tr>
<tr><td><code id="document_+3A_check_package">check_package</code></td>
<td>
<p>Run <code>R CMD check</code> the sources? See
<b>Note</b> below.</p>
</td></tr>
<tr><td><code id="document_+3A_check_as_cran">check_as_cran</code></td>
<td>
<p>Use the <code>--as-cran</code> flag with
<code>R CMD check</code>?</p>
</td></tr>
<tr><td><code id="document_+3A_stop_on_check_not_passing">stop_on_check_not_passing</code></td>
<td>
<p>Stop if <code>R CMD check</code> does not pass?</p>
</td></tr>
<tr><td><code id="document_+3A_clean">clean</code></td>
<td>
<p>Delete the working directory?</p>
</td></tr>
<tr><td><code id="document_+3A_debug">debug</code></td>
<td>
<p>For internal use only: Summarize errors for <code>travis</code>?</p>
</td></tr>
<tr><td><code id="document_+3A_...">...</code></td>
<td>
<p>Arguments passed to
<code><a href="fritools.html#topic+get_lines_between_tags">get_lines_between_tags</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing
</p>

<dl>
<dt>pdf_path</dt><dd><p>The path to the pdf file produced,</p>
</dd>
<dt>txt_path</dt><dd><p>The path to the text file produced,</p>
</dd>
<dt>html_path</dt><dd><p>The path to the html file produced,</p>
</dd>
<dt>check_result</dt><dd><p>The return value of
<code><a href="rcmdcheck.html#topic+rcmdcheck">rcmdcheck::rcmdcheck()</a></code></p>
</dd>
</dl>



<h3>Note</h3>

<p>One of the main features of <code>R CMD check</code> is checking for
code/documentation mismatches (it behaves pretty much like
<code>doxygen</code>).
No build system can check whether your documentation is useful, but
<code>R CMD check</code>
checks if it is formally matching your code. This check is the basic
idea behind <span class="pkg">document</span>. The possibility to disable the
<code>R CMD check</code> is
there to disable CPU consuming checks while testing the package. Stick with
the default!
And do not forget to export your functions using the line<br />
#' @export<br />
should you provide examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
res &lt;- document(file_name = system.file("files", "minimal.R",
                                        package = "document"),
                check_package = FALSE) # this is for the sake of CRAN cpu
                # time only. _Always_ stick with the default!

# View R CMD check results. If we had set check_package to TRUE in the above
# example, we now could retrieve the check results via:
cat(res[["check_result"]][["output"]][["stdout"]], sep = "\n")
cat(res[["check_result"]][["output"]][["stderr"]], sep = "\n")

# Copy docmentation to current working directory.
# This writes to your disk, so it's disabled.
# Remove or comment out the next line to enable.
if (FALSE)
    file.copy(res[["pdf_path"]], getwd())

</code></pre>

<hr>
<h2 id='document-package'>Document a Single R Code File</h2><span id='topic+document-package'></span>

<h3>Description</h3>

<p>Have you ever been tempted to create <span class="pkg">roxygen2</span>-style documentation
comments
for one of your functions that was not part of one of your packages (yet)?
This is exactly what this package is about: running
<code><a href="roxygen2.html#topic+roxygenize">roxygen2::roxygenize</a></code> on (chunks of)
a single code file.<br />
This package enables you to
</p>

<ol>
<li><p> create function documentation with <span class="pkg">roxygen2</span>
</p>
</li>
<li><p> detect code/documentation mismatches
</p>
</li>
<li><p> save the documentation to disk
</p>
</li>
<li><p> view the documentation in your interactive R session
</p>
</li></ol>

<p>You will probably be looking for <code><a href="#topic+document">document</a></code> and
<code><a href="#topic+man">man</a></code>, the remaining functions are mainly
for internal use.
</p>


<h3>Details</h3>

<p>R is a programming language that supports and checks documentation for
program libraries (called &lsquo;packages&rsquo;). The package <span class="pkg">roxygen2</span> provides a
tool for creating documentation from annotated source code - much like
<code>doxygen</code>, <code>javadoc</code> and <code>docstrings/pydoc</code> do.
</p>
<p>And R is a free software environment for statistical computing and graphics,
used by people like me who start out hacking down code, eventually pouring
chunks of code into functions (and sometimes even ending up creating and
documenting packages).
Along that work flow you cannot use R's documentation system, let alone
<span class="pkg">roxygen2</span>, unless you have come to forge your code into a package.
</p>
<p>I am fully aware of the fact that <span class="pkg">roxygen2</span> is meant to document
packages, not single code chunks.
So should you. Nevertheless I feel the temptation to use
<span class="pkg">roxygen2</span>-style comments in code chunks that are not part of any
package. And to convert them to pdf for better readability.
</p>


<h3>Warning</h3>

<p>This package writes to disk, so <strong>never</strong> run as superuser.
</p>


<h3>Note</h3>

<p>This package is basically a wrapper to
</p>

<ol>
<li> <p><span class="pkg">roxygen2</span>. It internally creates a temporary package from the
code file provided (using
<code><a href="utils.html#topic+package.skeleton">utils::package.skeleton</a></code>)
which it then passes to
<code><a href="roxygen2.html#topic+roxygenize">roxygen2::roxygenize</a></code>.
</p>
</li>
<li> <p><code>R CMD</code> commands run by <span class="pkg">callr</span>.
</p>
</li></ol>



<h3>See Also</h3>

<p><span class="pkg">docstring</span>
(<a href="https://cran.r-project.org/package=docstring">https://cran.r-project.org/package=docstring</a>) also creates temporary
help pages as well but using a different technical approach (allowing you to
view them in the <code>RStudio</code> help pane). But it creates them from python
style <code>docstring</code>-like comments it then parses into <span class="pkg">roxygen2</span>.
And it does not write to file so far.
</p>

<hr>
<h2 id='fake_package'>Fake a Package From a Single Code File</h2><span id='topic+fake_package'></span>

<h3>Description</h3>

<p>To build documentation for a single code file, we need a temporary package.
Of course the code file should contain <span class="pkg">roxygen2</span> comments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fake_package(file_name, working_directory = NULL, dependencies = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fake_package_+3A_file_name">file_name</code></td>
<td>
<p>The name of the R code file to be documented.</p>
</td></tr>
<tr><td><code id="fake_package_+3A_working_directory">working_directory</code></td>
<td>
<p>A working directory. Keep the default.</p>
</td></tr>
<tr><td><code id="fake_package_+3A_dependencies">dependencies</code></td>
<td>
<p>A character vector of package names the functions depend
on.</p>
</td></tr>
<tr><td><code id="fake_package_+3A_...">...</code></td>
<td>
<p>Arguments passed to
<code><a href="fritools.html#topic+get_lines_between_tags">get_lines_between_tags</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing the path to the faked package.
</p>

<hr>
<h2 id='get_dpd'>A Convenience Wrapper</h2><span id='topic+get_dpd'></span>

<h3>Description</h3>

<p>Just a wrapper to <code><a href="base.html#topic+getOption">getOption</a>("document_package_directory")</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dpd()
</code></pre>


<h3>Value</h3>

<p><code>getOption("document_package_directory")</code>
</p>

<hr>
<h2 id='is_Rd_file'>Check Whether a File is Probably an R Documentation File</h2><span id='topic+is_Rd_file'></span>

<h3>Description</h3>

<p>This is meant for internal use by <code><a href="#topic+man">man</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_Rd_file(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_Rd_file_+3A_x">x</code></td>
<td>
<p>The path to the file to be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the file is probably an R documentation file, FALSE
otherwise.
</p>


<h3>Note</h3>

<p>The check might produce false negatives (erroneously assuming the file
is not an R documentation file).
</p>

<hr>
<h2 id='man'>Display a Help Page From a File's Documentation</h2><span id='topic+man'></span>

<h3>Description</h3>

<p>Display a <code><a href="utils.html#topic+help">help</a></code>-like page from an existing R
documentation (*.Rd) file, a topic from a temporary package with
<code>options("document_package_directory")</code> set or a topic from an R code
file containing <span class="pkg">roxygen2</span> documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>man(x, topic = NA, force_Rd = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="man_+3A_x">x</code></td>
<td>
<p>One of the following:
</p>

<ul>
<li><p> A path to an R documentation (*.Rd) file.
</p>
</li>
<li><p> A path to a  code file containing comments for <span class="pkg">roxygen2</span>.
</p>
</li>
<li><p> A  <code><a href="utils.html#topic+help">help</a></code> topic if
<code>options("document_package_directory")</code> is set (by
<code><a href="#topic+document">document</a></code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="man_+3A_topic">topic</code></td>
<td>
<p>A <code><a href="utils.html#topic+help">help</a></code> topic if <code>x</code> is a path to a code file
containing comments for <span class="pkg">roxygen2</span>.</p>
</td></tr>
<tr><td><code id="man_+3A_force_rd">force_Rd</code></td>
<td>
<p>if <code>x</code> is a file's path, then <code><a href="#topic+is_Rd_file">is_Rd_file</a></code>
is used to decide whether the file is an R documentation file and call
<code><a href="#topic+document">document</a></code> otherwise. Set to TRUE to disable this check and force
the file to be assumed to be an R documentation file.
<code><a href="#topic+is_Rd_file">is_Rd_file</a></code> may produce false negatives.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly the status of <code><a href="#topic+display_Rd">display_Rd</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
document::document(file_name = system.file("files", "minimal.R",
                   package = "document"), check_package = FALSE)
document::man("foo")
# this equivalent to
path &lt;- system.file("files", "minimal.R", package = "document")
document::man(x = path, topic = "foo")

</code></pre>

<hr>
<h2 id='Rd_txt_RUnit'>Clean a String Created From a Run Through <span class="pkg">RUnit</span></h2><span id='topic+Rd_txt_RUnit'></span>

<h3>Description</h3>

<p>Why am I doing this? It want to run <span class="pkg">RUnit</span> tests from within
<code>R CMD check</code>
check and interactively.
Files produced are compared with expected files.
Now <code>R CMD check</code> and interactive (and batch) runs of <span class="pkg">RUnit</span>
give different encodings.
I don't know why, but they do. And this is a rather lousy fix. See the code
for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rd_txt_RUnit(txt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Rd_txt_RUnit_+3A_txt">txt</code></td>
<td>
<p>A character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sanitized character vector.
</p>

<hr>
<h2 id='sort_unlocale'>Sort a Character Vector in Lexical Order Avoiding the Locale</h2><span id='topic+sort_unlocale'></span>

<h3>Description</h3>

<p><code><a href="base.html#topic+sort">sort</a></code> uses the collation of the locale (see
<code><a href="base.html#topic+Comparison">Comparison</a></code>), which results in different sorting. If a
(<span class="pkg">RUnit</span>)
check relies on sorting, we need to avoid the locale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sort_unlocale(char)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sort_unlocale_+3A_char">char</code></td>
<td>
<p>The character vector to sort.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sorted character vector.
</p>

<hr>
<h2 id='throw'>Throw an Error</h2><span id='topic+throw'></span>

<h3>Description</h3>

<p>Throws a condition of class c(&quot;document&quot;, &quot;error&quot;, &quot;condition&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>throw(message_string, system_call = sys.call(-1), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="throw_+3A_message_string">message_string</code></td>
<td>
<p>The message to be thrown.</p>
</td></tr>
<tr><td><code id="throw_+3A_system_call">system_call</code></td>
<td>
<p>The call to be thrown.</p>
</td></tr>
<tr><td><code id="throw_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="base.html#topic+structure">structure</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We use this condition as an error dedicated to <span class="pkg">document</span>.
</p>


<h3>Value</h3>

<p>FALSE. But it does not return anything, it stops with a
condition of class c(&quot;document&quot;, &quot;error&quot;, &quot;condition&quot;).
</p>

<hr>
<h2 id='usage'>Return the Usage of a Function From Within the Function</h2><span id='topic+usage'></span>

<h3>Description</h3>

<p>Get a usage template for a function from within the function. If you
encounter
misguided usage, you can display the template.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>usage(n = -1, usage = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="usage_+3A_n">n</code></td>
<td>
<p>A negative integer giving the number of from to frames/environments
to go back (passed as <code>which</code> to <code><a href="base.html#topic+sys.call">sys.call</a></code>). Set to
<code>-2</code> if you want to encapsulate the call to <code>usage</code> into a function
(like <code><a href="base.html#topic+print">print</a></code> or <code><a href="base.html#topic+assign">assign</a></code>) within the function you
want to obtain the usage for.
Use the <code>&lt;-</code> assignment operator with the default, see <b>examples</b>
below.</p>
</td></tr>
<tr><td><code id="usage_+3A_usage">usage</code></td>
<td>
<p>Give this functions usage (as a usage example ...) and exit?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string giving the Usage as <code><a href="utils.html#topic+help">help</a></code> would do.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># usage with assignment operator:
foo &lt;- function(x) {
    u &lt;- usage()
    message("Usage is: ", u)
}
foo()

# usage without assignment operator:
bar &lt;- function(x) {
    message(usage(n = -2))
}
bar()
</code></pre>

<hr>
<h2 id='warn'>Throw a Warning</h2><span id='topic+warn'></span>

<h3>Description</h3>

<p>Throws a condition of class c(&quot;document&quot;, &quot;warning&quot;, &quot;condition&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>warn(message_string, system_call = sys.call(-1), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="warn_+3A_message_string">message_string</code></td>
<td>
<p>The message to be thrown.</p>
</td></tr>
<tr><td><code id="warn_+3A_system_call">system_call</code></td>
<td>
<p>The call to be thrown.</p>
</td></tr>
<tr><td><code id="warn_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="base.html#topic+structure">structure</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We use this condition as a warning dedicated to <span class="pkg">document</span>.
</p>


<h3>Value</h3>

<p>The condition.
</p>

<hr>
<h2 id='write_the_docs'>Write Documentation to Disk</h2><span id='topic+write_the_docs'></span>

<h3>Description</h3>

<p>Read R documentation files from a package's source, convert and write them
to disk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_the_docs(
  package_directory,
  file_name = package_directory,
  output_directory = tempdir(),
  dependencies = NULL,
  sanitize_Rd = TRUE,
  runit = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_the_docs_+3A_package_directory">package_directory</code></td>
<td>
<p>The directory containing the package's source.</p>
</td></tr>
<tr><td><code id="write_the_docs_+3A_file_name">file_name</code></td>
<td>
<p>The name of the file where to write the documentation into.
See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="write_the_docs_+3A_output_directory">output_directory</code></td>
<td>
<p>The directory to put the documentation into. You
might want to use <code><a href="base.html#topic+dirname">dirname</a>(file_name)</code>.</p>
</td></tr>
<tr><td><code id="write_the_docs_+3A_dependencies">dependencies</code></td>
<td>
<p>A character vector of package names the functions depend
on.</p>
</td></tr>
<tr><td><code id="write_the_docs_+3A_sanitize_rd">sanitize_Rd</code></td>
<td>
<p>Remove strange characters from <code>Rdconv</code>?</p>
</td></tr>
<tr><td><code id="write_the_docs_+3A_runit">runit</code></td>
<td>
<p>Convert the text received from the help files if running
<span class="pkg">RUnit</span>?
Do not bother, this is for Unit testing only.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>file_name</code> will usually be provided by <code><a href="#topic+document">document</a></code> as the
R code file's name. This may, differing from a (temporary) package's name,
contain underscores. If you use the functions directly: stick with the
default, in which case internally
the  <code><a href="base.html#topic+basename">basename</a></code> of your <code>package_directory</code> will be
used. This should be a good guess.
</p>


<h3>Value</h3>

<p>A list containing
</p>

<dl>
<dt>pdf_path</dt><dd><p>The path to the pdf file produced.</p>
</dd>
<dt>txt_path</dt><dd><p>The path to the text file produced.</p>
</dd>
<dt>html_path</dt><dd><p>The path to the html file produced.</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

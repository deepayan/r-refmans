<!DOCTYPE html><html><head><title>Help for package SunsVoc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SunsVoc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#char_to_df'><p>Convert From Hbase Char String to Dataframe</p></a></li>
<li><a href='#df_wbw'><p>1 Year of raw outdoor IV curve data.</p></a></li>
<li><a href='#df2chr'><p>Convert From Dataframe to Hbase Char String</p></a></li>
<li><a href='#isc.1sun'><p>Obtain 1-sun Isc Value</p></a></li>
<li><a href='#IVXbyX'><p>Create x-by-x Psuedo-IV Curves</p></a></li>
<li><a href='#median_temp'><p>Calculate Median Temperature</p></a></li>
<li><a href='#p_iv.week'><p>Obtain Psuedo IV Curve and other predicted IV features at reference conditions for</p>
a given week, used internally in IVxbyx function.</a></li>
<li><a href='#power_loss_phys'><p>Physical Model Power Loss Modes of Single period</p></a></li>
<li><a href='#power_loss_phys_bat'><p>Physical Model Power Loss Modes</p></a></li>
<li><a href='#read_df_raw'><p>Read in Raw Data from Dataframe</p></a></li>
<li><a href='#select_init_df'><p>Generate Initial Dataframe for power_loss_bat</p></a></li>
<li><a href='#voc.corr'><p>Correct Voc to certain reference conditions, used internally in piv_iv_week function.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Constructing Suns-Voc from Outdoor Time-Series I-V Curves</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tyler J. Burleyson &lt;tjb152@case.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Suns-Voc (or Isc-Voc) curves can provide the current-voltage (I-V) characteristics of the
    diode of photovoltaic cells without the effect of series resistance.
    Here, Suns-Voc curves can be constructed with outdoor time-series I-V
    curves [1,2,3] of full-size photovoltaic (PV) modules instead of having to be measured in the lab.
    Time series of four different power loss modes can be calculated based on obtained Isc-Voc curves.
    This material is based upon work supported by the U.S. Department of
    Energy's Office of Energy Efficiency and Renewable Energy (EERE) under
    Solar Energy Technologies Office (SETO) Agreement Number DE-EE0008172. 
    Jennifer L. Braid is supported by the U.S. Department of Energy (DOE) Office of 
    Energy Efficiency and Renewable Energy administered by the Oak Ridge 
    Institute for Science and Education (ORISE) for the DOE. 
    ORISE is managed by Oak Ridge Associated Universities (ORAU) under DOE
    contract number DE-SC0014664. 
    [1] Wang, M. et al, 2018. 
    &lt;<a href="https://doi.org/10.1109%2FPVSC.2018.8547772">doi:10.1109/PVSC.2018.8547772</a>&gt;. 
    [2] Walters et al, 2018
    &lt;<a href="https://doi.org/10.1109%2FPVSC.2018.8548187">doi:10.1109/PVSC.2018.8548187</a>&gt;. 
    [3] Guo, S. et al, 2016. 
    &lt;<a href="https://doi.org/10.1117%2F12.2236939">doi:10.1117/12.2236939</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ddiv, magrittr, stringr, dplyr, purrr, data.table, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), knitr, rmarkdown, ggplot2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-29 15:48:04 UTC; tylerb</td>
</tr>
<tr>
<td>Author:</td>
<td>Menghong Wang <a href="https://orcid.org/0000-0001-7349-699X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Tyler J. Burleyson
    <a href="https://orcid.org/0000-0002-6356-5354"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Jiqi Liu <a href="https://orcid.org/0000-0003-2016-4160"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Alan J. Curran <a href="https://orcid.org/0000-0002-4505-8359"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Abdulkerim Gok <a href="https://orcid.org/0000-0003-3433-7106"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, ctb],
  Eric J. Schneller <a href="https://orcid.org/0000-0002-2104-0066"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Kristopher O. Davis
    <a href="https://orcid.org/0000-0002-5772-6254"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jennifer L. Braid <a href="https://orcid.org/0000-0002-0677-7756"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Roger H. French <a href="https://orcid.org/0000-0002-6162-0532"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-30 09:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='char_to_df'>Convert From Hbase Char String to Dataframe</h2><span id='topic+char_to_df'></span>

<h3>Description</h3>

<p>This function parses the I-V curve string and creates
an additional dataframe with current and voltage columns from it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>char_to_df(str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="char_to_df_+3A_str">str</code></td>
<td>
<p>The character string to be converted to a Dataframe.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe containing IV curve data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>char_to_df(df_wbw$ivdf[1])

</code></pre>

<hr>
<h2 id='df_wbw'>1 Year of raw outdoor IV curve data.</h2><span id='topic+df_wbw'></span>

<h3>Description</h3>

<p>This dataframe contains 1 year of anonymous raw outdoor time-series IV curve data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_wbw
</code></pre>


<h3>Format</h3>

<p>Dataframe with 4140 objects in 10 variables:
</p>

<dl>
<dt>tmst</dt><dd><p>A local PosixCT Timestamp</p>
</dd>
<dt>ivdf</dt><dd><p>IV Dataframe</p>
</dd>
<dt>modt</dt><dd><p>Module Temperature</p>
</dd>
<dt>poa</dt><dd><p>Plane of array (POA) irradiance</p>
</dd>
<dt>isc</dt><dd><p>Extracted Short Circuit Current by ddiv</p>
</dd>
<dt>voc</dt><dd><p>Extracted Open Current Voltage by ddiv</p>
</dd>
<dt>rs</dt><dd><p>Extracted Rs (series resistance) by ddiv</p>
</dd>
<dt>pmp</dt><dd><p>Extracted Maximum Power by ddiv</p>
</dd>
<dt>imp</dt><dd><p>Extracted Current at Maximum Power Point</p>
</dd>
<dt>vmp</dt><dd><p>Extracted Voltage at Maximum Power Point</p>
</dd>
</dl>


<hr>
<h2 id='df2chr'>Convert From Dataframe to Hbase Char String</h2><span id='topic+df2chr'></span>

<h3>Description</h3>

<p>The companion function to this one, <code><a href="#topic+char_to_df">char_to_df</a></code>,
parses this string and creates an additional dataframe from it.
This function works the other way, converting that dataframe back to a character
string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df2chr(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="df2chr_+3A_df">df</code></td>
<td>
<p>The dataframe, typically named &quot;ivdf&quot;, to be converted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character string representing an IV curve.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df2chr(char_to_df(df_wbw$ivdf[1]))

</code></pre>

<hr>
<h2 id='isc.1sun'>Obtain 1-sun Isc Value</h2><span id='topic+isc.1sun'></span>

<h3>Description</h3>

<p>This function is used internally by IVxbyx and others for the
calculation of 1-sun Isc values based on Isc and Irradiance measurements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isc.1sun(isc, Irrad)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isc.1sun_+3A_isc">isc</code></td>
<td>
<p>Isc values</p>
</td></tr>
<tr><td><code id="isc.1sun_+3A_irrad">Irrad</code></td>
<td>
<p>Irradiance values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a calculated Isc value at 1-sun Irradiance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>isc_1sun &lt;- isc.1sun(df_wbw$isc, df_wbw$poa)

</code></pre>

<hr>
<h2 id='IVXbyX'>Create x-by-x Psuedo-IV Curves</h2><span id='topic+IVXbyX'></span>

<h3>Description</h3>

<p>This function moves through IV curve data x-by-x,
generating psuedo IV curves and binding them together into the output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IVXbyX(df, corr_temp = "median", N_c)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IVXbyX_+3A_df">df</code></td>
<td>
<p>Dataframe containing IV data. Typically, a raw dataframe after
filtering by current accuracy based on plot of irradiance vs. temperature.
Within this package environment, use
<code><a href="#topic+read_df_raw">read_df_raw</a></code> to filter the dataset and generate period index.</p>
</td></tr>
<tr><td><code id="IVXbyX_+3A_corr_temp">corr_temp</code></td>
<td>
<p>The temperature for all I-V features to standardize to.
Pass the string &quot;median&quot; in order for the function to automatically
calculate the median module temperature at 1 sun irradiance and use it,
or input a number directly, the temperature unit should be Celsius.</p>
</td></tr>
<tr><td><code id="IVXbyX_+3A_n_c">N_c</code></td>
<td>
<p>Number of cells in series; the total number of cells in the system.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Psuedo-IV Curve data with features extracted and evaluation parameters
of fitting grouped by time periods of set length.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- read_df_raw(df_wbw,0.02,7)
df_full &lt;- IVXbyX(df, corr_temp = "median", 60)


</code></pre>

<hr>
<h2 id='median_temp'>Calculate Median Temperature</h2><span id='topic+median_temp'></span>

<h3>Description</h3>

<p>This function calculates the median module temperature throughout the data
to be used in corrections.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>median_temp(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="median_temp_+3A_df">df</code></td>
<td>
<p>Dataframe containing timeseries irradiance (column name must be poa)
and module temperature (column name must be modt) in unit of Celsius.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an integer value of median reported module temperature of the data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>T_corr &lt;- median_temp(df_wbw)

</code></pre>

<hr>
<h2 id='p_iv.week'>Obtain Psuedo IV Curve and other predicted IV features at reference conditions for
a given week, used internally in IVxbyx function.</h2><span id='topic+p_iv.week'></span>

<h3>Description</h3>

<p>Obtain Psuedo IV Curve and other predicted IV features at reference conditions for
a given week, used internally in IVxbyx function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>p_iv.week(df, temp, N_c, isc_1sun = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="p_iv.week_+3A_df">df</code></td>
<td>
<p>A dataframe containing timeseries I-V features of one period.</p>
</td></tr>
<tr><td><code id="p_iv.week_+3A_temp">temp</code></td>
<td>
<p>The reference module temperature to correct the Psuedo IV curve to be,
unit of the temperature should be Celsius.</p>
</td></tr>
<tr><td><code id="p_iv.week_+3A_n_c">N_c</code></td>
<td>
<p>Number of cells in series. Equal to the total number of cells in the system.</p>
</td></tr>
<tr><td><code id="p_iv.week_+3A_isc_1sun">isc_1sun</code></td>
<td>
<p>(optional) Input an Isc 1-Sun value manually. Leave NULL to have one generated
from the dataframe.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Psuedo-IV Curve data with features extracted and evaluation parameters
of fitting grouped for a single, given period.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- read_df_raw(df_wbw,0.02,7)
df_slice &lt;- dplyr::filter(df, df$n_period == 1)
# Check that this has enough data! needs more than 10 rows to be meaningful
nrow(df_slice)
# needs median temperature
temp &lt;- median_temp(df_wbw)
res &lt;- p_iv.week(df_slice, temp = temp, N_c = 60)


</code></pre>

<hr>
<h2 id='power_loss_phys'>Physical Model Power Loss Modes of Single period</h2><span id='topic+power_loss_phys'></span>

<h3>Description</h3>

<p>This function decouples power loss to different loss modes, specifically current mismatch,
recombination, uniform current loss, and Rs loss, from the changes in IV features
for a given period, used internally for power_loss_phys_bat function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>power_loss_phys(init_piv, init_isc1sun, init_prs, degr_row)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="power_loss_phys_+3A_init_piv">init_piv</code></td>
<td>
<p>Dataframe containing current andvolatge psuedo-IV curves of initial
period, calculated from the the result of p_iv.week function applied to timeseries
dataframe of initial period.</p>
</td></tr>
<tr><td><code id="power_loss_phys_+3A_init_isc1sun">init_isc1sun</code></td>
<td>
<p>1 sun isc generated from the p_iv.week output from the initial
period dataframe.</p>
</td></tr>
<tr><td><code id="power_loss_phys_+3A_init_prs">init_prs</code></td>
<td>
<p>extracted rs from the psuedo-IV curve of the initial period.</p>
</td></tr>
<tr><td><code id="power_loss_phys_+3A_degr_row">degr_row</code></td>
<td>
<p>one row of output from IVXbyX function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe containing information about power loss due to various power
loss modes for one given period
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- read_df_raw(df_wbw,0.02,7)
df_init &lt;- select_init_df(df, days = 21)
init &lt;- p_iv.week(df_init, temp = 30, N_c = 60)
init_piv &lt;- data.frame(V = init$voc_corr, I = init$isc_1sun - init$isc)
init_piv &lt;- dplyr::arrange(init_piv, .data$V)
init_pivf &lt;- ddiv::IVfeature(I = init_piv$I, V = init_piv$V, crtvalb = 0.06)
init_prs &lt;- init_pivf$Rs
init_isc1sun &lt;- init$isc_1sun
df_full &lt;- IVXbyX(df, corr_temp = 30, 60)
power_loss_phys(init_piv,init_isc1sun, init_prs,df_full[1,])


</code></pre>

<hr>
<h2 id='power_loss_phys_bat'>Physical Model Power Loss Modes</h2><span id='topic+power_loss_phys_bat'></span>

<h3>Description</h3>

<p>This function decouples power loss to different loss modes, specifically current mismatch,
recombination, uniform current loss, and Rs loss, from the changes in IV features.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>power_loss_phys_bat(df_iv, init_df, corr_T = 40, N_c, ddiv_param = 0.06)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="power_loss_phys_bat_+3A_df_iv">df_iv</code></td>
<td>
<p>Dataframe containing psuedo-IV curves. Generate with <code><a href="#topic+IVXbyX">IVXbyX</a></code>.</p>
</td></tr>
<tr><td><code id="power_loss_phys_bat_+3A_init_df">init_df</code></td>
<td>
<p>Dataframe containing first several weeks of real-world IV data.
Generate with <code><a href="#topic+select_init_df">select_init_df</a></code></p>
</td></tr>
<tr><td><code id="power_loss_phys_bat_+3A_corr_t">corr_T</code></td>
<td>
<p>The temperature from which to create the correction
factor. Pass only numeric values.</p>
</td></tr>
<tr><td><code id="power_loss_phys_bat_+3A_n_c">N_c</code></td>
<td>
<p>Number of cells in series; The total number of cells in the system.</p>
</td></tr>
<tr><td><code id="power_loss_phys_bat_+3A_ddiv_param">ddiv_param</code></td>
<td>
<p>Parameter passed to ddiv::IVfeature for 'crtvalb'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe containing information about power loss due to various power loss modes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- read_df_raw(df_wbw,0.02,7)
df_init &lt;- select_init_df(df, days = 21)
df_full &lt;- IVXbyX(df, corr_temp = 30, 60)
res &lt;- power_loss_phys_bat(df_full, df_init, corr_T = 30, N_c = 60)

</code></pre>

<hr>
<h2 id='read_df_raw'>Read in Raw Data from Dataframe</h2><span id='topic+read_df_raw'></span>

<h3>Description</h3>

<p>Given an imported datafram of Hbase-Formatted IV curve data,
this function reads in the data, filters missing temperature data,
and checks for a nonzero maximum power point, in case of power loss.
It resets the timestamps based on the minimum timestamp, and filters
Isc values for the tracer's accuracy.
Finally, a n_period counter is added to the dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_df_raw(df, tracer_accuracy, t_period)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_df_raw_+3A_df">df</code></td>
<td>
<p>dataframe; the IV curve data to be filtered</p>
</td></tr>
<tr><td><code id="read_df_raw_+3A_tracer_accuracy">tracer_accuracy</code></td>
<td>
<p>The accuracy of the IV tracer used. See the device's manual
to find the exact value at which Isc readings are no longer accurate.</p>
</td></tr>
<tr><td><code id="read_df_raw_+3A_t_period">t_period</code></td>
<td>
<p>Data period for the Psuedo-IV curves. Addded as a column to the dataframe
based on the timestamp. Use units of days, i.e. daily periods should have t_period 1,
weekly periods should have t_period 7, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>df_raw, a dataframe containing the raw IV curve data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df_test &lt;- read_df_raw(df_wbw, 1, 7) # Weekly periods
df_test &lt;- read_df_raw(df_wbw, 1, 1) # Daily periods

</code></pre>

<hr>
<h2 id='select_init_df'>Generate Initial Dataframe for power_loss_bat</h2><span id='topic+select_init_df'></span>

<h3>Description</h3>

<p>The power_loss_bat function makes use of a dataframe containing
the first several days of psuedo-IV curves. This function creates
that dataframe for the user from the raw dataframe containing IV Curve
measurement data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_init_df(df_raw, days = 21)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_init_df_+3A_df_raw">df_raw</code></td>
<td>
<p>The raw dataframe containing request input columns the same as
the example df_wbw dataset and the column of day, which starts from 1 and column
of n_period, which is the index of the period, decided by how many days to be
grouped as one period, the column of day and n_period can be generated from the
function read_df_raw</p>
</td></tr>
<tr><td><code id="select_init_df_+3A_days">days</code></td>
<td>
<p>The number of initial days to subsample. Default: 21</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Subset of input dataframe within the first several days decided by the
input parameter &quot;days&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- read_df_raw(df_wbw, 1, 7)
df_init &lt;- select_init_df(df, days = 21)

</code></pre>

<hr>
<h2 id='voc.corr'>Correct Voc to certain reference conditions, used internally in piv_iv_week function.</h2><span id='topic+voc.corr'></span>

<h3>Description</h3>

<p>This method uses a physical model to correct Voc to certain reference conditions.
Since indoor Suns-Voc is conducted at a steady 25C,
a correction on the outdoor readings is necessary for meaningful
comparison.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>voc.corr(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="voc.corr_+3A_df">df</code></td>
<td>
<p>A dataframe time series data with columns of voc, lnSun and modt, the
dataframe is converted from the request input dataframe like df_wbw by the piv_iv_week
function before using voc_corr function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a list object of Voc model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- read_df_raw(df_wbw,0.02,7)
# subset data to first period
df_slice &lt;- dplyr::filter(df, df$n_period == 1)
N_c &lt;- 60 # true of the example data. N_c is the number of cells in series

df_slice &lt;- dplyr::mutate(df_slice, T_K = .data$modt + 273.15,
lnSun = 1.38e-23/1.6e-19 * N_c * .data$T_K * log(.data$isc),
isc2 = .data$isc^2,
T_lnIsc2 = .data$T_K * .data$lnSun * log(.data$isc),
rs = as.numeric(.data$rs),
expVoc = exp(-.data$voc/.data$T_K) / .data$isc,
I0 = (N_c * 1.38e-23 * .data$T_K) / (1.6e-19 * .data$isc))
voc_mod &lt;- voc.corr(df_slice)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

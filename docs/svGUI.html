<!DOCTYPE html><html><head><title>Help for package svGUI</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {svGUI}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dont_ask'><p>Can we interrupt R to ask something to the user though the GUI?</p></a></li>
<li><a href='#gui'><p>A GUI object.</p></a></li>
<li><a href='#gui_add'><p>Creation and management of GUI objects.</p></a></li>
<li><a href='#setUI'><p>Set a property in the UI (User Interface), or start an action.</p></a></li>
<li><a href='#svGUI-package'><p>svGUI: SciViews - Manage GUIs in R</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-04-16</td>
</tr>
<tr>
<td>Title:</td>
<td>SciViews - Manage GUIs in R</td>
</tr>
<tr>
<td>Description:</td>
<td>The 'SciViews' 'svGUI' package eases the management of Graphical
  User Interfaces (GUI) in R. It is independent from any particular GUI widgets
  ('Tk', 'Gtk2', native, ...). It centralizes info about GUI elements currently
  used, and it dispatches GUI calls to the particular toolkits in use in
  function of the context (is R run at the terminal, within a 'Tk' application,
  a HTML page?).</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philippe Grosjean &lt;phgrosjean@sciviews.org&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.6.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, markdown, testthat, spelling</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/SciViews/svGUI">https://github.com/SciViews/svGUI</a>, <a href="https://www.sciviews.org/svGUI/">https://www.sciviews.org/svGUI/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/SciViews/svGUI/issues">https://github.com/SciViews/svGUI/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-16 15:40:25 UTC; phgrosjean</td>
</tr>
<tr>
<td>Author:</td>
<td>Philippe Grosjean <a href="https://orcid.org/0000-0002-2694-9471"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-16 18:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dont_ask'>Can we interrupt R to ask something to the user though the GUI?</h2><span id='topic+dont_ask'></span><span id='topic+dontAsk'></span>

<h3>Description</h3>

<p>Determine if R code execution can be interrupted by the GUI, e.g., using a
modal dialog box. It depends both on R being in <code>interactive()</code> mode and the
<code>ask</code> flag of the GUI being set to <code>TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dont_ask(gui = .GUI)

dontAsk(gui = .GUI)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dont_ask_+3A_gui">gui</code></td>
<td>
<p>A <code>gui</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>dontAsk</code> and <code>dont_ask</code> are aliases.
</p>


<h3>Value</h3>

<p><code>TRUE</code> if the GUI cannot interrupt R. The function triggering the
dialog box should then not be displayed and it should return the default
value as the result. The function returns <code>TRUE</code> if R is run in a non
interactive session, or if <code>ask</code> is set to <code>FALSE</code> for the GUI, or if it is
not specified (<code>ask</code> is <code>NULL</code>) then <code>getOptions("gui.ask")</code> is used.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gui_ask">gui_ask()</a></code>, <a href="#topic+gui">gui</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># What is the current state for the default GUI?
dont_ask()
</code></pre>

<hr>
<h2 id='gui'>A GUI object.</h2><span id='topic+gui'></span><span id='topic++24.gui'></span><span id='topic+print.gui'></span><span id='topic+is.gui'></span>

<h3>Description</h3>

<p>The <code>gui</code> object contains and manages GUI-related data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gui'
gui$x

## S3 method for class 'gui'
print(x, ...)

is.gui(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gui_+3A_gui">gui</code></td>
<td>
<p>A <code>gui</code> object..</p>
</td></tr>
<tr><td><code id="gui_+3A_x">x</code></td>
<td>
<p>An object or a function for <code>$</code>.</p>
</td></tr>
<tr><td><code id="gui_+3A_...">...</code></td>
<td>
<p>Further arguments (not used yet).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+gui_add">gui_add()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a GUI
gui_add("myGUI")
is.gui(myGUI)
myGUI
# Put an object in the GUI environment (fake button)
myGUI$button &lt;- "my_button"
# Retrieve it
myGUI$button
# Get the curent status of the GUI
myGUI$status
# Eliminate this GUI and all its objects
gui_remove("myGUI")
</code></pre>

<hr>
<h2 id='gui_add'>Creation and management of GUI objects.</h2><span id='topic+gui_add'></span><span id='topic+guiAdd'></span><span id='topic+gui_change'></span><span id='topic+guiChange'></span><span id='topic+gui_remove'></span><span id='topic+guiRemove'></span><span id='topic+gui_list'></span><span id='topic+guiList'></span><span id='topic+gui_widgets'></span><span id='topic+guiWidgets'></span><span id='topic+gui_widgets+3C-'></span><span id='topic+guiWidgets+3C-'></span><span id='topic+gui_ask'></span><span id='topic+guiAsk'></span><span id='topic+gui_ask+3C-'></span><span id='topic+guiAsk+3C-'></span>

<h3>Description</h3>

<p>Create and manipulate <code>gui</code> objects to manage 'SciViews'-compatible GUIs
(Graphical User Interfaces).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gui_add(gui.name = ".GUI", widgets = c("nativeGUI", "textCLI"), ask)

guiAdd(gui.name = ".GUI", widgets = c("nativeGUI", "textCLI"), ask)

gui_change(
  gui.name = ".GUI",
  widgets = c("nativeGUI", "textCLI"),
  reset = FALSE,
  ask
)

guiChange(
  gui.name = ".GUI",
  widgets = c("nativeGUI", "textCLI"),
  reset = FALSE,
  ask
)

gui_remove(gui.name)

guiRemove(gui.name)

gui_list()

guiList()

gui_widgets(gui, gui.name = ".GUI")

guiWidgets(gui, gui.name = ".GUI")

gui_widgets(x, reset = FALSE) &lt;- value

guiWidgets(x, reset = FALSE) &lt;- value

gui_ask(gui.or.name, ask)

guiAsk(gui.or.name, ask)

gui_ask(x) &lt;- value

guiAsk(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gui_add_+3A_gui.name">gui.name</code></td>
<td>
<p>The name of the GUI. It is also the name of the object stored
in <code>SciViews:TempEnv</code> where you can access it.</p>
</td></tr>
<tr><td><code id="gui_add_+3A_widgets">widgets</code></td>
<td>
<p>The list of widgets that GUI uses, listed in a priority order.</p>
</td></tr>
<tr><td><code id="gui_add_+3A_ask">ask</code></td>
<td>
<p>Logical indicating if modal dialog boxes should be display
(<code>ask = TRUE</code>), or if those dialog boxes are by-passed, using default values
to simulate script running in non interactive mode, or to test scripts
without interruption, using only provided default values (useful for
automated tests).</p>
</td></tr>
<tr><td><code id="gui_add_+3A_reset">reset</code></td>
<td>
<p>Should the GUI's main parameters (widgets, ask) be reset to
default values?</p>
</td></tr>
<tr><td><code id="gui_add_+3A_gui">gui</code></td>
<td>
<p>A <code>gui</code> object. If provided, it supersedes any value provided in
<code>gui.name</code>.</p>
</td></tr>
<tr><td><code id="gui_add_+3A_x">x</code></td>
<td>
<p>A <code>gui</code> object.</p>
</td></tr>
<tr><td><code id="gui_add_+3A_value">value</code></td>
<td>
<p>The list of widgets to add to this GUI, in priority order, or
should we change ask to <code>TRUE</code>, <code>FALSE</code> or <code>NULL</code> (then, use the default
value stored in <code>getOption("gui.ask")</code>).</p>
</td></tr>
<tr><td><code id="gui_add_+3A_gui.or.name">gui.or.name</code></td>
<td>
<p>A <code>gui</code> object or its name.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+gui">gui</a>, <code><a href="#topic+setUI">setUI()</a></code>, <code><a href="#topic+dont_ask">dont_ask()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A 'gui' object named .GUI is automatically created in 'SciViews:TempEnv'
gui_list()

# Create a new GUI object to manage a separate GUI in the same R session
gui_add("myGUI")
gui_list()

# Change general properties of this GUI
gui_ask(myGUI) &lt;- FALSE
# Add widgets to this GUI (you must provide methods for them)
# see the svDialogs package for examples
gui_widgets(myGUI) &lt;- "tcltkWidgets"
gui_widgets(myGUI) # Added to existing ones if reset is FALSE

# Remove this new GUI
gui_remove("myGUI")
</code></pre>

<hr>
<h2 id='setUI'>Set a property in the UI (User Interface), or start an action.</h2><span id='topic+setUI'></span><span id='topic+setUI.gui'></span><span id='topic+startUI'></span><span id='topic+startUI.gui'></span>

<h3>Description</h3>

<p>Using <code>setUI()</code> is the preferred way to set a property in a <code>gui</code> object.
Similarly, <code>startUI()</code> should be used to indicate that an UI action requiring
user input is initiated (say, a modal input or file selection dialog box).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setUI(..., gui = .GUI)

## S3 method for class 'gui'
setUI(fun, call, args, res, widgets, status, msg = NULL, ..., gui = .GUI)

startUI(..., gui = .GUI)

## S3 method for class 'gui'
startUI(
  fun,
  call,
  default,
  widgets = NULL,
  status = "busy-modal",
  msg = "Displaying a modal dialog box",
  msg.no.ask = "A modal dialog box was by-passed",
  ...,
  gui = .GUI
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setUI_+3A_...">...</code></td>
<td>
<p>Any other property of the GUI, provided as named arguments.</p>
</td></tr>
<tr><td><code id="setUI_+3A_gui">gui</code></td>
<td>
<p>A <code>gui</code> object.</p>
</td></tr>
<tr><td><code id="setUI_+3A_fun">fun</code></td>
<td>
<p>The name of the calling function. Only required if <code>call</code> is
provided.</p>
</td></tr>
<tr><td><code id="setUI_+3A_call">call</code></td>
<td>
<p>The call in the generic as obtained by <code>match.call()</code>.</p>
</td></tr>
<tr><td><code id="setUI_+3A_args">args</code></td>
<td>
<p>A list with checked and/or reworked arguments for a method. The
generic can do this work, so that code does not need to be duplicated in
all its methods.</p>
</td></tr>
<tr><td><code id="setUI_+3A_res">res</code></td>
<td>
<p>Any data returned by the GUI (the results).</p>
</td></tr>
<tr><td><code id="setUI_+3A_widgets">widgets</code></td>
<td>
<p>The class name of the current widgets implementation.</p>
</td></tr>
<tr><td><code id="setUI_+3A_status">status</code></td>
<td>
<p>Description of the current GUI status. Could be &quot;ok&quot;, &quot;busy&quot;,
&quot;busy-modal&quot; (a modal dialog box is currently displayed), &quot;by-passed&quot; (the
GUI was by-passed because <code>dont_ask()</code> returns <code>TRUE</code>), &quot;error&quot;,
or any other status indicator suitable for the current state of your GUI.</p>
</td></tr>
<tr><td><code id="setUI_+3A_msg">msg</code></td>
<td>
<p>The message that explains the status. Cannot be provided without
status.</p>
</td></tr>
<tr><td><code id="setUI_+3A_default">default</code></td>
<td>
<p>The default value to return if the UI is by-passed because in
non interactive mode, or ask is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="setUI_+3A_msg.no.ask">msg.no.ask</code></td>
<td>
<p>The message that explains the status in case the UI is
by-passed.</p>
</td></tr>
</table>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>gui</code>: Set an UI property for a <code>gui</code> object.
</p>
</li>
<li> <p><code>gui</code>: Start an UI for a <code>gui</code> object.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+gui_add">gui_add()</a></code>, <code><a href="#topic++24.gui">$.gui()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Imagine you implement a new input box
# In your function, you have this code:
myInput &lt;- function(default = "an answer", gui = .GUI) {

  # Start a GUI action... or by-pass it!
  if (gui$startUI("myInput", call = match.call(), default = default,
    msg = "Displaying an input dialog box",
    msg.no.ask = "An input dialog box was by-passed")) {

    # Here the input dialog box is displayed and R waits for user feedback
    # ... [your code here]
    res &lt;- "some results" # Imagine this is the text typed in the box

    # When the input dialog box is closed, the function should do:
    setUI(res = res, status = NULL)
  }
  invisible(gui)
}
</code></pre>

<hr>
<h2 id='svGUI-package'>svGUI: SciViews - Manage GUIs in R</h2><span id='topic+svGUI'></span><span id='topic+svGUI-package'></span>

<h3>Description</h3>

<p>The 'SciViews' 'svGUI' package eases the management of Graphical
User Interfaces (GUI) in R. It is independent from any particular GUI widgets
('Tk', 'Gtk2', native, ...). It centralizes info about GUI elements currently
used, and it dispatches GUI calls to the particular toolkits in use in
function of the context (is R run at the terminal, within a 'Tk' application,
a HTML page?).
</p>


<h3>Details</h3>

<p>The 'SciViews' 'svGUI' package eases the management of Graphical User
Interfaces (GUI) in R. It is independent from any particular GUI widgets
('Tk', 'Gtk2', native, ...). It centralizes info about GUI elements currently
used, and it dispatches GUI calls to the particular toolkits in use in
function of the context (is R run at the terminal, within a 'Tk' application,
a HTML page?).
</p>
<p>The <code>gui</code> object defines a succession of GUI (or non-GUI) <code>widgets</code> to use.
These could be <code>tcltk</code> (with the <strong>'tcltk'</strong> or <strong>'tcltk2'</strong> R packages),
<code>gtk2</code> (with the <strong>'RGtk2'</strong> R package), <code>shiny</code>, etc. You are in charge of
managing these different variants of your GUI. The <code>gui</code> object just defines
the order of preference for those different variants, and to get a fallback
mechanism in case your GUI is not implemented with given <code>widgets</code>. <code>.GUI</code>
uses, by default, <code>widgets = c("nativeGUI", "textCLI")</code>. <code>"nativeGUI"</code> is,
as you figure it out, a native version of the GUI element. A good example is
<code>base::file.choose()</code> that displays a native dialog box to select a file.
<code>"textCLI"</code> is <strong>not</strong> a GUI version, but a way to ask the same information
to the user at the terminal (or Command Line, CLI). In the example, it could
be <code>base::readline("File to use? ")</code>. You GUI should consider the proposed
<code>widgets</code> in turn and use the first one on the list that is implemented. It
is advised to implement also a version of <code>"textCLI"</code>, in case R is run in a
text-only context. Finally, if none of the <code>widgets</code> can be run, your code
should fall back to use a default value for the file, or to stop gracefully.
This is required for non-interactive use or testing of your code, are when
your GUI <code>ask</code> is set to <code>FALSE</code>.
</p>
<p>Basic GUI items, like message boxes, input box, file or directory selectors,
etc. could easily be implemented with different <code>widgets</code> and in a
<code>"textCLI"</code> version (see the <strong>'svDialogs'</strong> package). So, if your GUI uses
the present mechanisms, your end-user could choose the version of the dialog
boxes he prefers to use, given the context (R run at the terminal, in 'RGui',
in 'RStudio' or 'RStudio Server'; under Windows, Mac OS, or Linux, ...). The
choice is easy: just change the sequence of <code>widgets</code> in the corresponding
<code>gui</code> object. Of course, several <code>gui</code> objects can live together at the same
time, providing different and independent contexts (say, one GUI build with
<strong>'RGtk2'</strong> would favor <code>"gtk2"</code>, but another GUI using <strong>'tcltk'</strong> would
either favor <code>"tcltk"</code> of course, or <code>c("nativeGUI", "tcltk")</code> just because
native dialog boxes may look better, for instance, under macOS or Linux.
</p>
<p>Finally, the <code>gui</code> object is basically a separate environment where you could
also store various GUI-related objects. On one hand, it does not &quot;pollute&quot;
other environments (the worse practice being to put <strong>'tcltk'</strong>-related
variables in the global environment), and on the other hand, it is very easy
to get rid of all the GUI-related objects, just by <code>gui_remove("myGUI")</code>.
Also, GUI-related items should not be <code>save.image()</code>d and re<code>load()</code>ed with
the other objects, and the <code>gui</code>, being located outside of <code>.GlobalEnv</code>
prevents it.
</p>


<h3>Methods</h3>

<p>svGUI implements four methods for the S3 <code>gui</code> object:
</p>

<dl>
<dt><code>print()</code></dt><dd><p>Give information about the current state of the GUI</p>
</dd>
<dt><code>$</code></dt><dd><p>Give access to various GUI properties or objects.</p>
</dd>
<dt><code>startUI()</code></dt><dd><p>Start an UI action that requires to interrupt R (for
instance, display an input dialog box) and manage to inform the <code>gui</code>
object about it.</p>
</dd>
<dt><code>setUI()</code></dt><dd><p>Change the <code>status</code> of the UI action currently running.</p>
</dd>
</dl>



<h3>Important functions</h3>

<p><code><a href="#topic+gui_add">gui_add()</a></code> and <code><a href="#topic+gui_change">gui_change()</a></code> for construction and management of <code>gui</code>s,
<code><a href="#topic+gui_remove">gui_remove()</a></code> to cleanly eliminate all GUI elements,
<code><a href="#topic+gui_list">gui_list()</a></code> to list all <code>gui</code> objects currently loaded in the R session,
<code><a href="#topic+gui_widgets">gui_widgets()</a></code> to manage the widgets this GUI can use, and in which order,
<code><a href="#topic+gui_ask">gui_ask()</a></code> allows to (temporary) disable UI actions to avoid any code
that would require input from the user (e.g., to run in batch mode),
<code><a href="#topic+dont_ask">dont_ask()</a></code> to determine if the GUI cannot interrupt R to ask something to
the user, and should proceed differently (say, just use a default value for
an input).
</p>


<h3>Dispatch mechanism</h3>

<p>Methods for <code>gui</code> objects can dispatch as usual using
<code>amethod(...., gui = agui)</code> but note that these methods do not dispatch on
the first provided argument, but to the named argument <code>gui</code>. There is
another way to call <code>gui</code> methods: <code>agui$amethod(...)</code>. This may be a
convenient alternative for those who prefer this style of calling object's
methods (also used in reference classes, <strong>'proto'</strong> or <strong>'R6'</strong> objects).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a> (<a href="https://orcid.org/0000-0002-2694-9471">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/SciViews/svGUI">https://github.com/SciViews/svGUI</a>
</p>
</li>
<li> <p><a href="https://www.sciviews.org/svGUI/">https://www.sciviews.org/svGUI/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/SciViews/svGUI/issues">https://github.com/SciViews/svGUI/issues</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

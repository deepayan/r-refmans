<!DOCTYPE html><html lang="en"><head><title>Help for package streamy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {streamy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#streamy-package'><p>streamy: Inline Asynchronous Generator Results into Documents</p></a></li>
<li><a href='#stream'><p>Stream generator results into a document</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Inline Asynchronous Generator Results into Documents</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Given a 'coro' asynchronous generator instance that produces text,
    write that text into a document selection in 'RStudio' and 'Positron'. This
    is particularly helpful for streaming large language model responses into
    the user's editor.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/simonpcouch/streamy">https://github.com/simonpcouch/streamy</a>,
<a href="https://simonpcouch.github.io/streamy/">https://simonpcouch.github.io/streamy/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/simonpcouch/streamy/issues">https://github.com/simonpcouch/streamy/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.6.3), coro (&ge; 1.1.0), rlang, rstudioapi (&ge;
0.17.1), withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ellmer, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-11 15:24:41 UTC; simoncouch</td>
</tr>
<tr>
<td>Author:</td>
<td>Simon Couch [aut, cre],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Couch &lt;simon.couch@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-11 17:30:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='streamy-package'>streamy: Inline Asynchronous Generator Results into Documents</h2><span id='topic+streamy'></span><span id='topic+streamy-package'></span>

<h3>Description</h3>

<p>Given a 'coro' asynchronous generator instance that produces text, write that text into a document selection in 'RStudio' and 'Positron'. This is particularly helpful for streaming large language model responses into the user's editor.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Simon Couch <a href="mailto:simon.couch@posit.co">simon.couch@posit.co</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/simonpcouch/streamy">https://github.com/simonpcouch/streamy</a>
</p>
</li>
<li> <p><a href="https://simonpcouch.github.io/streamy/">https://simonpcouch.github.io/streamy/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/simonpcouch/streamy/issues">https://github.com/simonpcouch/streamy/issues</a>
</p>
</li></ul>


<hr>
<h2 id='stream'>Stream generator results into a document</h2><span id='topic+stream'></span>

<h3>Description</h3>

<p>Given an asychronous generator that produces text, this function iteratively
polls that generator and inlines its results into the currently open RStudio
or Positron document. This is particularly useful for streaming results
from large language models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stream(
  generator,
  context = active_document_context(),
  interface = c("prefix", "replace", "suffix")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stream_+3A_generator">generator</code></td>
<td>
<p>A <code><a href="coro.html#topic+generator">coro::generator()</a></code> function.</p>
</td></tr>
<tr><td><code id="stream_+3A_context">context</code></td>
<td>
<p>Optional. An RStudio document context.</p>
</td></tr>
<tr><td><code id="stream_+3A_interface">interface</code></td>
<td>
<p>One of <code>"prefix"</code>, <code>"replace"</code>, or <code>"suffix"</code>, describing
how to the active selection will be interfaced with. Defaults to <code>"replace"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is generally not intended for interactive usage. See the
gander, pal, and ensure package, which this package powers.
</p>


<h3>Value</h3>

<p>The streamed result, invisibly; called for its side effect, modifying the
context of the current selection with results from the generator.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (rlang::is_installed("ellmer") &amp;&amp;
    !identical("ANTHROPIC_API_KEY", "") &amp;&amp;
    rstudioapi::isAvailable()
 ) {
  library(ellmer)

  gen &lt;- chat_claude()$stream("hey there!")

  stream(gen, interface = "suffix")
}

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

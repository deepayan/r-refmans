<!DOCTYPE html><html><head><title>Help for package saqgetr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {saqgetr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pseudo-function to re-export <strong>magrittr</strong>'s pipe.</p></a></li>
<li><a href='#get_saq_observations'><p>Function to get <strong>saqgetr</strong> air quality observations.</p></a></li>
<li><a href='#get_saq_processes'><p>Function to get air quality time series processes serviced by the</p>
<strong>saqgetr</strong> package.</a></li>
<li><a href='#get_saq_simple_summaries'><p>Function to get simple summaries of air quality observations.</p></a></li>
<li><a href='#get_saq_sites'><p>Function to import information for monitoring sites/stations/facilities</p>
serviced by the <strong>saqgetr</strong> package.</a></li>
<li><a href='#get_saq_summaries'><p>Function to import summary integers for used in the <strong>saqgetr</strong> package.</p></a></li>
<li><a href='#get_saq_validity'><p>Function to import validity integers for used in the <strong>saqgetr</strong> package.</p></a></li>
<li><a href='#saq_clean_observations'><p>Function to clean and format observational data from <strong>saqgetr</strong>'s</p>
<code>get_saq_observations</code> function.</a></li>
<li><a href='#tz_central'><p>Functions for time zone strings.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Import Air Quality Monitoring Data in a Fast and Easy Way</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.21</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-01-12</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of tools to access prepared air quality monitoring
    data files from web servers with ease and speed. Air quality data are 
    sourced from open and publicly accessible repositories and can be found in 
    these locations: 
    <a href="https://www.eea.europa.eu/data-and-maps/data/airbase-the-european-air-quality-database-8">https://www.eea.europa.eu/data-and-maps/data/airbase-the-european-air-quality-database-8</a> 
    and <a href="https://discomap.eea.europa.eu/map/fme/AirQualityExport.htm">https://discomap.eea.europa.eu/map/fme/AirQualityExport.htm</a>. The web 
    server space has been provided by Ricardo Energy &amp; Environment.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stuart K. Grange &lt;stuart.grange@york.ac.uk&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/skgrange/saqgetr">https://github.com/skgrange/saqgetr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/skgrange/saqgetr/issues">https://github.com/skgrange/saqgetr/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stringr, lubridate, dplyr, purrr, readr, tidyr, magrittr, httr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>openair</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>true</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-01-12 07:35:35 UTC; stuart</td>
</tr>
<tr>
<td>Author:</td>
<td>Stuart K. Grange <a href="https://orcid.org/0000-0003-4093-3596"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-01-12 09:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pseudo-function to re-export <strong>magrittr</strong>'s pipe.</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>Pseudo-function to re-export <strong>magrittr</strong>'s pipe.
</p>

<hr>
<h2 id='get_saq_observations'>Function to get <strong>saqgetr</strong> air quality observations.</h2><span id='topic+get_saq_observations'></span>

<h3>Description</h3>

<p>Function to get <strong>saqgetr</strong> air quality observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_saq_observations(
  site,
  variable = NA,
  start = NA,
  end = NA,
  valid_only = FALSE,
  tz = "UTC",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_saq_observations_+3A_site">site</code></td>
<td>
<p>A vector of sites to import. Use <a href="#topic+get_saq_sites">get_saq_sites</a> to find
what sites are available.</p>
</td></tr>
<tr><td><code id="get_saq_observations_+3A_variable">variable</code></td>
<td>
<p>An optional variable vector. If not used, all variables will
be returned.</p>
</td></tr>
<tr><td><code id="get_saq_observations_+3A_start">start</code></td>
<td>
<p>Start date for returned observations. Can either be a date string in
<code>"yyyy-mm-dd"</code> format, or a year integer.</p>
</td></tr>
<tr><td><code id="get_saq_observations_+3A_end">end</code></td>
<td>
<p>End date for returned observations. Can either be a date string in
<code>"yyyy-mm-dd"</code> format, or a year integer.</p>
</td></tr>
<tr><td><code id="get_saq_observations_+3A_valid_only">valid_only</code></td>
<td>
<p>Should only valid observations be kept?</p>
</td></tr>
<tr><td><code id="get_saq_observations_+3A_tz">tz</code></td>
<td>
<p>Time zone for the observations' dates.</p>
</td></tr>
<tr><td><code id="get_saq_observations_+3A_verbose">verbose</code></td>
<td>
<p>Should the function give messages?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_saq_sites">get_saq_sites</a></code>, <code><a href="#topic+saq_clean_observations">saq_clean_observations</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a site's data
data_hafodyrynys &lt;- get_saq_observations(
  site = "gb1038a", 
  start = 2018, 
  end = 2018
)

# Print tibble
print(data_hafodyrynys)



# Get multiple sites nox and ozone data for between a date range
data_many &lt;- get_saq_observations(
  site = c("gb1014a", "gb1044a", "gb1060a"),
  variable = c("nox", "no2", "o3"),
  start = 2018,
  end = 2022,
  verbose = TRUE
)

# Print tibble
print(data_many)

# Sites and site names
data_many %&gt;% 
  dplyr::distinct(site)
  


</code></pre>

<hr>
<h2 id='get_saq_processes'>Function to get air quality time series processes serviced by the 
<strong>saqgetr</strong> package.</h2><span id='topic+get_saq_processes'></span>

<h3>Description</h3>

<p>Function to get air quality time series processes serviced by the 
<strong>saqgetr</strong> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_saq_processes(file = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_saq_processes_+3A_file">file</code></td>
<td>
<p>File of processes helper table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


# Get processes
data_processes &lt;- get_saq_processes()



</code></pre>

<hr>
<h2 id='get_saq_simple_summaries'>Function to get simple summaries of air quality observations.</h2><span id='topic+get_saq_simple_summaries'></span>

<h3>Description</h3>

<p>Function to get simple summaries of air quality observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_saq_simple_summaries(file = NA, summary = "annual_means", tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_saq_simple_summaries_+3A_file">file</code></td>
<td>
<p>File of simple summaries table.</p>
</td></tr>
<tr><td><code id="get_saq_simple_summaries_+3A_summary">summary</code></td>
<td>
<p>Summary period to import. Can either be <code>"annual_means"</code> or
<code>"monthly_means"</code>.</p>
</td></tr>
<tr><td><code id="get_saq_simple_summaries_+3A_tz">tz</code></td>
<td>
<p>Time zone for the observations' dates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


# Import annual means
data_annual &lt;- get_saq_simple_summaries(summary = "annual_means")



## Not run: 

# Import monthly means, quite a large request so will take some time
data_month &lt;- get_saq_simple_summaries(summary = "monthly_means")


## End(Not run)

</code></pre>

<hr>
<h2 id='get_saq_sites'>Function to import information for monitoring sites/stations/facilities 
serviced by the <strong>saqgetr</strong> package.</h2><span id='topic+get_saq_sites'></span>

<h3>Description</h3>

<p>Function to import information for monitoring sites/stations/facilities 
serviced by the <strong>saqgetr</strong> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_saq_sites(file = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_saq_sites_+3A_file">file</code></td>
<td>
<p>File of sites helper table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load sites table
data_sites &lt;- get_saq_sites()

</code></pre>

<hr>
<h2 id='get_saq_summaries'>Function to import summary integers for used in the <strong>saqgetr</strong> package.</h2><span id='topic+get_saq_summaries'></span>

<h3>Description</h3>

<p>Function to import summary integers for used in the <strong>saqgetr</strong> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_saq_summaries(file = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_saq_summaries_+3A_file">file</code></td>
<td>
<p>File of summary helper table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get summary integers
data_summary_integers &lt;- get_saq_summaries()

</code></pre>

<hr>
<h2 id='get_saq_validity'>Function to import validity integers for used in the <strong>saqgetr</strong> package.</h2><span id='topic+get_saq_validity'></span>

<h3>Description</h3>

<p>Function to import validity integers for used in the <strong>saqgetr</strong> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_saq_validity(file = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_saq_validity_+3A_file">file</code></td>
<td>
<p>File of validity helper table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get validity integers
data_validity_integers &lt;- get_saq_validity()

</code></pre>

<hr>
<h2 id='saq_clean_observations'>Function to clean and format observational data from <strong>saqgetr</strong>'s 
<code><a href="#topic+get_saq_observations">get_saq_observations</a></code> function.</h2><span id='topic+saq_clean_observations'></span>

<h3>Description</h3>

<p>Function to clean and format observational data from <strong>saqgetr</strong>'s 
<code><a href="#topic+get_saq_observations">get_saq_observations</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saq_clean_observations(df, summary = "hour", valid_only = TRUE, spread = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saq_clean_observations_+3A_df">df</code></td>
<td>
<p>Tibble/data frame from <code><a href="#topic+get_saq_observations">get_saq_observations</a></code>.</p>
</td></tr>
<tr><td><code id="saq_clean_observations_+3A_summary">summary</code></td>
<td>
<p>Summary to filter data to. Default is <code>"hour"</code>.</p>
</td></tr>
<tr><td><code id="saq_clean_observations_+3A_valid_only">valid_only</code></td>
<td>
<p>Should only valid observations be kept?</p>
</td></tr>
<tr><td><code id="saq_clean_observations_+3A_spread">spread</code></td>
<td>
<p>Should the data be &quot;spread&quot; where the data frame is reshaped 
so pollutants form variables/columns. This format is usually what is desired
when using <strong>openair</strong>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a site's data
data_hafodyrynys &lt;- get_saq_observations(
  site = "gb1038a", 
  start = 2018, 
  end = 2018
)

# Keep only valid and hourly data
data_hafodyrynys_hourly &lt;- data_hafodyrynys %&gt;% 
  saq_clean_observations(summary = "hour", valid_only = TRUE) %&gt;% 
  print()

# Spread hourly data, a different table format here
data_hafodyrynys_hourly_spread &lt;- data_hafodyrynys %&gt;% 
  saq_clean_observations(summary = "hour", valid_only = TRUE, spread = TRUE) %&gt;% 
  print()

</code></pre>

<hr>
<h2 id='tz_central'>Functions for time zone strings.</h2><span id='topic+tz_central'></span><span id='topic+tz_eastern'></span>

<h3>Description</h3>

<p>Functions for time zone strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tz_central()

tz_eastern()
</code></pre>


<h3>Author(s)</h3>

<p>Stuart K. Grange
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

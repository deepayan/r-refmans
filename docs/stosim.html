<!DOCTYPE html><html lang="en"><head><title>Help for package stosim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stosim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#stosim-package'>
<p>Stochastic Simulator for Reliability Modeling of Repairable Systems</p></a></li>
<li><a href='#ChargeTrain'>
<p>Ficticious system reliability data for an example problem contained in</p>
&quot;Using Stochastic RAM Analysis to Establish an Optimal Operating Policy&quot;.
Submitted for the &quot;IMA Journal of Management Mathematics, MIMAR 2014 special issue&quot;</a></li>
<li><a href='#DetailOpLines'><p> Multiple OpLine Simulation Detail</p></a></li>
<li><a href='#EventElement'><p> Element entry as OpLine line item.</p></a></li>
<li><a href='#MultiTrainWithInventory'><p> Event Handler for Evaluating Multi Train Systems with Backup Inventory Support</p></a></li>
<li><a href='#SimHistory'><p> Simulation History creation.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Stochastic Simulator for Reliability Modeling of Repairable
Systems</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.15</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-8-28</td>
</tr>
<tr>
<td>Description:</td>
<td>A toolkit for Reliability Availability and Maintainability (RAM) modeling of industrial process systems.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Copyright:</td>
<td>copyright (c) OpenReliability.org 2011-2023</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.11.1)</td>
</tr>
<tr>
<td>Depends:</td>
<td>tcltk</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Author:</td>
<td>David Silkworth [aut],
  Jacob Ormerod [cre],
  OpenReliability.org [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jacob Ormerod &lt;jake@openreliability.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Repository/R-Forge/Project:</td>
<td>stosim</td>
</tr>
<tr>
<td>Repository/R-Forge/Revision:</td>
<td>30</td>
</tr>
<tr>
<td>Repository/R-Forge/DateTimeStamp:</td>
<td>2018-05-01 11:51:11</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-28 16:10:03 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-28 15:51:26 UTC; djs</td>
</tr>
</table>
<hr>
<h2 id='stosim-package'>
Stochastic Simulator for Reliability Modeling of Repairable Systems
</h2><span id='topic+stosim-package'></span>

<h3>Description</h3>

<p>A toolkit intended for Reliability Availability and Maintainability (RAM) modeling of industrial process systems. 
</p>
<p>It is recommended for use with RExcel for data input, holding of the model 
scripts, and ad hoc analysis of reliability parameters.
</p>


<h3>Introduction</h3>

<p><span class="pkg">stosim</span> provides functions for creating reliability models using observed
data reduced to probability distributions for failure and repair mechanisms
on related operations in order to infer expected performance of new systems
or alteration of existing systems.   
Models can be assembled from small sub-systems and accumulated to describe
an entire production plant or refinery.  Stochastic modeling provides an ideal 
means for study of the performance of product inventory storage and parallel 
operations as reliability enhancement features.  Time dependent issues such as 
seasonal variation, and equipment degradation can be accurately assessed for 
impact on ultimate production capability.  Contractual conditions such as 
bonus/penalty clauses can be evaluated with realitic statistical projections.
</p>


<h3>Author(s)</h3>

<p>Jacob T. Ormerod
</p>
<p>Maintainer: Jacob T. Ormerod &lt;jake@openreliability.org&gt;
</p>


<h3>References</h3>

<p>Jones, O.D., R. Maillardet, and A.P. Robinson (2009) An Introduction
to Scientific Programming and Simulation, Using R.  Chapman And Hall/CRC
</p>
<p>Robert, Christian P., G. Casella (2010) Introducing Monte Carlo Methods with R.
Springer
</p>
<p>Taylor HM,  Karlin S (1998) An Introduction to Stochastic Modeling, 3rd Edition,
Acadmic Press.
</p>
<p>Silkworth, David J. (1998) &quot;Confidence Curves: A Reliability Modelling Technique for
the Practical Application of Process Unit and Subsystem Failure Data&quot;. American
Institute of Chemical Engineers
</p>
<p>Tobias, Paul A., D.C. Trinidade (1986)Applied Reliability.  Van Nostand Reinhold
</p>

<hr>
<h2 id='ChargeTrain'>
Ficticious system reliability data for an example problem contained in
&quot;Using Stochastic RAM Analysis to Establish an Optimal Operating Policy&quot;.
Submitted for the &quot;IMA Journal of Management Mathematics, MIMAR 2014 special issue&quot;
</h2><span id='topic+ChargeTrain'></span>

<h3>Description</h3>

<p>The <code>ChargeTrain</code> data frame has 3 rows and 11 columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ChargeTrain
</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt><code>OpLine</code></dt><dd>
<p>OpLine: a factor to identify the operating line model applicable to this input.
</p>
</dd>
<dt><code>EventID</code></dt><dd>
<p>EventID: a factor to identify the subsystem or EventElement applicable to this input.
</p>
</dd>
<dt><code>FD</code></dt><dd>
<p>FD: a factor identifying the distribution for failure data. Only <code>"E"</code>, <code>"W"</code>,
and <code>"N"</code> have been implemented in intended recieving function SimHistory.
</p>
</dd>
<dt><code>FP1</code></dt><dd>
<p>A first parameter for the failure distribution (FD). Mean for exponential or normal, 
characteristic life for Weibull. 
</p>
</dd>
<dt><code>FP2</code></dt><dd>
<p>A second parameter for the failure distribution (FD). Standard deviation for normal, 
shape for Weibull.
</p>
</dd>
<dt><code>FP3</code></dt><dd>
<p>A third parameter for the failure distribution (FD). A translation parameter applicable to
Weibull, only.
</p>
</dd>
<dt><code>RD</code></dt><dd>
<p>RD: a factor identifying the distribution for repair time data. Only <code>"L"</code>, <code>"W"</code>,
and <code>"N"</code> have been implemented in intended recieving function SimHistory.
</p>
</dd>
<dt><code>RP1</code></dt><dd>
<p>A first parameter for the repair distribution (RD). Meanlog for lognormal, 
characteristic life for Weibull, mean for normal. 
</p>
</dd>
<dt><code>RP2</code></dt><dd>
<p>A second parameter for the repair distribution (RD). SDlog for lognormal, 
shape for Weibull, standard deviation for normal.
</p>
</dd>
<dt><code>RP3</code></dt><dd>
<p>A third parameter for the repair distribution (RD). A translation parameter applicable to
lognormal or Weibull, only.
</p>
</dd>
<dt><code>Seed</code></dt><dd>
<p>An integer seed value for the RNG.
</p>
</dd>
</dl>



<h3>Details</h3>

<p>Typical processing system values were chosen to prepare a likely model utilizing lognormal
normal and Weibull distributions for repair times (maintainability) as a demonstration.
</p>

<hr>
<h2 id='DetailOpLines'> Multiple OpLine Simulation Detail </h2><span id='topic+DetailOpLines'></span>

<h3>Description</h3>

<p>This is a function for combining multiple &quot;Type 1&quot; stochastic simulations in a common history.  It creates a dataframe detailing the operational status of each OpLine throughout the Simulation History.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DetailOpLines(Model, Names=NULL, ProgRpt=FALSE) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="DetailOpLines_+3A_model">Model</code></td>
<td>
<p> A list of dataframes constructed from the SimHistory function or some combination of histories using SimCombine.  All histories must have the same history length as developed by both SimulationYears and SimulationYearsPerPage.</p>
</td></tr>
<tr><td><code id="DetailOpLines_+3A_names">Names</code></td>
<td>
<p> An optional vector of character labels for the OpLines contained in the Model.  If not provided the dataframe labels will be assigned to a progression of Train1, Train2, ..., etc. according to the number of SimHistories contained in the Model.  If Names are provided, the number of named OpLines must equal the number of SimHistories contained in the Model as this count is used to size the matrix the generated from the 'extern C' function in Rcpp.</p>
</td></tr>
<tr><td><code id="DetailOpLines_+3A_progrpt">ProgRpt</code></td>
<td>
<p> A boolean value indicating whether a progress bar should be displayed, if sensible, during execution
of the function.</p>
</td></tr> 
</table>


<h3>Value</h3>

<p>Returns a dataframe containing columns for Time and Duration for each change to the system status.  A matrix of 1's (operating) and 0's (not operating) identify the status of each OpLine through this detailed history.
</p>


<h3>References</h3>

<p>Carazas et. al.,&quot;Availability Analysis of Gas Turbines Used in Power Plants&quot;,International Journal of Thermodynamics, Vol. 12 (No.1), March 2009 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>GT_1 &lt;- EventElement("GasTurbine2",1,101,"W",2562.5,0.95,0, "L",1.4,0.86,0,87)
seedVec&lt;-GT_1[,length(GT_1)]
GT_2&lt;-cbind(GT_1[,-length(GT_1)],"Seed"=seedVec*11)
## note simulation drastically reduced for example run
GT_1_sh&lt;-SimHistory(GT_1,10,10)
GT_2_sh&lt;-SimHistory(GT_2,10,10)
Model&lt;-list(GT_1_sh, GT_2_sh)
Names&lt;-c("GT1", "GT2")
TurbineArray&lt;-DetailOpLines(Model,Names)
</code></pre>

<hr>
<h2 id='EventElement'> Element entry as OpLine line item. </h2><span id='topic+EventElement'></span>

<h3>Description</h3>

<p>Provided for completeness of package only.  Oprating line entries are more easily
entered as part of an OpLine system using a spreadsheet, then using RExcel to 
&quot;Put R Value -&gt; dataframe&quot; into an R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EventElement(element_name,OpLine,EventID,FD,FP1,FP2,FP3,RD,RP1,RP2,RP3,Seed) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="EventElement_+3A_element_name">element_name</code></td>
<td>
<p> a string that will used to identify the element as a row.name</p>
</td></tr>
<tr><td><code id="EventElement_+3A_opline">OpLine</code></td>
<td>
<p> an identifying integer for the OpLine membership.</p>
</td></tr>
<tr><td><code id="EventElement_+3A_eventid">EventID</code></td>
<td>
<p> an identifying integer for this element </p>
</td></tr>
<tr><td><code id="EventElement_+3A_fd">FD</code></td>
<td>
<p> a single capital letter in quotation marks indicating the failure 
distribution (i.e. &quot;E&quot;-Exponential, &quot;N&quot;-Normal, &quot;W&quot;-Weibull) </p>
</td></tr>
<tr><td><code id="EventElement_+3A_fp1">FP1</code></td>
<td>
<p> The first parameter for the failure distribution (MTTF for &quot;E&quot;,
mean for &quot;N&quot;, characteristic life for &quot;W&quot;).</p>
</td></tr>
<tr><td><code id="EventElement_+3A_fp2">FP2</code></td>
<td>
<p> The second parameter for the failure distribution, else 0 </p>
</td></tr>
<tr><td><code id="EventElement_+3A_fp3">FP3</code></td>
<td>
<p> The third parameter for the failure distribution (only used as a
translation parameter for &quot;W&quot;, else 0 )</p>
</td></tr>
<tr><td><code id="EventElement_+3A_rd">RD</code></td>
<td>
<p> a single capital letter in quotation marks indicating the repair 
distribution (i.e. &quot;N&quot;-Normal, &quot;W&quot;-Weibull, &quot;L&quot;-Lognormal) 
note that &quot;E&quot; is not accepted, use &quot;W&quot; with shape of 1.0 instead.</p>
</td></tr>
<tr><td><code id="EventElement_+3A_rp1">RP1</code></td>
<td>
<p> The first parameter for the failure distribution (mean for &quot;N&quot;,
characteristic life for &quot;W&quot;, logmean for &quot;L&quot;)</p>
</td></tr>
<tr><td><code id="EventElement_+3A_rp2">RP2</code></td>
<td>
<p> The second parameter for the repair distribution </p>
</td></tr>
<tr><td><code id="EventElement_+3A_rp3">RP3</code></td>
<td>
<p> The third parameter for the failure distribution (only used as a
translation parameter for &quot;W&quot;, or &quot;L&quot; else 0 )</p>
</td></tr>
<tr><td><code id="EventElement_+3A_seed">Seed</code></td>
<td>
<p> An integer value to be used as the random seed for this element.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a single row dataframe suitable for combination using <code>rbind</code> with other elements into a single Operating Line.
</p>


<h3>References</h3>

<p>Carazas et. al.,&quot;Availability Analysis of Gas Turbines Used in Power Plants&quot;,International Journal of Thermodynamics, Vol. 12 (No.1), March 2009
</p>


<h3>Examples</h3>

<pre><code class='language-R'>LRU1 &lt;- EventElement("GasTurbine2",1,101,"W",2562.5,0.95,0, "L",1.4,0.86,0,87)

</code></pre>

<hr>
<h2 id='MultiTrainWithInventory'> Event Handler for Evaluating Multi Train Systems with Backup Inventory Support </h2><span id='topic+MultiTrainWithInventory'></span>

<h3>Description</h3>

<p>This function will evaluate a dataframe created by DetailOpLines on a line by line basis to generate
a history of production output based on various constraints and limitations of the overall system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MultiTrainWithInventory(model, CapacityHrs, ReserveHrs, RefillTime, DischargeCap=1,
 TurndownLimit=0.6, TurndownTime=1, ProgRpt=FALSE) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MultiTrainWithInventory_+3A_model">model</code></td>
<td>
<p> A dataframe constructed by the DetailOpLines function.</p>
</td></tr>
<tr><td><code id="MultiTrainWithInventory_+3A_capacityhrs">CapacityHrs</code></td>
<td>
<p> A quantity of inventory in terms of hours of single active train production defining
the useable capacity of a storage vessel.</p>
</td></tr>
<tr><td><code id="MultiTrainWithInventory_+3A_reservehrs">ReserveHrs</code></td>
<td>
<p> A quantity of inventory in terms of hours of single active train production at which
an operating policy will be implemented to preserve remaining inventory for support of  subsequent
active train failures.</p>
</td></tr>
<tr><td><code id="MultiTrainWithInventory_+3A_refilltime">RefillTime</code></td>
<td>
<p> The duration in hours that would be required to refill the entire capacity of a storage vessel
utilizing a given accumulator of known capability.</p>
</td></tr>
<tr><td><code id="MultiTrainWithInventory_+3A_dischargecap">DischargeCap</code></td>
<td>
<p> A quantity of trains for which there is capability to discharge from storage at appropriate conditions for the downstream process.</p>
</td></tr> 
<tr><td><code id="MultiTrainWithInventory_+3A_turndownlimit">TurndownLimit</code></td>
<td>
<p> A fraction of total production at which downstream processing can continue to function
at minimum rates. This value defaults to 0.6, which is typical of many single train fluid bed reactors.</p>
</td></tr> 
<tr><td><code id="MultiTrainWithInventory_+3A_turndowntime">TurndownTime</code></td>
<td>
<p> The duration in hours required to bring the downstream processing unit down to a new level
of production, including potential human dialog time for confirmation of intent. This value defaults at 1 hour,
which has proven to be a very typical of process plant systems requiring human confirmation of turndown request.</p>
</td></tr> 
<tr><td><code id="MultiTrainWithInventory_+3A_progrpt">ProgRpt</code></td>
<td>
<p> A boolean value indicating whether a progress bar should be displayed, if sensible, during execution
of the function.</p>
</td></tr> 
</table>


<h3>Value</h3>

<p>Returns a list containing two dataframes. The first containing columns for Time, Duration, and ProdRate for each
total production rate state.  A matrix of 1's and 0's  identify the occurrence of specific production failures by
cause. These causes may be discharge capacity exceeded, inventory run out, or demand on empty storage.
</p>


<h3>References</h3>

<p>Ormerod JT, &quot;Using Stochastic RAM Analysis to Establish an Optimal Operating Policy
&quot;,8th IMA International Conference on Modelling in Industrial Maintenance and Reliability (MIMAR), July 2014
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(ChargeTrain)	
Train1&lt;-ChargeTrain		
Train2&lt;-Train1[,-11]	
Train2seeds&lt;-data.frame(Seed=Train1$Seed+200)	
Train2&lt;-cbind(Train2,Train2seeds)	
## note simulation drastically reduced for example run	
Train1_sh&lt;-SimHistory(Train1,200,100)	
Train2_sh&lt;-SimHistory(Train2,200,100)	
ChargeSystem&lt;-list(Train1_sh,Train2_sh)	
ChargeTrainParallelHistory&lt;-DetailOpLines(ChargeSystem)
ChgTwInv&lt;-MultiTrainWithInventory(ChargeTrainParallelHistory, 16, 8, 336)

</code></pre>

<hr>
<h2 id='SimHistory'> Simulation History creation. </h2><span id='topic+SimHistory'></span>

<h3>Description</h3>

<p>This is a &quot;Type 1&quot; stochastic simulation engine.  It creates a simulation history dataframe for a single operating line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimHistory(Model,SimulationYears=2000, SimulationYearsPerPage=1000, ProgRpt=FALSE) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SimHistory_+3A_model">Model</code></td>
<td>
<p> A datafreme constructed of one or more EventElement objects as combined by rbind.  All elements must have the same OpLine integer value in the first column.  It is expected that this dataframe will be constructed in a spreadsheet then transferred to R using the &quot;Put R dataframe&quot; right-click menu selection using RExcel</p>
</td></tr>
<tr><td><code id="SimHistory_+3A_simulationyears">SimulationYears</code></td>
<td>
<p> A value for total size of simulation.  If not a multiple of SimulationYearsPerPage the actual simulation will be rounded down since number of pages is determined by Pages&lt;-as.integer(SimulationYears/SimulationYearsPerPage)</p>
</td></tr>
<tr><td><code id="SimHistory_+3A_simulationyearsperpage">SimulationYearsPerPage</code></td>
<td>
<p> A value for sub-setting the overall simulation; must be less then 2000 for accuracy.</p>
</td></tr>
<tr><td><code id="SimHistory_+3A_progrpt">ProgRpt</code></td>
<td>
<p> A boolean value indicating whether a progress bar should be displayed, if sensible, during execution
of the function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a dataframe containing columns for Time and Duration of each simulated event.  Added fields record the OpLine and EventID integer values pertaining to the event.
</p>


<h3>References</h3>

<p>Robert, Christian P., G. Casella (2010) Introducing Monte Carlo Methods with R.
Springer
</p>
<p>Taylor HM,  Karlin S (1998) An Introduction to Stochastic Modeling, 3rd Edition,
Acadmic Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plantA_DF &lt;- EventElement("generic.pump",1,101,"E", 28260,0,0,"N",8,2,0,87)
## note simulation drastically reduced for example run
PlantA &lt;- SimHistory(plantA_DF,100,100)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

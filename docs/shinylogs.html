<!DOCTYPE html><html><head><title>Help for package shinylogs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinylogs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#read_json_logs'><p>Read a directory containing JSON logs</p></a></li>
<li><a href='#read_rds_logs'><p>Read a directory containing RDS logs</p></a></li>
<li><a href='#store_custom'><p>Use custom function to save logs</p></a></li>
<li><a href='#store_googledrive'><p>Use Google Drive as storage mode</p></a></li>
<li><a href='#store_json'><p>Use JSON files as storage mode</p></a></li>
<li><a href='#store_null'><p>No storage on disk</p></a></li>
<li><a href='#store_rds'><p>Use RDS files as storage mode</p></a></li>
<li><a href='#store_sqlite'><p>Use SQLite database as storage mode</p></a></li>
<li><a href='#track_usage'><p>Track usage of a Shiny app</p></a></li>
<li><a href='#use_tracking'><p>Insert dependencies to track usage of a Shiny app</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Record Everything that Happens in a 'Shiny' Application</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Track and record the use of applications and the user's interactions with 'Shiny' inputs.
  Allows to trace the inputs with which the user interacts, the outputs generated, 
  as well as the errors displayed in the interface.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dreamRs/shinylogs">https://github.com/dreamRs/shinylogs</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dreamRs/shinylogs/issues">https://github.com/dreamRs/shinylogs/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>htmltools, shiny (&ge; 1.1.0), jsonlite, data.table, bit64,
nanotime, digest, anytime</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, covr, DBI, RSQLite, googledrive</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-18 16:03:54 UTC; perri</td>
</tr>
<tr>
<td>Author:</td>
<td>Fanny Meyer [aut],
  Victor Perrier [aut, cre],
  Silex Technologies [fnd] (https://www.silex-ip.com)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Victor Perrier &lt;victor.perrier@dreamrs.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-18 16:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='read_json_logs'>Read a directory containing JSON logs</h2><span id='topic+read_json_logs'></span>

<h3>Description</h3>

<p>Read a directory containing JSON logs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_json_logs(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_json_logs_+3A_path">path</code></td>
<td>
<p>Path of the directory containing JSON files or a vector of path to JSON files.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code> of <code>data.table</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Read all JSON in a directory
path_directory &lt;- system.file("extdata/json", package = "shinylogs")
logs &lt;- read_json_logs(path = path_directory)

# Read a single file
single_file &lt;- dir(
  path = system.file("extdata/json", package = "shinylogs"),
  full.names = TRUE
)[1]
logs &lt;- read_json_logs(path = single_file)

</code></pre>

<hr>
<h2 id='read_rds_logs'>Read a directory containing RDS logs</h2><span id='topic+read_rds_logs'></span>

<h3>Description</h3>

<p>Read a directory containing RDS logs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_rds_logs(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_rds_logs_+3A_path">path</code></td>
<td>
<p>Path of the directory containing RDS files or a vector of path to RDS files.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code> of <code>data.table</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Read all RDS in a directory
logs &lt;- read_rds_logs(path = "path/to/directory")

# Read a single file
logs &lt;- read_rds_logs(path = "path/to/log.rds")

## End(Not run)
</code></pre>

<hr>
<h2 id='store_custom'>Use custom function to save logs</h2><span id='topic+store_custom'></span>

<h3>Description</h3>

<p>Store logs tracked where you want by providing a custom
function to write them in your prefered location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store_custom(FUN, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="store_custom_+3A_fun">FUN</code></td>
<td>
<p>A <code>function</code> that take at least one argument <code>logs</code>, that will correspond to logs recorded as a <code>list</code>.</p>
</td></tr>
<tr><td><code id="store_custom_+3A_...">...</code></td>
<td>
<p>Extra parameters that will be passed to <code>FUN</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that can be used in <code><a href="#topic+track_usage">track_usage()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(shinylogs)

# Classic Iris clustering with Shiny
ui &lt;- fluidPage(

  headerPanel("Iris k-means clustering"),

  sidebarLayout(
    sidebarPanel(
      selectInput(
        inputId = "xcol",
        label = "X Variable",
        choices = names(iris)
      ),
      selectInput(
        inputId = "ycol",
        label = "Y Variable",
        choices = names(iris),
        selected = names(iris)[[2]]
      ),
      numericInput(
        inputId = "clusters",
        label = "Cluster count",
        value = 3,
        min = 1,
        max = 9
      )
    ),
    mainPanel(
      plotOutput("plot1")
    )
  )
)

server &lt;- function(input, output, session) {

  # Just take a look at what is generated
  track_usage(
    storage_mode = store_custom(FUN = function(logs) {
      str(logs, max.level = 3)
      invisible()
    })
  )

  # classic server logic

  selectedData &lt;- reactive({
    iris[, c(input$xcol, input$ycol)]
  })

  clusters &lt;- reactive({
    kmeans(selectedData(), input$clusters)
  })

  output$plot1 &lt;- renderPlot({
    palette(c("#E41A1C", "#377EB8", "#4DAF4A", "#984EA3",
              "#FF7F00", "#FFFF33", "#A65628", "#F781BF", "#999999"))

    par(mar = c(5.1, 4.1, 0, 1))
    plot(selectedData(),
         col = clusters()$cluster,
         pch = 20, cex = 3)
    points(clusters()$centers, pch = 4, cex = 4, lwd = 4)
  })

}

if (interactive())
  shinyApp(ui, server)
</code></pre>

<hr>
<h2 id='store_googledrive'>Use Google Drive as storage mode</h2><span id='topic+store_googledrive'></span>

<h3>Description</h3>

<p>All logs will be written in the same file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store_googledrive(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="store_googledrive_+3A_path">path</code></td>
<td>
<p>Path to folder on Drive where to send logs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that can be used in <code><a href="#topic+track_usage">track_usage()</a></code>.
</p>


<h3>Note</h3>

<p>See the gargle package to manage authentication, and especially
<a href="https://gargle.r-lib.org/articles/articles/managing-tokens-securely.html">this vignette from gargle package</a> to manage the process.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# In your global, manage Google Drive access
drive_auth(path = "/path/to/your/service-account-token.json")
# see https://gargle.r-lib.org/articles/articles/managing-tokens-securely.html
# to manage your token securely

# Then in server, use:
track_usage(storage_mode = store_googledrive(path = "my-logs/"))

# you may have to share my-logs/ folder with your service account


## End(Not run)
</code></pre>

<hr>
<h2 id='store_json'>Use JSON files as storage mode</h2><span id='topic+store_json'></span>

<h3>Description</h3>

<p>One JSON will be written for each session of the application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store_json(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="store_json_+3A_path">path</code></td>
<td>
<p>Path where to write JSON files.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that can be used in <code><a href="#topic+track_usage">track_usage()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(shinylogs)

# temp directory for writing logs
tmp &lt;- tempdir()

# when app stop,
# navigate to the directory containing logs
onStop(function() {
  browseURL(url = tmp)
})

# Classic Iris clustering with Shiny
ui &lt;- fluidPage(

  headerPanel("Iris k-means clustering"),

  sidebarLayout(
    sidebarPanel(
      selectInput(
        inputId = "xcol",
        label = "X Variable",
        choices = names(iris)
      ),
      selectInput(
        inputId = "ycol",
        label = "Y Variable",
        choices = names(iris),
        selected = names(iris)[[2]]
      ),
      numericInput(
        inputId = "clusters",
        label = "Cluster count",
        value = 3,
        min = 1,
        max = 9
      )
    ),
    mainPanel(
      plotOutput("plot1")
    )
  )
)

server &lt;- function(input, output, session) {

  # Store JSON with logs in the temp dir
  track_usage(
    storage_mode = store_json(path = tmp)
  )

  # classic server logic

  selectedData &lt;- reactive({
    iris[, c(input$xcol, input$ycol)]
  })

  clusters &lt;- reactive({
    kmeans(selectedData(), input$clusters)
  })

  output$plot1 &lt;- renderPlot({
    palette(c("#E41A1C", "#377EB8", "#4DAF4A", "#984EA3",
              "#FF7F00", "#FFFF33", "#A65628", "#F781BF", "#999999"))

    par(mar = c(5.1, 4.1, 0, 1))
    plot(selectedData(),
         col = clusters()$cluster,
         pch = 20, cex = 3)
    points(clusters()$centers, pch = 4, cex = 4, lwd = 4)
  })

}

if (interactive())
  shinyApp(ui, server)
</code></pre>

<hr>
<h2 id='store_null'>No storage on disk</h2><span id='topic+store_null'></span>

<h3>Description</h3>

<p>Doesn't write anything, special inputs created by <code><a href="#topic+track_usage">track_usage()</a></code>
are available in server and optionally logs are printed in console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store_null(console = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="store_null_+3A_console">console</code></td>
<td>
<p>Print logs in R console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that can be used in <code><a href="#topic+track_usage">track_usage()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(shinylogs)

ui &lt;- fluidPage(
  tags$h2("Record inputs change"),
  fluidRow(
    column(
      width = 3,
      selectInput(
        inputId = "select",
        label = "Select input",
        choices = month.name
      ),
      numericInput(
        inputId = "numeric",
        label = "Numerci input",
        value = 4,
        min = 0, max = 20
      ),
      checkboxGroupInput(
        inputId = "checkboxGroup",
        label = "Checkbox group input",
        choices = LETTERS[1:5]
      ),
      sliderInput(
        inputId = "slider",
        label = "Slider input",
        min = 0, max = 100, value = 50
      )
    ),
    column(
      width = 9,
      tags$b("Last input:"),
      verbatimTextOutput(outputId = "last_input"),
      tags$b("All inputs:"),
      verbatimTextOutput(outputId = "all_inputs")
    )
  )
)

server &lt;- function(input, output, session) {

  track_usage(
    storage_mode = store_null() # dont store on disk
  )

  output$last_input &lt;- renderPrint({
    input$.shinylogs_lastInput # last input triggered
  })

  output$all_inputs &lt;- renderPrint({
    input$.shinylogs_input # all inputs that have changed
  })

}


if (interactive())
  shinyApp(ui, server)
</code></pre>

<hr>
<h2 id='store_rds'>Use RDS files as storage mode</h2><span id='topic+store_rds'></span>

<h3>Description</h3>

<p>One RDS will be written for each session of the application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store_rds(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="store_rds_+3A_path">path</code></td>
<td>
<p>Path where to write RDS files.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that can be used in <code><a href="#topic+track_usage">track_usage()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(shinylogs)

# temp directory for writing logs
tmp &lt;- tempdir()

# when app stop,
# navigate to the directory containing logs
onStop(function() {
  browseURL(url = tmp)
})

# Classir Iris clustering with Shiny
ui &lt;- fluidPage(

  headerPanel("Iris k-means clustering"),

  sidebarLayout(
    sidebarPanel(
      selectInput(
        inputId = "xcol",
        label = "X Variable",
        choices = names(iris)
      ),
      selectInput(
        inputId = "ycol",
        label = "Y Variable",
        choices = names(iris),
        selected = names(iris)[[2]]
      ),
      numericInput(
        inputId = "clusters",
        label = "Cluster count",
        value = 3,
        min = 1,
        max = 9
      )
    ),
    mainPanel(
      plotOutput("plot1")
    )
  )
)

server &lt;- function(input, output, session) {

  # Store RDS with logs in the temp dir
  track_usage(
    storage_mode = store_rds(path = tmp)
  )

  # classic server logic

  selectedData &lt;- reactive({
    iris[, c(input$xcol, input$ycol)]
  })

  clusters &lt;- reactive({
    kmeans(selectedData(), input$clusters)
  })

  output$plot1 &lt;- renderPlot({
    palette(c("#E41A1C", "#377EB8", "#4DAF4A", "#984EA3",
              "#FF7F00", "#FFFF33", "#A65628", "#F781BF", "#999999"))

    par(mar = c(5.1, 4.1, 0, 1))
    plot(selectedData(),
         col = clusters()$cluster,
         pch = 20, cex = 3)
    points(clusters()$centers, pch = 4, cex = 4, lwd = 4)
  })

}


if (interactive())
  shinyApp(ui, server)
</code></pre>

<hr>
<h2 id='store_sqlite'>Use SQLite database as storage mode</h2><span id='topic+store_sqlite'></span>

<h3>Description</h3>

<p>All logs will be written in the same file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store_sqlite(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="store_sqlite_+3A_path">path</code></td>
<td>
<p>Path to the SQLite file or a directory where to create one.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that can be used in <code><a href="#topic+track_usage">track_usage()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

  library(shiny)
  library(shinylogs)

  # temp directory for writing logs
  tmp &lt;- tempdir()

  # when app stop,
  # navigate to the directory containing logs
  onStop(function() {
    browseURL(url = tmp)
  })

  # Classir Iris clustering with Shiny
  ui &lt;- fluidPage(

    headerPanel("Iris k-means clustering"),

    sidebarLayout(
      sidebarPanel(
        selectInput(
          inputId = "xcol",
          label = "X Variable",
          choices = names(iris)
        ),
        selectInput(
          inputId = "ycol",
          label = "Y Variable",
          choices = names(iris),
          selected = names(iris)[[2]]
        ),
        numericInput(
          inputId = "clusters",
          label = "Cluster count",
          value = 3,
          min = 1,
          max = 9
        )
      ),
      mainPanel(
        plotOutput("plot1")
      )
    )
  )

  server &lt;- function(input, output, session) {

    # Store RDS with logs in the temp dir
    track_usage(
      storage_mode = store_sqlite(path = tmp)
    )

    # classic server logic

    selectedData &lt;- reactive({
      iris[, c(input$xcol, input$ycol)]
    })

    clusters &lt;- reactive({
      kmeans(selectedData(), input$clusters)
    })

    output$plot1 &lt;- renderPlot({
      palette(c("#E41A1C", "#377EB8", "#4DAF4A", "#984EA3",
                "#FF7F00", "#FFFF33", "#A65628", "#F781BF", "#999999"))

      par(mar = c(5.1, 4.1, 0, 1))
      plot(selectedData(),
           col = clusters()$cluster,
           pch = 20, cex = 3)
      points(clusters()$centers, pch = 4, cex = 4, lwd = 4)
    })

  }

  shinyApp(ui, server)

}
</code></pre>

<hr>
<h2 id='track_usage'>Track usage of a Shiny app</h2><span id='topic+track_usage'></span>

<h3>Description</h3>

<p>Used in Shiny <code>server</code> it will record all inputs and
output changes and errors that occurs through an output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>track_usage(
  storage_mode,
  what = c("session", "input", "output", "error"),
  exclude_input_regex = NULL,
  exclude_input_id = NULL,
  on_unload = FALSE,
  app_name = NULL,
  exclude_users = NULL,
  get_user = NULL,
  dependencies = TRUE,
  session = getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="track_usage_+3A_storage_mode">storage_mode</code></td>
<td>
<p>Storage mode to use : <code><a href="#topic+store_json">store_json()</a></code>, <code><a href="#topic+store_rds">store_rds()</a></code>,
<code><a href="#topic+store_sqlite">store_sqlite()</a></code> or <code><a href="#topic+store_null">store_null()</a></code>.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_what">what</code></td>
<td>
<p>Elements to record between <code>"session"</code>, <code>"input"</code>, <code>"output"</code> and <code>"error"</code>.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_exclude_input_regex">exclude_input_regex</code></td>
<td>
<p>Regular expression to exclude inputs from tracking.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_exclude_input_id">exclude_input_id</code></td>
<td>
<p>Vector of <code>inputId</code> to exclude from tracking.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_on_unload">on_unload</code></td>
<td>
<p>Logical, save log when user close the browser window or tab,
if <code>TRUE</code> it prevent to create <code>shinylogs</code>
input during normal use of the application, there will
be created only on close, downside is that a popup will appear asking to close the page.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_app_name">app_name</code></td>
<td>
<p>Name of the app as a character string.
If <code>NULL</code>, <code>basename(getwd())</code> (name of the folder where application is located) is used.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_exclude_users">exclude_users</code></td>
<td>
<p>Character vectors of user for whom it is not necessary to save the log.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_get_user">get_user</code></td>
<td>
<p>A <code>function</code> to get user name, it should
return a character and take one argument: the Shiny session.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_dependencies">dependencies</code></td>
<td>
<p>Load dependencies in client, can be set to <code>FALSE</code> if <code><a href="#topic+use_tracking">use_tracking()</a></code> has been called in UI.</p>
</td></tr>
<tr><td><code id="track_usage_+3A_session">session</code></td>
<td>
<p>The shiny session.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The following <code>input</code>s will be accessible in the server:
</p>

<ul>
<li> <p><strong>.shinylogs_lastInput</strong> : last <code>input</code> used by the user
</p>
</li>
<li> <p><strong>.shinylogs_input</strong> : all <code>input</code>s send from the browser to the server
</p>
</li>
<li> <p><strong>.shinylogs_error</strong> : all errors generated by <code>output</code>s elements
</p>
</li>
<li> <p><strong>.shinylogs_output</strong> : all <code>output</code>s generated from the server
</p>
</li>
<li> <p><strong>.shinylogs_browserData</strong> : information about the browser where application is displayed.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Save logs on disk ----------------------------------

if (interactive()) {

  # temporary directory for writing logs
  tmp &lt;- tempdir()

  # when app stop,
  # navigate to the directory containing logs
  onStop(function() {
    browseURL(url = tmp)
  })

  # Classic Iris clustering with Shiny
  ui &lt;- fluidPage(

    headerPanel("Iris k-means clustering"),

    sidebarLayout(
      sidebarPanel(
        selectInput(
          inputId = "xcol",
          label = "X Variable",
          choices = names(iris)
        ),
        selectInput(
          inputId = "ycol",
          label = "Y Variable",
          choices = names(iris),
          selected = names(iris)[[2]]
        ),
        numericInput(
          inputId = "clusters",
          label = "Cluster count",
          value = 3,
          min = 1,
          max = 9
        )
      ),
      mainPanel(
        plotOutput("plot1")
      )
    )
  )

  server &lt;- function(input, output, session) {

    # Store JSON with logs in the temp dir
    track_usage(
      storage_mode = store_json(path = tmp)
    )

    # classic server logic

    selectedData &lt;- reactive({
      iris[, c(input$xcol, input$ycol)]
    })

    clusters &lt;- reactive({
      kmeans(selectedData(), input$clusters)
    })

    output$plot1 &lt;- renderPlot({
      palette(c("#E41A1C", "#377EB8", "#4DAF4A", "#984EA3",
                "#FF7F00", "#FFFF33", "#A65628", "#F781BF", "#999999"))

      par(mar = c(5.1, 4.1, 0, 1))
      plot(selectedData(),
           col = clusters()$cluster,
           pch = 20, cex = 3)
      points(clusters()$centers, pch = 4, cex = 4, lwd = 4)
    })

  }

  shinyApp(ui, server)

}

# Logs in console &amp; special inputs ------------------------

if (interactive()) {
  library(shiny)
  library(shinylogs)

  ui &lt;- fluidPage(
    tags$h2("Record inputs change"),
    fluidRow(
      column(
        width = 3,
        selectInput(
          inputId = "select",
          label = "Select input",
          choices = month.name
        ),
        numericInput(
          inputId = "numeric",
          label = "Numerci input",
          value = 4,
          min = 0, max = 20
        ),
        checkboxGroupInput(
          inputId = "checkboxGroup",
          label = "Checkbox group input",
          choices = LETTERS[1:5]
        ),
        sliderInput(
          inputId = "slider",
          label = "Slider input",
          min = 0, max = 100, value = 50
        )
      ),
      column(
        width = 9,
        tags$b("Last input triggered:"),
        verbatimTextOutput(outputId = "last_input"),
        tags$b("All inputs:"),
        verbatimTextOutput(outputId = "all_inputs")
      )
    )
  )

  server &lt;- function(input, output, session) {

    # dont store on disk, just show in R console
    track_usage(
      storage_mode = store_null()
    )

    # last input triggered
    output$last_input &lt;- renderPrint({
      input$.shinylogs_lastInput
    })

    # all inputs that have changed
    output$all_inputs &lt;- renderPrint({
      input$.shinylogs_input
    })

  }

  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='use_tracking'>Insert dependencies to track usage of a Shiny app</h2><span id='topic+use_tracking'></span>

<h3>Description</h3>

<p>If used in UI of an application,
this will create new <code>input</code>s available in the server.
Set <code>dependencies = FALSE</code> in <code><a href="#topic+track_usage">track_usage()</a></code>
server-side to load dependencies only once.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_tracking(
  what = c("session", "input", "output", "error"),
  exclude_input_regex = NULL,
  exclude_input_id = NULL,
  on_unload = FALSE,
  app_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_tracking_+3A_what">what</code></td>
<td>
<p>Elements to record between <code>"session"</code>, <code>"input"</code>, <code>"output"</code> and <code>"error"</code>.</p>
</td></tr>
<tr><td><code id="use_tracking_+3A_exclude_input_regex">exclude_input_regex</code></td>
<td>
<p>Regular expression to exclude inputs from tracking.</p>
</td></tr>
<tr><td><code id="use_tracking_+3A_exclude_input_id">exclude_input_id</code></td>
<td>
<p>Vector of <code>inputId</code> to exclude from tracking.</p>
</td></tr>
<tr><td><code id="use_tracking_+3A_on_unload">on_unload</code></td>
<td>
<p>Logical, save log when user close the browser window or tab,
if <code>TRUE</code> it prevent to create <code>shinylogs</code>
input during normal use of the application, there will
be created only on close, downside is that a popup will appear asking to close the page.</p>
</td></tr>
<tr><td><code id="use_tracking_+3A_app_name">app_name</code></td>
<td>
<p>Name of the app as a character string.
If <code>NULL</code>, <code>basename(getwd())</code> (name of the folder where application is located) is used.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The following <code>input</code>s will be accessible in the server (according to what is used in <code>record</code> argument):
</p>

<ul>
<li> <p><strong>.shinylogs_lastInput</strong> : last <code>input</code> used by the user
</p>
</li>
<li> <p><strong>.shinylogs_input</strong> : all <code>input</code>s send from the browser to the server
</p>
</li>
<li> <p><strong>.shinylogs_error</strong> : all errors generated by <code>output</code>s elements
</p>
</li>
<li> <p><strong>.shinylogs_output</strong> : all <code>output</code>s generated from the server
</p>
</li>
<li> <p><strong>.shinylogs_browserData</strong> : information about the browser where application is displayed.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

  library(shiny)
  library(shinylogs)

  ui &lt;- fluidPage(

    # Load tracking dependencies
    use_tracking(),

    splitLayout(
      cellArgs = list(style = "height: 250px"),
      radioButtons("radio", "Radio:", names(iris)),
      checkboxGroupInput("checkbox", "Checkbox:", names(iris)),
      selectInput("select", "Select:", names(iris))
    ),

    tags$p("Last input used, the 'name' slot correspond to inputId:"),
    verbatimTextOutput("last")
  )

  server &lt;- function(input, output, session) {

    output$last &lt;- renderPrint({
      input$.shinylogs_lastInput
    })

  }

  shinyApp(ui, server)

}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

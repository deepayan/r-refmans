<!DOCTYPE html><html><head><title>Help for package acc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {acc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#acc'>
<p>Summarizes accelerometer data for multiple types of physical activities</p></a></li>
<li><a href='#acc-internal'><p>Internal mypackage Functions</p></a></li>
<li><a href='#accBatch'>
<p>Summarizes multiple accelerometer datafiles</p></a></li>
<li><a href='#accSummary'>
<p>Summarizes accelerometer data for a single type of physical activity</p></a></li>
<li><a href='#aee'>
<p>Creates an aee object</p></a></li>
<li><a href='#aeefit'>
<p>Fits semiparametric regression models for irregularly observed physical activity data</p></a></li>
<li><a href='#aeexfit'>
<p>Fits semiparametric regression models robust to informative observation times and censoring</p></a></li>
<li><a href='#aggAcc'>
<p>Aggregates multiple accelerometer summary files</p></a></li>
<li><a href='#NHANES'><p>NHANES data</p></a></li>
<li><a href='#plotAcc'>
<p>Plots accelerometer data</p></a></li>
<li><a href='#racePlot'>
<p>Race plots of minutes of activity per day</p></a></li>
<li><a href='#readCounts'>
<p>Reads counts data in .dat, .agd, or .csv format for Actigraph GT1M and GT3X devices</p></a></li>
<li><a href='#readCountsBatch'>
<p>Reads multiple accelerometer counts data in a folder</p></a></li>
<li><a href='#readRaw'>
<p>Reads raw data in .csv format for GT3X devices</p></a></li>
<li><a href='#simAcc'>
<p>Simulates accelerometer data based on a hidden Markov model</p></a></li>
<li><a href='#simPA'>
<p>Simulates minutes of physical activity per day</p></a></li>
<li><a href='#summary.aeefit'>
<p>Summary method for aeefit objects</p></a></li>
<li><a href='#summary.aeexfit'>
<p>Summary method for aeexfit objects</p></a></li>
<li><a href='#visGroup'>
<p>Group level plots</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Exploring Accelerometer Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-12-15</td>
</tr>
<tr>
<td>Author:</td>
<td>Jaejoon Song, Matthew G. Cox</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Processes accelerometer data from uni-axial and tri-axial devices,
    and generates data summaries. Also includes functions to plot, analyze, and
    simulate accelerometer data.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), mhsmm</td>
</tr>
<tr>
<td>Imports:</td>
<td>zoo, PhysicalActivity, nleqslv, plyr, methods, DBI, RSQLite,
circlize, ggplot2, R.utils, iterators, Rcpp</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-12-16 22:14:21 UTC; JS</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-12-16 23:29:38</td>
</tr>
</table>
<hr>
<h2 id='acc'>
Summarizes accelerometer data for multiple types of physical activities
</h2><span id='topic+acc'></span>

<h3>Description</h3>

<p>Summarizes accelerometer for multiple types of physical activities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acc(data, tri, axis, spuriousDef, nonwearDef, minWear,
    patype, pacut, epoch, boutsize, tolerance)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acc_+3A_data">data</code></td>
<td>
<p>Data which consists of two columns [TimeStamp,counts] (i.e. accelerometer counts file read in by function readCounts)</p>
</td></tr>
<tr><td><code id="acc_+3A_tri">tri</code></td>
<td>
<p>Whether the data is from a tri-axial accelerometer. Default is tri=&lsquo;FALSE&rsquo;. If tri=&lsquo;TRUE&rsquo; then option &lsquo;axis&rsquo; should be specified.</p>
</td></tr>
<tr><td><code id="acc_+3A_axis">axis</code></td>
<td>
<p>This option is only used for the tri-axial accelerometer. Options are &lsquo;x&rsquo;,&lsquo;y&rsquo;,&lsquo;z&rsquo;,&lsquo;sum&rsquo;, or &lsquo;vm&rsquo;. Options &lsquo;x&rsquo;, &lsquo;y&rsquo;, or &lsquo;z&rsquo; can be specified to summarize data using only data from a single axis. If the option 'vm' is used, the square root of the squared sum of counts from three axes (i.e. <code class="reqn">\sqrt{{x}^{2}+{y}^{2}+{z}^{2}}</code>) are used for the summary. If the option 'sum' is used, sum of the counts from three axes are used.</p>
</td></tr>
<tr><td><code id="acc_+3A_spuriousdef">spuriousDef</code></td>
<td>
<p>Definition of spurious observation. Defined as minutes of consecutive zeros. For example, if spuriousDef = 20, this means that an observation point will be determined as a spurious observation if there are consequtive counts of at least 20 zeros before and after the single non-zero observation. Default is  spuriousDef = 20.</p>
</td></tr>
<tr><td><code id="acc_+3A_nonweardef">nonwearDef</code></td>
<td>
<p>Definition of non-wear time. Defined as minutes of consecutive zeros. For example, if nonwearDef=60, this means that a period will be defined as non-wear time if there are at least 60 consecutive zeros. Default is nonwearDef=60. To consider all observations as wear time specify nonwearDef=&lsquo;Inf&rsquo;.</p>
</td></tr>
<tr><td><code id="acc_+3A_minwear">minWear</code></td>
<td>
<p>Minimum wear time definition. Defined as minutes of wear time. or example, if minWear = 600, this means that a day will be considered valid only if the wear time is at least 600 minutes. Default is minWear = 600. To return summary for all dates in the data, set minWear = 0.</p>
</td></tr>       
<tr><td><code id="acc_+3A_patype">patype</code></td>
<td>
<p>Types of physical activity for summary. For example, to summarize sedentary and moderate-vigorous physical activities, user specifies patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;). This labels the summary accordingly.</p>
</td></tr>
<tr><td><code id="acc_+3A_pacut">pacut</code></td>
<td>
<p>Cut points to be used for the physical activity type. For example, if the user specified patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;), pacut can be specified as pacut=c(c(0,99),c(1952,Inf)). The options requires to have a lower and a upper limit for each activity type (i.e. c(0,99) for sedentary activity). The specified interval includes its lower and upper endpoints (it is a closed interval). </p>
</td></tr>
<tr><td><code id="acc_+3A_epoch">epoch</code></td>
<td>
<p>Epoch size. Default is '1 min'. Other epoch size can be specified using this option (e.g., '1 sec')</p>
</td></tr>
<tr><td><code id="acc_+3A_boutsize">boutsize</code></td>
<td>
<p>Boutsize to summarize a physical activity. If multiple patype is specified, boutsize should be specified for each one (e.g., if patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;) then one can use  boutsize=c(10,10)).</p>
</td></tr>
<tr><td><code id="acc_+3A_tolerance">tolerance</code></td>
<td>
<p>Whether two observations outside the physical activity should be permitted in summarizing a physical activity. If multiple patype is specified, tolerance should be for each one (e.g. if patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;) then one can use tolerance=c(&lsquo;FALSE&rsquo;,&lsquo;TRUE&rsquo;)).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>summary</code></td>
<td>

<p>Returns summary for each specified physical activity types (number of bouts and minutes of the activity), for valid dates.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>References</h3>

<p>Choi, L., Liu, Z., Matthews, C.E. and Buchowski, M.S.  (2011). Validation of Accelerometer Wear and Nonwear Time Classification Algorithm. Med Sci Sports Exerc, 43(2):357-64.
</p>
<p>Hall, K. S., Howe, C. A., Rana, S. R., Martin, C. L., and Morey, M. C. (2013). METs and Accelerometry of Walking in Older Adults: Standard versus Measured Energy Cost. Medicine and Science in Sports and Medicine, 45(3). 574-82.
</p>
<p>Freedson, P., Melanson, E.,  and Sirard, J. (1998). Calibration of the Computer Sciences and Applications, Inc. accelerometer. Medicine and Science in Sports and Exercercise, 30(5):777-81.
</p>
<p>Swartz, A. M., Strath, S. J., Bassett, D. R. Jr., O'Brien, W. L., King, G. A., and Ainsworth, B. E. (2000). Estimation of energy expenditure using CSA accelerometers at hip and wrist sites. Medicine and Science in Sports and Exercercise, 32: S450-456. 
</p>
<p>Copeland, J. L., and Esliger, D. W. (2009). Accelerometer assessment of physical activity in active, healthy older adults. J Aging Phys Act, 17: 17-30. </p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## Example: Loading accelerometer counts data using readCounts function
##      
## Not run: 
library(acc)
infile &lt;- "CountsDataName.dat"
counts &lt;- readCounts(infile)


##
## Example: Summarizing accelerometer data for a sedentary individual
##        

# For this example, data is generated using a Hidden Markov model
# First, a sequence of time is generated
randomTime &lt;- seq(ISOdate(2015,4,1),ISOdate(2015,4,3),"min")
# Load the mhsmm package to generate data using a Hidden Makov model
library(mhsmm)
# It is assumed that the counts are generated from a Hidden Markov model 
# with three states being non-wear, sedentary, and moderate-vigorous activity
J &lt;- 3; initial &lt;- rep(1/J, J)
# Set up a transition matrix for the Hidden Markov model.
P &lt;- matrix(c(0.95, 0.04, 0.01, 
             0.09, 0.9, 0.01, 
             0.1, 0.2, 0.7), byrow='TRUE',nrow = J)
# It is assumed that the counts are realized from a mixture of
# two normal distributions (for sedentary activity and mvpa) 
# and a constant at zero (for non-wear time).
b &lt;- list(mu = c(0, 30, 2500), sigma = c(0, 30, 1000))
model &lt;- hmmspec(init = initial, trans = P, parms.emission = b,dens.emission = dnorm.hsmm)
# Generate data!
train &lt;- simulate.hmmspec(model, nsim = (60*24*2), seed = 1234, rand.emis = rnorm.hsmm)
# Now set up a dataset that mimicks the accelerometry data
counts &lt;- data.frame(TimeStamp = randomTime[1:length(train$x)], counts = train$x)
library(acc)
# summarize the data using the acc function.
# Sedentary and moderate-vigorous activity is summarized, using Freedson's cut points by default.
summary1 &lt;- acc(data=counts, tri='FALSE', axis=NULL,
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype=c('Sedentary','MVPA'),pacut=c(c(0,99),c(1952,Inf)), 
                     boutsize=c(10,10), tolerance=c('FALSE','TRUE'))
summary1  


##
## Example: Summarizing accelerometer data for an active individual.
##

randomTime &lt;- seq(ISOdate(2015,4,1),ISOdate(2015,4,3),"min")
library(mhsmm)
J &lt;- 3; initial &lt;- rep(1/J, J)
P &lt;- matrix(c(0.95, 0.04, 0.01, 
             0.09, 0.7, 0.21, 
             0.1, 0.1, 0.8), byrow='TRUE',nrow = J)
b &lt;- list(mu = c(0, 30, 2500), sigma = c(0, 30, 1000))
model &lt;- hmmspec(init = initial, trans = P, parms.emission = b,dens.emission = dnorm.hsmm)
train &lt;- simulate.hmmspec(model, nsim = (60*24*2), seed = 1234, rand.emission = rnorm.hsmm)

counts &lt;- data.frame(TimeStamp = randomTime[1:length(train$x)], counts = train$x)
library(acc)
summary2 &lt;- acc(data=counts, tri='FALSE', axis=NULL,
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype=c('Sedentary','MVPA'),pacut=c(c(0,99),c(1952,Inf)), 
                     boutsize=c(10,10), tolerance=c('FALSE','TRUE'))
summary2


## End(Not run)
</code></pre>

<hr>
<h2 id='acc-internal'>Internal mypackage Functions</h2><span id='topic+doPanelFit.AEE'></span><span id='topic+doPanelFit.AEEX'></span><span id='topic+doPanelFit.AEE.Bootstrap'></span><span id='topic+doPanelFit.AEEX.Bootstrap'></span><span id='topic+doPanelFit.AEE.Sandwich'></span><span id='topic+doPanelFit.AEEX.Sandwich'></span><span id='topic+estep'></span><span id='topic+estepAEE'></span><span id='topic+is.aee'></span><span id='topic+makePanelMatrix'></span><span id='topic+matrixInverse'></span><span id='topic+rollSumCpp'></span>

<h3>Description</h3>

 
<p>Internal mypackage functions 
</p>


<h3>Details</h3>

 
<p>These are not to be called by the user. 
</p>

<hr>
<h2 id='accBatch'>
Summarizes multiple accelerometer datafiles
</h2><span id='topic+accBatch'></span>

<h3>Description</h3>

<p>Summarizes multiple accelerometer datafiles in a batch mode. Summary can be provided for multiple types of physical activities, by day.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>accBatch(path, tri, axis, spuriousDef, nonwearDef, minWear,
    patype, pacut, epoch, boutsize, tolerance)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="accBatch_+3A_path">path</code></td>
<td>
<p>Path to accelerometer data files read in by function readCounts or readCountsBath. Files in this path can have both uni-axial and tri-axial data. If at least one tri-axial data is present in the path, please specify tri='TRUE' and axis. This information will be used to summarize tri-axial data.</p>
</td></tr>
<tr><td><code id="accBatch_+3A_tri">tri</code></td>
<td>
<p>Is there at least one dataset from a tri-axial accelerometer in the folder? Default is tri=&lsquo;TRUE&rsquo;. If tri=&lsquo;TRUE&rsquo; then option &lsquo;axis&rsquo; should be specified. Default axis is axis='vm'.</p>
</td></tr>
<tr><td><code id="accBatch_+3A_axis">axis</code></td>
<td>
<p>If the data is from a tri-axial device, this option is applied. Options are &lsquo;x&rsquo;,&lsquo;y&rsquo;,&lsquo;z&rsquo;,&lsquo;sum&rsquo;, or &lsquo;vm&rsquo;. Options &lsquo;x&rsquo;, &lsquo;y&rsquo;, or &lsquo;z&rsquo; can be spefied to summarize data using only data from a single axis. If the option 'vm' is used, the square root of the squared sum of counts from three axes (i.e. <code class="reqn">\sqrt{{x}^{2}+{y}^{2}+{z}^{2}}</code>) are used for the summary. If the option 'sum' is used, sum of the counts from three axes are used.</p>
</td></tr>
<tr><td><code id="accBatch_+3A_spuriousdef">spuriousDef</code></td>
<td>
<p>Definition of spurious observation. Defined as minutes of consecutive zeros. For example, if spuriousDef = 20, this means that an observation point will be determined as a spurious observation if there are consequtive counts of at least 20 zeros before and after the single non-zero observation. Default is  spuriousDef = 20.</p>
</td></tr>
<tr><td><code id="accBatch_+3A_nonweardef">nonwearDef</code></td>
<td>
<p>Definition of non-wear time. Defined as minutes of consecutive zeros. For example, if nonwearDef=60, this means that a period will be defined as non-wear time if there are at least 60 consecutive zeros. Default is nonwearDef=60. To consider all observations as wear time specify nonwearDef=&lsquo;Inf&rsquo;</p>
</td></tr>
<tr><td><code id="accBatch_+3A_minwear">minWear</code></td>
<td>
<p>Minimum wear time definition. Defined as minutes of wear time. or example, if minWear = 600, this means that a day will be considered valid only if the wear time is at least 600 minutes. Default is minWear = 600. To return summary for all dates in the data, set minWear = 0.</p>
</td></tr>       
<tr><td><code id="accBatch_+3A_patype">patype</code></td>
<td>
<p>Types of physical activity for summary. For example, to summarize sedentary and moderate-vigorous physical activities, user specifies patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;). This labels the summary accordingly.</p>
</td></tr>
<tr><td><code id="accBatch_+3A_pacut">pacut</code></td>
<td>
<p>Cut points to be used for the physical activity type. For example, if the user specified patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;), pacut can be specified as pacut=c(c(0,99),c(1952,Inf)). The options requires to have a lower and a upper limit for each activity type (i.e. c(0,99) for sedentary activity). The specified interval includes its lower and upper endpoints (it is a closed inerval). </p>
</td></tr>
<tr><td><code id="accBatch_+3A_boutsize">boutsize</code></td>
<td>
<p>Boutsize to summarize a physical activity. If multiple patype is specified, boutsize should be for each one (e.g., if patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;) then one can use  boutsize=c(10,10)).</p>
</td></tr>
<tr><td><code id="accBatch_+3A_epoch">epoch</code></td>
<td>
<p>Epoch size. Default is '1 min'. Other epoch size can be specified using this option (e.g., '1 sec')</p>
</td></tr>
<tr><td><code id="accBatch_+3A_tolerance">tolerance</code></td>
<td>
<p>Whether two observations outside the physical activity should be permitted in summarizing a physical activity. If multiple patype is specified, tolerance should be for each one (e.g., if patype=c(&lsquo;Sedentary&rsquo;,&lsquo;MVPA&rsquo;) then one can use tolerance=c(&lsquo;FALSE&rsquo;,&lsquo;TRUE&rsquo;)).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A folder &lsquo;summaryfiles&rsquo; is created within the specified path. In the folder, summary files are saved by the same filenames as in the accelerometer data for valid days which consists of columns
[Date, SedentaryMinutes, wearTime, numberOfBoutsSed, mvpaMinutes, numberOfBoutsMVPA] 
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>References</h3>

<p>Choi, L., Liu, Z., Matthews, C.E. and Buchowski, M.S.  (2011). Validation of Accelerometer Wear and Nonwear Time Classification Algorithm. Med Sci Sports Exerc, 43(2):357-64.
</p>
<p>Hall, K. S., Howe, C. A., Rana, S. R., Martin, C. L., and Morey, M. C. (2013). METs and Accelerometry of Walking in Older Adults: Standard versus Measured Energy Cost. Medicine and Science in Sports and Medicine, 45(3). 574-82.
</p>
<p>Freedson, P., Melanson, E.,  and Sirard, J. (1998). Calibration of the Computer Sciences and Applications, Inc. accelerometer. Medicine and Science in Sports and Exercercise, 30(5):777-81.
</p>
<p>Swartz, A. M., Strath, S. J., Bassett, D. R. Jr., O'Brien, W. L., King, G. A., and Ainsworth, B. E. (2000). Estimation of energy expenditure using CSA accelerometers at hip and wrist sites. Medicine and Science in Sports and Exercercise, 32: S450-456. 
</p>
<p>Copeland, J. L., and Esliger, D. W. (2009). Accelerometer assessment of physical activity in active, healthy older adults. J Aging Phys Act, 17: 17-30. </p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## Example
##
## Not run: 
mypath &lt;- "C:/Accelerometry files/readfiles"
accBatch(path=mypath, tri='TRUE', axis='vm',
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype=c('Sedentary','MVPA'),pacut=c(c(0,99),c(1952,Inf)), 
                     boutsize=c(10,10), tolerance=c('FALSE','TRUE'))

## End(Not run)
</code></pre>

<hr>
<h2 id='accSummary'>
Summarizes accelerometer data for a single type of physical activity
</h2><span id='topic+accSummary'></span>

<h3>Description</h3>

<p>Summarizes accelerometer data for a single type of physical activity. Functionality is same as function acc, except that this function provides a summary for a single type of physical activity, with more detailed information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>accSummary(data, tri, axis, spuriousDef, nonwearDef, minWear,
    patype, pacut, epoch, boutsize, tolerance, returnbout)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="accSummary_+3A_data">data</code></td>
<td>
<p>Data which consists of two columns [TimeStamp,counts] (i.e. raw accelerometer file read in by function readRaw)</p>
</td></tr>
<tr><td><code id="accSummary_+3A_tri">tri</code></td>
<td>
<p>Whether the data is from a tri-axial accelerometer. Default is tri=&lsquo;FALSE&rsquo;. If tri=&lsquo;TRUE&rsquo; then option &lsquo;axis&rsquo; should be specified.</p>
</td></tr>
<tr><td><code id="accSummary_+3A_axis">axis</code></td>
<td>
<p>This option is only used for the tri-axial accelerometer. Options are &lsquo;x&rsquo;,&lsquo;y&rsquo;,&lsquo;z&rsquo;,&lsquo;sum&rsquo;, or &lsquo;vm&rsquo;. Options &lsquo;x&rsquo;, &lsquo;y&rsquo;, or &lsquo;z&rsquo; can be spefied to summarize data using only data from a single axis. If the option 'vm' is used, the square root of the squared sum of counts from three axes (i.e. <code class="reqn">\sqrt{{x}^{2}+{y}^{2}+{z}^{2}}</code> are used for the summary. If the option 'sum' is used, sum of the counts from three axes are used.</p>
</td></tr>
<tr><td><code id="accSummary_+3A_spuriousdef">spuriousDef</code></td>
<td>
<p>Definition of spurious observation. Defined as minutes of consecutive zeros. For example, if spuriousDef = 20, this means that an observation point will be determined as a spurious observation if there are consequtive counts of at least 20 zeros before and after the single non-zero observation. Default is  spuriousDef = 20.</p>
</td></tr>
<tr><td><code id="accSummary_+3A_nonweardef">nonwearDef</code></td>
<td>
<p>Definition of non-wear time. Defined as minutes of consecutive zeros. For example, if nonwearDef=60, this means that a period will be defined as non-wear time if there are at least 60 consecutive zeros. Default is nonwearDef=60. To consider all observations as wear time specify nonwearDef=&lsquo;Inf&rsquo;</p>
</td></tr>
<tr><td><code id="accSummary_+3A_minwear">minWear</code></td>
<td>
<p>Minimum wear time definition. Defined as minutes of wear time. or example, if minWear = 600, this means that a day will be considered valid only if the wear time is at least 600 minutes. Default is minWear = 600. To return summary for all dates in the data, set minWear = 0.</p>
</td></tr>       
<tr><td><code id="accSummary_+3A_patype">patype</code></td>
<td>
<p>Type of physical activity for summary. For example, to summarize sedentary activity, use option patype=c(&lsquo;Sedentary&rsquo;). To summarize moderate-vigorous physical activities, user specifies patype=c(&lsquo;MVPA&rsquo;). This labels the summary accordingly.</p>
</td></tr>
<tr><td><code id="accSummary_+3A_pacut">pacut</code></td>
<td>
<p>Cut points to be used for the physical activity type. For example, if the user specified patype=c(&lsquo;Sedentary&rsquo;), pacut can be specified as pacut=c(c(0,99)). The options requires to have a lower and a upper limit for each activity type (i.e. c(0,99) for sedentary activity). The specified interval includes its lower and upper endpoints (it is a closed inerval).</p>
</td></tr>
<tr><td><code id="accSummary_+3A_boutsize">boutsize</code></td>
<td>
<p>Boutsize to summarize a physical activity. If multiple patype is specified, boutsize should be for each one (e.g., if patype=c(&lsquo;Sedentary&rsquo;) then one can use  boutsize=c(10)).</p>
</td></tr>
<tr><td><code id="accSummary_+3A_epoch">epoch</code></td>
<td>
<p>Epoch size. Default is '1 min'. Other epoch size can be specified using this option (e.g., '1 sec')</p>
</td></tr>
<tr><td><code id="accSummary_+3A_tolerance">tolerance</code></td>
<td>
<p>Whether two observations outside the physical activity cut point should be permitted in summarizing a physical activity (e.g. if patype=c(&lsquo;Sedentary&rsquo;) then one can use tolerance=c(&lsquo;FALSE&rsquo;)).</p>
</td></tr>
<tr><td><code id="accSummary_+3A_returnbout">returnbout</code></td>
<td>
<p>Whether to return data with bout indicators. If returnbout='FALSE' then only a summary of daily physical activity is returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If returnbout='FALSE', then a summary for each specified physical activity types (number of bouts and minutes of the activity), for valid dates. Defaults to 'TRUE'.
</p>
<p>If returnbout='TRUE', then a list of summary object is returned with:
</p>
<table>
<tr><td><code>totalDates</code></td>
<td>
<p>Number of unique days available in data.</p>
</td></tr>
<tr><td><code>validDates</code></td>
<td>
<p>A summary for each specified physical activity types (number of bouts and minutes of the activity), for valid dates (as defined by minWear).</p>
</td></tr>
<tr><td><code>PA</code></td>
<td>
<p>Data supplied by the user is returned with three additional columns [inPA, nonwear, inboutPA], indicating whether the observation was considered to be in the defined cutpoint of the physical activity (inPA), in the defined cutpoint of nonwear time (nonwear), or in bout (inboutPA), respectively.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>References</h3>

<p>Choi, L., Liu, Z., Matthews, C.E. and Buchowski, M.S.  (2011). Validation of Accelerometer Wear and Nonwear Time Classification Algorithm. Med Sci Sports Exerc, 43(2):357-64.
</p>
<p>Hall, K. S., Howe, C. A., Rana, S. R., Martin, C. L., and Morey, M. C. (2013). METs and Accelerometry of Walking in Older Adults: Standard versus Measured Energy Cost. Medicine and Science in Sports and Medicine, 45(3). 574-82.
</p>
<p>Freedson, P., Melanson, E.,  and Sirard, J. (1998). Calibration of the Computer Sciences and Applications, Inc. accelerometer. Medicine and Science in Sports and Exercercise, 30(5):777-81.
</p>
<p>Swartz, A. M., Strath, S. J., Bassett, D. R. Jr., O'Brien, W. L., King, G. A., and Ainsworth, B. E. (2000). Estimation of energy expenditure using CSA accelerometers at hip and wrist sites. Medicine and Science in Sports and Exercercise, 32: S450-456. 
</p>
<p>Copeland, J. L., and Esliger, D. W. (2009). Accelerometer assessment of physical activity in active, healthy older adults. J Aging Phys Act, 17: 17-30. </p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## Example 1: Loading the activity counts data using readCounts function
##      
## Not run: 
library(acc)
infile &lt;- "DataName.dat"
counts &lt;- readCounts(infile)


##
## Example 2: Summarizing accelerometer data for a sedentary individual"  
##        

# For this example, data is generated using a Hidden Markov model
# First, a sequence of time is generated
randomTime &lt;- seq(ISOdate(2015,4,1),ISOdate(2015,4,3),"min")
# Load the mhsmm package to generate data using a Hidden Makov model
library(mhsmm)
# It is assumed that the counts are generated from a Hidden Markov model 
# with three states, being non-wear, sedentary, and moderate-vigorous activity
J &lt;- 3; initial &lt;- rep(1/J, J)
# Set up a transition matrix for the Hidden Markov model.
P &lt;- matrix(c(0.95, 0.04, 0.01, 
             0.09, 0.9, 0.01, 
             0.1, 0.2, 0.7), byrow='TRUE',nrow = J)
# It is assumed that the counts are realized from a mixture of
# two normal distributions (for sedentary activity and mvpa) 
# and a constant at zero (for non-wear time).
b &lt;- list(mu = c(0, 30, 2500), sigma = c(0, 30, 1000))
model &lt;- hmmspec(init = initial, trans = P, parms.emission = b,dens.emission = dnorm.hsmm)
# Generate data!
train &lt;- simulate.hmmspec(model, nsim = (60*24*2), seed = 1234, rand.emis = rnorm.hsmm)
# Now set up a dataset that mimicks the accelerometry data
counts &lt;- data.frame(TimeStamp = randomTime[1:length(train$x)], counts = train$x)
library(acc)
# summarize the data using the acc function.
# Sedentary and moderate-vigorous activity is summarized, using Freedson's cut points by default.
# Option returnbout='TRUE' returns a more detailed information on how the summary was calculated.
summary1 &lt;- accSummary(data=counts, tri='FALSE', axis=NULL,
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype='MVPA',pacut=c(1952,Inf), 
                     boutsize=10, tolerance='TRUE',returnbout='TRUE')
summary1$validDates # This returns the same summary as when returnbout='FALSE'
# summary1$PA # This returns the activity classification and bout information

##
## Example 3: Summarizing accelerometer data for an active individual.
##

randomTime &lt;- seq(ISOdate(2015,4,1),ISOdate(2015,4,3),"min")
library(mhsmm)
J &lt;- 3; initial &lt;- rep(1/J, J)
P &lt;- matrix(c(0.95, 0.04, 0.01, 
             0.09, 0.7, 0.21, 
             0.1, 0.1, 0.8), byrow='TRUE',nrow = J)
b &lt;- list(mu = c(0, 30, 2500), sigma = c(0, 30, 1000))
model &lt;- hmmspec(init = initial, trans = P, parms.emission = b,dens.emission = dnorm.hsmm)
train &lt;- simulate.hmmspec(model, nsim = (60*24*2), seed = 1234, rand.emission = rnorm.hsmm)

counts &lt;- data.frame(TimeStamp = randomTime[1:length(train$x)], counts = train$x)
library(acc)
# Option returnbout='TRUE' returns a more detailed information on how the summary was calculated.
summary2 &lt;- accSummary(data=counts, tri='FALSE', axis=NULL,
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype='MVPA',pacut=c(1952,Inf), 
                     boutsize=10, tolerance='TRUE',returnbout='TRUE')
summary2$validDates # This returns the same summary as when returnbout='FALSE'
# summary2$PA # This returns the activity classification and bout information


## End(Not run)
</code></pre>

<hr>
<h2 id='aee'>
Creates an aee object
</h2><span id='topic+aee'></span>

<h3>Description</h3>

<p>Creates an aee object for semiparametric regression with augmented estimating equation. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aee(ID, time, minutes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aee_+3A_id">ID</code></td>
<td>
<p>Individual identifier</p>
</td></tr>
<tr><td><code id="aee_+3A_time">time</code></td>
<td>
<p>Observation time</p>
</td></tr>
<tr><td><code id="aee_+3A_minutes">minutes</code></td>
<td>
<p>Minutes of physical activity</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>psDF</code></td>
<td>
<p>A data frame, part of original input data frame with variable &quot;ID&quot;, &quot;time&quot; and &quot;count&quot;</p>
</td></tr>
<tr><td><code>timeGrid</code></td>
<td>
<p>Ordered distinct observation times in the set of all observation times</p>
</td></tr>
<tr><td><code>panelMatrix</code></td>
<td>
<p>a matrix representation of panel count data, one row per subject, one column per time point in &quot;timeGrid&quot;</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>References</h3>

<p>Wang, X. and Yan, J. (2011). Fitting semiparametric regressions for panel count survival data with an R package spef. Computer Methods and Programs in Biomedicine, 104, 278-285.
</p>
<p>Wang, X., Ma, S., and Yan, J. (2013). Augmented estimating equations for semiparametric panel count regression with informative observation times and censoring time. Statistica Sinica, 23, 359-381.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# We illustrate the use of function aeexfit
# with the sample data from the National Health and Nutrition Examination Survey (NHANES) 
# to examine the association between the cardiorespiratory function (i.e., VO2max) 
# and daily minutes of moderate to vigorous physical activity (MVPA).

data(NHANES)
formula &lt;- aee(ID, Day, mvpaMinutes) ~ VO2max
# Standard errors are obtained using sandwich estimation
fitted &lt;- aeexfit(formula = formula, data = NHANES, se = "Sandwich")
summary(fitted)

## End(Not run)
</code></pre>

<hr>
<h2 id='aeefit'>
Fits semiparametric regression models for irregularly observed physical activity data
</h2><span id='topic+aeefit'></span>

<h3>Description</h3>

<p>Fits semiparametric regression models for irregularly observed physical activity data under conditional independent censoring
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aeefit(formula, data, weight, se, control=list(), boot)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aeefit_+3A_formula">formula</code></td>
<td>
<p>A formula object as returned by aee.</p>
</td></tr>
<tr><td><code id="aeefit_+3A_data">data</code></td>
<td>
<p>A data frame which includes individuals' ID, observation times, and minutes of physical activity since the last observation time.</p>
</td></tr>
<tr><td><code id="aeefit_+3A_weight">weight</code></td>
<td>
<p>A vector of sampling weights, for each individual.By default, no sampling weights are applied.</p>
</td></tr>
<tr><td><code id="aeefit_+3A_se">se</code></td>
<td>
<p>The method of estimating standard errors can be chosen by the argument se. Two options are available: i) the sandwhich estimation (se = 'Sandwich'), or ii) the bootstrap procedure (se = 'Bootstrap').</p>
</td></tr>
<tr><td><code id="aeefit_+3A_control">control</code></td>
<td>
<p>A list of control parameters. See 'Details'.</p>
</td></tr>
<tr><td><code id="aeefit_+3A_boot">boot</code></td>
<td>
<p>The number of resamples generated for the bootstrap procedure.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The control argument is a list athat can supply any of the following components:
</p>

<ul>
<li><p> betaInit: Initial value for covariate coefficient, default is 0.
</p>
</li>
<li><p> interval: Initial search interval for solving beta. Default is (-5,5).
</p>
</li>
<li><p> maxIter: Maximum iterations allowed. Default is 150.
</p>
</li>
<li><p> absTol: Absolute tolerance. Default is 1e-6.
</p>
</li>
<li><p> relTol: Relative tolerance. Default is 1e-6.
</p>
</li>
<li><p> a: A tune parameter. Default is .1. In case of gamma fraility, &quot;a&quot; corresponds to the value of both shape and rate parameters.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>References</h3>

<p>Wang, X. and Yan, J. (2011). Fitting semiparametric regressions for panel count survival data with an R package spef. Computer Methods and Programs in Biomedicine, 104, 278-285.
</p>
<p>Wang, X., Ma, S., and Yan, J. (2013). Augmented estimating equations for semiparametric panel count regression with informative observation times and censoring time. Statistica Sinica, 23, 359-381.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(NHANES)
# Example of analyzing NHANES data 
# Example 1: Not adjusted for sampling weights
nhanesToFit &lt;- NHANES[ which(NHANES$mvpaMinutes!=0), ]
formula &lt;- aee(ID, Day, mvpaMinutes) ~ Age+raceBi+VO2max+Gender
fitted1 &lt;- aeefit(formula=formula, data=nhanesToFit) 
summary(fitted1)

## End(Not run)
</code></pre>

<hr>
<h2 id='aeexfit'>
Fits semiparametric regression models robust to informative observation times and censoring
</h2><span id='topic+aeexfit'></span>

<h3>Description</h3>

<p>Fits semiparametric regression models robust to informative observation times and censoring
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aeexfit(formula, data, weight, se, control=list(), boot)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aeexfit_+3A_formula">formula</code></td>
<td>
<p>A formula object as returned by aee.</p>
</td></tr>
<tr><td><code id="aeexfit_+3A_data">data</code></td>
<td>
<p>A data frame which includes individuals' ID, observation times, and minutes of physical activity since the last observation time.</p>
</td></tr>
<tr><td><code id="aeexfit_+3A_weight">weight</code></td>
<td>
<p>A vector of sampling weights, for each individual.By default, no sampling weights are applied.</p>
</td></tr>
<tr><td><code id="aeexfit_+3A_se">se</code></td>
<td>
<p>The method of estimating standard errors can be chosen by the argument se. Two options are available: i) the sandwhich estimation (se = 'Sandwich'), or ii) the bootstrap procedure (se = 'Bootstrap').</p>
</td></tr>
<tr><td><code id="aeexfit_+3A_control">control</code></td>
<td>
<p>A list of control parameters. See 'Details'.</p>
</td></tr>
<tr><td><code id="aeexfit_+3A_boot">boot</code></td>
<td>
<p>The number of resamples generated for the bootstrap procedure.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The control argument is a list athat can supply any of the following components:
</p>

<ul>
<li><p> betaInit: Initial value for covariate coefficient, default is 0.
</p>
</li>
<li><p> interval: Initial search interval for solving beta. Default is (-5,5).
</p>
</li>
<li><p> maxIter: Maximum iterations allowed. Default is 150.
</p>
</li>
<li><p> absTol: Absolute tolerance. Default is 1e-6.
</p>
</li>
<li><p> relTol: Relative tolerance. Default is 1e-6.
</p>
</li>
<li><p> a: A tune parameter. Default is .1. In case of gamma fraility, &quot;a&quot; corresponds to the value of both shape and rate parameters.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>References</h3>

<p>Wang, X. and Yan, J. (2011). Fitting semiparametric regressions for panel count survival data with an R package spef. Computer Methods and Programs in Biomedicine, 104, 278-285.
</p>
<p>Wang, X., Ma, S., and Yan, J. (2013). Augmented estimating equations for semiparametric panel count regression with informative observation times and censoring time. Statistica Sinica, 23, 359-381.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

data(NHANES)
formula &lt;- aee(ID, Day, mvpaMinutes) ~ VO2max
# Standard errors are obtained using sandwich estimation
fitted &lt;- aeexfit(formula = formula, data = NHANES, se = "Sandwich")
summary(fitted)

## End(Not run)
</code></pre>

<hr>
<h2 id='aggAcc'>
Aggregates multiple accelerometer summary files
</h2><span id='topic+aggAcc'></span>

<h3>Description</h3>

<p>Aggregates multiple accelerometer summary files (e.g. summary files for multiple individuals) by day. This function can be used in sequence with readRawBatch and accBatch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggAcc(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggAcc_+3A_path">path</code></td>
<td>
<p>Path to accelerometer summary files created by function acc or accBatch</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A folder &lsquo;aggregate&rsquo; is created within the specified path. In the folder, aggregate.Rdata file (object &lsquo;aggregate&rsquo;) consists of columns
[ID, Date, SedentaryMinutes, wearTime, numberOfBoutsSed, mvpaMinutes, numberOfBoutsMVPA], where ID is the filename.
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## Example
##
## Not run: 
mypath &lt;- "C:/Accelerometry files/readfiles/summaryfiles"
aggAcc(mypath)

## End(Not run)

</code></pre>

<hr>
<h2 id='NHANES'>NHANES data</h2><span id='topic+NHANES'></span>

<h3>Description</h3>

<p>NHANES 2003 data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(NHANES)
</code></pre>


<h3>Format</h3>

<p>A data frame with 19323 rows and 11 variables. This consists physical activity data for 2763 individuals.</p>


<h3>Details</h3>


<ul>
<li><p> ID: Individual's ID
</p>
</li>
<li><p> Day: Order of the seven day measurement perior 1-7.
</p>
</li>
<li><p> SedentaryMinutes: Sedentary minutes per day in 10 minute bouts.
</p>
</li>
<li><p> numberOfBoutsSed: Number of sedentary bouts per day in 10 minute bouts.
</p>
</li>
<li><p> mvpaMinutes: Minutes of moderate to vigorous physical activity per day in 10 minute bouts.
</p>
</li>
<li><p> numberOfBoutsMVPA: Number of moderate to vigorous physical activity bouts per day in 10 minute bouts.
</p>
</li>
<li><p> wearTime: Wear time per day.
</p>
</li>
<li><p> Gender: Participant's gender.
</p>
</li>
<li><p> Age: Participant's age.
</p>
</li>
<li><p> VO2max: Participant's V02max at baseline.
</p>
</li>
<li><p> raceBI: Participant's race (white=1, otherwise=0).
</p>
</li></ul>


<hr>
<h2 id='plotAcc'>
Plots accelerometer data
</h2><span id='topic+plotAcc'></span>

<h3>Description</h3>

<p>Plots accelerometer data. This function receives summary object from function accsummary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotAcc(object,markbouts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotAcc_+3A_object">object</code></td>
<td>
<p>An object returned from either the function accsummary.</p>
</td></tr>
<tr><td><code id="plotAcc_+3A_markbouts">markbouts</code></td>
<td>
<p>Whether to mark bouts. If markbout='TRUE' a bar along the time axis will indicate whether the epoch was counted as in bout or not. Default is false. </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot is returned.
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
##
## Example: Simulate a dataset for two days, for an individual with low MVPA level.
##
mvpaLowData &lt;- simAcc(timelength=(60*24*2),paLevel='low')
summary &lt;- accSummary(data=mvpaLowData)
summary$validDates
plotAcc(summary,markbouts='FALSE')

##
## Example: Simulate a dataset for two days, for an individual with moderate MVPA level.
##
mvpaModData &lt;- simAcc(timelength=(60*24*2),paLevel='moderate')
summary &lt;- accSummary(data=mvpaModData, tri='FALSE', axis=NULL,
             spuriousDef=20, nonwearDef=60, minWear=600, 
             patype='MVPA',pacut=c(1952,Inf), boutsize=10, 
             tolerance='TRUE', returnbout='TRUE')
summary$validDates
plotAcc(summary,markbouts='FALSE')

##
## Example: Simulate a dataset for two days, for an individual with high MVPA level.
##
mvpaHighData &lt;- simAcc(timelength=(60*24*2),paLevel='high')
summary &lt;- accSummary(data=mvpaHighData, tri='FALSE', axis=NULL,
             spuriousDef=20, nonwearDef=60, minWear=600, 
             patype='MVPA',pacut=c(1952,Inf), boutsize=10, 
             tolerance='TRUE', returnbout='TRUE')
summary$validDates
plotAcc(summary,markbouts='FALSE')


##
## Example: Simulate a tri-axial dataset for five days.
##
  library(acc)
  library(mhsmm)
  seedset=1234
  minutes=(60*24*5)
  randomTime &lt;- seq(ISOdate(2015,1,1),ISOdate(2020,1,1),"min")
  J &lt;- 3; initial &lt;- rep(1/J, J)
  P &lt;- matrix(rep(NA,9),byrow='TRUE',nrow=J)

  P1 &lt;- matrix(c(0.95, 0.04, 0.01, 
                  0.09, 0.9, 0.01, 
                  0.1, 0.2, 0.7), byrow='TRUE',nrow = J)

  b &lt;- list(mu = c(0, 30, 2500), sigma = c(0, 30, 1000))
  model1 &lt;- hmmspec(init = initial, trans = P1, parms.emis = b,dens.emis = dnorm.hsmm)
  x &lt;- simulate.hmmspec(model1, nsim = (minutes), seed = seedset, rand.emis = rnorm.hsmm)

  seedset=12345
  P2 &lt;- matrix(c(0.95, 0.04, 0.01, 
                  0.09, 0.8, 0.11, 
                  0.1, 0.1, 0.8), byrow='TRUE',nrow = J)
  model2 &lt;- hmmspec(init = initial, trans = P2, parms.emis = b,dens.emis = dnorm.hsmm)
  y &lt;- simulate.hmmspec(model2, nsim = (minutes), seed = seedset, rand.emis = rnorm.hsmm)

  seedset=123456
  P3 &lt;- matrix(c(0.95, 0.04, 0.01, 
                  0.09, 0.8, 0.11, 
                  0.1, 0.1, 0.8), byrow='TRUE',nrow = J)
  model3 &lt;- hmmspec(init = initial, trans = P3, parms.emis = b,dens.emis = dnorm.hsmm)
  z &lt;- simulate.hmmspec(model3, nsim = (minutes), seed = seedset, rand.emis = rnorm.hsmm)

  counts &lt;- data.frame(TimeStamp = randomTime[1:minutes], x=x$x, y=y$x, z=z$x)
  summary &lt;- accSummary(data=counts, tri='TRUE', axis='vm',
                        spuriousDef=20, nonwearDef=60, minWear=600, 
                        patype='MVPA',pacut=c(1952,Inf), boutsize=10, tolerance='TRUE',
                        returnbout='TRUE')
summary$validDates

plotAcc(summary,markbouts='FALSE')

## End(Not run)

</code></pre>

<hr>
<h2 id='racePlot'>
Race plots of minutes of activity per day
</h2><span id='topic+racePlot'></span>

<h3>Description</h3>

<p>Race plots of minutes of activity per day, for several activity types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>racePlot(summary,title,cex.title,cex.text,cex.center,color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="racePlot_+3A_summary">summary</code></td>
<td>
<p>An object returned from function acc.</p>
</td></tr>
<tr><td><code id="racePlot_+3A_title">title</code></td>
<td>
<p>Title of the plot</p>
</td></tr>
<tr><td><code id="racePlot_+3A_cex.title">cex.title</code></td>
<td>
<p>Font size of the title</p>
</td></tr>
<tr><td><code id="racePlot_+3A_cex.text">cex.text</code></td>
<td>
<p>Font size of the race track labels</p>
</td></tr>
<tr><td><code id="racePlot_+3A_cex.center">cex.center</code></td>
<td>
<p>Font size of the day indicator in the center of the plot</p>
</td></tr>
<tr><td><code id="racePlot_+3A_color">color</code></td>
<td>
<p>Color of the race tracks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot is returned.
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(acc)
##
## Example: Simulate a dataset for seven days, for an individual with low MVPA level.
##
mvpaModData &lt;- simAcc(timelength=(60*24*7),paLevel='moderate')

summary1 &lt;- acc(data=mvpaModData, tri='FALSE', axis='NULL',
spuriousDef=20, nonwearDef=60, minWear=600,epoch=c('1 min','1 min'),
patype=c('Sedentary','MVPA'),pacut=c(c(0,99),c(1952,Inf)),
boutsize=c(10,10), tolerance=c('FALSE','TRUE'))
summary1

racePlot(summary1,title="Summary of Physical Activity Per Day",
cex.title=1,cex.text=1.2)

## End(Not run)
</code></pre>

<hr>
<h2 id='readCounts'>
Reads counts data in .dat, .agd, or .csv format for Actigraph GT1M and GT3X devices
</h2><span id='topic+readCounts'></span>

<h3>Description</h3>

<p>Reads counts data in .dat, .agd, or .csv format for Actigraph GT1M and GT3X devices. Device type and epoch is automatically detected and reported in the console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readCounts(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readCounts_+3A_filename">filename</code></td>
<td>
<p>Speficy full file path and file name. e.g. C:/mydata.dat or C:/mydata.csv</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For uni-axial accelerometer (GT1M), two columns are returned, consisting of: [TimeStamp,Counts]
For tri-axial accelerometer (GT3X), four columns are returned, consisting of: [TimeStamp,x,y,z]
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##
## A example to read counts data
##
## Not run: 
accData1 &lt;- readCounts("C:/mydata.agd")
accData1 &lt;- readCounts("C:/mydata.dat")
accData2 &lt;- readCounts("C:/mydata.csv")

## End(Not run)


</code></pre>

<hr>
<h2 id='readCountsBatch'>
Reads multiple accelerometer counts data in a folder
</h2><span id='topic+readCountsBatch'></span>

<h3>Description</h3>

<p>Reads multiple accelerometer counts data in a folder. This is a batch mode of the readCounts function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readCountsBatch(path,filetype)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readCountsBatch_+3A_path">path</code></td>
<td>
<p>Path to a folder which contains accelerometer counts data in .dat or .csv format.</p>
</td></tr>
<tr><td><code id="readCountsBatch_+3A_filetype">filetype</code></td>
<td>
<p>Specify whether the data to read is in dat or csv format. Options are either 'dat' or 'csv'. For example if filetype = 'csv' is specified, all csv data will be read and all other types in the same folder will be ignored. By defalt, it is assumed that all files in the specified path are either csv or dat files and are intended to be read.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A folder &lsquo;readfiles&rsquo; is created inside the specified 'path'. In the folder, files are saved by the same filenames as in the raw data.
</p>
<p>For uni-axial accelerometer (GT1M), two columns are returned, consisting of: [TimeStamp,Counts]
For tri-axial accelerometer (GT3X), four columns are returned, consisting of: [TimeStamp,x,y,z]
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## Example
##
# filepath to locate the activity counts data files
## Not run: 
mypath &lt;- "C:/Accelerometry files"
readCountsBatch(mypath,filetype='csv')

## End(Not run)
</code></pre>

<hr>
<h2 id='readRaw'>
Reads raw data in .csv format for GT3X devices
</h2><span id='topic+readRaw'></span>

<h3>Description</h3>

<p>Reads raw data in .csv format for Actigraph GT3X devices. Device type and epoch is automatically detected and reported in the console. Marks activity intensity based on two existing methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readRaw(filepath,type,resting)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readRaw_+3A_filepath">filepath</code></td>
<td>
<p>Speficy full file path and file name. (e.g. 'C:/mydata.csv')</p>
</td></tr>
<tr><td><code id="readRaw_+3A_type">type</code></td>
<td>
<p>Specify how activity intensity is identified. Options: i) 'mad' for Vaha-Ypya method, ii) 'ai' for Bai et al.'s method, or iii) 'resting' to calculate resting state intensity level required for Bai's method</p>
</td></tr>
<tr><td><code id="readRaw_+3A_resting">resting</code></td>
<td>
<p>Resting state intensity level, required for Bai et al.'s method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the option 'type' is 'mad' or 'ai', five columns are returned, consisting of first four columns [TimeStamp,x,y,z], and the intensity category/level. If the option 'type' is 'resting' then a vector of resting state intensity level is returned.
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##
## A example to read counts data
##
## Not run: 
# For Vaha-Ypya et al.'s method
accData1 &lt;- readRaw("C:/mydata.csv",type='mad')
# For Bai et al.'s method with known resting state intensities
accData2 &lt;- readRaw("C:/mydata.csv",type='ai',resting=c(.15,.16,.17))
# Calculating resting state intensity for Bai et al.'s method
restingIntensity &lt;- readRaw("C:/mydata.csv",type='resting')
accData3 &lt;- readRaw("C:/mydata.csv",type='ai',resting=restingIntensity)

## End(Not run)


</code></pre>

<hr>
<h2 id='simAcc'>
Simulates accelerometer data based on a hidden Markov model
</h2><span id='topic+simAcc'></span>

<h3>Description</h3>

<p>Simulates accelerometer data. The simulation function is based on a hidden Markov model, as described in the example for function acc. This function is provided for convenience to generate data from a pre-specified transition probabilities to mimic activity levels of low, moderate and high. To generate data from a specific transition probabilities and distributions, please refer to the example for function acc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simAcc(timelength,paLevel,epoch,startDate,endDate,
       mu,sigma,seedset,tpm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simAcc_+3A_timelength">timelength</code></td>
<td>
<p>Number of observations to be generated.</p>
</td></tr>
<tr><td><code id="simAcc_+3A_palevel">paLevel</code></td>
<td>
<p>Pre-specified levels of physical activity for convenience. User can specify all parameter as preferred, by stating the option as paLevel=NULL. Default is &lsquo;moderate&rsquo;. Options: 1) &lsquo;low&rsquo;, &lsquo;moderate&rsquo;, or &lsquo;high&rsquo;. Low specifies a hidden markov model with transition probabilities 0.95, 0.04, 0.01, 0.09, 0.9, 0.01, 0.1, 0.2, 0.7, respectively for P11, P12, P13, P21, P22, P23, P31, P32, P33, respectively. Moderate specifies a hidden markov model with transition probabilities 0.95, 0.04, 0.01, 0.09, 0.8, 0.11, 0.1, 0.1, 0.8 respectively for P11, P12, P13, P21, P22, P23, P31, P32, P33, respectively. High specifies a hidden markov model with transition probabilities 0.95, 0.04, 0.01, 0.09, 0.7, 0.21, 0.1, 0.1, 0.8, respectively for P11, P12, P13, P21, P22, P23, P31, P32, P33, respectively. For all levels, it is assumed that the activity intensities are realized from a mixture of two normal distributions (for sedentary activity and mvpa)  and a constant at zero (for non-wear time), with means mu = c(0, 30, 2500) and variance  sigma = c(0, 30, 1000).</p>
</td></tr>
<tr><td><code id="simAcc_+3A_epoch">epoch</code></td>
<td>
<p>Epoch size. User can specify desired epoch size in units of time larger than seconds. Defaults to 1 minute epoch.</p>
</td></tr>
<tr><td><code id="simAcc_+3A_startdate">startDate</code></td>
<td>
<p>Start date in ISOdate format. For example ISOdate(2017,1,1,hour=0,min=0,sec=0,tz=&quot;GMT&quot;).</p>
</td></tr>
<tr><td><code id="simAcc_+3A_enddate">endDate</code></td>
<td>
<p>End date in ISOdate format. For example ISOdate(2017,1,1,hour=0,min=0,sec=0,tz=&quot;GMT&quot;).</p>
</td></tr>
<tr><td><code id="simAcc_+3A_mu">mu</code></td>
<td>
<p>Mean levels for each activity type.</p>
</td></tr>
<tr><td><code id="simAcc_+3A_sigma">sigma</code></td>
<td>
<p>Standard deviations for each activity type.</p>
</td></tr>
<tr><td><code id="simAcc_+3A_seedset">seedset</code></td>
<td>
<p>Sets seed for random data generation. Defaults to 1234.</p>
</td></tr>
<tr><td><code id="simAcc_+3A_tpm">tpm</code></td>
<td>
<p>Transition probability matrix that specify probability of change from one activity state to another.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A simulated dataset is returned with two columns:
[TimeStamp, counts] 
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
##
## Example: Simulate a dataset for two days, for an individual with low activity level.
##
mvpaLowData &lt;- simAcc(timelength=(60*24*2),paLevel='low')
summary &lt;- acc(data=mvpaLowData, tri='FALSE', axis=NULL,
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype=c('Sedentary','MVPA'),pacut=c(c(0,99),c(1952,Inf)), 
                     boutsize=c(10,10), tolerance=c('FALSE','TRUE'))
summary

##
## Example: Simulate a dataset for two days, for an individual with moderate activity level.
##
mvpaLowData &lt;- simAcc(timelength=(60*24*2),paLevel='moderate')
summary &lt;- acc(data=mvpaLowData, tri='FALSE', axis=NULL,
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype=c('Sedentary','MVPA'),pacut=c(c(0,99),c(1952,Inf)), 
                     boutsize=c(10,10), tolerance=c('FALSE','TRUE'))
summary

##
## Example: Simulate a dataset for two days, for an individual with high activity level.
##
mvpaLowData &lt;- simAcc(timelength=(60*24*2),paLevel='high')
summary &lt;- acc(data=mvpaLowData, tri='FALSE', axis=NULL,
                     spuriousDef=20, nonwearDef=60, minWear=600, 
                     patype=c('Sedentary','MVPA'),pacut=c(c(0,99),c(1952,Inf)), 
                     boutsize=c(10,10), tolerance=c('FALSE','TRUE'))
summary


## End(Not run)
</code></pre>

<hr>
<h2 id='simPA'>
Simulates minutes of physical activity per day
</h2><span id='topic+simPA'></span>

<h3>Description</h3>

<p>Simulates minutes of physical activity per day with realistic missing data patterns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simPA(n, type, beta, minday, maxday)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simPA_+3A_n">n</code></td>
<td>
<p>Number of individuals in the simulated data.</p>
</td></tr>
<tr><td><code id="simPA_+3A_type">type</code></td>
<td>
<p>Whether to simulate data from informative/non-informative observation/censoring patterns. Options: i) 'inf', ii) 'noninf'.</p>
</td></tr>
<tr><td><code id="simPA_+3A_beta">beta</code></td>
<td>
<p>True coefficient for the binary covariate.</p>
</td></tr>
<tr><td><code id="simPA_+3A_minday">minday</code></td>
<td>
<p>Minimun number of observation days.</p>
</td></tr>
<tr><td><code id="simPA_+3A_maxday">maxday</code></td>
<td>
<p>Maximum number of observation days.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A simulated dataset is returned with four columns:
[ID, day, min, x1, z]. 
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## Simulauting data for a single individual 
## with noninformative observation patterns
##
simdata &lt;- simPA(n=1, beta=1.5,type='noninf', minday=6, maxday=7)

</code></pre>

<hr>
<h2 id='summary.aeefit'>
Summary method for aeefit objects
</h2><span id='topic+summary.aeefit'></span>

<h3>Description</h3>

<p>Prints estimated parameters for <code>aeefit</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'aeefit'
summary(object, digits = 3, dig.tst = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.aeefit_+3A_object">object</code></td>
<td>
<p> A <code>aeefit</code> object </p>
</td></tr>
<tr><td><code id="summary.aeefit_+3A_digits">digits</code></td>
<td>
<p>Minimum number of significant digits to be used for most numbers.</p>
</td></tr>
<tr><td><code id="summary.aeefit_+3A_dig.tst">dig.tst</code></td>
<td>
<p>Minimum number of significant digits for the test statistics</p>
</td></tr>
<tr><td><code id="summary.aeefit_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Estimated parameters for aeefit objects
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Will put an example here
</code></pre>

<hr>
<h2 id='summary.aeexfit'>
Summary method for aeexfit objects
</h2><span id='topic+summary.aeexfit'></span>

<h3>Description</h3>

<p>Prints estimated parameters for <code>aeexfit</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'aeexfit'
summary(object, digits = 3, dig.tst = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.aeexfit_+3A_object">object</code></td>
<td>
<p> A <code>aeexfit</code> object </p>
</td></tr>
<tr><td><code id="summary.aeexfit_+3A_digits">digits</code></td>
<td>
<p>Minimum number of significant digits to be used for most numbers.</p>
</td></tr>
<tr><td><code id="summary.aeexfit_+3A_dig.tst">dig.tst</code></td>
<td>
<p>Minimum number of significant digits for the test statistics</p>
</td></tr>
<tr><td><code id="summary.aeexfit_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Estimated parameters for aeefit objects
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Will put an example here
</code></pre>

<hr>
<h2 id='visGroup'>
Group level plots
</h2><span id='topic+visGroup'></span>

<h3>Description</h3>

<p>Group level plots of minutes of activity per day
</p>


<h3>Usage</h3>

<pre><code class='language-R'>visGroup(data,ID,activity,type,title,yaxis,xaxis,time,legendTitle,
         groupBy,groupFun,levels,heatcol)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="visGroup_+3A_data">data</code></td>
<td>
<p>Summary data by day</p>
</td></tr>
<tr><td><code id="visGroup_+3A_id">ID</code></td>
<td>
<p>Name of column that identifies groups or individuals</p>
</td></tr>
<tr><td><code id="visGroup_+3A_activity">activity</code></td>
<td>
<p>Name of column for activity to be plotted</p>
</td></tr>
<tr><td><code id="visGroup_+3A_type">type</code></td>
<td>
<p>Type of plot. Options 'boxplot' or 'heatmap'</p>
</td></tr>
<tr><td><code id="visGroup_+3A_title">title</code></td>
<td>
<p>Title of the plot</p>
</td></tr>
<tr><td><code id="visGroup_+3A_yaxis">yaxis</code></td>
<td>
<p>Axis title for vertical axis</p>
</td></tr>
<tr><td><code id="visGroup_+3A_xaxis">xaxis</code></td>
<td>
<p>Whether to pring the x axis label. Options are TRUE or FALSE</p>
</td></tr>
<tr><td><code id="visGroup_+3A_time">time</code></td>
<td>
<p>Name of column that contains time index</p>
</td></tr>
<tr><td><code id="visGroup_+3A_legendtitle">legendTitle</code></td>
<td>
<p>Title of legend for 'type=heatmap'</p>
</td></tr>
<tr><td><code id="visGroup_+3A_groupby">groupBy</code></td>
<td>
<p>Option to plot by group, for 'type=heatmap'</p>
</td></tr>
<tr><td><code id="visGroup_+3A_groupfun">groupFun</code></td>
<td>
<p>If groupBy is specified, how are two groups defined? Provide a function to specify a statistic that divides the groups. For example, specify 'median' to divide the two groups by the overall median of the data.</p>
</td></tr>
<tr><td><code id="visGroup_+3A_levels">levels</code></td>
<td>
<p>Specifies thresholds for heatmap. For example, user can specify 'levels = c(0,300,600,1440)' to plot a heatmap of four levels.</p>
</td></tr>
<tr><td><code id="visGroup_+3A_heatcol">heatcol</code></td>
<td>
<p>Specifies colors for the heatmap.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot is returned.
</p>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##
## Example: A box plot
##
## Not run: 
library(acc)
data(NHANES)
NHANES_subset &lt;- NHANES[1:300,]
visGroup(
data = NHANES_subset,
activity = 'wearTime',
ID = 'ID',
type = 'boxplot',
title = "Wear time at baseline",
yaxis = "Wear time (minutes per day)",xaxis=TRUE)


##
## Example: A heatmap
##
library(acc)
data(NHANES)
NHANES_subset &lt;- NHANES[1:1000,]

visGroup(
data = NHANES_subset,
ID = 'ID',activity = 'wearTime',
type = 'heatmap',title = "Wear time at baseline",
yaxis = "ID",time = 'Day',
legendTitle = "Wear time",
groupBy = 'VO2max',groupFun = 'median',
levels = c(0,300,600,1440),
heatcol = c("white","mistyrose","lightpink","violetred1"))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package dMrs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dMrs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#opt_sum'><p>opt_sum</p></a></li>
<li><a href='#plot_SURVs'><p>plot_SURVs</p></a></li>
<li><a href='#refData_match'><p>refData_match</p></a></li>
<li><a href='#run_analyses'><p>run_analyses</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Competing Risk in Dependent Net Survival Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-01-09</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides statistical tools for 
	analyzing net and relative survival, with a key feature 
	of relaxing the assumption of independent censoring and 
	incorporating the effect of dependent competing risks. 
	It employs a copula-based methodology, specifically the 
	Archimedean copula, to simulate data, conduct survival 
	analysis, and offer comparisons with other methods. 
	This approach is detailed in the work of 
	Adatorwovor et al. (2022) &lt;<a href="https://doi.org/10.1515%2Fijb-2021-0016">doi:10.1515/ijb-2021-0016</a>&gt;.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, Rcpp, Rmpfr, copula, gplots, ggplot2, viridis, sqldf,
data.table, relsurv</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, markdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-19 06:03:35 UTC; Admin</td>
</tr>
<tr>
<td>Author:</td>
<td>Reuben Adatorwovor [aut],
  Paul Little [cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Little &lt;pllittle321@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-21 15:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='opt_sum'>opt_sum</h2><span id='topic+opt_sum'></span>

<h3>Description</h3>

<p>Summarizes the solutions post-optimization
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_sum(OPT)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_sum_+3A_opt">OPT</code></td>
<td>
<p>Output list from <code>run_analyses()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing a summary of each successfully 
optimized configuration of copula and density with corresponding
constrained maximum likelihood estimates, and Bayesian Information 
Criteria.
</p>

<hr>
<h2 id='plot_SURVs'>plot_SURVs</h2><span id='topic+plot_SURVs'></span>

<h3>Description</h3>

<p>Plot net survival probabilities per model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_SURVs(run_ANA, MULTIPLE, ncol = 1, ALPHA = 0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_SURVs_+3A_run_ana">run_ANA</code></td>
<td>
<p>The object outputted from <code>run_analyses</code>
function.</p>
</td></tr>
<tr><td><code id="plot_SURVs_+3A_multiple">MULTIPLE</code></td>
<td>
<p>A boolean set to <code>TRUE</code> to display
a survival plot per <code>theta</code> with accompanying maximum 
log likelihood. Otherwise, the survival plots will be 
overlayed with a legend.</p>
</td></tr>
<tr><td><code id="plot_SURVs_+3A_ncol">ncol</code></td>
<td>
<p>Integer number of columns of plots to display</p>
</td></tr>
<tr><td><code id="plot_SURVs_+3A_alpha">ALPHA</code></td>
<td>
<p>A numeric value between 0 and 1 to control the
confidence band transparency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a ggplot object of survival predictions and 
corresponding confidence intervals, Bayesian Information Criteria,
maximum likelihood estimates. The user may apply their own
customized graphic edits prior to visualizing the final graphic
with the <code>print()</code> function.
</p>

<hr>
<h2 id='refData_match'>refData_match</h2><span id='topic+refData_match'></span>

<h3>Description</h3>

<p>This function takes as input
a working dataset of interest and a 
reference dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refData_match(wDAT, rDAT, ncores = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="refData_match_+3A_wdat">wDAT</code></td>
<td>
<p>A working dataset data.frame containing 
required columns <code>age</code>, <code>time</code>, <code>datediag_yr</code>, 
and <code>sex</code> corresponding to age, observed time (in years), 
diagnosis year, and sex (coded 'female'/'male'), respectively.</p>
</td></tr>
<tr><td><code id="refData_match_+3A_rdat">rDAT</code></td>
<td>
<p>A reference dataset data.frame containing
required columns <code>year</code>, <code>age</code>, <code>qx</code>,
and <code>sex</code> corresponding to reference year, 
reference age, event's interval hazard, and sex, respectively.</p>
</td></tr>
<tr><td><code id="refData_match_+3A_ncores">ncores</code></td>
<td>
<p>Integer number of parallel threads to decrease
matching runtime.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing calculated log-transformed density and 
log-transformed cumulative distribution
</p>

<hr>
<h2 id='run_analyses'>run_analyses</h2><span id='topic+run_analyses'></span>

<h3>Description</h3>

<p>This function performs a full analysis of 
an inputted dataframe. The user may specify one of two 
copulas, a <code>theta</code> value, a parametric grid to 
search over, and a vector of times for predicting survival.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_analyses(
  DATA,
  THETAs = NULL,
  upKAPPA,
  gTHRES = 0.1,
  COPULAS,
  param_grid,
  vec_time,
  ncores = 1,
  max_iter = 200,
  verb,
  PLOT
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_analyses_+3A_data">DATA</code></td>
<td>
<p>A data.frame containing column names 
<code>time</code> (in years),
<code>delta</code> (event indicator), 
<code>log_dens_t2</code> (log-transformed population-based density), and 
<code>log_cdf_t2</code> (log-transformed population-based cumulative density).</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_thetas">THETAs</code></td>
<td>
<p>A vector of theta values to explore and optimize over.</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_upkappa">upKAPPA</code></td>
<td>
<p>An integer value taking values 0 or 1. If set 
to 1, the exponentiated Weibull distribution is assumed. Otherwise,
the Weibull distribution is assumed and optimized over. If
undefined, the optimization will search over both distributions.</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_gthres">gTHRES</code></td>
<td>
<p>A numeric threshold on the L2 norm of 
the gradient evaluated at the MLE.</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_copulas">COPULAS</code></td>
<td>
<p>If undefined, will optimize over all copulas. 
Otherwise set to 'Independent', 'Clayton' or 'Gumbel'</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_param_grid">param_grid</code></td>
<td>
<p>Vector of values spanning possible 
log(alpha1), log(lambda1), log(kappa1), unconstrained 
theta parameters</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_vec_time">vec_time</code></td>
<td>
<p>Vector of times in years to calculate predicted survival.</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_ncores">ncores</code></td>
<td>
<p>A positive integer for the number of threads to evaluate 
log-likelihoods across the parameter grid.</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_max_iter">max_iter</code></td>
<td>
<p>Maximum Newton Raphson and Gradient Descent iterations
to set.</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_verb">verb</code></td>
<td>
<p>Boolean value to display verbose information or not</p>
</td></tr>
<tr><td><code id="run_analyses_+3A_plot">PLOT</code></td>
<td>
<p>A logical variable, set to <code>TRUE</code> by default to
show the two-dimensional heatmap of the profile likelihood if 
<code>verb = TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a parsable list of results per successfully optimized configuration of copula and density with accompanying net survival predictions, survival confidence intervals, maximum likelihood estimates, MLE confidence intervals (constrained and unconstrained), Bayesian Information Criteria for model selection, and extra statistical metrics to confirm convergence.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

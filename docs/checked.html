<!DOCTYPE html><html><head><title>Help for package checked</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {checked}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#checked-package'><p>checked: Systematically Run R CMD Checks</p></a></li>
<li><a href='#ansi'><p>Various utilities for formatting ANSI output</p></a></li>
<li><a href='#check_design'><p>Check Design Object</p></a></li>
<li><a href='#check_functions'><p>Check functions</p></a></li>
<li><a href='#checks_capture'><p>Parse R CMD checks from a partial check output string</p></a></li>
<li><a href='#checks_df'><p>Check schedule data frame</p></a></li>
<li><a href='#checks_simplify'><p>Simplify Captures into Vector</p></a></li>
<li><a href='#devnull'><p>Reuse or Create A Null File Connection</p></a></li>
<li><a href='#message_possible_isolation_problems'><p>Message if isolation impossible</p></a></li>
<li><a href='#package_spec'><p>Package specification</p></a></li>
<li><a href='#results'><p>Check results</p></a></li>
<li><a href='#run'><p>Run Reverse-Dependency Checks</p></a></li>
<li><a href='#silent_spinner'><p>Create a 'cli' Spinner With Suppressed Output</p></a></li>
<li><a href='#task_graph_create'><p>Create Task Graph</p></a></li>
<li><a href='#task_graph_neighborhoods'><p>Find Task Neighborhood</p></a></li>
<li><a href='#task_graph_sort'><p>Sort Task Graph by Strong Dependency Order</p></a></li>
<li><a href='#task_graph_which_satisfied'><p>Find the Next Packages Not Dependent on an Unavailable Package</p></a></li>
<li><a href='#task_spec'><p>Task specification</p></a></li>
<li><a href='#throttle'><p>Generate A Rate Limiting Throttle Function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Systematically Run R CMD Checks</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Systematically Run R checks against multiple packages. Checks are run in 
    parallel with strategies to minimize dependency installation. Provides
    out of the box interface for running reverse dependency check.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>callr, cli, igraph, jsonlite, R6, rcmdcheck, utils (&ge; 3.6.2),
tools</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>r-lib/asciicast</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-08 23:38:16 UTC; maksymis</td>
</tr>
<tr>
<td>Author:</td>
<td>Szymon Maksymiuk <a href="https://orcid.org/0000-0002-3120-1601"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Doug Kelkhoff <a href="https://orcid.org/0009-0003-7845-4061"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Szymon Maksymiuk &lt;sz.maksymiuk@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-10 16:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='checked-package'>checked: Systematically Run R CMD Checks</h2><span id='topic+checked-package'></span>

<h3>Description</h3>

<p>Systematically Run R checks against multiple packages. Checks are run in parallel with strategies to minimize dependency installation. Provides out of the box interface for running reverse dependency check.
</p>
<p>Systematically Run R checks against multiple packages. Checks are run in parallel with strategies to minimize dependency installation. Provides out of the box interface for running reverse dependency check.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Szymon Maksymiuk <a href="mailto:sz.maksymiuk@gmail.com">sz.maksymiuk@gmail.com</a> (<a href="https://orcid.org/0000-0002-3120-1601">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Doug Kelkhoff <a href="mailto:doug.kelkhoff@gmail.com">doug.kelkhoff@gmail.com</a> (<a href="https://orcid.org/0009-0003-7845-4061">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>


<hr>
<h2 id='ansi'>Various utilities for formatting ANSI output</h2><span id='topic+ansi'></span><span id='topic+ansi_line_erase'></span><span id='topic+ansi_move_line_rel'></span>

<h3>Description</h3>

<p>Various utilities for formatting ANSI output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_line_erase(n = "")

ansi_move_line_rel(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_+3A_n">n</code></td>
<td>
<p>The number of lines to move. Positive is up, negative is down.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>ansi_line_erase()</code>: Erase the current line
</p>
</li>
<li> <p><code>ansi_move_line_rel()</code>: Offset the cursor by a relative number of lines
</p>
</li></ul>

<hr>
<h2 id='check_design'>Check Design Object</h2><span id='topic+check_design'></span>

<h3>Description</h3>

<p>Abstract object that drives all separate processes required to run
R CMD check sequence.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>graph</code></dt><dd><p>(<code>igraph::igraph()</code>)<br />
A dependency graph, storing information about which dependencies
are required prior to execution of each check task.
Created with <code><a href="#topic+task_graph_create">task_graph_create</a></code></p>
</dd>
<dt><code>input</code></dt><dd><p>(<code>data.fragme()</code>)<br />
Checks data.frame which is the source of all the checks
Created with <code><a href="#topic+source_check_tasks_df">source_check_tasks_df</a></code></p>
</dd>
<dt><code>output</code></dt><dd><p>(<code>character(1)</code>)<br />
Output directory where raw results and temporary library will
be created and stored.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-check_design-new"><code>check_design$new()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-active_processes"><code>check_design$active_processes()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-terminate"><code>check_design$terminate()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-step"><code>check_design$step()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-start_next_task"><code>check_design$start_next_task()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-get_process"><code>check_design$get_process()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-pop_process"><code>check_design$pop_process()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-push_process"><code>check_design$push_process()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-is_done"><code>check_design$is_done()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-restore_complete_checks"><code>check_design$restore_complete_checks()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-clone"><code>check_design$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-check_design-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialize a new check design
</p>
<p>Use checks data.frame to generate task graph in which all dependencies
and installation order are embedded.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$new(
  df,
  n = 2L,
  output = tempfile(paste(packageName(), Sys.Date(), sep = "-")),
  lib.loc = .libPaths(),
  repos = getOption("repos"),
  restore = TRUE,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>df</code></dt><dd><p>checks data.frame.</p>
</dd>
<dt><code>n</code></dt><dd><p>integer value indicating maximum number of subprocesses that can
be simultaneously spawned when executing tasks.</p>
</dd>
<dt><code>output</code></dt><dd><p>character value specifying path where the output should be stored.</p>
</dd>
<dt><code>lib.loc</code></dt><dd><p>character vector with libraries allowed to be used when
checking packages, defaults to entire .libPaths().</p>
</dd>
<dt><code>repos</code></dt><dd><p>character vector of repositories which will be used when
generating task graph and later pulling dependencies.</p>
</dd>
<dt><code>restore</code></dt><dd><p>logical value, whether output directory should be unlinked
before running checks. If FALSE, an attempt will me made to restore previous
progress from the same <code>output</code></p>
</dd>
<dt><code>...</code></dt><dd><p>other parameters</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+check_design">check_design</a>.
</p>


<hr>
<a id="method-check_design-active_processes"></a>



<h4>Method <code>active_processes()</code></h4>

<p>Get Active Processes list
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$active_processes()</pre></div>


<hr>
<a id="method-check_design-terminate"></a>



<h4>Method <code>terminate()</code></h4>

<p>Terminate Design Processes
</p>
<p>Immedaitely termiantes all the active processes.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$terminate()</pre></div>


<hr>
<a id="method-check_design-step"></a>



<h4>Method <code>step()</code></h4>

<p>Fill Available Processes with Tasks
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$step()</pre></div>



<h5>Returns</h5>

<p>A logical value, indicating whether processes are actively
running.
</p>


<hr>
<a id="method-check_design-start_next_task"></a>



<h4>Method <code>start_next_task()</code></h4>

<p>Start Next Task
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$start_next_task()</pre></div>



<h5>Returns</h5>

<p>A integer value, coercible to logical to indicate whether a new
process was spawned, or <code>-1</code> if all tasks have finished.
</p>


<hr>
<a id="method-check_design-get_process"></a>



<h4>Method <code>get_process()</code></h4>

<p>Get process
</p>
<p>Return active process for task associated with a given name.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$get_process(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>name of the task</p>
</dd>
</dl>

</div>


<hr>
<a id="method-check_design-pop_process"></a>



<h4>Method <code>pop_process()</code></h4>

<p>Remove active process
</p>
<p>Remove process for the task associated with a given name from the active
process list.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$pop_process(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>name of the task</p>
</dd>
</dl>

</div>


<hr>
<a id="method-check_design-push_process"></a>



<h4>Method <code>push_process()</code></h4>

<p>Add active process
</p>
<p>Adds process for the task associated with a given name to the active the
active process list. Adds finalizer to the process which is always run
when the process finishes.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$push_process(task, x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>task</code></dt><dd><p>name of the task or igraph node object</p>
</dd>
<dt><code>x</code></dt><dd><p>process object to be pushed</p>
</dd>
</dl>

</div>


<hr>
<a id="method-check_design-is_done"></a>



<h4>Method <code>is_done()</code></h4>

<p>Check if checks are done
</p>
<p>Checks whether all the scheduled tasks were successfully executed.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$is_done()</pre></div>


<hr>
<a id="method-check_design-restore_complete_checks"></a>



<h4>Method <code>restore_complete_checks()</code></h4>

<p>Restore complete checks
</p>
<p>Read through the output directory and make an attempt to restore checks
that have already been done. Set identified checks statuses to DONE.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$restore_complete_checks()</pre></div>


<hr>
<a id="method-check_design-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(checked)
df &lt;- source_check_tasks_df(c(
 system.file("example_packages", "exampleBad", package = "checked"),
 system.file("example_packages", "exampleGood", package = "checked")
))

plan &lt;- check_design$new(df, n = 10, repos = "https://cran.r-project.org/")
while (!plan$is_done()) {
 plan$start_next_task()
}

## End(Not run)
</code></pre>

<hr>
<h2 id='check_functions'>Check functions</h2><span id='topic+check_functions'></span><span id='topic+check_reverse_dependencies'></span><span id='topic+check_reverse_dependencies_development'></span><span id='topic+check_packages'></span><span id='topic+check_dir'></span>

<h3>Description</h3>

<p>Set of functions to run orchestrated R CMD checks and automatically manage
the dependencies installation. Each functions prepares the plan based on the
supplied package source(s) which includes installing dependencies and running
required R CMD checks. All the functions are parallelized through sperate processes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_reverse_dependencies(
  path,
  n = 2L,
  output = tempfile(paste(utils::packageName(), Sys.Date(), sep = "-")),
  lib.loc = .libPaths(),
  repos = getOption("repos"),
  reverse_repos = repos,
  restore = TRUE,
  reporter = default_reporter(),
  ...
)

check_reverse_dependencies_development(
  path,
  n = 2L,
  output = tempfile(paste(utils::packageName(), Sys.Date(), sep = "-")),
  lib.loc = .libPaths(),
  repos = getOption("repos"),
  restore = TRUE,
  reporter = default_reporter(),
  ...
)

check_packages(
  path,
  n = 2L,
  output = tempfile(paste(utils::packageName(), Sys.Date(), sep = "-")),
  lib.loc = .libPaths(),
  repos = getOption("repos"),
  restore = TRUE,
  reporter = default_reporter(),
  ...
)

check_dir(
  path,
  n = 2L,
  output = tempfile(paste(utils::packageName(), Sys.Date(), sep = "-")),
  lib.loc = .libPaths(),
  repos = getOption("repos"),
  restore = TRUE,
  reporter = default_reporter(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_functions_+3A_path">path</code></td>
<td>
<p>path to the package source.</p>
</td></tr>
<tr><td><code id="check_functions_+3A_n">n</code></td>
<td>
<p>integer value indicating maximum number of subprocesses that can
be simultaneously spawned when executing tasks.</p>
</td></tr>
<tr><td><code id="check_functions_+3A_output">output</code></td>
<td>
<p>character value specifying path where the output should be stored.</p>
</td></tr>
<tr><td><code id="check_functions_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector with libraries allowed to be used when
checking packages, defaults to entire .libPaths().</p>
</td></tr>
<tr><td><code id="check_functions_+3A_repos">repos</code></td>
<td>
<p>character vector of repositories which will be used when
generating task graph and later pulling dependencies.</p>
</td></tr>
<tr><td><code id="check_functions_+3A_reverse_repos">reverse_repos</code></td>
<td>
<p>character vector of repositories which will be used
to pull sources for reverse dependencies. In some cases, for instance using
binaries on Linux, we want to use different repositories when pulling sources
to check and different when installing dependencies.</p>
</td></tr>
<tr><td><code id="check_functions_+3A_restore">restore</code></td>
<td>
<p>logical value, whether output directory should be unlinked
before running checks. If FALSE, an attempt will me made to restore previous
progress from the same <code>output</code></p>
</td></tr>
<tr><td><code id="check_functions_+3A_reporter">reporter</code></td>
<td>
<p>A reporter to provide progress updates. Will default to the
most expressive command-line reporter given your terminal capabilities.</p>
</td></tr>
<tr><td><code id="check_functions_+3A_...">...</code></td>
<td>
<p>other parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>check_reverse_dependencies</code> runs classical reverse dependency check for
the given source package. It first identifies reverse dependencies available
in repos. Then, after installing all required dependencies, it runs the R CMD check
twice for each package, one time with the release version of the package and
the second time with the development version. Both R CMD checks are later compared
to get the result.
</p>
<p><code>check_reverse_dependencies_development</code> works similarly to <code>check_reverse_dependencies</code>
but it runs R CMD check only once for each package, with the development version of
the package installed. It is advantageous to check whether adding a new
package into repository breaks existing packages that possibly take said package
as Suggests dependency.
</p>
<p><code>check_packages</code> Installs all dependencies and runs parallelly R CMD checks
for all source packages specified by <code>path</code> parameter
</p>
<p><code>check_dir</code> Identifies all R packages in the given directory (non-recursively)
and passes them to the <code>check_packages</code>
</p>


<h3>Value</h3>

<p><code><a href="#topic+check_design">check_design</a></code> R6 class storing all the details
regarding checks that run. Can be combined with <code><a href="#topic+results">results</a></code>
and <code>summary</code> methods to generate results.
</p>

<hr>
<h2 id='checks_capture'>Parse R CMD checks from a partial check output string</h2><span id='topic+checks_capture'></span>

<h3>Description</h3>

<p>Parse R CMD checks from a partial check output string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checks_capture(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checks_capture_+3A_x">x</code></td>
<td>
<p>A string, compsoed of any subsection of R CMD check console output</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of matches and capture groups &quot;check&quot; and &quot;status&quot;
(&quot;OK&quot;, &quot;NONE&quot;, &quot;NOTE&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_output &lt;- "
* checking check one ... OK
* checking check two ... NOTE
* checking tests ...
  Running test_abc.R
  Running test_xyz.R
 NONE
* checking check three ... WARNING
* ch
"

checks_capture(check_output)

</code></pre>

<hr>
<h2 id='checks_df'>Check schedule data frame</h2><span id='topic+checks_df'></span><span id='topic+rev_dep_check_tasks_df'></span><span id='topic+source_check_tasks_df'></span>

<h3>Description</h3>

<p>Create data.frame which each row defines a package for which R CMD check
should be run. Such data.frame is a prerequisite for generating
<code><a href="#topic+check_design">check_design</a></code> which orchestrates all the processes
including dependencies installation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rev_dep_check_tasks_df(
  path,
  repos = getOption("repos"),
  development_only = FALSE
)

source_check_tasks_df(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checks_df_+3A_path">path</code></td>
<td>
<p>path to the package source. See Details.</p>
</td></tr>
<tr><td><code id="checks_df_+3A_repos">repos</code></td>
<td>
<p>repository used to identify reverse dependencies.</p>
</td></tr>
<tr><td><code id="checks_df_+3A_development_only">development_only</code></td>
<td>
<p>logical whether reverse dependency check should be run
only against development version of the package. Applicable mostly when checking
whether adding new package would break tests of packages already in the
repository and taking the package as suggests dependency. Default to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>rev_dep_check_tasks_df</code> generates checks schedule data.frame appropriate
for running reverse dependency check for certain source package. In such case
<code>path</code> parameter should point to the source of the development version of
the package and <code>repos</code> should be a repository for which reverse
dependencies should be identified.
</p>
<p><code>source_check_tasks_df</code> generates checks schedule data.frame for all source
packages specified by the <code>path</code>. Therefore it accepts it to be a vector
of an arbitrary length.
</p>


<h3>Value</h3>

<p>The check schedule data.frame has strict structure and consists of following columns:
</p>

<ul>
<li> <p><code>alias</code> The alias of the check to run. It also serves the purpose of u
unique identifier and node name in the task graph.
</p>
</li>
<li> <p><code>version</code> Version of the package to be checked.
</p>
</li>
<li> <p><code>package</code> Object that inherits from <code><a href="#topic+check_task_spec">check_task_spec</a></code>.
Defines how package to be checked can be acquired.
</p>
</li>
<li> <p><code>custom</code>  Object that inherits from <code><a href="#topic+custom_install_task_spec">custom_install_task_spec</a></code>.
Defines custom package, for instance only available from local source, that
should be installed before checking the package.
</p>
</li></ul>


<hr>
<h2 id='checks_simplify'>Simplify Captures into Vector</h2><span id='topic+checks_simplify'></span>

<h3>Description</h3>

<p>Simplify Captures into Vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checks_simplify(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checks_simplify_+3A_x">x</code></td>
<td>
<p>Matrix of regex captures as produced by <a href="#topic+checks_capture">checks_capture</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of check status, with names indicating the check
</p>

<hr>
<h2 id='devnull'>Reuse or Create A Null File Connection</h2><span id='topic+devnull'></span>

<h3>Description</h3>

<p>Reuse or Create A Null File Connection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>devnull()
</code></pre>

<hr>
<h2 id='message_possible_isolation_problems'>Message if isolation impossible</h2><span id='topic+message_possible_isolation_problems'></span>

<h3>Description</h3>

<p>If <em>R_CHECK_SUGGESTS_ONLY</em> is set to true, R CMD check will isolate package
installation into temporary directory for running tests and examples. However,
isolation is not applied to dependencies installed in the R_HOME library.
The function informs about possible isolation problem if there are any non
base/recommended packages installed in the .Library (R_HOME).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>message_possible_isolation_problems()
</code></pre>

<hr>
<h2 id='package_spec'>Package specification</h2><span id='topic+package_spec'></span><span id='topic+package_spec_source'></span><span id='topic+package_spec_archive_source'></span>

<h3>Description</h3>

<p>Create package specification list which consists of all the details required
to identify and acquire source of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>package_spec(name = NULL, repos = NULL)

package_spec_source(path = NULL, ...)

package_spec_archive_source(path = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="package_spec_+3A_name">name</code></td>
<td>
<p>name of the package.</p>
</td></tr>
<tr><td><code id="package_spec_+3A_repos">repos</code></td>
<td>
<p>repository where package with given name should identified.</p>
</td></tr>
<tr><td><code id="package_spec_+3A_path">path</code></td>
<td>
<p>path to the source of the package (either bundled or not). URLs
are acceptable.</p>
</td></tr>
<tr><td><code id="package_spec_+3A_...">...</code></td>
<td>
<p>parameters passed to downstream constructors</p>
</td></tr>
</table>

<hr>
<h2 id='results'>Check results</h2><span id='topic+results'></span><span id='topic+results.check_design'></span>

<h3>Description</h3>

<p>Get R CMD check results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>results(x, ...)

## S3 method for class 'check_design'
results(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="results_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+check_design">check_design</a></code> object.</p>
</td></tr>
<tr><td><code id="results_+3A_...">...</code></td>
<td>
<p>other parameters.</p>
</td></tr>
</table>

<hr>
<h2 id='run'>Run Reverse-Dependency Checks</h2><span id='topic+run'></span>

<h3>Description</h3>

<p>Run Reverse-Dependency Checks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run(design, ..., reporter = default_reporter())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_+3A_design">design</code></td>
<td>
<p>A reverse-dependency plan, or an object coercible into a
plan.</p>
</td></tr>
<tr><td><code id="run_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
<tr><td><code id="run_+3A_reporter">reporter</code></td>
<td>
<p>A reporter to provide progress updates. Will default to the
most expressive command-line reporter given your terminal capabilities.</p>
</td></tr>
</table>

<hr>
<h2 id='silent_spinner'>Create a 'cli' Spinner With Suppressed Output</h2><span id='topic+silent_spinner'></span>

<h3>Description</h3>

<p>'cli' will implicitly push spinner output to various output streams,
affecting the terminal cursor position. To allow for a terminal interface
that has spinners above the last line, this function suppresses the output
and simply returns its frame contents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>silent_spinner(..., stream = devnull())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="silent_spinner_+3A_...">...</code></td>
<td>
<p>passed to <a href="cli.html#topic+make_spinner">cli::make_spinner</a></p>
</td></tr>
<tr><td><code id="silent_spinner_+3A_stream">stream</code></td>
<td>
<p>passed to <a href="cli.html#topic+make_spinner">cli::make_spinner</a>, defaults to a null file device</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A interface similar to a 'cli' spinner, but with suppressed output
</p>

<hr>
<h2 id='task_graph_create'>Create Task Graph</h2><span id='topic+task_graph_create'></span>

<h3>Description</h3>

<p>Create Task Graph
</p>


<h3>Usage</h3>

<pre><code class='language-R'>task_graph_create(df, repos = getOption("repos"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="task_graph_create_+3A_df">df</code></td>
<td>
<p>data.frame listing</p>
</td></tr>
<tr><td><code id="task_graph_create_+3A_repos">repos</code></td>
<td>
<p>repositories which will be used to identify dependencies chain
to run R CMD checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dependency graph with vertex attributes &quot;root&quot; (a logical value
indicating whether the package as one of the roots used to create the
graph), &quot;status&quot; (installation status) and &quot;order&quot; (installation order).
</p>

<hr>
<h2 id='task_graph_neighborhoods'>Find Task Neighborhood</h2><span id='topic+task_graph_neighborhoods'></span>

<h3>Description</h3>

<p>Find Task Neighborhood
</p>


<h3>Usage</h3>

<pre><code class='language-R'>task_graph_neighborhoods(g, nodes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="task_graph_neighborhoods_+3A_g">g</code></td>
<td>
<p>A task graph, as produced with <code><a href="#topic+task_graph_create">task_graph_create()</a></code></p>
</td></tr>
<tr><td><code id="task_graph_neighborhoods_+3A_nodes">nodes</code></td>
<td>
<p>Names or nodes objects of packages whose neighborhoods
should be calculated.</p>
</td></tr>
</table>

<hr>
<h2 id='task_graph_sort'>Sort Task Graph by Strong Dependency Order</h2><span id='topic+task_graph_sort'></span>

<h3>Description</h3>

<p>Sort Task Graph by Strong Dependency Order
</p>


<h3>Usage</h3>

<pre><code class='language-R'>task_graph_sort(g)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="task_graph_sort_+3A_g">g</code></td>
<td>
<p>A <a href="igraph.html#topic+make_graph">igraph::graph</a>, expected to contain node attribute <code>type</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <a href="igraph.html#topic+make_graph">igraph::graph</a> <code>g</code>, with vertices sorted in preferred
installation order.
</p>


<h3>Note</h3>

<p>Cyclic dependencies are possible. Cyclic dependencies are disallowed for all
hard dependencies on CRAN today, though there have been historical instances
where they appeared on CRAN.
</p>
<p>Installation priority is based on:
</p>

<ol>
<li><p> Total dependency footprint (low to high)
</p>
</li>
<li><p> Topology (leaf nodes first)
</p>
</li></ol>


<hr>
<h2 id='task_graph_which_satisfied'>Find the Next Packages Not Dependent on an Unavailable Package</h2><span id='topic+task_graph_which_satisfied'></span><span id='topic+task_graph_which_satisfied_strong'></span><span id='topic+task_graph_which_check_satisfied'></span><span id='topic+task_graph_which_install_satisfied'></span>

<h3>Description</h3>

<p>While other packages are in progress, ensure that the next selected package
already has its dependencies done.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>task_graph_which_satisfied(
  g,
  v = igraph::V(g),
  dependencies = TRUE,
  status = STATUS$pending
)

task_graph_which_satisfied_strong(..., dependencies = "strong")

task_graph_which_check_satisfied(
  g,
  ...,
  dependencies = "all",
  status = STATUS$pending
)

task_graph_which_install_satisfied(
  g,
  ...,
  dependencies = "strong",
  status = STATUS$pending
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="task_graph_which_satisfied_+3A_g">g</code></td>
<td>
<p>A dependency graph, as produced with <code><a href="#topic+task_graph_create">task_graph_create()</a></code>.</p>
</td></tr>
<tr><td><code id="task_graph_which_satisfied_+3A_v">v</code></td>
<td>
<p>Names or nodes objects of packages whose satisfiability should be
checked.</p>
</td></tr>
<tr><td><code id="task_graph_which_satisfied_+3A_dependencies">dependencies</code></td>
<td>
<p>Which dependencies types should be met for a node to be
considered satisfied.</p>
</td></tr>
<tr><td><code id="task_graph_which_satisfied_+3A_status">status</code></td>
<td>
<p>status name. Nodes in v fill be filtered to consists only nodes
with that status.</p>
</td></tr>
<tr><td><code id="task_graph_which_satisfied_+3A_...">...</code></td>
<td>
<p>parametrs passed to down-stream functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are helpers defined for particular use cases that strictly rely on the
<code>task_graph_which_satisfied</code>, they are:
</p>
<p><code>task_graph_which_satisfied_strong</code> - List vertices whose strong dependencies are satisfied.
</p>
<p><code>task_graph_which_check_satisfied</code> - List root vertices whose all dependencies are satisfied.
</p>
<p><code>task_graph_which_install_satisfied</code> - List install vertices whose dependencies are all satisfied
</p>


<h3>Value</h3>

<p>The name of the next package to prioritize
</p>

<hr>
<h2 id='task_spec'>Task specification</h2><span id='topic+task_spec'></span><span id='topic+install_task_spec'></span><span id='topic+custom_install_task_spec'></span><span id='topic+check_task_spec'></span><span id='topic+revdep_check_task_spec'></span>

<h3>Description</h3>

<p>Create task specification list which consists of all the details required
to run specific task.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>task_spec(alias = NULL, package_spec = NULL, env = NULL)

install_task_spec(type = getOption("pkgType"), INSTALL_opts = NULL, ...)

custom_install_task_spec(...)

check_task_spec(args = NULL, build_args = NULL, ...)

revdep_check_task_spec(revdep, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="task_spec_+3A_alias">alias</code></td>
<td>
<p>task alias which also serves as unique identifier of the task.</p>
</td></tr>
<tr><td><code id="task_spec_+3A_package_spec">package_spec</code></td>
<td>
<p><code><a href="#topic+package_spec">package_spec</a></code> object</p>
</td></tr>
<tr><td><code id="task_spec_+3A_env">env</code></td>
<td>
<p>environmental variables to be set in separate process running
specific task.</p>
</td></tr>
<tr><td><code id="task_spec_+3A_type">type</code></td>
<td>
<p>character, indicating the type of package to download and
install.  Will be <code>"source"</code> except on Windows and some macOS
builds: see the section on &lsquo;Binary packages&rsquo; for those.
</p>
</td></tr>
<tr><td><code id="task_spec_+3A_install_opts">INSTALL_opts</code></td>
<td>

<p>an optional character vector of additional option(s) to be passed to
<code>R CMD INSTALL</code> for a source package install.  E.g.,
<code>c("--html", "--no-multiarch", "--no-test-load")</code>.
</p>
<p>Can also be a named list of character vectors to be used as
additional options, with names the respective package names.
</p>
</td></tr>
<tr><td><code id="task_spec_+3A_...">...</code></td>
<td>
<p>parameters passed to downstream constructors</p>
</td></tr>
<tr><td><code id="task_spec_+3A_args">args</code></td>
<td>
<p>Character vector of arguments to pass to <code style="white-space: pre;">&#8288;R CMD check&#8288;</code>. Pass each
argument as a single element of this character vector (do not use spaces to
delimit arguments like you would in the shell). For example, to skip
running of examples and tests, use <code>args = c("--no-examples", "--no-tests")</code> and not <code>args = "--no-examples --no-tests"</code>. (Note that
instead of the <code>--output</code> option you should use the <code>check_dir</code> argument,
because  <code>--output</code> cannot deal with spaces and other special characters on
Windows.)</p>
</td></tr>
<tr><td><code id="task_spec_+3A_build_args">build_args</code></td>
<td>
<p>Character vector of arguments to pass to <code style="white-space: pre;">&#8288;R CMD build&#8288;</code>.
Pass each argument as a single element of this character vector (do not use
spaces to delimit arguments like you would in the shell). For example,
<code>build_args = c("--force", "--keep-empty-dirs")</code> is a correct usage and
<code>build_args = "--force --keep-empty-dirs"</code> is incorrect.</p>
</td></tr>
<tr><td><code id="task_spec_+3A_revdep">revdep</code></td>
<td>
<p>character indicating whether the task specification describes
check associated with the development (new) or release (old) version of the
for which reverse dependency check is run.</p>
</td></tr>
</table>

<hr>
<h2 id='throttle'>Generate A Rate Limiting Throttle Function</h2><span id='topic+throttle'></span>

<h3>Description</h3>

<p>Generate A Rate Limiting Throttle Function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>throttle(interval = 0.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="throttle_+3A_interval">interval</code></td>
<td>
<p>An interval (in seconds) that is the minimum interval
before <a href="#topic+throttle">throttle</a> will return <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A throttling function with the provided interval. When called,
returns a logical value indicating whether the throttle interval has
passed (TRUE if the interval has not yet passed).
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

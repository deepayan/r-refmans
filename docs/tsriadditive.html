<!DOCTYPE html><html><head><title>Help for package tsriadditive</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tsriadditive}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#plot.tsriadditive'><p>Plotting Predicted Survival Function or Cumulative Incidence Function with Pointwise Confidence Intervals</p></a></li>
<li><a href='#predict.tsriadditive'><p>Predict method for Additive Hazards Model with Two Stage Residual Inclusion Method Fits</p></a></li>
<li><a href='#summary.tsriadditive'><p>Summarizing Additive Hazards Model with Two Stage Residual Inclusion Method Fits</p></a></li>
<li><a href='#tsriadditive'><p>Fitting Additive Hazards Models with Two Stage Residual Inclusion Method</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Two Stage Residual Inclusion Additive Hazards Estimator</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Additive hazards models with two stage residual inclusion method are fitted under either survival data or competing risks data. The estimator incorporates an instrumental variable and therefore can recover causal estimand in the presence of unmeasured confounding under some assumptions. A.Ying, R. Xu and J. Murphy. (2019) &lt;<a href="https://doi.org/10.1002%2Fsim.8071">doi:10.1002/sim.8071</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>survival</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2">LGPL-2</a> | <a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a> | <a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a> [expanded from: LGPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/sim.8071">https://onlinelibrary.wiley.com/doi/abs/10.1002/sim.8071</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-23 20:06:44 UTC; andrewying</td>
</tr>
<tr>
<td>Author:</td>
<td>Andrew Ying [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andrew Ying &lt;aying9339@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-28 10:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='plot.tsriadditive'>Plotting Predicted Survival Function or Cumulative Incidence Function with Pointwise Confidence Intervals</h2><span id='topic+plot.tsriadditive'></span>

<h3>Description</h3>

<p>The function will plot the predicted survival function when fitting a survival model and
the predicted cumulative incidence function when fitting a competing risks model.
Corresponding pointwise confidence intervals at level alpha are also included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tsriadditive'
plot(x, newtreatment = NULL, newIV = NULL,
  newcovariates = NULL, alpha = 0.05, unit = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.tsriadditive_+3A_x">x</code></td>
<td>
<p>the fitting object after fitting our model</p>
</td></tr>
<tr><td><code id="plot.tsriadditive_+3A_newtreatment">newtreatment</code></td>
<td>
<p>a new treatment value</p>
</td></tr>
<tr><td><code id="plot.tsriadditive_+3A_newiv">newIV</code></td>
<td>
<p>a new instrumental variable value</p>
</td></tr>
<tr><td><code id="plot.tsriadditive_+3A_newcovariates">newcovariates</code></td>
<td>
<p>a new observed covariates</p>
</td></tr>
<tr><td><code id="plot.tsriadditive_+3A_alpha">alpha</code></td>
<td>
<p>the confidence level 1 - alpha for confidence interval</p>
</td></tr>
<tr><td><code id="plot.tsriadditive_+3A_unit">unit</code></td>
<td>
<p>the time unit we focus</p>
</td></tr>
<tr><td><code id="plot.tsriadditive_+3A_...">...</code></td>
<td>
<p>the other arguments you want to put in the built-in plot function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survtime &lt;- rexp(100)
cause &lt;- rbinom(100, 1, 0.7)
treatment &lt;- rbinom(100, 1, 0.5)
IV &lt;- rnorm(100)
covariates &lt;- rnorm(100)
fit &lt;- tsriadditive(survtime, cause, treatment, IV, covariates)
plot(fit, 1, 0, 0)
</code></pre>

<hr>
<h2 id='predict.tsriadditive'>Predict method for Additive Hazards Model with Two Stage Residual Inclusion Method Fits</h2><span id='topic+predict.tsriadditive'></span>

<h3>Description</h3>

<p>Predicted values based on tsriadditive object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tsriadditive'
predict(object, newtreatment = NULL,
  newIV = NULL, newcovariates = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.tsriadditive_+3A_object">object</code></td>
<td>
<p>an object of class &quot;tsriadditive&quot;, usually, a result of a call to tsriadditive.</p>
</td></tr>
<tr><td><code id="predict.tsriadditive_+3A_newtreatment">newtreatment</code></td>
<td>
<p>a new treatment value.</p>
</td></tr>
<tr><td><code id="predict.tsriadditive_+3A_newiv">newIV</code></td>
<td>
<p>a new instrumental variable value.</p>
</td></tr>
<tr><td><code id="predict.tsriadditive_+3A_newcovariates">newcovariates</code></td>
<td>
<p>a new observed covariates.</p>
</td></tr>
<tr><td><code id="predict.tsriadditive_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>predict.tsriadditive produces a venctor of predictions based on new values.
A list with the following components is returned:
</p>
<table>
<tr><td><code>newobsz</code></td>
<td>
<p>the vector grouping newtreatment, new IV and newcovariates</p>
</td></tr>
<tr><td><code>score_pred</code></td>
<td>
<p>the predicted scores</p>
</td></tr>
<tr><td><code>hazard_pred</code></td>
<td>
<p>the predicted baseline hazards function</p>
</td></tr>
<tr><td><code>surival_pred</code></td>
<td>
<p>the predicted surival function</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>survtime &lt;- rexp(100)
cause &lt;- rbinom(100, 1, 0.7)
treatment &lt;- rbinom(100, 1, 0.5)
IV &lt;- rnorm(100)
covariates &lt;- rnorm(100)
fit &lt;- tsriadditive(survtime, cause, treatment, IV, covariates)
predict(fit, 1, 0, 0)
</code></pre>

<hr>
<h2 id='summary.tsriadditive'>Summarizing Additive Hazards Model with Two Stage Residual Inclusion Method Fits</h2><span id='topic+summary.tsriadditive'></span><span id='topic+print.summary.tsriadditive'></span>

<h3>Description</h3>

<p>summary method for class &quot;tsriadditive&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tsriadditive'
summary(object, ...)

## S3 method for class 'summary.tsriadditive'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.tsriadditive_+3A_object">object</code></td>
<td>
<p>an object of class &quot;tsriadditive&quot;, usually, a result of a call to tsriadditive.</p>
</td></tr>
<tr><td><code id="summary.tsriadditive_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="summary.tsriadditive_+3A_x">x</code></td>
<td>
<p>an object of class &quot;summary.tsriadditive&quot;, usually, a result of a call to summary.tsriadditive.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>print.summary.lm tries to be smart about formatting coefficients, an estimated variance covariance matrix of
the coeffieients, Z-values and the corresponding P-values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survtime &lt;- rexp(100)
cause &lt;- rbinom(100, 1, 0.7)
treatment &lt;- rbinom(100, 1, 0.5)
IV &lt;- rnorm(100)
covariates &lt;- rnorm(100)
fit &lt;- tsriadditive(survtime, cause, treatment, IV, covariates)
summary(fit)
</code></pre>

<hr>
<h2 id='tsriadditive'>Fitting Additive Hazards Models with Two Stage Residual Inclusion Method</h2><span id='topic+tsriadditive'></span>

<h3>Description</h3>

<p>tsriadditive is used to fit additive hazards models with two stage residual inclusion method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsriadditive(survtime, cause = NULL, treatment = NULL, IV = NULL,
  covariates = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsriadditive_+3A_survtime">survtime</code></td>
<td>
<p>the event time</p>
</td></tr>
<tr><td><code id="tsriadditive_+3A_cause">cause</code></td>
<td>
<p>the indicator records the cause. Default to all one. Zero means right censoring. Greater than
or equal to two means other cause.</p>
</td></tr>
<tr><td><code id="tsriadditive_+3A_treatment">treatment</code></td>
<td>
<p>the treatment variable, can be null</p>
</td></tr>
<tr><td><code id="tsriadditive_+3A_iv">IV</code></td>
<td>
<p>the instrumental variable</p>
</td></tr>
<tr><td><code id="tsriadditive_+3A_covariates">covariates</code></td>
<td>
<p>all the observed confounders</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tsriadditive returns an object of class &quot;tsriadditive&quot;.
An object of class &quot;tsriadditive&quot; is a list containing the following components:
</p>
<table>
<tr><td><code>coef</code></td>
<td>
<p>an estimate of the coefficients</p>
</td></tr>
<tr><td><code>baseline</code></td>
<td>
<p>an estimate of the baseline hazards function</p>
</td></tr>
<tr><td><code>vcov</code></td>
<td>
<p>an estimate of the variance covariance matrix of coef</p>
</td></tr>
<tr><td><code>byprod</code></td>
<td>
<p>a byproduct, that will used by other functions</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ying, A., Xu, R. and Murphy, J. Two-Stage Residual Inclusion for Survival Data and Competing Risks - An
Instrumental Variable Approach with Application to SEER- Medicare Linked Data. Statistics in Medicine, 38(10): 1775-1801, 2019.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survtime &lt;- rexp(100)
cause &lt;- rbinom(100, 1, 0.7)
treatment &lt;- rbinom(100, 1, 0.5)
IV &lt;- rnorm(100)
covariates &lt;- rnorm(100)
fit &lt;- tsriadditive(survtime, cause, treatment, IV, covariates)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

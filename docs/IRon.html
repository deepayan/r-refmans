<!DOCTYPE html><html><head><title>Help for package IRon</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {IRon}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#accel'><p>Acceleration</p></a></li>
<li><a href='#bias'><p>Model Bias</p></a></li>
<li><a href='#corr'><p>Pearson's Correlation</p></a></li>
<li><a href='#eval.stats'><p>Predictive Modelling Evaluation Statistics</p></a></li>
<li><a href='#mae'><p>Standard Evaluation Metrics</p></a></li>
<li><a href='#mse'><p>Mean Squared Error</p></a></li>
<li><a href='#NO2Emissions'><p>NO2Emissions</p></a></li>
<li><a href='#phi'><p>Obtain the relevance of data points</p></a></li>
<li><a href='#phi.control'><p>Generation of relevance function</p></a></li>
<li><a href='#phi.extremes'><p>Relevance function for extreme target values</p></a></li>
<li><a href='#phi.range'><p>Custom Relevance Function</p></a></li>
<li><a href='#phiPlot'><p>Plot of phi versus y and boxplot of y</p></a></li>
<li><a href='#rmse'><p>Root Mean Squared Error</p></a></li>
<li><a href='#ser'><p>Non-Standard Evaluation Metrics</p></a></li>
<li><a href='#sera'><p>Squared Error-Relevance Area (SERA)</p></a></li>
<li><a href='#variance'><p>Model Variance</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Solving Imbalanced Regression Tasks</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Imbalanced domain learning has almost exclusively focused on solving 
    classification tasks, where the objective is to predict cases labelled with a 
    rare class accurately. Such a well-defined approach for regression tasks lacked 
    due to two main factors. First, standard regression tasks assume that each value 
    is equally important to the user. Second, standard evaluation metrics focus on 
    assessing the performance of the model on the most common cases. This package 
    contains methods to tackle imbalanced domain learning problems in regression 
    tasks, where the objective is to predict extreme (rare) values.
    The methods contained in this package are: 1) an automatic and non-parametric 
    method to obtain such relevance functions; 2) visualisation tools; 3) suite of 
    evaluation measures for optimisation/validation processes; 4) the squared-error 
    relevance area measure, an evaluation metric tailored for imbalanced regression tasks.
    More information can be found in Ribeiro and Moniz (2020) &lt;<a href="https://doi.org/10.1007%2Fs10994-020-05900-9">doi:10.1007/s10994-020-05900-9</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/nunompmoniz/IRon">https://github.com/nunompmoniz/IRon</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nunompmoniz/IRon/issues">https://github.com/nunompmoniz/IRon/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, stats, ggpubr, gridExtra, ggplot2, robustbase, scam</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rpart, e1071, earth, randomForest, mgcv, reshape</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-19 16:31:27 UTC; admin</td>
</tr>
<tr>
<td>Author:</td>
<td>Nuno Moniz [cre, aut],
  Rita P. Ribeiro [aut],
  Miguel Margarido [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nuno Moniz &lt;nmoniz2@nd.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-20 07:20:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='accel'>Acceleration</h2><span id='topic+accel'></span>

<h3>Description</h3>

<p>Dataset with acceleration target value w.r.t. 14 nominal and numerical variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(accel)
</code></pre>


<h3>Format</h3>

<p>A <code>"data.frame"</code> structure with 1732 observations, 3 nominal and 11 numerical predictor variables
</p>


<h3>Source</h3>

<p><a href="https://archive.ics.uci.edu/ml/datasets/bike+sharing+dataset">UCI Archive</a>
</p>


<h3>References</h3>

<p>Hadi Fanaee-T. and Jo√£o Gama. Event labeling combining ensemble detectors and background knowledge. Prog. in Art. Int., pages 1-15, 2013. ISSN 2192-6352. (<a href="https://link.springer.com/article/10.1007/s13748-013-0040-3">Springer</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(accel)
head(accel)
</code></pre>

<hr>
<h2 id='bias'>Model Bias</h2><span id='topic+bias'></span>

<h3>Description</h3>

<p>Model Bias
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bias(trues, preds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bias_+3A_trues">trues</code></td>
<td>
<p>Target values from a test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="bias_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable trues</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value for model bias
</p>

<hr>
<h2 id='corr'>Pearson's Correlation</h2><span id='topic+corr'></span>

<h3>Description</h3>

<p>Pearson's Correlation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corr(trues, preds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corr_+3A_trues">trues</code></td>
<td>
<p>Target values from a test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="corr_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable trues</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value for the Pearson's correlation
</p>

<hr>
<h2 id='eval.stats'>Predictive Modelling Evaluation Statistics</h2><span id='topic+eval.stats'></span>

<h3>Description</h3>

<p>Evaluation statistics including standard and non-standard evaluation metrics. Returns a structure of data containing the results of several evaluation metrics (both standard and some focused on the imbalanced regression problem).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval.stats(formula, train, test, y_pred, phi.parms = NULL, cf = 1.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval.stats_+3A_formula">formula</code></td>
<td>
<p>A model formula</p>
</td></tr>
<tr><td><code id="eval.stats_+3A_train">train</code></td>
<td>
<p>A data.frame object with the training data</p>
</td></tr>
<tr><td><code id="eval.stats_+3A_test">test</code></td>
<td>
<p>A data.frame object with the test set</p>
</td></tr>
<tr><td><code id="eval.stats_+3A_y_pred">y_pred</code></td>
<td>
<p>A vector with the predictions of a given model</p>
</td></tr>
<tr><td><code id="eval.stats_+3A_phi.parms">phi.parms</code></td>
<td>
<p>The relevance function providing the data points where the pairs of values-relevance are known (use ?phi.control() for more information). If this parameter is not defined, this method will create a relevance function based on the data.frame variable in parameter train. Default is NULL</p>
</td></tr>
<tr><td><code id="eval.stats_+3A_cf">cf</code></td>
<td>
<p>The coefficient used to calculate the boxplot whiskers in the event that a relevance function is not provided (parameter phi.parms)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with four slots for the results of standard and relevance-based evaluation metrics
</p>
<table>
<tr><td><code>overall</code></td>
<td>
<p>Results for standard metrics MAE, MSE and RMSE, along with Pearson's Correlation, bias, variance and the Squared Error Relevance Area metric.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(IRon)

if(requireNamespace("earth")) {

   data(accel)

   form &lt;- acceleration ~ .

   ind &lt;- sample(1:nrow(accel),0.75*nrow(accel))

   train &lt;- accel[ind,]
   test &lt;- accel[-ind,]

   ph &lt;- phi.control(accel$acceleration)

   m &lt;- earth::earth(form, train)
   preds &lt;- as.vector(predict(m,test))

   eval.stats(form, train, test, preds)
   eval.stats(form, train, test, preds, ph)
   eval.stats(form, train, test, preds, ph, cf=3) # Focusing on extreme outliers

}


</code></pre>

<hr>
<h2 id='mae'>Standard Evaluation Metrics</h2><span id='topic+mae'></span>

<h3>Description</h3>

<p>Mean Average Error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mae(trues, preds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mae_+3A_trues">trues</code></td>
<td>
<p>Target values from a test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="mae_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable trues</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value for the mean average error
</p>

<hr>
<h2 id='mse'>Mean Squared Error</h2><span id='topic+mse'></span>

<h3>Description</h3>

<p>Mean Squared Error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mse(trues, preds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mse_+3A_trues">trues</code></td>
<td>
<p>Target values from a test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="mse_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable trues</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value for the mean squared error
</p>

<hr>
<h2 id='NO2Emissions'>NO2Emissions</h2><span id='topic+NO2Emissions'></span>

<h3>Description</h3>

<p>The data are a subsample of 500 observations from a data set that originate in a study where air pollution at a road is
related to traffic volume and meteorological variables, collected by the Norwegian Public Roads Administration.
The response variable (column 1) consist of hourly values of the logarithm of the concentration of NO2 (particles),
measured at Alnabru in Oslo, Norway, between October 2001 and August 2003. The predictor variables (columns 2 to 8)
are the logarithm of the number of cars per hour, temperature $2$ meter above ground (degree C), wind speed
(meters/second), the temperature difference between $25$ and $2$ meters above ground (degree C),
wind direction (degrees between 0 and 360), hour of day and day number from October 1. 2001.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(NO2Emissions)
</code></pre>


<h3>Format</h3>

<p>A <code>"data.frame"</code> structure with 500 observations, 8 numerical variables
</p>


<h3>Source</h3>

<p><a href="http://lib.stat.cmu.edu/datasets/">StatLib</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(NO2Emissions)
head(NO2Emissions)
</code></pre>

<hr>
<h2 id='phi'>Obtain the relevance of data points</h2><span id='topic+phi'></span>

<h3>Description</h3>

<p>The phi function retrieves the relevance value of the values in a target variable. It does so by resorting to the Piecewise Cubic Hermite Interpolation Polynomial method for interpolating over a set of maximum and minimum relevance points. The notion of relevance is associated with rarity.Nonetheless, this notion may depend on the domain experts knowledge
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phi(y, phi.parms = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phi_+3A_y">y</code></td>
<td>
<p>The target variable of a given data set</p>
</td></tr>
<tr><td><code id="phi_+3A_phi.parms">phi.parms</code></td>
<td>
<p>The relevance function providing the data points where the pairs of values-relevance are known</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the relevance values of a given target variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IRon)
data(accel)

ind &lt;- sample(1:nrow(accel),0.75*nrow(accel))

train &lt;- accel[ind,]
test &lt;- accel[-ind,]

ph &lt;- phi.control(train$acceleration)
phis &lt;- phi(test$acceleration,phi.parms=ph)

plot(test$acceleration,phis,xlab="Y",ylab="Relevance")
</code></pre>

<hr>
<h2 id='phi.control'>Generation of relevance function</h2><span id='topic+phi.control'></span>

<h3>Description</h3>

<p>This procedure enables the generation of a relevance function that performs a mapping between the values in a given target variable and a relevance value that is bounded by 0 (minimum relevance) and 1 (maximum relevance). This may be obtained automatically (based on the distribution of the target variable) or by the user defining the relevance values of a given set of target values - the remaining values will be interpolated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phi.control(
  y,
  phi.parms,
  method = phiMethods,
  extr.type = NULL,
  control.pts = NULL,
  asym = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phi.control_+3A_y">y</code></td>
<td>
<p>The target variable of a given data set</p>
</td></tr>
<tr><td><code id="phi.control_+3A_phi.parms">phi.parms</code></td>
<td>
<p>The relevance function providing the data points where the pairs of values-relevance are known</p>
</td></tr>
<tr><td><code id="phi.control_+3A_method">method</code></td>
<td>
<p>The method used to generate the relevance function (extremes or range)</p>
</td></tr>
<tr><td><code id="phi.control_+3A_extr.type">extr.type</code></td>
<td>
<p>Type of extremes to be considered: low, high or both (default)</p>
</td></tr>
<tr><td><code id="phi.control_+3A_control.pts">control.pts</code></td>
<td>
<p>Parameter required when using 'range' method, representing a 3-column matrix of y-value, corresponding relevance value (between 0 and 1), and the derivative of such relevance value</p>
</td></tr>
<tr><td><code id="phi.control_+3A_asym">asym</code></td>
<td>
<p>Boolean for assymetric interpolation. Default TRUE, uses adjusted boxplot. When FALSE, uses standard boxplot.</p>
</td></tr>
<tr><td><code id="phi.control_+3A_...">...</code></td>
<td>
<p>Misc data to be added to the relevance function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with three slots with information concerning the relevance function
</p>
<table>
<tr><td><code>method</code></td>
<td>
<p>The method used to generate the relevance function (extremes or range)</p>
</td></tr>
<tr><td><code>npts</code></td>
<td>
<p>?</p>
</td></tr>
<tr><td><code>control.pts</code></td>
<td>
<p>Three sets of values identifying the target value-relevance-derivate for the first low extreme value, the median, and first high extreme value</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(IRon)

data(accel)

ind &lt;- sample(1:nrow(accel),0.75*nrow(accel))

train &lt;- accel[ind,]
test &lt;- accel[-ind,]

ph &lt;- phi.control(train$acceleration); phiPlot(test$acceleration, ph)
ph &lt;- phi.control(train$acceleration, extr.type="high"); phiPlot(test$acceleration, ph)
ph &lt;- phi.control(train$acceleration, method="range",
  control.pts=matrix(c(10,0,0,15,1,0),byrow=TRUE,ncol=3)); phiPlot(test$acceleration, ph)

</code></pre>

<hr>
<h2 id='phi.extremes'>Relevance function for extreme target values</h2><span id='topic+phi.extremes'></span>

<h3>Description</h3>

<p>Automatic approach to obtain a relevance function for a given target variable when the option of extremes is chosen, i.e. users are more interested in accurately predicting extreme target values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phi.extremes(
  y,
  extr.type = c("both", "high", "low"),
  coef = 1.5,
  asym = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phi.extremes_+3A_y">y</code></td>
<td>
<p>The target variable of a given data set</p>
</td></tr>
<tr><td><code id="phi.extremes_+3A_extr.type">extr.type</code></td>
<td>
<p>Type of extremes to be considered: low, high or both (default)</p>
</td></tr>
<tr><td><code id="phi.extremes_+3A_coef">coef</code></td>
<td>
<p>Boxplot coefficient (default 1.5)</p>
</td></tr>
<tr><td><code id="phi.extremes_+3A_asym">asym</code></td>
<td>
<p>Boolean for assymetric interpolation. Default TRUE, uses adjusted boxplot. When FALSE, uses standard boxplot.</p>
</td></tr>
<tr><td><code id="phi.extremes_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with three slots with information concerning the relevance function
</p>
<table>
<tr><td><code>method</code></td>
<td>
<p>The method used to generate the relevance function (extremes or range)</p>
</td></tr>
<tr><td><code>npts</code></td>
<td>
<p>?</p>
</td></tr>
<tr><td><code>control.pts</code></td>
<td>
<p>Three sets of values identifying the target value-relevance-derivate for the first low extreme value, the median, and first high extreme value</p>
</td></tr>
</table>

<hr>
<h2 id='phi.range'>Custom Relevance Function</h2><span id='topic+phi.range'></span>

<h3>Description</h3>

<p>User-guided approach to obtain a relevance function for certain intervals of the target variable when the option of range is chosen in function phi.control, i.e. users define the relevance of values for which it is known
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phi.range(y, control.pts, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phi.range_+3A_y">y</code></td>
<td>
<p>The target variable of a given data set</p>
</td></tr>
<tr><td><code id="phi.range_+3A_control.pts">control.pts</code></td>
<td>
<p>Parameter representing a 3-column matrix of y-value, corresponding relevance value (between 0 and 1), and the derivative of such relevance value, allowing users to specify the known relevance at given target values</p>
</td></tr>
<tr><td><code id="phi.range_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with three slots with information concerning the relevance function
</p>
<table>
<tr><td><code>method</code></td>
<td>
<p>The method used to generate the relevance function (extremes or range)</p>
</td></tr>
<tr><td><code>npts</code></td>
<td>
<p>?</p>
</td></tr>
<tr><td><code>control.pts</code></td>
<td>
<p>Three sets of values identifying the target value-relevance-derivate for the first low extreme value, the median, and first high extreme value</p>
</td></tr>
</table>

<hr>
<h2 id='phiPlot'>Plot of phi versus y and boxplot of y</h2><span id='topic+phiPlot'></span>

<h3>Description</h3>

<p>The phiPlot function uses a dataset ds containing many y values to produce a line plot of phi versus y and a boxplot of y, and aligns them, one above the other. The first extreme value on either side of the boxplot should correspond to the point where phi becomes exactly 1 on the line plot. This function is dependent on the robustbase, ggplot2 and ggpubr packages, and will not work without them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phiPlot(ds, phi.parms = NULL, limits = NULL, xlab = "y", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phiPlot_+3A_ds">ds</code></td>
<td>
<p>Dataset of y values</p>
</td></tr>
<tr><td><code id="phiPlot_+3A_phi.parms">phi.parms</code></td>
<td>
<p>The relevance function providing the data points where the pairs of values-relevance are known. Default is NULL</p>
</td></tr>
<tr><td><code id="phiPlot_+3A_limits">limits</code></td>
<td>
<p>Vector with values to draw limits. Default is NULL</p>
</td></tr>
<tr><td><code id="phiPlot_+3A_xlab">xlab</code></td>
<td>
<p>Label of the x axis. Default is y</p>
</td></tr>
<tr><td><code id="phiPlot_+3A_...">...</code></td>
<td>
<p>Extra parameters when deriving the relevance function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A line plot of phi versus y, as well as a boxplot of y
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ds &lt;- rnorm(1000, 30, 10); phi.parms &lt;- phi.control(ds); phiPlot(ds,phi.parms)
ds &lt;- rpois(100,3); phiPlot(ds)

</code></pre>

<hr>
<h2 id='rmse'>Root Mean Squared Error</h2><span id='topic+rmse'></span>

<h3>Description</h3>

<p>Root Mean Squared Error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmse(trues, preds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmse_+3A_trues">trues</code></td>
<td>
<p>Target values from a test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="rmse_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable trues</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value for the relevance-weighted root mean squared error
</p>

<hr>
<h2 id='ser'>Non-Standard Evaluation Metrics</h2><span id='topic+ser'></span>

<h3>Description</h3>

<p>Obtains the squared error of predictions for a given subset of relevance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ser(trues, preds, phi.trues = NULL, ph = NULL, t = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ser_+3A_trues">trues</code></td>
<td>
<p>Target values from a test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="ser_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="ser_+3A_phi.trues">phi.trues</code></td>
<td>
<p>Relevance of the values in the parameter trues. Use ??phi() for more information. Defaults to NULL</p>
</td></tr>
<tr><td><code id="ser_+3A_ph">ph</code></td>
<td>
<p>The relevance function providing the data points where the pairs of values-relevance are known. Default is NULL</p>
</td></tr>
<tr><td><code id="ser_+3A_t">t</code></td>
<td>
<p>Relevance cut-off. Default is 0.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Squared Error-Relevance Metric (SER)
</p>


<h3>Value</h3>

<p>Squared error for for cases where the relevance of the true value is greater than t (SERA)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IRon)
library(rpart)

if(requireNamespace("rpart")) {

   data(accel)

   form &lt;- acceleration ~ .

   ind &lt;- sample(1:nrow(accel),0.75*nrow(accel))

   train &lt;- accel[ind,]
   test &lt;- accel[-ind,]

   ph &lt;- phi.control(accel$acceleration)

   m &lt;- rpart::rpart(form, train)
   preds &lt;- as.vector(predict(m,test))

   trues &lt;- test$acceleration
   phi.trues &lt;- phi(test$acceleration,ph)

   ser(trues,preds,phi.trues)

}

</code></pre>

<hr>
<h2 id='sera'>Squared Error-Relevance Area (SERA)</h2><span id='topic+sera'></span>

<h3>Description</h3>

<p>Computes an approximation of the area under the curve described by squared error of predictions for a sequence of subsets with increasing relevance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sera(
  trues,
  preds,
  phi.trues = NULL,
  ph = NULL,
  pl = FALSE,
  m.name = "Model",
  step = 0.001,
  return.err = FALSE,
  norm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sera_+3A_trues">trues</code></td>
<td>
<p>Target values from a test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="sera_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable preds</p>
</td></tr>
<tr><td><code id="sera_+3A_phi.trues">phi.trues</code></td>
<td>
<p>Relevance of the values in the parameter trues. Use ??phi() for more information. Defaults to NULL</p>
</td></tr>
<tr><td><code id="sera_+3A_ph">ph</code></td>
<td>
<p>The relevance function providing the data points where the pairs of values-relevance are known. Default is NULL</p>
</td></tr>
<tr><td><code id="sera_+3A_pl">pl</code></td>
<td>
<p>Boolean to indicate if an illustration of the curve should be provided. Default is FALSE</p>
</td></tr>
<tr><td><code id="sera_+3A_m.name">m.name</code></td>
<td>
<p>Name of the model to be appended in the plot title</p>
</td></tr>
<tr><td><code id="sera_+3A_step">step</code></td>
<td>
<p>Relevance intervals between 0 (min) and 1 (max). Default 0.001</p>
</td></tr>
<tr><td><code id="sera_+3A_return.err">return.err</code></td>
<td>
<p>Boolean to indicate if the errors at each subset of increasing relevance should be returned. Default is FALSE</p>
</td></tr>
<tr><td><code id="sera_+3A_norm">norm</code></td>
<td>
<p>Normalize the SERA values for internal optimisation only (TRUE/FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value for the area under the relevance-squared error curve (SERA)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IRon)
library(rpart)

if(requireNamespace("rpart")) {

   #' data(accel)

   form &lt;- acceleration ~ .

   ind &lt;- sample(1:nrow(accel),0.75*nrow(accel))

   train &lt;- accel[ind,]
   test &lt;- accel[-ind,]

   ph &lt;- phi.control(accel$acceleration)

   m &lt;- rpart::rpart(form, train)
   preds &lt;- as.vector(predict(m,test))

   trues &lt;- test$acceleration
   phi.trues &lt;- phi(test$acceleration,ph)

   sera(trues,preds,phi.trues)
   sera(trues,preds,phi.trues,pl=TRUE, m.name="Regression Trees")
   sera(trues,preds,phi.trues,pl=TRUE, return.err=TRUE)

}

</code></pre>

<hr>
<h2 id='variance'>Model Variance</h2><span id='topic+variance'></span>

<h3>Description</h3>

<p>Model Variance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variance(preds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variance_+3A_preds">preds</code></td>
<td>
<p>Predicted values given a certain test set of a given data set. Should be a vector and have the same size as the variable trues</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value for model variance
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

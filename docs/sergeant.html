<!DOCTYPE html><html><head><title>Help for package sergeant</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sergeant}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#ctas_profile'><p>Generate a Drill CTAS Statement from a Query</p></a></li>
<li><a href='#dbDataType+2CDrillConnection-method'><p>Drill dbDataType</p></a></li>
<li><a href='#dbDisconnect+2CDrillConnection-method'><p>Disconnect from Drill</p></a></li>
<li><a href='#dbGetInfo+2CDrillDriver-method'><p>Metadata about database objects</p></a></li>
<li><a href='#dbUnloadDriver+2CDrillDriver-method'><p>Unload driver</p></a></li>
<li><a href='#Drill'><p>Drill</p></a></li>
<li><a href='#drill_active'><p>Test whether Drill HTTP Drill direct REST API Interface server is up</p></a></li>
<li><a href='#drill_cancel'><p>Cancel the query that has the given queryid</p></a></li>
<li><a href='#drill_connection'><p>Setup a Drill connection</p></a></li>
<li><a href='#drill_custom_functions'><p>Drill expressions / custom functions <code>dplyr</code> translations</p></a></li>
<li><a href='#drill_functions'><p>Show all the available Drill built-in functions &amp; UDFs</p></a></li>
<li><a href='#drill_metrics'><p>Get the current memory metrics</p></a></li>
<li><a href='#drill_options'><p>List the name, default, and data type of the system and session options</p></a></li>
<li><a href='#drill_opts'><p>Show all the available Drill options</p></a></li>
<li><a href='#drill_profile'><p>Get the profile of the query that has the given queryid</p></a></li>
<li><a href='#drill_profiles'><p>Get the profiles of running and completed queries</p></a></li>
<li><a href='#drill_query'><p>Submit a query and return results</p></a></li>
<li><a href='#drill_set'><p>Set Drill SYSTEM or SESSION options</p></a></li>
<li><a href='#drill_settings_reset'><p>Changes (optionally, all) session settings back to system defaults</p></a></li>
<li><a href='#drill_show_files'><p>Show files in a file system schema.</p></a></li>
<li><a href='#drill_show_schemas'><p>Returns a list of available schemas.</p></a></li>
<li><a href='#drill_stats'><p>Get Drillbit information, such as ports numbers</p></a></li>
<li><a href='#drill_status'><p>Get the status of Drill</p></a></li>
<li><a href='#drill_storage'><p>Retrieve, modify or update storage plugin names and configurations</p></a></li>
<li><a href='#drill_system_reset'><p>Changes (optionally, all) system settings back to system defaults</p></a></li>
<li><a href='#drill_threads'><p>Get information about threads</p></a></li>
<li><a href='#drill_up'><p>Start a Dockerized Drill Instance</p></a></li>
<li><a href='#drill_uplift'><p>Turn columnar query results into a type-converted tbl</p></a></li>
<li><a href='#drill_use'><p>Change to a particular schema.</p></a></li>
<li><a href='#drill_version'><p>Identify the version of Drill running</p></a></li>
<li><a href='#DrillConnection-class'><p>Drill connection class.</p></a></li>
<li><a href='#DrillDriver-class'><p>Driver for Drill database.</p></a></li>
<li><a href='#DrillResult-class'><p>Drill results class.</p></a></li>
<li><a href='#format.DrillConnection'><p>A concise character representation (label) for a <code>DrillConnection</code></p></a></li>
<li><a href='#killall_drill'><p>Prune all dead and running Drill Docker containers</p></a></li>
<li><a href='#print.drill_conn'><p>Print function for <code>drill_conn</code> objects</p></a></li>
<li><a href='#sergeant'><p>Tools to Transform and Query Data with 'Apache' 'Drill'</p></a></li>
<li><a href='#sergeant-exports'><p>sergeant exported operators</p></a></li>
<li><a href='#showall_drill'><p>Show all dead and running Drill Docker containers</p></a></li>
<li><a href='#src_drill'><p>Connect to Drill (dplyr)</p></a></li>
<li><a href='#src_tbls.src_drill'><p>src tbls</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools to Transform and Query Data with Apache Drill</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Apache Drill is a low-latency distributed query engine designed to enable 
    data exploration and analysis on both relational and non-relational data stores, 
    scaling to petabytes of data. Methods are provided that enable working with Apache 
    Drill instances via the REST API, DBI methods
    and using 'dplyr'/'dbplyr' idioms. Helper functions are included to facilitate
    using official Drill Docker images/containers.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gitlab.com/hrbrmstr/sergeant">https://gitlab.com/hrbrmstr/sergeant</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://gitlab.com/hrbrmstr/sergeant/-/issues">https://gitlab.com/hrbrmstr/sergeant/-/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>bit64 (&ge; 0.9-7), DBI (&ge; 0.7), dplyr (&ge; 0.8.0), dbplyr (&ge;
1.3.0), httr (&ge; 1.2.1), jsonlite (&ge; 1.5.0), htmltools (&ge;
0.3.6), readr (&ge; 1.1.1), purrr (&ge; 0.2.2), scales (&ge; 0.4.1),
stringi, tibble, utils, methods, magrittr (&ge; 1.5)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>DT (&ge; 0.5), stevedore, tinytest, covr (&ge; 3.0.0), DBItest</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-29 17:43:25 UTC; hrbrmstr</td>
</tr>
<tr>
<td>Author:</td>
<td>Bob Rudis <a href="https://orcid.org/0000-0001-5670-2640"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Edward Visel [ctb],
  Andy Hine [ctb],
  Scott Came [ctb],
  David Severski <a href="https://orcid.org/0000-0001-7867-0459"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  James Lamb [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bob Rudis &lt;bob@rud.is&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-29 18:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='ctas_profile'>Generate a Drill CTAS Statement from a Query</h2><span id='topic+ctas_profile'></span>

<h3>Description</h3>

<p>When working with CSV[H] files in Drill 1.15.0+ everything comes back
<code>VARCHAR</code> since that's the way it should be. The old behaviour of
<code>sergeant</code> to auto-type convert was kinda horribad wrong. However,
it's a royal pain to make <a href="https://drill.apache.org/docs/create-table-as-ctas/"><code>CTAS</code></a>
queries from a giant list of <code>VARCHAR</code> field by hand. So, this is a
helper function to do that, inspired by David Severski.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctas_profile(x, new_table_name = "CHANGE____ME")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ctas_profile_+3A_x">x</code></td>
<td>
<p>a <code>tbl</code></p>
</td></tr>
<tr><td><code id="ctas_profile_+3A_new_table_name">new_table_name</code></td>
<td>
<p>a new Drill data source spec (e.g. <code>dfs.xyz.`a.parquet`</code>)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>WIP!
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
db &lt;- src_drill("localhost")

# Test with bare data source
flt1 &lt;- tbl(db, "dfs.d.`/flights.csvh`")

cat(ctas_profile(flt1))

# Test with SELECT
flt2 &lt;- tbl(db, sql("SELECT `year`, tailnum, time_hour FROM dfs.d.`/flights.csvh`"))

cat(ctas_profile(flt2, "dfs.d.`flights.parquet`"))


## End(Not run)
</code></pre>

<hr>
<h2 id='dbDataType+2CDrillConnection-method'>Drill dbDataType</h2><span id='topic+dbDataType+2CDrillConnection-method'></span>

<h3>Description</h3>

<p>Drill dbDataType
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DrillConnection'
dbDataType(dbObj, obj, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbDataType+2B2CDrillConnection-method_+3A_dbobj">dbObj</code></td>
<td>
<p>A <code><a href="#topic+DrillDriver-class">DrillDriver</a></code> object</p>
</td></tr>
<tr><td><code id="dbDataType+2B2CDrillConnection-method_+3A_obj">obj</code></td>
<td>
<p>Any R object</p>
</td></tr>
<tr><td><code id="dbDataType+2B2CDrillConnection-method_+3A_...">...</code></td>
<td>
<p>Extra optional parameters</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>

<hr>
<h2 id='dbDisconnect+2CDrillConnection-method'>Disconnect from Drill</h2><span id='topic+dbDisconnect+2CDrillConnection-method'></span>

<h3>Description</h3>

<p>Disconnect from Drill
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DrillConnection'
dbDisconnect(conn, ...)
</code></pre>

<hr>
<h2 id='dbGetInfo+2CDrillDriver-method'>Metadata about database objects</h2><span id='topic+dbGetInfo+2CDrillDriver-method'></span><span id='topic+dbGetInfo+2CDrillConnection-method'></span>

<h3>Description</h3>

<p>Metadata about database objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DrillDriver'
dbGetInfo(dbObj)

## S4 method for signature 'DrillConnection'
dbGetInfo(dbObj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbGetInfo+2B2CDrillDriver-method_+3A_dbobj">dbObj</code></td>
<td>
<p>A <code><a href="#topic+DrillDriver-class">DrillDriver</a></code> or <code><a href="#topic+DrillConnection-class">DrillConnection</a></code> object</p>
</td></tr>
</table>

<hr>
<h2 id='dbUnloadDriver+2CDrillDriver-method'>Unload driver</h2><span id='topic+dbUnloadDriver+2CDrillDriver-method'></span>

<h3>Description</h3>

<p>Unload driver
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DrillDriver'
dbUnloadDriver(drv, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbUnloadDriver+2B2CDrillDriver-method_+3A_drv">drv</code></td>
<td>
<p>driver</p>
</td></tr>
<tr><td><code id="dbUnloadDriver+2B2CDrillDriver-method_+3A_...">...</code></td>
<td>
<p>Extra optional parameters</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>
</p>

<hr>
<h2 id='Drill'>Drill</h2><span id='topic+Drill'></span><span id='topic+dbConnect+2CDrillDriver-method'></span>

<h3>Description</h3>

<p>Drill
</p>
<p>Connect to Drill
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Drill()

## S4 method for signature 'DrillDriver'
dbConnect(
  drv,
  host = "localhost",
  port = 8047L,
  ssl = FALSE,
  username = NULL,
  password = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Drill_+3A_drv">drv</code></td>
<td>
<p>An object created by <code>Drill()</code></p>
</td></tr>
<tr><td><code id="Drill_+3A_host">host</code></td>
<td>
<p>host</p>
</td></tr>
<tr><td><code id="Drill_+3A_port">port</code></td>
<td>
<p>port</p>
</td></tr>
<tr><td><code id="Drill_+3A_ssl">ssl</code></td>
<td>
<p>use ssl?</p>
</td></tr>
<tr><td><code id="Drill_+3A_username">username</code>, <code id="Drill_+3A_password">password</code></td>
<td>
<p>credentials</p>
</td></tr>
<tr><td><code id="Drill_+3A_...">...</code></td>
<td>
<p>Extra optional parameters</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>
<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>

<hr>
<h2 id='drill_active'>Test whether Drill HTTP Drill direct REST API Interface server is up</h2><span id='topic+drill_active'></span>

<h3>Description</h3>

<p>This is a very simple test (performs <code>HEAD /</code> request on the Drill server/cluster)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_active(drill_con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_active_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_active()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_cancel'>Cancel the query that has the given queryid</h2><span id='topic+drill_cancel'></span>

<h3>Description</h3>

<p>Cancel the query that has the given queryid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_cancel(drill_con, query_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_cancel_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_cancel_+3A_query_id">query_id</code></td>
<td>
<p>the UUID of the query in standard UUID format that Drill assigns to each query.</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>

<hr>
<h2 id='drill_connection'>Setup a Drill connection</h2><span id='topic+drill_connection'></span>

<h3>Description</h3>

<p>Setup a Drill connection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_connection(
  host = Sys.getenv("DRILL_HOST", "localhost"),
  port = Sys.getenv("DRILL_PORT", 8047),
  ssl = FALSE,
  user = Sys.getenv("DRILL_USER", ""),
  password = Sys.getenv("DRILL_PASSWORD", "")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_connection_+3A_host">host</code></td>
<td>
<p>Drill host (will pick up the value from <code>DRILL_HOST</code> env var)</p>
</td></tr>
<tr><td><code id="drill_connection_+3A_port">port</code></td>
<td>
<p>Drill port (will pick up the value from <code>DRILL_PORT</code> env var)</p>
</td></tr>
<tr><td><code id="drill_connection_+3A_ssl">ssl</code></td>
<td>
<p>use ssl?</p>
</td></tr>
<tr><td><code id="drill_connection_+3A_user">user</code>, <code id="drill_connection_+3A_password">password</code></td>
<td>
<p>(will pick up the values from <code>DRILL_USER</code>/<code>DRILL_PASSWORD</code> env vars)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>If <code>user</code>/<code>password</code> are set this function will make a <code>POST</code> to the REST
interface immediately to prime the cookie-jar with the session id.
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dc &lt;- drill_connection()
</code></pre>

<hr>
<h2 id='drill_custom_functions'>Drill expressions / custom functions <code>dplyr</code> translations</h2><span id='topic+drill_custom_functions'></span>

<h3>Description</h3>

<p>One benefit of <code>dplyr</code> is that it provide a nice DSL over datasbase ops but that
means there needs to be knowlege of functions supported by the host database and
then a translation layer so they can be used in R.
</p>


<h3>Details</h3>

<p>Similarly, there are functions like <code>grepl()</code> in R that don't directly exist in
databases. Yet, one can create a translation for <code>grepl()</code> that maps to a
<a href="https://github.com/parisni/drill-simple-contains">Drill custom function</a> so you
don't have to think differently or rewrite your pipes when switching from core
tidyverse ops and database ops.
</p>
<p>Many functions translate on their own, but it's handy to provide explicit ones,
especially when you want to use parameters in a different order.
</p>
<p>If you want a particular custom function mapped, file a PR or issue request in
the link found in the <code>DESCRIPTION</code> file.
</p>

<ul>
<li> <p><code>as.character(x)</code> : <code style="white-space: pre;">&#8288;CAST( x AS CHARACTER )&#8288;</code>
</p>
</li>
<li> <p><code>as.integer64(x)</code> : <code style="white-space: pre;">&#8288;CAST( x AS BIGINT )&#8288;</code>
</p>
</li>
<li> <p><code>as.date(x)</code> : <code style="white-space: pre;">&#8288;CAST( x AS DATE )&#8288;</code>
</p>
</li>
<li> <p><code>as.logical(x)</code> : <code style="white-space: pre;">&#8288;CAST( x AS BOOLEAN) &#8288;</code>
</p>
</li>
<li> <p><code>as.numeric(x)</code> : <code style="white-space: pre;">&#8288;CAST( x AS DOUBLE )&#8288;</code>
</p>
</li>
<li> <p><code>as.posixct(x)</code> : <code style="white-space: pre;">&#8288;CAST( x AS TIMESTAMP )&#8288;</code>
</p>
</li>
<li> <p><code>binary_string(x)</code> : <code>BINARY_STRING( x )</code>
</p>
</li>
<li> <p><code>cbrt(x)</code> : <code>CBRT( x )</code>
</p>
</li>
<li> <p><code>char_to_timestamp(x, y)</code> : <code>TO_TIMESTAMP( x, y )</code>
</p>
</li>
<li> <p><code>grepl(y, x)</code> : <code>CONTAINS( x, y )</code>
</p>
</li>
<li> <p><code>contains(x, y)</code> : <code>CONTAINS( x, y )</code>
</p>
</li>
<li> <p><code>convert_to(x, y)</code> : <code>CONVERT_TO( x, y )</code>
</p>
</li>
<li> <p><code>convert_from(x, y)</code> : <code>CONVERT_FROM( x, y )</code>
</p>
</li>
<li> <p><code>degrees(x)</code> : <code>DEGREES( x )</code>
</p>
</li>
<li> <p><code>lshift(x, y)</code> : <code>DEGREES( x, y )</code>
</p>
</li>
<li> <p><code>negative(x)</code> : <code>NEGATIVE( x )</code>
</p>
</li>
<li> <p><code>pow(x, y)</code> : <code>MOD( x, y )</code>
</p>
</li>
<li> <p><code>sql_prefix(x, y)</code> : <code>POW( x, y )</code>
</p>
</li>
<li> <p><code>string_binary(x)</code> : <code>STRING_BINARY( x )</code>
</p>
</li>
<li> <p><code>radians(x)</code> : <code>RADIANS( x )</code>
</p>
</li>
<li> <p><code>rshift(x)</code> : <code>RSHIFT( x )</code>
</p>
</li>
<li> <p><code>to_char(x, y)</code> : <code style="white-space: pre;">&#8288;TO_CHAR  x, y )&#8288;</code>
</p>
</li>
<li> <p><code>to_date(x, y)</code> : <code>TO_DATE( x, y )</code>
</p>
</li>
<li> <p><code>to_number(x, y)</code> : <code>TO_NUMBER( x, y )</code>
</p>
</li>
<li> <p><code>trunc(x)</code> : <code>TRUNC( x )</code>
</p>
</li>
<li> <p><code>double_to_timestamp(x)</code> = <code>TO_TIMESTAMP( x )</code>
</p>
</li>
<li> <p><code>char_length(x)</code> = <code>CHAR_LENGTH( x )</code>
</p>
</li>
<li> <p><code>flatten(x)</code> = <code>FLATTEN( x )</code>
</p>
</li>
<li> <p><code>kvgen(x)</code> = <code>KVGEN( x )</code>
</p>
</li>
<li> <p><code>repeated_count(x)</code> = <code>REPEATED_COUNT( x )</code>
</p>
</li>
<li> <p><code>repeated_contains(x)</code> = <code>REPEATED_CONTAINS( x )</code>
</p>
</li>
<li> <p><code>ilike(x, y)</code> = <code>ILIKE( x, y )</code>
</p>
</li>
<li> <p><code>init_cap(x)</code> = <code>INIT_CAP( x )</code>
</p>
</li>
<li> <p><code>length(x)</code> = <code>LENGTH( x )</code>
</p>
</li>
<li> <p><code>lower(x)</code> = <code>LOWER( x )</code>
</p>
</li>
<li> <p><code>tolower(x)</code> = <code>LOWER( x )</code>
</p>
</li>
<li> <p><code>ltrim(x, y)</code> = <code>LTRIM( x, y )</code>
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;nullif(x, y&#8288;</code> = <code>NULLIF( x, y )</code>
</p>
</li>
<li> <p><code>position(x, y)</code> = <code style="white-space: pre;">&#8288;POSITION( x IN  y )&#8288;</code>
</p>
</li>
<li> <p><code>gsub(x, y, z)</code> = <code>REGEXP_REPLACE( z, x, y )</code>
</p>
</li>
<li> <p><code>regexp_replace(x, y, z)</code> = <code>REGEXP_REPLACE( x, y, z )</code>
</p>
</li>
<li> <p><code>rtrim(x, y)</code> = <code>RTRIM( x, y )</code>
</p>
</li>
<li> <p><code>rpad(x, y)</code> = <code>RPAD( x, y )</code>
</p>
</li>
<li> <p><code>rpad_with(x, y, z)</code> = <code>RPAD( x, y, z )</code>
</p>
</li>
<li> <p><code>lpad(x, y)</code> = <code>LPAD( x, y )</code>
</p>
</li>
<li> <p><code>lpad_with(x, y, z)</code> = <code>LPAD( x, y, z )</code>
</p>
</li>
<li> <p><code>strpos(x, y)</code> = <code>STRPOS( x, y )</code>
</p>
</li>
<li> <p><code>substr(x, y, z)</code> = <code>SUBSTR( x, y, z )</code>
</p>
</li>
<li> <p><code>upper(x)</code> = <code>UPPER(1)</code>
</p>
</li>
<li> <p><code>toupper(x)</code> = <code>UPPER(1)</code>
</p>
</li></ul>

<p>You can get a compact list of these with:
</p>
<p><code>sql_translate_env(src_drill()$con)</code>
</p>
<p>as well.
</p>


<h3>See Also</h3>

<p>Other Drill REST API (dplyr): 
<code><a href="#topic+src_drill">src_drill</a>()</code>,
<code><a href="#topic+src_tbls.src_drill">src_tbls.src_drill</a>()</code>
</p>

<hr>
<h2 id='drill_functions'>Show all the available Drill built-in functions &amp; UDFs</h2><span id='topic+drill_functions'></span>

<h3>Description</h3>

<p>Show all the available Drill built-in functions &amp; UDFs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_functions(drill_con, browse = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_functions_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_functions_+3A_browse">browse</code></td>
<td>
<p>if <code>TRUE</code> display an HTML interacrtive HTML widget with the functions
as well as reutrn the data frame with the functions. Default if <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame
</p>


<h3>Note</h3>

<p>You <em>must</em> be using Drill 1.15.0+ to use this function
</p>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_functions()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_metrics'>Get the current memory metrics</h2><span id='topic+drill_metrics'></span>

<h3>Description</h3>

<p>Get the current memory metrics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_metrics(drill_con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_metrics_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_metrics()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_options'>List the name, default, and data type of the system and session options</h2><span id='topic+drill_options'></span>

<h3>Description</h3>

<p>List the name, default, and data type of the system and session options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_options(drill_con, pattern = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_options_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_options_+3A_pattern">pattern</code></td>
<td>
<p>pattern to filter results by</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_options()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_opts'>Show all the available Drill options</h2><span id='topic+drill_opts'></span>

<h3>Description</h3>

<p>Show all the available Drill options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_opts(drill_con, browse = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_opts_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_opts_+3A_browse">browse</code></td>
<td>
<p>if <code>TRUE</code> display an HTML interacrtive HTML widget with the options
as well as reutrn the data frame with the options Default if <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame
</p>


<h3>Note</h3>

<p>You <em>must</em> be using Drill 1.15.0+ to use this function
</p>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/querying-system-tables/#querying-the-options-table">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_opts()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_profile'>Get the profile of the query that has the given queryid</h2><span id='topic+drill_profile'></span>

<h3>Description</h3>

<p>Get the profile of the query that has the given queryid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_profile(drill_con, query_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_profile_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_profile_+3A_query_id">query_id</code></td>
<td>
<p>UUID of the query in standard UUID format that Drill assigns to each query</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>

<hr>
<h2 id='drill_profiles'>Get the profiles of running and completed queries</h2><span id='topic+drill_profiles'></span>

<h3>Description</h3>

<p>Get the profiles of running and completed queries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_profiles(drill_con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_profiles_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_profiles()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_query'>Submit a query and return results</h2><span id='topic+drill_query'></span>

<h3>Description</h3>

<p>This function can handle REST API connections or JDBC connections. There is a benefit to
calling this function for JDBC connections vs a straight call to <code>dbGetQuery()</code> in
that the function result is a <code>tbl_df</code> vs a plain <code>data.frame</code> so you get better
default printing (which can be helpful if you accidentally execute a query and the result
set is huge).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_query(drill_con, query, uplift = TRUE, .progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_query_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code> or
<code>drill_jdbc()</code>)</p>
</td></tr>
<tr><td><code id="drill_query_+3A_query">query</code></td>
<td>
<p>query to run</p>
</td></tr>
<tr><td><code id="drill_query_+3A_uplift">uplift</code></td>
<td>
<p>automatically run <code>drill_uplift()</code> on the result? (default: <code>TRUE</code>,
ignored if <code>drill_con</code> is a <code>JDBCConnection</code> created by
<code>drill_jdbc()</code>)</p>
</td></tr>
<tr><td><code id="drill_query_+3A_.progress">.progress</code></td>
<td>
<p>if <code>TRUE</code> (default if in an interactive session) then ask
<code>httr::RETRY</code> to display a progress bar</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>try({
drill_connection() %&gt;%
  drill_query("SELECT * FROM cp.`employee.json` limit 5")
}, silent=TRUE)
</code></pre>

<hr>
<h2 id='drill_set'>Set Drill SYSTEM or SESSION options</h2><span id='topic+drill_set'></span>

<h3>Description</h3>

<p>Helper function to make it more R-like to set Drill SESSION or SYSTEM optons. It
handles the conversion of R types (like <code>TRUE</code>) to SQL types and automatically
quotes parameter values (when necessary).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_set(drill_con, ..., type = c("session", "system"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_set_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_set_+3A_...">...</code></td>
<td>
<p>named parameters to be sent to <code style="white-space: pre;">&#8288;ALTER SYSTEM&#8288;</code> or <code style="white-space: pre;">&#8288;ALTER SESSION&#8288;</code></p>
</td></tr>
<tr><td><code id="drill_set_+3A_type">type</code></td>
<td>
<p>set the <code>session</code> or <code>system</code> parameter</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If any query errors result, error messages will be presented to the console.
</p>


<h3>Value</h3>

<p>a <code>tbl</code> (invisibly) with the <code>ALTER</code> queries sent and results, including errors.
</p>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;%
  drill_set(exec.errors.verbose=TRUE, store.format="parquet", web.logs.max_lines=20000)

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_settings_reset'>Changes (optionally, all) session settings back to system defaults</h2><span id='topic+drill_settings_reset'></span>

<h3>Description</h3>

<p>Changes (optionally, all) session settings back to system defaults
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_settings_reset(drill_con, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_settings_reset_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_settings_reset_+3A_...">...</code></td>
<td>
<p>bare name of system options to reset</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_settings_reset(exec.errors.verbose)

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_show_files'>Show files in a file system schema.</h2><span id='topic+drill_show_files'></span>

<h3>Description</h3>

<p>Show files in a file system schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_show_files(drill_con, schema_spec, .progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_show_files_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_show_files_+3A_schema_spec">schema_spec</code></td>
<td>
<p>properly quoted &quot;filesystem.directory_name&quot; reference path</p>
</td></tr>
<tr><td><code id="drill_show_files_+3A_.progress">.progress</code></td>
<td>
<p>if <code>TRUE</code> (default if in an interactive session) then ask
<code>httr::RETRY</code> to display a progress bar</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Dill direct REST API Interface: 
<code><a href="#topic+drill_show_schemas">drill_show_schemas</a>()</code>,
<code><a href="#topic+drill_use">drill_use</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>try({
drill_connection() %&gt;% drill_show_files("dfs.tmp")
}, silent=TRUE)
</code></pre>

<hr>
<h2 id='drill_show_schemas'>Returns a list of available schemas.</h2><span id='topic+drill_show_schemas'></span>

<h3>Description</h3>

<p>Returns a list of available schemas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_show_schemas(drill_con, .progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_show_schemas_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_show_schemas_+3A_.progress">.progress</code></td>
<td>
<p>if <code>TRUE</code> (default if in an interactive session) then ask
<code>httr::RETRY</code> to display a progress bar</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Dill direct REST API Interface: 
<code><a href="#topic+drill_show_files">drill_show_files</a>()</code>,
<code><a href="#topic+drill_use">drill_use</a>()</code>
</p>

<hr>
<h2 id='drill_stats'>Get Drillbit information, such as ports numbers</h2><span id='topic+drill_stats'></span>

<h3>Description</h3>

<p>Get Drillbit information, such as ports numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_stats(drill_con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_stats_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_stats()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_status'>Get the status of Drill</h2><span id='topic+drill_status'></span>

<h3>Description</h3>

<p>Get the status of Drill
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_status(drill_con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_status_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>The output of this is in a &quot;viewer&quot; window
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_status()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_storage'>Retrieve, modify or update storage plugin names and configurations</h2><span id='topic+drill_storage'></span><span id='topic+drill_mod_storage'></span><span id='topic+drill_rm_storage'></span>

<h3>Description</h3>

<p>Retrieve, modify or remove storage plugins from a Drill instance. If you intend
to modify an existing configuration it is suggested that you use the &quot;<code>list</code>&quot; or
&quot;<code>raw</code>&quot; values to the <code>as</code> parameter to make it easier to modify them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_storage(drill_con, plugin = NULL, as = c("tbl", "list", "raw"))

drill_mod_storage(drill_con, name, config)

drill_rm_storage(drill_con, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_storage_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_storage_+3A_plugin">plugin</code></td>
<td>
<p>the assigned name in the storage plugin definition.</p>
</td></tr>
<tr><td><code id="drill_storage_+3A_as">as</code></td>
<td>
<p>one of &quot;<code>tbl</code>&quot; or &quot;<code>list</code>&quot; or &quot;<code>raw</code>&quot;. The latter two are useful if you want
modify an existing storage plugin (e.g. add a workspace) via
<code><a href="#topic+drill_mod_storage">drill_mod_storage()</a></code>.</p>
</td></tr>
<tr><td><code id="drill_storage_+3A_name">name</code></td>
<td>
<p>name of the storage plugin configuration to create/update/remove</p>
</td></tr>
<tr><td><code id="drill_storage_+3A_config">config</code></td>
<td>
<p>a raw 1-element character vector containing valid JSON of a
complete storage spec</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_storage()

drill_connection() %&gt;%
  drill_mod_storage(
    name = "drilldat",
    config = '
{
  "config" : {
    "connection" : "file:///",
    "enabled" : true,
    "formats" : null,
    "type" : "file",
    "workspaces" : {
      "root" : {
        "location" : "/Users/hrbrmstr/drilldat",
        "writable" : true,
        "defaultInputFormat": null
      }
    }
  },
  "name" : "drilldat"
}
')

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_system_reset'>Changes (optionally, all) system settings back to system defaults</h2><span id='topic+drill_system_reset'></span>

<h3>Description</h3>

<p>Changes (optionally, all) system settings back to system defaults
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_system_reset(drill_con, ..., all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_system_reset_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_system_reset_+3A_...">...</code></td>
<td>
<p>bare name of system options to reset</p>
</td></tr>
<tr><td><code id="drill_system_reset_+3A_all">all</code></td>
<td>
<p>if <code>TRUE</code>, all parameters are reset (<code>...</code> is ignored)</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_system_reset(all=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_threads'>Get information about threads</h2><span id='topic+drill_threads'></span>

<h3>Description</h3>

<p>Get information about threads
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_threads(drill_con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_threads_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>The output of this is in a &quot;viewer&quot; window
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_version">drill_version</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_threads()

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_up'>Start a Dockerized Drill Instance</h2><span id='topic+drill_up'></span><span id='topic+drill_down'></span>

<h3>Description</h3>

<p>This is a &quot;get you up and running quickly&quot; helper function as it only
runs a standalone mode Drill instance and is optionally removed after the container
is stopped. You should customize your own Drill containers based on the
one at <a href="https://hub.docker.com/u/drill">Drill's Docker Hub</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_up(
  image = "drill/apache-drill:1.16.0",
  container_name = "drill",
  data_dir = getwd(),
  remove = TRUE
)

drill_down(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_up_+3A_image">image</code></td>
<td>
<p>Drill image to use. Must be a valid image from
<a href="https://hub.docker.com/u/drill">Drill's Docker Hub</a>. Defaults
to most recent Drill docker image.</p>
</td></tr>
<tr><td><code id="drill_up_+3A_container_name">container_name</code></td>
<td>
<p>naem for the container. Defaults to &quot;<code>drill</code>&quot;.</p>
</td></tr>
<tr><td><code id="drill_up_+3A_data_dir">data_dir</code></td>
<td>
<p>valid path to a place where your data is stored; defaults to the
value of <code><a href="base.html#topic+getwd">getwd()</a></code>. This will be <code><a href="base.html#topic+path.expand">path.expand()</a></code>ed and mapped to <code style="white-space: pre;">&#8288;/data&#8288;</code>
in the container. This will be mapped to the <code>dfs</code> storage plugin as the
<code>dfs.d</code> workspace.</p>
</td></tr>
<tr><td><code id="drill_up_+3A_remove">remove</code></td>
<td>
<p>remove the Drill container instance after it's stopped?
Defaults to <code>TRUE</code> since you shouldn't be relying on this in production.</p>
</td></tr>
<tr><td><code id="drill_up_+3A_id">id</code></td>
<td>
<p>the id of the Drill container</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The path specified in <code>data_dir</code> will be mapped inside the container as
<code style="white-space: pre;">&#8288;/data&#8288;</code> and a new <code>dfs</code> storage workspace will created (<code>dfs.d</code>) that
maps to <code style="white-space: pre;">&#8288;/data&#8288;</code> and is writable.
</p>
<p>Use <code><a href="#topic+drill_down">drill_down()</a></code> to stop a running Drill container by container id
(full or partial).
</p>


<h3>Value</h3>

<p>a <code>stevedore</code> docker object (invisibly) which <em>you</em> are responsible
for killing with the <code style="white-space: pre;">&#8288;$stop()&#8288;</code>  function or from the Docker command
line (in interactive mode the docker container ID is printed as well).
</p>


<h3>Note</h3>

<p>this requires a working Docker setup on your system and it is <em>highly suggested</em>
you <code style="white-space: pre;">&#8288;docker pull&#8288;</code> it yourself before running this function.
</p>


<h3>See Also</h3>

<p>Other Drill Docker functions: 
<code><a href="#topic+killall_drill">killall_drill</a>()</code>,
<code><a href="#topic+showall_drill">showall_drill</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_up(data_dir = "~/Data")

## End(Not run)
</code></pre>

<hr>
<h2 id='drill_uplift'>Turn columnar query results into a type-converted tbl</h2><span id='topic+drill_uplift'></span>

<h3>Description</h3>

<p>If you know the result of <code>drill_query()</code> will be a data frame, then
you can pipe it to this function to pull out <code>rows</code> and automatically
type-convert it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_uplift(query_result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_uplift_+3A_query_result">query_result</code></td>
<td>
<p>the result of a call to <code>drill_query()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Not really intended to be called directly, but useful if you accidentally ran
<code>drill_query()</code> without <code>uplift=TRUE</code> but want to then convert the structure.
</p>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>

<hr>
<h2 id='drill_use'>Change to a particular schema.</h2><span id='topic+drill_use'></span>

<h3>Description</h3>

<p>Change to a particular schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_use(drill_con, schema_name, .progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_use_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
<tr><td><code id="drill_use_+3A_schema_name">schema_name</code></td>
<td>
<p>A unique name for a Drill schema. A schema in Drill is a configured
storage plugin, such as hive, or a storage plugin and workspace.</p>
</td></tr>
<tr><td><code id="drill_use_+3A_.progress">.progress</code></td>
<td>
<p>if <code>TRUE</code> (default if in an interactive session) then ask
<code>httr::RETRY</code> to display a progress bar</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Dill direct REST API Interface: 
<code><a href="#topic+drill_show_files">drill_show_files</a>()</code>,
<code><a href="#topic+drill_show_schemas">drill_show_schemas</a>()</code>
</p>

<hr>
<h2 id='drill_version'>Identify the version of Drill running</h2><span id='topic+drill_version'></span>

<h3>Description</h3>

<p>Identify the version of Drill running
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drill_version(drill_con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drill_version_+3A_drill_con">drill_con</code></td>
<td>
<p>drill server connection object setup by <code>drill_connection()</code></p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>


<h3>See Also</h3>

<p>Other Drill direct REST API Interface: 
<code><a href="#topic+drill_active">drill_active</a>()</code>,
<code><a href="#topic+drill_cancel">drill_cancel</a>()</code>,
<code><a href="#topic+drill_connection">drill_connection</a>()</code>,
<code><a href="#topic+drill_functions">drill_functions</a>()</code>,
<code><a href="#topic+drill_metrics">drill_metrics</a>()</code>,
<code><a href="#topic+drill_options">drill_options</a>()</code>,
<code><a href="#topic+drill_opts">drill_opts</a>()</code>,
<code><a href="#topic+drill_profiles">drill_profiles</a>()</code>,
<code><a href="#topic+drill_profile">drill_profile</a>()</code>,
<code><a href="#topic+drill_query">drill_query</a>()</code>,
<code><a href="#topic+drill_settings_reset">drill_settings_reset</a>()</code>,
<code><a href="#topic+drill_set">drill_set</a>()</code>,
<code><a href="#topic+drill_stats">drill_stats</a>()</code>,
<code><a href="#topic+drill_status">drill_status</a>()</code>,
<code><a href="#topic+drill_storage">drill_storage</a>()</code>,
<code><a href="#topic+drill_system_reset">drill_system_reset</a>()</code>,
<code><a href="#topic+drill_threads">drill_threads</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
drill_connection() %&gt;% drill_version()

## End(Not run)
</code></pre>

<hr>
<h2 id='DrillConnection-class'>Drill connection class.</h2><span id='topic+DrillConnection-class'></span><span id='topic+dbSendQuery+2CDrillConnection-method'></span><span id='topic+dbSendQuery+2CDrillConnection+2Ccharacter-method'></span><span id='topic+dbIsValid+2CDrillConnection-method'></span><span id='topic+dbListFields+2CDrillConnection+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Drill connection class.
</p>
<p>Send a query to Drill
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DrillConnection'
dbSendQuery(conn, statement, ...)

## S4 method for signature 'DrillConnection'
dbIsValid(dbObj, ...)

## S4 method for signature 'DrillConnection,character'
dbListFields(conn, name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DrillConnection-class_+3A_conn">conn</code></td>
<td>
<p>connection</p>
</td></tr>
<tr><td><code id="DrillConnection-class_+3A_statement">statement</code></td>
<td>
<p>SQL statement</p>
</td></tr>
<tr><td><code id="DrillConnection-class_+3A_...">...</code></td>
<td>
<p>passed on to methods</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>
<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>
<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>

<hr>
<h2 id='DrillDriver-class'>Driver for Drill database.</h2><span id='topic+DrillDriver-class'></span>

<h3>Description</h3>

<p>Driver for Drill database.
</p>


<h3>See Also</h3>

<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillResult-class">DrillResult-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>

<hr>
<h2 id='DrillResult-class'>Drill results class.</h2><span id='topic+DrillResult-class'></span><span id='topic+dbClearResult+2CDrillResult-method'></span><span id='topic+dbFetch+2CDrillResult-method'></span><span id='topic+dbHasCompleted+2CDrillResult-method'></span><span id='topic+dbListFields+2CDrillResult+2Cmissing-method'></span><span id='topic+dbGetStatement+2CDrillResult-method'></span>

<h3>Description</h3>

<p>Drill results class.
</p>
<p>Clear
</p>
<p>Retrieve records from Drill query
</p>
<p>Completed
</p>
<p>Statement
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DrillResult'
dbClearResult(res, ...)

## S4 method for signature 'DrillResult'
dbFetch(res, .progress = FALSE, ...)

## S4 method for signature 'DrillResult'
dbHasCompleted(res, ...)

## S4 method for signature 'DrillResult,missing'
dbListFields(conn, name)

## S4 method for signature 'DrillResult'
dbGetStatement(res, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DrillResult-class_+3A_.progress">.progress</code></td>
<td>
<p>show data transfer progress?</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>
<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>
<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>
<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>
<p>Other Drill REST DBI API: 
<code><a href="#topic+DrillConnection-class">DrillConnection-class</a></code>,
<code><a href="#topic+DrillDriver-class">DrillDriver-class</a></code>,
<code><a href="#topic+Drill">Drill</a>()</code>,
<code><a href="#topic+dbDataType+2CDrillConnection-method">dbDataType,DrillConnection-method</a></code>,
<code><a href="#topic+dbUnloadDriver+2CDrillDriver-method">dbUnloadDriver,DrillDriver-method</a></code>
</p>

<hr>
<h2 id='format.DrillConnection'>A concise character representation (label) for a <code>DrillConnection</code></h2><span id='topic+format.DrillConnection'></span>

<h3>Description</h3>

<p>A concise character representation (label) for a <code>DrillConnection</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'DrillConnection'
format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format.DrillConnection_+3A_x">x</code></td>
<td>
<p>a <code>DrillConnection</code></p>
</td></tr>
<tr><td><code id="format.DrillConnection_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='killall_drill'>Prune all dead and running Drill Docker containers</h2><span id='topic+killall_drill'></span>

<h3>Description</h3>

<p><em>This is a destructive function.</em> It will stop <strong>any</strong> Docker container that
is based on an image matching a runtime command of &quot;<code>bin/drill-embedded</code>&quot;.
It's best used when you had a session forcefully interuppted and had been
using the R helper functions to start/stop the Drill Docker container.
You may want to consider using the Docker command-line interface to perform
this work manually.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>killall_drill()
</code></pre>


<h3>See Also</h3>

<p>Other Drill Docker functions: 
<code><a href="#topic+drill_up">drill_up</a>()</code>,
<code><a href="#topic+showall_drill">showall_drill</a>()</code>
</p>

<hr>
<h2 id='print.drill_conn'>Print function for <code>drill_conn</code> objects</h2><span id='topic+print.drill_conn'></span>

<h3>Description</h3>

<p>Print function for <code>drill_conn</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'drill_conn'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.drill_conn_+3A_x">x</code></td>
<td>
<p>a <code>drill_conn</code> object made with <code><a href="#topic+drill_connection">drill_connection()</a></code></p>
</td></tr>
<tr><td><code id="print.drill_conn_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>

<hr>
<h2 id='sergeant'>Tools to Transform and Query Data with 'Apache' 'Drill'</h2><span id='topic+sergeant'></span>

<h3>Description</h3>

<p>Drill is an innovative low-latency distributed query engine designed to enable data
exploration and analytics on both relational and non-relational datastores, scaling to
petabytes of data. Users can query the data using standard SQL and BI tools without
having to create and manage schemas. Some of the key features are:
</p>


<h3>Details</h3>


<ul>
<li><p>Schema-free JSON document model similar to MongoDB and Elasticsearch
</p>
</li>
<li><p>Industry-standard APIs: ANSI SQL, ODBC/JDBC, RESTful APIs
</p>
</li>
<li><p>Extremely user and developer friendly
</p>
</li>
<li><p>Pluggable architecture enables connectivity to multiple datastores
</p>
</li></ul>

<p>Drill includes a distributed execution environment, purpose built for large-scale data
processing. At the core of Drill is the &quot;Drillbit&quot; service which is responsible for
accepting requests from the client, processing the queries, and returning results to
the client.
</p>
<p>You can install and run a Drillbit service on one node or on many nodes to form a
distributed cluster environment. When a Drillbit runs on each data node in a cluster,
Drill can maximize data locality during query execution without moving data over the
network or between nodes. Drill uses Zookeeper to maintain cluster membership and health
check information.
</p>
<p>Methods are provided to work with Drill via the REST APIs along with R
<code>DBI</code> and <code>dplyr</code> interfaces. Helper functions are included to facilitate
using official 'Drill' 'Docker' images/containers.
</p>


<h3>Author(s)</h3>

<p>Bob Rudis (bob@rud.is)
</p>


<h3>References</h3>

<p><a href="https://drill.apache.org/docs/">Drill documentation</a>
</p>

<hr>
<h2 id='sergeant-exports'>sergeant exported operators</h2><span id='topic+sergeant-exports'></span><span id='topic+tbl'></span>

<h3>Description</h3>

<p>The following functions are imported and then re-exported
from the sergeant package to enable use of the magrittr
pipe operator with no additional library calls
</p>

<hr>
<h2 id='showall_drill'>Show all dead and running Drill Docker containers</h2><span id='topic+showall_drill'></span>

<h3>Description</h3>

<p>This function will show <em>all</em> Docker containers that are based on an
image matching a runtime command of &quot;<code>bin/drill-embedded</code>&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showall_drill()
</code></pre>


<h3>See Also</h3>

<p>Other Drill Docker functions: 
<code><a href="#topic+drill_up">drill_up</a>()</code>,
<code><a href="#topic+killall_drill">killall_drill</a>()</code>
</p>

<hr>
<h2 id='src_drill'>Connect to Drill (dplyr)</h2><span id='topic+src_drill'></span><span id='topic+tbl.src_drill'></span>

<h3>Description</h3>

<p>Use <code>src_drill()</code> to connect to a Drill cluster and <code>tbl()</code> to connect to a
fully-qualified &quot;table reference&quot;. The vast majority of Drill SQL functions have
also been made available to the <code>dplyr</code> interface. If you have custom Drill
SQL functions that need to be implemented please file an issue on GitHub.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>src_drill(
  host = Sys.getenv("DRILL_HOST", "localhost"),
  port = as.integer(Sys.getenv("DRILL_PORT", 8047L)),
  ssl = FALSE,
  username = NULL,
  password = NULL
)

## S3 method for class 'src_drill'
tbl(src, from, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="src_drill_+3A_host">host</code></td>
<td>
<p>Drill host (will pick up the value from <code>DRILL_HOST</code> env var)</p>
</td></tr>
<tr><td><code id="src_drill_+3A_port">port</code></td>
<td>
<p>Drill port (will pick up the value from <code>DRILL_PORT</code> env var)</p>
</td></tr>
<tr><td><code id="src_drill_+3A_ssl">ssl</code></td>
<td>
<p>use ssl?</p>
</td></tr>
<tr><td><code id="src_drill_+3A_username">username</code>, <code id="src_drill_+3A_password">password</code></td>
<td>
<p>if not <code>NULL</code> the credentials for the Drill service.</p>
</td></tr>
<tr><td><code id="src_drill_+3A_src">src</code></td>
<td>
<p>A Drill &quot;src&quot; created with <code>src_drill()</code></p>
</td></tr>
<tr><td><code id="src_drill_+3A_from">from</code></td>
<td>
<p>A Drill view or table specification</p>
</td></tr>
<tr><td><code id="src_drill_+3A_...">...</code></td>
<td>
<p>Extra parameters</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This is a DBI wrapper around the Drill REST API.
</p>


<h3>See Also</h3>

<p>Other Drill REST API (dplyr): 
<code><a href="#topic+drill_custom_functions">drill_custom_functions</a></code>,
<code><a href="#topic+src_tbls.src_drill">src_tbls.src_drill</a>()</code>
</p>
<p>Other Drill REST API (dplyr): 
<code><a href="#topic+drill_custom_functions">drill_custom_functions</a></code>,
<code><a href="#topic+src_tbls.src_drill">src_tbls.src_drill</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>try({
db &lt;- src_drill("localhost", 8047L)

print(db)
## src:  DrillConnection
## tbls: INFORMATION_SCHEMA, cp.default, dfs.default, dfs.root, dfs.tmp, sys

emp &lt;- tbl(db, "cp.`employee.json`")

count(emp, gender, marital_status)
## # Source:   lazy query [?? x 3]
## # Database: DrillConnection
## # Groups:   gender
##   marital_status gender     n
##            &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;
## 1              S      F   297
## 2              M      M   278
## 3              S      M   276

# Drill-specific SQL functions are also available
select(emp, full_name) %&gt;%
  mutate(        loc = strpos(full_name, "a"),
         first_three = substr(full_name, 1L, 3L),
                 len = length(full_name),
                  rx = regexp_replace(full_name, "[aeiouAEIOU]", "*"),
                 rnd = rand(),
                 pos = position("en", full_name),
                 rpd = rpad(full_name, 20L),
                rpdw = rpad_with(full_name, 20L, "*"))
## # Source:   lazy query [?? x 9]
## # Database: DrillConnection
##      loc         full_name   len                 rpdw   pos                rx
##    &lt;int&gt;             &lt;chr&gt; &lt;int&gt;                &lt;chr&gt; &lt;int&gt;             &lt;chr&gt;
##  1     0      Sheri Nowmer    12 Sheri Nowmer********     0      Sh*r* N*wm*r
##  2     0   Derrick Whelply    15 Derrick Whelply*****     0   D*rr*ck Wh*lply
##  3     5    Michael Spence    14 Michael Spence******    11    M*ch**l Sp*nc*
##  4     2    Maya Gutierrez    14 Maya Gutierrez******     0    M*y* G*t**rr*z
##  5     7   Roberta Damstra    15 Roberta Damstra*****     0   R*b*rt* D*mstr*
##  6     7  Rebecca Kanagaki    16 Rebecca Kanagaki****     0  R*b*cc* K*n*g*k*
##  7     0       Kim Brunner    11 Kim Brunner*********     0       K*m Br*nn*r
##  8     6   Brenda Blumberg    15 Brenda Blumberg*****     3   Br*nd* Bl*mb*rg
##  9     2      Darren Stanz    12 Darren Stanz********     5      D*rr*n St*nz
## 10     4 Jonathan Murraiin    17 Jonathan Murraiin***     0 J*n*th*n M*rr***n
## # ... with more rows, and 3 more variables: rpd &lt;chr&gt;, rnd &lt;dbl&gt;, first_three &lt;chr&gt;
}, silent=TRUE)
</code></pre>

<hr>
<h2 id='src_tbls.src_drill'>src tbls</h2><span id='topic+src_tbls.src_drill'></span><span id='topic+db_desc.src_drill'></span><span id='topic+sql_escape_ident.DrillConnection'></span><span id='topic+copy_to.src_drill'></span><span id='topic+db_explain.DrillConnection'></span><span id='topic+db_query_fields.DrillConnection'></span><span id='topic+db_data_type.DrillConnection'></span><span id='topic+sql_translate_env.DrillConnection'></span>

<h3>Description</h3>

<p>&quot;SHOW DATABASES&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'src_drill'
src_tbls(x, ...)

## S3 method for class 'src_drill'
db_desc(x)

## S3 method for class 'DrillConnection'
sql_escape_ident(con, x)

## S3 method for class 'src_drill'
copy_to(dest, df, name, overwrite, ...)

## S3 method for class 'DrillConnection'
db_explain(con, sql, ...)

## S3 method for class 'DrillConnection'
db_query_fields(con, sql, ...)

## S3 method for class 'DrillConnection'
db_data_type(con, fields, ...)

## S3 method for class 'DrillConnection'
sql_translate_env(con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="src_tbls.src_drill_+3A_x">x</code></td>
<td>
<p>x</p>
</td></tr>
<tr><td><code id="src_tbls.src_drill_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Drill REST API (dplyr): 
<code><a href="#topic+drill_custom_functions">drill_custom_functions</a></code>,
<code><a href="#topic+src_drill">src_drill</a>()</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

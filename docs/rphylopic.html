<!DOCTYPE html><html><head><title>Help for package rphylopic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rphylopic}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_phylopic'><p>Annotate a ggplot plot with PhyloPics</p></a></li>
<li><a href='#add_phylopic_base'><p>Add PhyloPics to a base R plot</p></a></li>
<li><a href='#browse_phylopic'><p>Browse PhyloPic for a given taxonomic name or uuid</p></a></li>
<li><a href='#flip_phylopic'><p>Flip a PhyloPic silhouette along its horizontal and/or vertical axis</p></a></li>
<li><a href='#geom_phylopic'><p>Geom for adding PhyloPic silhouettes to a plot</p></a></li>
<li><a href='#get_attribution'><p>Get PhyloPic attribution data</p></a></li>
<li><a href='#get_phylopic'><p>Retrieve an image for a given PhyloPic uuid</p></a></li>
<li><a href='#get_uuid'><p>Get a PhyloPic uuid</p></a></li>
<li><a href='#phylopic_key_glyph'><p>Use PhyloPics as legend key glyphs</p></a></li>
<li><a href='#pick_phylopic'><p>Pick a PhyloPic image from available options</p></a></li>
<li><a href='#plot.Picture'><p>Preview a PhyloPic silhouette</p></a></li>
<li><a href='#recolor_phylopic'><p>Recolor a PhyloPic image</p></a></li>
<li><a href='#resolve_phylopic'><p>Use a taxonomic name from another database to get a PhyloPic image UUID</p></a></li>
<li><a href='#rotate_phylopic'><p>Rotate a PhyloPic silhouette</p></a></li>
<li><a href='#rphylopic-package'><p>rphylopic: Get Silhouettes of Organisms from PhyloPic</p></a></li>
<li><a href='#save_phylopic'><p>Save a PhyloPic image</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Get Silhouettes of Organisms from PhyloPic</td>
</tr>
<tr>
<td>Description:</td>
<td>Work with the PhyloPic Web Service (<a href="http://api-docs.phylopic.org/v2/">http://api-docs.phylopic.org/v2/</a>) 
    to fetch silhouette images of organisms. Includes functions for adding 
    silhouettes to both base R plots and ggplot2 plots.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.0</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, jsonlite, grid, graphics, png, grImport2 (&ge; 0.3.0),
rsvg (&ge; 2.6.0), httr, curl, methods, lifecycle, pbapply, knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), vdiffr (&ge; 1.0.0), rmarkdown, covr,
phytools, palaeoverse, ggtree, ape, deeptime, palmerpenguins,
maps, sf</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rphylopic.palaeoverse.org">https://rphylopic.palaeoverse.org</a>,
<a href="https://github.com/palaeoverse/rphylopic">https://github.com/palaeoverse/rphylopic</a>,
<a href="https://palaeoverse.org">https://palaeoverse.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/palaeoverse/rphylopic/issues">https://github.com/palaeoverse/rphylopic/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-20 22:58:25 UTC; willg</td>
</tr>
<tr>
<td>Author:</td>
<td>William Gearty <a href="https://orcid.org/0000-0003-0076-3262"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Lewis A. Jones <a href="https://orcid.org/0000-0003-3902-8986"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Scott Chamberlain <a href="https://orcid.org/0000-0003-1444-9135"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  David Miller [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>William Gearty &lt;willgearty@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-20 23:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_phylopic'>Annotate a ggplot plot with PhyloPics</h2><span id='topic+add_phylopic'></span>

<h3>Description</h3>

<p>Specify existing images, taxonomic names, or PhyloPic uuids to add PhyloPic
silhouettes as a separate layer to an existing ggplot plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_phylopic(
  img = NULL,
  name = NULL,
  uuid = NULL,
  filter = NULL,
  x,
  y,
  ysize = Inf,
  alpha = 1,
  color = NA,
  fill = "black",
  horizontal = FALSE,
  vertical = FALSE,
  angle = 0,
  remove_background = TRUE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_phylopic_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_name">name</code></td>
<td>
<p><code>character</code>. A taxonomic name to be passed to <code><a href="#topic+get_uuid">get_uuid()</a></code>.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_uuid">uuid</code></td>
<td>
<p><code>character</code>. A valid uuid for a PhyloPic silhouette (such as
that returned by <code><a href="#topic+get_uuid">get_uuid()</a></code> or <code><a href="#topic+pick_phylopic">pick_phylopic()</a></code>).</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_filter">filter</code></td>
<td>
<p><code>character</code>. Filter by usage license if <code>name</code> is defined.
Use &quot;by&quot; to limit results to images which do not require attribution, &quot;nc&quot;
for images which allows commercial usage, and &quot;sa&quot; for images without a
ShareAlike clause. The user can also combine these filters as a vector.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_x">x</code></td>
<td>
<p><code>numeric</code>. x value of the silhouette center.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_y">y</code></td>
<td>
<p><code>numeric</code>. y value of the silhouette center.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_ysize">ysize</code></td>
<td>
<p><code>numeric</code>. Height of the silhouette. The width is
determined by the aspect ratio of the original image. If &quot;Inf&quot;, the
default, the height will be as tall as will fit within the plot area.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_alpha">alpha</code></td>
<td>
<p><code>numeric</code>. A value between 0 and 1, specifying the opacity
of the silhouette (0 is fully transparent, 1 is fully opaque).</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_color">color</code></td>
<td>
<p><code>character</code>. Color of silhouette outline. If &quot;original&quot; or
NA is specified, the original color of the silhouette outline will be used
(usually the same as &quot;transparent&quot;). To remove the outline, you can set
this to &quot;transparent&quot;.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_fill">fill</code></td>
<td>
<p><code>character</code>. Color of silhouette. If &quot;original&quot; is
specified, the original color of the silhouette will be used (usually the
same as &quot;black&quot;). If <code>color</code> is specified and <code>fill</code> is NA, <code>color</code> will be
used as the fill color (for backwards compatibility). To remove the fill,
you can set this to &quot;transparent&quot;.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_horizontal">horizontal</code></td>
<td>
<p><code>logical</code>. Should the silhouette be flipped
horizontally?</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_vertical">vertical</code></td>
<td>
<p><code>logical</code>. Should the silhouette be flipped vertically?</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_angle">angle</code></td>
<td>
<p><code>numeric</code>. The number of degrees to rotate the silhouette
clockwise. The default is no rotation.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_remove_background">remove_background</code></td>
<td>
<p><code>logical</code>. Should any white background be
removed from the silhouette(s)? See <code><a href="#topic+recolor_phylopic">recolor_phylopic()</a></code> for details.</p>
</td></tr>
<tr><td><code id="add_phylopic_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code>. Should the attribution information for the
used silhouette(s) be printed to the console (see <code><a href="#topic+get_attribution">get_attribution()</a></code>)?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>One (and only one) of <code>img</code>, <code>name</code>, or <code>uuid</code> must be specified.
Use parameters <code>x</code>, <code>y</code>, and <code>ysize</code> to place the silhouette at a specified
position on the plot. The aspect ratio of the silhouette will always be
maintained.
</p>
<p><code>x</code> and/or <code>y</code> may be vectors of numeric values if multiple silhouettes
should be plotted at once. In this case, any other arguments (except for
<code>remove_background</code>) may also be vectors of values, which will be recycled
as necessary.
</p>
<p>When specifying a horizontal and/or vertical flip <strong>and</strong> a rotation, the
flip(s) will always occur first. If you would like to customize this
behavior, you can flip and/or rotate the image within your own workflow
using <code><a href="#topic+flip_phylopic">flip_phylopic()</a></code> and <code><a href="#topic+rotate_phylopic">rotate_phylopic()</a></code>.
</p>
<p>Note that png array objects can only be rotated by multiples of 90 degrees.
Also, outline colors do not currently work for png array objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Put a silhouette behind a plot based on a taxonomic name
library(ggplot2)
ggplot(iris) +
  add_phylopic(x = 6.1, y = 3.2, name = "Iris", alpha = 0.2) +
  geom_point(aes(x = Sepal.Length, y = Sepal.Width))

# Put a silhouette in several places based on UUID
posx &lt;- runif(10, 0, 10)
posy &lt;- runif(10, 0, 10)
sizey &lt;- runif(10, 0.4, 2)
angle &lt;- runif(10, 0, 360)
hor &lt;- sample(c(TRUE, FALSE), 10, TRUE)
ver &lt;- sample(c(TRUE, FALSE), 10, TRUE)
fills &lt;- sample(c("black", "darkorange", "grey42", "white"), 10,
  replace = TRUE)
alpha &lt;- runif(10, 0.3, 1)

p &lt;- ggplot(data.frame(cat.x = posx, cat.y = posy), aes(cat.x, cat.y)) +
  geom_blank() +
  add_phylopic(uuid = "23cd6aa4-9587-4a2e-8e26-de42885004c9",
               x = posx, y = posy, ysize = sizey,
               fill = fills, alpha = alpha, angle = angle,
               horizontal = hor, vertical = ver)
p + ggtitle("R Cat Herd!!")

## End(Not run)
</code></pre>

<hr>
<h2 id='add_phylopic_base'>Add PhyloPics to a base R plot</h2><span id='topic+add_phylopic_base'></span>

<h3>Description</h3>

<p>Specify existing images, taxonomic names, or PhyloPic uuids to add PhyloPic
silhouettes on top of an existing base R plot (like <code><a href="graphics.html#topic+points">points()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_phylopic_base(
  img = NULL,
  name = NULL,
  uuid = NULL,
  filter = NULL,
  x = NULL,
  y = NULL,
  ysize = NULL,
  alpha = 1,
  color = NA,
  fill = "black",
  horizontal = FALSE,
  vertical = FALSE,
  angle = 0,
  remove_background = TRUE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_phylopic_base_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_name">name</code></td>
<td>
<p><code>character</code>. A taxonomic name to be passed to <code><a href="#topic+get_uuid">get_uuid()</a></code>.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_uuid">uuid</code></td>
<td>
<p><code>character</code>. A valid uuid for a PhyloPic silhouette (such as
that returned by <code><a href="#topic+get_uuid">get_uuid()</a></code> or <code><a href="#topic+pick_phylopic">pick_phylopic()</a></code>).</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_filter">filter</code></td>
<td>
<p><code>character</code>. Filter by usage license if <code>name</code> is defined.
Use &quot;by&quot; to limit results to images which do not require attribution, &quot;nc&quot;
for images which allows commercial usage, and &quot;sa&quot; for images without a
ShareAlike clause. The user can also combine these filters as a vector.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_x">x</code></td>
<td>
<p><code>numeric</code>. x value of the silhouette center. Ignored if <code>y</code> and
<code>ysize</code> are not specified.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_y">y</code></td>
<td>
<p><code>numeric</code>. y value of the silhouette center. Ignored if <code>x</code> and
<code>ysize</code> are not specified.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_ysize">ysize</code></td>
<td>
<p><code>numeric</code>. Height of the silhouette. The width is
determined by the aspect ratio of the original image. Ignored if <code>x</code> and
<code>y</code> are not specified.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_alpha">alpha</code></td>
<td>
<p><code>numeric</code>. A value between 0 and 1, specifying the opacity
of the silhouette (0 is fully transparent, 1 is fully opaque).</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_color">color</code></td>
<td>
<p><code>character</code>. Color of silhouette outline. If &quot;original&quot; or
NA is specified, the original color of the silhouette outline will be used
(usually the same as &quot;transparent&quot;). To remove the outline, you can set
this to &quot;transparent&quot;.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_fill">fill</code></td>
<td>
<p><code>character</code>. Color of silhouette. If &quot;original&quot; is
specified, the original color of the silhouette will be used (usually the
same as &quot;black&quot;). If <code>color</code> is specified and <code>fill</code> is NA, <code>color</code> will be
used as the fill color (for backwards compatibility). To remove the fill,
you can set this to &quot;transparent&quot;.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_horizontal">horizontal</code></td>
<td>
<p><code>logical</code>. Should the silhouette be flipped
horizontally?</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_vertical">vertical</code></td>
<td>
<p><code>logical</code>. Should the silhouette be flipped vertically?</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_angle">angle</code></td>
<td>
<p><code>numeric</code>. The number of degrees to rotate the silhouette
clockwise. The default is no rotation.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_remove_background">remove_background</code></td>
<td>
<p><code>logical</code>. Should any white background be
removed from the silhouette(s)? See <code><a href="#topic+recolor_phylopic">recolor_phylopic()</a></code> for details.</p>
</td></tr>
<tr><td><code id="add_phylopic_base_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code>. Should the attribution information for the
used silhouette(s) be printed to the console (see <code><a href="#topic+get_attribution">get_attribution()</a></code>)?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>One (and only one) of <code>img</code>, <code>name</code>, or <code>uuid</code> must be specified.
Use parameters <code>x</code>, <code>y</code>, and <code>ysize</code> to place the silhouette at a specified
position on the plot. If all three of these parameters are unspecified,
then the silhouette will be plotted to the full height and width of the
plot. The aspect ratio of the silhouette will always be maintained (even
when a plot is resized). However, if the plot is resized after plotting the
silhouette, the absolute size and/or position of the silhouette may change.
</p>
<p>Any argument (except for <code>remove_background</code>) may be a vector of values if
multiple silhouettes should be plotted. In this case, all other arguments
may also be vectors of values, which will be recycled as necessary to the
length of the longest vector argument.
</p>
<p>When specifying a horizontal and/or vertical flip <strong>and</strong> a rotation, the
flip(s) will always occur first. If you would like to customize this
behavior, you can flip and/or rotate the image within your own workflow
using <code><a href="#topic+flip_phylopic">flip_phylopic()</a></code> and <code><a href="#topic+rotate_phylopic">rotate_phylopic()</a></code>.
</p>
<p>Note that png array objects can only be rotated by multiples of 90 degrees.
Also, outline colors do not currently work for png array objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# single image
plot(1, 1, type = "n", main = "A cat")
add_phylopic_base(uuid = "23cd6aa4-9587-4a2e-8e26-de42885004c9",
                  x = 1, y = 1, ysize = 0.4)

# lots of images using a uuid
posx &lt;- runif(10, 0, 1)
posy &lt;- runif(10, 0, 1)
size &lt;- runif(10, 0.1, 0.3)
angle &lt;- runif(10, 0, 360)
hor &lt;- sample(c(TRUE, FALSE), 10, TRUE)
ver &lt;- sample(c(TRUE, FALSE), 10, TRUE)
fills &lt;- sample(c("black", "darkorange", "grey42", "white"), 10,
               replace = TRUE)

plot(posx, posy, type = "n", main = "A cat herd")
add_phylopic_base(uuid = "23cd6aa4-9587-4a2e-8e26-de42885004c9",
                  x = posx, y = posy, ysize = size,
                  fill = fills, angle = angle,
                  horizontal = hor, vertical = ver)

# Example using a cat background
cat &lt;- get_phylopic("23cd6aa4-9587-4a2e-8e26-de42885004c9")
# setup plot area
plot(posx, posy, type = "n", main = "A cat herd, on top of a cat",
     xlim = c(0, 1), ylim = c(0, 1))
# plot background cat
add_phylopic_base(img = cat, alpha = 0.2)
# overlay smaller cats
add_phylopic_base(img = cat, x = posx, y = posy, ysize = size, alpha = 0.8)

## End(Not run)
</code></pre>

<hr>
<h2 id='browse_phylopic'>Browse PhyloPic for a given taxonomic name or uuid</h2><span id='topic+browse_phylopic'></span>

<h3>Description</h3>

<p>This function provides a convenient way to browse PhyloPic for a given
taxonomic name of uuid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browse_phylopic(name = NULL, uuid = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="browse_phylopic_+3A_name">name</code></td>
<td>
<p><code>character</code>. A taxonomic name. Various taxonomic levels
are supported (e.g. species, genus, family).</p>
</td></tr>
<tr><td><code id="browse_phylopic_+3A_uuid">uuid</code></td>
<td>
<p><code>character</code>. A PhyloPic image uuid, as acquired by
<code><a href="#topic+get_uuid">get_uuid()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns a PhyloPic url for an input <code>name</code> or
<code>uuid</code> and opens the user's default web browser at this url. If no
<code>name</code> or <code>uuid</code> is supplied, the base url of PhyloPic images
is returned and opened instead.
</p>


<h3>Value</h3>

<p>A <code>character</code> vector of a valid PhyloPic url for the specified
<code>name</code> or <code>uuid</code>. If no <code>name</code> or <code>uuid</code> is supplied,
the base url of PhyloPic images is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
url &lt;- browse_phylopic(name = "Acropora cervicornis")

## End(Not run)
</code></pre>

<hr>
<h2 id='flip_phylopic'>Flip a PhyloPic silhouette along its horizontal and/or vertical axis</h2><span id='topic+flip_phylopic'></span>

<h3>Description</h3>

<p>The picture can be a <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object,
e.g., from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flip_phylopic(img, horizontal = TRUE, vertical = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flip_phylopic_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="flip_phylopic_+3A_horizontal">horizontal</code></td>
<td>
<p><code>logical</code>. Should the silhouette be flipped
horizontally?</p>
</td></tr>
<tr><td><code id="flip_phylopic_+3A_vertical">vertical</code></td>
<td>
<p><code>logical</code>. Should the silhouette be flipped vertically?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object (matching
the type of <code>img</code>)
</p>


<h3>See Also</h3>

<p>Other transformations: 
<code><a href="#topic+recolor_phylopic">recolor_phylopic</a>()</code>,
<code><a href="#topic+rotate_phylopic">rotate_phylopic</a>()</code>
</p>

<hr>
<h2 id='geom_phylopic'>Geom for adding PhyloPic silhouettes to a plot</h2><span id='topic+geom_phylopic'></span>

<h3>Description</h3>

<p>This geom acts like <code><a href="ggplot2.html#topic+geom_point">ggplot2::geom_point()</a></code>, except that the specified
silhouettes are used as points. Silhouettes can be specified by their <code>name</code>,
<code>uuid</code>, or image objects (<code>img</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_phylopic(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE,
  remove_background = TRUE,
  verbose = FALSE,
  filter = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_phylopic_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>FALSE</code>, the default, never includes, <code>NA</code> includes if any aesthetics are
mapped, and <code>TRUE</code> always includes. It can also be a named logical vector
to finely select the aesthetics to display.</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_remove_background">remove_background</code></td>
<td>
<p><code>logical</code>. Should any white background be
removed from the silhouette(s)? See <code><a href="#topic+recolor_phylopic">recolor_phylopic()</a></code> for details.</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code>. Should the attribution information for the
used silhouette(s) be printed to the console (see <code><a href="#topic+get_attribution">get_attribution()</a></code>)?</p>
</td></tr>
<tr><td><code id="geom_phylopic_+3A_filter">filter</code></td>
<td>
<p><code>character</code>. Filter by usage license if using the <code>name</code>
aesthetic. Use &quot;by&quot; to limit results to images which do not require
attribution, &quot;nc&quot; for images which allows commercial usage, and &quot;sa&quot; for
images without a ShareAlike clause. The user can also combine these filters
as a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>One (and only one) of the <code>img</code>, <code>name</code>, or <code>uuid</code> aesthetics must
be specified. The <code>img</code> aesthetic can be
<a href="grImport2.html#topic+Picture-class">Picture</a> objects or png array objects, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>. Use the <code>x</code> and <code>y</code> aesthetics to place the
silhouettes at specified positions on the plot. The <code>size</code> aesthetic
specifies the height of the silhouettes in the units of the y axis. The
aspect ratio of the silhouettes will always be maintained.
</p>
<p>The <code>color</code> (default: NA), <code>fill</code> (default: &quot;black&quot;), and <code>alpha</code> (
default: 1) aesthetics can be used to change the outline color, fill color,
and transparency (outline and fill) of the silhouettes, respectively. If
<code>color</code> is specified and <code>fill</code> is NA <code>color</code> will be used as the fill
color (for backwards compatibility). If &quot;original&quot; is specified for the
<code>color</code> aesthetic, the original color of the silhouette outline will be
used (usually the same as &quot;transparent&quot;). If &quot;original&quot; is specified for
the <code>fill</code> aesthetic, the original color of the silhouette body will be
used (usually the same as &quot;black&quot;). To remove the fill or outline, you can
set <code>fill</code> or <code>color</code> to &quot;transparent&quot;, respectively.
</p>
<p>The <code>horizontal</code> and <code>vertical</code> aesthetics can be used to flip the
silhouettes. The <code>angle</code> aesthetic can be used to rotate the silhouettes.
When specifying a horizontal and/or vertical flip <strong>and</strong> a rotation, the
flip(s) will always occur first. If you would like to customize this
behavior, you can flip and/or rotate the image within your own workflow
using <code><a href="#topic+flip_phylopic">flip_phylopic()</a></code> and <code><a href="#topic+rotate_phylopic">rotate_phylopic()</a></code>.
</p>
<p>Note that png array objects can only be rotated by multiples of 90 degrees.
Also, outline colors do not currently work for png array objects.
</p>


<h3>Aesthetics</h3>

<p>geom_phylopic understands the following aesthetics:
</p>

<ul>
<li> <p><strong>x</strong> (required)
</p>
</li>
<li> <p><strong>y</strong> (required)
</p>
</li>
<li> <p><strong>img/uuid/name</strong> (one, and only one, required)
</p>
</li>
<li><p> size
</p>
</li>
<li><p> color/colour
</p>
</li>
<li><p> fill
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> horizontal
</p>
</li>
<li><p> vertical
</p>
</li>
<li><p> angle
</p>
<p>Learn more about setting these aesthetics in <code><a href="#topic+add_phylopic">add_phylopic()</a></code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(ggplot2)
df &lt;- data.frame(x = c(2, 4), y = c(10, 20),
                 name = c("Felis silvestris catus", "Odobenus rosmarus"))
ggplot(df) +
  geom_phylopic(aes(x = x, y = y, name = name),
                fill = "purple", size = 10) +
  facet_wrap(~name) +
  coord_cartesian(xlim = c(1,6), ylim = c(5, 30))

## End(Not run)
</code></pre>

<hr>
<h2 id='get_attribution'>Get PhyloPic attribution data</h2><span id='topic+get_attribution'></span>

<h3>Description</h3>

<p>This function provides a convenient way to obtain attribution data
for PhyloPic images via an image uuid returned by <code><a href="#topic+get_uuid">get_uuid()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attribution(uuid = NULL, img = NULL, text = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attribution_+3A_uuid">uuid</code></td>
<td>
<p><code>character</code>. A vector of valid uuid(s) for PhyloPic
silhouette(s) such as that returned by <code><a href="#topic+get_uuid">get_uuid()</a></code> or <code><a href="#topic+pick_phylopic">pick_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="get_attribution_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object from
<code><a href="#topic+get_phylopic">get_phylopic()</a></code>. A list of these objects can also be supplied. If <code>img</code>
is supplied, <code>uuid</code> is ignored. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_attribution_+3A_text">text</code></td>
<td>
<p><code>logical</code>. Should attribution information be returned as
a text paragraph? Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns image <code>uuid</code> specific attribution data,
including: contributor name, contributor uuid, contributor contact,
image uuid, license, and license abbreviation. If <code>text</code> is set to
<code>TRUE</code>, a text paragraph with the contributor name, year of contribution,
and license type is returned.
</p>


<h3>Value</h3>

<p>A <code>list</code> of PhyloPic attribution data for an image <code>uuid</code> or
a text output of relevant attribution information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get valid uuid
uuid &lt;- get_uuid(name = "Acropora cervicornis")
# Get attribution data for uuid
attri &lt;- get_attribution(uuid = uuid)

# Get list of valid uuids
uuids &lt;- get_uuid(name = "Scleractinia", n = 5)
# Get attribution data for uuids
get_attribution(uuid = uuids, text = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_phylopic'>Retrieve an image for a given PhyloPic uuid</h2><span id='topic+get_phylopic'></span><span id='topic+print.Picture'></span><span id='topic+print.phylopic'></span>

<h3>Description</h3>

<p>This retrieves a PhyloPic silhouette as a vectorized or rasterized object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_phylopic(uuid = NULL, format = "vector", height = 512, preview = FALSE)

## S3 method for class 'Picture'
print(x, ...)

## S3 method for class 'phylopic'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_phylopic_+3A_uuid">uuid</code></td>
<td>
<p><code>character</code>. A PhyloPic image uuid.</p>
</td></tr>
<tr><td><code id="get_phylopic_+3A_format">format</code></td>
<td>
<p><code>character</code>. Format of the image. To return a vectorized
image, use &quot;vector&quot;. To return a rasterized image, use &quot;raster&quot; and specify
a desired <code>height</code>.</p>
</td></tr>
<tr><td><code id="get_phylopic_+3A_height">height</code></td>
<td>
<p><code>numeric</code>. If <code>format</code> is &quot;raster&quot;, this is the desired
height of the raster image in pixels. This is ignored if <code>format</code> is
&quot;vector&quot;.</p>
</td></tr>
<tr><td><code id="get_phylopic_+3A_preview">preview</code></td>
<td>
<p><code>logical</code>. If <code>preview</code> is <code>TRUE</code>, the returned
image is plotted. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get_phylopic_+3A_x">x</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="get_phylopic_+3A_...">...</code></td>
<td>
<p>Ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>height</code> argument is ignored if the <code>format</code> argument is not set
to &quot;raster&quot;. If <code>format</code> is &quot;raster&quot;, the <code>height</code> argument specifies the
height of the desired raster object. The width of this raster object will
be determined by the original aspect ratio of the silhouette. If a
pre-rendered raster exists with the desired dimensions, it will be
downloaded from PhyloPic. If not, the vector image from PhyloPic will be
used to render a raster object of the desired size.
</p>


<h3>Value</h3>

<p>If <code>format</code> is &quot;vector&quot;, a <a href="grImport2.html#topic+Picture-class">Picture</a> object
is returned. If <code>format</code> is &quot;raster&quot;, a png array representing the
rasterized image is returned. Either way, the uuid and download url are
included as the &quot;uuid&quot; and &quot;url&quot; attributes, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# uuid
uuid &lt;- "9fae30cd-fb59-4a81-a39c-e1826a35f612"

# Get data for an image
img_svg &lt;- get_phylopic(uuid, format = "vector") # vector format
img_png &lt;- get_phylopic(uuid, format = "raster") # raster format

## End(Not run)
</code></pre>

<hr>
<h2 id='get_uuid'>Get a PhyloPic uuid</h2><span id='topic+get_uuid'></span>

<h3>Description</h3>

<p>This function provides a convenient way to obtain a valid uuid or image url
for an input taxonomic name. As multiple silhouettes can exist for each
species in PhyloPic, this function extracts the primary image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_uuid(name = NULL, img = NULL, n = 1, filter = NULL, url = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_uuid_+3A_name">name</code></td>
<td>
<p><code>character</code>. A taxonomic name. Various taxonomic levels
are supported (e.g. species, genus, family). NULL can also be supplied
which will skip the taxonomic filtering of the PhyloPic database.</p>
</td></tr>
<tr><td><code id="get_uuid_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object from
<code><a href="#topic+get_phylopic">get_phylopic()</a></code>. A list of these objects can also be supplied. If <code>img</code>
is supplied, <code>name</code> and <code>n</code> are ignored. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_uuid_+3A_n">n</code></td>
<td>
<p><code>numeric</code>. How many uuids should be returned? Depending on
the requested <code>name</code>, multiple silhouettes might exist. If <code>n</code> exceeds
the number of available images, all available uuids will be returned.
This argument defaults to 1.</p>
</td></tr>
<tr><td><code id="get_uuid_+3A_filter">filter</code></td>
<td>
<p><code>character</code>. Filter uuid(s) by usage license. Use &quot;by&quot; to
limit results to image uuids which do not require attribution, &quot;nc&quot; for
image uuids which allow commercial usage, and &quot;sa&quot; for image uuids without
a ShareAlike clause. The user can also combine these filters as a vector.</p>
</td></tr>
<tr><td><code id="get_uuid_+3A_url">url</code></td>
<td>
<p><code>logical</code>. If <code>FALSE</code> (default), only the uuid is
returned. If <code>TRUE</code>, a valid PhyloPic image url of the uuid is
returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns uuid(s) or image url (svg) for an input
<code>name</code>. If a specific image is desired, the user can make use of
<a href="#topic+pick_phylopic">pick_phylopic</a> to visually select the desired uuid/url.
</p>


<h3>Value</h3>

<p>A <code>character</code> vector of a valid PhyloPic uuid or svg image
url.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
uuid &lt;- get_uuid(name = "Acropora cervicornis")
uuid &lt;- get_uuid(name = "Dinosauria", n = 5, url = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='phylopic_key_glyph'>Use PhyloPics as legend key glyphs</h2><span id='topic+phylopic_key_glyph'></span>

<h3>Description</h3>

<p>Specify existing images, taxonomic names, or PhyloPic uuids to use PhyloPic
silhouettes as legend key glyphs in a ggplot plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phylopic_key_glyph(img = NULL, name = NULL, uuid = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phylopic_key_glyph_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="phylopic_key_glyph_+3A_name">name</code></td>
<td>
<p><code>character</code>. A taxonomic name to be passed to <code><a href="#topic+get_uuid">get_uuid()</a></code>.</p>
</td></tr>
<tr><td><code id="phylopic_key_glyph_+3A_uuid">uuid</code></td>
<td>
<p><code>character</code>. A valid uuid for a PhyloPic silhouette (such as
that returned by <code><a href="#topic+get_uuid">get_uuid()</a></code> or <code><a href="#topic+pick_phylopic">pick_phylopic()</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>One (and only one) of <code>img</code>, <code>name</code>, or <code>uuid</code> must be specified.
</p>
<p>This argument may also be a vector/list of valid values if multiple
silhouettes should be used as key glyphs. In this case, the specified
silhouettes will be used as ordered as key glyphs one by one, with
recycling as necessary.
</p>
<p>Note that the sizes of the silhouettes in the legend are currently
maximized based on the size of the key. This size can be modified using the
<code>legend.key.size</code> argument in <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>. Therefore, the
silhouettes will not reflect the size aesthetic, and this function should
not be used for size legends.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(ggplot2)
df &lt;- data.frame(x = c(2, 4), y = c(10, 20),
                 name = c("Felis silvestris catus", "Odobenus rosmarus"))
ggplot(df) +
  geom_phylopic(aes(x = x, y = y, name = name, color = name), size = 10,
                show.legend = TRUE,
                key_glyph = phylopic_key_glyph(name =
                                               c("Felis silvestris catus",
                                                 "Odobenus rosmarus"))) +
  coord_cartesian(xlim = c(1,6), ylim = c(5, 30))

## End(Not run)
</code></pre>

<hr>
<h2 id='pick_phylopic'>Pick a PhyloPic image from available options</h2><span id='topic+pick_phylopic'></span>

<h3>Description</h3>

<p>This function provides a visually interactive way to pick an image and valid
uuid for an input taxonomic name. As multiple silhouettes can exist for each
organism in PhyloPic, this function is useful for choosing the right
image/uuid for the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pick_phylopic(
  name = NULL,
  n = 5,
  uuid = NULL,
  view = 1,
  filter = NULL,
  auto = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pick_phylopic_+3A_name">name</code></td>
<td>
<p><code>character</code>. A taxonomic name. Different taxonomic levels
are supported (e.g. species, genus, family).</p>
</td></tr>
<tr><td><code id="pick_phylopic_+3A_n">n</code></td>
<td>
<p><code>numeric</code>. How many uuids should be viewed? Depending on the
requested <code>name</code>, multiple silhouettes may exist. If <code>n</code> exceeds the number
of available images, all available uuids will be returned. Defaults to 5.
Only relevant if <code>name</code> supplied.</p>
</td></tr>
<tr><td><code id="pick_phylopic_+3A_uuid">uuid</code></td>
<td>
<p><code>character</code>. A vector (or list) of valid PhyloPic
silhouette uuids, such as that returned by <code><a href="#topic+get_uuid">get_uuid()</a></code> or
<code><a href="#topic+resolve_phylopic">resolve_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="pick_phylopic_+3A_view">view</code></td>
<td>
<p><code>numeric</code>. Number of silhouettes that should be plotted at
the same time. Defaults to 1.</p>
</td></tr>
<tr><td><code id="pick_phylopic_+3A_filter">filter</code></td>
<td>
<p><code>character</code>. Filter uuid(s) by usage license. Use &quot;by&quot;
to limit results to image uuids which do not require attribution, &quot;nc&quot;
for image uuids which allow commercial usage, and &quot;sa&quot; for image uuids
without a ShareAlike clause. The user can also combine these filters. Only
relevant if <code>name</code> supplied.</p>
</td></tr>
<tr><td><code id="pick_phylopic_+3A_auto">auto</code></td>
<td>
<p><code>numeric</code>. This argument allows the user to automate input
into the menu choice. If the input value is <code>1</code>, the first returned image
will be selected. If the input value is <code>2</code>, requested images will be
automatically cycled through with the final image returned. If <code>NULL</code>
(default), the user must interactively respond to the called menu.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the user to visually select the desired image
from a pool of silhouettes available for the input <code>name</code>.
</p>
<p>Note that while the <code>view</code> argument can be any positive integer,
weaker/older computers may have issues displaying very large numbers of
images at the same time (i.e. <code>view</code> &gt; 9). If no images are displayed in
your plotting environment, try decreasing the value of <code>view</code>.
</p>


<h3>Value</h3>

<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> object is returned. The uuid of
the selected image is saved as the &quot;uuid&quot; attribute of the returned object
and is also printed to console.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Defaults pane layout
img &lt;- pick_phylopic(name = "Canis lupus", n = 5)
# 3 x 3 pane layout
img &lt;- pick_phylopic(name = "Scleractinia", n = 9, view = 9)

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.Picture'>Preview a PhyloPic silhouette</h2><span id='topic+plot.Picture'></span><span id='topic+plot_phylopic'></span><span id='topic+plot.phylopic'></span>

<h3>Description</h3>

<p>Preview a raster or vector representation of a PhyloPic silhouette. This will
plot the silhouette on a new page in your default plotting device.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Picture'
plot(x, ...)

## S3 method for class 'phylopic'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.Picture_+3A_x">x</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="plot.Picture_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="grImport2.html#topic+grid.picture">grImport2::grid.picture()</a></code> or
<code><a href="grid.html#topic+grid.raster">grid::grid.raster()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='recolor_phylopic'>Recolor a PhyloPic image</h2><span id='topic+recolor_phylopic'></span>

<h3>Description</h3>

<p>Function to recolor and change alpha levels of a PhyloPic image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recolor_phylopic(
  img,
  alpha = 1,
  color = NULL,
  fill = NULL,
  remove_background = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recolor_phylopic_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="recolor_phylopic_+3A_alpha">alpha</code></td>
<td>
<p><code>numeric</code>. A value between 0 and 1, specifying the opacity
of the silhouette.</p>
</td></tr>
<tr><td><code id="recolor_phylopic_+3A_color">color</code></td>
<td>
<p><code>character</code>. Color to make the outline of the silhouette.
If NULL, the outline color is not changed.</p>
</td></tr>
<tr><td><code id="recolor_phylopic_+3A_fill">fill</code></td>
<td>
<p><code>character</code>. Color to make the body of the silhouette. If
NULL, the body color is not changed.</p>
</td></tr>
<tr><td><code id="recolor_phylopic_+3A_remove_background">remove_background</code></td>
<td>
<p><code>logical</code>. Should any white background be
removed? Only useful if <code>img</code> is a <a href="grImport2.html#topic+Picture-class">Picture</a>
object. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some PhyloPic silhouettes do not have a transparent background.
Consequently, when color is used with vectorized versions of these images,
the entire image&ndash;including the background&ndash;is recolored. Setting
<code>remove_background</code> to <code>TRUE</code> (the default) will remove any white parts of
the image (which should only be the background).
</p>


<h3>Value</h3>

<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object (matching
the type of <code>img</code>)
</p>


<h3>See Also</h3>

<p>Other transformations: 
<code><a href="#topic+flip_phylopic">flip_phylopic</a>()</code>,
<code><a href="#topic+rotate_phylopic">rotate_phylopic</a>()</code>
</p>

<hr>
<h2 id='resolve_phylopic'>Use a taxonomic name from another database to get a PhyloPic image UUID</h2><span id='topic+resolve_phylopic'></span>

<h3>Description</h3>

<p>This function takes a supplied taxonomic name, queries it via the specified
external API, resolves the API's returned taxonomic ID to the PhyloPic
taxonomic node database, then retrieves PhyloPic image uuids (or urls) for
that node.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resolve_phylopic(
  name,
  api = "gbif.org",
  hierarchy = FALSE,
  max_ranks = 5,
  n = 1,
  filter = NULL,
  url = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resolve_phylopic_+3A_name">name</code></td>
<td>
<p><code>character</code>. A full or partial taxonomic name to be queried
via the specified <code>api</code>.</p>
</td></tr>
<tr><td><code id="resolve_phylopic_+3A_api">api</code></td>
<td>
<p><code>character</code>. The API in which to query <code>name</code>. See Details
for the available options.</p>
</td></tr>
<tr><td><code id="resolve_phylopic_+3A_hierarchy">hierarchy</code></td>
<td>
<p><code>logical</code>. Whether the taxonomic hierarchy of <code>name</code>
should be retrieved from the API and used to get several sets of PhyloPic
image uuids (or urls).</p>
</td></tr>
<tr><td><code id="resolve_phylopic_+3A_max_ranks">max_ranks</code></td>
<td>
<p><code>numeric</code>. The maximum number of taxonomic ranks that
should be included if <code>hierarchy</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="resolve_phylopic_+3A_n">n</code></td>
<td>
<p><code>numeric</code>. How many uuids should be returned? Depending on
the requested <code>name</code>, multiple silhouettes might exist. If <code>n</code> exceeds
the number of available images, all available uuids will be returned.
This argument defaults to 1.</p>
</td></tr>
<tr><td><code id="resolve_phylopic_+3A_filter">filter</code></td>
<td>
<p><code>character</code>. Filter uuid(s) by usage license. Use &quot;by&quot; to
limit results to image uuids which do not require attribution, &quot;nc&quot; for
image uuids which allow commercial usage, and &quot;sa&quot; for image uuids without
a ShareAlike clause. The user can also combine these filters as a vector.</p>
</td></tr>
<tr><td><code id="resolve_phylopic_+3A_url">url</code></td>
<td>
<p><code>logical</code>. If <code>FALSE</code> (default), only the uuid is
returned. If <code>TRUE</code>, a valid PhyloPic image url of the uuid is
returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>hierarchy</code> is <code>FALSE</code>, the specified <code>name</code> is queried via the
specified <code>api</code>. The matched id is then resolved to the matching taxonomic
node in the PhyloPic database. If <code>hierarchy</code> is <code>TRUE</code>, the full taxonomic
hierarchy for <code>name</code> is retrieved from the specified <code>api</code>, those taxonomic
names are subset to <code>max_ranks</code> ranks (starting from the specified <code>name</code>
and ascending the hierarchy). Then each of those names is resolved to the
matching taxonomic node in the PhyloPic database (where possible). In
either case, <code><a href="#topic+get_uuid">get_uuid()</a></code> is then used to retrieve <code>n</code> image UUID(s) for
each taxonomic name.
</p>
<p>Note that while the names of the returned list are the taxonomic names as
reported by the specified <code>api</code>, the PhyloPic images that are returned are
associated with whatever taxonomic node that taxonomic name resolves to in
the PhyloPic database. This means that, if <code>hierarchy</code> is <code>TRUE</code>, the same
images may be returned for multiple taxonomic names. Also, if a particular
taxonomic name does not resolve to any node in the PhyloPic database, no
images will be returned for that name.
</p>
<p>The following APIs are available for querying (<code>api</code>):
</p>

<ul>
<li><p>&quot;eol.org&quot;: the <a href="https://eol.org/">Encyclopedia of Life</a>
(note: <code>hierarchy = TRUE</code> is not currently available for this API) (&quot;eol&quot;
is also allowed)
</p>
</li>
<li><p>&quot;gbif.org&quot;: the <a href="https://www.gbif.org/">Global Biodiversity
Information Facility</a> (&quot;gbif&quot; is also allowed)
</p>
</li>
<li><p>&quot;marinespecies.org&quot;: the <a href="https://marinespecies.org/">World
Registor of Marine Species</a> (&quot;worms&quot; is also allowed)
</p>
</li>
<li><p>&quot;opentreeoflife.org&quot;: the <a href="https://tree.opentreeoflife.org/">
Open Tree of Life</a> (&quot;otol&quot; is also allowed)
</p>
</li>
<li><p>&quot;paleobiodb.org&quot;: the <a href="https://paleobiodb.org/#/">Paleobiology
Database</a> (&quot;pbdb&quot; is also allowed)
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>list</code> where each value is <code>n</code> (or fewer) PhyloPic image uuids (or
urls if <code>url = TRUE</code>) and each name is the taxonomic name as matched and
reported by the specified <code>api</code>. If <code>hierarchy</code> is <code>FALSE</code>, the list has
length 1. If <code>hierarchy</code> is <code>TRUE</code>, the list has maximum length
<code>max_ranks</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get a uuid for a single name
resolve_phylopic(name = "Canis lupus")
# get uuids for the taxonomic hierarchy
resolve_phylopic(name = "Velociraptor mongoliensis", api = "paleobiodb.org",
                 hierarchy = TRUE, max_ranks = 3)

## End(Not run)
</code></pre>

<hr>
<h2 id='rotate_phylopic'>Rotate a PhyloPic silhouette</h2><span id='topic+rotate_phylopic'></span>

<h3>Description</h3>

<p>The picture can be a <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object,
e.g., from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>. Note that png array objects can only be
rotated by multiples of 90 degrees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rotate_phylopic(img, angle = 90)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rotate_phylopic_+3A_img">img</code></td>
<td>
<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object, e.g.,
from using <code><a href="#topic+get_phylopic">get_phylopic()</a></code>.</p>
</td></tr>
<tr><td><code id="rotate_phylopic_+3A_angle">angle</code></td>
<td>
<p><code>numeric</code>. The number of degrees to rotate the silhouette
clockwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="grImport2.html#topic+Picture-class">Picture</a> or png array object (matching
the type of <code>img</code>)
</p>


<h3>See Also</h3>

<p>Other transformations: 
<code><a href="#topic+flip_phylopic">flip_phylopic</a>()</code>,
<code><a href="#topic+recolor_phylopic">recolor_phylopic</a>()</code>
</p>

<hr>
<h2 id='rphylopic-package'>rphylopic: Get Silhouettes of Organisms from PhyloPic</h2><span id='topic+rphylopic'></span><span id='topic+rphylopic-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Work with the PhyloPic Web Service (<a href="http://api-docs.phylopic.org/v2/">http://api-docs.phylopic.org/v2/</a>) to fetch silhouette images of organisms. Includes functions for adding silhouettes to both base R plots and ggplot2 plots.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: William Gearty <a href="mailto:willgearty@gmail.com">willgearty@gmail.com</a> (<a href="https://orcid.org/0000-0003-0076-3262">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Lewis A. Jones <a href="mailto:LewisAlan.Jones@uvigo.es">LewisAlan.Jones@uvigo.es</a> (<a href="https://orcid.org/0000-0003-3902-8986">ORCID</a>)
</p>
</li>
<li><p> Scott Chamberlain <a href="mailto:myrmecocystus@gmail.com">myrmecocystus@gmail.com</a> (<a href="https://orcid.org/0000-0003-1444-9135">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> David Miller <a href="mailto:dave@ninepointeightone.net">dave@ninepointeightone.net</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rphylopic.palaeoverse.org">https://rphylopic.palaeoverse.org</a>
</p>
</li>
<li> <p><a href="https://github.com/palaeoverse/rphylopic">https://github.com/palaeoverse/rphylopic</a>
</p>
</li>
<li> <p><a href="https://palaeoverse.org">https://palaeoverse.org</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/palaeoverse/rphylopic/issues">https://github.com/palaeoverse/rphylopic/issues</a>
</p>
</li></ul>


<hr>
<h2 id='save_phylopic'>Save a PhyloPic image</h2><span id='topic+save_phylopic'></span>

<h3>Description</h3>

<p><code>save_phylopic</code> is a convenient function for saving a PhyloPic silhouette
fetched via <code><a href="#topic+get_phylopic">get_phylopic</a></code>. Available formats for
saving are those available in the <a href="grDevices.html#topic+grDevices">grDevices</a> package (i.e. pdf, png, svg,
tiff, jpeg, and bmp).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_phylopic(img = NULL, path = NULL, bg = "transparent", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_phylopic_+3A_img">img</code></td>
<td>
<p><code>picture</code>. A <a href="grImport2.html#topic+Picture-class">Picture</a> object.
For PhyloPic silhouettes, this is generated by
<code><a href="#topic+get_phylopic">get_phylopic</a></code> and
<code><a href="#topic+pick_phylopic">pick_phylopic</a></code>.</p>
</td></tr>
<tr><td><code id="save_phylopic_+3A_path">path</code></td>
<td>
<p><code>character</code>. The output file path. The name of the file
and file extension should be included (e.g. &quot;./phylopic.png&quot;). If this
argument is <code>NULL</code> (default), the file is automatically saved in the
current working directory as a png file.</p>
</td></tr>
<tr><td><code id="save_phylopic_+3A_bg">bg</code></td>
<td>
<p><code>character</code>. The desired background color. By default this
argument is set to &quot;transparent&quot;. Note: .jpeg files are always exported
with a background colour.</p>
</td></tr>
<tr><td><code id="save_phylopic_+3A_...">...</code></td>
<td>
<p>Additional arguments available for the called grDevices
function. The called function is determined by the file extension used in
<code>path</code> (e.g. <code><a href="grDevices.html#topic+png">png</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used to save a PhyloPic image obtained via
the <code><a href="#topic+get_phylopic">get_phylopic</a></code> or any object of class
<code>Picture</code> from the grImport2 package. Any file format available in the
<a href="grDevices.html#topic+grDevices">grDevices</a> package can be used (i.e. pdf, png, svg, tiff, jpeg, and
bmp).
</p>


<h3>Value</h3>

<p>An image is saved. Nothing is returned to the R interface.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get image data
img &lt;- get_phylopic("27356f15-3cf8-47e8-ab41-71c6260b2724")
# Save file
save_phylopic(img = img, path = "./phylopic.png",
              width = 500, height = 500)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

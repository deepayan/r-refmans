<!DOCTYPE html><html><head><title>Help for package cmtest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cmtest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cmtest'><p>Conditional moments test</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.1-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-01-25</td>
</tr>
<tr>
<td>Title:</td>
<td>Conditional Moments Test</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Suggests:</td>
<td>censReg, AER, knitr, rmarkdown, maxLik, bookdown, tobit1</td>
</tr>
<tr>
<td>Description:</td>
<td>Conditional moments test, as proposed by Newey (1985) &lt;doi:10.2307/1911011 &gt; and Tauchen (1985) &lt;<a href="https://doi.org/10.1016%2F0304-4076%2885%2990149-6">doi:10.1016/0304-4076(85)90149-6</a>&gt;, useful to detect specification violations for models estimated by maximum likelihood. Methods for probit and tobit models are provided.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.r-project.org">https://www.r-project.org</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-01-28 14:16:55 UTC; yves</td>
</tr>
<tr>
<td>Author:</td>
<td>Yves Croissant <a href="https://orcid.org/0000-0002-4857-7736"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yves Croissant &lt;yves.croissant@univ-reunion.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-01-28 23:10:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='cmtest'>Conditional moments test</h2><span id='topic+cmtest'></span><span id='topic+cmtest.tobit'></span><span id='topic+cmtest.tobit1'></span><span id='topic+cmtest.censReg'></span><span id='topic+cmtest.glm'></span>

<h3>Description</h3>

<p>Conditional moments tests for maximum likelihood estimators consist
on adding to the matrix of individual contributions to the score
moments conditions and then test the hypothesis that the expected
value of the vector of augmented scores is zero. It is particularly
convenient for the probit and the tobit model to test for
functional form, omitted variables, heteroscedasticity and normaliy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cmtest(
  x,
  test = c("normality", "reset", "heterosc", "skewness", "kurtosis"),
  powers = 2:3,
  heter_cov = NULL,
  OPG = FALSE
)

## S3 method for class 'tobit'
cmtest(
  x,
  test = c("normality", "reset", "heterosc", "skewness", "kurtosis"),
  powers = 2:3,
  heter_cov = NULL,
  OPG = FALSE
)

## S3 method for class 'tobit1'
cmtest(
  x,
  test = c("normality", "reset", "heterosc", "skewness", "kurtosis"),
  powers = 2:3,
  heter_cov = NULL,
  OPG = FALSE
)

## S3 method for class 'censReg'
cmtest(
  x,
  test = c("normality", "reset", "heterosc", "skewness", "kurtosis"),
  powers = 2:3,
  heter_cov = NULL,
  OPG = FALSE
)

## S3 method for class 'glm'
cmtest(
  x,
  test = c("normality", "reset", "heterosc", "skewness", "kurtosis"),
  powers = 2:3,
  heter_cov = NULL,
  OPG = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cmtest_+3A_x">x</code></td>
<td>
<p>a fitted model, currently a tobit model either fitted by
<code>AER::tobit</code> or <code>censReg::censReg</code> or a probit model fitted by
<code>glm</code> with <code>family = binomial(link = 'probit')</code>,</p>
</td></tr>
<tr><td><code id="cmtest_+3A_test">test</code></td>
<td>
<p>the kind of test to be performed, either a normality
test (or separately a test that the skewness or kurtosis
coefficients are 0 and 3), a heteroscedasticity test or a reset
test,</p>
</td></tr>
<tr><td><code id="cmtest_+3A_powers">powers</code></td>
<td>
<p>the powers of the fitted values that should be used
in the reset test,</p>
</td></tr>
<tr><td><code id="cmtest_+3A_heter_cov">heter_cov</code></td>
<td>
<p>a one side formula that indicates the covariates
that should be used for the heteroscedasticity test (by default
all the covariates used in the regression are used),</p>
</td></tr>
<tr><td><code id="cmtest_+3A_opg">OPG</code></td>
<td>
<p>a boolean, if <code>FALSE</code> (the default), the analytic
derivatives are used, otherwise the outer product of the
gradient formula is used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with class <code>'htest'</code> containing the following components:
</p>

<ul>
<li><p> data.mane: a character string describing the fitted model
</p>
</li>
<li><p> statistic: the value of the test statistic
</p>
</li>
<li><p> parameter: degrees of freedom
</p>
</li>
<li><p> p.value: the p.value of the test
</p>
</li>
<li><p> method: a character indicating what type of test is performed
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Yves Croissant
</p>


<h3>References</h3>

<p>Newey WK (1985).
&ldquo;Maximum Likelihood Specification Testing and Conditional Moment Tests.&rdquo;
<em>Econometrica</em>, <b>53</b>(5), 1047&ndash;1070.
ISSN 00129682, 14680262, <a href="https://www.jstor.org/stable/1911011">https://www.jstor.org/stable/1911011</a>.
</p>
<p>Pagan A, Vella F (1989).
&ldquo;Diagnostic Tests for Models Based on Individual Data: A Survey.&rdquo;
<em>Journal of Applied Econometrics</em>, <b>4</b>, S29&ndash;S59.
ISSN 08837252, 10991255, <a href="https://www.jstor.org/stable/2096593">https://www.jstor.org/stable/2096593</a>.
</p>
<p>Tauchen G (1985).
&ldquo;Diagnostic testing and evaluation of maximum likelihood models.&rdquo;
<em>Journal of Econometrics</em>, <b>30</b>(1), 415-443.
ISSN 0304-4076, doi: <a href="https://doi.org/10.1016/0304-4076(85)90149-6">10.1016/0304-4076(85)90149-6</a>, <a href="https://www.sciencedirect.com/science/article/pii/0304407685901496">https://www.sciencedirect.com/science/article/pii/0304407685901496</a>.
</p>
<p>Wells C (2003).
&ldquo;Retesting Fair's (1978) Model on Infidelity.&rdquo;
<em>Journal of Applied Econometrics</em>, <b>18</b>(2), 237&ndash;239.
ISSN 08837252, 10991255, <a href="https://www.jstor.org/stable/30035205">https://www.jstor.org/stable/30035205</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># replication of Wells (2003) and Pagan and Vella (1989) using Fair's data
library("AER")
data("Affairs", package = "AER")
z &lt;- tobit(affairs ~ gender + age + yearsmarried + children + religiousness +
                     education + occupation + rating, data = Affairs)
cmtest(z, test = "normality")
cmtest(z, test = "skewness", OPG = TRUE)
cmtest(z, test = "kurtosis", OPG = TRUE)
cmtest(z, test = "reset", powers = 2, OPG = TRUE)
cmtest(z, test = "reset", powers = 3, OPG = TRUE)
cmtest(z, test = "heterosc", OPG = TRUE, heter_cov = ~ gender)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

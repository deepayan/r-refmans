<!DOCTYPE html><html><head><title>Help for package ggsolvencyii</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggsolvencyii}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#geom_sii_riskconnection'><p>geom_sii_riskconnection</p></a></li>
<li><a href='#geom_sii_riskoutline'><p>geom_sii_riskoutline</p></a></li>
<li><a href='#geom_sii_risksurface'><p>geom_sii_risksurface</p></a></li>
<li><a href='#sii_debug_geom'><p>sii_debug_geom</p></a></li>
<li><a href='#sii_levelmax_sf16_993'><p>sii_levelmax_sf16_993</p></a></li>
<li><a href='#sii_levelmax_sf16_995'><p>sii_levelmax_sf16_995</p></a></li>
<li><a href='#sii_plotdetails_sf16'><p>sii_plotdetails_sf16</p></a></li>
<li><a href='#sii_structure_sf16_eng'><p>sii_structure_sf16_eng</p></a></li>
<li><a href='#sii_structure_sf16_nld'><p>sii_structure_sf16_nld</p></a></li>
<li><a href='#sii_x_edgecolors_sf16_eng'><p>sii_x_edgecolors_sf16_eng</p></a></li>
<li><a href='#sii_x_edgecolors_sf16_nld'><p>sii_x_edgecolors_sf16_nld</p></a></li>
<li><a href='#sii_x_fillcolors_sf16_eng'><p>sii_x_fillcolors_sf16_eng</p></a></li>
<li><a href='#sii_x_fillcolors_sf16_nld'><p>sii_x_fillcolors_sf16_nld</p></a></li>
<li><a href='#sii_z_ex1_data'><p>sii_z_ex1_data</p></a></li>
<li><a href='#sii_z_ex1_edgecolors'><p>sii_z_ex1_edgecolors</p></a></li>
<li><a href='#sii_z_ex1_fillcolors'><p>sii_z_ex1_fillcolors</p></a></li>
<li><a href='#sii_z_ex1_levelmax'><p>sii_z_ex1_levelmax</p></a></li>
<li><a href='#sii_z_ex1_plotdetails'><p>sii_z_ex1_plotdetails</p>
#'
A table for <code>geom_sii_risksurface</code> and <code>geom_sii_riskoutline</code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</a></li>
<li><a href='#sii_z_ex1_plotdetails2'><p>sii_z_ex1_plotdetails2</p>
#'
A table for <code>geom_sii_risksurface</code> and <code>geom_sii_riskoutline</code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</a></li>
<li><a href='#sii_z_ex1_structure'><p>sii_z_ex1_structure</p></a></li>
<li><a href='#sii_z_ex2_data'><p>sii_z_ex2_data</p></a></li>
<li><a href='#sii_z_ex3_data'><p>sii_z_ex3_data</p></a></li>
<li><a href='#sii_z_ex3_plotdetails'><p>sii_z_ex3_plotdetails</p>
#'
A table for <code>geom_sii_risksurface</code> and <code>geom_sii_riskoutline</code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</a></li>
<li><a href='#sii_z_ex4_data'><p>sii_z_ex4_data</p></a></li>
<li><a href='#sii_z_ex4_levelmax'><p>sii_z_ex4_levelmax</p></a></li>
<li><a href='#sii_z_ex4_structure'><p>sii_z_ex4_structure</p></a></li>
<li><a href='#sii_z_ex6_data'><p>sii_z_ex6_data</p></a></li>
<li><a href='#sii_z_ex6_data2'><p>sii_z_ex6_data2</p></a></li>
<li><a href='#sii_z_ex6_edgecolors'><p>sii_z_ex6_edgecolors</p></a></li>
<li><a href='#sii_z_ex6_fillcolors'><p>sii_z_ex6_fillcolors</p></a></li>
<li><a href='#sii_z_ex6_levelmax'><p>sii_z_ex6_levelmax</p></a></li>
<li><a href='#sii_z_ex6_plotdetails'><p>sii_z_ex6_plotdetails</p>
#'
A table for <code>geom_sii_risksurface</code> and <code>geom_sii_riskoutline</code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</a></li>
<li><a href='#sii_z_ex6_structure'><p>sii_z_ex6_structure</p></a></li>
<li><a href='#sii_z_ex7_data'><p>sii_z_ex7_data</p></a></li>
<li><a href='#sii_z_ex7_plotdetails'><p>sii_z_ex7_plotdetails</p>
#'
A table for <code>geom_sii_risksurface</code> and <code>geom_sii_riskoutline</code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</a></li>
<li><a href='#stat_sii_risksurface'><p>stat_sii_risksurface</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>A 'ggplot2'-Plot of Composition of Solvency II SCR: SF and IM</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-01-02</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of 'ggplot2'-methods to present the composition of Solvency II Solvency Capital Requirement (SCR) as a series of concentric circle-parts. 
 Solvency II (Solvency 2) is European insurance legislation, coming in force by the delegated acts of October 10, 2014.
 <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=OJ%3AL%3A2015%3A012%3ATOC">https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=OJ%3AL%3A2015%3A012%3ATOC</a>. 
 Additional files, defining the structure of the Standard Formula (SF) method of the SCR-calculation are provided.
 The structure files can be adopted for localization or for insurance companies who use Internal Models (IM).
 Options are available for combining smaller components, horizontal and vertical scaling, rotation, and plotting only some circle-parts.
 With outlines and connectors several SCR-compositions can be compared, for example in ORSA-scenarios (Own Risk and Solvency Assessment).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, magrittr, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggmap, knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/vanzanden/ggsolvencyii">https://github.com/vanzanden/ggsolvencyii</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/vanzanden/ggsolvencyii/issues">https://github.com/vanzanden/ggsolvencyii/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-01-03 18:35:58 UTC; micro</td>
</tr>
<tr>
<td>Author:</td>
<td>Marco van Zanden [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marco van Zanden &lt;git@vanzanden.nl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-01-04 12:10:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='geom_sii_riskconnection'>geom_sii_riskconnection</h2><span id='topic+geom_sii_riskconnection'></span>

<h3>Description</h3>

<p>returns a 'ggplot2' object, based on geom_segment.; it plots a line between (x and y coordinates of) those datapoints which have a matching value in the columns 'id' and 'comparewithid'. values in 'id' must be unique. For values in 'comparewithid' is uniqueness not required, but a matching value in 'id' must be present.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_sii_riskconnection(data = NULL, mapping = NULL,
  stat = "sii_riskconnection", position = "identity", na.rm = FALSE,
  show.legend = NA, inherit.aes = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_sii_riskconnection_+3A_data">data</code></td>
<td>
<p>the dataset in tidyverse format (column 'description' as a factor). see examples in <code><a href="#topic+sii_z_ex2_data">sii_z_ex2_data</a></code> or <code><a href="#topic+sii_z_ex3_data">sii_z_ex3_data</a></code></p>
</td></tr>
<tr><td><code id="geom_sii_riskconnection_+3A_mapping">mapping</code></td>
<td>
<p>required aes(thetics) : 'x' (i.e. time, longitude, integer), 'y' (i.e SCR ratio, lattitude), 'id' and also 'comparewithid'</p>
</td></tr>
<tr><td><code id="geom_sii_riskconnection_+3A_stat">stat</code></td>
<td>
<p>default stat is statsii_riskconnection, combinations with other stat's are not tested</p>
</td></tr>
<tr><td><code id="geom_sii_riskconnection_+3A_position">position</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskconnection_+3A_na.rm">na.rm</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskconnection_+3A_show.legend">show.legend</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskconnection_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskconnection_+3A_...">...</code></td>
<td>
<p>ellipsis, a standard R parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 'ggplot2' object based on 'geom_polygon'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggsolvencyii)
library(ggplot2)

sii_z_ex3_data[sii_z_ex3_data$description == "SCR", ]

ggplot() + geom_sii_riskconnection(data = sii_z_ex3_data, mapping = aes(
  comparewithid = comparewithid,
  x = time,
  y = ratio,
  id = id,
  ),
color = "red",
lwd = 0.7,
arrow = arrow()
)
</code></pre>

<hr>
<h2 id='geom_sii_riskoutline'>geom_sii_riskoutline</h2><span id='topic+geom_sii_riskoutline'></span>

<h3>Description</h3>

<p>returns a 'ggplot2' object, based on geom_path with the outlines concentric circle(part)s, defined by the values in a hierarchy of levels. This can be used instead of geom_sii_risksurface to plot the composition of the SCR. When optional aes(thetic) 'comparewithid' is passed to the geom_sii_riskoutline then the second SCR can be an overlay over another, for easy comparison.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_sii_riskoutline(data = NULL, mapping = NULL,
  stat = "sii_riskoutline",
  structure = ggsolvencyii::sii_structure_sf16_eng, squared = FALSE,
  levelmax = 99, aggregatesuffix = "_other", plotdetails = NULL,
  rotationdegrees = NULL, rotationdescription = NULL,
  maxscrvalue = NULL, scalingx = 1, scalingy = 1,
  position = "identity", na.rm = FALSE, show.legend = NA,
  inherit.aes = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_sii_riskoutline_+3A_data">data</code></td>
<td>
<p>the dataset in tidyverse format (column 'description' as a factor). see examples in <code><a href="#topic+sii_z_ex2_data">sii_z_ex2_data</a></code> or <code><a href="#topic+sii_z_ex3_data">sii_z_ex3_data</a></code></p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_mapping">mapping</code></td>
<td>
<p>required aes(thetics) : 'x' (i.e. time, longitude, integer), 'y' (i.e SCR ratio, lattitude), 'id', 'description', 'value'. Optional aes is 'comparewithid'</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_stat">stat</code></td>
<td>
<p>default stat is statsii_riskoutline, combinations with other stat's are not tested</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_structure">structure</code></td>
<td>
<p>(dataframe: default = <code><a href="#topic+sii_structure_sf16_eng">sii_structure_sf16_eng</a></code>)<br /> A representation of the buildup from individual risks to the SCR. columns are </p>
<ol>
<li><p> description (chr),</p>
</li>
<li><p>  level (chr),</p>
</li>
<li><p>  childlevel (chr)</p>
</li></ol>
<p>. In the standard formula structure, SCR has level 1, with childlevel 2. This means it consists of all datalines with level == 2, ie. &quot;BSCR&quot;, &quot;operational&quot; and &quot;Adjustment-LACDT&quot;. lines in the dataset with a suffix &quot;d&quot; behind the levelnumber are diversification items. As of now these are not used in any calculation. the values in column &quot;description&quot; in the dataset need to match the description in this file. The package contains also a file <code><a href="#topic+sii_structure_sf16_nld">sii_structure_sf16_nld</a></code> with Dutch terms in description column.</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_squared">squared</code></td>
<td>
<p>(optional, boolean, default = FALSE)<br /> when set to TRUE plot returns a square representation. Compared with a circle representation of the same data the height and width of the square are smaller than the radius of the circle. Segments which fall in the corner parts of the square are smaller than equally sized part which fall in the vertical or horizontal parts of the square.</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_levelmax">levelmax</code></td>
<td>
<p>(integer or dataframe, default = 99)<br /> a positive integer or a dataframe with columns 'level' and 'levelmax'. <br /> The maximum amount of items in a certain level to be plotted. The smallest items are combined to one item. In the case level consisting of 7 items has a levelmax of 5 this results in 4 separate items and one grouped item. <br />
For a less detailed plot <code><a href="#topic+sii_levelmax_sf16_995">sii_levelmax_sf16_995</a></code> and <code><a href="#topic+sii_levelmax_sf16_993">sii_levelmax_sf16_993</a></code> are present in the package where the components of market, life, non-life, health are combined in 5 or 3 items.</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_aggregatesuffix">aggregatesuffix</code></td>
<td>
<p>(string, default = &quot;_other&quot;)<br /> When a certain level contains more items than specified by levelmax  the smallest items are combined. The description is of the name of the one higher level (lower number) with a suffix</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_plotdetails">plotdetails</code></td>
<td>
<p>a table with columns 'levelordescription' and 'outline1' to 'outline4', indicating which outlines of which circle elements to plot. When no table is provided all segments are plotted. example 3 shows how to combine geom_sii_risksurface and geom_sii_riskoutline by using using table <code><a href="#topic+sii_z_ex3_plotdetails">sii_z_ex3_plotdetails</a></code>. geom_sii_risksurface uses another column in the same table.</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_rotationdegrees">rotationdegrees</code></td>
<td>
<p>(optional, integer, -360 to 360, default = NULL)<br /> when given, the fixed amount of degrees (positive is clockwise) of which each item is rotated (as in a compass, -90 is a quarter rotation anti-clockwise), additive to possible rotation to description</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_rotationdescription">rotationdescription</code></td>
<td>
<p>(optional, string, default = NULL)<br /> default the orientation of the lower level (higher number) circles is based on the structure. When this parameter is not NULL then the circles are rotated in such a way that the indicated item lies in the &quot;north-east&quot; part of the circle.</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_maxscrvalue">maxscrvalue</code></td>
<td>
<p>(optional, double, default = NULL)<br />
the scale of the different plot elements is is by default measured to the largest level 1 element (i.e. SCR) in the dataset, this can be overridden by this parameter for example when combining several plots</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_scalingx">scalingx</code></td>
<td>
<p>(optional, positive value ,default = 1)<br /> for plots where units in x and y are different in magnitude distortion can occur. This parameter scales only in x-direction</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_scalingy">scalingy</code></td>
<td>
<p>(optional, positive value ,default = 1)<br /> for plots where units in x and y are different in magnitude distortion can occur. This parameter scales only in y-direction</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_position">position</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_na.rm">na.rm</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_show.legend">show.legend</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_riskoutline_+3A_...">...</code></td>
<td>
<p>ellipsis, a standard R parameter</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When describing an outline of a circle part 4 segments can be distinguised, radial line outwards, outer circle segment, radial line inwards, inner circle segment. Whether or not to plot these lines can be determined with an outline dataframe.
by means of the column aes()value comparewithid in the data an overlay can be made to compare two SCR representations.
</p>


<h3>Value</h3>

<p>a 'ggplot2' object <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggsolvencyii)
library(ggplot2)

## see details about id and comparewithid
# sii_z_ex3_data[sii_z_ex3_data$description == "SCR", ]

ggplot()+
geom_sii_riskoutline(data = sii_z_ex3_data, mapping = aes(
  # comparewithid = comparewithid,
  x = time,
  y = ratio,
  value = value,
  id = id,
  description = description),
color = "red",
lwd = 0.7
)

##and with comparewithid in  aes()

ggplot()+
geom_sii_riskoutline(data = sii_z_ex3_data, mapping = aes(
  comparewithid = comparewithid,
  x = time,
  y = ratio,
  value = value,
  id = id,
  description = description),
color = "red",
lwd = 0.7
)


</code></pre>

<hr>
<h2 id='geom_sii_risksurface'>geom_sii_risksurface</h2><span id='topic+geom_sii_risksurface'></span>

<h3>Description</h3>

<p>returns a 'ggplot2' object, based on geom_polygon, with filled, concentric circle(part)s, defined by the values in a hierarchy of levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_sii_risksurface(data = NULL, mapping = NULL,
  stat = "sii_risksurface",
  structure = ggsolvencyii::sii_structure_sf16_eng, squared = FALSE,
  levelmax = 99, aggregatesuffix = "_other", plotdetails = NULL,
  rotationdegrees = NULL, rotationdescription = NULL,
  maxscrvalue = NULL, scalingx = 1, scalingy = 1,
  position = "identity", na.rm = FALSE, show.legend = NA,
  inherit.aes = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_sii_risksurface_+3A_data">data</code></td>
<td>
<p>the dataset in tidyverse format (column 'description' as a factor). see examples in <code><a href="#topic+sii_z_ex2_data">sii_z_ex2_data</a></code> or <code><a href="#topic+sii_z_ex3_data">sii_z_ex3_data</a></code></p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_mapping">mapping</code></td>
<td>
<p>required aes(thetics) : x (i.e. time, longitude), y (i.e SCR ratio, lattitude), id, description (), value</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_stat">stat</code></td>
<td>
<p>default stat is statsii_risksurface, combinations with other stat's are not tested</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_structure">structure</code></td>
<td>
<p>(dataframe: default = <code><a href="#topic+sii_structure_sf16_eng">sii_structure_sf16_eng</a></code>)<br /> A representation of the buildup from individual risks to the SCR. columns are </p>
<ol>
<li><p> description (chr),</p>
</li>
<li><p>  level (chr),</p>
</li>
<li><p>  childlevel (chr)</p>
</li></ol>
<p>. In the standard formula structure, SCR has level 1, with childlevel 2. This means it consists of all datalines with level == 2, ie. &quot;BSCR&quot;, &quot;operational&quot; and &quot;Adjustment-LACDT&quot;. lines in the dataset with a suffix &quot;d&quot; behind the levelnumber are diversification items. As of now these are not used in any calculation. the values in column &quot;description&quot; in the dataset need to match the description in this file. The package contains also a file <code><a href="#topic+sii_structure_sf16_nld">sii_structure_sf16_nld</a></code> with Dutch terms in description column.</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_squared">squared</code></td>
<td>
<p>(optional, boolean, default = FALSE)<br /> when set to TRUE plot returns a square representation. Compared with a circle representation of the same data the height and width of the square are smaller than the radius of the circle. Segments which fall in the corner parts of the square are smaller than equally sized part which fall in the vertical or horizontal parts of the square.</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_levelmax">levelmax</code></td>
<td>
<p>(integer or dataframe, default = 99)<br /> a positive integer or a dataframe with columns 'level' and 'levelmax'. <br /> The maximum amount of items in a certain level to be plotted. The smallest items are combined to one item. In the case level consisting of 7 items has a levelmax of 5 this results in 4 separate items and one grouped item. <br />
For a less detailed plot <code><a href="#topic+sii_levelmax_sf16_995">sii_levelmax_sf16_995</a></code> and <code><a href="#topic+sii_levelmax_sf16_993">sii_levelmax_sf16_993</a></code> are present in the package where the components of market, life, non-life, health are combined in 5 or 3 items.</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_aggregatesuffix">aggregatesuffix</code></td>
<td>
<p>(string, default = &quot;_other&quot;)<br /> When a certain level contains more items than specified by levelmax  the smallest items are combined. The description is of the name of the one higher level (lower number) with a suffix</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_plotdetails">plotdetails</code></td>
<td>
<p>(optional) a table with columns 'levelordescription' and 'surface', indicating which circle elements to plot. When no table is provided all segments are plotted. example 3 shows how to combine geom_sii_risksurface and geom_sii_riskoutline by using using table <code><a href="#topic+sii_z_ex3_plotdetails">sii_z_ex3_plotdetails</a></code>. geom_sii_riskoutline uses other columns in the same table</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_rotationdegrees">rotationdegrees</code></td>
<td>
<p>(optional, integer, -360 to 360, default = NULL)<br /> when given, the fixed amount of degrees (positive is clockwise) of which each item is rotated (as in a compass, -90 is a quarter rotation anti-clockwise), additive to possible rotation to description</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_rotationdescription">rotationdescription</code></td>
<td>
<p>(optional, string, default = NULL)<br /> default the orientation of the lower level (higher number) circles is based on the structure. When this parameter is not NULL then the circles are rotated in such a way that the indicated item lies in the &quot;north-east&quot; part of the circle.</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_maxscrvalue">maxscrvalue</code></td>
<td>
<p>(optional, double, default = NULL)<br />
the scale of the different plot elements is is by default measured to the largest level 1 element (i.e. SCR) in the dataset, this can be overridden by this parameter for example when combining several plots</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_scalingx">scalingx</code></td>
<td>
<p>(optional, positive value ,default = 1)<br /> for plots where units in x and y are different in magnitude distortion can occur. This parameter scales only in x-direction</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_scalingy">scalingy</code></td>
<td>
<p>(optional, positive value ,default = 1)<br /> for plots where units in x and y are different in magnitude distortion can occur. This parameter scales only in y-direction</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_position">position</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_na.rm">na.rm</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_show.legend">show.legend</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="geom_sii_risksurface_+3A_...">...</code></td>
<td>
<p>ellipsis, a standard R parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## dataset human readable
library(ggsolvencyii)
library(ggplot2)
t &lt;- tidyr::spread(data = sii_z_ex1_data, key = description, value = value)
t &lt;- as.data.frame(t)
t &lt;- t[order(t$id),]
t &lt;- dplyr::select( t, id, time, comparewithid, ratio, SCR, dplyr::everything())
t[1:3 ,1:8]

ggplot() +
geom_sii_risksurface(
    data = sii_z_ex1_data[sii_z_ex1_data$id == 1, ],
mapping = aes(x = time,
                  y = ratio,
                  id = id,
                  value = value,
                  description = description,
                  color = description,
                  fill = description
                   ) ) +
theme_bw() +
scale_fill_manual(name = "Risks",values = sii_x_fillcolors_sf16_eng) +
scale_color_manual(name = "Risks",values = sii_x_edgecolors_sf16_eng)

ggplot() +
 geom_sii_risksurface(
   data = sii_z_ex2_data,
   mapping = aes(x = time, y = ratio, id = id, value = value,
                 description = description,
                 # color = description,
                 fill = description
                 ),
   color = "black",
   levelmax = sii_levelmax_sf16_993) +
theme_bw() +
scale_fill_manual(name = "Risks",values = sii_x_fillcolors_sf16_eng) # +
# scale_color_manual(name = "Risks",values = sii_x_edgecolors_sf16_eng)



ggplot() +
 geom_sii_risksurface(data = sii_z_ex1_data[sii_z_ex1_data$id == 1, ],
       mapping = ggplot2::aes(x = time,
                              y = ratio,
                              ## x and y could for example be
                              ## longitude and latitude
                              ## in combination with plotted map
                              value = value,
                              id = id,
                              description = description,
                              fill = description, ## optional
                              color = description  ## optional
                              ),
           ## all parameters are shown here,
           ## the values behind the outcommented are the default values
             ## how and what
               ## structure = sii_structure_sf16_eng,
               ## plotdetails = NULL,
             ## grouping
               # levelmax = 99,
               # aggregatesuffix = "other",
             ## scaling
               # maxscrvalue =  NULL,
               # scalingx = 1,
               # scalingy = 1,
             ## rotation and squared
               # rotationdegrees = NULL,
               # rotationdescription = NULL,
               # squared = FALSE,
             ## cosmetic
               lwd = 0.25,
               # alpha = 1
       ) +
 theme_bw() +
 scale_fill_manual(name = "risks", values = sii_z_ex1_fillcolors) +
 scale_color_manual(name = "risks", values = sii_z_ex1_edgecolors)
</code></pre>

<hr>
<h2 id='sii_debug_geom'>sii_debug_geom</h2><span id='topic+sii_debug_geom'></span>

<h3>Description</h3>

<p>assists in finding level or description mismatches in a set parameter(tables)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_debug_geom(data_descriptionvector,
  structure = ggsolvencyii::sii_structure_sf16_eng,
  aggregatesuffix = "other", levelmax = NULL, plotdetails = NULL,
  fillcolors = NULL, edgecolors = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sii_debug_geom_+3A_data_descriptionvector">data_descriptionvector</code></td>
<td>
<p>(no default) the vector 'description' from the data</p>
</td></tr>
<tr><td><code id="sii_debug_geom_+3A_structure">structure</code></td>
<td>
<p>(no default) the structure dataframe</p>
</td></tr>
<tr><td><code id="sii_debug_geom_+3A_aggregatesuffix">aggregatesuffix</code></td>
<td>
<p>(optional, default = &quot;_other&quot;):</p>
</td></tr>
<tr><td><code id="sii_debug_geom_+3A_levelmax">levelmax</code></td>
<td>
<p>(optional, no default): the levelmax dataframe, when not filled the expanded structure assumes levelmax was set to 99 for all levels.</p>
</td></tr>
<tr><td><code id="sii_debug_geom_+3A_plotdetails">plotdetails</code></td>
<td>
<p>(optional, no default): the plotdetails dataframe</p>
</td></tr>
<tr><td><code id="sii_debug_geom_+3A_fillcolors">fillcolors</code></td>
<td>
<p>(optional, no default): fillcolor parameter (list with items &quot;description&quot; = &quot;color&quot; where color can be a name, #hexcode or other )</p>
</td></tr>
<tr><td><code id="sii_debug_geom_+3A_edgecolors">edgecolors</code></td>
<td>
<p>(optional, no default): edgecolor parameter (list with items &quot;description&quot; = &quot;color&quot; where color can be a name, #hexcode or other )</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prints two comparison tables and puts them in $debug_description and $debug_level
</p>

<hr>
<h2 id='sii_levelmax_sf16_993'>sii_levelmax_sf16_993</h2><span id='topic+sii_levelmax_sf16_993'></span>

<h3>Description</h3>

<p>maximum number of items in a level, 99 items for levels 1-3 (SCR, BSCR/OR/ADJ, Market/life/... risks) and 3 items for lower level risk (equity/longevity/...) in a standard formula structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_levelmax_sf16_993
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>level</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component</p>
</dd>
<dt>levelmax</dt><dd><p>positive integer indicating the total number of components to be shown in a level, consisting of the x-1 largest components and the remaining components combined in one other</p>
</dd>
</dl>


<h3>Source</h3>

<p>made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a> :
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_levelmax_sf16_993
installedtable
</code></pre>

<hr>
<h2 id='sii_levelmax_sf16_995'>sii_levelmax_sf16_995</h2><span id='topic+sii_levelmax_sf16_995'></span>

<h3>Description</h3>

<p>maximum number of items in a level, 99 items for levels 1-3
(SCR, BSCR/OR/ADJ, Market/life/... risks) and 5 items for lower level risk
(equity/longevity/...) in a standard formula structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_levelmax_sf16_995
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>level</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component</p>
</dd>
<dt>levelmax</dt><dd><p>positive integer indicating the total number of components to be shown in a level, consisting of the x-1 largest components and the remaining components combined in one other</p>
</dd>
</dl>


<h3>Source</h3>

<p>made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_levelmax_sf16_995
installedtable
</code></pre>

<hr>
<h2 id='sii_plotdetails_sf16'>sii_plotdetails_sf16</h2><span id='topic+sii_plotdetails_sf16'></span>

<h3>Description</h3>

<p>A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_plotdetails_sf16
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>levelordescription</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component <strong>AND/OR</strong> description(s) from the corresponding structure </p>
</dd>
<dt>surface</dt><dd><p>boolean (logical): the surface </p>
</dd>
<dt>outline1</dt><dd><p>boolean (logical): the radial line </p>
</dd>
<dt>outline2</dt><dd><p>boolean (logical): the outer line  </p>
</dd>
<dt>outline3</dt><dd><p>boolean (logical): the radial line  </p>
</dd>
<dt>outline4</dt><dd><p>boolean (logical): the inner line </p>
</dd>
<dt>outline11</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline1, but but only for the first plotted component of that level. The components in each  level are plotted clockwise</p>
</dd>
<dt>outline13</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline3, but but only for the last plotted component of that level. </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_plotdetails_sf16
installedtable
</code></pre>

<hr>
<h2 id='sii_structure_sf16_eng'>sii_structure_sf16_eng</h2><span id='topic+sii_structure_sf16_eng'></span>

<h3>Description</h3>

<p>a standard formula structure (as of 2016), with descriptions in English.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_structure_sf16_eng
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>description</dt><dd><p>string: the name of the component</p>
</dd>
<dt>level</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component</p>
</dd>
<dt>childlevel</dt><dd><p>string, same format as level, indicating the level of which the components combine into this level </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure. <br />
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_structure_sf16_eng
installedtable
</code></pre>

<hr>
<h2 id='sii_structure_sf16_nld'>sii_structure_sf16_nld</h2><span id='topic+sii_structure_sf16_nld'></span>

<h3>Description</h3>

<p>a standard formula structure (as of 2016), with descriptions in Dutch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_structure_sf16_nld
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>description</dt><dd><p>string: the name of the component</p>
</dd>
<dt>level</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component</p>
</dd>
<dt>childlevel</dt><dd><p>string, same format as level, indicating the level of which the components combine into this level </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure. <br />
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_structure_sf16_nld
installedtable
</code></pre>

<hr>
<h2 id='sii_x_edgecolors_sf16_eng'>sii_x_edgecolors_sf16_eng</h2><span id='topic+sii_x_edgecolors_sf16_eng'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each risk has the edgecolor of the &quot;motherlevel&quot;, as defined in the <code>..fillcolors..</code> variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_x_edgecolors_sf16_eng
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_x_edgecolors_sf16_eng
installedtable
</code></pre>

<hr>
<h2 id='sii_x_edgecolors_sf16_nld'>sii_x_edgecolors_sf16_nld</h2><span id='topic+sii_x_edgecolors_sf16_nld'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each risk has the edgecolor of the &quot;motherlevel&quot;, as defined in the <code>..fillcolors..</code> variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_x_edgecolors_sf16_nld
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_x_edgecolors_sf16_nld
installedtable
</code></pre>

<hr>
<h2 id='sii_x_fillcolors_sf16_eng'>sii_x_fillcolors_sf16_eng</h2><span id='topic+sii_x_fillcolors_sf16_eng'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each accumulationlevel and each type of risk has it's own color, where &quot;.._other&quot; has the same color as the &quot;motherlevel&quot;, i.e. 'market_other' has the same color as 'market' while other 'm_..' risks have a different hue.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_x_fillcolors_sf16_eng
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_x_fillcolors_sf16_eng
installedtable
</code></pre>

<hr>
<h2 id='sii_x_fillcolors_sf16_nld'>sii_x_fillcolors_sf16_nld</h2><span id='topic+sii_x_fillcolors_sf16_nld'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each accumulationlevel and each type of risk has it's own color, where &quot;.._other&quot; has the same color as the &quot;motherlevel&quot;, i.e. 'market_other' has the same color as 'market' while other 'm_..' risks have a different hue.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_x_fillcolors_sf16_nld
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_x_fillcolors_sf16_nld
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex1_data'>sii_z_ex1_data</h2><span id='topic+sii_z_ex1_data'></span>

<h3>Description</h3>

<p>example dataset, in tidyverse format, for the showcase of a limited structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex1_data
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>time</dt><dd><p>numerical: a representation of an x value: <br /> The x aesthetic could also be a normal numbering, or a longitude</p>
</dd>
<dt>ratio</dt><dd><p>numerical: solvency II ratio, a representation of an y value: <br /> y aesthetic could also be a lattitude</p>
</dd>
<dt>description</dt><dd><p>character: component of the structure</p>
</dd>
<dt>id</dt><dd><p> number: a grouping item</p>
</dd>
<dt>value</dt><dd><p>numerical: positive for risks, negative for diversification effects</p>
</dd>
<dt>comparewithid</dt><dd><p>numerical: a reference to the id of another datapoint </p>
</dd></dl>
<p>#'          </p>


<h3>Source</h3>

<p>loosely based on public SFCR report of a medium sized dutch life insurer
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex1_data
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex1_edgecolors'>sii_z_ex1_edgecolors</h2><span id='topic+sii_z_ex1_edgecolors'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each risk has the edgecolor of the &quot;motherlevel&quot;, as defined in the <code>..fillcolors..</code> variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex1_edgecolors
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex1_edgecolors
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex1_fillcolors'>sii_z_ex1_fillcolors</h2><span id='topic+sii_z_ex1_fillcolors'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each accumulationlevel and each type of risk has it's own color, where &quot;.._other&quot; has the same color as the &quot;motherlevel&quot;, i.e. 'market_other' has the same color as 'market' while other 'm_..' risks have a different hue.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex1_fillcolors
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex1_fillcolors
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex1_levelmax'>sii_z_ex1_levelmax</h2><span id='topic+sii_z_ex1_levelmax'></span>

<h3>Description</h3>

<p>maximum number of items in a level, 99 items for levels 1-3 (SCR, BSCR/OR/ADJ, Market/life/... risks) and 3 items for lower level risk (equity/longevity/...)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex1_levelmax
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:</p>


<h3>Source</h3>

<p>made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex1_levelmax
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex1_plotdetails'>sii_z_ex1_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</h2><span id='topic+sii_z_ex1_plotdetails'></span>

<h3>Description</h3>

<p>sii_z_ex1_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex1_plotdetails
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>levelordescription</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component <strong>AND/OR</strong> description(s) from the corresponding structure </p>
</dd>
<dt>surface</dt><dd><p>boolean (logical): the surface </p>
</dd>
<dt>outline1</dt><dd><p>boolean (logical): the radial line </p>
</dd>
<dt>outline2</dt><dd><p>boolean (logical): the outer line  </p>
</dd>
<dt>outline3</dt><dd><p>boolean (logical): the radial line  </p>
</dd>
<dt>outline4</dt><dd><p>boolean (logical): the inner line </p>
</dd>
<dt>outline11</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline1, but but only for the first plotted component of that level. The components in each  level are plotted clockwise</p>
</dd>
<dt>outline13</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline3, but but only for the last plotted component of that level. </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex1_plotdetails
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex1_plotdetails2'>sii_z_ex1_plotdetails2
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</h2><span id='topic+sii_z_ex1_plotdetails2'></span>

<h3>Description</h3>

<p>sii_z_ex1_plotdetails2
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex1_plotdetails2
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>levelordescription</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component <strong>AND/OR</strong> description(s) from the corresponding structure </p>
</dd>
<dt>surface</dt><dd><p>boolean (logical): the surface </p>
</dd>
<dt>outline1</dt><dd><p>boolean (logical): the radial line </p>
</dd>
<dt>outline2</dt><dd><p>boolean (logical): the outer line  </p>
</dd>
<dt>outline3</dt><dd><p>boolean (logical): the radial line  </p>
</dd>
<dt>outline4</dt><dd><p>boolean (logical): the inner line </p>
</dd>
<dt>outline11</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline1, but but only for the first plotted component of that level. The components in each  level are plotted clockwise</p>
</dd>
<dt>outline13</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline3, but but only for the last plotted component of that level. </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex1_plotdetails2
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex1_structure'>sii_z_ex1_structure</h2><span id='topic+sii_z_ex1_structure'></span>

<h3>Description</h3>

<p>a adapted (compact) structure, for a life-insurer with only  market and life risk and their subrisks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex1_structure
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>description</dt><dd><p>string: the name of the component, or a diversification</p>
</dd>
<dt>level</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component</p>
</dd>
<dt>childlevel</dt><dd><p>string of the same format as level, indicating the level of which the components make up this item </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex1_structure
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex2_data'>sii_z_ex2_data</h2><span id='topic+sii_z_ex2_data'></span>

<h3>Description</h3>

<p>example dataset, in tidyverse format, with only one instance of a limited filled sf structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex2_data
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>time</dt><dd><p>numerical: a representation of an x value: <br /> The x aesthetic could also be a normal numbering, or a longitude</p>
</dd>
<dt>ratio</dt><dd><p>numerical: solvency II ratio, a representation of an y value: <br /> y aesthetic could also be a lattitude</p>
</dd>
<dt>description</dt><dd><p>character: component of the structure</p>
</dd>
<dt>id</dt><dd><p> number: a grouping item</p>
</dd>
<dt>value</dt><dd><p>numerical: positive for risks, negative for diversification effects</p>
</dd>
</dl>


<h3>Source</h3>

<p>loosely based on public SFCR report of a medium sized dutch life insurer
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex2_data
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex3_data'>sii_z_ex3_data</h2><span id='topic+sii_z_ex3_data'></span>

<h3>Description</h3>

<p>example dataset, in tidyverse format, with all columns of the complete SF16 structure present in the data but with only a few risks filled with non-zero values,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex3_data
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>time</dt><dd><p>numerical: a representation of an x value: <br /> The x aesthetic could also be a normal numbering, or a longitude</p>
</dd>
<dt>ratio</dt><dd><p>numerical: solvency II ratio, a representation of an y value: <br /> y aesthetic could also be a lattitude</p>
</dd>
<dt>description</dt><dd><p>character: component of the structure</p>
</dd>
<dt>id</dt><dd><p> number: a grouping item</p>
</dd>
<dt>value</dt><dd><p>numerical: positive for risks, negative for diversification effects</p>
</dd>
<dt>comparewithid</dt><dd><p>numerical: a reference to the id of another datapoint </p>
</dd>
</dl>


<h3>Source</h3>

<p>loosely based on public SFCR report of a medium sized dutch life insurer
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex3_data
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex3_plotdetails'>sii_z_ex3_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</h2><span id='topic+sii_z_ex3_plotdetails'></span>

<h3>Description</h3>

<p>sii_z_ex3_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex3_plotdetails
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>levelordescription</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component <strong>AND/OR</strong> description(s) from the corresponding structure </p>
</dd>
<dt>surface</dt><dd><p>boolean (logical): the surface </p>
</dd>
<dt>outline1</dt><dd><p>boolean (logical): the radial line </p>
</dd>
<dt>outline2</dt><dd><p>boolean (logical): the outer line  </p>
</dd>
<dt>outline3</dt><dd><p>boolean (logical): the radial line  </p>
</dd>
<dt>outline4</dt><dd><p>boolean (logical): the inner line </p>
</dd>
<dt>outline11</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline1, but but only for the first plotted component of that level. The components in each  level are plotted clockwise</p>
</dd>
<dt>outline13</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline3, but but only for the last plotted component of that level. </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex3_plotdetails
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex4_data'>sii_z_ex4_data</h2><span id='topic+sii_z_ex4_data'></span>

<h3>Description</h3>

<p>example dataset, in tidyverse format, with several instances of a filled sf structure,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex4_data
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>time</dt><dd><p>numerical: a representation of an x value: <br /> The x aesthetic could also be a normal numbering, or a longitude</p>
</dd>
<dt>ratio</dt><dd><p>numerical: solvency II ratio, a representation of an y value: <br /> y aesthetic could also be a lattitude</p>
</dd>
<dt>description</dt><dd><p>character: component of the structure</p>
</dd>
<dt>id</dt><dd><p> number: a grouping item</p>
</dd>
<dt>value</dt><dd><p>numerical: positive for risks, negative for diversification effects</p>
</dd>
<dt>comparewithid</dt><dd><p>numerical: a reference to the id of another datapoint </p>
</dd></dl>
<p>#'          </p>


<h3>Source</h3>

<p>based on public SFCR 2017 reports of a medium sized dutch life insurer in Oosterhout
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex4_data
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex4_levelmax'>sii_z_ex4_levelmax</h2><span id='topic+sii_z_ex4_levelmax'></span>

<h3>Description</h3>

<p>maximum number of items in a level, 99 items for levels 1-3 (SCR, BSCR/OR/ADJ, Market/life/... risks) and 3 items for lower level risk (equity/longevity/...)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex4_levelmax
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:</p>


<h3>Source</h3>

<p>made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex4_levelmax
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex4_structure'>sii_z_ex4_structure</h2><span id='topic+sii_z_ex4_structure'></span>

<h3>Description</h3>

<p>a adapted (compact) structure with no division of market, life, .. risks in subrisks (i.e. equity, longevity,... ). Descriptions are in English
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex4_structure
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>description</dt><dd><p>string: the name of the component, or a diversification</p>
</dd>
<dt>level</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component</p>
</dd>
<dt>childlevel</dt><dd><p>string of the same format as level, indicating the level of which the components make up this item </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex4_structure
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex6_data'>sii_z_ex6_data</h2><span id='topic+sii_z_ex6_data'></span>

<h3>Description</h3>

<p>example dataset of a internal model of a large Dutch insurer (NN group). Values are fictious
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex6_data
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>time</dt><dd><p>numerical: a representation of an x value: <br /> The x aesthetic could also be a normal numbering, or a longitude</p>
</dd>
<dt>ratio</dt><dd><p>numerical: solvency II ratio, a representation of an y value: <br /> y aesthetic could also be a lattitude</p>
</dd>
<dt>description</dt><dd><p>character: component of the structure</p>
</dd>
<dt>id</dt><dd><p> number: a grouping item</p>
</dd>
<dt>value</dt><dd><p>numerical: positive for risks, negative for diversification effects</p>
</dd>
<dt>comparewithid</dt><dd><p>numerical: a reference to the id of another datapoint </p>
</dd>
</dl>


<h3>Source</h3>

<p>the structure is based on public SFCR 2017 report of NN group,
with a possible wrong interpretation of diversification effects towards 'market basis and CPD risk'<br />
#' See <a href="https://preview.tinyurl.com/ggsolvencyii-001">preview.tinyurl.com/ggsolvencyii-001</a>, page 33 linking to
www.nn-group.com /nn-group /file?uuid=e3e89829 -e7bd -495a -9fed
-4bc54a9349eb&amp;owner =c5df72fd -8a65 -4f75 -956d -5e37307aa50c &amp;contentid =2311 <br />
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>,
from there transfered to R environment with code in <code>preparingtables.R</code> in the same directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex6_data
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex6_data2'>sii_z_ex6_data2</h2><span id='topic+sii_z_ex6_data2'></span>

<h3>Description</h3>

<p>example dataset of a internal model of a large Dutch insurer (NN group). Values are fictious. <br />
To show 'counterparty default risk (CPD)' separate from the two components
'type 1' and 'type 2' the following assumption is made: The (fictious)
diversification towards the higher level from CPD risk is transferred
to a position between CPD and its two components.
A similar approach is used to show 'business risk',
'life risk', 'morbidity risk' and 'non-life risk'
and their (7,4,4 and 4) components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex6_data2
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>time</dt><dd><p>numerical: a representation of an x value: <br /> The x aesthetic could also be a normal numbering, or a longitude</p>
</dd>
<dt>ratio</dt><dd><p>numerical: solvency II ratio, a representation of an y value: <br /> y aesthetic could also be a lattitude</p>
</dd>
<dt>description</dt><dd><p>character: component of the structure</p>
</dd>
<dt>id</dt><dd><p> number: a grouping item</p>
</dd>
<dt>value</dt><dd><p>numerical: positive for risks, negative for diversification effects</p>
</dd>
<dt>comparewithid</dt><dd><p>numerical: a reference to the id of another datapoint </p>
</dd></dl>
<p>#'          </p>


<h3>Source</h3>

<p>the structure is based on public SFCR 2017 report of NN group,
with a possible wrong interpretation of diversification effects towards 'market basis and CPD risk' <br />#'
See <a href="https://preview.tinyurl.com/ggsolvencyii-001">preview.tinyurl.com/ggsolvencyii-001</a>, page 33 linking to
www.nn-group.com/ nn-group/file? uuid=e3e89829 -e7bd -495a -9fed
-4bc54a9349eb&amp;owner =c5df72fd -8a65 -4f75 -956d -5e37307aa50c &amp;contentid =2311
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>,
from there transfered to R environment with code in <code>preparingtables.R</code> in the same directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex6_data2
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex6_edgecolors'>sii_z_ex6_edgecolors</h2><span id='topic+sii_z_ex6_edgecolors'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each risk has the edgecolor of the &quot;motherlevel&quot;, as defined in the <code>..fillcolors..</code> variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex6_edgecolors
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex6_edgecolors
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex6_fillcolors'>sii_z_ex6_fillcolors</h2><span id='topic+sii_z_ex6_fillcolors'></span>

<h3>Description</h3>

<p>a colorset, as named list, where each accumulation-level and each type of risk has it's own color, where &quot;.._other&quot; has the same color as the &quot;motherlevel&quot;, i.e. 'market_other' has the same color as 'market' while other 'm_..' risks have a different hue.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex6_fillcolors
</code></pre>


<h3>Format</h3>

<p>A list with items in the form &quot;<em>description</em>&quot;= &quot;#<em>colorcode</em>&quot;:</p>


<h3>Source</h3>

<p>made with <code>preparingtables.R</code> (not included in this package) which can be found on <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden/ggsolvencyii</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex6_fillcolors
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex6_levelmax'>sii_z_ex6_levelmax</h2><span id='topic+sii_z_ex6_levelmax'></span>

<h3>Description</h3>

<p>maximum number of items in a level, 99 items for levels 1-3 (SCR, BSCR/OR/ADJ, Market/life/... risks) and 3 items for lower level risk (equity/longevity/...)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex6_levelmax
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:</p>


<h3>Source</h3>

<p>made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex6_levelmax
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex6_plotdetails'>sii_z_ex6_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</h2><span id='topic+sii_z_ex6_plotdetails'></span>

<h3>Description</h3>

<p>sii_z_ex6_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex6_plotdetails
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>levelordescription</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component <strong>AND/OR</strong> description(s) from the corresponding structure </p>
</dd>
<dt>surface</dt><dd><p>boolean (logical): the surface </p>
</dd>
<dt>outline1</dt><dd><p>boolean (logical): the radial line </p>
</dd>
<dt>outline2</dt><dd><p>boolean (logical): the outer line  </p>
</dd>
<dt>outline3</dt><dd><p>boolean (logical): the radial line  </p>
</dd>
<dt>outline4</dt><dd><p>boolean (logical): the inner line </p>
</dd>
<dt>outline11</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline1, but but only for the first plotted component of that level. The components in each  level are plotted clockwise</p>
</dd>
<dt>outline13</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline3, but but only for the last plotted component of that level. </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex6_plotdetails
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex6_structure'>sii_z_ex6_structure</h2><span id='topic+sii_z_ex6_structure'></span>

<h3>Description</h3>

<p>a standard formula structure (as of 2016), with descriptions in English.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex6_structure
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>description</dt><dd><p>string: the name of the component</p>
</dd>
<dt>level</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component</p>
</dd>
<dt>childlevel</dt><dd><p>string, same format as level, indicating the level of which the components combine into this level </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure. <br />
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex6_structure
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex7_data'>sii_z_ex7_data</h2><span id='topic+sii_z_ex7_data'></span>

<h3>Description</h3>

<p>example dataset, in tidyverse format, with all columns of the complete SF16 structure present in the data but with only a few risks filled with non-zero values,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex7_data
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>tijd</dt><dd><p>numerical: a representation of an x value: <br /> The x aesthetic could also be a normal numbering, or a longitude</p>
</dd>
<dt>ratio</dt><dd><p>numerical: solvency II ratio, a representation of an y value: <br /> y aesthetic could also be a lattitude</p>
</dd>
<dt>description</dt><dd><p>character: component of the structure</p>
</dd>
<dt>id</dt><dd><p> number: a grouping item</p>
</dd>
<dt>waarde</dt><dd><p>numerical: positive for risks, negative for diversification effects</p>
</dd>
<dt>vergelijkmet</dt><dd><p>numerical: a reference to the id of another datapoint </p>
</dd></dl>
<p>#'          </p>


<h3>Source</h3>

<p>loosely based on public SFCR report of a medium sized dutch life insurer
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex7_data
installedtable
</code></pre>

<hr>
<h2 id='sii_z_ex7_plotdetails'>sii_z_ex7_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.</h2><span id='topic+sii_z_ex7_plotdetails'></span>

<h3>Description</h3>

<p>sii_z_ex7_plotdetails
#'
A table for <code><a href="#topic+geom_sii_risksurface">geom_sii_risksurface</a></code> and <code><a href="#topic+geom_sii_riskoutline">geom_sii_riskoutline</a></code> indicating which outlines of each item should be shown, specified per level and/or description. the latter overrule the former. <br />
when defining an item (or the <code>squared = TRUE</code> transformation) 4 lines can be distinguished, a radialline going outwards, a circle segment (clockwise), a radialline going inwards, a circle segment (counterclockwise). These are numbered as outline1 to outline4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sii_z_ex7_plotdetails
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>levelordescription</dt><dd><p>string with format <em>'level(numeric)' [&lt;point&gt; 'sublevel(numeric)'] ['d']</em> i.e. 1, 2.01, 3.1d where d indicates a diversification component <strong>AND/OR</strong> description(s) from the corresponding structure </p>
</dd>
<dt>surface</dt><dd><p>boolean (logical): the surface </p>
</dd>
<dt>outline1</dt><dd><p>boolean (logical): the radial line </p>
</dd>
<dt>outline2</dt><dd><p>boolean (logical): the outer line  </p>
</dd>
<dt>outline3</dt><dd><p>boolean (logical): the radial line  </p>
</dd>
<dt>outline4</dt><dd><p>boolean (logical): the inner line </p>
</dd>
<dt>outline11</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline1, but but only for the first plotted component of that level. The components in each  level are plotted clockwise</p>
</dd>
<dt>outline13</dt><dd><p>NOT YET IMPLEMENTED: boolean (logical): analogue to outline3, but but only for the last plotted component of that level. </p>
</dd>
</dl>


<h3>Source</h3>

<p>determined based on specification of EIOPA standard formula Solvency II structure
made from excel-file in <a href="https://github.com/vanzanden/ggsolvencyii/tree/master/_data_helperfiles">github.com/vanzanden</a>, from there transfered to R environment with code in <code>preparingtables.R</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>installedtable &lt;- sii_z_ex7_plotdetails
installedtable
</code></pre>

<hr>
<h2 id='stat_sii_risksurface'>stat_sii_risksurface</h2><span id='topic+stat_sii_risksurface'></span>

<h3>Description</h3>

<p>returns a 'ggplot2' object with filled, concentric circle(part)s, defined by the values of a hierarchy of levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_sii_risksurface(mapping = NULL, data = NULL,
  geom = "sii_risksurface", position = "identity",
  show.legend = TRUE, inherit.aes = TRUE, na.rm = FALSE,
  levelmax = 99, structure = ggsolvencyii::sii_structure_sf16_eng,
  maxscrvalue = NULL, aggregatesuffix = "_other", scalingx = 1,
  scalingy = 1, rotationdegrees = NULL, rotationdescription = NULL,
  squared = FALSE, plotdetails = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_sii_risksurface_+3A_mapping">mapping</code></td>
<td>
<p>required aes(thetics) : x (i.e. time, longitude), y (i.e SCR ratio, lattitude), id, description (), value</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_data">data</code></td>
<td>
<p>the dataset in tidyverse format (column 'description' as a factor). see examples in <code><a href="#topic+sii_z_ex2_data">sii_z_ex2_data</a></code> or <code><a href="#topic+sii_z_ex3_data">sii_z_ex3_data</a></code></p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_geom">geom</code></td>
<td>
<p>the default is geom_sii_risksurface</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_position">position</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_show.legend">show.legend</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_na.rm">na.rm</code></td>
<td>
<p>standard ggplot function</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_levelmax">levelmax</code></td>
<td>
<p>(integer or dataframe, default = 99)<br /> a positive integer or a dataframe with columns 'level' and 'levelmax'. <br /> The maximum amount of items in a certain level to be plotted. The smallest items are combined to one item. In the case level consisting of 7 items has a levelmax of 5 this results in 4 separate items and one grouped item. <br />
For a less detailed plot <code><a href="#topic+sii_levelmax_sf16_995">sii_levelmax_sf16_995</a></code> and <code><a href="#topic+sii_levelmax_sf16_993">sii_levelmax_sf16_993</a></code> are present in the package where the components of market, life, non-life, health are combined in 5 or 3 items.</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_structure">structure</code></td>
<td>
<p>(dataframe: default = <code><a href="#topic+sii_structure_sf16_eng">sii_structure_sf16_eng</a></code>)<br /> A representation of the buildup from individual risks to the SCR. columns are </p>
<ol>
<li><p> description (chr),</p>
</li>
<li><p>  level (chr),</p>
</li>
<li><p>  childlevel (chr)</p>
</li></ol>
<p>. In the standard formula structure, SCR has level 1, with childlevel 2. This means it consists of all datalines with level == 2, ie. &quot;BSCR&quot;, &quot;operational&quot; and &quot;Adjustment-LACDT&quot;. lines in the dataset with a suffix &quot;d&quot; behind the levelnumber are diversification items. As of now these are not used in any calculation. the values in column &quot;description&quot; in the dataset need to match the description in this file. The package contains also a file <code><a href="#topic+sii_structure_sf16_nld">sii_structure_sf16_nld</a></code> with Dutch terms in description column.</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_maxscrvalue">maxscrvalue</code></td>
<td>
<p>(optional, double, default = NULL)<br />
the scale of the different plot elements is is by default measured to the largest level 1 element (i.e. SCR) in the dataset, this can be overridden by this parameter for example when combining several plots</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_aggregatesuffix">aggregatesuffix</code></td>
<td>
<p>(string, default = &quot;_other&quot;)<br /> When a certain level contains more items than specified by levelmax  the smallest items are combined. The description is of the name of the one higher level (lower number) with a suffix</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_scalingx">scalingx</code></td>
<td>
<p>(optional, positive value ,default = 1)<br /> for plots where units in x and y are different in magnitude distortion can occur. This parameter scales only in x-direction</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_scalingy">scalingy</code></td>
<td>
<p>(optional, positive value ,default = 1)<br /> for plots where units in x and y are different in magnitude distortion can occur. This parameter scales only in y-direction</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_rotationdegrees">rotationdegrees</code></td>
<td>
<p>(optional, integer, -360 to 360, default = NULL)<br /> when given, the fixed amount of degrees (positive is clockwise) of which each item is rotated (as in a compass, -90 is a quarter rotation anti-clockwise), additive to possible rotation to description</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_rotationdescription">rotationdescription</code></td>
<td>
<p>(optional, string, default = NULL)<br /> default the orientation of the lower level (higher number) circles is based on the structure. When this parameter is not NULL then the circles are rotated in such a way that the indicated item lies in the &quot;north-east&quot; part of the circle.</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_squared">squared</code></td>
<td>
<p>(optional, boolean, default = FALSE)<br /> when set to TRUE plot returns a square representation. Compared with a circle representation of the same data the height and width of the square are smaller than the radius of the circle. Segments which fall in the corner parts of the square are smaller than equally sized part which fall in the vertical or horizontal parts of the square.</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_plotdetails">plotdetails</code></td>
<td>
<p>(optional) a table with columns 'levelordescription' and 'surface', indicating which circle elements to plot. When no table is provided all segments are plotted. example 3 shows how to combine geom_sii_risksurface and geom_sii_riskoutline by using using table <code><a href="#topic+sii_z_ex3_plotdetails">sii_z_ex3_plotdetails</a></code>. geom_sii_riskoutline uses other columns in the same table</p>
</td></tr>
<tr><td><code id="stat_sii_risksurface_+3A_...">...</code></td>
<td>
<p>ellipsis, a standard R parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

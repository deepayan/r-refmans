<!DOCTYPE html><html><head><title>Help for package vacuum</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {vacuum}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#vacuum-package'><p>vacuum: Tukey's Vacuum Cleaner</p></a></li>
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#a_qnorm'><p>Returns the typical value from a unit-normal distribution</p></a></li>
<li><a href='#funop'><p>Identifies outliers in a numeric vector</p></a></li>
<li><a href='#funor_funom'><p>Identifies and treats outliers in a two-way table</p></a></li>
<li><a href='#table_1'><p>Table 1</p></a></li>
<li><a href='#table_2'><p>Table 2</p></a></li>
<li><a href='#table_8'><p>Table 8</p></a></li>
<li><a href='#vacuum_cleaner'><p>Returns the residuals of a two-way table after removing systemic effects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tukey's Vacuum Cleaner</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Ron Sielinski</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ron Sielinski &lt;sielinski@hotmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of three procedures developed by 
    John Tukey: FUNOP (FUll NOrmal Plot), FUNOR-FUNOM 
    (FUll NOrmal Rejection-FUll NOrmal Modification), and vacuum cleaner. 
    Combined, they provide a way to identify, treat, and analyze outliers 
    in two-way (i.e., contingency) tables, as described in his 
    landmark paper "The Future of Data Analysis", Tukey, John W. (1962) 
    <a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, ggplot2, knitr, tidyr, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, magrittr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Sielinski/vacuum">https://github.com/Sielinski/vacuum</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Sielinski/vacuum/issues">https://github.com/Sielinski/vacuum/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-09-01 14:13:41 UTC; ronsiel</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-09-08 08:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='vacuum-package'>vacuum: Tukey's Vacuum Cleaner</h2><span id='topic+vacuum'></span><span id='topic+vacuum-package'></span>

<h3>Description</h3>

<p>An implementation of three procedures developed by 
John Tukey: FUNOP (FUll NOrmal Plot), FUNOR-FUNOM 
(FUll NOrmal Rejection-FUll NOrmal Modification), and vacuum cleaner. 
Combined, they provide a way to identify, treat, and analyze outliers 
in two-way (i.e., contingency) tables, as described in his 
landmark paper &quot;The Future of Data Analysis&quot;, Tukey, John W. (1962) 
&lt;https://www.jstor.org/stable/2237638&gt;.
</p>
<p>An implementation of three procedures developed by 
John Tukey: FUNOP (FUll NOrmal Plot), FUNOR-FUNOM 
(FUll NOrmal Rejection-FUll NOrmal Modification), and vacuum cleaner. 
Combined, they provide a way to identify, treat, and analyze outliers 
in two-way (i.e., contingency) tables, as described in his 
landmark paper &quot;The Future of Data Analysis&quot;, Tukey, John W. (1962) 
&lt;https://www.jstor.org/stable/2237638&gt;.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/Sielinski/vacuum">https://github.com/Sielinski/vacuum</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Sielinski/vacuum/issues">https://github.com/Sielinski/vacuum/issues</a>
</p>
</li></ul>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/Sielinski/vacuum">https://github.com/Sielinski/vacuum</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Sielinski/vacuum/issues">https://github.com/Sielinski/vacuum/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='a_qnorm'>Returns the typical value from a unit-normal distribution</h2><span id='topic+a_qnorm'></span>

<h3>Description</h3>

<p>Returns the typical value from a unit-normal distribution for the
<em>i</em>th ordered observation in an <em>n</em>-sized sample.
</p>
<p>This is a helper function for FUNOP, which uses the output of this
function as the denominator for its slope calculation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>a_qnorm(i, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="a_qnorm_+3A_i">i</code></td>
<td>
<p>Non-zero index of an array</p>
</td></tr>
<tr><td><code id="a_qnorm_+3A_n">n</code></td>
<td>
<p>Non-zero length of the array</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Quantile of <code>i</code> from a unit-normal distribution
</p>


<h3>References</h3>

<p>Tukey, John W. &quot;The Future of Data Analysis.&quot;
<em>The Annals of Mathematical Statistics</em>,
<em>33</em>(1), 1962, pp 1-67. <em>JSTOR</em>,
<a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+funop">funop()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a_qnorm(i = 25, n = 42)
a_qnorm(21.5, 42)
</code></pre>

<hr>
<h2 id='funop'>Identifies outliers in a numeric vector</h2><span id='topic+funop'></span>

<h3>Description</h3>

<p>FUNOP stands for FUll NOrmal Plot.
</p>
<p>The procedure identifies outliers by calculating their slope (<code>z</code>),
relative to the vector's median.
</p>
<p>The procedure ignores values in the middle third of the <em>ordered</em>
vector. The remaining values are all candidates for consideration. The
slopes of all candidates are calculated, and the median of their slopes
is used as the primary basis for identifying outliers.
</p>
<p>Any value whose slope is <code>B</code> times larger than the median slope is
identified as an outlier. Additionally, any value whose <em>magnitude</em>
is larger than that of the slope-based outliers is also identified as
an outlier.
</p>
<p>However, the procedure will <em>not</em> identify as outliers any values
within <code>A</code> standard deviations of the vector's median (i.e., not
the median of candidate slopes).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>funop(x, A = 0, B = 1.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="funop_+3A_x">x</code></td>
<td>
<p>Numeric vector to inspect for outliers (does not need to be ordered)</p>
</td></tr>
<tr><td><code id="funop_+3A_a">A</code></td>
<td>
<p>Number of standard deviations beyond the median of <code>x</code></p>
</td></tr>
<tr><td><code id="funop_+3A_b">B</code></td>
<td>
<p>Multiples beyond the median slope of candidate values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing one row for every member of <code>x</code> (in the same
order as <code>x</code>) and the
following columns:
</p>

<ul>
<li> <p><code>y</code>: Original values of vector <code>x</code>
</p>
</li>
<li> <p><code>i</code>: Ordinal position of value <code>y</code> in the sorted vector <code>x</code>
</p>
</li>
<li> <p><code>middle</code>: Boolean indicating whether ordinal position <code>i</code> is in the middle third of the vector
</p>
</li>
<li> <p><code>a</code>: Result of <code>a_qnorm(i, length(x))</code>
</p>
</li>
<li> <p><code>z</code>: Slope of <code>y</code> relative to <code>median(y)</code>
</p>
</li>
<li> <p><code>special</code>: Boolean indicating whether <code>y</code> is an outlier
</p>
</li></ul>



<h3>References</h3>

<p>Tukey, John W. &quot;The Future of Data Analysis.&quot;
<em>The Annals of Mathematical Statistics</em>,
<em>33</em>(1), 1962, pp 1-67. <em>JSTOR</em>,
<a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+a_qnorm">a_qnorm()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>funop(c(1, 2, 3, 11))
funop(table_1)

attr(funop(table_1), 'z_split')
</code></pre>

<hr>
<h2 id='funor_funom'>Identifies and treats outliers in a two-way table</h2><span id='topic+funor_funom'></span>

<h3>Description</h3>

<p>FUNOR-FUNOM stands for FUll NOrmal Rejection-FUll NOrmal Modification.
</p>
<p>The procedure treats a two-way (contingency) table for outliers by
isolating residuals from the table's likely systemic effects, which
are calculated from the table's grand, row, and column means.
</p>
<p>The residuals are passed to separate <em>rejection</em> (FUNOR) and
<em>modification</em> (FUNOM) procedures, which both depend upon FUNOP
to identify outliers. As such, this procedure requires two sets of
<code>A</code> and <code>B</code> parameters.
</p>
<p>The procedure treats outliers by reducing their residuals, resulting
in values that are much closer to their expected values (i.e.,
combined grand, row, and column effects).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>funor_funom(x, A_r = 10, B_r = 1.5, A_m = 0, B_m = 1.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="funor_funom_+3A_x">x</code></td>
<td>
<p>Two-way table to treat for outliers</p>
</td></tr>
<tr><td><code id="funor_funom_+3A_a_r">A_r</code></td>
<td>
<p>A for the FUNOR phase (see FUNOP for details)</p>
</td></tr>
<tr><td><code id="funor_funom_+3A_b_r">B_r</code></td>
<td>
<p>B for the FUNOR phase
slope</p>
</td></tr>
<tr><td><code id="funor_funom_+3A_a_m">A_m</code></td>
<td>
<p>A for the FUNOM phase (<code>A_m</code> is usually 0)</p>
</td></tr>
<tr><td><code id="funor_funom_+3A_b_m">B_m</code></td>
<td>
<p>B for the FUNOM phase</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A two-way table of the same size as <code>x</code>, treated for outliers.
</p>


<h3>References</h3>

<p>Tukey, John W. &quot;The Future of Data Analysis.&quot;
<em>The Annals of Mathematical Statistics</em>,
<em>33</em>(1), 1962, pp 1-67. <em>JSTOR</em>,
<a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+funop">funop()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>funor_funom(table_2)
which(funor_funom(table_2) != table_2)
</code></pre>

<hr>
<h2 id='table_1'>Table 1</h2><span id='topic+table_1'></span>

<h3>Description</h3>

<p>Example data taken from Table 1 of John Tukey's
&quot;Future of Data Analysis.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_1
</code></pre>


<h3>Format</h3>

<p>A numeric vector containing 14 elements.
</p>


<h3>Source</h3>

<p>Tukey, John W. &quot;The Future of Data Analysis.&quot;
<em>The Annals of Mathematical Statistics</em>,
<em>33</em>(1), 1962, pp 1-67. <em>JSTOR</em>,
<a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>table_1
funop(table_1)
</code></pre>

<hr>
<h2 id='table_2'>Table 2</h2><span id='topic+table_2'></span>

<h3>Description</h3>

<p>Example data taken from Table 2 of John Tukey's
&quot;Future of Data Analysis.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_2
</code></pre>


<h3>Format</h3>

<p>A 36x15 numeric matrix.
</p>


<h3>Source</h3>

<p>Tukey, John W. &quot;The Future of Data Analysis.&quot;
<em>The Annals of Mathematical Statistics</em>,
<em>33</em>(1), 1962, pp 1-67. <em>JSTOR</em>,
<a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>table_2
funor_funom(table_2)
</code></pre>

<hr>
<h2 id='table_8'>Table 8</h2><span id='topic+table_8'></span>

<h3>Description</h3>

<p>Example data taken from Table 8 of John Tukey's
&quot;Future of Data Analysis.&quot; Note that this dataset fixes
a typo in the original document: Column 23, row 10 contains
0.100, corrected from the original -0.100.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_8
</code></pre>


<h3>Format</h3>

<p>A 36x15 numeric matrix.
</p>


<h3>Source</h3>

<p>Tukey, John W. &quot;The Future of Data Analysis.&quot;
<em>The Annals of Mathematical Statistics</em>,
<em>33</em>(1), 1962, pp 1-67. <em>JSTOR</em>,
<a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>table_8
vacuum_cleaner(table_8)
</code></pre>

<hr>
<h2 id='vacuum_cleaner'>Returns the residuals of a two-way table after removing systemic effects</h2><span id='topic+vacuum_cleaner'></span>

<h3>Description</h3>

<p>To remove systemic effects from values in a contingency table,
vacuum cleaner uses regression to identify the table's main effect
(dual regression), row effect (deviations of row
regression from dual regression), and column effect (deviations of
column regression from dual regression).
</p>
<p>Regression is performed twice: First on the table's original values,
then on the resulting residuals. The output is a table of residuals
&quot;vacuum cleaned&quot; of likely systemic effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vacuum_cleaner(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vacuum_cleaner_+3A_x">x</code></td>
<td>
<p>Two-way table to analyze (must be 3x3 or greater).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Residuals of <code>x</code>
</p>


<h3>References</h3>

<p>Tukey, John W. &quot;The Future of Data Analysis.&quot;
<em>The Annals of Mathematical Statistics</em>,
<em>33</em>(1), 1962, pp 1-67. <em>JSTOR</em>,
<a href="https://www.jstor.org/stable/2237638">https://www.jstor.org/stable/2237638</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+funop">funop()</a></code>, <code><a href="#topic+funor_funom">funor_funom()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vacuum_cleaner(table_8)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

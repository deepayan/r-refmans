<!DOCTYPE html><html><head><title>Help for package gscounts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gscounts}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_maxinfo'><p>Maximum information</p></a></li>
<li><a href='#add_stopping_prob'><p>Calculate stopping probabilities</p></a></li>
<li><a href='#check_gsnb'><p>Check object of class gsnb</p></a></li>
<li><a href='#design_gsnb'><p>Group sequential design with negative binomial outcomes</p></a></li>
<li><a href='#design_nb'><p>Clinical trials with negative binomial outcomes</p></a></li>
<li><a href='#get_calendartime_gsnb'><p>Calendar time of data looks</p></a></li>
<li><a href='#get_covar'><p>get_covar</p></a></li>
<li><a href='#get_info_gsnb'><p>Information level for log rate ratio</p></a></li>
<li><a href='#get_recruittimes'><p>get_recruittimes</p></a></li>
<li><a href='#gscounts'><p>gscounts</p></a></li>
<li><a href='#hospitalizations'><p>Hospitalizations</p></a></li>
<li><a href='#obrien'><p>obrien</p></a></li>
<li><a href='#pocock'><p>pocock</p></a></li>
<li><a href='#print.gsnb'><p>print.gsnb</p></a></li>
<li><a href='#print.nb'><p>print.nb</p></a></li>
<li><a href='#samplesize_from_followup'><p>samplesize_from_followup</p></a></li>
<li><a href='#samplesize_from_periods'><p>samplesize_from_periods</p></a></li>
<li><a href='#studyperiod_from_recruit'><p>studyperiod_from_recruit</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Group Sequential Designs with Negative Binomial Outcomes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1-4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tobias Mütze &lt;tobias.muetze@outlook.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Design and analysis of group sequential designs for negative
    binomial outcomes, as described by T Mütze, E Glimm, H Schmidli, T Friede (2018) &lt;<a href="https://doi.org/10.1177%2F0962280218773115">doi:10.1177/0962280218773115</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, Rcpp(&ge; 0.12.9)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, MASS, knitr, rmarkdown, dplyr, gsDesign, mvtnorm</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/tobiasmuetze/gscounts">https://github.com/tobiasmuetze/gscounts</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tobiasmuetze/gscounts/issues">https://github.com/tobiasmuetze/gscounts/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-01 16:09:07 UTC; tobiasmuetze</td>
</tr>
<tr>
<td>Author:</td>
<td>Tobias Mütze <a href="https://orcid.org/0000-0002-4111-1941"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-02 08:10:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_maxinfo'>Maximum information</h2><span id='topic+add_maxinfo'></span>

<h3>Description</h3>

<p>Add maximum information and critical values to the object gsnb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_maxinfo(x)
</code></pre>

<hr>
<h2 id='add_stopping_prob'>Calculate stopping probabilities</h2><span id='topic+add_stopping_prob'></span>

<h3>Description</h3>

<p>Calculate analyses specific stopping probabilities and
expected information level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_stopping_prob(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_stopping_prob_+3A_x">x</code></td>
<td>
<p>Object of class gsnb</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class gsnb
</p>

<hr>
<h2 id='check_gsnb'>Check object of class gsnb</h2><span id='topic+check_gsnb'></span>

<h3>Description</h3>

<p>Performs validity checks of object of class gsnb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_gsnb(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_gsnb_+3A_x">x</code></td>
<td>
<p>object of class gsnb</p>
</td></tr>
</table>

<hr>
<h2 id='design_gsnb'>Group sequential design with negative binomial outcomes</h2><span id='topic+design_gsnb'></span>

<h3>Description</h3>

<p>Design a group sequential trial with negative binomial outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>design_gsnb(
  rate1,
  rate2,
  dispersion,
  ratio_H0 = 1,
  random_ratio = 1,
  power,
  sig_level,
  timing,
  esf = obrien,
  esf_futility = NULL,
  futility = NULL,
  t_recruit1 = NULL,
  t_recruit2 = NULL,
  study_period = NULL,
  accrual_period = NULL,
  followup_max = NULL,
  accrual_speed = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="design_gsnb_+3A_rate1">rate1</code></td>
<td>
<p>numeric; assumed rate of treatment group 1 in the alternative</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_rate2">rate2</code></td>
<td>
<p>numeric; assumed rate of treatment group 2 in the alternative</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_dispersion">dispersion</code></td>
<td>
<p>numeric; dispersion (shape) parameter of negative binomial distribution</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_ratio_h0">ratio_H0</code></td>
<td>
<p>numeric; positive number denoting the rate ratio <code class="reqn">\mu_1/\mu_2</code>
under the null hypothesis, i.e. the non-inferiority or superiority margin</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_random_ratio">random_ratio</code></td>
<td>
<p>numeric; randomization ratio n1/n2</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_power">power</code></td>
<td>
<p>numeric; target power of group sequential design</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_sig_level">sig_level</code></td>
<td>
<p>numeric; Type I error / significance level</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_timing">timing</code></td>
<td>
<p>numeric vector; 0 &lt; <code>timing[1]</code> &lt; ... &lt; <code>timing[K]</code> = 1
with <code>K</code> the number of analyses, i.e. (K-1) interim analyses and final analysis.
When the timing of efficacy and futility analyses differ, timing should not be defined.
Instead, the arguments <code>timing_eff</code> and <code>timing_fut</code> have to be used to specify
the timing of the efficacy and futility analyses, respectively.</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_esf">esf</code></td>
<td>
<p>function; error spending function</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_esf_futility">esf_futility</code></td>
<td>
<p>function; futility error spending function</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_futility">futility</code></td>
<td>
<p>character; either <code>"binding"</code>, <code>"nonbinding"</code>, or 
<code>NULL</code> for binding, nonbinding, or no futility boundaries</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_t_recruit1">t_recruit1</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 1</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_t_recruit2">t_recruit2</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 2</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_study_period">study_period</code></td>
<td>
<p>numeric; study duration;
to be set when follow-up times are not identical between subjects, NULL otherwise</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_accrual_period">accrual_period</code></td>
<td>
<p>numeric; accrual period</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_followup_max">followup_max</code></td>
<td>
<p>numeric; maximum exposure time of a subject; 
to be set when follow-up times are to be equal for each subject, NULL otherwise</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_accrual_speed">accrual_speed</code></td>
<td>
<p>numeric; determines accrual speed; values larger than 1
result in accrual slower than linear; values between 0 and 1 result in accrual 
faster than linear.</p>
</td></tr>
<tr><td><code id="design_gsnb_+3A_...">...</code></td>
<td>
<p>further arguments. Will be passed to the error spending function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Denote  <code class="reqn">\mu_1</code> and <code class="reqn">\mu_2</code> the event rates in treatment groups 1 and 2.
This function considers smaller event rates to be better. 
The statistical hypothesis testing problem of interest is 
</p>
<p style="text-align: center;"><code class="reqn">H_0: \frac{\mu_1}{\mu_2} \ge \delta  vs.  H_1: \frac{\mu_1}{\mu_2} &lt; \delta,</code>
</p>

<p>with <code class="reqn">\delta=</code><code>ratio_H0</code>.
Non-inferiority of treatment group 1 compared to treatment group 2 is tested for <code class="reqn">\delta\in (1,\infty)</code>.
Superiority of treatment group 1 over treatment group 2 is tested for <code class="reqn">\delta \in (0,1]</code>.
The calculation of the efficacy and (non-)binding futility boundaries are performed
under the hypothesis <code class="reqn">H_0: \frac{\mu_1}{\mu_2}= \delta</code> and 
under the alternative <code class="reqn">H_1: \frac{\mu_1}{\mu_2} = </code><code>rate1</code> / <code>rate2</code>.
</p>
<p>The argument 'accrual_speed' is used to adjust the accrual speed.
Number of subjects in the study at study time t is given by
<code class="reqn">f(t)=a * t^b</code> with  <code class="reqn">a = n / accrual_period</code> and <code class="reqn">b=accrual_speed</code>  
For linear recruitment, <code class="reqn">b=1</code>. 
<code class="reqn">b &gt; 1</code> results is slower than linear recruitment for <code class="reqn">t &lt; accrual_period</code> and 
faster than linear recruitment for <code class="reqn">t &gt; accrual_period</code>. Vice verse for <code class="reqn">b &lt; 1</code>.
</p>


<h3>Value</h3>

<p>A list with class &quot;gsnb&quot; containing the following components:
</p>
<table>
<tr><td><code>rate1</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>rate2</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>dispersion</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>timing</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>ratio_H0</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>ratio_H1</code></td>
<td>
<p>ratio <code>rate1</code>/<code>rate2</code></p>
</td></tr>
<tr><td><code>sig_level</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>random_ratio</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>power_fix</code></td>
<td>
<p>power of fixed design</p>
</td></tr>
<tr><td><code>expected_info</code></td>
<td>
<p>list; expected information under <code>ratio_H0</code> and <code>ratio_H1</code></p>
</td></tr>
<tr><td><code>efficacy</code></td>
<td>
<p>list; contains the elements <code>esf</code> (type I error spending function), 
<code>spend</code> (type I error spend at each look), and 
<code>critical</code> (critical value for efficacy testing)</p>
</td></tr>
<tr><td><code>futility</code></td>
<td>
<p>list; only part of the output if argument <code>futility</code> is
defined in the input. Contains the elements <code>futility</code> 
(input argument <code>futility</code>), <code>esf</code> 
(type II error spending function), <code>spend</code> (type II 
error spend at each look), and <code>critical</code> (critical 
value for futility testing)</p>
</td></tr>
<tr><td><code>stop_prob</code></td>
<td>
<p>list; contains the element <code>efficacy</code> with the probabilities
for stopping for efficacy and, if futility bounds are calculated, 
the element <code>futility</code> with the probabilities for stopping 
for futility</p>
</td></tr>               
<tr><td><code>t_recruit1</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>t_recruit2</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>study_period</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>followup_max</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>max_info</code></td>
<td>
<p>maximum information</p>
</td></tr>
<tr><td><code>calendar</code></td>
<td>
<p>calendar times of data looks; only calculated when exposure times are not identical</p>
</td></tr>
</table>


<h3>References</h3>

<p>Mütze, T., Glimm, E., Schmidli, H., &amp; Friede, T. (2018). 
Group sequential designs for negative binomial outcomes. 
Statistical Methods in Medical Research,  &lt;doi:10.1177/0962280218773115&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate the sample sizes for a given accrual period and study period (without futility)
out &lt;- design_gsnb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, 
                   power = 0.8, timing = c(0.5, 1), esf = obrien,
                   ratio_H0 = 1, sig_level = 0.025,
                   study_period = 3.5, accrual_period = 1.25, random_ratio = 1)
out

# Calculate the sample sizes for a given accrual period and study period with binding futility
out &lt;- design_gsnb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, 
                   power = 0.8, timing = c(0.5, 1), esf = obrien,
                   ratio_H0 = 1, sig_level = 0.025, study_period = 3.5, 
                   accrual_period = 1.25, random_ratio = 1, futility = "binding", 
                   esf_futility = obrien)
out


# Calculate study period for given recruitment times
expose &lt;- seq(0, 1.25, length.out = 1042)
out &lt;- design_gsnb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, 
                   power = 0.8, timing = c(0.5, 1), esf = obrien,
                   ratio_H0 = 1, sig_level = 0.025, t_recruit1 = expose, 
                   t_recruit2 = expose, random_ratio = 1)
out

# Calculate sample size for a fixed exposure time
out &lt;- design_gsnb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, 
                   power = 0.8, timing = c(0.5, 1), esf = obrien,
                   ratio_H0 = 1, sig_level = 0.025,
                   followup_max = 0.5, random_ratio = 1)
                   
# Different timing for efficacy and futility analyses
 design_gsnb(rate1 = 1, rate2 = 2, dispersion = 5,
             power = 0.8, esf = obrien,
             ratio_H0 = 1, sig_level = 0.025, study_period = 3.5,
             accrual_period = 1.25, random_ratio = 1, futility = "binding",
             esf_futility = pocock, 
             timing_eff = c(0.8, 1),
             timing_fut = c(0.2, 0.5, 1))                    
</code></pre>

<hr>
<h2 id='design_nb'>Clinical trials with negative binomial outcomes</h2><span id='topic+design_nb'></span>

<h3>Description</h3>

<p>Design a clinical trial with negative binomial outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>design_nb(
  rate1,
  rate2,
  dispersion,
  power,
  ratio_H0 = 1,
  sig_level,
  random_ratio = 1,
  t_recruit1 = NULL,
  t_recruit2 = NULL,
  study_period = NULL,
  accrual_period = NULL,
  followup_max = NULL,
  accrual_speed = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="design_nb_+3A_rate1">rate1</code></td>
<td>
<p>numeric; assumed rate of treatment group 1 in the alternative</p>
</td></tr>
<tr><td><code id="design_nb_+3A_rate2">rate2</code></td>
<td>
<p>numeric; assumed rate of treatment group 2 in the alternative</p>
</td></tr>
<tr><td><code id="design_nb_+3A_dispersion">dispersion</code></td>
<td>
<p>numeric; dispersion (shape) parameter of negative binomial distribution</p>
</td></tr>
<tr><td><code id="design_nb_+3A_power">power</code></td>
<td>
<p>numeric; target power</p>
</td></tr>
<tr><td><code id="design_nb_+3A_ratio_h0">ratio_H0</code></td>
<td>
<p>numeric; positive number denoting the rate ratio rate_1/rate_2
under the null hypothesis, i.e. the non-inferiority or superiority margin</p>
</td></tr>
<tr><td><code id="design_nb_+3A_sig_level">sig_level</code></td>
<td>
<p>numeric; Type I error / significance level</p>
</td></tr>
<tr><td><code id="design_nb_+3A_random_ratio">random_ratio</code></td>
<td>
<p>numeric; randomization ratio n1/n2</p>
</td></tr>
<tr><td><code id="design_nb_+3A_t_recruit1">t_recruit1</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 1</p>
</td></tr>
<tr><td><code id="design_nb_+3A_t_recruit2">t_recruit2</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 2</p>
</td></tr>
<tr><td><code id="design_nb_+3A_study_period">study_period</code></td>
<td>
<p>numeric; study duration</p>
</td></tr>
<tr><td><code id="design_nb_+3A_accrual_period">accrual_period</code></td>
<td>
<p>numeric; accrual period</p>
</td></tr>
<tr><td><code id="design_nb_+3A_followup_max">followup_max</code></td>
<td>
<p>numeric; maximum exposure time of a patient</p>
</td></tr>
<tr><td><code id="design_nb_+3A_accrual_speed">accrual_speed</code></td>
<td>
<p>numeric; determines accrual speed; values larger than 1
result in accrual slower than linear; values between 0 and 1 result in accrual 
faster than linear.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following components:
</p>
<table>
<tr><td><code>rate1</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>rate2</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>dispersion</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>ratio_H0</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>ratio_H1</code></td>
<td>
<p>ratio <code>rate1</code>/<code>rate2</code></p>
</td></tr>
<tr><td><code>sig_level</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>random_ratio</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>t_recruit1</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>t_recruit2</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>study_period</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>followup_max</code></td>
<td>
<p>as input</p>
</td></tr>
<tr><td><code>max_info</code></td>
<td>
<p>maximum information</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate sample size for given accrual period and study duration assuming uniformal accrual
out &lt;- design_nb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, power = 0.8,
                 ratio_H0 = 1, sig_level = 0.025,
                 study_period = 4, accrual_period = 1, random_ratio = 2)
out

# Calculate sample size for a fixed exposure time of 0.5 years
out &lt;- design_nb(rate1 = 4.2, rate2 = 8.4, dispersion = 3, power = 0.8,
                 ratio_H0 = 1, sig_level = 0.025,
                 followup_max = 0.5, random_ratio = 2)
out

# Calculate study period for given recruitment time
t_recruit1 &lt;- seq(0, 1.25, length.out = 1200)
t_recruit2 &lt;- seq(0, 1.25, length.out = 800)
out &lt;- design_nb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, power = 0.8,
                 ratio_H0 = 1, sig_level = 0.025,
                 t_recruit1 = t_recruit1, t_recruit2 = t_recruit2)
</code></pre>

<hr>
<h2 id='get_calendartime_gsnb'>Calendar time of data looks</h2><span id='topic+get_calendartime_gsnb'></span>

<h3>Description</h3>

<p>Calculate the calendar time of looks given the information time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_calendartime_gsnb(
  rate1,
  rate2,
  dispersion,
  t_recruit1,
  t_recruit2,
  timing,
  followup1,
  followup2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_calendartime_gsnb_+3A_rate1">rate1</code></td>
<td>
<p>numeric; rate in treatment group 1</p>
</td></tr>
<tr><td><code id="get_calendartime_gsnb_+3A_rate2">rate2</code></td>
<td>
<p>numeric; rate in treatment group 2</p>
</td></tr>
<tr><td><code id="get_calendartime_gsnb_+3A_dispersion">dispersion</code></td>
<td>
<p>numeric; dispersion (shape) parameter of negative binomial distribution</p>
</td></tr>
<tr><td><code id="get_calendartime_gsnb_+3A_t_recruit1">t_recruit1</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 1</p>
</td></tr>
<tr><td><code id="get_calendartime_gsnb_+3A_t_recruit2">t_recruit2</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 2</p>
</td></tr>
<tr><td><code id="get_calendartime_gsnb_+3A_timing">timing</code></td>
<td>
<p>numeric vector with entries in (0,1]; information times of data looks</p>
</td></tr>
<tr><td><code id="get_calendartime_gsnb_+3A_followup1">followup1</code></td>
<td>
<p>numeric vector; final individual follow-up times in treatment group 1</p>
</td></tr>
<tr><td><code id="get_calendartime_gsnb_+3A_followup2">followup2</code></td>
<td>
<p>numeric vector; final individual follow-up times in treatment group 2</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric; vector with calendar time of data looks
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calendar time at which 50%, 75%, and 100% of the maximum information is attained
# 100 subjects in each group are recruited uniformly over 1.5 years
# Study ends after two years, i.e. follow-up times vary between 2 and 0.5 years 
get_calendartime_gsnb(rate1 = 0.1, 
                      rate2 = 0.125, 
                      dispersion = 5, 
                      t_recruit1 = seq(0, 1.5, length.out = 100), 
                      t_recruit2 = seq(0, 1.5, length.out = 100),
                      timing = c(0.5, 0.75, 1),
                      followup1 = seq(2, 0.5, length.out = 100),
                      followup2 = seq(2, 0.5, length.out = 100)) 
</code></pre>

<hr>
<h2 id='get_covar'>get_covar</h2><span id='topic+get_covar'></span>

<h3>Description</h3>

<p>Get canonical form covariance matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_covar(timing)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_covar_+3A_timing">timing</code></td>
<td>
<p>numeric vector; 0 &lt; <code>timing[1]</code> &lt; ... &lt; <code>timing[k]</code></p>
</td></tr>
</table>

<hr>
<h2 id='get_info_gsnb'>Information level for log rate ratio</h2><span id='topic+get_info_gsnb'></span>

<h3>Description</h3>

<p>Calculates the information level for the log rate ratio of
the negative binomial model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_info_gsnb(rate1, rate2, dispersion, followup1, followup2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_info_gsnb_+3A_rate1">rate1</code></td>
<td>
<p>numeric; rate in treatment group 1</p>
</td></tr>
<tr><td><code id="get_info_gsnb_+3A_rate2">rate2</code></td>
<td>
<p>numeric; rate in treatment group 2</p>
</td></tr>
<tr><td><code id="get_info_gsnb_+3A_dispersion">dispersion</code></td>
<td>
<p>numeric; dispersion (shape) parameter of negative binomial distribution</p>
</td></tr>
<tr><td><code id="get_info_gsnb_+3A_followup1">followup1</code></td>
<td>
<p>numeric vector; individual follow-up times in treatment group 1</p>
</td></tr>
<tr><td><code id="get_info_gsnb_+3A_followup2">followup2</code></td>
<td>
<p>numeric vector; individual follow-up times in treatment group 2</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric; information level
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculates information level for case of 10 subjects per group
# Follow-up times of subjects in each group range from 1 to 3
get_info_gsnb(rate1 = 0.1,
              rate2 = 0.125,
              dispersion = 4, 
              followup1 = seq(1, 3, length.out = 10), 
              followup2 = seq(1, 3, length.out = 10))
</code></pre>

<hr>
<h2 id='get_recruittimes'>get_recruittimes</h2><span id='topic+get_recruittimes'></span>

<h3>Description</h3>

<p>Calculate the times subjects enter the study
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_recruittimes(accrual_period, n, accrual_exponent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_recruittimes_+3A_accrual_period">accrual_period</code></td>
<td>
<p>numeric; duration of accrual period. Must be positive.</p>
</td></tr>
<tr><td><code id="get_recruittimes_+3A_n">n</code></td>
<td>
<p>numeric; number of subjects recruited at end of accrual period.</p>
</td></tr>
<tr><td><code id="get_recruittimes_+3A_accrual_exponent">accrual_exponent</code></td>
<td>
<p>numeric; exponent in sample size function <code class="reqn">f(t)</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Number of subjects in the study at study time t is given by
f(t)=a * t^b with  a = n / accrual_period.
For linear recruitment, b=1. 
b &gt; 1 results is slower than linear recruitment for t &lt; accrual_period and 
faster than linear recruitment for t &gt; accrual_period. b &lt; 1 vice versa.
</p>

<hr>
<h2 id='gscounts'>gscounts</h2><span id='topic+gscounts'></span>

<h3>Description</h3>

<p>Design and monitoring of group sequential designs with negative binomial data.
</p>


<h3>Author(s)</h3>

<p>Tobias Muetze &lt;tobias.muetze@outlook.com&gt;
</p>

<hr>
<h2 id='hospitalizations'>Hospitalizations</h2><span id='topic+hospitalizations'></span>

<h3>Description</h3>

<p>A dataset containing the hospitalization times of 1980 patients:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(hospitalizations)
</code></pre>


<h3>Format</h3>

<p>A data frame with 2323 rows and 4 variables
</p>


<h3>Details</h3>


<ul>
<li><p> treatment. Treatment identifier. 
</p>
</li>
<li><p> pat. Patient identifier. Unique within <code>treatment</code>
</p>
</li>
<li><p> t_recruit. Recruitment time of patient into the clinical trial.
</p>
</li>
<li><p> eventtime. Event time of hospitalization. <code>NA</code> corresponds to no event.
</p>
</li></ul>


<hr>
<h2 id='obrien'>obrien</h2><span id='topic+obrien'></span>

<h3>Description</h3>

<p>Error spending function mimicking O'Brien &amp; Fleming critical values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>obrien(t, sig_level, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obrien_+3A_t">t</code></td>
<td>
<p>numeric; Non-negative information ratio</p>
</td></tr>
<tr><td><code id="obrien_+3A_sig_level">sig_level</code></td>
<td>
<p>numeric; significance level</p>
</td></tr>
<tr><td><code id="obrien_+3A_...">...</code></td>
<td>
<p>optional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>


<h3>Examples</h3>

<pre><code class='language-R'># O'Brien-Fleming-type error spending function
obrien(t = c(0.5, 1), sig_level = 0.025)
</code></pre>

<hr>
<h2 id='pocock'>pocock</h2><span id='topic+pocock'></span>

<h3>Description</h3>

<p>Error spending function mimicking Pococks critical values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pocock(t, sig_level, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pocock_+3A_t">t</code></td>
<td>
<p>numeric; Non-negative information ratio</p>
</td></tr>
<tr><td><code id="pocock_+3A_sig_level">sig_level</code></td>
<td>
<p>numeric; significance level</p>
</td></tr>
<tr><td><code id="pocock_+3A_...">...</code></td>
<td>
<p>optional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pocock-type error spending function
pocock(t = c(0.5, 1), sig_level = 0.025)
</code></pre>

<hr>
<h2 id='print.gsnb'>print.gsnb</h2><span id='topic+print.gsnb'></span>

<h3>Description</h3>

<p>print method for instance of class gsnb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gsnb'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.gsnb_+3A_x">x</code></td>
<td>
<p>an object of class gsnb</p>
</td></tr>
<tr><td><code id="print.gsnb_+3A_...">...</code></td>
<td>
<p>optional arguments to print or plot methods</p>
</td></tr>
</table>

<hr>
<h2 id='print.nb'>print.nb</h2><span id='topic+print.nb'></span>

<h3>Description</h3>

<p>print method for instance of class nb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'nb'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.nb_+3A_x">x</code></td>
<td>
<p>an object of class nb</p>
</td></tr>
<tr><td><code id="print.nb_+3A_...">...</code></td>
<td>
<p>optional arguments to print or plot methods</p>
</td></tr>
</table>

<hr>
<h2 id='samplesize_from_followup'>samplesize_from_followup</h2><span id='topic+samplesize_from_followup'></span>

<h3>Description</h3>

<p>Determine the sample size from a given follow-up time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>samplesize_from_followup(
  max_info,
  random_ratio,
  rate1,
  rate2,
  shape,
  followup_max
)
</code></pre>

<hr>
<h2 id='samplesize_from_periods'>samplesize_from_periods</h2><span id='topic+samplesize_from_periods'></span>

<h3>Description</h3>

<p>Determine the total sample size for given accrual and study period
</p>


<h3>Usage</h3>

<pre><code class='language-R'>samplesize_from_periods(
  max_info,
  accrual_period,
  study_period,
  random_ratio,
  rate1,
  rate2,
  shape,
  accrual_speed
)
</code></pre>

<hr>
<h2 id='studyperiod_from_recruit'>studyperiod_from_recruit</h2><span id='topic+studyperiod_from_recruit'></span>

<h3>Description</h3>

<p>Determine the study period for given recruitment times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>studyperiod_from_recruit(
  max_info,
  random_ratio,
  rate1,
  rate2,
  shape,
  t_recruit1,
  t_recruit2
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

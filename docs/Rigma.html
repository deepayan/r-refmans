<!DOCTYPE html><html><head><title>Help for package Rigma</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rigma}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#add_color'><p>Add color to design table data</p></a></li>
<li><a href='#as_design_tibble'><p>Transform data to tabular format</p></a></li>
<li><a href='#delete_comment'><p>DELETE comments</p></a></li>
<li><a href='#delete_comment_reactions'><p>DELETE comment reactions</p></a></li>
<li><a href='#extract_bslib_palette'><p>Extract bslib palette</p></a></li>
<li><a href='#get_comments'><p>GET comments</p></a></li>
<li><a href='#get_comments_reactions'><p>GET comments reactions</p></a></li>
<li><a href='#get_component'><p>GET component</p></a></li>
<li><a href='#get_component_sets'><p>GET component set</p></a></li>
<li><a href='#get_file'><p>GET file</p></a></li>
<li><a href='#get_file_component_sets'><p>GET file component sets</p></a></li>
<li><a href='#get_file_components'><p>GET file components</p></a></li>
<li><a href='#get_file_nodes'><p>GET file nodes</p></a></li>
<li><a href='#get_file_styles'><p>GET file styles</p></a></li>
<li><a href='#get_file_versions'><p>GET file versions</p></a></li>
<li><a href='#get_image'><p>GET image</p></a></li>
<li><a href='#get_image_fills'><p>GET image fills</p></a></li>
<li><a href='#get_project_files'><p>GET project files</p></a></li>
<li><a href='#get_team_component_sets'><p>GET team component sets</p></a></li>
<li><a href='#get_team_components'><p>GET team components</p></a></li>
<li><a href='#get_team_projects'><p>GET team projects</p></a></li>
<li><a href='#get_team_styles'><p>GET team styles</p></a></li>
<li><a href='#possibly_thumbnail_color'><p>Possibly extract thumbnail color</p></a></li>
<li><a href='#post_comment'><p>POST comment</p></a></li>
<li><a href='#post_comment_reactions'><p>POST comment reactions</p></a></li>
<li><a href='#req_rigma_agent'><p>Add metadata to Rigma request</p></a></li>
<li><a href='#safe_download'><p>Safe download files</p></a></li>
<li><a href='#text_data_from_styles'><p>Get text data from styles</p></a></li>
<li><a href='#thumbnail_color'><p>Find thumbnail color</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access to the 'Figma' API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexandros Kouretsis &lt;alexandros@appsilon.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The goal of Rigma is to provide a user friendly client to the 'Figma'
 API <a href="https://www.figma.com/developers/api">https://www.figma.com/developers/api</a>. It uses the latest &lsquo;httr2' for a 
 stable interface with the REST API. More than 20 methods are provided to 
 interact with &rsquo;Figma' files, and teams. Get design data into R by reading 
 published components and styles, converting and downloading images, getting 
 access to the full 'Figma' file as a hierarchical data structure, and much 
 more. Enhance your creativity and streamline the application development by
 automating the extraction, transformation, and loading of design data to your 
 applications and 'HTML' documents.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/AleKoure/Rigma">https://github.com/AleKoure/Rigma</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>bslib, checkmate, dplyr, fs, glue, httr2, lubridate, magrittr,
png, purrr, rlang, tibble, tidyr, withr, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, httptest2, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-26 21:42:59 UTC; ale</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexandros Kouretsis [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-27 22:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='add_color'>Add color to design table data</h2><span id='topic+add_color'></span>

<h3>Description</h3>

<p>Extracts color for design data collected from the Figma API.
Can convert to hex. Infered color data are added in a new column named
as 'color'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_color(design_tibble, hex = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_color_+3A_design_tibble">design_tibble</code></td>
<td>
<p>Tabular data to be augmented with color colomn.</p>
</td></tr>
<tr><td><code id="add_color_+3A_hex">hex</code></td>
<td>
<p>logical. If 'TRUE' hex data are added to 'color' column else
nested data for 'RGBA' channels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Adds color column to 'design_tibble' data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
resp &lt;- get_file_styles(file_key) %&gt;%
  as_design_tibble() %&gt;%
  add_color()

## End(Not run)

</code></pre>

<hr>
<h2 id='as_design_tibble'>Transform data to tabular format</h2><span id='topic+as_design_tibble'></span>

<h3>Description</h3>

<p>Transforms data returned from a Figma API request to tabular
format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_design_tibble(rigma_resp, message = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_design_tibble_+3A_rigma_resp">rigma_resp</code></td>
<td>
<p>A response object from Figma API.</p>
</td></tr>
<tr><td><code id="as_design_tibble_+3A_message">message</code></td>
<td>
<p>logical. Control printing of messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble data extracted from Figma response objects. Subclasses
of type 'design_tibble' are added to the resulting tibbles.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
resp &lt;- get_file_styles(file_key = file_key)
as_design_tibble(resp)

## End(Not run)

</code></pre>

<hr>
<h2 id='delete_comment'>DELETE comments</h2><span id='topic+delete_comment'></span>

<h3>Description</h3>

<p>Deletes a specific comment. Only the person who made the
comment is allowed to delete it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_comment(file_key, comment_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_comment_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="delete_comment_+3A_comment_id">comment_id</code></td>
<td>
<p>string. The comment id.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_delete_comment'. Contains the parsed
JSON response with fields 'error', 'status', and 'i18n'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
first_comment_id &lt;- get_comments(file_key)$comments[[1]]$id
delete_comment(file_key, first_comment_id)

## End(Not run)

</code></pre>

<hr>
<h2 id='delete_comment_reactions'>DELETE comment reactions</h2><span id='topic+delete_comment_reactions'></span>

<h3>Description</h3>

<p>Removes a particular comment reaction. The only person with
the ability to delete a comment reaction is the original poster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_comment_reactions(file_key, comment_id, emoji)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_comment_reactions_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="delete_comment_reactions_+3A_comment_id">comment_id</code></td>
<td>
<p>string. Comment id of comment to delete reaction from.</p>
</td></tr>
<tr><td><code id="delete_comment_reactions_+3A_emoji">emoji</code></td>
<td>
<p>string. The emoji type of reaction to delete as a string enum
:eyes:, :heart_eyes:, :heavy_plus_sign:, :+1:, :-1:, :joy: and :fire:</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_delete_comment_reactions'. Contains the parsed
JSON response with fields 'error', 'status', and 'i18n'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
first_comment_id &lt;- get_comments(file_key)$comments[[1]]$id
delete_comment_reactions(file_key, first_comment_id, ":eyes:")

## End(Not run)

</code></pre>

<hr>
<h2 id='extract_bslib_palette'>Extract bslib palette</h2><span id='topic+extract_bslib_palette'></span>

<h3>Description</h3>

<p>Extract bslib palette
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_bslib_palette(design_tibble, version = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_bslib_palette_+3A_design_tibble">design_tibble</code></td>
<td>
<p>A design_tibble returned bu the 'add_color()' function</p>
</td></tr>
<tr><td><code id="extract_bslib_palette_+3A_version">version</code></td>
<td>
<p>Bootstrap version to use for extracting color variables</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function filters for bslib high level color variables published
as styles of a Figma file and/or team. The color should be extracted and
added as a variable to the retrieved data.
</p>


<h3>Value</h3>

<p>List with colors used in high level variables of 'bs_theme()'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
file_key %&gt;%
  get_file_styles() %&gt;%
  as_design_tibble() %&gt;%
  add_color() %&gt;%
  extract_bslib_palette()

## End(Not run)

</code></pre>

<hr>
<h2 id='get_comments'>GET comments</h2><span id='topic+get_comments'></span>

<h3>Description</h3>

<p>Gets a list of comments left on the file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_comments(file_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_comments_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_comments'. Contains the parsed
JSON response.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
get_comments(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_comments_reactions'>GET comments reactions</h2><span id='topic+get_comments_reactions'></span>

<h3>Description</h3>

<p>Obtains a paginated list of the comments' reactions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_comments_reactions(file_key, comment_id, cursor = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_comments_reactions_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="get_comments_reactions_+3A_comment_id">comment_id</code></td>
<td>
<p>string. The comment id.</p>
</td></tr>
<tr><td><code id="get_comments_reactions_+3A_cursor">cursor</code></td>
<td>
<p>string obtained from the result of the previous request, a
cursor for pagination.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_comments_reactions'. Contains the parsed
JSON response with fields 'reactions', and 'pagination'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
resp &lt;- get_comments(file_key)
resp_reactions &lt;- get_comments_reactions(file_key, resp$comments[[1]]$id)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_component'>GET component</h2><span id='topic+get_component'></span>

<h3>Description</h3>

<p>Get metadata on a component by key. To publish components join
a Figma team and subscribe for professional account.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_component(key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_component_+3A_key">key</code></td>
<td>
<p>string. The unique identifier of the component.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_component'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
component_key &lt;- "my_key"
get_component(component_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_component_sets'>GET component set</h2><span id='topic+get_component_sets'></span>

<h3>Description</h3>

<p>Get metadata on a component_set by key. To publish components
join a Figma team and subscribe for professional account.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_component_sets(key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_component_sets_+3A_key">key</code></td>
<td>
<p>string. The unique identifier of the component.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_component_set'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
component_key &lt;- "my_key"
get_component_sets(component_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_file'>GET file</h2><span id='topic+get_file'></span>

<h3>Description</h3>

<p>Direct access to the desired  file is made available using
the GET file API endpoint. It returns a JSON object representing the file
pointed to by:key. Any Figma file url, such as
https://www.figma.com/file/:key/:title, can be used to parse the file key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_file(
  file_key,
  version = NULL,
  ids = NULL,
  depth = NULL,
  geometry = NULL,
  plugin_data = NULL,
  branch_data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_file_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="get_file_+3A_version">version</code></td>
<td>
<p>string. A certain version ID to obtain. By omitting this,
you'll obtain the file's most recent version.</p>
</td></tr>
<tr><td><code id="get_file_+3A_ids">ids</code></td>
<td>
<p>string. list the document's nodes that are important to you,
separated by commas. If supplied, only the nodes listed, their children,
and everything between the root node and the listed nodes will be returned
as part of the document.</p>
</td></tr>
<tr><td><code id="get_file_+3A_depth">depth</code></td>
<td>
<p>integer. A positive number indicating the depth of the
traversal across the document tree. For instance, changing this to 2
returns both Pages and all top level objects on each page instead of just
returning Pages. All nodes are returned if this argument is not set.</p>
</td></tr>
<tr><td><code id="get_file_+3A_geometry">geometry</code></td>
<td>
<p>string. To export vector data, set equal to &quot;paths&quot;.</p>
</td></tr>
<tr><td><code id="get_file_+3A_plugin_data">plugin_data</code></td>
<td>
<p>string. A list of plugin IDs separated by commas or the
word &quot;shared.&quot; The result's 'pluginData' and 'sharedPluginData' attributes
will contain any data existing in the document created by those plugins.</p>
</td></tr>
<tr><td><code id="get_file_+3A_branch_data">branch_data</code></td>
<td>
<p>boolean. The requested file's branch metadata is returned.
If the file is a branch, the returned response will also provide the key for
the main file. If the file has branches, the response will also contain the
metadata for those branches. Standard: false.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'figma_file_resp'. Contains the parsed content,
the path, and the API response compatible with 'httr2' methods. The
retrieved file's metadata includes the 'name', 'lastModified',
'thumbnailUrl', 'editorType', 'linkAccess', and 'version attributes'. A Node
with the DOCUMENT type is present in the document attribute.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
get_file(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_file_component_sets'>GET file component sets</h2><span id='topic+get_file_component_sets'></span>

<h3>Description</h3>

<p>Get a list of published component_sets within a file library.
Note that published components are only available via the professional
plan.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_file_component_sets(file_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_file_component_sets_+3A_file_key">file_key</code></td>
<td>
<p>string. Id of the team to list components from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_file_component_sets'. Components are
stored in the 'meta' field.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to team page and get id from url
file_key &lt;- "gYRjH0y8ZM0VtEfO8kf6ch"
get_file_component_sets(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_file_components'>GET file components</h2><span id='topic+get_file_components'></span>

<h3>Description</h3>

<p>Get a list of published components within a file library.
Note that published components are only available via the professional
plan.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_file_components(file_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_file_components_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_file_components'. Components are
stored in the 'meta' field.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to team page and get id from url
file_key &lt;- "gYRjH0y8ZM0VtEfO8kf6ch"
get_file_components(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_file_nodes'>GET file nodes</h2><span id='topic+get_file_nodes'></span>

<h3>Description</h3>

<p>Returns a JSON object containing the nodes referenced by
':ids'. The Figma file referred to by ':key' is where the nodes are located.
The node Id and file key can be parsed from any Figma node url:
https://www.figma.com/file/:key/:title?node-id=:id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_file_nodes(
  file_key,
  ids = NULL,
  version = NULL,
  depth = NULL,
  geometry = NULL,
  plugin_data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_file_nodes_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="get_file_nodes_+3A_ids">ids</code></td>
<td>
<p>character. Vector with the document's node ids that are important
to you. If supplied, only the nodes listed, their children,
and everything between the root node and the listed nodes will be returned
as part of the document.</p>
</td></tr>
<tr><td><code id="get_file_nodes_+3A_version">version</code></td>
<td>
<p>string. A certain version ID to obtain. By omitting this,
you'll obtain the file's most recent version.</p>
</td></tr>
<tr><td><code id="get_file_nodes_+3A_depth">depth</code></td>
<td>
<p>integer. A positive number indicating the depth of the
traversal across the document tree. For instance, changing this to 2
returns both Pages and all top level objects on each page instead of just
returning Pages. All nodes are returned if this argument is not set.</p>
</td></tr>
<tr><td><code id="get_file_nodes_+3A_geometry">geometry</code></td>
<td>
<p>string. To export vector data, set equal to &quot;paths&quot;.</p>
</td></tr>
<tr><td><code id="get_file_nodes_+3A_plugin_data">plugin_data</code></td>
<td>
<p>string. A list of plugin IDs separated by commas or the
word &quot;shared.&quot; The result's 'pluginData' and 'sharedPluginData' attributes
will contain any data existing in the document created by those plugins.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of the type 'rigma_get_file_nodes'.
</p>
<p>The supplied file's metadata includes the 'name', 'lastModified',
'thumbnailUrl', 'editorType', and 'version' attributes.
</p>
<p>The file link share permission level is described in the 'linkAccess' field.
A shared link may have one of five different permissions: &quot;inherit,&quot; &quot;view,&quot;
&quot;edit,&quot; &quot;org view,&quot; and &quot;org edit.&quot; The default permission for files
produced in a team project is &quot;inherit,&quot; and those files will take on the
project's rights by default. &quot;org view&quot; and &quot;org edit&quot; only allow org users
to access the link.
</p>
<p>Each node has the ability to inherit properties from applicable styles. A
mapping from style IDs to style metadata is contained in the 'styles' key.
</p>
<p>It's important to note that the nodes field is a list that can include null
values. This can be because the provided file does not contain a node with
the specified id.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
get_file_nodes(file_key, ids = "0:0")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_file_styles'>GET file styles</h2><span id='topic+get_file_styles'></span>

<h3>Description</h3>

<p>Get published styles in a file library by name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_file_styles(file_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_file_styles_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_file_styles'. Styles are
stored in the 'meta' field.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to team page and get id from url
file_key &lt;- "gYRjH0y8ZM0VtEfO8kf6ch"
get_file_styles(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_file_versions'>GET file versions</h2><span id='topic+get_file_versions'></span>

<h3>Description</h3>

<p>A list of the versions of a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_file_versions(file_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_file_versions_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_file_versions'. Contains the parsed
JSON response with fields 'versions', and 'pagination'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
get_file_versions(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_image'>GET image</h2><span id='topic+get_image'></span>

<h3>Description</h3>

<p>If there are no errors, &quot;images&quot; will be filled with a list of
node IDs and their corresponding URLs for the displayed images, and &quot;status&quot;
will be left empty. After 30 days, the picture assets will stop working.
</p>
<p>It's important to note that the picture map could include null values. This
suggests that the node's attempt to render has failed. The lack of a node
id or other factors, such as the absence of renderable components, may be
responsible. Whether or not the render was successful, it is assured that
any node that was requested for rendering will be represented in this map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_image(
  file_key,
  ids,
  scale = NULL,
  format = NULL,
  svg_include_id = NULL,
  svg_simplify_stroke = NULL,
  use_absolute_bounds = NULL,
  version = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_image_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="get_image_+3A_ids">ids</code></td>
<td>
<p>string. A comma separated list of node IDs to render</p>
</td></tr>
<tr><td><code id="get_image_+3A_scale">scale</code></td>
<td>
<p>numeric. The image scaling factor is a number between 0.01 and
4</p>
</td></tr>
<tr><td><code id="get_image_+3A_format">format</code></td>
<td>
<p>string. A string enum for the image output format, can be
&quot;jpg&quot;, &quot;png&quot;, &quot;svg&quot;, or &quot;pdf&quot;</p>
</td></tr>
<tr><td><code id="get_image_+3A_svg_include_id">svg_include_id</code></td>
<td>
<p>logical. Whether or not to give each SVG element an
id attribute. Standard: 'FALSE'</p>
</td></tr>
<tr><td><code id="get_image_+3A_svg_simplify_stroke">svg_simplify_stroke</code></td>
<td>
<p>logical. Whether to simplify inside/outside
strokes and use stroke attribute if possible instead of &lt;mask&gt;.
Default:  'TRUE'.</p>
</td></tr>
<tr><td><code id="get_image_+3A_use_absolute_bounds">use_absolute_bounds</code></td>
<td>
<p>logical. Whether the node is cropped or the area
around it is vacant, use the node's full dimensions. To export text nodes
without cropping, use this method. Standard: false.</p>
</td></tr>
<tr><td><code id="get_image_+3A_version">version</code></td>
<td>
<p>string. A specific version ID to use. Omitting this will use
the current version of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_image'. Contains the parsed
JSON response with fields 'err', and 'images'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
get_image(file_key, ids = "0:1", format = "svg")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_image_fills'>GET image fills</h2><span id='topic+get_image_fills'></span>

<h3>Description</h3>

<p>This API endpoint provides download URLs for all of the images
that are present in a document's image fills. Figma represents any
user-supplied images using image fills. When you drag a picture into
Figma, it builds a rectangle with a single fill to represent it. The user
can then modify the attributes of the fill and change the rectangle as they
see fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_image_fills(file_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_image_fills_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This API provides a mapping from image references to download URLs
for the images. Image URLs have a 14-day maximum lifespan. Image references
are located in the output of the GET files endpoint under the 'imageRef'
attribute in a Paint.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
get_image_fills(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_project_files'>GET project files</h2><span id='topic+get_project_files'></span>

<h3>Description</h3>

<p>List the files in a given project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_project_files(project_id, branch_data = "false")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_project_files_+3A_project_id">project_id</code></td>
<td>
<p>string. Id of the project to list files from.</p>
</td></tr>
<tr><td><code id="get_project_files_+3A_branch_data">branch_data</code></td>
<td>
<p>string. Returns branch metadata in the response for each
main file with a branch inside the project. Default: &quot;false&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_project_files'. Contains the parsed
JSON response with fields 'name', and 'files'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
project_id &lt;- "71686204"
get_project_files(project_id)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_team_component_sets'>GET team component sets</h2><span id='topic+get_team_component_sets'></span>

<h3>Description</h3>

<p>Get a paginated list of published 'component_sets' within a team
library. Note that published components are only available via the
professional plan.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_team_component_sets(team_id, page_size = 30, after = NULL, before = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_team_component_sets_+3A_team_id">team_id</code></td>
<td>
<p>string. The team's ID, with a list of its components.</p>
</td></tr>
<tr><td><code id="get_team_component_sets_+3A_page_size">page_size</code></td>
<td>
<p>number Number of items in a paged list of results.
Defaults to 30.</p>
</td></tr>
<tr><td><code id="get_team_component_sets_+3A_after">after</code></td>
<td>
<p>number. Cursor providing the id for which to begin component
retrieval. Exclusive with 'before' parameter. The cursor value is a
tracked integer that is kept internally but has no Ids.</p>
</td></tr>
<tr><td><code id="get_team_component_sets_+3A_before">before</code></td>
<td>
<p>number. The id before which to begin obtaining components is
shown by the cursor. Exclusive with after The cursor value is a tracked
integer that is kept internally but has no Ids.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_team_component_sets'. Components are
stored in the 'meta' field.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to team page and get id from url
get_team_component_sets(team_id = "1168610438838663284")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_team_components'>GET team components</h2><span id='topic+get_team_components'></span>

<h3>Description</h3>

<p>Get a paginated list of published components within a team
library. Note that team components are only available via the professional
plan.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_team_components(team_id, page_size = 30, after = NULL, before = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_team_components_+3A_team_id">team_id</code></td>
<td>
<p>string. The team's ID, with a list of its components.</p>
</td></tr>
<tr><td><code id="get_team_components_+3A_page_size">page_size</code></td>
<td>
<p>number Number of items in a paged list of results.
Defaults to 30.</p>
</td></tr>
<tr><td><code id="get_team_components_+3A_after">after</code></td>
<td>
<p>number. Cursor providing the id for which to begin component
retrieval. Exclusive with 'before' parameter. The cursor value is a
tracked integer that is kept internally but has no Ids.</p>
</td></tr>
<tr><td><code id="get_team_components_+3A_before">before</code></td>
<td>
<p>number. The id before which to begin obtaining components is
shown by the cursor. Exclusive with after The cursor value is a tracked
integer that is kept internally but has no Ids.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_team_components'. Components are
stored in the 'meta' field.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to team page and get id from url
get_team_components(team_id = "1168610438838663284")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_team_projects'>GET team projects</h2><span id='topic+get_team_projects'></span>

<h3>Description</h3>

<p>Get a list of all the Projects inside the specified team using
this Endpoint. Only projects visible to the authorized user or the holder
of the developer token will be returned. It should be noted that a user's
team ID cannot yet be determined from a token. Go to the
team page of the team you are a part of to get your team ID. After the term
&quot;team&quot; and before your team name, the team id will appear in the URL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_team_projects(team_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_team_projects_+3A_team_id">team_id</code></td>
<td>
<p>string. Id of the team to list projects from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_team_projects'. Contains the parsed
JSON response with fields 'name', and 'projects'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
team_id &lt;- "1168610438838663284"
get_team_projects(team_id)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_team_styles'>GET team styles</h2><span id='topic+get_team_styles'></span>

<h3>Description</h3>

<p>Get a list of published styles in a team library that is
paginated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_team_styles(team_id, page_size = 30, after = NULL, before = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_team_styles_+3A_team_id">team_id</code></td>
<td>
<p>string. The team's ID, with a list of its styles.</p>
</td></tr>
<tr><td><code id="get_team_styles_+3A_page_size">page_size</code></td>
<td>
<p>number. Number of items in a paged list of results.
Defaults to 30.</p>
</td></tr>
<tr><td><code id="get_team_styles_+3A_after">after</code></td>
<td>
<p>number. Cursor providing the id for which to begin component
retrieval. Exclusive with 'before' parameter. The cursor value is a
tracked integer that is kept internally but has no Ids.</p>
</td></tr>
<tr><td><code id="get_team_styles_+3A_before">before</code></td>
<td>
<p>number. The id before which to begin obtaining components is
shown by the cursor. Exclusive with after The cursor value is a tracked
integer that is kept internally but has no Ids.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_get_team_styles'. Styles are
stored in the 'meta' field.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to team page and get id from url
get_team_styles(team_id = "1168610438838663284")

## End(Not run)

</code></pre>

<hr>
<h2 id='possibly_thumbnail_color'>Possibly extract thumbnail color</h2><span id='topic+possibly_thumbnail_color'></span>

<h3>Description</h3>

<p>Possibly extract thumbnail color
</p>


<h3>Usage</h3>

<pre><code class='language-R'>possibly_thumbnail_color(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="possibly_thumbnail_color_+3A_...">...</code></td>
<td>
<p>Variables passed to wrapped function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>thumbnail_color function that handles errors
</p>

<hr>
<h2 id='post_comment'>POST comment</h2><span id='topic+post_comment'></span>

<h3>Description</h3>

<p>Posts a new comment on the file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>post_comment(file_key, message, comment_id = NULL, client_meta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="post_comment_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="post_comment_+3A_message">message</code></td>
<td>
<p>string. The comment's textual content to post.</p>
</td></tr>
<tr><td><code id="post_comment_+3A_comment_id">comment_id</code></td>
<td>
<p>string. If there is one, the comment to respond to. You
cannot reply to a remark that is a reply to itself (a reply has a parent id),
thus this must be a root comment.</p>
</td></tr>
<tr><td><code id="post_comment_+3A_client_meta">client_meta</code></td>
<td>
<p>string. The position of where to place the comment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_post_comment'. Contains the parsed
JSON response with fields 'id', 'file_key', 'status', 'i18n', 'parent_id',
'user', 'created_at', 'resolved_at', 'message', 'reactions', 'client_meta',
and 'order_id'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
get_comments(file_key)

## End(Not run)

</code></pre>

<hr>
<h2 id='post_comment_reactions'>POST comment reactions</h2><span id='topic+post_comment_reactions'></span>

<h3>Description</h3>

<p>Posts a new comment reaction on a file comment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>post_comment_reactions(file_key, comment_id, emoji)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="post_comment_reactions_+3A_file_key">file_key</code></td>
<td>
<p>string. The key that a Figma file is referred by.</p>
</td></tr>
<tr><td><code id="post_comment_reactions_+3A_comment_id">comment_id</code></td>
<td>
<p>string. If there is one, the comment to respond to. You
cannot reply to a remark that is a reply to itself (a reply has a parent id),
thus this must be a root comment.</p>
</td></tr>
<tr><td><code id="post_comment_reactions_+3A_emoji">emoji</code></td>
<td>
<p>string. The emoji type of reaction as a string enum :eyes:,
:heart_eyes:, :heavy_plus_sign:, :+1:, :-1:, :joy: and :fire:</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 object of class 'rigma_post_comment_reactions'. Contains the parsed
JSON response with fields 'error', 'status', and 'i18n'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#navigate to  file and get key from url
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
first_comment_id &lt;- get_comments(file_key)$comments[[1]]$id
post_comment_reactions(file_key, first_comment_id, ":eyes:")

## End(Not run)

</code></pre>

<hr>
<h2 id='req_rigma_agent'>Add metadata to Rigma request</h2><span id='topic+req_rigma_agent'></span>

<h3>Description</h3>

<p>Extra metadata attached to httr2 request object before
performing the request.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>req_rigma_agent(req, user_agent = "Rigma https://github.com/AleKoure/Rigma")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="req_rigma_agent_+3A_req">req</code></td>
<td>
<p>httr2_request object</p>
</td></tr>
<tr><td><code id="req_rigma_agent_+3A_user_agent">user_agent</code></td>
<td>
<p>string with user agent</p>
</td></tr>
</table>


<h3>Value</h3>

<p>httr2_request object with Figma token heater, user agent and retry
specifications.
</p>

<hr>
<h2 id='safe_download'>Safe download files</h2><span id='topic+safe_download'></span>

<h3>Description</h3>

<p>Safe download files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safe_download(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safe_download_+3A_...">...</code></td>
<td>
<p>Variables passed to wrapped function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>download function that safely handles errors
</p>

<hr>
<h2 id='text_data_from_styles'>Get text data from styles</h2><span id='topic+text_data_from_styles'></span>

<h3>Description</h3>

<p>Get text data from styles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text_data_from_styles(design_tibble)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text_data_from_styles_+3A_design_tibble">design_tibble</code></td>
<td>
<p>S3 object of class 'design_tibble_style' returned by
queering the 'Figma' API for the published styles. Its design tibble should
contain a unique 'file_key' (map for each 'file_key' if more than one
exist.)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a design_tibble with exported styles this function retrieves
all TEXT style type metadata. It uses the GET file nodes API endpoint and
collects all style data.
</p>


<h3>Value</h3>

<p>tibble with text metadata of exported TEXT styles
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file_key &lt;- "sFHgQh9dL6369o5wrZHmdR"
file_key %&gt;%
 get_file_styles() %&gt;%
 as_design_tibble() %&gt;%
 text_data_from_styles()

## End(Not run)

</code></pre>

<hr>
<h2 id='thumbnail_color'>Find thumbnail color</h2><span id='topic+thumbnail_color'></span>

<h3>Description</h3>

<p>Find thumbnail color
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thumbnail_color(path, hex = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thumbnail_color_+3A_path">path</code></td>
<td>
<p>string. Path to the thumbnail PNG</p>
</td></tr>
<tr><td><code id="thumbnail_color_+3A_hex">hex</code></td>
<td>
<p>logical. If 'TRUE' then the RGBA values are converted to hex</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a mono-colored thumbnail this function extracts the RGBA
channels and returns a vector scaled from [0, 1] or a hex color code.
</p>


<h3>Value</h3>

<p>The color of the thumbnail in hex or rgba
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path &lt;- system.file("extdata", "test_thumbnail.png", package = "Rigma")
thumbnail_color(path)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

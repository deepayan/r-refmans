<!DOCTYPE html><html><head><title>Help for package lehuynh</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lehuynh}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#ggsave_elsevier'><p>Save a plot - Elsevier figure size</p></a></li>
<li><a href='#import_data'><p>Import multiple files of the same format</p></a></li>
<li><a href='#import_excel'><p>Import Excel file with multiple sheets</p></a></li>
<li><a href='#lehuynh_theme'><p>Le-Huynh's ggplot2 theme</p></a></li>
<li><a href='#MinMaxScaling'><p>Min-Max Standardization</p></a></li>
<li><a href='#new_project'><p>Create a new project</p></a></li>
<li><a href='#ppc_brms'><p>Fitted versus observed plot for brmsfit Objects</p></a></li>
<li><a href='#tidytuesday'><p>Create a new folder for <em>#tidytuesday</em> challenge</p></a></li>
<li><a href='#tsi'><p>Calculate TSI (Trophic state index)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Le-Huynh Truc-Ly's R Code and Templates</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Truc-Ly Le-Huynh <a href="https://orcid.org/0000-0002-5227-2185"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Truc-Ly Le-Huynh &lt;trucly.lehuynh@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Miscellaneous R functions (for graphics, data import, 
    data transformation, and general utilities) and templates (for exploratory 
    analysis, Bayesian modeling, and crafting scientific manuscripts). </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/le-huynh/lehuynh">https://github.com/le-huynh/lehuynh</a>,
<a href="https://le-huynh.github.io/lehuynh/">https://le-huynh.github.io/lehuynh/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/le-huynh/lehuynh/issues">https://github.com/le-huynh/lehuynh/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), writexl</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>brms, stats, ggplot2, usethis, ggpubr, purrr, stringr,
magrittr, readxl, dplyr, fs, rio, tibble</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-04 15:44:47 UTC; trucl</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-05 14:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>c(1, 2, 3) %&gt;% mean()
</code></pre>

<hr>
<h2 id='ggsave_elsevier'>Save a plot - Elsevier figure size</h2><span id='topic+ggsave_elsevier'></span>

<h3>Description</h3>

<p>Save a plot using <code><a href="ggplot2.html#topic+ggsave">ggplot2::ggsave()</a></code>.
Plot size follows instructions of Elsevier journals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggsave_elsevier(
  filename,
  plot,
  width = c("one_column", "one_half_column", "full_page"),
  height,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggsave_elsevier_+3A_filename">filename</code></td>
<td>
<p>A character string. File name to create on disk.</p>
</td></tr>
<tr><td><code id="ggsave_elsevier_+3A_plot">plot</code></td>
<td>
<p>Plot to save, ggplot or other grid object.</p>
</td></tr>
<tr><td><code id="ggsave_elsevier_+3A_width">width</code></td>
<td>
<p>Plot width. See <strong>Details</strong> for more information.</p>
</td></tr>
<tr><td><code id="ggsave_elsevier_+3A_height">height</code></td>
<td>
<p>Plot height in &quot;mm&quot;.</p>
</td></tr>
<tr><td><code id="ggsave_elsevier_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="ggplot2.html#topic+ggsave">ggplot2::ggsave()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Instruction of Elsevier about <a href="https://www.elsevier.com/about/policies-and-standards/author/artwork-and-media-instructions/artwork-sizing">sizing of artwork</a>.
</p>

<ul>
<li><p> Image width:
</p>

<ul>
<li><p> single column: 90 mm (255 pt)
</p>
</li>
<li><p> 1.5 column: 140 mm (397 pt)
</p>
</li>
<li><p> double column (full width): 190 mm (539 pt)
</p>
</li></ul>

</li>
<li><p> Image height: maximum 240 mm.
</p>
</li></ul>



<h3>Value</h3>

<p>An image file containing the saved plot.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggsave">ggplot2::ggsave()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)

fig &lt;- ggplot(mtcars, aes(y = mpg, x = disp)) +
    geom_point(aes(colour = factor(cyl)))

## For demo, a temp. file path is created with the file extension .png
png_file &lt;- tempfile(fileext = ".png")

ggsave_elsevier(png_file, plot = fig, width = "full_page", height = 120)
</code></pre>

<hr>
<h2 id='import_data'>Import multiple files of the same format</h2><span id='topic+import_data'></span>

<h3>Description</h3>

<p>This function imports multiple data files of the same format from
a specified directory, optionally filtered by a pattern in the filenames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_data(path, file_format, pattern = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_data_+3A_path">path</code></td>
<td>
<p>A character string specifying the directory path
where the data files are located.</p>
</td></tr>
<tr><td><code id="import_data_+3A_file_format">file_format</code></td>
<td>
<p>A character string specifying the type of files to import,
using a glob pattern (e.g., &quot;*.csv&quot; for CSV files).</p>
</td></tr>
<tr><td><code id="import_data_+3A_pattern">pattern</code></td>
<td>
<p>An optional character string specifying a regex pattern
to filter filenames. Default is NULL.</p>
</td></tr>
<tr><td><code id="import_data_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the <code><a href="rio.html#topic+import">rio::import()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element is the imported data from a file,
with names corresponding to the filenames without the path and file extension.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## For demo, temp. file paths is created with the file extension .csv
csv_file1 &lt;- tempfile(pattern = "test", fileext = ".csv")
csv_file2 &lt;- tempfile(pattern = "file", fileext = ".csv")
csv_file3 &lt;- tempfile(pattern = "test", fileext = ".csv")

## create CSV files to import
write.csv(head(cars), csv_file1)
write.csv(head(mtcars), csv_file2)
write.csv(head(iris), csv_file3)

## Import all CSV files in the directory
data_list &lt;- import_data(path = tempdir(), file_format = "*.csv")

## Import all CSV files with names containing "test"
data_list &lt;- import_data(path = tempdir(), file_format = "*.csv", pattern = "test")
</code></pre>

<hr>
<h2 id='import_excel'>Import Excel file with multiple sheets</h2><span id='topic+import_excel'></span>

<h3>Description</h3>

<p>This function imports an Excel file with multiple sheets and returns
a <em>named</em> <code>list</code> of imported sheets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_excel(file_path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_excel_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the Excel file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element is the imported sheet from the Excel file,
with names corresponding to the sheet names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## For demo, a temp. file path is created with the file extension .xlsx
excel_file &lt;- tempfile(fileext = ".xlsx")

## create Excel file with multiple sheets to import
writexl::write_xlsx(list(cars = head(cars), mtcars = head(mtcars)),
                    excel_file)

import_excel(file_path = excel_file)
</code></pre>

<hr>
<h2 id='lehuynh_theme'>Le-Huynh's ggplot2 theme</h2><span id='topic+lehuynh_theme'></span>

<h3>Description</h3>

<p>Le-Huynh's ggplot2 theme: white background, black axis, black text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lehuynh_theme(base_size = 11, base_family = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lehuynh_theme_+3A_base_size">base_size</code></td>
<td>
<p>Base font size</p>
</td></tr>
<tr><td><code id="lehuynh_theme_+3A_base_family">base_family</code></td>
<td>
<p>Base font family</p>
</td></tr>
<tr><td><code id="lehuynh_theme_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object as returned by <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>, <code><a href="ggplot2.html#topic+ggtheme">ggplot2::theme_bw()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)

fig &lt;- ggplot(mtcars, aes(y = mpg, x = disp)) +
    geom_point(aes(colour = factor(cyl)))

fig

fig + lehuynh_theme()
</code></pre>

<hr>
<h2 id='MinMaxScaling'>Min-Max Standardization</h2><span id='topic+MinMaxScaling'></span>

<h3>Description</h3>

<p>Normalize / Standardize / Scale the data to the fixed range from 0 to 1.
The minimum value of data gets transformed into 0.
The maximum value gets transformed into 1.
Other values get transformed into decimals between 0 and 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MinMaxScaling(x, y = x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MinMaxScaling_+3A_x">x</code></td>
<td>
<p>A numeric vector to be scaled.</p>
</td></tr>
<tr><td><code id="MinMaxScaling_+3A_y">y</code></td>
<td>
<p>An optional numeric vector used to determine the scaling range.
If not provided, the scaling range is determined by the values in <code>x</code>.
Default: <code>y</code> = <code>x</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Min-max scaling is a normalization technique that transforms
the values in a vector to a standardized range.
The scaling is performed using the formula:
</p>
<p style="text-align: center;"><code class="reqn">scaled_x = \frac{x - \min(y)}{\max(y) - \min(y)}</code>
</p>



<h3>Value</h3>

<p>A numeric vector of the same length as <code>x</code>,
with values scaled to the range from 0 to 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dat1 = seq(from = 5, to = 30, length.out = 6)

MinMaxScaling(dat1)

dat2 = c(7, 13, 22)

MinMaxScaling(x = dat2, y = dat1)
</code></pre>

<hr>
<h2 id='new_project'>Create a new project</h2><span id='topic+new_project'></span>

<h3>Description</h3>

<p>This function sets up a new project within an <strong>active R project</strong>
for reproducible purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_project()
</code></pre>


<h3>Details</h3>

<p>The project includes:
</p>

<ul>
<li> <p><strong>README.md</strong>: the top level description of content in the project
</p>
</li>
<li> <p><strong>Makefile</strong>
</p>
</li>
<li><p> different folders to hold all <em>data</em>, <em>code</em>, <em>results</em> of data analysis,
and <em>documents</em> related to the project
</p>
</li>
<li><p> templates: <strong>manuscript.Rmd</strong>, <strong>code.R</strong>, etc.
</p>
</li></ul>



<h3>Value</h3>

<p>A project containing folders and files for reproducible purposes.
</p>


<h3>Note</h3>

<p>The function should be executed within an <strong>active project</strong>.
</p>
<p>Recommended workflow:
</p>

<ol>
<li><p> Create a GitHub repository for the new project.
At <em>Initialize this repository with a README</em>, choose NO.
</p>
</li>
<li><p> Create a new RStudio Project via <code style="white-space: pre;">&#8288;git clone&#8288;</code>.
</p>
</li>
<li><p> Use function <code>new_project()</code> to generate folders and file templates.
</p>
</li></ol>



<h3>References</h3>

<p><a href="https://riffomonas.org/reproducible_research/">Reproducibile Research Tutorial Series</a>
by Pat Schloss.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

if(interactive()){
  new_project()
}

</code></pre>

<hr>
<h2 id='ppc_brms'>Fitted versus observed plot for brmsfit Objects</h2><span id='topic+ppc_brms'></span>

<h3>Description</h3>

<p>Plot fitted versus observed values, including confidence interval
(gray area) around best fit line (linear regression line) and
prediction interval (dashed line).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ppc_brms(
  object,
  xtitle = "Observed value",
  ytitle = "Fitted value",
  dy = c(0.1, 0.1),
  dx = c(0.1, 0.1),
  cor = FALSE,
  equation = FALSE,
  xcor = NULL,
  ycor = NULL,
  xequ = NULL,
  yequ = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ppc_brms_+3A_object">object</code></td>
<td>
<p>An object of class <strong>brmsfit</strong></p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_xtitle">xtitle</code></td>
<td>
<p>The text for the x-axis title</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_ytitle">ytitle</code></td>
<td>
<p>The text for the y-axis title</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_dy">dy</code></td>
<td>
<p>Distance from plot to y-axis</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_dx">dx</code></td>
<td>
<p>Distance from plot to x-axis</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_cor">cor</code></td>
<td>
<p>If TRUE, add correlation coefficients with p-values and R</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_equation">equation</code></td>
<td>
<p>If TRUE, add regression line equation</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_xcor">xcor</code>, <code id="ppc_brms_+3A_ycor">ycor</code></td>
<td>
<p><code>numeric</code> Coordinates (in data units) to be used for
absolute positioning of the correlation coefficients</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_xequ">xequ</code>, <code id="ppc_brms_+3A_yequ">yequ</code></td>
<td>
<p><code>numeric</code> Coordinates (in data units) to be used for
absolute positioning of the regression line equation</p>
</td></tr>
<tr><td><code id="ppc_brms_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="#topic+lehuynh_theme">lehuynh_theme()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(brms)

mod &lt;- brm(count ~ zAge + zBase * Trt + (1|patient) + (1|obs),
           data = epilepsy,
           family = poisson())

ppc_brms(mod)
ppc_brms(mod, dy = c(0.02, 0.1), dx = c(0.005, 0.1))
ppc_brms(mod, cor = TRUE, equation = TRUE, yequ = 100)

## End(Not run)
</code></pre>

<hr>
<h2 id='tidytuesday'>Create a new folder for <em>#tidytuesday</em> challenge</h2><span id='topic+tidytuesday'></span>

<h3>Description</h3>

<p>This function sets up a new folder for
<em><a href="https://github.com/rfordatascience/tidytuesday">#tidytuesday</a></em> challenge
within an <strong>active project</strong>.
It creates a directory for the specified year and week,
along with sub-directories for data, code, and plots.
Template files are also added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidytuesday(year, week)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidytuesday_+3A_year">year</code></td>
<td>
<p>An integer representing the year of the <em>#tidytuesday</em> challenge</p>
</td></tr>
<tr><td><code id="tidytuesday_+3A_week">week</code></td>
<td>
<p>An integer representing the week of interest, from 1 to 52</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The folder includes:
</p>

<ul>
<li> <p><strong>README.md</strong>: plots for <em>#tidytuesday</em> challenge
</p>
</li>
<li><p> different folders to hold all <em>data</em>, <em>code</em>, <em>plots</em> of data analysis
</p>
</li>
<li><p> templates
</p>
</li></ul>



<h3>Value</h3>

<p>A folder containing folders and files for <em>#tidytuesday</em> challenge.
</p>


<h3>Note</h3>

<p>Ensure that this function is called within an <strong>active project</strong>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

if(interactive()){
  tidytuesday(year = 2021, week = 25)
}

</code></pre>

<hr>
<h2 id='tsi'>Calculate TSI (Trophic state index)</h2><span id='topic+tsi'></span>

<h3>Description</h3>

<p>Calculate TSI.
TSI range: 0 - 100.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsi(x, type = c("chla", "TP", "TN", "SD"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsi_+3A_x">x</code></td>
<td>
<p>numeric object</p>
</td></tr>
<tr><td><code id="tsi_+3A_type">type</code></td>
<td>
<p>type of variable used to calculate TSI.
See <strong>Details</strong> for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Trophic state classification (Carlson, 1996)
</p>

<ul>
<li><p> &lt;30-40, Oligotrophy
</p>
</li>
<li><p> 40-50, mesotrophy
</p>
</li>
<li><p> 50-70, eutrophy
</p>
</li>
<li><p> 70-100, hypereutrophy
</p>
</li></ul>

<p>Type of variable used to calculate TSI:
</p>

<ul>
<li><p> SD: Secchi depth, meter
</p>
</li>
<li><p> chla: chlorophyll, ug/L or mg/m3
</p>
</li>
<li><p> TP: total Phosphorus, ug/L or mg/m3
</p>
</li>
<li><p> TN: total Nitrogen, mg/L
</p>
</li></ul>

<p>Carlson (1977): TSI-SD, TSI-Chla, TSI-TP
</p>
<p>USEPA (2000): TSI-TN
</p>


<h3>Value</h3>

<p>a numeric value.
</p>


<h3>References</h3>

<p>Carlson, R. E. (1977). A trophic state index for lakes. Limnology and
Oceanography, 22(2), 361-369.
</p>
<p>Carlson, R. E., &amp; Simpson, J. (1996). A Coordinator's Guide to Volunteer
Lake Monitoring Methods. North American Lake Management Society, 73-92.
</p>
<p>USEPA. (2000). Nutrient Criteria Technical Guidance Manual: Lakes and
Reservoirs, 42-44.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>chla &lt;- c(0.12, 0.34, 0.94, 6.4)

tsi(chla, type = "chla")

tsi(chla, type = "TP")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

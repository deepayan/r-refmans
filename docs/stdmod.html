<!DOCTYPE html><html><head><title>Help for package stdmod</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stdmod}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add1.std_selected'><p>The 'add1' Method for a 'std_selected' Class Object</p></a></li>
<li><a href='#coef.cond_effect'><p>Conditional Effect in a 'cond_effect'-Class Object</p></a></li>
<li><a href='#coef.stdmod_lavaan'><p>Standardized Moderation Effect in a 'stdmod_lavaan' Class Object</p></a></li>
<li><a href='#cond_effect'><p>Conditional Effects</p></a></li>
<li><a href='#confint.cond_effect'><p>Confidence Intervals for a 'cond_effect' Class Object</p></a></li>
<li><a href='#confint.std_selected'><p>Confidence Intervals for a 'std_selected' Class Object</p></a></li>
<li><a href='#confint.stdmod_lavaan'><p>Confidence Intervals for a 'stdmod_lavaan' Class Object</p></a></li>
<li><a href='#plotmod'><p>Moderation Effect Plot</p></a></li>
<li><a href='#print.cond_effect'><p>Print a 'cond_effect' Class Object</p></a></li>
<li><a href='#print.std_selected'><p>Print Basic Information of a 'std_selected' Class Object</p></a></li>
<li><a href='#print.stdmod_lavaan'><p>Print a 'stdmod_lavaan' Class Object</p></a></li>
<li><a href='#print.summary.std_selected'><p>Print the Summary of a 'std_selected' Class Object</p></a></li>
<li><a href='#sleep_emo_con'><p>Sample Dataset: Predicting Sleep Duration</p></a></li>
<li><a href='#std_selected'><p>Standardize Variables in a Regression Model</p></a></li>
<li><a href='#stdmod'><p>Standardized Moderation Effect Given an 'lm' Output</p></a></li>
<li><a href='#stdmod_lavaan'><p>Standardized Moderation Effect and Its Bootstrap CI in 'lavaan'</p></a></li>
<li><a href='#stdmod-package'><p>stdmod: Standardized Moderation Effect and Its Confidence Interval</p></a></li>
<li><a href='#summary.std_selected'><p>Summary Method for a 'std_selected' Class Object</p></a></li>
<li><a href='#test_mod1'><p>Sample Dataset: A Path Model With A Moderator</p></a></li>
<li><a href='#test_mod2'><p>Sample Dataset: A Path Model With A Moderator</p></a></li>
<li><a href='#test_mod3_miss'><p>Sample Dataset: A Path Model With A Moderator</p></a></li>
<li><a href='#test_x_1_w_1_v_1_cat1_n_500'><p>Sample Dataset: One IV, One Moderator, Two Covariates</p></a></li>
<li><a href='#test_x_1_w_1_v_1_cat1_xw_cov_n_500'><p>Sample Dataset: One IV, One Moderator, Two Covariates</p></a></li>
<li><a href='#test_x_1_w_1_v_1_cat1_xw_cov_wcat3_n_500'><p>Sample Dataset: One IV, One 3-Category Moderator, Two Covariates</p></a></li>
<li><a href='#test_x_1_w_1_v_2_n_500'><p>Sample Dataset: One IV, One Moderator, Two Covariates</p></a></li>
<li><a href='#update.std_selected'><p>The 'update' Method for a 'std_selected' Class Object</p></a></li>
<li><a href='#vcov.std_selected'><p>The 'vcov' Method for a 'std_selected' Class Object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Standardized Moderation Effect and Its Confidence Interval</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.10</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for computing a standardized moderation effect
             in moderated regression and forming its confidence interval
             by nonparametric bootstrapping as proposed in
             Cheung, Cheung, Lau, Hui, and Vong (2022)
             &lt;<a href="https://doi.org/10.1037%2Fhea0001188">doi:10.1037/hea0001188</a>&gt;. Also includes simple-to-use
             functions for computing conditional effects (unstandardized
             or standardized) and plotting moderation effects.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://sfcheung.github.io/stdmod/">https://sfcheung.github.io/stdmod/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sfcheung/stdmod/issues">https://github.com/sfcheung/stdmod/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, visreg, lm.beta</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, ggplot2, stats, utils, lavaan, manymome, rlang</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-22 13:26:37 UTC; sfcheung</td>
</tr>
<tr>
<td>Author:</td>
<td>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  David Weng Ngai Vong [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shu Fai Cheung &lt;shufai.cheung@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-22 14:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add1.std_selected'>The 'add1' Method for a 'std_selected' Class Object</h2><span id='topic+add1.std_selected'></span>

<h3>Description</h3>

<p>Intercept the <code><a href="stats.html#topic+add1">add1()</a></code> method and raise an error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'std_selected'
add1(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add1.std_selected_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="add1.std_selected_+3A_...">...</code></td>
<td>
<p>Additional arguments. They will be ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="stats.html#topic+add1">add1()</a></code> should not be used after the output of <code><a href="stats.html#topic+lm">lm()</a></code> is
processed by <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Value</h3>

<p>It returns nothing. It is called for its side effect.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>

<hr>
<h2 id='coef.cond_effect'>Conditional Effect in a 'cond_effect'-Class Object</h2><span id='topic+coef.cond_effect'></span>

<h3>Description</h3>

<p>Return the estimates of the conditional
effects
in the output of
<code><a href="#topic+cond_effect">cond_effect()</a></code> or <code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cond_effect'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.cond_effect_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+cond_effect">cond_effect()</a></code> or <code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="coef.cond_effect_+3A_...">...</code></td>
<td>
<p>Optional arguments. Ignored by the function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It just extracts and returns the column of
conditional effects in a <code>cond_effect</code>-class object.
</p>


<h3>Value</h3>

<p>A numeric vector: The estimates of the conditional
effects in a <code>cond_effect</code>-class object.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)
out &lt;- cond_effect(lm_raw, x = iv, w = mod)
out
coef(out)

lm_std &lt;- std_selected(lm_raw, to_standardize = ~ iv + mod)
out &lt;- cond_effect(lm_std, x = iv, w = mod)
out
coef(out)

# Categorical moderator
lm_cat &lt;- lm(dv ~ iv*cat1 + v1, dat)
summary(lm_cat)
out &lt;- cond_effect(lm_cat, x = iv, w = cat1)
out
coef(out)

</code></pre>

<hr>
<h2 id='coef.stdmod_lavaan'>Standardized Moderation Effect in a 'stdmod_lavaan' Class Object</h2><span id='topic+coef.stdmod_lavaan'></span>

<h3>Description</h3>

<p>Return the estimate of the standardized
moderation effect
in the output of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stdmod_lavaan'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.stdmod_lavaan_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>.</p>
</td></tr>
<tr><td><code id="coef.stdmod_lavaan_+3A_...">...</code></td>
<td>
<p>Optional arguments. Ignored by the function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It just extracts and returns the element <code>stdmod</code>.
</p>


<h3>Value</h3>

<p>A scalar: The estimate of the standardized moderation effect.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a test data of 500 cases
dat &lt;- test_mod1
library(lavaan)

mod &lt;-
"
med ~ iv + mod + iv:mod + cov1
dv ~ med + cov2
"
fit &lt;- sem(mod, dat)
coef(fit)

# Compute the standardized moderation effect
out_noboot &lt;- stdmod_lavaan(fit = fit,
                            x = "iv",
                            y = "med",
                            w = "mod",
                            x_w = "iv:mod")
coef(out_noboot)

# Compute the standardized moderation effect and
# its confidence interval based on nonparametric bootstrapping
# Fit the model with bootstrap confidence intervals
# At least 2000 bootstrap samples should be used
# in real research. 50 is used here only for
# illustration.
fit &lt;- sem(mod, dat, se = "boot", bootstrap = 50,
           iseed = 89574)
out_boot &lt;- stdmod_lavaan(fit = fit,
                          x = "iv",
                          y = "med",
                          w = "mod",
                          x_w = "iv:mod",
                          boot_ci = TRUE)
coef(out_boot)

</code></pre>

<hr>
<h2 id='cond_effect'>Conditional Effects</h2><span id='topic+cond_effect'></span><span id='topic+cond_effect_boot'></span>

<h3>Description</h3>

<p>Compute the conditional effects in a moderated regression model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cond_effect(
  output,
  x = NULL,
  w = NULL,
  w_method = c("sd", "percentile"),
  w_percentiles = c(0.16, 0.5, 0.84),
  w_sd_to_percentiles = NA,
  w_from_mean_in_sd = 1,
  w_values = NULL
)

cond_effect_boot(
  output,
  x = NULL,
  w = NULL,
  ...,
  conf = 0.95,
  nboot = 100,
  boot_args = NULL,
  save_boot_est = TRUE,
  full_output = FALSE,
  do_boot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cond_effect_+3A_output">output</code></td>
<td>
<p>The output from <code><a href="stats.html#topic+lm">stats::lm()</a></code>. It can also accept the output
from
<code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_x">x</code></td>
<td>
<p>The focal variable (independent variable), that is, the
variable with its effect on the outcome variable (dependent)
being moderated. It must be a numeric variable.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_w">w</code></td>
<td>
<p>The moderator. Both numeric variables and categorical variables
(character or factor) are supported.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_w_method">w_method</code></td>
<td>
<p>How to define &quot;low&quot;, &quot;medium&quot;, and &quot;high&quot; for the moderator
levels.
Default is in terms of mean and
standard deviation (SD) of the moderator, <code>"sd"</code>:
&quot;low&quot;, &quot;medium&quot;, and &quot;high&quot; are one SD below mean,
mean, and one SD above mean, respectively.
If equal to
<code>"percentile"</code>, then percentiles of the moderator in
the
dataset are used: &quot;low&quot;, &quot;medium&quot;, and &quot;high&quot; are
16th, 50th (median), and 84th percentiles, respectively.
Ignored if <code>w</code> is categorical.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_w_percentiles">w_percentiles</code></td>
<td>
<p>If <code>w_method</code> is <code>"percentile"</code>, then this
argument
specifies the three percentiles to be used,
divided by 100.
It must be a
vector of two numbers. The default is
<code>c(.16, .50, .84)</code>,
the 16th, 50th, and 84th percentiles,
which corresponds approximately
to one SD below and above mean in a
normal distribution, respectively.
Ignored if <code>w</code> is categorical.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_w_sd_to_percentiles">w_sd_to_percentiles</code></td>
<td>
<p>If <code>w_method</code> is <code>"percentile"</code> and
this argument is
set to a number, this number will be
used to
to determine the percentiles to be used.
The
lower percentile is the percentile in a
normal
distribution
that is <code>w_sd_to_percentiles</code> SD below
the mean.
The upper percentile is the percentile in
a normal
distribution that is <code>w_sd_to_percentiles</code>
SD
above the mean. Therefore, if
<code>w_sd_to_percentiles</code> is set to 1, then the
lower
and upper percentiles are 16th and 84th,
respectively. Default is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_w_from_mean_in_sd">w_from_mean_in_sd</code></td>
<td>
<p>How many SD from mean is used to define
&quot;low&quot; and
&quot;high&quot; for the moderator. Default is 1.
Ignored if <code>w</code> is categorical.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_w_values">w_values</code></td>
<td>
<p>The values of <code>w</code> to
be used. Default is <code>NULL</code>. If a
numeric vector is supplied, these
values will be used to compute the
conditional effects. Other arguments
on generating levels are ignored.
Note that, if <code>w</code> has been standardized
or centered, these values are for
the standardized or centered <code>w</code>.
The values will always be sorted.
This argument is ignored if <code>w</code> is
categorical.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="#topic+cond_effect">cond_effect()</a></code>.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_conf">conf</code></td>
<td>
<p>The level of confidence for the confidence interval.
Default is .95, to get 95% confidence intervals.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_nboot">nboot</code></td>
<td>
<p>The number of bootstrap samples. Default is 100.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_boot_args">boot_args</code></td>
<td>
<p>A named list of arguments to be passed to <code><a href="boot.html#topic+boot">boot::boot()</a></code>.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_save_boot_est">save_boot_est</code></td>
<td>
<p>If <code>TRUE</code>, the default, the bootstrap estimates will
be saved in the element
<code>boot_est</code> of the output.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_full_output">full_output</code></td>
<td>
<p>Whether the full output from <code><a href="boot.html#topic+boot">boot::boot()</a></code> will be
returned.
Default is <code>FALSE</code>. If <code>TRUE</code>, the full output from
<code><a href="boot.html#topic+boot">boot::boot()</a></code> will be saved in the element <code>boot_out</code>
of the output.</p>
</td></tr>
<tr><td><code id="cond_effect_+3A_do_boot">do_boot</code></td>
<td>
<p>Whether bootstrapping confidence intervals will be formed.
Default is <code>TRUE</code>. If <code>FALSE</code>, all arguments related to
bootstrapping will be ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+cond_effect">cond_effect()</a></code> uses the centering approach to find the conditional
effect of the focal variable. For each level of the moderator, the value for
this level is subtracted from the moderator scores, and the model is
fitted to the modified data.
The coefficient of the focal variable is then the conditional effect of the
focal variable when the moderator's score is equal this value.
</p>
<p><code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code> function is a wrapper of <code><a href="#topic+cond_effect">cond_effect()</a></code>.
It calls <code><a href="#topic+cond_effect">cond_effect()</a></code>
once for each bootstrap sample, and then computes the nonparametric
bootstrap percentile confidence intervals (Cheung, Cheung, Lau, Hui,
&amp; Vong, 2022). If the output object is the output of <code><a href="#topic+std_selected">std_selected()</a></code>
or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>, in which mean-centering and/or standardization
have been conducted, they will be repeated in each bootstrap sample.
Therefore, like <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>, it can be used for form
nonparametric bootstrap confidence intervals for standardized
effects, though <code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code> does this for the standardized
conditional effects.
</p>
<p>This function ignores bootstrapping done by <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>. It will
do its own bootstrapping.
</p>
<p>If <code>do_boot</code> is <code>FALSE</code>, then the object it returns is identical to that
by <code><a href="#topic+cond_effect">cond_effect()</a></code>.
</p>
<p>This function intentionally does not have an argument for setting the seed
for
random number. Users are recommended to set the seed, e.g., using
<code><a href="base.html#topic+set.seed">set.seed()</a></code>
before calling it, to ensure reproducibility.
</p>


<h3>Value</h3>

<p><code><a href="#topic+cond_effect">cond_effect()</a></code> returns a data-frame-like object of the conditional effects.
The class is
<code>cond_effect</code> and the print method will print additional information of
the conditional effects. Additional information is stored in the
following attributes:
</p>

<ul>
<li> <p><code>call</code>: The original call.
</p>
</li>
<li> <p><code>output</code>: The <code>output</code> object, such as the output from <code>lm()</code>.
</p>
</li>
<li> <p><code>x</code>, <code>y</code>, and <code>w</code>: The three variables used to compute the conditional
effects: focal variable (<code>x</code>), outcome variable (<code>y</code>),
and the moderator (<code>w</code>).
</p>
</li>
<li> <p><code>w_method</code>: The method used to determine the values of the moderator
at the selected levels.
</p>
</li>
<li> <p><code>w_percentiles</code> The percentiles to use if <code>w_method</code> = <code>"percentile"</code>.
</p>
</li>
<li> <p><code>w_sd_to_percentiles</code>: If not equal to <code>NA</code>, this is a scalar, the
number of standard deviation from the mean used to
determine the percentiles for the &quot;low&quot; and &quot;high&quot;
levels of the moderator.
</p>
</li>
<li> <p><code>w_from_mean_in_sd</code>: The number of SD above or below the mean, for
determining the &quot;low&quot; and &quot;high&quot; levels of the
moderator if <code>w_method</code> is <code>"sd"</code>.
</p>
</li>
<li> <p><code>w_empirical_percentiles</code>: The actual percentile levels in the dataset
for the selected
levels of the moderator. A numeric vector.
</p>
</li>
<li> <p><code>w_empirical_z</code>: The actual distance from the mean, in SD, of each
selected level of the moderator. A numeric vector.
</p>
</li>
<li> <p><code>y_standardized</code>, <code>x_standardized</code>, and <code>w_standardized</code>: Each of them
is a logical scalar, indicating whether the outcome
variable, focal variable, and moderator are standardized.
</p>
</li></ul>

<p><code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code> also returns a data-frame-like object of the
conditional effects of the class
<code>cond_effect</code>, with additional information from the bootstrapping stored
in these attributes:
</p>

<ul>
<li> <p><code>boot_ci</code>: A data frame of the bootstrap confidence intervals of the
conditional effects.
</p>
</li>
<li> <p><code>nboot</code>: The number of bootstrap samples requested.
</p>
</li>
<li> <p><code>conf</code>: The level of confidence, in proportion.
</p>
</li>
<li> <p><code>boot_est</code>: A matrix of the bootstrap estimates of the conditional effects.
The number of rows equal to <code>nboot</code>, and the number of columns
equal to the number of levels of the moderator.
</p>
</li>
<li> <p><code>cond_effect_boot_call</code>: The call to <code>cond_effect_boot()</code>.
</p>
</li>
<li> <p><code>boot_out</code>: If available, the original output from <code>boot::boot()</code>.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>cond_effect_boot()</code>: A wrapper of <code><a href="#topic+cond_effect">cond_effect()</a></code> that forms
nonparametric bootstrap confidence intervals.
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)
cond_effect(lm_raw, x = iv, w = mod)

lm_std &lt;- std_selected(lm_raw, to_standardize = ~ iv + mod)
cond_effect(lm_std, x = iv, w = mod)

# Categorical moderator
lm_cat &lt;- lm(dv ~ iv*cat1 + v1, dat)
summary(lm_cat)
cond_effect(lm_cat, x = iv, w = cat1)


# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)

lm_std &lt;- std_selected(lm_raw, to_standardize = ~ iv + mod)
cond_effect(lm_std, x = iv, w = mod)

# Form nonparametric bootstrap confidence intervals
# Use 2000 or even 5000 for nboot in real research
out &lt;- cond_effect_boot(lm_std, x = iv, w = mod, nboot = 50)
out

</code></pre>

<hr>
<h2 id='confint.cond_effect'>Confidence Intervals for a 'cond_effect' Class Object</h2><span id='topic+confint.cond_effect'></span>

<h3>Description</h3>

<p>Return the confidence intervals of estimates
conditional effect in the output of
<code><a href="#topic+cond_effect">cond_effect()</a></code> or <code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cond_effect'
confint(object, parm, level = 0.95, type, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confint.cond_effect_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+cond_effect">cond_effect()</a></code> or <code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="confint.cond_effect_+3A_parm">parm</code></td>
<td>
<p>Ignored by this function. The confidence intervals for all
available levels will be returned.</p>
</td></tr>
<tr><td><code id="confint.cond_effect_+3A_level">level</code></td>
<td>
<p>The level of confidence. For the confidence intervals returned
by <code><a href="stats.html#topic+lm">lm()</a></code>, default is .95, i.e., 95%. For the bootstrap
percentile confidence
intervals, default is the level used in calling
<code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="confint.cond_effect_+3A_type">type</code></td>
<td>
<p>The type of the confidence intervals. If est to <code>"lm"</code>,
returns the confidence interval given by the <code><a href="stats.html#topic+confint">confint()</a></code> method
of <code><a href="stats.html#topic+lm">lm()</a></code>.
If set to <code>"boot"</code>, the bootstrap percentile confidence intervals
are returned.
Default is <code>"boot"</code> if bootstrap estimates are stored in
<code>object</code>, and <code>"lm"</code> if bootstrap estimates are not stored.</p>
</td></tr>
<tr><td><code id="confint.cond_effect_+3A_...">...</code></td>
<td>
<p>Additional arguments. Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If bootstrapping is used to form the confidence interval by
<code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>,
users can request the percentile confidence intervals of
the bootstrap estimates. This method does not do the bootstrapping itself.
</p>


<h3>Value</h3>

<p>A matrix of the confidence intervals.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)
out &lt;- cond_effect(lm_raw, x = iv, w = mod)
print(out, t_ci = TRUE)
confint(out)

lm_std &lt;- std_selected(lm_raw, to_center = ~ iv + mod, to_scale = ~ iv + mod)
# Alternative: use to_standardize as a shortcut
# lm_std &lt;- std_selected(lm_raw, to_standardize = ~ iv + mod)
out &lt;- cond_effect(lm_std, x = iv, w = mod)
print(out, t_ci = TRUE)
confint(out)

# Categorical moderator
lm_cat &lt;- lm(dv ~ iv*cat1 + v1, dat)
summary(lm_cat)
out &lt;- cond_effect(lm_cat, x = iv, w = cat1)
print(out, t_ci = TRUE)
confint(out)

</code></pre>

<hr>
<h2 id='confint.std_selected'>Confidence Intervals for a 'std_selected' Class Object</h2><span id='topic+confint.std_selected'></span>

<h3>Description</h3>

<p>Return the confidence intervals of estimates
in the output of <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'std_selected'
confint(object, parm, level = 0.95, type, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confint.std_selected_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="confint.std_selected_+3A_parm">parm</code></td>
<td>
<p>The parameters (coefficients) for which confidence intervals
should be returned.
If missing, the confidence intervals of all parameters will be
returned.</p>
</td></tr>
<tr><td><code id="confint.std_selected_+3A_level">level</code></td>
<td>
<p>The level of confidence. For the confidence intervals returned
by <code><a href="stats.html#topic+lm">lm()</a></code>, default is .95, i.e., 95%. For the bootstrap
percentile confidence
intervals, default is the level used in calling
<code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>. If a level different from that in the
original
call is specified, <code>full_output</code> needs to be set in the call
to <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code> such that the original bootstrapping
output
is stored.</p>
</td></tr>
<tr><td><code id="confint.std_selected_+3A_type">type</code></td>
<td>
<p>The type of the confidence intervals. If est to <code>"lm"</code>,
returns the confidence interval given by the <code><a href="stats.html#topic+confint">confint()</a></code> method
of <code><a href="stats.html#topic+lm">lm()</a></code>.
If set to <code>"boot"</code>, the bootstrap percentile confidence intervals
are returned.
Default is <code>"boot"</code> if bootstrap estimates are stored in
<code>object</code>, and <code>"lm"</code> if bootstrap estimates are not stored.</p>
</td></tr>
<tr><td><code id="confint.std_selected_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="stats.html#topic+summary.lm">summary.lm()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If bootstrapping is used to form the confidence interval by
<code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>,
users can request the percentile confidence intervals of
the bootstrap estimates. This method does not do the bootstrapping itself.
</p>


<h3>Value</h3>

<p>A matrix of the confidence intervals.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)

# Standardize all variables except for categorical variables.
# Interaction terms are formed after standardization.
lm_std &lt;- std_selected(lm_raw, to_center = ~ .,
                               to_scale = ~ .)
# Alternative: use to_standardize as a shortcut
# lm_std &lt;- std_selected(lm_raw, to_standardize = ~ .)
summary(lm_std)

confint(lm_std)

# Use to_standardize as a shortcut
lm_std2 &lt;- std_selected(lm_raw, to_standardize = ~ .)
# The results are the same
confint(lm_std)
confint(lm_std2)
all.equal(confint(lm_std), confint(lm_std2))

# With bootstrapping
# nboot = 100 just for illustration. nboot &gt;= 2000 should be used in read
# research.
set.seed(89572)
lm_std_boot &lt;- std_selected_boot(lm_raw, to_scale = ~ .,
                                         to_center = ~ .,
                                         nboot = 100)
summary(lm_std_boot)

# Bootstrap percentile intervals, default when bootstrap was conduced

confint(lm_std_boot)

# Force OLS confidence intervals

confint(lm_std_boot, type = "lm")

# Use to_standardize as a shortcut
set.seed(89572)
lm_std_boot2 &lt;- std_selected_boot(lm_raw, to_standardize = ~ .,
                                          nboot = 100)
# The results are the same
confint(lm_std_boot)
confint(lm_std_boot2)
all.equal(confint(lm_std_boot), confint(lm_std_boot2))

</code></pre>

<hr>
<h2 id='confint.stdmod_lavaan'>Confidence Intervals for a 'stdmod_lavaan' Class Object</h2><span id='topic+confint.stdmod_lavaan'></span>

<h3>Description</h3>

<p>Return the confidence interval of the standardized
moderation effect
in the output of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stdmod_lavaan'
confint(object, parm, level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confint.stdmod_lavaan_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>.</p>
</td></tr>
<tr><td><code id="confint.stdmod_lavaan_+3A_parm">parm</code></td>
<td>
<p>Ignored. Always return the bootstrap confidence interval
of the standardized moderation effect.</p>
</td></tr>
<tr><td><code id="confint.stdmod_lavaan_+3A_level">level</code></td>
<td>
<p>The level of confidence, default is .95, returning the
95% confidence interval.</p>
</td></tr>
<tr><td><code id="confint.stdmod_lavaan_+3A_...">...</code></td>
<td>
<p>Additional arguments. Ignored by the function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If bootstrapping is used to form the confidence interval by
<code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>,
users can request the percentile confidence interval of
using the stored bootstrap estimate.
</p>


<h3>Value</h3>

<p>A one-row matrix of the confidence intervals.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a test data of 500 cases
dat &lt;- test_mod1
library(lavaan)

mod &lt;-
"
med ~ iv + mod + iv:mod + cov1
dv ~ med + cov2
"
fit &lt;- sem(mod, dat)
coef(fit)

# Compute the standardized moderation effect and
# its confidence interval based on nonparametric bootstrapping
# Fit the model with bootstrap confidence intervals
# At least 2000 bootstrap samples should be used
# in real research. 50 is used here only for
# illustration.
fit &lt;- sem(mod, dat, se = "boot", bootstrap = 50,
           iseed = 89574)
out_boot &lt;- stdmod_lavaan(fit = fit,
                          x = "iv",
                          y = "med",
                          w = "mod",
                          x_w = "iv:mod",
                          boot_ci = TRUE)
confint(out_boot)

</code></pre>

<hr>
<h2 id='plotmod'>Moderation Effect Plot</h2><span id='topic+plotmod'></span>

<h3>Description</h3>

<p>Plot the moderation effect in a regression model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotmod(
  output,
  x,
  w,
  x_label,
  w_label,
  y_label,
  title,
  digits = 3,
  x_from_mean_in_sd = 1,
  w_from_mean_in_sd = 1,
  w_method = c("sd", "percentile"),
  w_percentiles = c(0.16, 0.84),
  x_method = c("sd", "percentile"),
  x_percentiles = c(0.16, 0.84),
  w_sd_to_percentiles = NA,
  x_sd_to_percentiles = NA,
  w_values = NULL,
  note_standardized = TRUE,
  no_title = FALSE,
  line_width = 1,
  point_size = 5,
  graph_type = c("default", "tumble")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotmod_+3A_output">output</code></td>
<td>
<p>The output
of <code><a href="stats.html#topic+lm">stats::lm()</a></code>, <code><a href="#topic+std_selected">std_selected()</a></code>, or
<code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_x">x</code></td>
<td>
<p>The name of the focal variable (x-axis) in 'output&ldquo;. It
can be the name of the variable, with or without quotes.
Currently only numeric variables are supported.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_w">w</code></td>
<td>
<p>The name of the moderator in <code>output</code>. It
can be the name of the variable, with or without quotes.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_x_label">x_label</code></td>
<td>
<p>The label for the X-axis. Default is the value of <code>x</code>.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_w_label">w_label</code></td>
<td>
<p>The label for the legend for the lines.
Default is the value of<code>w</code>.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_y_label">y_label</code></td>
<td>
<p>The label for the Y-axis. Default is the
name of the response variable in the model.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_title">title</code></td>
<td>
<p>The title of the graph. If not supplied, it will be
generated from the variable
names or labels (in <code>x_label</code>, <code>y_label</code>,
and <code>w_label</code>). If <code>""</code>, no title will be printed.
This can be used when the plot is for manuscript
submission and figures are required to have no
titles.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_digits">digits</code></td>
<td>
<p>Number of decimal places to print. Default is 3.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_x_from_mean_in_sd">x_from_mean_in_sd</code></td>
<td>
<p>How many SD from mean is used to define
&quot;low&quot; and
&quot;high&quot; for the focal variable.
Default is 1.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_w_from_mean_in_sd">w_from_mean_in_sd</code></td>
<td>
<p>How many SD from mean is used to define
&quot;low&quot; and
&quot;high&quot; for the moderator. Default is 1.
Ignored if <code>w</code> is categorical.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_w_method">w_method</code></td>
<td>
<p>How to define &quot;high&quot; and &quot;low&quot; for the moderator levels.
Default is in terms of the
standard deviation of the moderator, <code>"sd"</code>.
If equal to
<code>"percentile"</code>, then the percentiles of the moderator in
the
dataset are used.
Ignored if <code>w</code> is categorical.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_w_percentiles">w_percentiles</code></td>
<td>
<p>If <code>w_method</code> is <code>"percentile"</code>, then this
argument
specifies the two percentiles to be used,
divided by 100.
It must be a
vector of two numbers. The default is
<code>c(.16, .84)</code>,
the 16th and 84th percentiles,
which corresponds approximately
to one SD below and above mean for a
normal distribution, respectively.
Ignored if <code>w</code> is categorical.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_x_method">x_method</code></td>
<td>
<p>How to define &quot;high&quot; and &quot;low&quot; for the focal
variable levels.
Default is in terms of the
standard deviation of the focal variable, <code>"sd"</code>.
If equal to
<code>"percentile"</code>, then the percentiles of the
focal variable in the
dataset is used.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_x_percentiles">x_percentiles</code></td>
<td>
<p>If <code>x_method</code> is <code>"percentile"</code>, then this
argument
specifies the two percentiles to be used,
divided by 100.
It must be a
vector of two numbers. The default is
<code>c(.16, .84)</code>,
the 16th and 84th percentiles,
which corresponds approximately
to one SD below and above mean for a
normal distribution, respectively.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_w_sd_to_percentiles">w_sd_to_percentiles</code></td>
<td>
<p>If <code>w_method</code> is <code>"percentile"</code> and
this argument is
set to a number, this number will be
used
to determine the percentiles to be used.
The
lower percentile is the percentile in a
normal
distribution
that is <code>w_sd_to_percentiles</code> SD below
the mean.
The upper percentile is the percentile in
a normal
distribution that is <code>w_sd_to_percentiles</code>
SD
above the mean. Therefore, if
<code>w_sd_to_percentiles</code> is set to 1, then the
lower
and upper percentiles are 16th and 84th,
respectively. Default is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_x_sd_to_percentiles">x_sd_to_percentiles</code></td>
<td>
<p>If <code>x_method</code> is <code>"percentile"</code> and this
argument is
set to a number, this number will be used
to determine the percentiles to be used. The
lower percentile is the percentile in a
normal
distribution
that is <code>x_sd_to_percentiles</code> SD below the mean.
The upper percentile is the percentile in a normal
distribution that is <code>x_sd_to_percentiles</code> SD
above the mean. Therefore, if
<code>x_sd_to_percentiles</code> is set to 1, then the lower
and upper percentiles are 16th and 84th,
respectively. Default is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_w_values">w_values</code></td>
<td>
<p>The values of <code>w</code> to
be used. Default is <code>NULL</code>. If a
numeric vector is supplied, these
values will be used to compute the
conditional effects. Other arguments
on generating levels are ignored.
Note that, if <code>w</code> has been standardized
or centered, these values are for
the standardized or centered <code>w</code>.
The values will always be sorted.
This argument is ignored if <code>w</code> is
categorical.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_note_standardized">note_standardized</code></td>
<td>
<p>If <code>TRUE</code>, will check whether a variable has SD
nearly equal to one. If yes, will report this in the
plot.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_no_title">no_title</code></td>
<td>
<p>If <code>TRUE</code>, title will be suppressed. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_line_width">line_width</code></td>
<td>
<p>The width of the lines as used in
<code><a href="ggplot2.html#topic+geom_segment">ggplot2::geom_segment()</a></code>.
Default is 1.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_point_size">point_size</code></td>
<td>
<p>The size of the points as used in <code><a href="ggplot2.html#topic+geom_point">ggplot2::geom_point()</a></code>.
Default is 5.</p>
</td></tr>
<tr><td><code id="plotmod_+3A_graph_type">graph_type</code></td>
<td>
<p>If <code>"default"</code>, the typical line-graph with equal end-points
will be plotted. If <code>"tubmle"</code>, then the tumble graph
proposed by Bodner (2016) will be plotted. Default is
<code>"default"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function generate a basic <a href="ggplot2.html#topic+ggplot2">ggplot2</a> graph
typically found in psychology manuscripts. It tries to
check whether one or more variables are standardized, and
report this in the plot if required.
</p>
<p>This function only has features for typical plots of moderation effects.
It is not intended to be a flexible tool for a fine control on the plots.
</p>


<h3>Value</h3>

<p>A <a href="ggplot2.html#topic+ggplot2">ggplot2</a> graph. Plotted if not assigned to a name. It can
be further modified like a usual <a href="ggplot2.html#topic+ggplot2">ggplot2</a> graph.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Bodner, T. E. (2016). Tumble graphs: Avoiding misleading end point
extrapolation when graphing interactions from a moderated multiple
regression analysis. <em>Journal of Educational and Behavioral
Statistics, 41</em>(6), 593-604. <a href="https://doi.org/10.3102/1076998616657080">doi:10.3102/1076998616657080</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Do a moderated regression by lm
lm_out &lt;- lm(sleep_duration ~ age + gender + emotional_stability*conscientiousness, sleep_emo_con)
plotmod(lm_out,
        x = emotional_stability,
        w = conscientiousness,
        x_label = "Emotional Stability",
        w_label = "Conscientiousness",
        y_label = "Sleep Duration")

# Standardize all variables except for categorical variables
# Alternative: use to_standardize as a shortcut
# lm_std &lt;- std_selected(lm_out,
#                        to_standardize = ~ .)
lm_std &lt;- std_selected(lm_out,
                       to_scale = ~ .,
                       to_center = ~ .)
plotmod(lm_std,
        x = emotional_stability,
        w = conscientiousness,
        x_label = "Emotional Stability",
        w_label = "Conscientiousness",
        y_label = "Sleep Duration")

# Tumble Graph
plotmod(lm_std,
        x = emotional_stability,
        w = conscientiousness,
        x_label = "Emotional Stability",
        w_label = "Conscientiousness",
        y_label = "Sleep Duration",
        graph_type = "tumble")

</code></pre>

<hr>
<h2 id='print.cond_effect'>Print a 'cond_effect' Class Object</h2><span id='topic+print.cond_effect'></span>

<h3>Description</h3>

<p>Print the output of <code><a href="#topic+cond_effect">cond_effect()</a></code> or <code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cond_effect'
print(
  x,
  nd = 3,
  nd_stat = 3,
  nd_p = 3,
  title = TRUE,
  model = TRUE,
  level_info = TRUE,
  standardized = TRUE,
  boot_info = TRUE,
  table_only = FALSE,
  t_ci = FALSE,
  t_ci_level = 0.95,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.cond_effect_+3A_x">x</code></td>
<td>
<p>The output of <code><a href="#topic+cond_effect">cond_effect()</a></code> or <code><a href="#topic+cond_effect_boot">cond_effect_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_nd">nd</code></td>
<td>
<p>The number of digits for the variables.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_nd_stat">nd_stat</code></td>
<td>
<p>The number of digits for test statistics (e.g., <em>t</em>).</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_nd_p">nd_p</code></td>
<td>
<p>The number of digits for <em>p</em>-values.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_title">title</code></td>
<td>
<p>If <code>TRUE</code>, print a title. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_model">model</code></td>
<td>
<p>If <code>TRUE</code>, print the regression model. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_level_info">level_info</code></td>
<td>
<p>If <code>TRUE</code>, print information for interpreting the
levels of the moderator, such as the values of
the levels and distance from the mean. Default
is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_standardized">standardized</code></td>
<td>
<p>If <code>TRUE</code> and one or more variables are
standardized, report it. Default is <code>TRUE</code>.'</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_boot_info">boot_info</code></td>
<td>
<p>If <code>TRUE</code> and bootstrap estimates are in <code>x</code>,
print information about the bootstrapping,
such as the number of bootstrap samples.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_table_only">table_only</code></td>
<td>
<p>If <code>TRUE</code>, will suppress of other elements except
for the table of conditional effects. Override
arguments such as <code>title</code>, <code>model</code>, and <code>level_info</code>.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_t_ci">t_ci</code></td>
<td>
<p>If <code>TRUE</code>, will print the confidence intervals based on
t statistics. These confidence intervals should not be
used if some variables are standardized.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_t_ci_level">t_ci_level</code></td>
<td>
<p>The level of confidence of the confidence intervals
based on t statistics. Default is .95.</p>
</td></tr>
<tr><td><code id="print.cond_effect_+3A_...">...</code></td>
<td>
<p>Additional arguments. Ignored by this function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> is returned invisibility.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)

cond_effect(lm_raw, x = iv, w = mod)

lm_std &lt;- std_selected(lm_raw, to_scale = ~ iv + mod,
                               to_center = ~ iv + mod)

cond_effect(lm_std, x = iv, w = mod)

</code></pre>

<hr>
<h2 id='print.std_selected'>Print Basic Information of a 'std_selected' Class Object</h2><span id='topic+print.std_selected'></span>

<h3>Description</h3>

<p>Provide information of centering and scaling, along with
basic model information printed by the <code><a href="base.html#topic+print">print()</a></code> method of <code><a href="stats.html#topic+lm">lm()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'std_selected'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.std_selected_+3A_x">x</code></td>
<td>
<p>The output of <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="print.std_selected_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="base.html#topic+print">print()</a></code> method of <code><a href="stats.html#topic+lm">lm()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)

# Standardize all variables except for categorical variables.
# Interaction terms are formed after standardization.
lm_std &lt;- std_selected(lm_raw, to_scale = ~ .,
                               to_center = ~ .)
lm_std

# With bootstrapping
# nboot = 100 just for illustration. nboot &gt;= 2000 should be used in read
# research.
lm_std_boot &lt;- std_selected_boot(lm_raw, to_scale = ~ .,
                                         to_center = ~ .,
                                         nboot = 100)
lm_std_boot

</code></pre>

<hr>
<h2 id='print.stdmod_lavaan'>Print a 'stdmod_lavaan' Class Object</h2><span id='topic+print.stdmod_lavaan'></span>

<h3>Description</h3>

<p>Print the output of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stdmod_lavaan'
print(x, conf = 0.95, nd = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.stdmod_lavaan_+3A_x">x</code></td>
<td>
<p>The output of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>.</p>
</td></tr>
<tr><td><code id="print.stdmod_lavaan_+3A_conf">conf</code></td>
<td>
<p>If nonparametric bootstrapping has been conducted by
<code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>,
this is the level of confidence in proportion (.95 denotes 95%),
of the confidence interval. Default is .95.</p>
</td></tr>
<tr><td><code id="print.stdmod_lavaan_+3A_nd">nd</code></td>
<td>
<p>The number of digits to be printed.</p>
</td></tr>
<tr><td><code id="print.stdmod_lavaan_+3A_...">...</code></td>
<td>
<p>Optional arguments. Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a test data of 500 cases

dat &lt;- test_mod1
library(lavaan)

mod &lt;-
"
med ~ iv + mod + iv:mod + cov1
dv ~ med + cov2
"
fit &lt;- sem(mod, dat)
coef(fit)

# Compute the standardized moderation effect
out_noboot &lt;- stdmod_lavaan(fit = fit,
                            x = "iv",
                            y = "med",
                            w = "mod",
                            x_w = "iv:mod")
out_noboot

# Compute the standardized moderation effect and
# its percentile confidence interval based on nonparametric bootstrapping
# Fit the model with bootstrap confidence intervals
# At least 2000 bootstrap samples should be used
# in real research. 50 is used here only for
# illustration.
fit &lt;- sem(mod, dat, se = "boot", bootstrap = 50,
           iseed = 89574)
out_boot &lt;- stdmod_lavaan(fit = fit,
                          x = "iv",
                          y = "med",
                          w = "mod",
                          x_w = "iv:mod",
                          boot_ci = TRUE)

out_boot


</code></pre>

<hr>
<h2 id='print.summary.std_selected'>Print the Summary of a 'std_selected' Class Object</h2><span id='topic+print.summary.std_selected'></span>

<h3>Description</h3>

<p>Print the summary generated by <code><a href="base.html#topic+summary">summary()</a></code> on the output
of <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.std_selected'
print(
  x,
  ...,
  est_digits = 4,
  t_digits = 4,
  pvalue_less_than = 0.001,
  default_style = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.summary.std_selected_+3A_x">x</code></td>
<td>
<p>The output of <code><a href="base.html#topic+summary">summary()</a></code>.</p>
</td></tr>
<tr><td><code id="print.summary.std_selected_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="base.html#topic+summary">summary()</a></code>.</p>
</td></tr>
<tr><td><code id="print.summary.std_selected_+3A_est_digits">est_digits</code></td>
<td>
<p>The number of digits
after the decimal to be displayed for
the coefficient estimates, their
standard errors, and bootstrap
confidence intervals (if present). Note
that the values will be rounded to
this number of digits before printing.
If all digits at this position are
zero for all values, the values may
be displayed with fewer digits.
Note that the coefficient table is
printed by <code><a href="stats.html#topic+printCoefmat">stats::printCoefmat()</a></code>.
If some numbers are vary large, the
number of digits after the decimal
may be smaller than <code>est_digits</code> due
to a limit on the column width.
This value also determines the number
of digits for displayed R-squared
if <code>default_style</code> is <code>FALSE</code>.
Default if 4.</p>
</td></tr>
<tr><td><code id="print.summary.std_selected_+3A_t_digits">t_digits</code></td>
<td>
<p>The number of digits
after the decimal to be displayed
for the <em>t</em> statistic (in the column
<code>"t value"</code>). This value also
determines the number of digits for
the <em>F</em> statistic for the R-squared
if <code>default_style</code> is <code>FALSE</code>.
Default is 4.</p>
</td></tr>
<tr><td><code id="print.summary.std_selected_+3A_pvalue_less_than">pvalue_less_than</code></td>
<td>
<p>If a <em>p</em>-value
is less than this value, it will be
displayed with <code style="white-space: pre;">&#8288;"&lt;(this value)".&#8288;</code>
For example, if <code>pvalue_less_than</code>
is .001, the default, <em>p</em>-values less
than .001 will be displayed as
<code style="white-space: pre;">&#8288;&lt;.001&#8288;</code>. This value also determines
the printout of the <em>p</em>-value of
the <em>F</em> statistic if <code>default_style</code>
is <code>FALSE</code>. (This argument does what
<code>eps.Pvalue</code> does in
<code><a href="stats.html#topic+printCoefmat">stats::printCoefmat()</a></code>.)</p>
</td></tr>
<tr><td><code id="print.summary.std_selected_+3A_default_style">default_style</code></td>
<td>
<p>Logical. If
<code>FALSE</code>, the default, R-squared
and <em>F</em> statistic will be displayed
in a more readable style. If <code>TRUE</code>,
then the default style in the
printout of the <code>summary</code> of
<code><a href="stats.html#topic+lm">lm()</a></code> output will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)

# Standardize all variables except for categorical variables.
# Interaction terms are formed after standardization.
lm_std &lt;- std_selected(lm_raw, to_scale = ~ .,
                               to_center = ~ .)
summary(lm_std)

# With bootstrapping
# nboot = 100 just for illustration. nboot &gt;= 2000 should be used in read
# research.
lm_std_boot &lt;- std_selected_boot(lm_raw, to_scale = ~ .,
                                         to_center = ~ .,
                                         nboot = 100)
summary(lm_std_boot)

</code></pre>

<hr>
<h2 id='sleep_emo_con'>Sample Dataset: Predicting Sleep Duration</h2><span id='topic+sleep_emo_con'></span>

<h3>Description</h3>

<p>A random subset from a real dataset. For
illustration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sleep_emo_con
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and six variables:
</p>

<dl>
<dt>case_id</dt><dd><p>Case ID, integer</p>
</dd>
<dt>sleep_duration</dt><dd><p>Sleep duration in hours</p>
</dd>
<dt>conscientiousness</dt><dd><p>Conscientiousness score, continuous</p>
</dd>
<dt>emotional_stability</dt><dd><p>Emotional stability score, continuous</p>
</dd>
<dt>age</dt><dd><p>Age in years</p>
</dd>
<dt>gender</dt><dd><p>Gender, string, &quot;female&quot; or &quot;male&quot;</p>
</dd>
</dl>


<hr>
<h2 id='std_selected'>Standardize Variables in a Regression Model</h2><span id='topic+std_selected'></span><span id='topic+std_selected_boot'></span>

<h3>Description</h3>

<p>Standardize, mean center, or scale by standard deviation
selected variables in a regression model and refit the model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>std_selected(lm_out, to_scale = NULL, to_center = NULL, to_standardize = NULL)

std_selected_boot(
  lm_out,
  to_scale = NULL,
  to_center = NULL,
  to_standardize = NULL,
  conf = 0.95,
  nboot = 100,
  boot_args = NULL,
  save_boot_est = TRUE,
  full_output = FALSE,
  do_boot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="std_selected_+3A_lm_out">lm_out</code></td>
<td>
<p>The output from <code><a href="stats.html#topic+lm">lm()</a></code>.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_to_scale">to_scale</code></td>
<td>
<p>The terms to be rescaled by standard deviation,
specified by a formula as in <code><a href="stats.html#topic+lm">lm()</a></code>. For example, if the terms to be scaled
are <code>x1</code> and <code>x3</code>, use <code>~ x1 + x3</code>. No need to specify the
interaction
term. To scale the outcome variable, list it on the <em>right hand side</em>
as a predictor.
Specify only the original variables. If <code>NULL</code>, then no terms
will be rescaled by their standard deviations. Variables that are not
numeric will be ignored. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_to_center">to_center</code></td>
<td>
<p>The terms to be mean centered, specified by a formula
as in <code><a href="stats.html#topic+lm">lm()</a></code>. For example, if the terms to be centered
is <code>x1</code> and <code>x3</code>, use <code>~ x1 + x3</code>. No need to specify the
interaction term. To center  the outcome variable, list it on the
<em>right hand side</em>
as a predictor.
Specify only the original variables. If <code>NULL</code>, then no term
will be centered. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_to_standardize">to_standardize</code></td>
<td>
<p>The terms to be standardized, specified by a formula
as in <code><a href="stats.html#topic+lm">lm()</a></code>. For example, if the terms to be standardized
is <code>x1</code> and <code>x3</code>, use <code>~ x1 + x3</code>. No need to specify the
interaction term. To standardize the outcome variable, list it on the
<em>right hand side</em>
as a predictor.
Specify only the original variables.
This is a shortcut to <code>to_center</code> and <code>to_scale</code>. Listing a variable
in <code>to_standardize</code> is equivalent to listing this variable in
both <code>to_center</code> and <code>to_scale</code>.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_conf">conf</code></td>
<td>
<p>The level of confidence for the confidence interval.
Default is .95.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_nboot">nboot</code></td>
<td>
<p>The number of bootstrap samples. Default is 100.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_boot_args">boot_args</code></td>
<td>
<p>A named list of arguments to be passed to <code><a href="boot.html#topic+boot">boot::boot()</a></code>.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_save_boot_est">save_boot_est</code></td>
<td>
<p>If <code>TRUE</code>, the default, the bootstrap estimates will
be saved in the element
<code>boot_est</code> of the output.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_full_output">full_output</code></td>
<td>
<p>Whether the full output from <code><a href="boot.html#topic+boot">boot::boot()</a></code> is returned.
Default is <code>FALSE</code>. If <code>TRUE</code>, the full output from
<code><a href="boot.html#topic+boot">boot::boot()</a></code> will be saved in the element <code>boot_out</code>
of the output.</p>
</td></tr>
<tr><td><code id="std_selected_+3A_do_boot">do_boot</code></td>
<td>
<p>Whether bootstrapping confidence intervals will be formed.
Default is <code>TRUE</code>. If <code>FALSE</code>, all arguments related to
bootstrapping will be ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+std_selected">std_selected()</a></code> was originally developed to compute the standardized
moderation effect and the standardized coefficients for other predictors
given an <code><a href="stats.html#topic+lm">lm()</a></code> output (Cheung, Cheung, Lau, Hui, &amp; Vong, 2022).
It has been extended such that users can specify
which variables in a regression model are to be mean-centered and/or
rescaled by
their standard deviations. If the model has one or more interaction terms,
they will be formed after the transformation, yielding the correct
standardized solution for a moderated regression model. Moreover,
categorical predictors will be automatically skipped in mean-centering
and rescaling.
</p>
<p>Standardization is conducted when a variable is mean-centered and then
rescaled by its standard deviation. Therefore, if the goal is to get the
standardized solution of a moderated regression, users
just instruct the function to standardize all non-categorical variables
in the regression model.
</p>
<p><code><a href="#topic+std_selected_boot">std_selected_boot()</a></code> is a wrapper of <code><a href="#topic+std_selected">std_selected()</a></code>. It calls
<code><a href="#topic+std_selected">std_selected()</a></code>
once
for each bootstrap sample, and then computes the nonparametric
bootstrap
percentile confidence intervals (Cheung, Cheung, Lau, Hui, &amp; Vong, 2022).
</p>
<p>If <code>do_boot</code> is <code>FALSE</code>, then the object it returns is identical to that
by <code><a href="#topic+std_selected">std_selected()</a></code>.
</p>
<p>This function intentionally does not have an argument for setting the seed
for
random number. Users are recommended to set the seed, e.g., using
<code><a href="base.html#topic+set.seed">set.seed()</a></code>
before calling it, to ensure reproducibility.
</p>


<h3>Value</h3>

<p>The updated <code><a href="stats.html#topic+lm">lm()</a></code> output, with the class <code>std_selected</code> added. It will be
treated as a usual <code><a href="stats.html#topic+lm">lm()</a></code> object by most functions. These are the major
additional element in the list:
</p>

<ul>
<li> <p><code>scaled_terms</code>: If not <code>NULL</code>, a character vector of the variables scaled.
</p>
</li>
<li> <p><code>centered_terms</code>: If not <code>NULL</code>, a character vector of the variables mean-centered.
</p>
</li>
<li> <p><code>scaled_by</code>: A numeric vector of the scaling factors for all the variables in
the model. The value is 1 for terms not scaled.
</p>
</li>
<li> <p><code>centered_by</code>: A numeric vector of the numbers used for centering for all
the variables in the model. The value is 0 for
terms not centered.
</p>
</li>
<li> <p><code>std_selected_call</code>: The original call.
</p>
</li>
<li> <p><code>lm_out_call</code>: The call in <code>lm_out</code>.
</p>
</li></ul>

<p>Like <code><a href="#topic+std_selected">std_selected()</a></code>, <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code> returns the updated <code><a href="stats.html#topic+lm">lm()</a></code>
output, with the class <code>std_selected</code> added. The output of <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>
contain these additional elements in the list:
</p>

<ul>
<li> <p><code>boot_ci</code>: A data frame of the bootstrap confidence intervals of the
regression coefficient.
</p>
</li>
<li> <p><code>nboot</code>: The number of bootstrap samples requested.
</p>
</li>
<li> <p><code>conf</code>: The level of confidence, in proportion.
</p>
</li>
<li> <p><code>boot_est</code>: A matrix of the bootstrap estimates of the regression coefficients.
The number of rows equal to <code>nboot</code>, and the number of columns
equal to the number of terms in the regression model.
</p>
</li>
<li> <p><code>std_selected_boot_call</code>: The call to <code>std_selected_boot()</code>.
</p>
</li>
<li> <p><code>boot_out</code>: If available, the original output from <code>boot::boot()</code>.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>std_selected()</code>: The base function to center or
scale selected variables in a regression model
</p>
</li>
<li> <p><code>std_selected_boot()</code>: A wrapper of <code><a href="#topic+std_selected">std_selected()</a></code> that forms
nonparametric bootstrap confidence intervals.
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N.
(2022) Improving an old way to measure moderation effect in standardized
units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188">doi:10.1037/hea0001188</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500
head(dat)

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)

# Mean center mod only
lm_cw &lt;- std_selected(lm_raw, to_center = ~ mod)
summary(lm_cw)

# Mean center mod and iv
lm_cwx &lt;- std_selected(lm_raw, to_center = ~ mod + iv)
summary(lm_cwx)

# Standardize both mod and iv
lm_stdwx &lt;- std_selected(lm_raw, to_scale = ~ mod + iv,
                               to_center = ~ mod + iv)
summary(lm_stdwx)

# Standardize all variables except for categorical variables.
# Interaction terms are formed after standardization.
lm_std &lt;- std_selected(lm_raw, to_scale = ~ .,
                               to_center = ~ .)
summary(lm_std)

# Use to_standardize as a shortcut
lm_stdwx2 &lt;- std_selected(lm_raw, to_standardize = ~ mod + iv)
# The results are the same
coef(lm_stdwx)
coef(lm_stdwx2)
all.equal(coef(lm_stdwx), coef(lm_stdwx2))



dat &lt;- test_x_1_w_1_v_1_cat1_n_500
head(dat)

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)
# Standardize all variables as in std_selected above, and compute the
# nonparametric bootstrapping percentile confidence intervals.
set.seed(87053)
lm_std_boot &lt;- std_selected_boot(lm_raw,
                                 to_scale = ~ .,
                                 to_center = ~ .,
                                 conf = .95,
                                 nboot = 100)
# In real analysis, nboot should be at least 2000.
summary(lm_std_boot)

# Use to_standardize as a shortcut
set.seed(87053)
lm_std_boot2 &lt;- std_selected_boot(lm_raw,
                                  to_standardize = ~ .,
                                  conf = .95,
                                  nboot = 100)
# The results are the same
confint(lm_std_boot)
confint(lm_std_boot2)
all.equal(confint(lm_std_boot), confint(lm_std_boot2))


</code></pre>

<hr>
<h2 id='stdmod'>Standardized Moderation Effect Given an 'lm' Output</h2><span id='topic+stdmod'></span><span id='topic+stdmod_boot'></span>

<h3>Description</h3>

<p>Compute the standardized moderation effect in a moderated
regression model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stdmod(
  lm_out,
  x = NULL,
  w = NULL,
  y = NULL,
  x_rescale = TRUE,
  w_rescale = TRUE,
  y_rescale = TRUE
)

stdmod_boot(
  lm_out,
  ...,
  nboot = 100,
  conf = 0.95,
  boot_args = NULL,
  full_output = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stdmod_+3A_lm_out">lm_out</code></td>
<td>
<p>The output from <code><a href="stats.html#topic+lm">lm()</a></code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_x">x</code></td>
<td>
<p>The focal variable, that is, the variable with its effect
being moderated. If supplied, its standard deviation will be
used
for rescaling. Also called the independent variable in some
models. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_w">w</code></td>
<td>
<p>The moderator. If supplied, its standard deviation will be
used
for rescaling. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_y">y</code></td>
<td>
<p>The outcome variable (dependent variable) . If supplied,
its standard
deviation will be used for rescaling. Default is NULL.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_x_rescale">x_rescale</code></td>
<td>
<p>If <code>TRUE</code>, will rescale x by its standard deviation.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_w_rescale">w_rescale</code></td>
<td>
<p>If <code>TRUE</code>, will rescale w by its standard deviation.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_y_rescale">y_rescale</code></td>
<td>
<p>If <code>TRUE</code>, will rescale y by its standard deviation.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_...">...</code></td>
<td>
<p>Parameters to be passed to <code><a href="#topic+stdmod">stdmod()</a></code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_nboot">nboot</code></td>
<td>
<p>The number of bootstrap samples. Default is 100.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_conf">conf</code></td>
<td>
<p>The level of confidence for the confidence interval.
Default is .95.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_boot_args">boot_args</code></td>
<td>
<p>A named list of arguments to be passed to <code><a href="boot.html#topic+boot">boot::boot()</a></code>.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="stdmod_+3A_full_output">full_output</code></td>
<td>
<p>Whether the full output from <code><a href="boot.html#topic+boot">boot::boot()</a></code> is returned.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two more general functions, <code><a href="#topic+std_selected">std_selected()</a></code> and
<code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>, have been developed and can do what these functions
do and more. Users are recommended to use them instead of <code><a href="#topic+stdmod">stdmod()</a></code> and
<code><a href="#topic+stdmod_boot">stdmod_boot()</a></code>. These two functions will not be updated in the near
future.
</p>
<p>Nevertheless, if computing the standardized moderation effect and
forming its nonparametric
bootstrap interval are all required, then these functions can still
be used.
</p>
<p><code><a href="#topic+stdmod">stdmod()</a></code> computes the standardized moderation effect given an
<code><a href="stats.html#topic+lm">lm()</a></code> output using the formula from Cheung, Cheung, Lau, Hui, and Vong
(2022). Users specify
the moderator, the focal variable (the variable with its effect on
the outcome variable moderated), the outcome variable (dependent variable)
, and the corresponding
standardized moderation
effect. Users can also select which variable(s) will be standardized.
</p>
<p><code><a href="#topic+stdmod_boot">stdmod_boot()</a></code> is a wrapper of <code><a href="#topic+stdmod">stdmod()</a></code>. It computes the nonparametric
bootstrap confidence interval of the standardized moderation effect, as
suggested by Cheung, Cheung, Lau, Hui, and Vong (2022), given
the output of <code><a href="stats.html#topic+lm">lm()</a></code>
</p>
<p>Percentile interval from <code><a href="boot.html#topic+boot.ci">boot::boot.ci()</a></code> is returned by this function.
If other types of
confidence intervals are desired, set <code>full_output = TRUE</code> and use
<code><a href="boot.html#topic+boot.ci">boot::boot.ci()</a></code> on the element <code>boot_out</code> in the output of this
function.
</p>


<h3>Value</h3>

<p><code><a href="#topic+stdmod">stdmod()</a></code> returns a scalar: The standardized moderation effect.
</p>
<p><code><a href="#topic+stdmod_boot">stdmod_boot()</a></code> returns a list with two elements. The element <code>ci</code> is
a numeric vector of the bootstrap confidence interval. The element <code>boot_out</code>,
if not <code>NA</code>, is the output of <code><a href="boot.html#topic+boot">boot::boot()</a></code>, which is used to do the
bootstrapping.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>stdmod()</code>: The base function for computing standardized
moderation effect
</p>
</li>
<li> <p><code>stdmod_boot()</code>: A wrapper of <code><a href="#topic+stdmod">stdmod()</a></code> that computes the nonparametric
bootstrap confidence interval of the standardized
moderation effect.
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N.
(2022) Improving an old way to measure moderation effect in standardized
units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188">doi:10.1037/hea0001188</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a test data of 500 cases

dat &lt;- test_x_1_w_1_v_2_n_500

# Do regression as usual:
lm_raw &lt;- lm(dv ~ iv*mod + v1 + v2, dat)
summary(lm_raw)

# The standard deviations of iv, dv, and mod:
sds &lt;- apply(dat, 2, sd)
sds

# Compute the standardized moderation effect:
stdmod_xyw &lt;- stdmod(lm_raw, x = iv, y = dv, w = mod)
stdmod_xyw
# By default, all three variables will be standardized.

# Check against self-computed standardized moderation effect:
coef(lm_raw)["iv:mod"] * sds["iv"] * sds["mod"] / sds["dv"]

# Standardize only the iv, i.e., do not standardized dv and the moderator:
stdmod_x &lt;- stdmod(lm_raw, x = iv, y = dv, w = mod,
                   x_rescale = TRUE,  y_rescale = FALSE, w_rescale = FALSE)
stdmod_x
# Check against self-computed moderation effect with only iv standardized:
coef(lm_raw)["iv:mod"] * sds["iv"]


dat &lt;- test_x_1_w_1_v_2_n_500
# Do regression as usual:
lm_raw &lt;- lm(dv ~ iv*mod + v1 + v2, dat)

# Compute the standardized moderation effect.
# Form its confidence interval by nonparametric bootstrapping.
set.seed(85740917)
stdmod_xyw_boot &lt;- stdmod_boot(lm_raw, x = iv, w = mod, y = dv, nboot = 100)
# In real analysis, nboot should be at least 2000.

# Print the ci
stdmod_xyw_boot$ci

# Repeat the analysis but keep the results from boot:
set.seed(85740917)
stdmod_xyw_boot &lt;- stdmod_boot(lm_raw, x = iv, w = mod, y = dv,
                                 nboot = 200, full_output = TRUE)
# In real analysis, nboot should be at least 2000.

# Print the 95% percentile confidence interval
stdmod_xyw_boot$ci


</code></pre>

<hr>
<h2 id='stdmod_lavaan'>Standardized Moderation Effect and Its Bootstrap CI in 'lavaan'</h2><span id='topic+stdmod_lavaan'></span>

<h3>Description</h3>

<p>Compute the standardized moderation effect in a structural
equation model fitted by <code><a href="lavaan.html#topic+lavaan">lavaan::lavaan()</a></code> or its wrappers and
form the nonparametric bootstrap confidence interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stdmod_lavaan(
  fit,
  x,
  y,
  w,
  x_w,
  standardized_x = TRUE,
  standardized_y = TRUE,
  standardized_w = TRUE,
  boot_ci = FALSE,
  boot_out = NULL,
  R = 100,
  conf = 0.95,
  use_old_version = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stdmod_lavaan_+3A_fit">fit</code></td>
<td>
<p>The SEM output by <code><a href="lavaan.html#topic+lavaan">lavaan::lavaan()</a></code> or its wrappers.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_x">x</code></td>
<td>
<p>The name of the focal variable in the model, the variable with
its effect on the outcome variable being moderated.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (dependent variable) in the model.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_w">w</code></td>
<td>
<p>The name of the moderator in the model.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_x_w">x_w</code></td>
<td>
<p>The name of the product term (x * w) in the model. It can be
the variable generated by the colon operator, e.g., <code>"x:w"</code>,
which is only in the model and not in the original data set.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_standardized_x">standardized_x</code></td>
<td>
<p>If <code>TRUE</code>, the default, <code>x</code> is standardized when
computing the standardized moderation effect.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_standardized_y">standardized_y</code></td>
<td>
<p>If <code>TRUE</code>, the default, <code>y</code> is standardized when
computing the standardized moderation effect.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_standardized_w">standardized_w</code></td>
<td>
<p>If <code>TRUE</code>, the default, <code>w</code> is standardized when
computing the standardized moderation effect.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_boot_ci">boot_ci</code></td>
<td>
<p>Boolean. Whether nonparametric bootstrapping will be
conducted. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_boot_out">boot_out</code></td>
<td>
<p>If set to the output of <code><a href="manymome.html#topic+do_boot">manymome::do_boot()</a></code>, the stored
bootstrap estimates will be retrieved to form the bootstrap confidence
interval. If set, bootstrap estimates stored in <code>fit</code>, if any, will not
be used. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_r">R</code></td>
<td>
<p>(Not used in the current version. Used when <code>use_old_version</code>
is set to <code>TRUE</code>.)
The number of nonparametric bootstrapping samples. Default is 100.
Set this to at least 2000 in actual use.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_conf">conf</code></td>
<td>
<p>The level of confidence. Default is .95, i.e., 95%.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_use_old_version">use_old_version</code></td>
<td>
<p>If set to <code>TRUE</code>, it will use the bootstrapping
method used in 0.2.7.4 or before. Included only for reproducing
previous results if necessary. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="stdmod_lavaan_+3A_...">...</code></td>
<td>
<p>(Not used in the current version. Used when <code>use_old_version</code>
is set to <code>TRUE</code>.) Optional arguments to be passed to <code><a href="boot.html#topic+boot">boot::boot()</a></code>. Parallel
processing can be used by adding the appropriate arguments in
<code><a href="boot.html#topic+boot">boot::boot()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Important Notes</h4>

<p>Starting from Version 0.2.7.5, of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code> adopts an approach
to bootstrapping different from that in the previous
versions (0.2.7.4 and before),
yielding bootstrapping results different from those in
previous versions (for reasons explained later).
</p>
<p>To reproduce results from the older version of this function,
set <code>use_old_version</code> to <code>TRUE</code>.
</p>



<h4>How it works</h4>

<p><code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code> accepts a <a href="lavaan.html#topic+lavaan-class">lavaan::lavaan</a> object, the
structural equation model output returned
by <code><a href="lavaan.html#topic+lavaan">lavaan::lavaan()</a></code> and its wrappers (e.g, <code><a href="lavaan.html#topic+sem">lavaan::sem()</a></code>) and computes
the standardized moderation effect using the formula in the appendix of
Cheung, Cheung, Lau, Hui, and Vong (2022).
</p>
<p>The standard deviations of the focal variable (the variable with its effect
on the outcome variable being moderated), moderator, and outcome
variable (dependent variable) are computed from the implied
covariance matrix returned by
<code><a href="lavaan.html#topic+lavInspect">lavaan::lavInspect()</a></code>. Therefore, models fitted to data sets with missing
data (e.g., with <code>missing = "fiml"</code>) are also supported.
</p>
<p>Partial standardization can also be requested. For example, standardization
can be requested for only the focal variable and the outcome variable.
</p>
<p>There are two ways to request nonparametric bootstrap
confidence interval. First, the model is fitted with <code>se = "boot"</code>
or <code>se = "bootstrap"</code> in <code>lavaan</code>. The stored bootstrap
estimates will then be retrieved automatically to compute the
standardized moderation effect. This is the most efficient approach
if the bootstrap confidence intervals are also needed for
other parameters in the model. Bootstrapping needs to be
done only once.
</p>
<p>Second, bootstrap estimates can be generated by <code><a href="manymome.html#topic+do_boot">manymome::do_boot()</a></code>.
The output is then supplied through the argument <code>boot_out</code>.
Bootstrapping also only needs to be done once. This approach
is appropriate when bootstrapping confidence intervals are
not needed for other model parameters, or another type
of confidence interval is needed when fitting the model.
Please refer to the help page of <code><a href="manymome.html#topic+do_boot">manymome::do_boot()</a></code>
on how to use this function.
</p>
<p>In both approaches, the standard deviations are also computed
in each bootstrap samples. This ensures that the sampling
variability of the standard deviations is also taken into
account in computing the bootstrap confidence interval of
the standardized moderation effect.
</p>



<h4>Note on the differences between the current version (Version 0.2.7.5 or later) and previous versions (0.2.7.4 and before)</h4>

<p>In older versions, <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code> does not allow for
partial standardization. Moreover,
it uses <code><a href="boot.html#topic+boot">boot::boot()</a></code> to do the bootstrapping. Even with
the same seed, the results from <code><a href="boot.html#topic+boot">boot::boot()</a></code> are not
identical to those of <code>lavaan</code> with <code>se = "boot"</code>
because they differ in the way the indices
of resampling are generated. Both approaches are correct,
They just use the generated random numbers differently.
To have results consistent with those from <code>lavaan</code>,
the current version of <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code> adopts a
resampling algorithm identical to that of <code>lavaan</code>.
Last, in older versions, <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code> does
bootstrapping every time it is called. This is
inefficient.
</p>
<p>The bootstrapping results in the current version are not
identical to those in older versions due to the use
of different resampling algorithms, To reproduce
previous results, set <code>use_old_version</code> to <code>TRUE</code>
</p>



<h3>Value</h3>

<p>A list of class <code>stdmod_lavaan</code> with these elements:
</p>

<ul>
<li> <p><code>stdmod</code>: The standardized moderation effect.
</p>
</li>
<li> <p><code>ci</code>: The nonparametric bootstrap confidence interval. <code>NA</code> if
confidence interval not requested.
</p>
</li>
<li> <p><code>boot_out</code>: The raw output from <code><a href="boot.html#topic+boot">boot::boot()</a></code>. <code>NA</code> if
confidence interval not requested.
</p>
</li>
<li> <p><code>fit</code>: The original fit object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N.
(2022) Improving an old way to measure moderation effect in standardized
units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188">doi:10.1037/hea0001188</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Load a test data of 500 cases

dat &lt;- test_mod1
library(lavaan)
mod &lt;-
"
med ~ iv + mod + iv:mod + cov1
dv ~ med + cov2
"

fit &lt;- sem(mod, dat)

# Compute the standardized moderation effect
out_noboot &lt;- stdmod_lavaan(fit = fit,
                            x = "iv",
                            y = "med",
                            w = "mod",
                            x_w = "iv:mod")
out_noboot

# Compute the standardized moderation effect and
# its percentile confidence interval using
# nonparametric bootstrapping
# Fit the model with bootstrap confidence intervals
# At least 2000 bootstrap samples should be used
# in real research. 50 is used here only for
# illustration.
fit &lt;- sem(mod, dat, se = "boot", bootstrap = 50,
           iseed = 89574)
out_boot &lt;- stdmod_lavaan(fit = fit,
                          x = "iv",
                          y = "med",
                          w = "mod",
                          x_w = "iv:mod",
                          boot_ci = TRUE)
out_boot

</code></pre>

<hr>
<h2 id='stdmod-package'>stdmod: Standardized Moderation Effect and Its Confidence Interval</h2><span id='topic+stdmod-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Functions for computing a standardized moderation effect in moderated regression and forming its confidence interval by nonparametric bootstrapping as proposed in Cheung, Cheung, Lau, Hui, and Vong (2022) <a href="https://doi.org/10.1037/hea0001188">doi:10.1037/hea0001188</a>. Also includes simple-to-use functions for computing conditional effects (unstandardized or standardized) and plotting moderation effects.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Shu Fai Cheung <a href="mailto:shufai.cheung@gmail.com">shufai.cheung@gmail.com</a> (<a href="https://orcid.org/0000-0002-9871-9448">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> David Weng Ngai Vong [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://sfcheung.github.io/stdmod/">https://sfcheung.github.io/stdmod/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/sfcheung/stdmod/issues">https://github.com/sfcheung/stdmod/issues</a>
</p>
</li></ul>


<hr>
<h2 id='summary.std_selected'>Summary Method for a 'std_selected' Class Object</h2><span id='topic+summary.std_selected'></span>

<h3>Description</h3>

<p>Summarize the results of <code><a href="#topic+std_selected">std_selected()</a></code> or
<code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'std_selected'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.std_selected_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="summary.std_selected_+3A_...">...</code></td>
<td>
<p>Additional arguments. Ignored by this function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>summary.std_selected</code>, with
bootstrap confidence intervals added if present in the object.
The object is a list. Its main element <code>coefficients</code> is similar to
the
coefficient table in the <code><a href="base.html#topic+summary">summary()</a></code> printout of <code><a href="stats.html#topic+lm">lm()</a></code>.
This object is for printing summary information of the results
from <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)

# Standardize all variables except for categorical variables.
# Interaction terms are formed after standardization.
lm_std &lt;- std_selected(lm_raw, to_scale = ~ .,
                               to_center = ~ .)
summary(lm_std)

# With bootstrapping
# nboot = 100 just for illustration. nboot &gt;= 2000 should be used in read
# research.
lm_std_boot &lt;- std_selected_boot(lm_raw, to_scale = ~ .,
                                         to_center = ~ .,
                                         nboot = 100)
summary(lm_std_boot)

</code></pre>

<hr>
<h2 id='test_mod1'>Sample Dataset: A Path Model With A Moderator</h2><span id='topic+test_mod1'></span>

<h3>Description</h3>

<p>For testing. Generated from the following
model.
</p>
<div class="sourceCode"><pre>mod &lt;-
"
med ~ iv + mod + iv:mod + cov1
dv ~ med + cov2
"
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>test_mod1
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 6 variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>med</dt><dd><p>Mediator, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator, continuous</p>
</dd>
<dt>cov1</dt><dd><p>Covariate, continuous</p>
</dd>
<dt>cov2</dt><dd><p>Covariate, continuous</p>
</dd>
</dl>


<hr>
<h2 id='test_mod2'>Sample Dataset: A Path Model With A Moderator</h2><span id='topic+test_mod2'></span>

<h3>Description</h3>

<p>For testing. Generated from the following
model.
</p>
<div class="sourceCode"><pre>mod &lt;-
"
med ~ iv + cov1
dv ~ med + mod + med:mod + cov2
"
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>test_mod2
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 6 variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>med</dt><dd><p>Mediator, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator, continuous</p>
</dd>
<dt>cov1</dt><dd><p>Covariate, continuous</p>
</dd>
<dt>cov2</dt><dd><p>Covariate, continuous</p>
</dd>
</dl>


<hr>
<h2 id='test_mod3_miss'>Sample Dataset: A Path Model With A Moderator</h2><span id='topic+test_mod3_miss'></span>

<h3>Description</h3>

<p>For testing the handling of warnings
in <code><a href="#topic+stdmod_lavaan">stdmod_lavaan()</a></code>. Generated from the following
model. <code>dv</code> has about 88% missing. A warning on missing
data will be raised in some bootstrap samples.
</p>
<div class="sourceCode"><pre>mod &lt;-
"
med ~ iv + mod + iv:mod + cov1
dv ~ med + cov2
"
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>test_mod3_miss
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 6 variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>med</dt><dd><p>Mediator, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator, continuous</p>
</dd>
<dt>cov1</dt><dd><p>Covariate, continuous</p>
</dd>
<dt>cov2</dt><dd><p>Covariate, continuous</p>
</dd>
</dl>


<hr>
<h2 id='test_x_1_w_1_v_1_cat1_n_500'>Sample Dataset: One IV, One Moderator, Two Covariates</h2><span id='topic+test_x_1_w_1_v_1_cat1_n_500'></span>

<h3>Description</h3>

<p>A covariate
(cat1) is
categorical. For testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_x_1_w_1_v_1_cat1_n_500
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and five variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator variable, continuous</p>
</dd>
<dt>v1</dt><dd><p>Covariate, continuous</p>
</dd>
<dt>cat1</dt><dd><p>Covariate, categorical (string) with three values: &quot;gp1&quot;,
&quot;gp2&quot;, and &quot;gp3&quot;</p>
</dd>
</dl>


<hr>
<h2 id='test_x_1_w_1_v_1_cat1_xw_cov_n_500'>Sample Dataset: One IV, One Moderator, Two Covariates</h2><span id='topic+test_x_1_w_1_v_1_cat1_xw_cov_n_500'></span>

<h3>Description</h3>

<p>The independent variable and the moderator are
associated. For demonstrating the use of tumble graph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_x_1_w_1_v_1_cat1_xw_cov_n_500
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 5 variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator variable, continuous</p>
</dd>
<dt>v1</dt><dd><p>Covariate, continuous</p>
</dd>
<dt>cat1</dt><dd><p>Covariate, categorical (string) with three values, &quot;gp1&quot;,
&quot;gp2&quot;, and &quot;gp3&quot;</p>
</dd>
</dl>


<hr>
<h2 id='test_x_1_w_1_v_1_cat1_xw_cov_wcat3_n_500'>Sample Dataset: One IV, One 3-Category Moderator, Two Covariates</h2><span id='topic+test_x_1_w_1_v_1_cat1_xw_cov_wcat3_n_500'></span>

<h3>Description</h3>

<p>The independent variable and the categorical
moderator are
associated. For demonstrating the use of tumble graph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_x_1_w_1_v_1_cat1_xw_cov_wcat3_n_500
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 5 variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator variable, categorical (string) with three categories,
&quot;City Alpha&quot;, &quot;City Gamma&quot;, and &quot;City Beta&quot;</p>
</dd>
<dt>v1</dt><dd><p>Covariate, continuous</p>
</dd>
<dt>cat1</dt><dd><p>Covariate, categorical (string) with three values, &quot;gp1&quot;,
&quot;gp2&quot;, and &quot;gp3&quot;</p>
</dd>
</dl>


<hr>
<h2 id='test_x_1_w_1_v_2_n_500'>Sample Dataset: One IV, One Moderator, Two Covariates</h2><span id='topic+test_x_1_w_1_v_2_n_500'></span>

<h3>Description</h3>

<p>All variables are continuous. For testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_x_1_w_1_v_2_n_500
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and five variables:
</p>

<dl>
<dt>dv</dt><dd><p>Dependent variable, continuous</p>
</dd>
<dt>iv</dt><dd><p>Independent variable, continuous</p>
</dd>
<dt>mod</dt><dd><p>Moderator variable, continuous</p>
</dd>
<dt>v1</dt><dd><p>Covariate, continuous</p>
</dd>
<dt>v2</dt><dd><p>Covariate, continuous</p>
</dd>
</dl>


<hr>
<h2 id='update.std_selected'>The 'update' Method for a 'std_selected' Class Object</h2><span id='topic+update.std_selected'></span>

<h3>Description</h3>

<p>This should be used only to update the call to <code><a href="stats.html#topic+lm">lm()</a></code>,
not to the call to <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'std_selected'
update(object, formula., ..., evaluate = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.std_selected_+3A_object">object</code></td>
<td>
<p>The output of the class <code><a href="#topic+std_selected">std_selected()</a></code>.</p>
</td></tr>
<tr><td><code id="update.std_selected_+3A_formula.">formula.</code></td>
<td>
<p>Changes to the formula.</p>
</td></tr>
<tr><td><code id="update.std_selected_+3A_...">...</code></td>
<td>
<p>Optional arguments to be changed.</p>
</td></tr>
<tr><td><code id="update.std_selected_+3A_evaluate">evaluate</code></td>
<td>
<p>Whether the call will be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Although supported, it is not recommended to update an analysis
processed by <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>. It is
recommended to call <code><a href="stats.html#topic+lm">lm()</a></code> again and pass the output to
<code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Value</h3>

<p>If <code>evaluate</code> = <code>TRUE</code>, it returns the updated fitted object,
otherwise, the updated call.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500
head(dat)

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)
summary(lm_raw)

# Standardize all variables except for categorical variables.
# Interaction terms are formed after standardization.
lm_std &lt;- std_selected(lm_raw, to_scale = ~ .,
                               to_center = ~ .)
summary(lm_std)

# Update the model
lm_std2 &lt;- update(lm_std, . ~ . - v1)
summary(lm_std2)

</code></pre>

<hr>
<h2 id='vcov.std_selected'>The 'vcov' Method for a 'std_selected' Class Object</h2><span id='topic+vcov.std_selected'></span>

<h3>Description</h3>

<p>Compute the variance-covariance matrix
of estimates in the output of <code><a href="#topic+std_selected">std_selected()</a></code> or
<code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'std_selected'
vcov(object, type, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcov.std_selected_+3A_object">object</code></td>
<td>
<p>The output of <code><a href="#topic+std_selected">std_selected()</a></code> or <code><a href="#topic+std_selected_boot">std_selected_boot()</a></code>.</p>
</td></tr>
<tr><td><code id="vcov.std_selected_+3A_type">type</code></td>
<td>
<p>The type of variance-covariance matrix. If set to <code>"lm"</code>,
returns the results of the <code><a href="stats.html#topic+vcov">stats::vcov()</a></code> method for the output of
<code><a href="stats.html#topic+lm">lm()</a></code>. If set to <code>"boot"</code>,
the variance-covariance matrix of the bootstrap estimates
is returned.
Default depends on <code>object</code>. If bootstrap estimates were stored,
then the default is <code>"boot"</code>. Otherwise, the default is <code>"lm"</code>.</p>
</td></tr>
<tr><td><code id="vcov.std_selected_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="stats.html#topic+vcov">stats::vcov()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If bootstrapping was used to form the confidence intervals,
users can request the variance-covariance matrix of the bootstrap estimates.
</p>


<h3>Value</h3>

<p>A matrix of the variances and covariances of the parameter estimates.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample data set

dat &lt;- test_x_1_w_1_v_1_cat1_n_500
head(dat)

# Do a moderated regression by lm
lm_raw &lt;- lm(dv ~ iv*mod + v1 + cat1, dat)

# Standardize all variables except for categorical variables.
# Interaction terms are formed after standardization.
lm_std &lt;- std_selected(lm_raw, to_scale = ~ .,
                               to_center = ~ .)

# VCOV of lm output
vcov(lm_std)

# Standardize all variables as in std_selected above, and compute the
# nonparametric bootstrapping percentile confidence intervals.
lm_std_boot &lt;- std_selected_boot(lm_raw,
                                 to_scale = ~ .,
                                 to_center = ~ .,
                                 conf = .95,
                                 nboot = 100)
# In real analysis, nboot should be at least 2000.

# VCOV of bootstrap estimates, default when bootstrap was conducted
vcov(lm_std_boot)

# For OLS VCOV
vcov(lm_std_boot, type = "lm")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

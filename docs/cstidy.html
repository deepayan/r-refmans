<!DOCTYPE html><html><head><title>Help for package cstidy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cstidy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#csdb_validator_field_contents_csfmt_rts_data_v1'><p>Field contents validator (csfmt_rts_data_v1)</p>
An example (schema) validator of database data used in csfmt_rts_data_v1</a></li>
<li><a href='#csdb_validator_field_types_csfmt_rts_data_v1'><p>Field types validator (csfmt_rts_data_v1)</p>
An example (schema) validator of field_types used in csfmt_rts_data_v1</a></li>
<li><a href='#expand_time_to'><p>Expand time to</p></a></li>
<li><a href='#generate_test_data'><p>Generate test data</p></a></li>
<li><a href='#heal_time_csfmt_rts_data_v1'><p>Provides corresponding healed times</p></a></li>
<li><a href='#identify_data_structure'><p>Hash the data structure of a dataset for a given column</p></a></li>
<li><a href='#nor_covid19_cases_by_time_location_csfmt_rts_v1'><p>Covid-19 data for PCR-confirmed cases in Norway (nation and county)</p></a></li>
<li><a href='#nor_covid19_icu_and_hospitalization_csfmt_rts_v1'><p>Norwegian Covid-19 data for ICU and hospitalization</p></a></li>
<li><a href='#remove_class_csfmt_rts_data'><p>Remove class csfmt_rts_data_*</p></a></li>
<li><a href='#set_csfmt_rts_data_v1'><p>Convert data.table to csfmt_rts_data_v1</p></a></li>
<li><a href='#unique_time_series'><p>Unique time series</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Helpful Functions for Cleaning Surveillance Data</td>
</tr>
<tr>
<td>Version:</td>
<td>2023.5.24</td>
</tr>
<tr>
<td>Description:</td>
<td>Helpful functions for the cleaning and manipulation of surveillance data, especially with regards to the creation and validation of panel data from individual level surveillance data.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.csids.no/cstidy/">https://www.csids.no/cstidy/</a>, <a href="https://github.com/csids/cstidy">https://github.com/csids/cstidy</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/csids/cstidy/issues">https://github.com/csids/cstidy/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, magrittr, ggplot2, csdata, cstime, crayon, digest,
stringr, methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, rstudioapi, glue, gt, dplyr,
purrr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-23 08:15:56 UTC; raw996</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Aubrey White
    <a href="https://orcid.org/0000-0002-6747-1726"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  CSIDS [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Aubrey White &lt;hello@rwhite.no&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-24 07:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='csdb_validator_field_contents_csfmt_rts_data_v1'>Field contents validator (csfmt_rts_data_v1)
An example (schema) validator of database data used in csfmt_rts_data_v1</h2><span id='topic+csdb_validator_field_contents_csfmt_rts_data_v1'></span>

<h3>Description</h3>

<p>Field contents validator (csfmt_rts_data_v1)
An example (schema) validator of database data used in csfmt_rts_data_v1
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csdb_validator_field_contents_csfmt_rts_data_v1(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="csdb_validator_field_contents_csfmt_rts_data_v1_+3A_data">data</code></td>
<td>
<p>data passed to schema</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boolean, corresponding to where or not the validator is passed.
</p>

<hr>
<h2 id='csdb_validator_field_types_csfmt_rts_data_v1'>Field types validator (csfmt_rts_data_v1)
An example (schema) validator of field_types used in csfmt_rts_data_v1</h2><span id='topic+csdb_validator_field_types_csfmt_rts_data_v1'></span>

<h3>Description</h3>

<p>Field types validator (csfmt_rts_data_v1)
An example (schema) validator of field_types used in csfmt_rts_data_v1
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csdb_validator_field_types_csfmt_rts_data_v1(db_field_types)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="csdb_validator_field_types_csfmt_rts_data_v1_+3A_db_field_types">db_field_types</code></td>
<td>
<p>db_field_types passed to schema</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boolean, corresponding to where or not the validator is passed.
</p>

<hr>
<h2 id='expand_time_to'>Expand time to</h2><span id='topic+expand_time_to'></span>

<h3>Description</h3>

<p>Attempts to expand the dataset to include more time
</p>
<p>A time series is defined as a unique combination of:
</p>

<ul>
<li><p> granularity_time
</p>
</li>
<li><p> granularity_geo
</p>
</li>
<li><p> country_iso3
</p>
</li>
<li><p> location_code
</p>
</li>
<li><p> border
</p>
</li>
<li><p> age
</p>
</li>
<li><p> sex
</p>
</li>
<li><p> *_id
</p>
</li>
<li><p> *_tag
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>expand_time_to(
  x,
  max_isoyear = NULL,
  max_isoyearweek = NULL,
  max_date = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand_time_to_+3A_x">x</code></td>
<td>
<p>An object of type <code><a href="#topic+csfmt_rts_data_v1">csfmt_rts_data_v1</a></code></p>
</td></tr>
<tr><td><code id="expand_time_to_+3A_max_isoyear">max_isoyear</code></td>
<td>
<p>Maximum isoyear</p>
</td></tr>
<tr><td><code id="expand_time_to_+3A_max_isoyearweek">max_isoyearweek</code></td>
<td>
<p>Maximum isoyearweek</p>
</td></tr>
<tr><td><code id="expand_time_to_+3A_max_date">max_date</code></td>
<td>
<p>Maximum date</p>
</td></tr>
<tr><td><code id="expand_time_to_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>csfmt_rts_data_v1, a larger dataset that includes more rows corresponding to more time.
</p>


<h3>See Also</h3>

<p>Other csfmt_rts_data: 
<code><a href="#topic+identify_data_structure">identify_data_structure</a>()</code>,
<code><a href="#topic+remove_class_csfmt_rts_data">remove_class_csfmt_rts_data</a>()</code>,
<code><a href="#topic+set_csfmt_rts_data_v1">set_csfmt_rts_data_v1</a>()</code>,
<code><a href="#topic+unique_time_series">unique_time_series</a>()</code>
</p>

<hr>
<h2 id='generate_test_data'>Generate test data</h2><span id='topic+generate_test_data'></span>

<h3>Description</h3>

<p>Generates some test data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_test_data(fmt = "csfmt_rts_data_v1")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_test_data_+3A_fmt">fmt</code></td>
<td>
<p>Data format (<code>csfmt_rts_data_v1</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>csfmt_rts_data_v1, a dataset containing fake data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cstidy::generate_test_data("csfmt_rts_data_v1")
</code></pre>

<hr>
<h2 id='heal_time_csfmt_rts_data_v1'>Provides corresponding healed times</h2><span id='topic+heal_time_csfmt_rts_data_v1'></span>

<h3>Description</h3>

<p>Provides corresponding healed times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heal_time_csfmt_rts_data_v1(x, cols, granularity_time = "date")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heal_time_csfmt_rts_data_v1_+3A_x">x</code></td>
<td>
<p>A vector containing either dates, isoyearweek, or isoyear.</p>
</td></tr>
<tr><td><code id="heal_time_csfmt_rts_data_v1_+3A_cols">cols</code></td>
<td>
<p>Columns to restrict the output to.</p>
</td></tr>
<tr><td><code id="heal_time_csfmt_rts_data_v1_+3A_granularity_time">granularity_time</code></td>
<td>
<p>date, isoyearweek, or isoyear, depending on the values contained in x.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.table, a dataset with time columns corresponding to the values given in x.
</p>

<hr>
<h2 id='identify_data_structure'>Hash the data structure of a dataset for a given column</h2><span id='topic+identify_data_structure'></span><span id='topic+identify_data_structure.csfmt_rts_data_v1'></span><span id='topic+identify_data_structure.tbl_Microsoft+20SQL+20Server'></span>

<h3>Description</h3>

<p>Reduces the data structure of a column inside a dataset into something that describes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>identify_data_structure(x, col, ...)

## S3 method for class 'csfmt_rts_data_v1'
identify_data_structure(x, col, ...)

## S3 method for class ''tbl_Microsoft SQL Server''
identify_data_structure(x, col, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="identify_data_structure_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
<tr><td><code id="identify_data_structure_+3A_col">col</code></td>
<td>
<p>Column name to hash</p>
</td></tr>
<tr><td><code id="identify_data_structure_+3A_...">...</code></td>
<td>
<p>Arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>csfmt_rts_data_structure_hash_v1, a summary object.
</p>


<h3>See Also</h3>

<p>Other csfmt_rts_data: 
<code><a href="#topic+expand_time_to">expand_time_to</a>()</code>,
<code><a href="#topic+remove_class_csfmt_rts_data">remove_class_csfmt_rts_data</a>()</code>,
<code><a href="#topic+set_csfmt_rts_data_v1">set_csfmt_rts_data_v1</a>()</code>,
<code><a href="#topic+unique_time_series">unique_time_series</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cstidy::generate_test_data() %&gt;%
  cstidy::set_csfmt_rts_data_v1() %&gt;%
  cstidy::identify_data_structure("deaths_n") %&gt;%
  plot()
</code></pre>

<hr>
<h2 id='nor_covid19_cases_by_time_location_csfmt_rts_v1'>Covid-19 data for PCR-confirmed cases in Norway (nation and county)</h2><span id='topic+nor_covid19_cases_by_time_location_csfmt_rts_v1'></span>

<h3>Description</h3>

<p>This data comes from the Norwegian Surveillance System for Communicable Diseases (MSIS).
The date corresponds to when the PCR-test was taken.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nor_covid19_cases_by_time_location_csfmt_rts_v1
</code></pre>


<h3>Format</h3>

<p>A csfmt_rts_data_v1 with 11028 rows and 18 variables:
</p>

<dl>
<dt>granularity_time</dt><dd><p>day/isoweek</p>
</dd>
<dt>granularity_geo</dt><dd><p>nation, county</p>
</dd>
<dt>country_iso3</dt><dd><p>nor</p>
</dd>
<dt>location_code</dt><dd><p>norge, 11 counties</p>
</dd>
<dt>border</dt><dd><p>2020</p>
</dd>
<dt>age</dt><dd><p>total</p>
</dd>
<dt>isoyear</dt><dd><p>Isoyear of event</p>
</dd>
<dt>isoweek</dt><dd><p>Isoweek of event</p>
</dd>
<dt>isoyearweek</dt><dd><p>Isoyearweek of event</p>
</dd>
<dt>season</dt><dd><p>Season of event</p>
</dd>
<dt>seasonweek</dt><dd><p>Seasonweek of event</p>
</dd>
<dt>calyear</dt><dd><p>Calyear of event</p>
</dd>
<dt>calmonth</dt><dd><p>Calmonth of event</p>
</dd>
<dt>calyearmonth</dt><dd><p>Calyearmonth of event</p>
</dd>
<dt>date</dt><dd><p>Date of event</p>
</dd>
<dt>covid19_cases_testdate_n</dt><dd><p>Number of confirmed covid19 cases</p>
</dd>
<dt>covid19_cases_testdate_pr100000</dt><dd><p>Number of confirmed covid19 cases per 100.000 population</p>
</dd>
</dl>



<h3>Details</h3>

<p>The raw number of cases and cases per 100.000 population are recorded.
</p>
<p>This data was extracted on 2022-05-04.
</p>


<h3>Source</h3>

<p><a href="https://github.com/folkehelseinstituttet/surveillance_data/blob/master/covid19/_DOCUMENTATION_data_covid19_msis_by_time_location.txt">https://github.com/folkehelseinstituttet/surveillance_data/blob/master/covid19/_DOCUMENTATION_data_covid19_msis_by_time_location.txt</a>
</p>

<hr>
<h2 id='nor_covid19_icu_and_hospitalization_csfmt_rts_v1'>Norwegian Covid-19 data for ICU and hospitalization</h2><span id='topic+nor_covid19_icu_and_hospitalization_csfmt_rts_v1'></span>

<h3>Description</h3>

<p>This data was extracted on 2022-05-04.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nor_covid19_icu_and_hospitalization_csfmt_rts_v1
</code></pre>


<h3>Format</h3>

<p>A csfmt_rts_data_v1 with 919 rows and 18 variables:
</p>

<dl>
<dt>granularity_time</dt><dd><p>day/isoweek</p>
</dd>
<dt>granularity_geo</dt><dd><p>nation</p>
</dd>
<dt>country_iso3</dt><dd><p>nor</p>
</dd>
<dt>location_code</dt><dd><p>norge</p>
</dd>
<dt>border</dt><dd><p>2020</p>
</dd>
<dt>age</dt><dd><p>total</p>
</dd>
<dt>isoyear</dt><dd><p>Isoyear of event</p>
</dd>
<dt>isoweek</dt><dd><p>Isoweek of event</p>
</dd>
<dt>isoyearweek</dt><dd><p>Isoyearweek of event</p>
</dd>
<dt>season</dt><dd><p>Season of event</p>
</dd>
<dt>seasonweek</dt><dd><p>Seasonweek of event</p>
</dd>
<dt>calyear</dt><dd><p>Calyear of event</p>
</dd>
<dt>calmonth</dt><dd><p>Calmonth of event</p>
</dd>
<dt>calyearmonth</dt><dd><p>Calyearmonth of event</p>
</dd>
<dt>date</dt><dd><p>Date of event</p>
</dd>
<dt>icu_with_positive_pcr_n</dt><dd><p>Number of new admissions to the ICU with a positive PCR test</p>
</dd>
<dt>hospitalization_with_covid19_as_primary_cause_n</dt><dd><p>Number of new hospitalizations with Covid-19 as the primary cause</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/folkehelseinstituttet/surveillance_data/blob/master/covid19/_DOCUMENTATION_data_covid19_hospital_by_time.txt">https://github.com/folkehelseinstituttet/surveillance_data/blob/master/covid19/_DOCUMENTATION_data_covid19_hospital_by_time.txt</a>
</p>

<hr>
<h2 id='remove_class_csfmt_rts_data'>Remove class csfmt_rts_data_*</h2><span id='topic+remove_class_csfmt_rts_data'></span>

<h3>Description</h3>

<p>Remove class csfmt_rts_data_*
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_class_csfmt_rts_data(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_class_csfmt_rts_data_+3A_x">x</code></td>
<td>
<p>data.table</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for the side effect of removing the csfmt_rts_data class from x.
</p>


<h3>See Also</h3>

<p>Other csfmt_rts_data: 
<code><a href="#topic+expand_time_to">expand_time_to</a>()</code>,
<code><a href="#topic+identify_data_structure">identify_data_structure</a>()</code>,
<code><a href="#topic+set_csfmt_rts_data_v1">set_csfmt_rts_data_v1</a>()</code>,
<code><a href="#topic+unique_time_series">unique_time_series</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- cstidy::generate_test_data() %&gt;%
  cstidy::set_csfmt_rts_data_v1()
class(x)
cstidy::remove_class_csfmt_rts_data(x)
class(x)
</code></pre>

<hr>
<h2 id='set_csfmt_rts_data_v1'>Convert data.table to csfmt_rts_data_v1</h2><span id='topic+set_csfmt_rts_data_v1'></span><span id='topic+csfmt_rts_data_v1'></span>

<h3>Description</h3>

<p><code>set_csfmt_rts_data_v1</code> converts a <code>data.table</code> to <code>csfmt_rts_data_v1</code> by reference.
<code>csfmt_rts_data_v1</code> creates a new <code>csfmt_rts_data_v1</code> (not by reference) from either a <code>data.table</code> or <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_csfmt_rts_data_v1(x, create_unified_columns = TRUE, heal = TRUE)

csfmt_rts_data_v1(x, create_unified_columns = TRUE, heal = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_csfmt_rts_data_v1_+3A_x">x</code></td>
<td>
<p>The data.table to be converted to csfmt_rts_data_v1</p>
</td></tr>
<tr><td><code id="set_csfmt_rts_data_v1_+3A_create_unified_columns">create_unified_columns</code></td>
<td>
<p>Do you want it to create unified columns?</p>
</td></tr>
<tr><td><code id="set_csfmt_rts_data_v1_+3A_heal">heal</code></td>
<td>
<p>Do you want to impute missing values on creation?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more details see the vignette:
<code>vignette("csfmt_rts_data_v1", package = "cstidy")</code>
</p>


<h3>Value</h3>

<p>An extended <code>data.table</code>, which has been modified by reference and returned (invisibly).
</p>
<p>No return value, called for side effect of replacing the current data.table with a csfmt_rts_data_v1 in place.
</p>
<p>Returns a duplicated csfmt_rts_data_v1.
</p>


<h3>Smart assignment</h3>

<p><code>csfmt_rts_data_v1</code> contains the smart assignment feature for time and geography.
</p>
<p>When the <strong>variables in bold</strong> are assigned using <code style="white-space: pre;">&#8288;:=&#8288;</code>, the listed variables will be automatically imputed.
</p>
<p><strong>location_code</strong>:
</p>

<ul>
<li><p> granularity_geo
</p>
</li>
<li><p> country_iso3
</p>
</li></ul>

<p><strong>isoyear</strong>:
</p>

<ul>
<li><p> granularity_time
</p>
</li>
<li><p> isoweek
</p>
</li>
<li><p> isoyearweek
</p>
</li>
<li><p> season
</p>
</li>
<li><p> seasonweek
</p>
</li>
<li><p> calyear
</p>
</li>
<li><p> calmonth
</p>
</li>
<li><p> calyearmonth
</p>
</li>
<li><p> date
</p>
</li></ul>

<p><strong>isoyearweek</strong>:
</p>

<ul>
<li><p> granularity_time
</p>
</li>
<li><p> isoyear
</p>
</li>
<li><p> isoweek
</p>
</li>
<li><p> season
</p>
</li>
<li><p> seasonweek
</p>
</li>
<li><p> calyear
</p>
</li>
<li><p> calmonth
</p>
</li>
<li><p> calyearmonth
</p>
</li>
<li><p> date
</p>
</li></ul>

<p><strong>date</strong>:
</p>

<ul>
<li><p> granularity_time
</p>
</li>
<li><p> isoyear
</p>
</li>
<li><p> isoweek
</p>
</li>
<li><p> isoyearweek
</p>
</li>
<li><p> season
</p>
</li>
<li><p> seasonweek
</p>
</li>
<li><p> calyear
</p>
</li>
<li><p> calmonth
</p>
</li>
<li><p> calyearmonth
</p>
</li></ul>



<h3>Unified columns</h3>

<p><code>csfmt_rts_data_v1</code> contains 16 unified columns:
</p>

<ul>
<li><p> granularity_time
</p>
</li>
<li><p> granularity_geo
</p>
</li>
<li><p> country_iso3
</p>
</li>
<li><p> location_code
</p>
</li>
<li><p> border
</p>
</li>
<li><p> age
</p>
</li>
<li><p> sex
</p>
</li>
<li><p> isoyear
</p>
</li>
<li><p> isoweek
</p>
</li>
<li><p> isoyearweek
</p>
</li>
<li><p> season
</p>
</li>
<li><p> seasonweek
</p>
</li>
<li><p> calyear
</p>
</li>
<li><p> calmonth
</p>
</li>
<li><p> calyearmonth
</p>
</li>
<li><p> date
</p>
</li></ul>



<h3>See Also</h3>

<p>Other csfmt_rts_data: 
<code><a href="#topic+expand_time_to">expand_time_to</a>()</code>,
<code><a href="#topic+identify_data_structure">identify_data_structure</a>()</code>,
<code><a href="#topic+remove_class_csfmt_rts_data">remove_class_csfmt_rts_data</a>()</code>,
<code><a href="#topic+unique_time_series">unique_time_series</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create some fake data as data.table
d &lt;- cstidy::generate_test_data(fmt = "csfmt_rts_data_v1")
d &lt;- d[1:5]

# convert to csfmt_rts_data_v1 by reference
cstidy::set_csfmt_rts_data_v1(d, create_unified_columns = TRUE)

#
d[1, isoyearweek := "2021-01"]
d
d[2, isoyear := 2019]
d
d[3, date := as.Date("2020-01-01")]
d
d[4, c("isoyear", "isoyearweek") := .(2021, "2021-01")]
d
d[5, c("location_code") := .("norge")]
d

# Investigating the data structure of one column inside a dataset
cstidy::generate_test_data() %&gt;%
  cstidy::set_csfmt_rts_data_v1() %&gt;%
  cstidy::identify_data_structure("deaths_n") %&gt;%
  plot()
# Investigating the data structure via summary
cstidy::generate_test_data() %&gt;%
  cstidy::set_csfmt_rts_data_v1() %&gt;%
  summary()
</code></pre>

<hr>
<h2 id='unique_time_series'>Unique time series</h2><span id='topic+unique_time_series'></span>

<h3>Description</h3>

<p>Attempts to identify the unique time series that exist in this dataset.
</p>
<p>A time series is defined as a unique combination of:
</p>

<ul>
<li><p> granularity_time
</p>
</li>
<li><p> granularity_geo
</p>
</li>
<li><p> country_iso3
</p>
</li>
<li><p> location_code
</p>
</li>
<li><p> border
</p>
</li>
<li><p> age
</p>
</li>
<li><p> sex
</p>
</li>
<li><p> *_id
</p>
</li>
<li><p> *_tag
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>unique_time_series(x, set_time_series_id = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unique_time_series_+3A_x">x</code></td>
<td>
<p>An object of type <code><a href="#topic+csfmt_rts_data_v1">csfmt_rts_data_v1</a></code></p>
</td></tr>
<tr><td><code id="unique_time_series_+3A_set_time_series_id">set_time_series_id</code></td>
<td>
<p>If TRUE, then <code>x</code> will have a new column called 'time_series_id'</p>
</td></tr>
<tr><td><code id="unique_time_series_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.table, a dataset that lists all the unique time series in x.
</p>


<h3>See Also</h3>

<p>Other csfmt_rts_data: 
<code><a href="#topic+expand_time_to">expand_time_to</a>()</code>,
<code><a href="#topic+identify_data_structure">identify_data_structure</a>()</code>,
<code><a href="#topic+remove_class_csfmt_rts_data">remove_class_csfmt_rts_data</a>()</code>,
<code><a href="#topic+set_csfmt_rts_data_v1">set_csfmt_rts_data_v1</a>()</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

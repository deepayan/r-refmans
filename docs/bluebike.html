<!DOCTYPE html><html><head><title>Help for package bluebike</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bluebike}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bluebike'><p>bluebike - A Data Package for Bluebike Users</p></a></li>
<li><a href='#import_month_data'><p>Import monthly data from bluebike system data</p></a></li>
<li><a href='#station_data'><p>Blue bike station data</p></a></li>
<li><a href='#station_distance'><p>Compute the distance from stations given current location</p></a></li>
<li><a href='#station_radius'><p>Plot bike stations within a given radius</p></a></li>
<li><a href='#trip_distance'><p>Compute trip distance for a specific dataset</p></a></li>
<li><a href='#trip_history_sample'><p>Random 1000 samples from the Blue Bikes System Data website</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Blue Bike Comprehensive Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitates the importation of the Boston Blue Bike trip data
    since 2015. Functions include the computation of trip distances of
    given trip data. It can also map the location of stations within a
    given radius and calculate the distance to nearby stations. Data is
    from <a href="https://www.bluebikes.com/system-data">https://www.bluebikes.com/system-data</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, janitor, leaflet, lubridate, magrittr, readr, sf,
stringr, tidyselect, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-04 05:27:12 UTC; ellayoung</td>
</tr>
<tr>
<td>Author:</td>
<td>Ziyue Yang <a href="https://orcid.org/0000-0002-9299-8327"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Tianshu Zhang <a href="https://orcid.org/0000-0002-3004-4472"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ziyue Yang &lt;zyang2k@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-05 06:00:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='bluebike'>bluebike - A Data Package for Bluebike Users</h2><span id='topic+bluebike'></span>

<h3>Description</h3>

<p><code>bluebike</code> includes functions and dataset that aids bluebike users to retrieve data and perform data wrangling and visualizations
</p>


<h3>Details</h3>

<p>This package includes data from the Boston Blue Bike trip history data acquired from the <a href="https://www.bluebikes.com/system-data">Blue Bikes System Data</a>. The users can import all monthly trip history data from 2020 to 2022 into a cleaned data set that can easily be used for data analysis.
The package also includes a sample data set that includes 1000 sampled trip history from Feb. 2022, and a full data set that contains information about all available stations.
The package also serves as a visualization tool for user to browse for closest stations as well as trip-planning via computing trip distances. <br />
</p>
<p>Available functions are: <br />
</p>

<ul>
<li><p><code>import_month_data</code><br /> Takes in numeric year/month values and imports data from <a href="https://www.bluebikes.com/system-data">Blue Bikes System Data</a> for the specified time
</p>
</li>
<li><p><code>station_distance</code><br /> Returns stations with distance in ascending order given the user's current location
</p>
</li>
<li><p><code>station_radius</code><br /> Plots the position of the stations within walking distance (500 m), and present the basic information about the stations via leaflet
</p>
</li>
<li><p><code>trip_distance</code><br /> Computes the geographical distance between the start and end stations
</p>
</li></ul>

<p>Available datasets are: <br />
</p>

<ul>
<li><p><code>trip_history_sample</code> <br /> A sample of 1000 trip data entries from February 2022
</p>
</li>
<li><p><code>station_data</code> <br /> A dataset that includes identification, position, and other basic information about bluebike stations
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
# Find most used stations:
stations &lt;- trip_history_sample %&gt;%
  group_by(`start_station_name`) %&gt;%
  summarize(trips_from = n())
head(stations)
</code></pre>

<hr>
<h2 id='import_month_data'>Import monthly data from bluebike system data</h2><span id='topic+import_month_data'></span>

<h3>Description</h3>

<p>This function takes in numeric year/month values and imports data for the specified time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_month_data(year, month)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_month_data_+3A_year">year</code></td>
<td>
<p>numeric value of year</p>
</td></tr>
<tr><td><code id="import_month_data_+3A_month">month</code></td>
<td>
<p>numeric value of month</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A spec_tbl_df object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Pull Jan., 2015 data from web
library(dplyr)
jan_2015 &lt;- import_month_data(2015, 1)

# Pull first quarter of 2015 data from web
spring2015 &lt;- c(1, 2, 3)
quarter_1_2015 &lt;- lapply(spring2015, import_month_data, year = 2015)
quarter_1_2015 &lt;- bind_rows(quarter_1_2015)

</code></pre>

<hr>
<h2 id='station_data'>Blue bike station data</h2><span id='topic+station_data'></span>

<h3>Description</h3>

<p>A dataset that includes identification, position, and other basic information about bluebike stations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>station_data
</code></pre>


<h3>Format</h3>

<p>A data frame of 423 rows and 8 columns
</p>

<dl>
<dt>number</dt><dd><p>Station ID</p>
</dd>
<dt>name</dt><dd><p>Station name</p>
</dd>
<dt>latitude</dt><dd><p>Latitude of the station</p>
</dd>
<dt>longitude</dt><dd><p>Longitude of the station</p>
</dd>
<dt>district</dt><dd><p>District of the station</p>
</dd>
<dt>public</dt><dd><p>Character vector showing if a station is public</p>
</dd>
<dt>total_docks</dt><dd><p>The number of docks at each station</p>
</dd>
<dt>deployment_year</dt><dd><p>The year that the station was put into work</p>
</dd>
</dl>



<h3>Source</h3>

<p>The original source of the data are bluebikes system data retrieved from <a href="https://www.bluebikes.com/system-data">https://www.bluebikes.com/system-data</a>
</p>

<hr>
<h2 id='station_distance'>Compute the distance from stations given current location</h2><span id='topic+station_distance'></span>

<h3>Description</h3>

<p>This function returns stations with distance in ascending order given the user's current location
</p>


<h3>Usage</h3>

<pre><code class='language-R'>station_distance(long, lat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="station_distance_+3A_long">long</code></td>
<td>
<p>longtitude of user location</p>
</td></tr>
<tr><td><code id="station_distance_+3A_lat">lat</code></td>
<td>
<p>latitude of user location</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tbl_df object showing the distance between the user and top five closest stations with ID, name, number of docks, and position
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate distance for user at (-71.11467361, 42.34414899) and show the closest five stations
top_5_station &lt;- head(station_distance(-71.11467361, 42.34414899), 5)
</code></pre>

<hr>
<h2 id='station_radius'>Plot bike stations within a given radius</h2><span id='topic+station_radius'></span>

<h3>Description</h3>

<p>This function plots the position of the stations within walking distance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>station_radius(long, lat, r = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="station_radius_+3A_long">long</code></td>
<td>
<p>numeric value of longitude</p>
</td></tr>
<tr><td><code id="station_radius_+3A_lat">lat</code></td>
<td>
<p>numeric value of latitude</p>
</td></tr>
<tr><td><code id="station_radius_+3A_r">r</code></td>
<td>
<p>numeric value of set radius in meters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A leaflet map
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Show user at (-71.11467, 42.34415) and set the radius to 500 m
station_radius(long = -71.11467, lat = 42.34415, r = 2000)
</code></pre>

<hr>
<h2 id='trip_distance'>Compute trip distance for a specific dataset</h2><span id='topic+trip_distance'></span>

<h3>Description</h3>

<p>This function computes the geographical distance between the start and end stations for trips in a given dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trip_distance(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trip_distance_+3A_data">data</code></td>
<td>
<p>trip data pulled from the Blue Bike System data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tbl_df object with an additional distance column
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate distance for sample trip data
sample_distance &lt;- trip_distance(trip_history_sample)$distance
</code></pre>

<hr>
<h2 id='trip_history_sample'>Random 1000 samples from the Blue Bikes System Data website</h2><span id='topic+trip_history_sample'></span>

<h3>Description</h3>

<p>a random sample of bluebike trip history data from February, 2022
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trip_history_sample
</code></pre>


<h3>Format</h3>

<p>A data frame of 1,000 rows representing each sample of trip history
</p>

<dl>
<dt>trip_duration</dt><dd><p>Trip duration of each trip measured in seconds</p>
</dd>
<dt>start_time</dt><dd><p>Start time and date of each trip</p>
</dd>
<dt>stop_time</dt><dd><p>Stop time and date of each trip</p>
</dd>
<dt>start_station_id</dt><dd><p>The identification variable of the start station</p>
</dd>
<dt>start_station_name</dt><dd><p>The name of the end station</p>
</dd>
<dt>start_station_latitude</dt><dd><p>The latitude of the start station</p>
</dd>
<dt>start_station_longitude</dt><dd><p>The longitude of the start station</p>
</dd>
<dt>end_station_id</dt><dd><p>The identification variable of the end station</p>
</dd>
<dt>end_station_name</dt><dd><p>The name of the end station</p>
</dd>
<dt>end_station_latitude</dt><dd><p>The latitude of the end station</p>
</dd>
<dt>end_station_longitude</dt><dd><p>The longitude of the start station</p>
</dd>
<dt>bike_id</dt><dd><p>The identification variable of the bike corresponding to each trip</p>
</dd>
<dt>user_type</dt><dd><p>Type of user in each trip (Casual = Single Trip or Day Pass user; Member = Annual or Monthly Member)</p>
</dd>
<dt>postal_code</dt><dd><p>Postal code of the user</p>
</dd>
</dl>



<h3>Source</h3>

<p>The original source of the data are bluebikes system data retrieved from <a href="https://www.bluebikes.com/system-data">https://www.bluebikes.com/system-data</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

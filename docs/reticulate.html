<!DOCTYPE html><html><head><title>Help for package reticulate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {reticulate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#reticulate'><p>R Interface to Python</p></a></li>
<li><a href='#+3D+3D.python.builtin.object'><p>S3 Ops Methods for Python Objects</p></a></li>
<li><a href='#array_reshape'><p>Reshape an Array</p></a></li>
<li><a href='#as_iterator'><p>Traverse a Python iterator or generator</p></a></li>
<li><a href='#as.character.python.builtin.bytes'><p>Convert Python bytes to an R character vector</p></a></li>
<li><a href='#conda-tools'><p>Conda Tools</p></a></li>
<li><a href='#configure_environment'><p>Configure a Python Environment</p></a></li>
<li><a href='#dict'><p>Create Python dictionary</p></a></li>
<li><a href='#eng_python'><p>A reticulate Engine for Knitr</p></a></li>
<li><a href='#import'><p>Import a Python module</p></a></li>
<li><a href='#install_miniconda'><p>Install Miniconda</p></a></li>
<li><a href='#install_python'><p>Install Python</p></a></li>
<li><a href='#ipython'><p>IPython console</p></a></li>
<li><a href='#is_py_object'><p>Check if x is a Python object</p></a></li>
<li><a href='#miniconda_path'><p>Path to Miniconda</p></a></li>
<li><a href='#miniconda_uninstall'><p>Remove Miniconda</p></a></li>
<li><a href='#miniconda_update'><p>Update Miniconda</p></a></li>
<li><a href='#miniconda-params'><p>miniconda-params</p></a></li>
<li><a href='#nameOfClass.python.builtin.type'><p><code>nameOfClass()</code> for Python objects</p></a></li>
<li><a href='#np_array'><p>NumPy array</p></a></li>
<li><a href='#py'><p>Interact with the Python Main Module</p></a></li>
<li><a href='#py_available'><p>Check if Python is available on this system</p></a></li>
<li><a href='#py_bool'><p>Python Truthiness</p></a></li>
<li><a href='#py_call'><p>Call a Python callable object</p></a></li>
<li><a href='#py_capture_output'><p>Capture and return Python output</p></a></li>
<li><a href='#py_clear_last_error'><p>Get or (re)set the last Python error encountered.</p></a></li>
<li><a href='#py_config'><p>Python configuration</p></a></li>
<li><a href='#py_config_error_message'><p>Build Python configuration error message</p></a></li>
<li><a href='#py_del_attr'><p>Delete an attribute of a Python object</p></a></li>
<li><a href='#py_discover_config'><p>Discover the version of Python to use with reticulate.</p></a></li>
<li><a href='#py_ellipsis'><p>The builtin constant Ellipsis</p></a></li>
<li><a href='#py_eval'><p>Evaluate a Python Expression</p></a></li>
<li><a href='#py_exe'><p>Python executable</p></a></li>
<li><a href='#py_func'><p>Wrap an R function in a Python function with the same signature.</p></a></li>
<li><a href='#py_function_custom_scaffold'><p>Custom Scaffolding of R Wrappers for Python Functions</p></a></li>
<li><a href='#py_function_wrapper'><p>Scaffold R wrappers for Python functions</p></a></li>
<li><a href='#py_get_attr'><p>Get an attribute of a Python object</p></a></li>
<li><a href='#py_get_item'><p>Get/Set/Delete an item from a Python object</p></a></li>
<li><a href='#py_has_attr'><p>Check if a Python object has an attribute</p></a></li>
<li><a href='#py_help'><p>Documentation for Python Objects</p></a></li>
<li><a href='#py_help_handler'><p>Provide help for Python objects</p></a></li>
<li><a href='#py_id'><p>Unique identifer for Python object</p></a></li>
<li><a href='#py_install'><p>Install Python packages</p></a></li>
<li><a href='#py_is_null_xptr'><p>Check if a Python object is a null externalptr</p></a></li>
<li><a href='#py_iterator'><p>Create a Python iterator from an R function</p></a></li>
<li><a href='#py_len'><p>Length of Python object</p></a></li>
<li><a href='#py_list_attributes'><p>List all attributes of a Python object</p></a></li>
<li><a href='#py_list_packages'><p>List installed Python packages</p></a></li>
<li><a href='#py_main_thread_func'><p>Create a Python function that will always be called on the main thread</p></a></li>
<li><a href='#py_module_available'><p>Check if a Python module is available on this system.</p></a></li>
<li><a href='#py_none'><p>The Python None object</p></a></li>
<li><a href='#py_repr'><p>String representation of a python object.</p></a></li>
<li><a href='#py_run'><p>Run Python code</p></a></li>
<li><a href='#py_save_object'><p>Save and Load Python Objects</p></a></li>
<li><a href='#py_set_attr'><p>Set an attribute of a Python object</p></a></li>
<li><a href='#py_set_seed'><p>Set Python and NumPy random seeds</p></a></li>
<li><a href='#py_suppress_warnings'><p>Suppress Python warnings for an expression</p></a></li>
<li><a href='#py_to_r_wrapper'><p>R wrapper for Python objects</p></a></li>
<li><a href='#py_unicode'><p>Convert to Python Unicode Object</p></a></li>
<li><a href='#py_version'><p>Python version</p></a></li>
<li><a href='#py_versions_windows'><p>Discover versions of Python installed on a Windows system</p></a></li>
<li><a href='#PyClass'><p>Create a python class</p></a></li>
<li><a href='#r-py-conversion'><p>Convert between Python and R objects</p></a></li>
<li><a href='#register_class_filter'><p>Register a filter for class names</p></a></li>
<li><a href='#register_help_topics'><p>Register help topics</p></a></li>
<li><a href='#register_module_help_handler'><p>Register a help handler for a root Python module</p></a></li>
<li><a href='#register_suppress_warnings_handler'><p>Register a handler for calls to py_suppress_warnings</p></a></li>
<li><a href='#repl_python'><p>Run a Python REPL</p></a></li>
<li><a href='#source_python'><p>Read and evaluate a Python script</p></a></li>
<li><a href='#tuple'><p>Create Python tuple</p></a></li>
<li><a href='#use_python'><p>Use Python</p></a></li>
<li><a href='#virtualenv-tools'><p>Interface to Python Virtual Environments</p></a></li>
<li><a href='#with-as-operator'><p>Create local alias for objects in <code>with</code> statements.</p></a></li>
<li><a href='#with.python.builtin.object'><p>Evaluate an expression within a context.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface to 'Python'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.38.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Interface to 'Python' modules, classes, and functions. When calling
    into 'Python', R data types are automatically converted to their equivalent 'Python'
    types. When values are returned from 'Python' to R they are converted back to R
    types. Compatible with all versions of 'Python' &gt;= 2.7.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rstudio.github.io/reticulate/">https://rstudio.github.io/reticulate/</a>,
<a href="https://github.com/rstudio/reticulate">https://github.com/rstudio/reticulate</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/reticulate/issues">https://github.com/rstudio/reticulate/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Python (&gt;= 2.7.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, Rcpp (&ge; 1.0.7), RcppTOML, graphics, here, jsonlite,
methods, png, rappdirs, utils, rlang, withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>callr, knitr, glue, cli, rmarkdown, pillar, testthat</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-19 13:27:46 UTC; tomasz</td>
</tr>
<tr>
<td>Author:</td>
<td>Tomasz Kalinowski [ctb, cre],
  Kevin Ushey [aut],
  JJ Allaire [aut],
  RStudio [cph, fnd],
  Yuan Tang <a href="https://orcid.org/0000-0001-5243-233X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cph],
  Dirk Eddelbuettel [ctb, cph],
  Bryan Lewis [ctb, cph],
  Sigrid Keydana [ctb],
  Ryan Hafen [ctb, cph],
  Marcus Geelnard [ctb, cph] (TinyThread library,
    http://tinythreadpp.bitsnbites.eu/)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tomasz Kalinowski &lt;tomasz@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-19 14:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='reticulate'>R Interface to Python</h2><span id='topic+reticulate'></span><span id='topic+reticulate-package'></span>

<h3>Description</h3>

<p>R interface to Python modules, classes, and functions. When calling into
Python R data types are automatically converted to their equivalent Python
types. When values are returned from Python to R they are converted back to R
types. The reticulate package is compatible with all versions of Python &gt;= 3.6.
Integration with NumPy requires NumPy version 1.6 or higher.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Tomasz Kalinowski <a href="mailto:tomasz@posit.co">tomasz@posit.co</a> [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Kevin Ushey <a href="mailto:kevin@posit.co">kevin@posit.co</a>
</p>
</li>
<li><p> JJ Allaire <a href="mailto:jj@posit.co">jj@posit.co</a>
</p>
</li>
<li><p> Yuan Tang <a href="mailto:terrytangyuan@gmail.com">terrytangyuan@gmail.com</a> (<a href="https://orcid.org/0000-0001-5243-233X">ORCID</a>) [copyright holder]
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> RStudio [copyright holder, funder]
</p>
</li>
<li><p> Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> [contributor, copyright holder]
</p>
</li>
<li><p> Bryan Lewis <a href="mailto:blewis@illposed.net">blewis@illposed.net</a> [contributor, copyright holder]
</p>
</li>
<li><p> Sigrid Keydana <a href="mailto:sigrid@posit.co">sigrid@posit.co</a> [contributor]
</p>
</li>
<li><p> Ryan Hafen <a href="mailto:rhafen@gmail.com">rhafen@gmail.com</a> [contributor, copyright holder]
</p>
</li>
<li><p> Marcus Geelnard (TinyThread library, http://tinythreadpp.bitsnbites.eu/) [contributor, copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rstudio.github.io/reticulate/">https://rstudio.github.io/reticulate/</a>
</p>
</li>
<li> <p><a href="https://github.com/rstudio/reticulate">https://github.com/rstudio/reticulate</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rstudio/reticulate/issues">https://github.com/rstudio/reticulate/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+3D+3D.python.builtin.object'>S3 Ops Methods for Python Objects</h2><span id='topic++3D+3D.python.builtin.object'></span><span id='topic++21+3D.python.builtin.object'></span><span id='topic++3C.python.builtin.object'></span><span id='topic++3E.python.builtin.object'></span><span id='topic++3E+3D.python.builtin.object'></span><span id='topic++3C+3D.python.builtin.object'></span><span id='topic++2B.python.builtin.object'></span><span id='topic+-.python.builtin.object'></span><span id='topic++2A.python.builtin.object'></span><span id='topic++2F.python.builtin.object'></span><span id='topic++25+2F+25.python.builtin.object'></span><span id='topic++25+25.python.builtin.object'></span><span id='topic++5E.python.builtin.object'></span><span id='topic++26.python.builtin.object'></span><span id='topic++7C.python.builtin.object'></span><span id='topic++21.python.builtin.object'></span><span id='topic++25+2A+25.python.builtin.object'></span>

<h3>Description</h3>

<p>Reticulate provides S3 Ops Group Generic Methods for Python objects. The methods
invoke the equivalent python method of the object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'python.builtin.object'
e1 == e2

## S3 method for class 'python.builtin.object'
e1 != e2

## S3 method for class 'python.builtin.object'
e1 &lt; e2

## S3 method for class 'python.builtin.object'
e1 &gt; e2

## S3 method for class 'python.builtin.object'
e1 &gt;= e2

## S3 method for class 'python.builtin.object'
e1 &lt;= e2

## S3 method for class 'python.builtin.object'
e1 + e2

## S3 method for class 'python.builtin.object'
e1 - e2

## S3 method for class 'python.builtin.object'
e1 * e2

## S3 method for class 'python.builtin.object'
e1 / e2

## S3 method for class 'python.builtin.object'
e1 %/% e2

## S3 method for class 'python.builtin.object'
e1 %% e2

## S3 method for class 'python.builtin.object'
e1 ^ e2

## S3 method for class 'python.builtin.object'
e1 &amp; e2

## S3 method for class 'python.builtin.object'
e1 | e2

## S3 method for class 'python.builtin.object'
!e1

## S3 method for class 'python.builtin.object'
x %*% y
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B3D+2B3D.python.builtin.object_+3A_e1">e1</code>, <code id="+2B3D+2B3D.python.builtin.object_+3A_e2">e2</code>, <code id="+2B3D+2B3D.python.builtin.object_+3A_x">x</code>, <code id="+2B3D+2B3D.python.builtin.object_+3A_y">y</code></td>
<td>
<p>A python object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from evaluating the Python expression. If either of the
arguments to the operator was a Python object with <code>convert=FALSE</code>, then
the result will also be a Python object with <code>convert=FALSE</code> set.
Otherwise, the result will be converted to an R object if possible.
</p>


<h3>Operator Mappings</h3>


<table>
<tr>
 <td style="text-align: left;">
   R expression </td><td style="text-align: left;"> Python expression </td><td style="text-align: left;"> First python method invoked </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x == y</code> </td><td style="text-align: left;"> <code>x == y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__eq__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x != y</code> </td><td style="text-align: left;"> <code>x != y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__ne__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x &lt; y</code> </td><td style="text-align: left;"> <code>x &lt; y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__lt__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x &gt; y</code> </td><td style="text-align: left;"> <code>x &gt; y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__gt__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x &gt;= y</code> </td><td style="text-align: left;"> <code>x &gt;= y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__ge__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x &lt;= y</code> </td><td style="text-align: left;"> <code>x &lt;= y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__le__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>+ x </code> </td><td style="text-align: left;"> <code>+ x</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__pos__(x)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>- y</code> </td><td style="text-align: left;"> <code>- x</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__neg__(x)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x + y</code> </td><td style="text-align: left;"> <code>x + y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__add__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x - y</code> </td><td style="text-align: left;"> <code>x - y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__sub__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x * y</code> </td><td style="text-align: left;"> <code>x * y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__mul__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x / y</code> </td><td style="text-align: left;"> <code>x / y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__truediv__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x %/% y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;x // y&#8288;</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__floordiv__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x %% y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;x % y&#8288;</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__mod__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x ^ y</code> </td><td style="text-align: left;"> <code>x ** y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__pow__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x &amp; y</code> </td><td style="text-align: left;"> <code>x &amp; y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__and__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x | y</code> </td><td style="text-align: left;"> <code>x | y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__or__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>!x</code> </td><td style="text-align: left;"> <code>~x</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__not__(x)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>x %*% y</code> </td><td style="text-align: left;"> <code>x @ y</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;type(x).__matmul__(x, y)&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note: If the initial Python method invoked raises a <code>NotImplemented</code>
Exception, the Python interpreter will attempt to use the reflected
variant of the method from the second argument. The arithmetic operators
will call the equivalent double underscore (dunder) method with an &quot;r&quot; prefix. For
instance, when evaluating the expression <code>x + y</code>, if <code style="white-space: pre;">&#8288;type(x).__add__(x, y)&#8288;</code>
raises a <code>NotImplemented</code> exception, then the interpreter will attempt
<code style="white-space: pre;">&#8288;type(y).__radd__(y, x)&#8288;</code>. The comparison operators follow a different
sequence of fallbacks; refer to the Python documentation for more details.
</p>

<hr>
<h2 id='array_reshape'>Reshape an Array</h2><span id='topic+array_reshape'></span>

<h3>Description</h3>

<p>Reshape (reindex) a multi-dimensional array, using row-major (C-style) reshaping
semantics by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>array_reshape(x, dim, order = c("C", "F"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="array_reshape_+3A_x">x</code></td>
<td>
<p>An array</p>
</td></tr>
<tr><td><code id="array_reshape_+3A_dim">dim</code></td>
<td>
<p>The new dimensions to be set on the array.</p>
</td></tr>
<tr><td><code id="array_reshape_+3A_order">order</code></td>
<td>
<p>The order in which elements of <code>x</code> should be read during
the rearrangement. <code>"C"</code> means elements should be read in row-major
order, with the last index changing fastest; <code>"F"</code> means elements should
be read in column-major order, with the first index changing fastest.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function differs from e.g. <code>dim(x) &lt;- dim</code> in a very important way: by
default, <code>array_reshape()</code> will fill the new dimensions in row-major (<code>C</code>-style)
ordering, while <code><a href="base.html#topic+dim+3C-">dim&lt;-()</a></code> will fill new dimensions in column-major
(<code>F</code>ortran-style) ordering. This is done to be consistent with libraries
like NumPy, Keras, and TensorFlow, which default to this sort of ordering when
reshaping arrays. See the examples for why this difference may be important.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# let's construct a 2x2 array from a vector of 4 elements
x &lt;- 1:4

# rearrange will fill the array row-wise
array_reshape(x, c(2, 2))
#      [,1] [,2]
# [1,]    1    2
# [2,]    3    4
# setting the dimensions 'fills' the array col-wise
dim(x) &lt;- c(2, 2)
x
#      [,1] [,2]
# [1,]    1    3
# [2,]    2    4

## End(Not run)
</code></pre>

<hr>
<h2 id='as_iterator'>Traverse a Python iterator or generator</h2><span id='topic+as_iterator'></span><span id='topic+iterate'></span><span id='topic+iter_next'></span>

<h3>Description</h3>

<p>Traverse a Python iterator or generator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_iterator(x)

iterate(it, f = base::identity, simplify = TRUE)

iter_next(it, completed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_iterator_+3A_x">x</code></td>
<td>
<p>Python iterator or iterable</p>
</td></tr>
<tr><td><code id="as_iterator_+3A_it">it</code></td>
<td>
<p>Python iterator or generator</p>
</td></tr>
<tr><td><code id="as_iterator_+3A_f">f</code></td>
<td>
<p>Function to apply to each item. By default applies the
<code>identity</code> function which just reflects back the value of the item.</p>
</td></tr>
<tr><td><code id="as_iterator_+3A_simplify">simplify</code></td>
<td>
<p>Should the result be simplified to a vector if possible?</p>
</td></tr>
<tr><td><code id="as_iterator_+3A_completed">completed</code></td>
<td>
<p>Sentinel value to return from <code>iter_next()</code> if the iteration
completes (defaults to <code>NULL</code> but can be any R value you specify).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Simplification is only attempted all elements are length 1 vectors
of type &quot;character&quot;, &quot;complex&quot;, &quot;double&quot;, &quot;integer&quot;, or &quot;logical&quot;.
</p>


<h3>Value</h3>

<p>For <code>iterate()</code>, A list or vector containing the results of calling
<code>f</code> on each item in <code>x</code> (invisibly); For <code>iter_next()</code>, the next
value in the iteration (or the sentinel <code>completed</code> value if the iteration
is complete).
</p>

<hr>
<h2 id='as.character.python.builtin.bytes'>Convert Python bytes to an R character vector</h2><span id='topic+as.character.python.builtin.bytes'></span>

<h3>Description</h3>

<p>Convert Python bytes to an R character vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'python.builtin.bytes'
as.character(x, encoding = "utf-8", errors = "strict", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.character.python.builtin.bytes_+3A_x">x</code></td>
<td>
<p>object to be coerced or tested.</p>
</td></tr>
<tr><td><code id="as.character.python.builtin.bytes_+3A_encoding">encoding</code></td>
<td>
<p>Encoding to use for conversion (defaults to utf-8)</p>
</td></tr>
<tr><td><code id="as.character.python.builtin.bytes_+3A_errors">errors</code></td>
<td>
<p>Policy for handling conversion errors. Default is 'strict'
which raises an error. Other possible values are 'ignore' and 'replace'.</p>
</td></tr>
<tr><td><code id="as.character.python.builtin.bytes_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='conda-tools'>Conda Tools</h2><span id='topic+conda-tools'></span><span id='topic+conda_list'></span><span id='topic+conda_create'></span><span id='topic+conda_clone'></span><span id='topic+conda_export'></span><span id='topic+conda_remove'></span><span id='topic+conda_install'></span><span id='topic+conda_binary'></span><span id='topic+conda_exe'></span><span id='topic+conda_version'></span><span id='topic+conda_update'></span><span id='topic+conda_python'></span><span id='topic+conda_search'></span><span id='topic+condaenv_exists'></span>

<h3>Description</h3>

<p>Tools for managing Python <code>conda</code> environments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conda_list(conda = "auto")

conda_create(
  envname = NULL,
  packages = NULL,
  ...,
  forge = TRUE,
  channel = character(),
  environment = NULL,
  conda = "auto",
  python_version = miniconda_python_version(),
  additional_create_args = character()
)

conda_clone(envname, ..., clone = "base", conda = "auto")

conda_export(
  envname,
  file = if (json) "environment.json" else "environment.yml",
  json = FALSE,
  ...,
  conda = "auto"
)

conda_remove(envname, packages = NULL, conda = "auto")

conda_install(
  envname = NULL,
  packages,
  forge = TRUE,
  channel = character(),
  pip = FALSE,
  pip_options = character(),
  pip_ignore_installed = FALSE,
  conda = "auto",
  python_version = NULL,
  additional_create_args = character(),
  additional_install_args = character(),
  ...
)

conda_binary(conda = "auto")

conda_exe(conda = "auto")

conda_version(conda = "auto")

conda_update(conda = "auto")

conda_python(envname = NULL, conda = "auto", all = FALSE)

conda_search(
  matchspec,
  forge = TRUE,
  channel = character(),
  conda = "auto",
  ...
)

condaenv_exists(envname = NULL, conda = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conda-tools_+3A_conda">conda</code></td>
<td>
<p>The path to a <code>conda</code> executable. Use <code>"auto"</code> to allow
<code>reticulate</code> to automatically find an appropriate <code>conda</code> binary.
See <strong>Finding Conda</strong> and <code><a href="#topic+conda_binary">conda_binary()</a></code> for more details.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_envname">envname</code></td>
<td>
<p>The name of, or path to, a conda environment.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_packages">packages</code></td>
<td>
<p>A character vector, indicating package names which should be
installed or removed. Use  <code style="white-space: pre;">&#8288;&lt;package&gt;==&lt;version&gt;&#8288;</code> to request the installation
of a specific version of a package. A <code>NULL</code> value for <code><a href="#topic+conda_remove">conda_remove()</a></code>
will be interpretted to <code>"--all"</code>, removing the entire environment.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_...">...</code></td>
<td>
<p>Optional arguments, reserved for future expansion.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_forge">forge</code></td>
<td>
<p>Boolean; include the <a href="https://conda-forge.org/">conda-forge</a>
repository?</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_channel">channel</code></td>
<td>
<p>An optional character vector of conda channels to include.
When specified, the <code>forge</code> argument is ignored. If you need to
specify multiple channels, including the conda forge, you can use
<code style="white-space: pre;">&#8288;c("conda-forge", &lt;other channels&gt;)&#8288;</code>.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_environment">environment</code></td>
<td>
<p>The path to an environment definition, generated via
(for example) <code><a href="#topic+conda_export">conda_export()</a></code>, or via <code style="white-space: pre;">&#8288;conda env export&#8288;</code>. When provided,
the conda environment will be created using this environment definition,
and other arguments will be ignored.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_python_version">python_version</code></td>
<td>
<p>The version of Python to be installed. Set this if
you'd like to change the version of Python associated with a particular
conda environment.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_additional_create_args">additional_create_args</code></td>
<td>
<p>An optional character vector of additional
arguments to use in the call to <code style="white-space: pre;">&#8288;conda create&#8288;</code>.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_clone">clone</code></td>
<td>
<p>The name of the conda environment to be cloned.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_file">file</code></td>
<td>
<p>The path where the conda environment definition will be written.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_json">json</code></td>
<td>
<p>Boolean; should the environment definition be written as JSON?
By default, conda exports environments as YAML.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_pip">pip</code></td>
<td>
<p>Boolean; use <code>pip</code> for package installation? By default, packages
are installed from the active conda channels.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_pip_options">pip_options</code></td>
<td>
<p>An optional character vector of additional command line
arguments to be passed to <code>pip</code>. Only relevant when <code>pip = TRUE</code>.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_pip_ignore_installed">pip_ignore_installed</code></td>
<td>
<p>Ignore already-installed versions when using pip?
(defaults to <code>FALSE</code>). Set this to <code>TRUE</code> so that specific package versions
can be installed even if they are downgrades. The <code>FALSE</code> option is useful
for situations where you don't want a pip install to attempt an overwrite of
a conda binary package (e.g. SciPy on Windows which is very difficult to
install via pip due to compilation requirements).</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_additional_install_args">additional_install_args</code></td>
<td>
<p>An optional character vector of additional
arguments to use in the call to <code style="white-space: pre;">&#8288;conda install&#8288;</code>.</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_all">all</code></td>
<td>
<p>Boolean; report all instances of Python found?</p>
</td></tr>
<tr><td><code id="conda-tools_+3A_matchspec">matchspec</code></td>
<td>
<p>A conda MatchSpec query string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>conda_list()</code> returns an <span class="rlang"><b>R</b></span> <code>data.frame</code>, with <code>name</code> giving the name of
the associated environment, and <code>python</code> giving the path to the Python
binary associated with that environment.
</p>
<p><code>conda_create()</code> returns the path to the Python binary associated with the
newly-created conda environment.
</p>
<p><code>conda_clone()</code> returns the path to Python within the newly-created
conda environment.
</p>
<p><code>conda_export()</code> returns the path to the exported environment definition,
invisibly.
</p>
<p><code>conda_search()</code> returns an <span class="rlang"><b>R</b></span> <code>data.frame</code> describing packages that
matched against <code>matchspec</code>. The data frame will usually include
fields <code>name</code> giving the package name, <code>version</code> giving the package
version, <code>build</code> giving the package build, and <code>channel</code> giving the
channel the package is hosted on.
</p>


<h3>Finding Conda</h3>

<p>Most of <code>reticulate</code>'s conda APIs accept a <code>conda</code> parameter, used to control
the <code>conda</code> binary used in their operation. When <code>conda = "auto"</code>,
<code>reticulate</code> will attempt to automatically find a conda installation.
The following locations are searched, in order:
</p>

<ol>
<li><p> The location specified by the <code>reticulate.conda_binary</code> <span class="rlang"><b>R</b></span> option,
</p>
</li>
<li><p> The location specified by the <code>RETICULATE_CONDA</code> environment variable,
</p>
</li>
<li><p> The <code><a href="#topic+miniconda_path">miniconda_path()</a></code> location (if it exists),
</p>
</li>
<li><p> The program <code>PATH</code>,
</p>
</li>
<li><p> A set of pre-defined locations where conda is typically installed.
</p>
</li></ol>

<p>To force <code>reticulate</code> to use a particular <code>conda</code> binary, we recommend
setting:
</p>
<div class="sourceCode r"><pre>options(reticulate.conda_binary = "/path/to/conda")
</pre></div>
<p>This can be useful if your conda installation lives in a location that
<code>reticulate</code> is unable to automatically discover.
</p>

<hr>
<h2 id='configure_environment'>Configure a Python Environment</h2><span id='topic+configure_environment'></span>

<h3>Description</h3>

<p>Configure a Python environment, satisfying the Python dependencies of any
loaded <span class="rlang"><b>R</b></span> packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>configure_environment(package = NULL, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="configure_environment_+3A_package">package</code></td>
<td>
<p>The name of a package to configure. When <code>NULL</code>, <code>reticulate</code>
will instead look at all loaded packages and discover their associated
Python requirements.</p>
</td></tr>
<tr><td><code id="configure_environment_+3A_force">force</code></td>
<td>
<p>Boolean; force configuration of the Python environment? Note
that <code>configure_environment()</code> is a no-op within non-interactive <span class="rlang"><b>R</b></span>
sessions. Use this if you require automatic environment configuration, e.g.
when testing a package on a continuous integration service.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally, this function should only be used by package authors, who want
to ensure that their package dependencies are installed in the active
Python environment. For example:
</p>
<div class="sourceCode"><pre>.onLoad &lt;- function(libname, pkgname) {
  reticulate::configure_environment(pkgname)
}
</pre></div>
<p>If the Python session has not yet been initialized, or if the user is not
using the default Miniconda Python installation, no action will be taken.
Otherwise, <code>reticulate</code> will take this as a signal to install any required
Python dependencies into the user's Python environment.
</p>
<p>If you'd like to disable <code>reticulate</code>'s auto-configure behavior altogether,
you can set the environment variable:
</p>
<div class="sourceCode"><pre>RETICULATE_AUTOCONFIGURE = FALSE
</pre></div>
<p>e.g. in your <code style="white-space: pre;">&#8288;~/.Renviron&#8288;</code> or similar.
</p>
<p>Note that, in the case where the Python session has not yet been initialized,
<code>reticulate</code> will automatically ensure your required Python dependencies
are installed after the Python session is initialized (when appropriate).
</p>

<hr>
<h2 id='dict'>Create Python dictionary</h2><span id='topic+dict'></span><span id='topic+py_dict'></span>

<h3>Description</h3>

<p>Create a Python dictionary object, including a dictionary whose keys are
other Python objects rather than character vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dict(..., convert = FALSE)

py_dict(keys, values, convert = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dict_+3A_...">...</code></td>
<td>
<p>Name/value pairs for dictionary (or a single named list to be
converted to a dictionary).</p>
</td></tr>
<tr><td><code id="dict_+3A_convert">convert</code></td>
<td>
<p><code>TRUE</code> to automatically convert Python objects to their R
equivalent. If you pass <code>FALSE</code> you can do manual conversion using the
<code><a href="#topic+py_to_r">py_to_r()</a></code> function.</p>
</td></tr>
<tr><td><code id="dict_+3A_keys">keys</code></td>
<td>
<p>Keys to dictionary (can be Python objects)</p>
</td></tr>
<tr><td><code id="dict_+3A_values">values</code></td>
<td>
<p>Values for dictionary</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Python dictionary
</p>


<h3>Note</h3>

<p>The returned dictionary will not automatically convert its elements
from Python to R. You can do manual conversion with the <code><a href="#topic+py_to_r">py_to_r()</a></code>
function or pass <code>convert = TRUE</code> to request automatic conversion.
</p>

<hr>
<h2 id='eng_python'>A reticulate Engine for Knitr</h2><span id='topic+eng_python'></span>

<h3>Description</h3>

<p>This provides a <code>reticulate</code> engine for <code>knitr</code>, suitable for usage when
attempting to render Python chunks. Using this engine allows for shared state
between Python chunks in a document &ndash; that is, variables defined by one
Python chunk can be used by later Python chunks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eng_python(options)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eng_python_+3A_options">options</code></td>
<td>
<p>Chunk options, as provided by <code>knitr</code> during chunk execution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The engine can be activated by setting (for example)
</p>
<div class="sourceCode"><pre>knitr::knit_engines$set(python = reticulate::eng_python)
</pre></div>
<p>Typically, this will be set within a document's setup chunk, or by the
environment requesting that Python chunks be processed by this engine.
Note that <code>knitr</code> (since version 1.18) will use the <code>reticulate</code> engine by
default when executing Python chunks within an R Markdown document.
</p>


<h3>Supported <code>knitr</code> chunk options</h3>

<p>For most options, reticulate's python engine behaves the same as the default
R engine included in knitr, but they might not support all the same features.
Options in <em>italic</em> are equivalent to knitr, but with modified behavior.
</p>

<ul>
<li> <p><em><code>eval</code></em> (<code>TRUE</code>, logical): If <code>TRUE</code>, all expressions in the chunk are evaluated. If <code>FALSE</code>,
no expression is evaluated. Unlike knitr's R engine, it doesn't support numeric
values indicating the expressions to evaluate.
</p>
</li>
<li> <p><em><code>echo</code></em> (<code>TRUE</code>, logical): Whether to display the source code in the output document. Unlike
knitr's R engine, it doesn't support numeric values indicating the expressions
to display.
</p>
</li>
<li> <p><code>results</code> (<code>'markup'</code>, character): Controls how to display the text results. Note that this option only
applies to normal text output (not warnings, messages, or errors). The behavior
should be identical to knitr's R engine.
</p>
</li>
<li> <p><code>collapse</code> (<code>FALSE</code>, logical): Whether to, if possible, collapse all the source and output blocks
from one code chunk into a single block (by default, they are written to separate blocks).
This option only applies to Markdown documents.
</p>
</li>
<li> <p><code>error</code> (<code>TRUE</code>, logical): Whether to preserve errors. If <code>FALSE</code> evaluation stops
on errors. (Note that RMarkdown sets it to <code>FALSE</code>).
</p>
</li>
<li> <p><em><code>warning</code></em> (<code>TRUE</code>, logical): Whether to preserve warnings in the output. If FALSE, all warnings
will be suppressed. Doesn't support indices.
</p>
</li>
<li> <p><code>include</code> (<code>TRUE</code>, logical): Whether to include the chunk output in the output document.
If <code>FALSE</code>, nothing will be written into the output document, but the code is still
evaluated and plot files are generated if there are any plots in the chunk, so you
can manually insert figures later.
</p>
</li>
<li> <p><code>dev</code>: The graphical device to generate plot files. See knitr documentation for
additional information.
</p>
</li>
<li> <p><code>base.dir</code> (<code>NULL</code>; character): An absolute directory under which the plots
are generated.
</p>
</li>
<li> <p><code>strip.white</code> (TRUE; logical): Whether to remove blank lines in the beginning
or end of a source code block in the output.
</p>
</li>
<li> <p><code>dpi</code> (72; numeric): The DPI (dots per inch) for bitmap devices (dpi * inches = pixels).
</p>
</li>
<li> <p><code>fig.width</code>, <code>fig.height</code> (both are 7; numeric): Width and height of the plot
(in inches), to be used in the graphics device.
</p>
</li>
<li> <p><code>label</code>: The chunk label for each chunk is assumed to be unique within the
document. This is especially important for cache and plot filenames, because
these filenames are based on chunk labels. Chunks without labels will be
assigned labels like unnamed-chunk-i, where i is an incremental number.
</p>
</li></ul>



<h4>Python engine only options</h4>


<ul>
<li> <p><strong><code>jupyter_compat</code></strong> (FALSE, logical): If <code>TRUE</code> then, like in Jupyter notebooks,
only the last expression in the chunk is printed to the output.
</p>
</li>
<li> <p><strong><code>out.width.px</code></strong>, <strong><code>out.height.px</code></strong> (810, 400, both integers): Width and
height of the plot in the output document, which can be different with its
physical <code>fig.width</code> and <code>fig.height</code>, i.e., plots can be scaled in the output
document. Unlike knitr's <code>out.width</code>, this is always set in pixels.
</p>
</li>
<li> <p><strong><code>altair.fig.width</code></strong>, <strong><code>altair.fig.height</code></strong>: If set, is used instead of
<code>out.width.px</code> and <code>out.height.px</code> when writing Altair charts.
</p>
</li></ul>



<hr>
<h2 id='import'>Import a Python module</h2><span id='topic+import'></span><span id='topic+import_main'></span><span id='topic+import_builtins'></span><span id='topic+import_from_path'></span>

<h3>Description</h3>

<p>Import the specified Python module, making it available for use from <span class="rlang"><b>R</b></span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import(module, as = NULL, convert = TRUE, delay_load = FALSE)

import_main(convert = TRUE, delay_load = FALSE)

import_builtins(convert = TRUE, delay_load = FALSE)

import_from_path(module, path = ".", convert = TRUE, delay_load = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_+3A_module">module</code></td>
<td>
<p>The name of the Python module.</p>
</td></tr>
<tr><td><code id="import_+3A_as">as</code></td>
<td>
<p>An alias for module name (affects names of R classes). Note that
this is an advanced parameter that should generally only be used in package
development (since it affects the S3 name of the imported class and can
therefore interfere with S3 method dispatching).</p>
</td></tr>
<tr><td><code id="import_+3A_convert">convert</code></td>
<td>
<p>Boolean; should Python objects be automatically converted
to their <span class="rlang"><b>R</b></span> equivalent? If set to <code>FALSE</code>, you can still manually convert
Python objects to <span class="rlang"><b>R</b></span> via the <code><a href="#topic+py_to_r">py_to_r()</a></code> function.</p>
</td></tr>
<tr><td><code id="import_+3A_delay_load">delay_load</code></td>
<td>
<p>Boolean; delay loading the module until it is first used?
When <code>FALSE</code>, the module will be loaded immediately. See <strong>Delay Load</strong>
for advanced usages.</p>
</td></tr>
<tr><td><code id="import_+3A_path">path</code></td>
<td>
<p>The path from which the module should be imported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <span class="rlang"><b>R</b></span> object wrapping a Python module. Module attributes can be accessed
via the <code>$</code> operator, or via <code><a href="#topic+py_get_attr">py_get_attr()</a></code>.
</p>


<h3>Python Built-ins</h3>

<p>Python's built-in functions (e.g. <code>len()</code>) can be accessed via Python's
built-in module. Because the name of this module has changed between Python 2
and Python 3, we provide the function <code>import_builtins()</code> to abstract over
that name change.
</p>


<h3>Delay Load</h3>

<p>The <code>delay_load</code> parameter accepts a variety of inputs. If you just need to
ensure your module is lazy-loaded (e.g. because you are a package author and
want to avoid initializing Python before the user has explicitly requested it),
then passing <code>TRUE</code> is normally the right choice.
</p>
<p>You can also provide a named list: <code>"before_load"</code>, <code>"on_load"</code> and
<code>"on_error"</code> can be functions , which act as callbacks to be run when the
module is later loaded. <code>"environment"</code> can be a character
vector of preferred python environment names to
search for and use. For example:
</p>
<div class="sourceCode"><pre>delay_load = list(

  # run before the module is loaded
  before_load = function() { ... }

  # run immediately after the module is loaded
  on_load = function() { ... }

  # run if an error occurs during module import
  on_error = function(error) { ... }

  environment = c("r-preferred-venv1", "r-preferred-venv2")
)
</pre></div>
<p>Alternatively, if you supply only a single function, that will be treated as
an <code>on_load</code> handler.
</p>


<h3>Import from Path</h3>

<p><code>import_from_path()</code> can be used in you need to import a module from an arbitrary
filesystem path. This is most commonly used when importing modules bundled with an
<span class="rlang"><b>R</b></span> package &ndash; for example:
</p>
<div class="sourceCode"><pre>path &lt;- system.file("python", package = &lt;package&gt;)
reticulate::import_from_path(&lt;module&gt;, path = path, delay_load = TRUE)
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
main &lt;- import_main()
sys &lt;- import("sys")

## End(Not run)

</code></pre>

<hr>
<h2 id='install_miniconda'>Install Miniconda</h2><span id='topic+install_miniconda'></span>

<h3>Description</h3>

<p>Download the <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a>
installer, and use it to install Miniconda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_miniconda(path = miniconda_path(), update = TRUE, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_miniconda_+3A_path">path</code></td>
<td>
<p>The location where Miniconda is (or should be) installed. Note
that the Miniconda installer does not support paths containing spaces. See
<a href="#topic+miniconda_path">miniconda_path</a> for more details on the default path used by <code>reticulate</code>.</p>
</td></tr>
<tr><td><code id="install_miniconda_+3A_update">update</code></td>
<td>
<p>Boolean; update to the latest version of Miniconda after
installation?</p>
</td></tr>
<tr><td><code id="install_miniconda_+3A_force">force</code></td>
<td>
<p>Boolean; force re-installation if Miniconda is already installed
at the requested path?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For arm64 builds of R on macOS, <code>install_miniconda()</code> will use
binaries from <a href="https://github.com/conda-forge/miniforge">miniforge</a> instead.
</p>


<h3>Note</h3>

<p>If you encounter binary incompatibilities between R and Miniconda, a
scripted build and installation of Python from sources can be performed by
<code><a href="#topic+install_python">install_python()</a></code>
</p>


<h3>See Also</h3>

<p>Other miniconda-tools: 
<code><a href="#topic+miniconda_uninstall">miniconda_uninstall</a>()</code>,
<code><a href="#topic+miniconda_update">miniconda_update</a>()</code>
</p>

<hr>
<h2 id='install_python'>Install Python</h2><span id='topic+install_python'></span>

<h3>Description</h3>

<p>Download and install Python, using the <a href="https://github.com/pyenv/pyenv">pyenv</a>.
and <a href="https://github.com/pyenv-win/pyenv-win">pyenv-win</a> projects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_python(
  version = "3.10:latest",
  list = FALSE,
  force = FALSE,
  optimized = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_python_+3A_version">version</code></td>
<td>
<p>The version of Python to install.</p>
</td></tr>
<tr><td><code id="install_python_+3A_list">list</code></td>
<td>
<p>Boolean; if set, list the set of available Python versions?</p>
</td></tr>
<tr><td><code id="install_python_+3A_force">force</code></td>
<td>
<p>Boolean; force re-installation even if the requested version
of Python is already installed?</p>
</td></tr>
<tr><td><code id="install_python_+3A_optimized">optimized</code></td>
<td>
<p>Boolean; if <code>TRUE</code>, installation will take significantly longer but
should result in a faster Python interpreter. Only applicable on macOS and Linux.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In general, it is recommended that Python virtual environments are created
using the copies of Python installed by <code><a href="#topic+install_python">install_python()</a></code>. For example:
</p>
<div class="sourceCode"><pre>library(reticulate)
version &lt;- "3.9.12"
install_python(version)
virtualenv_create("my-environment", version = version)
use_virtualenv("my-environment")

# There is also support for a ":latest" suffix to select the latest patch release
install_python("3.9:latest") # install latest patch available at python.org

# select the latest 3.9.* patch installed locally
virtualenv_create("my-environment", version = "3.9:latest")
</pre></div>


<h3>Note</h3>

<p>On macOS and Linux this will build Python from sources, which may
take a few minutes. Installation will be faster if some build
dependencies are preinstalled. See
<a href="https://github.com/pyenv/pyenv/wiki#suggested-build-environment">https://github.com/pyenv/pyenv/wiki#suggested-build-environment</a> for
example commands you can run to pre-install system dependencies
(requires administrator privileges).
</p>
<p>If <code>optimized = TRUE</code>, (the default) Python is build with:
</p>
<div class="sourceCode"><pre>PYTHON_CONFIGURE_OPTS="--enable-shared --enable-optimizations --with-lto"
PYTHON_CFLAGS="-march=native -mtune=native"
</pre></div>
<p>If <code>optimized = FALSE</code>, Python is built with:
</p>
<div class="sourceCode"><pre>PYTHON_CONFIGURE_OPTS=--enable-shared
</pre></div>
<p>On Windows, prebuilt installers from <a href="https://www.python.org">https://www.python.org</a> are used.
</p>

<hr>
<h2 id='ipython'>IPython console</h2><span id='topic+ipython'></span>

<h3>Description</h3>

<p>Launch IPython console app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ipython()
</code></pre>


<h3>Details</h3>

<p>See https://ipython.readthedocs.io/ for features.
</p>

<hr>
<h2 id='is_py_object'>Check if x is a Python object</h2><span id='topic+is_py_object'></span>

<h3>Description</h3>

<p>Checks if <code>x</code> is a Python object, more efficiently
than <code>inherits(x, "python.builtin.object")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_py_object(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_py_object_+3A_x">x</code></td>
<td>
<p>An <span class="rlang"><b>R</b></span> or Python.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>.
</p>

<hr>
<h2 id='miniconda_path'>Path to Miniconda</h2><span id='topic+miniconda_path'></span>

<h3>Description</h3>

<p>The path to the Miniconda installation to use. By default, an OS-specific
path is used. If you'd like to instead set your own path, you can set the
<code>RETICULATE_MINICONDA_PATH</code> environment variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miniconda_path()
</code></pre>

<hr>
<h2 id='miniconda_uninstall'>Remove Miniconda</h2><span id='topic+miniconda_uninstall'></span>

<h3>Description</h3>

<p>Uninstall Miniconda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miniconda_uninstall(path = miniconda_path())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miniconda_uninstall_+3A_path">path</code></td>
<td>
<p>The path in which Miniconda is installed.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other miniconda-tools: 
<code><a href="#topic+install_miniconda">install_miniconda</a>()</code>,
<code><a href="#topic+miniconda_update">miniconda_update</a>()</code>
</p>

<hr>
<h2 id='miniconda_update'>Update Miniconda</h2><span id='topic+miniconda_update'></span>

<h3>Description</h3>

<p>Update Miniconda to the latest version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miniconda_update(path = miniconda_path())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miniconda_update_+3A_path">path</code></td>
<td>
<p>The location where Miniconda is (or should be) installed. Note
that the Miniconda installer does not support paths containing spaces. See
<a href="#topic+miniconda_path">miniconda_path</a> for more details on the default path used by <code>reticulate</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other miniconda-tools: 
<code><a href="#topic+install_miniconda">install_miniconda</a>()</code>,
<code><a href="#topic+miniconda_uninstall">miniconda_uninstall</a>()</code>
</p>

<hr>
<h2 id='miniconda-params'>miniconda-params</h2><span id='topic+miniconda-params'></span>

<h3>Description</h3>

<p>miniconda-params
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="miniconda-params_+3A_path">path</code></td>
<td>
<p>The location where Miniconda is (or should be) installed. Note
that the Miniconda installer does not support paths containing spaces. See
<a href="#topic+miniconda_path">miniconda_path</a> for more details on the default path used by <code>reticulate</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='nameOfClass.python.builtin.type'><code>nameOfClass()</code> for Python objects</h2><span id='topic+nameOfClass.python.builtin.type'></span>

<h3>Description</h3>

<p>This generic enables passing a <code>python.builtin.type</code> object as the 2nd
argument to <code>base::inherits()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'python.builtin.type'
nameOfClass(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nameOfClass.python.builtin.type_+3A_x">x</code></td>
<td>
<p>A Python class</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scalar string matching the S3 class of objects constructed from the
type.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  numpy &lt;- import("numpy")
  x &lt;- r_to_py(array(1:3))
  inherits(x, numpy$ndarray)

## End(Not run)
</code></pre>

<hr>
<h2 id='np_array'>NumPy array</h2><span id='topic+np_array'></span>

<h3>Description</h3>

<p>Create NumPy arrays and convert the data type and in-memory
ordering of existing NumPy arrays.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>np_array(data, dtype = NULL, order = "C")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="np_array_+3A_data">data</code></td>
<td>
<p>Vector or existing NumPy array providing data for the array</p>
</td></tr>
<tr><td><code id="np_array_+3A_dtype">dtype</code></td>
<td>
<p>Numpy data type (e.g. &quot;float32&quot;, &quot;float64&quot;, etc.)</p>
</td></tr>
<tr><td><code id="np_array_+3A_order">order</code></td>
<td>
<p>Memory ordering for array. &quot;C&quot; means C order, &quot;F&quot; means Fortran
order.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A NumPy array object.
</p>

<hr>
<h2 id='py'>Interact with the Python Main Module</h2><span id='topic+py'></span>

<h3>Description</h3>

<p>The <code>py</code> object provides a means for interacting
with the Python main session directly from <span class="rlang"><b>R</b></span>. Python
objects accessed through <code>py</code> are automatically converted
into <span class="rlang"><b>R</b></span> objects, and can be used with any other <span class="rlang"><b>R</b></span>
functions as needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py
</code></pre>


<h3>Format</h3>

<p>An <span class="rlang"><b>R</b></span> object acting as an interface to the
Python main module.
</p>

<hr>
<h2 id='py_available'>Check if Python is available on this system</h2><span id='topic+py_available'></span><span id='topic+py_numpy_available'></span>

<h3>Description</h3>

<p>Check if Python is available on this system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_available(initialize = FALSE)

py_numpy_available(initialize = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_available_+3A_initialize">initialize</code></td>
<td>
<p><code>TRUE</code> to attempt to initialize Python bindings if they
aren't yet available (defaults to <code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical indicating whether Python is initialized.
</p>


<h3>Note</h3>

<p>The <code>py_numpy_available</code> function is a superset of the
<code>py_available</code> function (it calls <code>py_available</code> first before
checking for NumPy).
</p>

<hr>
<h2 id='py_bool'>Python Truthiness</h2><span id='topic+py_bool'></span>

<h3>Description</h3>

<p>Equivalent to <code>bool(x)</code> in Python, or <code style="white-space: pre;">&#8288;not not x&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_bool(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_bool_+3A_x">x</code></td>
<td>
<p>A python object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the Python object defines a <code style="white-space: pre;">&#8288;__bool__&#8288;</code> method, then that is invoked.
Otherwise, if the object defines a <code style="white-space: pre;">&#8288;__len__&#8288;</code> method, then <code>TRUE</code> is
returned if the length is nonzero. If neither <code style="white-space: pre;">&#8288;__len__&#8288;</code> nor <code style="white-space: pre;">&#8288;__bool__&#8288;</code>
are defined, then the Python object is considered <code>TRUE</code>.
</p>


<h3>Value</h3>

<p>An R scalar logical: <code>TRUE</code> or <code>FALSE</code>. If <code>x</code> is a
null pointer or Python is not initialized, <code>FALSE</code> is returned.
</p>

<hr>
<h2 id='py_call'>Call a Python callable object</h2><span id='topic+py_call'></span>

<h3>Description</h3>

<p>Call a Python callable object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_call(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_call_+3A_...">...</code></td>
<td>
<p>Arguments to function (named and/or unnamed)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return value of call as a Python object.
</p>

<hr>
<h2 id='py_capture_output'>Capture and return Python output</h2><span id='topic+py_capture_output'></span>

<h3>Description</h3>

<p>Capture and return Python output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_capture_output(expr, type = c("stdout", "stderr"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_capture_output_+3A_expr">expr</code></td>
<td>
<p>Expression to capture stdout for</p>
</td></tr>
<tr><td><code id="py_capture_output_+3A_type">type</code></td>
<td>
<p>Streams to capture (defaults to both stdout and stderr)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with output
</p>

<hr>
<h2 id='py_clear_last_error'>Get or (re)set the last Python error encountered.</h2><span id='topic+py_clear_last_error'></span><span id='topic+py_last_error'></span>

<h3>Description</h3>

<p>Get or (re)set the last Python error encountered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_clear_last_error()

py_last_error(exception)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_clear_last_error_+3A_exception">exception</code></td>
<td>
<p>A python exception object. If provided, the provided
exception is set as the last exception.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>py_last_error()</code>, <code>NULL</code> if no error has yet been encountered.
Otherwise, a named list with entries:
</p>

<ul>
<li> <p><code>"type"</code>: R string, name of the exception class.
</p>
</li>
<li> <p><code>"value"</code>: R string, formatted exception message.
</p>
</li>
<li> <p><code>"traceback"</code>: R character vector, the formatted python traceback,
</p>
</li>
<li> <p><code>"message"</code>: The full formatted raised exception, as it would be printed in
Python. Includes the traceback, type, and value.
</p>
</li>
<li> <p><code>"r_trace"</code>: A <code>data.frame</code> with class <code>rlang_trace</code> and columns:
</p>

<ul>
<li> <p><code>call</code>: The R callstack, <code>full_call</code>, summarized for pretty printing.
</p>
</li>
<li> <p><code>full_call</code>: The R callstack. (Output of <code>sys.calls()</code> at the error callsite).
</p>
</li>
<li> <p><code>parent</code>: The parent of each frame in callstack. (Output of <code>sys.parents()</code> at the error callsite).
</p>
</li>
<li><p> Additional columns for internals use: <code>namespace</code>, <code>visible</code>, <code>scope</code>.
</p>
</li></ul>

</li></ul>

<p>And attribute <code>"exception"</code>, a <code>'python.builtin.Exception'</code> object.
</p>
<p>The named list has <code>class</code> <code>"py_error"</code>, and has a default <code>print</code> method
that is the equivalent of <code>cat(py_last_error()$message)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# see last python exception with R traceback
reticulate::py_last_error()

# see the full R callstack from the last Python exception
reticulate::py_last_error()$r_trace$full_call

# run python code that might error,
# without modifying the user-visible python exception

safe_len &lt;- function(x) {
  last_err &lt;- py_last_error()
  tryCatch({
    # this might raise a python exception if x has no `__len__` method.
    import_builtins()$len(x)
  }, error = function(e) {
    # py_last_error() was overwritten, is now "no len method for 'object'"
    py_last_error(last_err) # restore previous exception
    -1L
  })
}

safe_len(py_eval("object"))

## End(Not run)

</code></pre>

<hr>
<h2 id='py_config'>Python configuration</h2><span id='topic+py_config'></span>

<h3>Description</h3>

<p>Retrieve information about the version of Python currently being used by
<code>reticulate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_config()
</code></pre>


<h3>Details</h3>

<p>If Python has not yet been initialized, then calling <code>py_config()</code> will force
the initialization of Python. See <code><a href="#topic+py_discover_config">py_discover_config()</a></code> for more details.
</p>


<h3>Value</h3>

<p>Information about the version of Python in use, as an <span class="rlang"><b>R</b></span> list with
class <code>"py_config"</code>.
</p>

<hr>
<h2 id='py_config_error_message'>Build Python configuration error message</h2><span id='topic+py_config_error_message'></span>

<h3>Description</h3>

<p>Build Python configuration error message
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_config_error_message(prefix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_config_error_message_+3A_prefix">prefix</code></td>
<td>
<p>Error message prefix</p>
</td></tr>
</table>

<hr>
<h2 id='py_del_attr'>Delete an attribute of a Python object</h2><span id='topic+py_del_attr'></span>

<h3>Description</h3>

<p>Delete an attribute of a Python object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_del_attr(x, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_del_attr_+3A_x">x</code></td>
<td>
<p>A Python object.</p>
</td></tr>
<tr><td><code id="py_del_attr_+3A_name">name</code></td>
<td>
<p>The attribute name.</p>
</td></tr>
</table>

<hr>
<h2 id='py_discover_config'>Discover the version of Python to use with reticulate.</h2><span id='topic+py_discover_config'></span>

<h3>Description</h3>

<p>This function enables callers to check which versions of Python will be
discovered on a system as well as which one will be chosen for use with
reticulate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_discover_config(required_module = NULL, use_environment = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_discover_config_+3A_required_module">required_module</code></td>
<td>
<p>A optional module name that will be used to select the
Python environment used.</p>
</td></tr>
<tr><td><code id="py_discover_config_+3A_use_environment">use_environment</code></td>
<td>
<p>An optional virtual/conda environment name to prefer
in the search.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The order of discovery is documented in <code>vignette("versions")</code>, also available online
<a href="https://rstudio.github.io/reticulate/articles/versions.html#order-of-discovery">here</a>
</p>


<h3>Value</h3>

<p>Python configuration object.
</p>

<hr>
<h2 id='py_ellipsis'>The builtin constant Ellipsis</h2><span id='topic+py_ellipsis'></span>

<h3>Description</h3>

<p>The builtin constant Ellipsis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_ellipsis()
</code></pre>

<hr>
<h2 id='py_eval'>Evaluate a Python Expression</h2><span id='topic+py_eval'></span>

<h3>Description</h3>

<p>Evaluate a single Python expression, in a way analogous to the Python
<code>eval()</code> built-in function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_eval(code, convert = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_eval_+3A_code">code</code></td>
<td>
<p>A single Python expression.</p>
</td></tr>
<tr><td><code id="py_eval_+3A_convert">convert</code></td>
<td>
<p>Boolean; automatically convert Python objects to R?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result produced by evaluating <code>code</code>, converted to an <code>R</code>
object when <code>convert</code> is set to <code>TRUE</code>.
</p>


<h3>Caveats</h3>

<p><code>py_eval()</code> only supports evaluation of 'simple' Python expressions.
Other expressions (e.g. assignments) will fail; e.g.
</p>
<div class="sourceCode"><pre>&gt; py_eval("x = 1")
Error in py_eval_impl(code, convert) :
  SyntaxError: invalid syntax (reticulate_eval, line 1)
</pre></div>
<p>and this mirrors what one would see in a regular Python interpreter:
</p>
<div class="sourceCode"><pre>&gt;&gt;&gt; eval("x = 1")
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "&lt;string&gt;", line 1
x = 1
^
  SyntaxError: invalid syntax
</pre></div>
<p>The <code><a href="#topic+py_run_string">py_run_string()</a></code> method can be used if the evaluation of arbitrary
Python code is required.
</p>

<hr>
<h2 id='py_exe'>Python executable</h2><span id='topic+py_exe'></span>

<h3>Description</h3>

<p>Get the path to the Python executable that <code>reticulate</code> has been configured
to use. If Python has already been initialized, then <code>reticulate</code> will
choose the currently-active copy of Python.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_exe()
</code></pre>


<h3>Details</h3>

<p>This can occasionally be useful if you'd like to interact with Python (or its
modules) via a subprocess; for example you might choose to install a package
with <code>pip</code>:
</p>
<div class="sourceCode"><pre>system2(py_exe(), c("-m", "pip", "install", "numpy"))
</pre></div>
<p>and so you can also have greater control over how these modules are invoked.
</p>


<h3>Value</h3>

<p>The path to the Python executable <code>reticulate</code> has been configured
to use.
</p>

<hr>
<h2 id='py_func'>Wrap an R function in a Python function with the same signature.</h2><span id='topic+py_func'></span>

<h3>Description</h3>

<p>This function could wrap an R function in a Python function with
the same signature. Note that the signature of the R function
must not contain esoteric Python-incompatible constructs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_func(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_func_+3A_f">f</code></td>
<td>
<p>An R function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Python function that calls the R function <code>f</code> with the same signature.
</p>

<hr>
<h2 id='py_function_custom_scaffold'>Custom Scaffolding of R Wrappers for Python Functions</h2><span id='topic+py_function_custom_scaffold'></span>

<h3>Description</h3>

<p>This function can be used to generate R wrapper for a specified
Python function while allowing to inject custom code for critical parts of
the wrapper generation, such as process the any part of the docs obtained
from <code><a href="#topic+py_function_docs">py_function_docs()</a></code> and append additional roxygen fields. The result
from execution of <code>python_function</code> is assigned to a variable called
<code>python_function_result</code> that can also be processed by <code>postprocess_fn</code>
before writing the closing curly braces for the generated wrapper function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_function_custom_scaffold(
  python_function,
  r_function = NULL,
  additional_roxygen_fields = NULL,
  process_docs_fn = function(docs) docs,
  process_param_fn = function(param, docs) param,
  process_param_doc_fn = function(param_doc, docs) param_doc,
  postprocess_fn = function() {
 },
  file_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_function_custom_scaffold_+3A_python_function">python_function</code></td>
<td>
<p>Fully qualified name of Python function or class
constructor (e.g. <code>tf$layers$average_pooling1d</code>)</p>
</td></tr>
<tr><td><code id="py_function_custom_scaffold_+3A_r_function">r_function</code></td>
<td>
<p>Name of R function to generate (defaults to name of Python
function if not specified)</p>
</td></tr>
<tr><td><code id="py_function_custom_scaffold_+3A_additional_roxygen_fields">additional_roxygen_fields</code></td>
<td>
<p>A list of additional roxygen fields to write
to the roxygen docs, e.g. <code>list(export = "", rdname = "generated-wrappers")</code>.</p>
</td></tr>
<tr><td><code id="py_function_custom_scaffold_+3A_process_docs_fn">process_docs_fn</code></td>
<td>
<p>A function to process docs obtained from
<code>reticulate::py_function_docs(python_function)</code>.</p>
</td></tr>
<tr><td><code id="py_function_custom_scaffold_+3A_process_param_fn">process_param_fn</code></td>
<td>
<p>A function to process each parameter needed for
<code>python_funcion</code> before executing <code>python_funcion.</code></p>
</td></tr>
<tr><td><code id="py_function_custom_scaffold_+3A_process_param_doc_fn">process_param_doc_fn</code></td>
<td>
<p>A function to process the roxygen docstring for
each parameter.</p>
</td></tr>
<tr><td><code id="py_function_custom_scaffold_+3A_postprocess_fn">postprocess_fn</code></td>
<td>
<p>A function to inject any custom code in the form of a
string before writing the closing curly braces for the generated wrapper
function.</p>
</td></tr>
<tr><td><code id="py_function_custom_scaffold_+3A_file_name">file_name</code></td>
<td>
<p>The file name to write the generated wrapper function to. If
<code>NULL</code>, the generated wrapper will only be printed out in the console.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(tensorflow)
library(stringr)

# Example of a `process_param_fn` to cast parameters with default values
# that contains "L" to integers
process_int_param_fn &lt;- function(param, docs) {
  # Extract the list of parameters that have integer values as default
  int_params &lt;- gsub(
    " = [-]?[0-9]+L",
    "",
    str_extract_all(docs$signature, "[A-z]+ = [-]?[0-9]+L")[[1]])
  # Explicitly cast parameter in the list obtained above to integer
  if (param %in% int_params) {
    param &lt;- paste0("as.integer(", param, ")")
  }
  param
}

# Note that since the default value of parameter `k` is `1L`. It is wrapped
# by `as.integer()` to ensure it's casted to integer before sending it to `tf$nn$top_k`
# for execution. We then print out the python function result.
py_function_custom_scaffold(
  "tf$nn$top_k",
  r_function = "top_k",
  process_param_fn = process_int_param_fn,
  postprocess_fn = function() { "print(python_function_result)" })


## End(Not run)
</code></pre>

<hr>
<h2 id='py_function_wrapper'>Scaffold R wrappers for Python functions</h2><span id='topic+py_function_wrapper'></span><span id='topic+py_function_docs'></span>

<h3>Description</h3>

<p>Scaffold R wrappers for Python functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_function_wrapper(python_function, r_prefix = NULL, r_function = NULL)

py_function_docs(python_function)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_function_wrapper_+3A_python_function">python_function</code></td>
<td>
<p>Fully qualified name of Python function or class
constructor (e.g. <code>tf$layers$average_pooling1d</code>)</p>
</td></tr>
<tr><td><code id="py_function_wrapper_+3A_r_prefix">r_prefix</code></td>
<td>
<p>Prefix to add to generated R function name</p>
</td></tr>
<tr><td><code id="py_function_wrapper_+3A_r_function">r_function</code></td>
<td>
<p>Name of R function to generate (defaults to name of Python
function if not specified)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The generated wrapper will often require additional editing (e.g. to
convert Python list literals in the docs to R lists, to massage R numeric
values to Python integers via <code>as.integer</code> where required, etc.) so is
really intended as an starting point for an R wrapper rather than a wrapper
that can be used without modification.
</p>

<hr>
<h2 id='py_get_attr'>Get an attribute of a Python object</h2><span id='topic+py_get_attr'></span>

<h3>Description</h3>

<p>Get an attribute of a Python object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_get_attr(x, name, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_get_attr_+3A_x">x</code></td>
<td>
<p>Python object</p>
</td></tr>
<tr><td><code id="py_get_attr_+3A_name">name</code></td>
<td>
<p>Attribute name</p>
</td></tr>
<tr><td><code id="py_get_attr_+3A_silent">silent</code></td>
<td>
<p><code>TRUE</code> to return <code>NULL</code> if the attribute
doesn't exist (default is <code>FALSE</code> which will raise an error)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Attribute of Python object
</p>

<hr>
<h2 id='py_get_item'>Get/Set/Delete an item from a Python object</h2><span id='topic+py_get_item'></span><span id='topic+py_set_item'></span><span id='topic+py_del_item'></span><span id='topic++5B.python.builtin.object'></span><span id='topic++5B+3C-.python.builtin.object'></span>

<h3>Description</h3>

<p>Access an item from a Python object, similar to how <code>x[key]</code> might be
used in Python code to access an item indexed by <code>key</code> on an object <code>x</code>. The
object's <code style="white-space: pre;">&#8288;__getitem__()&#8288;</code> <code style="white-space: pre;">&#8288;__setitem__()&#8288;</code> or <code style="white-space: pre;">&#8288;__delitem__()&#8288;</code> method will be
called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_get_item(x, key, silent = FALSE)

py_set_item(x, key, value)

py_del_item(x, key)

## S3 method for class 'python.builtin.object'
x[...]

## S3 replacement method for class 'python.builtin.object'
x[...] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_get_item_+3A_x">x</code></td>
<td>
<p>A Python object.</p>
</td></tr>
<tr><td><code id="py_get_item_+3A_key">key</code>, <code id="py_get_item_+3A_...">...</code></td>
<td>
<p>The key used for item lookup.</p>
</td></tr>
<tr><td><code id="py_get_item_+3A_silent">silent</code></td>
<td>
<p>Boolean; when <code>TRUE</code>, attempts to access missing items
will return <code>NULL</code> rather than throw an error.</p>
</td></tr>
<tr><td><code id="py_get_item_+3A_value">value</code></td>
<td>
<p>The item value to set. Assigning <code>value</code> of <code>NULL</code> calls
<code>py_del_item()</code> and is equivalent to the python expression <code style="white-space: pre;">&#8288;del x[key]&#8288;</code>. To
set an item value of <code>None</code>, you can call <code>py_set_item()</code> directly, or call
<code>x[key] &lt;- py_none()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>py_get_item()</code> and <code>[</code>, the return value from the
<code>x.__getitem__()</code> method. For <code>py_set_item()</code>, <code>py_del_item()</code> and <code style="white-space: pre;">&#8288;[&lt;-&#8288;</code>,
the mutate object <code>x</code> is returned.
</p>


<h3>Note</h3>

<p>The <code>py_get_item()</code> always returns an unconverted python object, while
<code>[</code> will automatically attempt to convert the object if <code>x</code> was created
with <code>convert = TRUE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## get/set/del item from Python dict
x &lt;- r_to_py(list(abc = "xyz"))

#'   # R expression    | Python expression
# -------------------- | -----------------
 x["abc"]              # x["abc"]
 x["abc"] &lt;- "123"     # x["abc"] = "123"
 x["abc"] &lt;- NULL      # del x["abc"]
 x["abc"] &lt;- py_none() # x["abc"] = None

## get item from Python list
x &lt;- r_to_py(list("a", "b", "c"))
x[0]

## slice a NumPy array
x &lt;- np_array(array(1:64, c(4, 4, 4)))

# R expression | Python expression
# ------------ | -----------------
  x[0]         # x[0]
  x[, 0]       # x[:, 0]
  x[, , 0]     # x[:, :, 0]

  x[NA:2]      # x[:2]
  x[`:2`]      # x[:2]

  x[2:NA]      # x[2:]
  x[`2:`]      # x[2:]

  x[NA:NA:2]   # x[::2]
  x[`::2`]     # x[::2]

  x[1:3:2]     # x[1:3:2]
  x[`1:3:2`]   # x[1:3:2]


## End(Not run)
</code></pre>

<hr>
<h2 id='py_has_attr'>Check if a Python object has an attribute</h2><span id='topic+py_has_attr'></span>

<h3>Description</h3>

<p>Check whether a Python object <code>x</code> has an attribute
<code>name</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_has_attr(x, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_has_attr_+3A_x">x</code></td>
<td>
<p>A python object.</p>
</td></tr>
<tr><td><code id="py_has_attr_+3A_name">name</code></td>
<td>
<p>The attribute to be accessed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object has the attribute <code>name</code>, and
<code>FALSE</code> otherwise.
</p>

<hr>
<h2 id='py_help'>Documentation for Python Objects</h2><span id='topic+py_help'></span>

<h3>Description</h3>

<p>Documentation for Python Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_help(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_help_+3A_object">object</code></td>
<td>
<p>Object to print documentation for</p>
</td></tr>
</table>

<hr>
<h2 id='py_help_handler'>Provide help for Python objects</h2><span id='topic+py_help_handler'></span>

<h3>Description</h3>

<p>This is an internal method to be used by front-ends which need to provide
help text / information for Python objects in different contexts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_help_handler(type = c("completion", "parameter", "url"), topic, source, ...)
</code></pre>

<hr>
<h2 id='py_id'>Unique identifer for Python object</h2><span id='topic+py_id'></span>

<h3>Description</h3>

<p>Get a globally unique identifier for a Python object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_id(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_id_+3A_object">object</code></td>
<td>
<p>Python object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unique identifer (as string) or <code>NULL</code>
</p>


<h3>Note</h3>

<p>In the current implementation of CPython this is the
memory address of the object.
</p>

<hr>
<h2 id='py_install'>Install Python packages</h2><span id='topic+py_install'></span>

<h3>Description</h3>

<p>Install Python packages into a virtual environment or Conda environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_install(
  packages,
  envname = NULL,
  method = c("auto", "virtualenv", "conda"),
  conda = "auto",
  python_version = NULL,
  pip = FALSE,
  ...,
  pip_ignore_installed = ignore_installed,
  ignore_installed = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_install_+3A_packages">packages</code></td>
<td>
<p>A vector of Python packages to install.</p>
</td></tr>
<tr><td><code id="py_install_+3A_envname">envname</code></td>
<td>
<p>The name, or full path, of the environment in which Python
packages are to be installed. When <code>NULL</code> (the default), the active
environment as set by the <code>RETICULATE_PYTHON_ENV</code> variable will be used;
if that is unset, then the <code>r-reticulate</code> environment will be used.</p>
</td></tr>
<tr><td><code id="py_install_+3A_method">method</code></td>
<td>
<p>Installation method. By default, &quot;auto&quot; automatically finds a
method that will work in the local environment. Change the default to force
a specific installation method. Note that the &quot;virtualenv&quot; method is not
available on Windows.</p>
</td></tr>
<tr><td><code id="py_install_+3A_conda">conda</code></td>
<td>
<p>The path to a <code>conda</code> executable. Use <code>"auto"</code> to allow
<code>reticulate</code> to automatically find an appropriate <code>conda</code> binary.
See <strong>Finding Conda</strong> and <code><a href="#topic+conda_binary">conda_binary()</a></code> for more details.</p>
</td></tr>
<tr><td><code id="py_install_+3A_python_version">python_version</code></td>
<td>
<p>The requested Python version. Ignored when attempting
to install with a Python virtual environment.</p>
</td></tr>
<tr><td><code id="py_install_+3A_pip">pip</code></td>
<td>
<p>Boolean; use <code>pip</code> for package installation? This is only relevant
when Conda environments are used, as otherwise packages will be installed
from the Conda repositories.</p>
</td></tr>
<tr><td><code id="py_install_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+conda_install">conda_install()</a></code>
or <code><a href="#topic+virtualenv_install">virtualenv_install()</a></code>.</p>
</td></tr>
<tr><td><code id="py_install_+3A_pip_ignore_installed">pip_ignore_installed</code>, <code id="py_install_+3A_ignore_installed">ignore_installed</code></td>
<td>
<p>Boolean; whether pip should
ignore previously installed versions of the requested packages. Setting
this to <code>TRUE</code> causes pip to install the latest versions of all
dependencies into the requested environment. This ensure that no
dependencies are satisfied by a package that exists either in the site
library or was previously installed from a different&ndash;potentially
incompatible&ndash;distribution channel. (<code>ignore_installed</code> is an alias for
<code>pip_ignore_installed</code>, <code>pip_ignore_installed</code> takes precedence).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>On Linux and OS X the &quot;virtualenv&quot; method will be used by default
(&quot;conda&quot; will be used if virtualenv isn't available). On Windows, the
&quot;conda&quot; method is always used.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+conda_install">conda_install()</a></code>, for installing packages into conda environments.
<code><a href="#topic+virtualenv_install">virtualenv_install()</a></code>, for installing packages into virtual environments.
</p>

<hr>
<h2 id='py_is_null_xptr'>Check if a Python object is a null externalptr</h2><span id='topic+py_is_null_xptr'></span><span id='topic+py_validate_xptr'></span>

<h3>Description</h3>

<p>Check if a Python object is a null externalptr
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_is_null_xptr(x)

py_validate_xptr(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_is_null_xptr_+3A_x">x</code></td>
<td>
<p>Python object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When Python objects are serialized within a persisted R
environment (e.g. .RData file) they are deserialized into null
externalptr objects (since the Python session they were originally
connected to no longer exists). This function allows you to safely
check whether whether a Python object is a null externalptr.
</p>
<p>The <code>py_validate</code> function is a convenience function which calls
<code>py_is_null_xptr</code> and throws an error in the case that the xptr
is <code>NULL</code>.
</p>


<h3>Value</h3>

<p>Logical indicating whether the object is a null externalptr
</p>

<hr>
<h2 id='py_iterator'>Create a Python iterator from an R function</h2><span id='topic+py_iterator'></span>

<h3>Description</h3>

<p>Create a Python iterator from an R function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_iterator(fn, completed = NULL, prefetch = 0L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_iterator_+3A_fn">fn</code></td>
<td>
<p>R function with no arguments.</p>
</td></tr>
<tr><td><code id="py_iterator_+3A_completed">completed</code></td>
<td>
<p>Special sentinel return value which indicates that
iteration is complete (defaults to <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="py_iterator_+3A_prefetch">prefetch</code></td>
<td>
<p>Number items to prefetch. Set this to a positive integer to
avoid a deadlock in situations where the generator values are consumed by
python background threads while the main thread is blocked.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Python generators are functions that implement the Python iterator
protocol. In Python, values are returned using the <code>yield</code> keyword. In R,
values are simply returned from the function.
</p>
<p>In Python, the <code>yield</code> keyword enables successive iterations to use the state
of previous iterations. In R, this can be done by returning a function that
mutates its enclosing environment via the <code style="white-space: pre;">&#8288;&lt;&lt;-&#8288;</code> operator. For example:
</p>
<div class="sourceCode r"><pre>sequence_generator &lt;- function(start) {
  value &lt;- start
  function() {
    value &lt;&lt;- value + 1
    value
  }
}
</pre></div>
<p>Then create an iterator using <code>py_iterator()</code>:
</p>
<div class="sourceCode r"><pre>g &lt;- py_iterator(sequence_generator(10))
</pre></div>


<h3>Value</h3>

<p>Python iterator which calls the R function for each iteration.
</p>


<h3>Ending Iteration</h3>

<p>In Python, returning from a function without calling <code>yield</code> indicates the
end of the iteration. In R however, <code>return</code> is used to yield values, so
the end of iteration is indicated by a special return value (<code>NULL</code> by
default, however this can be changed using the <code>completed</code> parameter). For
example:
</p>
<div class="sourceCode r"><pre>sequence_generator &lt;-function(start) {
  value &lt;- start
  function() {
    value &lt;&lt;- value + 1
    if (value &lt; 100)
      value
    else
      NULL
  }
}
</pre></div>


<h3>Threading</h3>

<p>Some Python APIs use generators to parallellize operations by calling the
generator on a background thread and then consuming its results on
the foreground thread. The <code>py_iterator()</code> function creates threadsafe
iterators by ensuring that the R function is always called on the main
thread (to be compatible with R's single-threaded runtime) even if the
generator is run on a background thread.
</p>

<hr>
<h2 id='py_len'>Length of Python object</h2><span id='topic+py_len'></span>

<h3>Description</h3>

<p>Get the length of a Python object. This is equivalent to calling
the Python builtin <code>len()</code> function on the object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_len(x, default = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_len_+3A_x">x</code></td>
<td>
<p>A Python object.</p>
</td></tr>
<tr><td><code id="py_len_+3A_default">default</code></td>
<td>
<p>The default length value to return, in the case that
the associated Python object has no <code style="white-space: pre;">&#8288;__len__&#8288;</code> method. When <code>NULL</code>
(the default), an error is emitted instead.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Not all Python objects have a defined length. For objects without a defined
length, calling <code>py_len()</code> will throw an error. If you'd like to instead
infer a default length in such cases, you can set the <code>default</code> argument
to e.g. <code>1L</code>, to treat Python objects without a <code style="white-space: pre;">&#8288;__len__&#8288;</code> method as having
length one.
</p>


<h3>Value</h3>

<p>The length of the object, as a numeric value.
</p>

<hr>
<h2 id='py_list_attributes'>List all attributes of a Python object</h2><span id='topic+py_list_attributes'></span>

<h3>Description</h3>

<p>List all attributes of a Python object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_list_attributes(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_list_attributes_+3A_x">x</code></td>
<td>
<p>Python object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of attributes
</p>

<hr>
<h2 id='py_list_packages'>List installed Python packages</h2><span id='topic+py_list_packages'></span>

<h3>Description</h3>

<p>List the Python packages that are installed in the requested Python
environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_list_packages(
  envname = NULL,
  type = c("auto", "virtualenv", "conda"),
  python = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_list_packages_+3A_envname">envname</code></td>
<td>
<p>The name of, or path to, a Python virtual environment.
Ignored when <code>python</code> is non-<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="py_list_packages_+3A_type">type</code></td>
<td>
<p>The virtual environment type. Useful if you have both
virtual environments and Conda environments of the same name on
your system, and you need to disambiguate them.</p>
</td></tr>
<tr><td><code id="py_list_packages_+3A_python">python</code></td>
<td>
<p>The path to a Python executable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>envname</code> is <code>NULL</code>, <code>reticulate</code> will use the &quot;default&quot; version
of Python, as reported by <code><a href="#topic+py_exe">py_exe()</a></code>. This implies that you
can call <code>py_list_packages()</code> without arguments in order to list
the installed Python packages in the version of Python currently
used by <code>reticulate</code>.
</p>


<h3>Value</h3>

<p>An <span class="rlang"><b>R</b></span> data.frame, with columns:
</p>

<dl>
<dt><code>package</code></dt><dd><p>The package name.</p>
</dd>
<dt><code>version</code></dt><dd><p>The package version.</p>
</dd>
<dt><code>requirement</code></dt><dd><p>The package requirement.</p>
</dd>
<dt><code>channel</code></dt><dd><p>(Conda only) The channel associated with this package.</p>
</dd>
</dl>


<hr>
<h2 id='py_main_thread_func'>Create a Python function that will always be called on the main thread</h2><span id='topic+py_main_thread_func'></span>

<h3>Description</h3>

<p>This function is helpful when you need to provide a callback to a Python
library which may invoke the callback on a background thread. As R functions
must run on the main thread, wrapping the R function with <code>py_main_thread_func()</code>
will ensure that R code is only executed on the main thread.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_main_thread_func(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_main_thread_func_+3A_f">f</code></td>
<td>
<p>An R function with arbitrary arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Python function that delegates to the passed R function, which
is guaranteed to always be called on the main thread.
</p>

<hr>
<h2 id='py_module_available'>Check if a Python module is available on this system.</h2><span id='topic+py_module_available'></span>

<h3>Description</h3>

<p>Note that this function will also attempt to initialize Python
before checking if the requested module is available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_module_available(module)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_module_available_+3A_module">module</code></td>
<td>
<p>The name of the module.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the module is available and can be loaded;
<code>FALSE</code> otherwise.
</p>

<hr>
<h2 id='py_none'>The Python None object</h2><span id='topic+py_none'></span>

<h3>Description</h3>

<p>Get a reference to the Python <code>None</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_none()
</code></pre>

<hr>
<h2 id='py_repr'>String representation of a python object.</h2><span id='topic+py_repr'></span><span id='topic+py_str'></span>

<h3>Description</h3>

<p>This is equivalent to calling <code>str(object)</code> or <code>repr(object)</code> in Python.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_repr(object)

py_str(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_repr_+3A_object">object</code></td>
<td>
<p>Python object</p>
</td></tr>
<tr><td><code id="py_repr_+3A_...">...</code></td>
<td>
<p>Unused</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In Python, calling <code>print()</code> invokes the builtin <code>str()</code>, while auto-printing
an object at the REPL invokes the builtin <code>repr()</code>.
</p>
<p>In <span class="rlang"><b>R</b></span>, the default print method for python objects invokes <code>py_repr()</code>, and
the default <code>format()</code> and <code>as.character()</code> methods invoke <code>py_str()</code>.
</p>
<p>For historical reasons, <code>py_str()</code> is also an <span class="rlang"><b>R</b></span> S3 method that allows R
authors to customize the the string representation of a Python object from R.
New code is recommended to provide a <code>format()</code> and/or <code>print()</code> S3 R method
for python objects instead.
</p>
<p>The default implementation will call <code>PyObject_Str</code> on the object.
</p>


<h3>Value</h3>

<p>Character vector
</p>

<hr>
<h2 id='py_run'>Run Python code</h2><span id='topic+py_run'></span><span id='topic+py_run_string'></span><span id='topic+py_run_file'></span>

<h3>Description</h3>

<p>Execute code within the scope of the <code>__main__</code> Python module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_run_string(code, local = FALSE, convert = TRUE)

py_run_file(file, local = FALSE, convert = TRUE, prepend_path = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_run_+3A_code">code</code></td>
<td>
<p>The Python code to be executed.</p>
</td></tr>
<tr><td><code id="py_run_+3A_local">local</code></td>
<td>
<p>Boolean; should Python objects be created as part of
a local / private dictionary? If <code>FALSE</code>, objects will be created within
the scope of the Python main module.</p>
</td></tr>
<tr><td><code id="py_run_+3A_convert">convert</code></td>
<td>
<p>Boolean; should Python objects be automatically converted
to their <span class="rlang"><b>R</b></span> equivalent? If set to <code>FALSE</code>, you can still manually convert
Python objects to <span class="rlang"><b>R</b></span> via the <code><a href="#topic+py_to_r">py_to_r()</a></code> function.</p>
</td></tr>
<tr><td><code id="py_run_+3A_file">file</code></td>
<td>
<p>The Python script to be executed.</p>
</td></tr>
<tr><td><code id="py_run_+3A_prepend_path">prepend_path</code></td>
<td>
<p>Boolean; should the script directory be added to the
Python module search path? The default, <code>TRUE</code>, matches the behavior of
<code style="white-space: pre;">&#8288;python &lt;path/to/script.py&gt;&#8288;</code> at the command line.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Python dictionary of objects. When <code>local</code> is <code>FALSE</code>, this
dictionary captures the state of the Python main module after running
the provided code. Otherwise, only the variables defined and used are
captured.
</p>

<hr>
<h2 id='py_save_object'>Save and Load Python Objects</h2><span id='topic+py_save_object'></span><span id='topic+py_load_object'></span>

<h3>Description</h3>

<p>Save and load Python objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_save_object(object, filename, pickle = "pickle", ...)

py_load_object(filename, pickle = "pickle", ..., convert = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_save_object_+3A_object">object</code></td>
<td>
<p>A Python object.</p>
</td></tr>
<tr><td><code id="py_save_object_+3A_filename">filename</code></td>
<td>
<p>The output file name. Note that the file extension <code>.pickle</code>
is considered the &quot;standard&quot; extension for serialized Python objects
as created by the <code>pickle</code> module.</p>
</td></tr>
<tr><td><code id="py_save_object_+3A_pickle">pickle</code></td>
<td>
<p>The &quot;pickle&quot; implementation to use. Defaults to <code style="white-space: pre;">&#8288;"pickle&#8288;</code>&quot;,
but other compatible Python &quot;pickle&quot; implementations (e.g. <code>"cPickle"</code>)
could be used as well.</p>
</td></tr>
<tr><td><code id="py_save_object_+3A_...">...</code></td>
<td>
<p>Optional arguments, to be passed to the <code>pickle</code> module's
<code>dump()</code> and <code>load()</code> functions.</p>
</td></tr>
<tr><td><code id="py_save_object_+3A_convert">convert</code></td>
<td>
<p>Bool. Whether the loaded pickle object should be converted to
an R object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Python objects are serialized using the <code>pickle</code> module &ndash; see
<a href="https://docs.python.org/3/library/pickle.html">https://docs.python.org/3/library/pickle.html</a> for more details.
</p>

<hr>
<h2 id='py_set_attr'>Set an attribute of a Python object</h2><span id='topic+py_set_attr'></span>

<h3>Description</h3>

<p>Set an attribute of a Python object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_set_attr(x, name, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_set_attr_+3A_x">x</code></td>
<td>
<p>Python object</p>
</td></tr>
<tr><td><code id="py_set_attr_+3A_name">name</code></td>
<td>
<p>Attribute name</p>
</td></tr>
<tr><td><code id="py_set_attr_+3A_value">value</code></td>
<td>
<p>Attribute value</p>
</td></tr>
</table>

<hr>
<h2 id='py_set_seed'>Set Python and NumPy random seeds</h2><span id='topic+py_set_seed'></span>

<h3>Description</h3>

<p>Set various random seeds required to ensure reproducible results. The
provided <code>seed</code> value will establish a new random seed for Python and NumPy,
and will also (by default) disable hash randomization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_set_seed(seed, disable_hash_randomization = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_set_seed_+3A_seed">seed</code></td>
<td>
<p>A single value, interpreted as an integer</p>
</td></tr>
<tr><td><code id="py_set_seed_+3A_disable_hash_randomization">disable_hash_randomization</code></td>
<td>
<p>Disable hash randomization, which is
another common source of variable results. See
<a href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONHASHSEED">https://docs.python.org/3/using/cmdline.html#envvar-PYTHONHASHSEED</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function does not set the R random seed, for that you
should call <code><a href="base.html#topic+set.seed">set.seed()</a></code>.
</p>

<hr>
<h2 id='py_suppress_warnings'>Suppress Python warnings for an expression</h2><span id='topic+py_suppress_warnings'></span>

<h3>Description</h3>

<p>Suppress Python warnings for an expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_suppress_warnings(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_suppress_warnings_+3A_expr">expr</code></td>
<td>
<p>Expression to suppress warnings for</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of evaluating expression
</p>

<hr>
<h2 id='py_to_r_wrapper'>R wrapper for Python objects</h2><span id='topic+py_to_r_wrapper'></span>

<h3>Description</h3>

<p>S3 method to create a custom R wrapper for a Python object.
The default wrapper is either an R environment or an R function
(for callable python objects).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_to_r_wrapper(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_to_r_wrapper_+3A_x">x</code></td>
<td>
<p>Python object</p>
</td></tr>
</table>

<hr>
<h2 id='py_unicode'>Convert to Python Unicode Object</h2><span id='topic+py_unicode'></span>

<h3>Description</h3>

<p>Convert to Python Unicode Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_unicode(str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="py_unicode_+3A_str">str</code></td>
<td>
<p>Single element character vector to convert</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default R character vectors are converted to Python strings.
In Python 3 these values are unicode objects however in Python 2
they are 8-bit string objects. This function enables you to
obtain a Python unicode object from an R character vector
when running under Python 2 (under Python 3 a standard Python
string object is returned).
</p>

<hr>
<h2 id='py_version'>Python version</h2><span id='topic+py_version'></span>

<h3>Description</h3>

<p>Get the version of Python currently being used by <code>reticulate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_version()
</code></pre>


<h3>Value</h3>

<p>The version of Python currently used, or <code>NULL</code> if Python has
not yet been initialized by <code>reticulate</code>.
</p>

<hr>
<h2 id='py_versions_windows'>Discover versions of Python installed on a Windows system</h2><span id='topic+py_versions_windows'></span>

<h3>Description</h3>

<p>Discover versions of Python installed on a Windows system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>py_versions_windows()
</code></pre>


<h3>Value</h3>

<p>Data frame with <code>type</code>, <code>hive</code>, <code>install_path</code>, <code>executable_path</code>,
and <code>version</code>.
</p>

<hr>
<h2 id='PyClass'>Create a python class</h2><span id='topic+PyClass'></span>

<h3>Description</h3>

<p>Create a python class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PyClass(classname, defs = list(), inherit = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PyClass_+3A_classname">classname</code></td>
<td>
<p>Name of the class. The class name is useful for S3 method
dispatch.</p>
</td></tr>
<tr><td><code id="PyClass_+3A_defs">defs</code></td>
<td>
<p>A named list of class definitions - functions, attributes, etc.</p>
</td></tr>
<tr><td><code id="PyClass_+3A_inherit">inherit</code></td>
<td>
<p>A list of Python class objects. Usually these objects have
the <code>python.builtin.type</code> S3 class.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Hi &lt;- PyClass("Hi", list(
  name = NULL,
  `__init__` = function(self, name) {
    self$name &lt;- name
    NULL
  },
  say_hi = function(self) {
    paste0("Hi ", self$name)
  }
))

a &lt;- Hi("World")

## End(Not run)

</code></pre>

<hr>
<h2 id='r-py-conversion'>Convert between Python and R objects</h2><span id='topic+r-py-conversion'></span><span id='topic+r_to_py'></span><span id='topic+py_to_r'></span>

<h3>Description</h3>

<p>Convert between Python and R objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_to_py(x, convert = FALSE)

py_to_r(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r-py-conversion_+3A_x">x</code></td>
<td>
<p>A Python object.</p>
</td></tr>
<tr><td><code id="r-py-conversion_+3A_convert">convert</code></td>
<td>
<p>Boolean; should Python objects be automatically converted
to their <span class="rlang"><b>R</b></span> equivalent? If set to <code>FALSE</code>, you can still manually convert
Python objects to <span class="rlang"><b>R</b></span> via the <code><a href="#topic+py_to_r">py_to_r()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <span class="rlang"><b>R</b></span> object, as converted from the Python object.
</p>

<hr>
<h2 id='register_class_filter'>Register a filter for class names</h2><span id='topic+register_class_filter'></span>

<h3>Description</h3>

<p>Register a filter for class names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_class_filter(filter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_class_filter_+3A_filter">filter</code></td>
<td>
<p>Function which takes a class name and maps it to an alternate
name</p>
</td></tr>
</table>

<hr>
<h2 id='register_help_topics'>Register help topics</h2><span id='topic+register_help_topics'></span>

<h3>Description</h3>

<p>Register a set of help topics for dispatching from F1 help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_help_topics(type = c("module", "class"), topics)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_help_topics_+3A_type">type</code></td>
<td>
<p>Type (module or class)</p>
</td></tr>
<tr><td><code id="register_help_topics_+3A_topics">topics</code></td>
<td>
<p>Named list of topics</p>
</td></tr>
</table>

<hr>
<h2 id='register_module_help_handler'>Register a help handler for a root Python module</h2><span id='topic+register_module_help_handler'></span>

<h3>Description</h3>

<p>Register a help handler for a root Python module
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_module_help_handler(module, handler)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_module_help_handler_+3A_module">module</code></td>
<td>
<p>Name of a root Python module</p>
</td></tr>
<tr><td><code id="register_module_help_handler_+3A_handler">handler</code></td>
<td>
<p>Handler function: <code style="white-space: pre;">&#8288;function(name, subtopic = NULL)&#8288;</code>. The name
will be the fully qualified name of a Python object (module, function, or
class). The <code>subtopic</code> is optional and is currently used only for methods
within classes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The help handler is passed a fully qualified module, class, or
function name (and optional method for classes). It should return a URL for
a help page (or <code>""</code> if no help page is available).
</p>

<hr>
<h2 id='register_suppress_warnings_handler'>Register a handler for calls to py_suppress_warnings</h2><span id='topic+register_suppress_warnings_handler'></span>

<h3>Description</h3>

<p>Register a handler for calls to py_suppress_warnings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_suppress_warnings_handler(handler)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_suppress_warnings_handler_+3A_handler">handler</code></td>
<td>
<p>Handler</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Enables packages to register a pair of functions
to be called to suppress and then re-enable warnings
</p>

<hr>
<h2 id='repl_python'>Run a Python REPL</h2><span id='topic+repl_python'></span>

<h3>Description</h3>

<p>This function provides a Python REPL in the <span class="rlang"><b>R</b></span> session, which can be used
to interactively run Python code. All code executed within the REPL is
run within the Python main module, and any generated Python objects will
persist in the Python session after the REPL is detached.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>repl_python(
  module = NULL,
  quiet = getOption("reticulate.repl.quiet", default = FALSE),
  input = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="repl_python_+3A_module">module</code></td>
<td>
<p>An (optional) Python module to be imported before
the REPL is launched.</p>
</td></tr>
<tr><td><code id="repl_python_+3A_quiet">quiet</code></td>
<td>
<p>Boolean; print a startup banner when launching the REPL? If
<code>TRUE</code>, the banner will be suppressed.</p>
</td></tr>
<tr><td><code id="repl_python_+3A_input">input</code></td>
<td>
<p>Python code to be run within the REPL. Setting this can be
useful if you'd like to drive the Python REPL programmatically.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When working with R and Python scripts interactively, one can activate
the Python REPL with <code>repl_python()</code>, run Python code, and later run <code>exit</code>
to return to the <span class="rlang"><b>R</b></span> console.
</p>


<h3>Magics</h3>

<p>A handful of magics are supported in <code>repl_python()</code>:
</p>
<p>Lines prefixed with <code>!</code> are executed as system commands:
</p>

<ul>
<li> <p><code>!cmd --arg1 --arg2</code>: Execute arbitrary system commands
</p>
</li></ul>

<p>Magics start with a <code style="white-space: pre;">&#8288;%&#8288;</code> prefix. Supported magics include:
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;%conda ...&#8288;</code> executes a conda command in the active conda environment
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%pip ...&#8288;</code> executes pip for the active python.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%load&#8288;</code>, <code style="white-space: pre;">&#8288;%loadpy&#8288;</code>, <code style="white-space: pre;">&#8288;%run&#8288;</code> executes a python file.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%system&#8288;</code>, <code style="white-space: pre;">&#8288;!!&#8288;</code> executes a system command and capture output
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%env&#8288;</code>: read current environment variables.
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;%env name&#8288;</code>: read environment variable 'name'.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%env name=val&#8288;</code>, <code style="white-space: pre;">&#8288;%env name val&#8288;</code>: set environment variable 'name' to 'val'.
<code>val</code> elements in <code>{}</code> are interpolated using f-strings (required Python &gt;= 3.6).
</p>
</li></ul>

</li>
<li> <p><code style="white-space: pre;">&#8288;%cd &lt;dir&gt;&#8288;</code> change working directory.
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;%cd -&#8288;</code>: change to previous working directory (as set by <code style="white-space: pre;">&#8288;%cd&#8288;</code>).
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%cd -3&#8288;</code>: change to 3rd most recent working directory (as set by <code style="white-space: pre;">&#8288;%cd&#8288;</code>).
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%cd -foo/bar&#8288;</code>: change to most recent working directory matching <code>"foo/bar"</code> regex
(in history of directories set via <code style="white-space: pre;">&#8288;%cd&#8288;</code>).
</p>
</li></ul>

</li>
<li> <p><code style="white-space: pre;">&#8288;%pwd&#8288;</code>: print current working directory.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%dhist&#8288;</code>: print working directory history.
</p>
</li></ul>

<p>Additionally, the output of system commands can be captured in a variable, e.g.:
</p>

<ul>
<li> <p><code>x = !ls</code>
</p>
</li></ul>

<p>where <code>x</code> will be a list of strings, consisting of
stdout output split in <code>"\n"</code> (stderr is not captured).
</p>


<h3>Example</h3>

<div class="sourceCode"><pre>
# enter the Python REPL, create a dictionary, and exit
repl_python()
dictionary = {'alpha': 1, 'beta': 2}
exit

# access the created dictionary from R
py$dictionary
# $alpha
# [1] 1
#
# $beta
# [1] 2

</pre></div>


<h3>See Also</h3>

<p><a href="#topic+py">py</a>, for accessing objects created using the Python REPL.
</p>

<hr>
<h2 id='source_python'>Read and evaluate a Python script</h2><span id='topic+source_python'></span>

<h3>Description</h3>

<p>Evaluate a Python script within the Python main module, then make all public
(non-module) objects within the main Python module available within the
specified R environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_python(file, envir = parent.frame(), convert = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="source_python_+3A_file">file</code></td>
<td>
<p>The Python script to be executed.</p>
</td></tr>
<tr><td><code id="source_python_+3A_envir">envir</code></td>
<td>
<p>The environment to assign Python objects into (for example,
<code>parent.frame()</code> or <code>globalenv()</code>). Specify <code>NULL</code> to not assign Python
objects.</p>
</td></tr>
<tr><td><code id="source_python_+3A_convert">convert</code></td>
<td>
<p>Boolean; should Python objects be automatically converted
to their <span class="rlang"><b>R</b></span> equivalent? If set to <code>FALSE</code>, you can still manually convert
Python objects to <span class="rlang"><b>R</b></span> via the <code><a href="#topic+py_to_r">py_to_r()</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To prevent assignment of objects into R, pass <code>NULL</code> for the <code>envir</code>
parameter.
</p>

<hr>
<h2 id='tuple'>Create Python tuple</h2><span id='topic+tuple'></span>

<h3>Description</h3>

<p>Create a Python tuple object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuple(..., convert = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuple_+3A_...">...</code></td>
<td>
<p>Values for tuple (or a single list to be converted to a tuple).</p>
</td></tr>
<tr><td><code id="tuple_+3A_convert">convert</code></td>
<td>
<p><code>TRUE</code> to automatically convert Python objects to their R
equivalent. If you pass <code>FALSE</code> you can do manual conversion using the
<code><a href="#topic+py_to_r">py_to_r()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Python tuple
</p>


<h3>Note</h3>

<p>The returned tuple will not automatically convert its elements from
Python to R. You can do manual conversion with the <code><a href="#topic+py_to_r">py_to_r()</a></code> function or
pass <code>convert = TRUE</code> to request automatic conversion.
</p>

<hr>
<h2 id='use_python'>Use Python</h2><span id='topic+use_python'></span><span id='topic+use_python_version'></span><span id='topic+use_virtualenv'></span><span id='topic+use_condaenv'></span><span id='topic+use_miniconda'></span>

<h3>Description</h3>

<p>Select the version of Python to be used by <code>reticulate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_python(python, required = NULL)

use_python_version(version, required = NULL)

use_virtualenv(virtualenv = NULL, required = NULL)

use_condaenv(condaenv = NULL, conda = "auto", required = NULL)

use_miniconda(condaenv = NULL, required = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_python_+3A_python">python</code></td>
<td>
<p>The path to a Python binary.</p>
</td></tr>
<tr><td><code id="use_python_+3A_required">required</code></td>
<td>
<p>Is the requested copy of Python required? If <code>TRUE</code>, an error will be
emitted if the requested copy of Python does not exist. If <code>FALSE</code>, the
request is taken as a hint only, and scanning for other versions will still
proceed. A value of <code>NULL</code> (the default), is equivalent to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="use_python_+3A_version">version</code></td>
<td>
<p>The version of Python to use. <code>reticulate</code> will search for versions of
Python as installed by the <code><a href="#topic+install_python">install_python()</a></code> helper function.</p>
</td></tr>
<tr><td><code id="use_python_+3A_virtualenv">virtualenv</code></td>
<td>
<p>Either the name of, or the path to, a Python virtual environment.</p>
</td></tr>
<tr><td><code id="use_python_+3A_condaenv">condaenv</code></td>
<td>
<p>The conda environment to use. For <code>use_condaenv()</code>, this can be the name,
the absolute prefix path, or the absolute path to the python binary. If
the name is ambiguous, the first environment is used and a warning is
issued. For <code>use_miniconda()</code>, the only conda installation searched is
the one installed by <code>install_miniconda()</code>.</p>
</td></tr>
<tr><td><code id="use_python_+3A_conda">conda</code></td>
<td>
<p>The path to a <code>conda</code> executable. By default, <code>reticulate</code> will check the
<code>PATH</code>, as well as other standard locations for Anaconda installations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>reticulate</code> package initializes its Python bindings lazily &ndash; that is,
it does not initialize its Python bindings until an API that explicitly
requires Python to be loaded is called. This allows users and package authors
to request particular versions of Python by calling <code>use_python()</code> or one of
the other helper functions documented in this help file.
</p>


<h3>RETICULATE_PYTHON</h3>

<p>The <code>RETICULATE_PYTHON</code> environment variable can also be used to control
which copy of Python <code>reticulate</code> chooses to bind to. It should be set to
the path to a Python interpreter, and that interpreter can either be:
</p>

<ul>
<li><p> A standalone system interpreter,
</p>
</li>
<li><p> Part of a virtual environment,
</p>
</li>
<li><p> Part of a Conda environment.
</p>
</li></ul>

<p>When set, this will override any other requests to use a particular copy of
Python. Setting this in <code style="white-space: pre;">&#8288;~/.Renviron&#8288;</code> (or optionally, a project <code>.Renviron</code>)
can be a useful way of forcing <code>reticulate</code> to use a particular version of
Python.
</p>


<h3>Caveats</h3>

<p>Note that the requests for a particular version of Python via <code>use_python()</code>
and friends only persist for the active session; they must be re-run in each
new <span class="rlang"><b>R</b></span> session as appropriate.
</p>
<p>If <code>use_python()</code> (or one of the other <code style="white-space: pre;">&#8288;use_*()&#8288;</code> functions) are called
multiple times, the most recently-requested version of Python will be
used. Note that any request to <code>use_python()</code> will always be overridden
by the <code>RETICULATE_PYTHON</code> environment variable, if set.
</p>
<p>The <code><a href="#topic+py_config">py_config()</a></code> function will also provide a short note describing why
<code>reticulate</code> chose to select the version of Python that was ultimately
activated.
</p>

<hr>
<h2 id='virtualenv-tools'>Interface to Python Virtual Environments</h2><span id='topic+virtualenv-tools'></span><span id='topic+virtualenv_create'></span><span id='topic+virtualenv_install'></span><span id='topic+virtualenv_remove'></span><span id='topic+virtualenv_list'></span><span id='topic+virtualenv_root'></span><span id='topic+virtualenv_python'></span><span id='topic+virtualenv_exists'></span><span id='topic+virtualenv_starter'></span>

<h3>Description</h3>

<p>R functions for managing Python <a href="https://virtualenv.pypa.io/en/stable/">virtual environments</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>virtualenv_create(
  envname = NULL,
  python = virtualenv_starter(version),
  ...,
  version = NULL,
  packages = "numpy",
  requirements = NULL,
  force = FALSE,
  module = getOption("reticulate.virtualenv.module"),
  system_site_packages = getOption("reticulate.virtualenv.system_site_packages", default
    = FALSE),
  pip_version = getOption("reticulate.virtualenv.pip_version", default = NULL),
  setuptools_version = getOption("reticulate.virtualenv.setuptools_version", default =
    NULL),
  extra = getOption("reticulate.virtualenv.extra", default = NULL)
)

virtualenv_install(
  envname = NULL,
  packages = NULL,
  ignore_installed = FALSE,
  pip_options = character(),
  requirements = NULL,
  ...,
  python_version = NULL
)

virtualenv_remove(envname = NULL, packages = NULL, confirm = interactive())

virtualenv_list()

virtualenv_root()

virtualenv_python(envname = NULL)

virtualenv_exists(envname = NULL)

virtualenv_starter(version = NULL, all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="virtualenv-tools_+3A_envname">envname</code></td>
<td>
<p>The name of, or path to, a Python virtual environment. If this
name contains any slashes, the name will be interpreted as a path; if the
name does not contain slashes, it will be treated as a virtual environment
within <code>virtualenv_root()</code>. When <code>NULL</code>, the virtual environment as
specified by the <code>RETICULATE_PYTHON_ENV</code> environment variable will be used
instead. To refer to a virtual environment in the current working
directory, you can prefix the path with <code style="white-space: pre;">&#8288;./&lt;name&gt;&#8288;</code>.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_python">python</code></td>
<td>
<p>The path to a Python interpreter, to be used with the created
virtual environment. This can also accept a version constraint like
<code>"3.10"</code>, which is passed on to <code>virtualenv_starter()</code> to find a suitable
python binary.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_...">...</code></td>
<td>
<p>Optional arguments; currently ignored and reserved for future
expansion.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_version">version</code>, <code id="virtualenv-tools_+3A_python_version">python_version</code></td>
<td>
<p>(string) The version of Python to use when
creating a virtual environment. Python installations will be searched for
using <code><a href="#topic+virtualenv_starter">virtualenv_starter()</a></code>. This can a specific version, like <code>"3.9"</code>
or <code>"3.9.3"</code>, or a comma separated list of version constraints, like
<code>"&gt;=3.8"</code>, or <code>"&lt;=3.11,!=3.9.3,&gt;3.6"</code></p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_packages">packages</code></td>
<td>
<p>A set of Python packages to install (via <code style="white-space: pre;">&#8288;pip install&#8288;</code>) into
the virtual environment, after it has been created. By default, the
<code>"numpy"</code> package will be installed, and the <code>pip</code>, <code>setuptools</code> and
<code>wheel</code> packages will be updated. Set this to <code>FALSE</code> to avoid installing
any packages after the virtual environment has been created.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_requirements">requirements</code></td>
<td>
<p>Filepath to a pip requirements file.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_force">force</code></td>
<td>
<p>Boolean; force recreating the environment specified by
<code>envname</code>, even if it already exists. If <code>TRUE</code>, the pre-existing
environment is first deleted and then recreated. Otherwise, if <code>FALSE</code> (the
default), the path to the existing environment is returned.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_module">module</code></td>
<td>
<p>The Python module to be used when creating the virtual
environment &ndash; typically, <code>virtualenv</code> or <code>venv</code>. When <code>NULL</code> (the
default), <code>venv</code> will be used if available with Python &gt;= 3.6; otherwise,
the <code>virtualenv</code> module will be used.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_system_site_packages">system_site_packages</code></td>
<td>
<p>Boolean; create new virtual environments with the
<code>--system-site-packages</code> flag, thereby allowing those virtual environments
to access the system's site packages? Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_pip_version">pip_version</code></td>
<td>
<p>The version of <code>pip</code> to be installed in the virtual
environment. Relevant only when <code>module == "virtualenv"</code>. Set this to
<code>FALSE</code> to disable installation of <code>pip</code> altogether.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_setuptools_version">setuptools_version</code></td>
<td>
<p>The version of <code>setuptools</code> to be installed in the
virtual environment. Relevant only when <code>module == "virtualenv"</code>. Set this
to <code>FALSE</code> to disable installation of <code>setuptools</code> altogether.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_extra">extra</code></td>
<td>
<p>An optional set of extra command line arguments to be passed.
Arguments should be quoted via <code>shQuote()</code> when necessary.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_ignore_installed">ignore_installed</code></td>
<td>
<p>Boolean; ignore previously-installed versions of the
requested packages? (This should normally be <code>TRUE</code>, so that pre-installed
packages available in the site libraries are ignored and hence packages are
installed into the virtual environment.)</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_pip_options">pip_options</code></td>
<td>
<p>An optional character vector of additional command line
arguments to be passed to <code>pip</code>.</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_confirm">confirm</code></td>
<td>
<p>Boolean; confirm before removing packages or virtual
environments?</p>
</td></tr>
<tr><td><code id="virtualenv-tools_+3A_all">all</code></td>
<td>
<p>If <code>TRUE</code>, <code>virtualenv_starter()</code> returns a 2-column data frame,
with column names <code>path</code> and <code>version</code>. If <code>FALSE</code>, only a single path to a
python binary is returned, corresponding to the first entry when <code>all = TRUE</code>, or <code>NULL</code> if no suitable python binaries were found.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Virtual environments are by default located at <code style="white-space: pre;">&#8288;~/.virtualenvs&#8288;</code> (accessed
with the <code>virtualenv_root()</code> function). You can change the default location
by defining the <code>WORKON_HOME</code> environment variable.
</p>
<p>Virtual environments are created from another &quot;starter&quot; or &quot;seed&quot; Python
already installed on the system. Suitable Pythons installed on the system are
found by <code>virtualenv_starter()</code>.
</p>

<hr>
<h2 id='with-as-operator'>Create local alias for objects in <code>with</code> statements.</h2><span id='topic+with-as-operator'></span><span id='topic++25as+25'></span>

<h3>Description</h3>

<p>Create local alias for objects in <code>with</code> statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>object %as% name
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with-as-operator_+3A_object">object</code></td>
<td>
<p>Object to alias</p>
</td></tr>
<tr><td><code id="with-as-operator_+3A_name">name</code></td>
<td>
<p>Alias name</p>
</td></tr>
</table>

<hr>
<h2 id='with.python.builtin.object'>Evaluate an expression within a context.</h2><span id='topic+with.python.builtin.object'></span>

<h3>Description</h3>

<p>The <code>with</code> method for objects of type <code>python.builtin.object</code>
implements the context manager protocol used by the Python <code>with</code>
statement. The passed object must implement the
<a href="https://docs.python.org/3/reference/datamodel.html#context-managers">context
manager</a> (<code>__enter__</code> and <code>__exit__</code> methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'python.builtin.object'
with(data, expr, as = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with.python.builtin.object_+3A_data">data</code></td>
<td>
<p>Context to enter and exit</p>
</td></tr>
<tr><td><code id="with.python.builtin.object_+3A_expr">expr</code></td>
<td>
<p>Expression to evaluate within the context</p>
</td></tr>
<tr><td><code id="with.python.builtin.object_+3A_as">as</code></td>
<td>
<p>Name of variable to assign context to for the duration of the
expression's evaluation (optional).</p>
</td></tr>
<tr><td><code id="with.python.builtin.object_+3A_...">...</code></td>
<td>
<p>Unused</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

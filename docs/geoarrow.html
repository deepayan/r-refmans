<!DOCTYPE html><html lang="en"><head><title>Help for package geoarrow</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {geoarrow}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#geoarrow-package'><p>geoarrow: Extension Types for Spatial Data for Use with 'Arrow'</p></a></li>
<li><a href='#as_geoarrow_array'><p>Convert an object to a GeoArrow array</p></a></li>
<li><a href='#as_geoarrow_vctr'><p>GeoArrow encoded arrays as R vectors</p></a></li>
<li><a href='#geoarrow_handle'><p>Handler/writer interface for GeoArrow arrays</p></a></li>
<li><a href='#geoarrow_schema_parse'><p>Inspect a GeoArrow schema</p></a></li>
<li><a href='#geoarrow_wkb'><p>GeoArrow Types</p></a></li>
<li><a href='#infer_geoarrow_schema'><p>Infer a GeoArrow-native type from a vector</p></a></li>
<li><a href='#na_extension_wkb'><p>Extension type definitions for GeoArrow extension types</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Extension Types for Spatial Data for Use with 'Arrow'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides extension types and conversions to between R-native
  object types and 'Arrow' columnar types. This includes integration among
  the 'arrow', 'nanoarrow', 'sf', and 'wk' packages such that spatial
  metadata is preserved wherever possible. Extension type implementations
  ensure first-class geometry data type support in the 'arrow' and 'nanoarrow'
  packages.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>nanoarrow (&ge; 0.5.0), wk (&ge; 0.9.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>wk</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/geoarrow/geoarrow-r">https://github.com/geoarrow/geoarrow-r</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/geoarrow/geoarrow-r/issues">https://github.com/geoarrow/geoarrow-r/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>arrow, R6, sf, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-12 18:49:48 UTC; deweydunnington</td>
</tr>
<tr>
<td>Author:</td>
<td>Dewey Dunnington <a href="https://orcid.org/0000-0002-9415-4582"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Anthony North [ctb],
  Apache Software Foundation [cph],
  Ulf Adams [cph],
  Daniel Lemire [cph],
  Joao Paulo Magalhaes [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dewey Dunnington &lt;dewey@dunnington.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-13 06:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='geoarrow-package'>geoarrow: Extension Types for Spatial Data for Use with 'Arrow'</h2><span id='topic+geoarrow'></span><span id='topic+geoarrow-package'></span>

<h3>Description</h3>

<p>Provides extension types and conversions to between R-native object types and 'Arrow' columnar types. This includes integration among the 'arrow', 'nanoarrow', 'sf', and 'wk' packages such that spatial metadata is preserved wherever possible. Extension type implementations ensure first-class geometry data type support in the 'arrow' and 'nanoarrow' packages.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dewey Dunnington <a href="mailto:dewey@dunnington.ca">dewey@dunnington.ca</a> (<a href="https://orcid.org/0000-0002-9415-4582">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Anthony North <a href="mailto:anthony.jl.north@gmail.com">anthony.jl.north@gmail.com</a> [contributor]
</p>
</li>
<li><p> Apache Software Foundation <a href="mailto:dev@arrow.apache.org">dev@arrow.apache.org</a> [copyright holder]
</p>
</li>
<li><p> Ulf Adams [copyright holder]
</p>
</li>
<li><p> Daniel Lemire [copyright holder]
</p>
</li>
<li><p> Joao Paulo Magalhaes [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/geoarrow/geoarrow-r">https://github.com/geoarrow/geoarrow-r</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/geoarrow/geoarrow-r/issues">https://github.com/geoarrow/geoarrow-r/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_geoarrow_array'>Convert an object to a GeoArrow array</h2><span id='topic+as_geoarrow_array'></span><span id='topic+as_geoarrow_array_stream'></span>

<h3>Description</h3>

<p>Convert an object to a GeoArrow array
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_geoarrow_array(x, ..., schema = NULL)

as_geoarrow_array_stream(x, ..., schema = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_geoarrow_array_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
<tr><td><code id="as_geoarrow_array_+3A_...">...</code></td>
<td>
<p>Passed to S3 methods</p>
</td></tr>
<tr><td><code id="as_geoarrow_array_+3A_schema">schema</code></td>
<td>
<p>A geoarrow extension schema to use as the target type</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="nanoarrow.html#topic+as_nanoarrow_array">nanoarrow_array</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_geoarrow_array(wk::wkt("POINT (0 1)"))

</code></pre>

<hr>
<h2 id='as_geoarrow_vctr'>GeoArrow encoded arrays as R vectors</h2><span id='topic+as_geoarrow_vctr'></span>

<h3>Description</h3>

<p>GeoArrow encoded arrays as R vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_geoarrow_vctr(x, ..., schema = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_geoarrow_vctr_+3A_x">x</code></td>
<td>
<p>An object that works with <code><a href="#topic+as_geoarrow_array_stream">as_geoarrow_array_stream()</a></code>. Most
spatial objects in R already work with this method.</p>
</td></tr>
<tr><td><code id="as_geoarrow_vctr_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="#topic+as_geoarrow_array_stream">as_geoarrow_array_stream()</a></code></p>
</td></tr>
<tr><td><code id="as_geoarrow_vctr_+3A_schema">schema</code></td>
<td>
<p>An optional <code>schema</code> (e.g., <code><a href="#topic+na_extension_geoarrow">na_extension_geoarrow()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vctr of class 'geoarrow_vctr'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_geoarrow_vctr("POINT (0 1)")

</code></pre>

<hr>
<h2 id='geoarrow_handle'>Handler/writer interface for GeoArrow arrays</h2><span id='topic+geoarrow_handle'></span><span id='topic+geoarrow_writer'></span>

<h3>Description</h3>

<p>Handler/writer interface for GeoArrow arrays
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geoarrow_handle(x, handler, size = NA_integer_)

geoarrow_writer(schema)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geoarrow_handle_+3A_x">x</code></td>
<td>
<p>An object implementing <code><a href="#topic+as_geoarrow_array_stream">as_geoarrow_array_stream()</a></code></p>
</td></tr>
<tr><td><code id="geoarrow_handle_+3A_handler">handler</code></td>
<td>
<p>A <a href="wk.html#topic+wk_handle">wk handler</a></p>
</td></tr>
<tr><td><code id="geoarrow_handle_+3A_size">size</code></td>
<td>
<p>The number of elements in the stream or NA if unknown</p>
</td></tr>
<tr><td><code id="geoarrow_handle_+3A_schema">schema</code></td>
<td>
<p>A <a href="nanoarrow.html#topic+as_nanoarrow_schema">nanoarrow_schema</a></p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>geoarrow_handle()</code>: Returns the result of <code>handler</code>
</p>
</li>
<li> <p><code>geoarrow_writer()</code>: Returns a nanoarrow array
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>geoarrow_handle(wk::xy(1:3, 2:4), wk::wk_debug_filter())
wk::wk_handle(wk::xy(1:3, 2:4), geoarrow_writer(na_extension_wkt()))

</code></pre>

<hr>
<h2 id='geoarrow_schema_parse'>Inspect a GeoArrow schema</h2><span id='topic+geoarrow_schema_parse'></span><span id='topic+is_geoarrow_schema'></span><span id='topic+as_geoarrow_schema'></span>

<h3>Description</h3>

<p>Inspect a GeoArrow schema
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geoarrow_schema_parse(
  schema,
  extension_name = NULL,
  infer_from_storage = FALSE
)

is_geoarrow_schema(schema)

as_geoarrow_schema(schema)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geoarrow_schema_parse_+3A_schema">schema</code></td>
<td>
<p>A <a href="nanoarrow.html#topic+as_nanoarrow_schema">nanoarrow_schema</a></p>
</td></tr>
<tr><td><code id="geoarrow_schema_parse_+3A_extension_name">extension_name</code></td>
<td>
<p>An extension name to use if schema is a storage type.</p>
</td></tr>
<tr><td><code id="geoarrow_schema_parse_+3A_infer_from_storage">infer_from_storage</code></td>
<td>
<p>Attempt to guess an extension name if schema is not
a geoarrow extension type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of parsed properties
</p>


<h3>Examples</h3>

<pre><code class='language-R'>geoarrow_schema_parse(na_extension_geoarrow("POINT"))

</code></pre>

<hr>
<h2 id='geoarrow_wkb'>GeoArrow Types</h2><span id='topic+geoarrow_wkb'></span><span id='topic+geoarrow_wkt'></span><span id='topic+geoarrow_large_wkb'></span><span id='topic+geoarrow_large_wkt'></span><span id='topic+geoarrow_native'></span><span id='topic+geoarrow_point'></span><span id='topic+geoarrow_linestring'></span><span id='topic+geoarrow_polygon'></span><span id='topic+geoarrow_multipoint'></span><span id='topic+geoarrow_multilinestring'></span><span id='topic+geoarrow_multipolygon'></span>

<h3>Description</h3>

<p>These functions provide GeoArrow type definitions as zero-length vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geoarrow_wkb(crs = NULL, edges = "PLANAR")

geoarrow_wkt(crs = NULL, edges = "PLANAR")

geoarrow_large_wkb(crs = NULL, edges = "PLANAR")

geoarrow_large_wkt(crs = NULL, edges = "PLANAR")

geoarrow_native(
  geometry_type,
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)

geoarrow_point(
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)

geoarrow_linestring(
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)

geoarrow_polygon(
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)

geoarrow_multipoint(
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)

geoarrow_multilinestring(
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)

geoarrow_multipolygon(
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geoarrow_wkb_+3A_crs">crs</code></td>
<td>
<p>An object representing a CRS. For maximum portability,
it should implement <code><a href="wk.html#topic+wk_crs_proj_definition">wk::wk_crs_projjson()</a></code>.</p>
</td></tr>
<tr><td><code id="geoarrow_wkb_+3A_edges">edges</code></td>
<td>
<p>One of &quot;PLANAR&quot; or &quot;SPHERICAL&quot;.</p>
</td></tr>
<tr><td><code id="geoarrow_wkb_+3A_geometry_type">geometry_type</code></td>
<td>
<p>One of &quot;POINT&quot;, &quot;LINESTRING&quot;, &quot;POLYGON&quot;, &quot;MULTIPOINT&quot;,
&quot;MULTILINESTRING&quot;, &quot;MULTIPOLYGON&quot;.</p>
</td></tr>
<tr><td><code id="geoarrow_wkb_+3A_dimensions">dimensions</code></td>
<td>
<p>One of &quot;XY&quot;, &quot;XYZ&quot;, &quot;XYM&quot;, or &quot;XYZM&quot;</p>
</td></tr>
<tr><td><code id="geoarrow_wkb_+3A_coord_type">coord_type</code></td>
<td>
<p>One of &quot;SEPARATE&quot; or &quot;INTERLEAVED&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+as_geoarrow_vctr">geoarrow_vctr</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>geoarrow_wkb()
geoarrow_wkt()
geoarrow_point()

</code></pre>

<hr>
<h2 id='infer_geoarrow_schema'>Infer a GeoArrow-native type from a vector</h2><span id='topic+infer_geoarrow_schema'></span>

<h3>Description</h3>

<p>Infer a GeoArrow-native type from a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>infer_geoarrow_schema(x, ..., promote_multi = TRUE, coord_type = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="infer_geoarrow_schema_+3A_x">x</code></td>
<td>
<p>An object from which to infer a schema.</p>
</td></tr>
<tr><td><code id="infer_geoarrow_schema_+3A_...">...</code></td>
<td>
<p>Passed to S3 methods.</p>
</td></tr>
<tr><td><code id="infer_geoarrow_schema_+3A_promote_multi">promote_multi</code></td>
<td>
<p>Use <code>TRUE</code> to return a MULTI type when both normal and
MULTI elements are in the same array.</p>
</td></tr>
<tr><td><code id="infer_geoarrow_schema_+3A_coord_type">coord_type</code></td>
<td>
<p>Specify the coordinate type to use if returning</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A nanoarrow_schema
</p>


<h3>Examples</h3>

<pre><code class='language-R'>infer_geoarrow_schema(wk::wkt("POINT (0 1)"))

</code></pre>

<hr>
<h2 id='na_extension_wkb'>Extension type definitions for GeoArrow extension types</h2><span id='topic+na_extension_wkb'></span><span id='topic+na_extension_wkt'></span><span id='topic+na_extension_large_wkb'></span><span id='topic+na_extension_large_wkt'></span><span id='topic+na_extension_geoarrow'></span>

<h3>Description</h3>

<p>Extension type definitions for GeoArrow extension types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>na_extension_wkb(crs = NULL, edges = "PLANAR")

na_extension_wkt(crs = NULL, edges = "PLANAR")

na_extension_large_wkb(crs = NULL, edges = "PLANAR")

na_extension_large_wkt(crs = NULL, edges = "PLANAR")

na_extension_geoarrow(
  geometry_type,
  dimensions = "XY",
  coord_type = "SEPARATE",
  crs = NULL,
  edges = "PLANAR"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="na_extension_wkb_+3A_crs">crs</code></td>
<td>
<p>An object representing a CRS. For maximum portability,
it should implement <code><a href="wk.html#topic+wk_crs_proj_definition">wk::wk_crs_projjson()</a></code>.</p>
</td></tr>
<tr><td><code id="na_extension_wkb_+3A_edges">edges</code></td>
<td>
<p>One of &quot;PLANAR&quot; or &quot;SPHERICAL&quot;.</p>
</td></tr>
<tr><td><code id="na_extension_wkb_+3A_geometry_type">geometry_type</code></td>
<td>
<p>One of &quot;POINT&quot;, &quot;LINESTRING&quot;, &quot;POLYGON&quot;, &quot;MULTIPOINT&quot;,
&quot;MULTILINESTRING&quot;, &quot;MULTIPOLYGON&quot;.</p>
</td></tr>
<tr><td><code id="na_extension_wkb_+3A_dimensions">dimensions</code></td>
<td>
<p>One of &quot;XY&quot;, &quot;XYZ&quot;, &quot;XYM&quot;, or &quot;XYZM&quot;</p>
</td></tr>
<tr><td><code id="na_extension_wkb_+3A_coord_type">coord_type</code></td>
<td>
<p>One of &quot;SEPARATE&quot; or &quot;INTERLEAVED&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="nanoarrow.html#topic+as_nanoarrow_schema">nanoarrow_schema</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>na_extension_wkb(crs = "OGC:CRS84")
na_extension_geoarrow("POINT")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

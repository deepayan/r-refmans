<!DOCTYPE html><html><head><title>Help for package lgrExtra</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lgrExtra}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lgrExtra-package'><p>lgrExtra: Extra Appenders for 'lgr'</p></a></li>
<li><a href='#AppenderDbi'><p>Log to databases via DBI</p></a></li>
<li><a href='#AppenderDigest'><p>Abstract class for digests (multi-log message notifications)</p></a></li>
<li><a href='#AppenderDt'><p>Log to an in-memory data.table</p></a></li>
<li><a href='#AppenderElasticSearch'><p>Log to ElasticSearch</p></a></li>
<li><a href='#AppenderGmail'><p>Send emails via the Gmail REST API</p></a></li>
<li><a href='#AppenderMail'><p>Abstract class for email Appenders</p></a></li>
<li><a href='#AppenderPushbullet'><p>Send push-notifications via RPushbullet</p></a></li>
<li><a href='#AppenderSendmail'><p>Send emails via sendmailR</p></a></li>
<li><a href='#AppenderSyslog'><p>Log to the POSIX system log</p></a></li>
<li><a href='#LayoutDbi'><p>Format log events for output to databases</p></a></li>
<li><a href='#LayoutElasticSearch'><p>Format log events for output to ElasticSearch</p></a></li>
<li><a href='#select_dbi_layout'><p>Automatically select appropriate layout for logging to a database</p></a></li>
<li><a href='#Serializer'><p>Serializers</p></a></li>
<li><a href='#unpack_json_cols'><p>Unserialize data frame columns that contain JSON</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Extra Appenders for 'lgr'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.8</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan Fleck &lt;stefan.b.fleck@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Additional appenders for the logging package 'lgr' that
    support logging to databases, email and push notifications.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, lgr, R6</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, DBI, elastic, gmailr, jsonlite, knitr, RMariaDB,
rmarkdown, RPostgres, RPushbullet, RSQLite, rsyslog, sendmailR,
testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1.9000</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-02 12:13:22 UTC; stefan.fleck</td>
</tr>
<tr>
<td>Author:</td>
<td>Stefan Fleck <a href="https://orcid.org/0000-0003-3344-9851"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-06 09:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='lgrExtra-package'>lgrExtra: Extra Appenders for 'lgr'</h2><span id='topic+lgrExtra'></span><span id='topic+lgrExtra-package'></span>

<h3>Description</h3>

<p>Additional appenders for the logging package 'lgr' that support logging to databases, email and push notifications.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Stefan Fleck <a href="mailto:stefan.b.fleck@gmail.com">stefan.b.fleck@gmail.com</a> (<a href="https://orcid.org/0000-0003-3344-9851">ORCID</a>)
</p>

<hr>
<h2 id='AppenderDbi'>Log to databases via DBI</h2><span id='topic+AppenderDbi'></span>

<h3>Description</h3>

<p>Log to a database table with any <strong>DBI</strong> compatible backend. Please be
aware that AppenderDbi does <em>not</em> support case sensitive / quoted column
names, and you advised to only use all-lowercase names for
custom fields (see <code>...</code> argument of <a href="lgr.html#topic+LogEvent">LogEvent</a>).
When appending to a database table all LogEvent values for which a column
exists in the target table will be appended, all others are ignored.
</p>
<p><strong>NOTE</strong>: AppenderDbi works reliable for most databases, but is still
considered <strong>experimental</strong>, especially because the configuration is
excessively complicated. Expect <strong>breaking changes</strong> to AppenderDbi in the
future.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Appender">lgr::Appender</a> and can be uses as an appender by a <a href="lgr.html#topic+Logger">lgr::Logger</a>.
</p>


<h3>Buffered Logging</h3>

<p>By default, AppenderDbi writes each LogEvent directly to the target database
which can be relatively slow. To improve performance it is possible to tell
AppenderDbi to buffer db writes by setting <code>buffer_size</code> to something greater
than <code>0</code>. This buffer is written to the database whenever it is full
(<code>buffer_size</code>), whenever a LogEvent with a level of <code>fatal</code> or <code>error</code> is
encountered (<code>flush_threshold</code>), or when the Appender is garbage collected
(<code>flush_on_exit</code>), i.e. when you close the <span class="rlang"><b>R</b></span> session or shortly after you
remove the Appender object via <code>rm()</code>.
</p>


<h3>Creating a New Appender</h3>

<p>An AppenderDbi is linked to a database table via its <code>table</code> argument. If the
table does not exist it is created either when the Appender is first
instantiated or (more likely) when the first LogEvent would be written to
that table. Rather than to rely on this feature, it is recommended that you
create the target table first using an <code style="white-space: pre;">&#8288;SQL CREATE TABLE&#8288;</code> statement as this
is safer and more flexible. See also <a href="#topic+LayoutDbi">LayoutDbi</a>.
</p>


<h3>Choosing the correct DBI Layout</h3>

<p>Layouts for relational database tables are tricky as they have very strict
column types and further restrictions. On top of that implementation details
vary between database backends.
</p>
<p>To make setting up <code>AppenderDbi</code> as painless as possible, the helper function
<code><a href="#topic+select_dbi_layout">select_dbi_layout()</a></code> tries to automatically determine sensible <a href="#topic+LayoutDbi">LayoutDbi</a>
settings based on <code>conn</code> and - if it exists in the database already -
<code>table</code>. If <code>table</code> does not exist in the database and you start logging, a
new table will be created with the <code>col_types</code> from <code>layout</code>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="lgr.html#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code>AppenderDbi</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>conn</code></dt><dd><p>a <a href="DBI.html#topic+dbConnect">DBI connection</a></p>
</dd>
<dt><code>close_on_exit</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>. Close the Database connection
when the Logger is removed?</p>
</dd>
<dt><code>col_types</code></dt><dd><p>a named <code>character</code> vector providing information about the
column types in the database. How the column types are reported
depends on the database driver. For example, SQLite returns human
readable data types (character, double, ...) while IBM DB2 returns
numeric codes representing the data type.</p>
</dd>
<dt><code>table</code></dt><dd><p>a <code>character</code> scalar or a <a href="DBI.html#topic+Id">DBI::Id</a> specifying the target
database table</p>
</dd>
<dt><code>table_name</code></dt><dd><p><code>character</code> scalar. Like <code style="white-space: pre;">&#8288;$table&#8288;</code>, but always returns a
<code>character</code> scalar</p>
</dd>
<dt><code>table_id</code></dt><dd><p><code>DBI::Id</code>. Like <code style="white-space: pre;">&#8288;$table&#8288;</code>, but always returns a <a href="DBI.html#topic+Id">DBI::Id</a></p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderDbi-new"><code>AppenderDbi$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDbi-set_close_on_exit"><code>AppenderDbi$set_close_on_exit()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDbi-set_conn"><code>AppenderDbi$set_conn()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDbi-show"><code>AppenderDbi$show()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDbi-flush"><code>AppenderDbi$flush()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="clear"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-clear'><code>lgr::AppenderMemory$clear()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="format"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-format'><code>lgr::AppenderMemory$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderDbi-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDbi$new(
  conn,
  table,
  threshold = NA_integer_,
  layout = select_dbi_layout(conn, table),
  close_on_exit = TRUE,
  buffer_size = 0,
  flush_threshold = "error",
  flush_on_exit = TRUE,
  flush_on_rotate = TRUE,
  should_flush = NULL,
  filters = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conn, table</code></dt><dd><p>see section <em>Fields</em></p>
</dd>
<dt><code>threshold, flush_threshold, layout, buffer_size</code></dt><dd><p>see <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderDbi-set_close_on_exit"></a>



<h4>Method <code>set_close_on_exit()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDbi$set_close_on_exit(x)</pre></div>


<hr>
<a id="method-AppenderDbi-set_conn"></a>



<h4>Method <code>set_conn()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDbi$set_conn(conn)</pre></div>


<hr>
<a id="method-AppenderDbi-show"></a>



<h4>Method <code>show()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDbi$show(threshold = NA_integer_, n = 20)</pre></div>


<hr>
<a id="method-AppenderDbi-flush"></a>



<h4>Method <code>flush()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDbi$flush()</pre></div>




<h3>See Also</h3>

<p>Other Appenders: 
<code><a href="#topic+AppenderDt">AppenderDt</a></code>,
<code><a href="#topic+AppenderElasticSearch">AppenderElasticSearch</a></code>,
<code><a href="#topic+AppenderGmail">AppenderGmail</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>,
<code><a href="#topic+AppenderSyslog">AppenderSyslog</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("RSQLite")){
  app &lt;- AppenderDbi$new(
    conn = DBI::dbConnect(RSQLite::SQLite(), dbname = ":memory:"),
    table = "log"
   )

  lg &lt;- lgr::get_logger("test/dbi")$
    add_appender(app, "db")$
    set_propagate(FALSE)
  lg$info("test")
  print(lg$appenders[[1]]$data)

  invisible(lg$config(NULL))  # cleanup
}
</code></pre>

<hr>
<h2 id='AppenderDigest'>Abstract class for digests (multi-log message notifications)</h2><span id='topic+AppenderDigest'></span>

<h3>Description</h3>

<p>Digests is an abstract class for report-like output that contain several
log messages and a title; e.g. an E-mail containing the last 10 log messages
before an error was encountered or a push notification.
</p>
<p><strong>Abstract classes</strong>, only exported for package developers.
</p>


<h3>Value</h3>

<p>Abstract classes cannot be instantiated with <code style="white-space: pre;">&#8288;$new()&#8288;</code> and therefore
do not return anything. They are solely for developers that want to write
their own extension to <strong>lgr</strong>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="lgr.html#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code>AppenderDigest</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>subject_layout</code></dt><dd><p>A <a href="lgr.html#topic+Layout">Layout</a> used to format the last <a href="lgr.html#topic+LogEvent">LogEvent</a>
in this Appenders buffer when it is flushed. The result will be used as
the subject of the digest (for example, the E-mail subject).</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderDigest-new"><code>AppenderDigest$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDigest-set_subject_layout"><code>AppenderDigest$set_subject_layout()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="clear"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-clear'><code>lgr::AppenderMemory$clear()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-flush'><code>lgr::AppenderMemory$flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="format"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-format'><code>lgr::AppenderMemory$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="show"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-show'><code>lgr::AppenderMemory$show()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderDigest-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDigest$new(...)</pre></div>


<hr>
<a id="method-AppenderDigest-set_subject_layout"></a>



<h4>Method <code>set_subject_layout()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDigest$set_subject_layout(layout)</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>, <a href="lgr.html#topic+LayoutGlue">LayoutGlue</a>
</p>
<p>Other abstract classes: 
<code><a href="#topic+AppenderMail">AppenderMail</a></code>
</p>
<p>Other Digest Appenders: 
<code><a href="#topic+AppenderMail">AppenderMail</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>
</p>

<hr>
<h2 id='AppenderDt'>Log to an in-memory data.table</h2><span id='topic+AppenderDt'></span>

<h3>Description</h3>

<p>An Appender that outputs to an in-memory <code>data.table</code>. It fulfill a similar
purpose as the more flexible <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a> and is mainly included for
historical reasons/backwards compatibility with older version of <strong>lgr</strong>.
</p>
<p><strong>NOTE</strong>: AppenderDt has been superseded by <a href="lgr.html#topic+AppenderBuffer">lgr::AppenderBuffer</a> and is
kept mainly for archival purposes.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Appender">lgr::Appender</a> and can be uses as an appender by a <a href="lgr.html#topic+Logger">lgr::Logger</a>.
</p>


<h3>Custom Fields</h3>

<p><code>AppenderDt</code> supports <a href="lgr.html#topic+LogEvent">custom fields</a>, but they have to be
pre-allocated in the <code>prototype</code> argument. Custom fields that are not
part of the prototype are inserted in the list-column <code>.fields</code> if it
exists.
</p>


<h3>Creating a Data Table Appender</h3>

<p>In addition to the usual fields, <code>AppenderDt$new()</code> requires that you supply
a <code>buffer_size</code> and a <code>prototype</code>. These determine the structure of the
<code>data.table</code> used to store the log this appender creates and cannot be
modified anymore after the instantiation of the appender.
</p>
<p>The <a href="lgr.html#topic+Layout">lgr::Layout</a> for this Appender is used only to format console output of
its <code style="white-space: pre;">&#8288;$show()&#8288;</code> method.
</p>


<h3>Comparison AppenderBuffer and AppenderDt</h3>

<p>Both <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a> and <a href="#topic+AppenderDt">AppenderDt</a> do in memory buffering of events.
AppenderBuffer retains a copies of the events it processes and has the
ability to pass the buffered events on to other Appenders. AppenderDt
converts the events to rows in a <code>data.table</code> and is a bit harder to
configure. Used inside loops (several hundred iterations),
AppenderDt has much less overhead than AppenderBuffer. For single logging
calls and small loops, AppenderBuffer is more performant. This is related to
how memory pre-allocation is handled by the appenders.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code>AppenderDt</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderDt-new"><code>AppenderDt$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDt-append"><code>AppenderDt$append()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDt-show"><code>AppenderDt$show()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderDt-set_layout"><code>AppenderDt$set_layout()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="format"><a href='../../lgr/html/Appender.html#method-Appender-format'><code>lgr::Appender$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderDt-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creating a new AppenderDt
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderDt$new(
  threshold = NA_integer_,
  layout = LayoutFormat$new(fmt = "%L [%t] %m %f", timestamp_fmt = "%H:%M:%OS3",
    colors = getOption("lgr.colors", list())),
  prototype = data.table::data.table(.id = NA_integer_, level = NA_integer_, timestamp =
    Sys.time(), logger = NA_character_, caller = NA_character_, msg = NA_character_,
    .fields = list(list())),
  buffer_size = 1e+05,
  filters = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>prototype</code></dt><dd><p>A prototype <code>data.table</code>. The prototype must be a
<code>data.table</code> with the same columns and column types as the data
you want to log. The actual content of the columns is irrelevant.
There are a few reserved column names that have special meaning:
* <code>.id</code>: <code>integer</code> (mandatory). Must always be the first column
and is used internally by the Appender
* <code>.fields</code>: <code>list</code> (optional). If present all custom values of the
event (that are not already part of the prototype) are stored in
this list column.</p>
</dd>
<dt><code>buffer_size</code></dt><dd><p><code>integer</code> scalar. Number of rows of the in-memory <code>data.table</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderDt-append"></a>



<h4>Method <code>append()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDt$append(event)</pre></div>


<hr>
<a id="method-AppenderDt-show"></a>



<h4>Method <code>show()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDt$show(threshold = NA_integer_, n = 20L)</pre></div>


<hr>
<a id="method-AppenderDt-set_layout"></a>



<h4>Method <code>set_layout()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderDt$set_layout(layout)</pre></div>




<h3>See Also</h3>

<p><a href="data.table.html#topic+data.table">data.table::data.table</a>
</p>
<p>Other Appenders: 
<code><a href="#topic+AppenderDbi">AppenderDbi</a></code>,
<code><a href="#topic+AppenderElasticSearch">AppenderElasticSearch</a></code>,
<code><a href="#topic+AppenderGmail">AppenderGmail</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>,
<code><a href="#topic+AppenderSyslog">AppenderSyslog</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- lgr::get_logger("test")
lg$config(list(
  appenders = list(memory = AppenderDt$new()),
  threshold = NA,
  propagate = FALSE  # to prevent routing to root logger for this example
))
lg$debug("test")
lg$error("test")

# Displaying the log
lg$appenders$memory$data
lg$appenders$memory$show()
lgr::show_log(target = lg$appenders$memory)

# If you pass a Logger to show_log(), it looks for the first AppenderDt
# that it can find.
lgr::show_log(target = lg)

# Custom fields are stored in the list column .fields by default
lg$info("the iris data frame", caps = LETTERS[1:5])
lg$appenders$memory$data
lg$appenders$memory$data$.fields[[3]]$caps
lg$config(NULL)
</code></pre>

<hr>
<h2 id='AppenderElasticSearch'>Log to ElasticSearch</h2><span id='topic+AppenderElasticSearch'></span>

<h3>Description</h3>

<p>Log to ElasticSearch via HTTP
</p>


<h3>Details</h3>

<p><strong>NOTE</strong>: <strong>Experimental</strong>; not yet fully documented and and details are
subject to change
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Appender">lgr::Appender</a> and can be uses as an appender by a <a href="lgr.html#topic+Logger">lgr::Logger</a>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="lgr.html#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code>AppenderElasticSearch</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>conn</code></dt><dd><p>a <a href="elastic.html#topic+connect">ElasticSearch connection</a></p>
</dd>
<dt><code>close_on_exit</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>. Close the ElasticSearch connection
when the Logger is removed?</p>
</dd>
<dt><code>index</code></dt><dd><p>a <code>character</code> scalar or a <a href="DBI.html#topic+Id">DBI::Id</a> specifying the target
ElasticSearch index</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderElasticSearch-new"><code>AppenderElasticSearch$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderElasticSearch-set_close_on_exit"><code>AppenderElasticSearch$set_close_on_exit()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderElasticSearch-set_conn"><code>AppenderElasticSearch$set_conn()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderElasticSearch-get_data"><code>AppenderElasticSearch$get_data()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderElasticSearch-show"><code>AppenderElasticSearch$show()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderElasticSearch-flush"><code>AppenderElasticSearch$flush()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="clear"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-clear'><code>lgr::AppenderMemory$clear()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="format"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-format'><code>lgr::AppenderMemory$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderElasticSearch-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderElasticSearch$new(
  conn,
  index,
  threshold = NA_integer_,
  layout = LayoutElasticSearch$new(),
  close_on_exit = TRUE,
  buffer_size = 0,
  flush_threshold = "error",
  flush_on_exit = TRUE,
  flush_on_rotate = TRUE,
  should_flush = NULL,
  filters = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conn, index</code></dt><dd><p>see section <em>Fields</em></p>
</dd>
<dt><code>threshold, flush_threshold, layout, buffer_size</code></dt><dd><p>see <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a>
A data <code>data.frame</code>. content of index</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderElasticSearch-set_close_on_exit"></a>



<h4>Method <code>set_close_on_exit()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderElasticSearch$set_close_on_exit(x)</pre></div>


<hr>
<a id="method-AppenderElasticSearch-set_conn"></a>



<h4>Method <code>set_conn()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderElasticSearch$set_conn(conn)</pre></div>


<hr>
<a id="method-AppenderElasticSearch-get_data"></a>



<h4>Method <code>get_data()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderElasticSearch$get_data(
  n = 20L,
  threshold = NA,
  result_type = "data.frame"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>n</code></dt><dd><p><code>integer</code> scalar. Retrieve only the last <code>n</code> log entries that match
<code>threshold</code></p>
</dd>
<dt><code>threshold</code></dt><dd><p><code>character</code> or <code>integer</code> scalar. The minimum log level
that should be displayed</p>
</dd>
<dt><code>result_type</code></dt><dd><p><code>character</code> scalar. Any of:
</p>

<ul>
<li> <p><code>data.frame</code>
</p>
</li>
<li> <p><code>data.table</code> (shortcut: <code>dt</code>)
</p>
</li>
<li> <p><code>list</code> (unprocessed list with ElasticSearch metadata)
</p>
</li>
<li> <p><code>json</code> (raw ElasticSearch JSON)
</p>
</li></ul>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>see <code>result_type</code>
</p>


<hr>
<a id="method-AppenderElasticSearch-show"></a>



<h4>Method <code>show()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderElasticSearch$show(threshold = NA_integer_, n = 20)</pre></div>


<hr>
<a id="method-AppenderElasticSearch-flush"></a>



<h4>Method <code>flush()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderElasticSearch$flush()</pre></div>




<h3>See Also</h3>

<p>Other Appenders: 
<code><a href="#topic+AppenderDbi">AppenderDbi</a></code>,
<code><a href="#topic+AppenderDt">AppenderDt</a></code>,
<code><a href="#topic+AppenderGmail">AppenderGmail</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>,
<code><a href="#topic+AppenderSyslog">AppenderSyslog</a></code>
</p>

<hr>
<h2 id='AppenderGmail'>Send emails via the Gmail REST API</h2><span id='topic+AppenderGmail'></span>

<h3>Description</h3>

<p>Send mails via <code><a href="gmailr.html#topic+gm_send_message">gmailr::gm_send_message()</a></code>. This
Appender keeps an in-memory buffer like <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a>. If the buffer is
flushed, usually because an event of specified magnitude is encountered, all
buffered events are concatenated to a single message. The default behavior
is to push the last 30 log events in case a <code>fatal</code> event is encountered.
</p>
<p><strong>NOTE:</strong> This Appender requires that you set up google API authorization,
please refer to the <a href="https://github.com/r-lib/gmailr">documentation of gmailr</a>
for details.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Appender">lgr::Appender</a> and can be uses as an appender by a <a href="lgr.html#topic+Logger">lgr::Logger</a>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="lgr.html#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code><a href="#topic+AppenderDigest">lgrExtra::AppenderDigest</a></code> -&gt; <code><a href="#topic+AppenderMail">lgrExtra::AppenderMail</a></code> -&gt; <code>AppenderGmail</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderGmail-new"><code>AppenderGmail$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderGmail-flush"><code>AppenderGmail$flush()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="clear"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-clear'><code>lgr::AppenderMemory$clear()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="show"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-show'><code>lgr::AppenderMemory$show()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderDigest" data-id="set_subject_layout"><a href='../../lgrExtra/html/AppenderDigest.html#method-AppenderDigest-set_subject_layout'><code>lgrExtra::AppenderDigest$set_subject_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="format"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-format'><code>lgrExtra::AppenderMail$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_bcc"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_bcc'><code>lgrExtra::AppenderMail$set_bcc()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_cc"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_cc'><code>lgrExtra::AppenderMail$set_cc()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_from"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_from'><code>lgrExtra::AppenderMail$set_from()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_html"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_html'><code>lgrExtra::AppenderMail$set_html()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_to"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_to'><code>lgrExtra::AppenderMail$set_to()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderGmail-new"></a>



<h4>Method <code>new()</code></h4>

<p>see <a href="#topic+AppenderMail">AppenderMail</a> for details
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderGmail$new(
  to,
  threshold = NA_integer_,
  flush_threshold = "fatal",
  layout = LayoutFormat$new(fmt = "%L [%t] %m %f", timestamp_fmt = "%H:%M:%S"),
  subject_layout = LayoutFormat$new(fmt = "[LGR] %L: %m"),
  buffer_size = 30,
  from = get_user(),
  cc = NULL,
  bcc = NULL,
  html = FALSE,
  filters = NULL
)</pre></div>


<hr>
<a id="method-AppenderGmail-flush"></a>



<h4>Method <code>flush()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderGmail$flush()</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>, <a href="lgr.html#topic+LayoutGlue">LayoutGlue</a>
</p>
<p>Other Appenders: 
<code><a href="#topic+AppenderDbi">AppenderDbi</a></code>,
<code><a href="#topic+AppenderDt">AppenderDt</a></code>,
<code><a href="#topic+AppenderElasticSearch">AppenderElasticSearch</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>,
<code><a href="#topic+AppenderSyslog">AppenderSyslog</a></code>
</p>

<hr>
<h2 id='AppenderMail'>Abstract class for email Appenders</h2><span id='topic+AppenderMail'></span>

<h3>Description</h3>

<p><strong>Abstract classes</strong>, only exported for package developers.
</p>


<h3>Value</h3>

<p>Abstract classes cannot be instantiated with <code style="white-space: pre;">&#8288;$new()&#8288;</code> and therefore
do not return anything. They are solely for developers that want to write
their own extension to <strong>lgr</strong>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="lgr.html#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code><a href="#topic+AppenderDigest">lgrExtra::AppenderDigest</a></code> -&gt; <code>AppenderMail</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>to</code></dt><dd><p><code>character</code> vector. The email addresses of the recipient</p>
</dd>
<dt><code>from</code></dt><dd><p><code>character</code> vector. The email address of the sender</p>
</dd>
<dt><code>cc</code></dt><dd><p><code>character</code> vector. The email addresses of the cc-recipients (carbon copy)</p>
</dd>
<dt><code>bcc</code></dt><dd><p><code>character</code> vector. The email addresses of bcc-recipients (blind carbon copy)</p>
</dd>
<dt><code>html</code></dt><dd><p><code>logical</code> scalar.  Send a html email message?
This does currently only format the log contents as monospace verbatim
text.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderMail-new"><code>AppenderMail$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMail-set_to"><code>AppenderMail$set_to()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMail-set_from"><code>AppenderMail$set_from()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMail-set_cc"><code>AppenderMail$set_cc()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMail-set_bcc"><code>AppenderMail$set_bcc()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMail-set_html"><code>AppenderMail$set_html()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMail-format"><code>AppenderMail$format()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="clear"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-clear'><code>lgr::AppenderMemory$clear()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-flush'><code>lgr::AppenderMemory$flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="show"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-show'><code>lgr::AppenderMemory$show()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderDigest" data-id="set_subject_layout"><a href='../../lgrExtra/html/AppenderDigest.html#method-AppenderDigest-set_subject_layout'><code>lgrExtra::AppenderDigest$set_subject_layout()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderMail-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMail$new(...)</pre></div>


<hr>
<a id="method-AppenderMail-set_to"></a>



<h4>Method <code>set_to()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMail$set_to(x)</pre></div>


<hr>
<a id="method-AppenderMail-set_from"></a>



<h4>Method <code>set_from()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMail$set_from(x)</pre></div>


<hr>
<a id="method-AppenderMail-set_cc"></a>



<h4>Method <code>set_cc()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMail$set_cc(x)</pre></div>


<hr>
<a id="method-AppenderMail-set_bcc"></a>



<h4>Method <code>set_bcc()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMail$set_bcc(x)</pre></div>


<hr>
<a id="method-AppenderMail-set_html"></a>



<h4>Method <code>set_html()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMail$set_html(x)</pre></div>


<hr>
<a id="method-AppenderMail-format"></a>



<h4>Method <code>format()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMail$format(color = FALSE, ...)</pre></div>




<h3>See Also</h3>

<p>Other abstract classes: 
<code><a href="#topic+AppenderDigest">AppenderDigest</a></code>
</p>
<p>Other Digest Appenders: 
<code><a href="#topic+AppenderDigest">AppenderDigest</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>
</p>

<hr>
<h2 id='AppenderPushbullet'>Send push-notifications via RPushbullet</h2><span id='topic+AppenderPushbullet'></span>

<h3>Description</h3>

<p>Send push notifications via <a href="https://www.pushbullet.com/">Pushbullet</a>. This
Appender keeps an in-memory buffer like <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a>. If the buffer is
flushed, usually because an event of specified magnitude is encountered, all
buffered events are concatenated to a single message that is sent to
<code><a href="RPushbullet.html#topic+pbPost">RPushbullet::pbPost()</a></code>. The default behavior is to push the last 7 log
events in case a <code>fatal</code> event is encountered.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Appender">lgr::Appender</a> and can be uses as an appender by a <a href="lgr.html#topic+Logger">lgr::Logger</a>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="lgr.html#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code><a href="#topic+AppenderDigest">lgrExtra::AppenderDigest</a></code> -&gt; <code>AppenderPushbullet</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>apikey</code></dt><dd><p>see <code><a href="RPushbullet.html#topic+pbPost">RPushbullet::pbPost()</a></code></p>
</dd>
<dt><code>recipients</code></dt><dd><p>see <code><a href="RPushbullet.html#topic+pbPost">RPushbullet::pbPost()</a></code></p>
</dd>
<dt><code>email</code></dt><dd><p>see <code><a href="RPushbullet.html#topic+pbPost">RPushbullet::pbPost()</a></code></p>
</dd>
<dt><code>channel</code></dt><dd><p>see <code><a href="RPushbullet.html#topic+pbPost">RPushbullet::pbPost()</a></code></p>
</dd>
<dt><code>devices</code></dt><dd><p>see <code><a href="RPushbullet.html#topic+pbPost">RPushbullet::pbPost()</a></code></p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderPushbullet-new"><code>AppenderPushbullet$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderPushbullet-flush"><code>AppenderPushbullet$flush()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderPushbullet-set_apikey"><code>AppenderPushbullet$set_apikey()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderPushbullet-set_recipients"><code>AppenderPushbullet$set_recipients()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderPushbullet-set_email"><code>AppenderPushbullet$set_email()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderPushbullet-set_channel"><code>AppenderPushbullet$set_channel()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderPushbullet-set_devices"><code>AppenderPushbullet$set_devices()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="clear"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-clear'><code>lgr::AppenderMemory$clear()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="format"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-format'><code>lgr::AppenderMemory$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="show"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-show'><code>lgr::AppenderMemory$show()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderDigest" data-id="set_subject_layout"><a href='../../lgrExtra/html/AppenderDigest.html#method-AppenderDigest-set_subject_layout'><code>lgrExtra::AppenderDigest$set_subject_layout()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderPushbullet-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderPushbullet$new(
  threshold = NA_integer_,
  flush_threshold = "fatal",
  layout = LayoutFormat$new(fmt = "%K  %t&gt; %m %f", timestamp_fmt = "%H:%M:%S"),
  subject_layout = LayoutFormat$new(fmt = "[LGR] %L: %m"),
  buffer_size = 6,
  recipients = NULL,
  email = NULL,
  channel = NULL,
  devices = NULL,
  apikey = getOption("rpushbullet.key"),
  filters = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>threshold, flush_threshold, layout, buffer_size</code></dt><dd><p>see <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></p>
</dd>
<dt><code>subject_layout</code></dt><dd><p>A <a href="lgr.html#topic+LayoutFormat">lgr::LayoutFormat</a> object.</p>
</dd>
<dt><code>recipients, email, channel, devices, apikey</code></dt><dd><p>see <a href="RPushbullet.html#topic+pbPost">RPushbullet::pbPost</a></p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderPushbullet-flush"></a>



<h4>Method <code>flush()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderPushbullet$flush()</pre></div>


<hr>
<a id="method-AppenderPushbullet-set_apikey"></a>



<h4>Method <code>set_apikey()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderPushbullet$set_apikey(x)</pre></div>


<hr>
<a id="method-AppenderPushbullet-set_recipients"></a>



<h4>Method <code>set_recipients()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderPushbullet$set_recipients(x)</pre></div>


<hr>
<a id="method-AppenderPushbullet-set_email"></a>



<h4>Method <code>set_email()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderPushbullet$set_email(x)</pre></div>


<hr>
<a id="method-AppenderPushbullet-set_channel"></a>



<h4>Method <code>set_channel()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderPushbullet$set_channel(x)</pre></div>


<hr>
<a id="method-AppenderPushbullet-set_devices"></a>



<h4>Method <code>set_devices()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderPushbullet$set_devices(x)</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>, <a href="lgr.html#topic+LayoutGlue">LayoutGlue</a>
</p>
<p>Other Appenders: 
<code><a href="#topic+AppenderDbi">AppenderDbi</a></code>,
<code><a href="#topic+AppenderDt">AppenderDt</a></code>,
<code><a href="#topic+AppenderElasticSearch">AppenderElasticSearch</a></code>,
<code><a href="#topic+AppenderGmail">AppenderGmail</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>,
<code><a href="#topic+AppenderSyslog">AppenderSyslog</a></code>
</p>
<p>Other Digest Appenders: 
<code><a href="#topic+AppenderDigest">AppenderDigest</a></code>,
<code><a href="#topic+AppenderMail">AppenderMail</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("RPushbullet") &amp;&amp; !is.null(getOption("rpushbullet.key")) ){
  app &lt;- AppenderPushbullet$new()

  lg &lt;- lgr::get_logger("test/dbi")$
    add_appender(app, "pb")$
    set_propagate(FALSE)

  lg$fatal("info")
  lg$fatal("test")

 invisible(lg$config(NULL))
}
</code></pre>

<hr>
<h2 id='AppenderSendmail'>Send emails via sendmailR</h2><span id='topic+AppenderSendmail'></span>

<h3>Description</h3>

<p>Send mails via <code><a href="sendmailR.html#topic+sendmail">sendmailR::sendmail()</a></code>, which requires that you have access
to an SMTP server that does not require authentication. This
Appender keeps an in-memory buffer like <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a>. If the buffer is
flushed, usually because an event of specified magnitude is encountered, all
buffered events are concatenated to a single message. The default behavior
is to push the last 30 log events in case a <code>fatal</code> event is encountered.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Appender">lgr::Appender</a> and can be uses as an appender by a <a href="lgr.html#topic+Logger">lgr::Logger</a>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="lgr.html#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code><a href="#topic+AppenderDigest">lgrExtra::AppenderDigest</a></code> -&gt; <code><a href="#topic+AppenderMail">lgrExtra::AppenderMail</a></code> -&gt; <code>AppenderSendmail</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>control</code></dt><dd><p>see <code><a href="sendmailR.html#topic+sendmail">sendmailR::sendmail()</a></code></p>
</dd>
<dt><code>headers</code></dt><dd><p>see <code><a href="sendmailR.html#topic+sendmail">sendmailR::sendmail()</a></code></p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderSendmail-new"><code>AppenderSendmail$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderSendmail-flush"><code>AppenderSendmail$flush()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderSendmail-set_control"><code>AppenderSendmail$set_control()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderSendmail-set_headers"><code>AppenderSendmail$set_headers()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="clear"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-clear'><code>lgr::AppenderMemory$clear()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="show"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-show'><code>lgr::AppenderMemory$show()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderDigest" data-id="set_subject_layout"><a href='../../lgrExtra/html/AppenderDigest.html#method-AppenderDigest-set_subject_layout'><code>lgrExtra::AppenderDigest$set_subject_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="format"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-format'><code>lgrExtra::AppenderMail$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_bcc"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_bcc'><code>lgrExtra::AppenderMail$set_bcc()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_cc"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_cc'><code>lgrExtra::AppenderMail$set_cc()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_from"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_from'><code>lgrExtra::AppenderMail$set_from()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_html"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_html'><code>lgrExtra::AppenderMail$set_html()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgrExtra" data-topic="AppenderMail" data-id="set_to"><a href='../../lgrExtra/html/AppenderMail.html#method-AppenderMail-set_to'><code>lgrExtra::AppenderMail$set_to()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderSendmail-new"></a>



<h4>Method <code>new()</code></h4>

<p>see <a href="#topic+AppenderMail">AppenderMail</a> for details
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderSendmail$new(
  to,
  control,
  threshold = NA_integer_,
  flush_threshold = "fatal",
  layout = LayoutFormat$new(fmt = "   %L [%t] %m %f", timestamp_fmt = "%H:%M:%S"),
  subject_layout = LayoutFormat$new(fmt = "[LGR] %L: %m"),
  buffer_size = 29,
  from = get_user(),
  cc = NULL,
  bcc = NULL,
  html = FALSE,
  headers = NULL,
  filters = NULL
)</pre></div>


<hr>
<a id="method-AppenderSendmail-flush"></a>



<h4>Method <code>flush()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderSendmail$flush()</pre></div>


<hr>
<a id="method-AppenderSendmail-set_control"></a>



<h4>Method <code>set_control()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderSendmail$set_control(x)</pre></div>


<hr>
<a id="method-AppenderSendmail-set_headers"></a>



<h4>Method <code>set_headers()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderSendmail$set_headers(x)</pre></div>




<h3>Note</h3>

<p>The default Layout's <code>fmt</code> indents each log entry with 3 blanks. This
is a workaround so that Microsoft Outlook does not mess up the line breaks.
</p>


<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>, <a href="lgr.html#topic+LayoutGlue">LayoutGlue</a>
</p>
<p>Other Appenders: 
<code><a href="#topic+AppenderDbi">AppenderDbi</a></code>,
<code><a href="#topic+AppenderDt">AppenderDt</a></code>,
<code><a href="#topic+AppenderElasticSearch">AppenderElasticSearch</a></code>,
<code><a href="#topic+AppenderGmail">AppenderGmail</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSyslog">AppenderSyslog</a></code>
</p>
<p>Other Digest Appenders: 
<code><a href="#topic+AppenderDigest">AppenderDigest</a></code>,
<code><a href="#topic+AppenderMail">AppenderMail</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
lgr::AppenderSendmail$new(
  to = "user@ecorp.com",
  control = list(smtpServer = "mail.ecorp.com"),
  from = "lgr_user@yourmail.com"
)

## End(Not run)

if (requireNamespace("sendmailR")){
# requires that you have access to an SMTP server

  lg &lt;- lgr::get_logger("lgrExtra/test/mail")$
    set_propagate(FALSE)$
    add_appender(AppenderSendmail$new(
      from = "ceo@ecorp.com",
      to = "some.guy@ecorp.com",
    control = list(smtpServer = "mail.somesmptserver.com")
  ))
  # cleanup
  invisible(lg$config(NULL))
}
</code></pre>

<hr>
<h2 id='AppenderSyslog'>Log to the POSIX system log</h2><span id='topic+AppenderSyslog'></span>

<h3>Description</h3>

<p>An Appender that writes to the syslog on supported POSIX platforms. Requires
the <span class="pkg">rsyslog</span> package.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Appender">lgr::Appender</a> and can be uses as an appender by a <a href="lgr.html#topic+Logger">lgr::Logger</a>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="lgr.html#topic+Appender">lgr::Appender</a></code> -&gt; <code>AppenderSyslog</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>syslog_levels.</code></dt><dd><p>Either a named <code>character</code> vector or a <code>function</code>
mapping lgr <a href="lgr.html#topic+log_levels">log_levels</a> to rsyslog log levels. See
<code style="white-space: pre;">&#8288;$set_syslog_levels()&#8288;</code>.</p>
</dd>
</dl>

</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>identifier</code></dt><dd><p><code>character</code> scalar. A string identifying the process;
if <code>NULL</code> defaults to the logger name</p>
</dd>
<dt><code>syslog_levels.</code></dt><dd><p>Either a named <code>character</code> vector or a <code>function</code>
mapping lgr <a href="lgr.html#topic+log_levels">log_levels</a> to rsyslog log levels. See
<code style="white-space: pre;">&#8288;$set_syslog_levels()&#8288;</code>.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderSyslog-new"><code>AppenderSyslog$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderSyslog-append"><code>AppenderSyslog$append()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderSyslog-set_syslog_levels"><code>AppenderSyslog$set_syslog_levels()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderSyslog-set_identifier"><code>AppenderSyslog$set_identifier()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="format"><a href='../../lgr/html/Appender.html#method-Appender-format'><code>lgr::Appender$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderSyslog-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderSyslog$new(
  identifier = NULL,
  threshold = NA_integer_,
  layout = LayoutFormat$new("%m"),
  filters = NULL,
  syslog_levels = c(CRITICAL = "fatal", ERR = "error", WARNING = "warn", INFO = "info",
    DEBUG = "debug", DEBUG = "trace")
)</pre></div>


<hr>
<a id="method-AppenderSyslog-append"></a>



<h4>Method <code>append()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderSyslog$append(event)</pre></div>


<hr>
<a id="method-AppenderSyslog-set_syslog_levels"></a>



<h4>Method <code>set_syslog_levels()</code></h4>

<p>Define conversion between lgr and syslog log levels
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderSyslog$set_syslog_levels(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd>
<ul>
<li><p> a named <code>character</code> vector mapping whose names are log
levels as understood by <code><a href="rsyslog.html#topic+syslog">rsyslog::syslog()</a></code> and whose values are <a href="lgr.html#topic+log_levels">lgr log levels</a> (either <code>character</code> or <code>numeric</code>)
</p>
</li>
<li><p> a <code>function</code> that takes a vector of lgr log levels as input and
returns a <code>character</code> vector of log levels for <code><a href="rsyslog.html#topic+syslog">rsyslog::syslog()</a></code>.
</p>
</li></ul>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderSyslog-set_identifier"></a>



<h4>Method <code>set_identifier()</code></h4>

<p>Set a string to identify the process.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderSyslog$set_identifier(x)</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>, <a href="lgr.html#topic+LayoutJson">LayoutJson</a>
</p>
<p>Other Appenders: 
<code><a href="#topic+AppenderDbi">AppenderDbi</a></code>,
<code><a href="#topic+AppenderDt">AppenderDt</a></code>,
<code><a href="#topic+AppenderElasticSearch">AppenderElasticSearch</a></code>,
<code><a href="#topic+AppenderGmail">AppenderGmail</a></code>,
<code><a href="#topic+AppenderPushbullet">AppenderPushbullet</a></code>,
<code><a href="#topic+AppenderSendmail">AppenderSendmail</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("rsyslog", quietly = TRUE) &amp;&amp; Sys.info()[["sysname"]] == "Linux") {
  lg &lt;- lgr::get_logger("rsyslog/test")
  lg$add_appender(AppenderSyslog$new(), "syslog")
  lg$info("A test message")
  print(system("journalctl -t 'rsyslog/test'"))

  invisible(lg$config(NULL))  # cleanup
}
</code></pre>

<hr>
<h2 id='LayoutDbi'>Format log events for output to databases</h2><span id='topic+LayoutDbi'></span><span id='topic+LayoutSqlite'></span><span id='topic+LayoutRjdbc'></span><span id='topic+LayoutRjdbcDb2'></span><span id='topic+LayoutDb2'></span><span id='topic+LayoutMySql'></span><span id='topic+LayoutPostgres'></span>

<h3>Description</h3>

<p>LayoutDbi can contain <code>col_types</code> that <a href="#topic+AppenderDbi">AppenderDbi</a> can use to create new
database tables; however, it is safer and more flexible to set up the log
table up manually with an <code style="white-space: pre;">&#8288;SQL CREATE TABLE&#8288;</code> statement instead.
</p>


<h3>Details</h3>

<p>The LayoutDbi parameters <code>fmt</code>, <code>timestamp_fmt</code>, <code>colors</code> and <code>pad_levels</code>
are only applied for for console output via the <code style="white-space: pre;">&#8288;$show()&#8288;</code> method and do not
influence database inserts in any way. The inserts are pre-processed by
the methods <code style="white-space: pre;">&#8288;$format_data()&#8288;</code>, <code style="white-space: pre;">&#8288;$format_colnames&#8288;</code> and <code style="white-space: pre;">&#8288;$format_tablenames&#8288;</code>.
</p>
<p>It does not format
LogEvents directly, but their <code>data.table</code> representations (see
<a href="lgr.html#topic+as.data.table.LogEvent">as.data.table.LogEvent</a>), as well as column- and table names.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Layout">lgr::Layout</a> and can used as a Layout by an <a href="lgr.html#topic+Appender">lgr::Appender</a>.
</p>


<h3>Database Specific Layouts</h3>

<p>Different databases have different data types and features. Currently the
following <code>LayoutDbi</code> subclasses exist that deal with specific databases,
but this list is expected to grow as lgrExtra matures:
</p>

<ul>
<li> <p><code>LayoutSqlite</code>: For SQLite databases
</p>
</li>
<li> <p><code>LayoutPostgres</code>: for Postgres databases
</p>
</li>
<li> <p><code>LayoutMySql</code>: for MySQL databases
</p>
</li>
<li> <p><code>LayoutDb2</code>: for DB2 databases
</p>
</li></ul>

<p>The utility function <code><a href="#topic+select_dbi_layout">select_dbi_layout()</a></code> tries returns the appropriate
Layout for a DBI connection, but this does not work for odbc and JDBC
connections where you have to specify the layout manually.
</p>
<p>For creating custom DB-specific layouts it should usually be enough to create
an <a href="R6.html#topic+R6Class">R6::R6</a> class that inherits from <code>LayoutDbi</code> and choosing different
defaults for <code style="white-space: pre;">&#8288;$format_table_name&#8288;</code>, <code style="white-space: pre;">&#8288;$format_colnames&#8288;</code> and <code style="white-space: pre;">&#8288;$format_data&#8288;</code>.
</p>


<h3>Super classes</h3>

<p><code><a href="lgr.html#topic+Layout">lgr::Layout</a></code> -&gt; <code><a href="lgr.html#topic+LayoutFormat">lgr::LayoutFormat</a></code> -&gt; <code>LayoutDbi</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>format_table_name</code></dt><dd><p>a <code>function</code> to format the table name before
inserting to the database. The function will be applied to the
<code style="white-space: pre;">&#8288;$table_name&#8288;</code> before inserting into the database. For example some,
databases prefer all lowercase names, some uppercase. SQL updates
should be case-agnostic, but sadly in practice not all DBI backends
behave consistently in this regard.</p>
</dd>
<dt><code>format_colnames</code></dt><dd><p>a <code>function</code> to format the column names before
inserting to the database. The function will be applied to the column
names of the data frame to be inserted into the database.</p>
</dd>
<dt><code>format_data</code></dt><dd><p>a <code>function</code> to format the data before
inserting into the database. The function will be applied to the whole
data frame.</p>
</dd>
<dt><code>names</code></dt><dd><p>of the columns that contain data that has been serialized
to JSON strings</p>
</dd>
</dl>

</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>col_types</code></dt><dd><p>a named <code>character</code> vector of column types supported by
the target database. If not <code>NULL</code> this is used by <a href="#topic+AppenderDbi">AppenderDbi</a> or
similar Appenders to create a new database table on instantiation of
the Appender. If the target database table already exists, <code>col_types</code>
is not used.</p>
</dd>
<dt><code>names</code></dt><dd><p>of the columns that contain data that has been serialized
to JSON strings</p>
</dd>
<dt><code>col_names</code></dt><dd><p>column names of the target table (the same as
<code>names(lo$col_types)</code>)</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LayoutDbi-new"><code>LayoutDbi$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutDbi-set_col_types"><code>LayoutDbi$set_col_types()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutDbi-set_serialized_cols"><code>LayoutDbi$set_serialized_cols()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutDbi-sql_create_table"><code>LayoutDbi$sql_create_table()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutDbi-toString"><code>LayoutDbi$toString()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutDbi-clone"><code>LayoutDbi$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="LayoutFormat" data-id="format_event"><a href='../../lgr/html/LayoutFormat.html#method-LayoutFormat-format_event'><code>lgr::LayoutFormat$format_event()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="LayoutFormat" data-id="read"><a href='../../lgr/html/LayoutFormat.html#method-LayoutFormat-read'><code>lgr::LayoutFormat$read()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="LayoutFormat" data-id="set_colors"><a href='../../lgr/html/LayoutFormat.html#method-LayoutFormat-set_colors'><code>lgr::LayoutFormat$set_colors()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="LayoutFormat" data-id="set_fmt"><a href='../../lgr/html/LayoutFormat.html#method-LayoutFormat-set_fmt'><code>lgr::LayoutFormat$set_fmt()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="LayoutFormat" data-id="set_pad_levels"><a href='../../lgr/html/LayoutFormat.html#method-LayoutFormat-set_pad_levels'><code>lgr::LayoutFormat$set_pad_levels()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="LayoutFormat" data-id="set_timestamp_fmt"><a href='../../lgr/html/LayoutFormat.html#method-LayoutFormat-set_timestamp_fmt'><code>lgr::LayoutFormat$set_timestamp_fmt()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-LayoutDbi-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutDbi$new(
  col_types = c(level = "integer", timestamp = "timestamp", logger = "varchar(256)",
    caller = "varchar(256)", msg = "varchar(2048)"),
  serialized_cols = NULL,
  fmt = "%L [%t] %m  %f",
  timestamp_fmt = "%Y-%m-%d %H:%M:%S",
  colors = getOption("lgr.colors", list()),
  pad_levels = "right",
  format_table_name = identity,
  format_colnames = identity,
  format_data = data.table::as.data.table
)</pre></div>


<hr>
<a id="method-LayoutDbi-set_col_types"></a>



<h4>Method <code>set_col_types()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutDbi$set_col_types(x)</pre></div>


<hr>
<a id="method-LayoutDbi-set_serialized_cols"></a>



<h4>Method <code>set_serialized_cols()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutDbi$set_serialized_cols(x)</pre></div>


<hr>
<a id="method-LayoutDbi-sql_create_table"></a>



<h4>Method <code>sql_create_table()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutDbi$sql_create_table(table)</pre></div>


<hr>
<a id="method-LayoutDbi-toString"></a>



<h4>Method <code>toString()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutDbi$toString()</pre></div>


<hr>
<a id="method-LayoutDbi-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutDbi$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><code><a href="#topic+select_dbi_layout">select_dbi_layout()</a></code>, <a href="DBI.html#topic+DBI-package">DBI::DBI</a>,
</p>
<p>Other Layout: 
<code><a href="#topic+LayoutElasticSearch">LayoutElasticSearch</a></code>
</p>

<hr>
<h2 id='LayoutElasticSearch'>Format log events for output to ElasticSearch</h2><span id='topic+LayoutElasticSearch'></span>

<h3>Description</h3>

<p>Similar to <a href="lgr.html#topic+LayoutJson">lgr::LayoutJson</a>, but with some modifications to prepare data
for ElasticSearch.
</p>


<h3>Value</h3>

<p>The <code style="white-space: pre;">&#8288;$new()&#8288;</code> method returns an <a href="R6.html#topic+R6Class">R6::R6</a> that inherits from
<a href="lgr.html#topic+Layout">lgr::Layout</a> and can used as a Layout by an <a href="lgr.html#topic+Appender">lgr::Appender</a>.
</p>


<h3>Super class</h3>

<p><code><a href="lgr.html#topic+Layout">lgr::Layout</a></code> -&gt; <code>LayoutElasticSearch</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>toJSON_args</code></dt><dd><p>a list of values passed on to <code><a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON()</a></code></p>
</dd>
<dt><code>transform_event</code></dt><dd><p>a <code>function</code> with a single argument <code>event</code> that
takes a <a href="lgr.html#topic+LogEvent">lgr::LogEvent</a> and returns a <code>list</code>.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LayoutElasticSearch-new"><code>LayoutElasticSearch$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutElasticSearch-format_event"><code>LayoutElasticSearch$format_event()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutElasticSearch-set_toJSON_args"><code>LayoutElasticSearch$set_toJSON_args()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutElasticSearch-set_transform_event"><code>LayoutElasticSearch$set_transform_event()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutElasticSearch-clone"><code>LayoutElasticSearch$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Layout" data-id="toString"><a href='../../lgr/html/Layout.html#method-Layout-toString'><code>lgr::Layout$toString()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-LayoutElasticSearch-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutElasticSearch$new(
  toJSON_args = list(auto_unbox = TRUE),
  transform_event = function(event) get("values", event)
)</pre></div>


<hr>
<a id="method-LayoutElasticSearch-format_event"></a>



<h4>Method <code>format_event()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutElasticSearch$format_event(event)</pre></div>


<hr>
<a id="method-LayoutElasticSearch-set_toJSON_args"></a>



<h4>Method <code>set_toJSON_args()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutElasticSearch$set_toJSON_args(x)</pre></div>


<hr>
<a id="method-LayoutElasticSearch-set_transform_event"></a>



<h4>Method <code>set_transform_event()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutElasticSearch$set_transform_event(x)</pre></div>


<hr>
<a id="method-LayoutElasticSearch-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutElasticSearch$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other Layout: 
<code><a href="#topic+LayoutDbi">LayoutDbi</a></code>
</p>

<hr>
<h2 id='select_dbi_layout'>Automatically select appropriate layout for logging to a database</h2><span id='topic+select_dbi_layout'></span>

<h3>Description</h3>

<p>Selects an appropriate Layout for a database table based on
a DBI connection and - if it already exists in the database -
the table itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_dbi_layout(conn, table, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_dbi_layout_+3A_conn">conn</code></td>
<td>
<p>a <a href="DBI.html#topic+dbConnect">DBI connection</a></p>
</td></tr>
<tr><td><code id="select_dbi_layout_+3A_table">table</code></td>
<td>
<p>a <code>character</code> scalar. The name of the table to log to.</p>
</td></tr>
<tr><td><code id="select_dbi_layout_+3A_...">...</code></td>
<td>
<p>passed on to the appropriate <code>LayoutDbi</code> subclass constructor.</p>
</td></tr>
</table>

<hr>
<h2 id='Serializer'>Serializers</h2><span id='topic+Serializer'></span><span id='topic+SerializerJson'></span>

<h3>Description</h3>

<p>Serializers are used by <a href="#topic+AppenderDbi">AppenderDbi</a> to store multiple values in a single
text column in a Database table. Usually you just want to use the default
<code>SerializerJson</code>. Please not that <code>AppenderDbi</code> as well as <code>Serializers</code>
are still <strong>experimental</strong>.
</p>


<h3>Value</h3>

<p>a <code>Serializer</code> <a href="R6.html#topic+R6Class">R6::R6</a> object for <a href="#topic+AppenderDbi">AppenderDbi</a>.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Serializer-clone"><code>Serializer$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Serializer-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Serializer$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Super class</h3>

<p><code><a href="#topic+Serializer">lgrExtra::Serializer</a></code> -&gt; <code>SerializerJson</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-SerializerJson-new"><code>SerializerJson$new()</code></a>
</p>
</li>
<li> <p><a href="#method-SerializerJson-serialize"><code>SerializerJson$serialize()</code></a>
</p>
</li>
<li> <p><a href="#method-SerializerJson-clone"><code>SerializerJson$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-SerializerJson-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>SerializerJson$new(
  cols = "*",
  cols_exclude = c("level", "timestamp", "logger", "caller", "msg"),
  col_filter = is.atomic,
  max_nchar = 2048L,
  auto_unbox = TRUE
)</pre></div>


<hr>
<a id="method-SerializerJson-serialize"></a>



<h4>Method <code>serialize()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>SerializerJson$serialize(event)</pre></div>


<hr>
<a id="method-SerializerJson-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>SerializerJson$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'># The defaul Serializer for 'custom fields' columns
SerializerJson$new()
</code></pre>

<hr>
<h2 id='unpack_json_cols'>Unserialize data frame columns that contain JSON</h2><span id='topic+unpack_json_cols'></span><span id='topic+unpack_json_cols.data.table'></span><span id='topic+unpack_json_cols.data.frame'></span>

<h3>Description</h3>

<p>Unserialize data frame columns that contain JSON
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unpack_json_cols(x, cols)

## S3 method for class 'data.table'
unpack_json_cols(x, cols)

## S3 method for class 'data.frame'
unpack_json_cols(x, cols)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unpack_json_cols_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code></p>
</td></tr>
<tr><td><code id="unpack_json_cols_+3A_cols">cols</code></td>
<td>
<p><code>character</code> vector. The names of the text columns containing
JSON strings that should be expanded.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> with additional columns expanded from the columns
containing JSON
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(
  name = "example data",
  fields = '{"letters":["a","b","c"], "LETTERS":["A","B","C"]}',
  stringsAsFactors = FALSE
)
res &lt;- unpack_json_cols(x, "fields")
res
res$letters[[1]]
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

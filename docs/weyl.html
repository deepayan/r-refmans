<!DOCTYPE html><html><head><title>Help for package weyl</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<script type="text/javascript" src="mathjax-config.js"></script>
<script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {weyl}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#weyl-package'>
<p>The Weyl Algebra</p></a></li>
<li><a href='#coeffs'><p>Manipulate the coefficients of a weyl object</p></a></li>
<li><a href='#constant'><p>The constant term</p></a></li>
<li><a href='#degree'><p>The degree of a <code>weyl</code> object</p></a></li>
<li><a href='#derivation'><p>Derivations</p></a></li>
<li><a href='#dim'><p>The dimension of a <code>weyl</code> object</p></a></li>
<li><a href='#dot-class'><p>Class &ldquo;dot&rdquo;</p></a></li>
<li><a href='#drop'><p>Drop redundant information</p></a></li>
<li><a href='#grade'><p>The grade of a weyl object</p></a></li>
<li><a href='#identity'><p>The identity operator</p></a></li>
<li><a href='#Ops'><p>Arithmetic Ops Group Methods for the Weyl algebra</p></a></li>
<li><a href='#print.weyl'><p>Print methods for weyl objects</p></a></li>
<li><a href='#rweyl'><p>Random weyl objects</p></a></li>
<li><a href='#spray'><p>Create spray objects</p></a></li>
<li><a href='#weyl'><p>The algebra and weyl objects</p></a></li>
<li><a href='#weyl-class'><p>Class &ldquo;weyl&rdquo;</p></a></li>
<li><a href='#x_and_d'><p>Generating elements for the first Weyl algebra</p></a></li>
<li><a href='#zero'><p>The zero operator</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>The Weyl Algebra</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0-4</td>
</tr>
<tr>
<td>Depends:</td>
<td>methods, R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Robin K. S. Hankin &lt;hankin.robin@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A suite of routines for Weyl algebras.  Notation follows
   Coutinho (1995, ISBN 0-521-55119-6, "A Primer of Algebraic
   D-Modules").  Uses 'disordR' discipline
   (Hankin 2022 &lt;<a href="https://doi.org/10.48550%2FARXIV.2210.03856">doi:10.48550/ARXIV.2210.03856</a>&gt;).  To cite
   the package in publications, use Hankin
   2022 &lt;<a href="https://doi.org/10.48550%2FARXIV.2212.09230">doi:10.48550/ARXIV.2212.09230</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr,rmarkdown,testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>mathjaxr, disordR (&ge; 0.0-8), freealg (&ge; 1.0-4), spray (&ge;
1.0-19)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/RobinHankin/weyl">https://github.com/RobinHankin/weyl</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/RobinHankin/weyl/issues">https://github.com/RobinHankin/weyl/issues</a></td>
</tr>
<tr>
<td>RdMacros:</td>
<td>mathjaxr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-29 22:57:16 UTC; rhankin</td>
</tr>
<tr>
<td>Author:</td>
<td>Robin K. S. Hankin
    <a href="https://orcid.org/0000-0001-5982-0415"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-30 00:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='weyl-package'>
The Weyl Algebra
</h2><span id='topic+weyl-package'></span>

<h3>Description</h3>

<p>A suite of routines for Weyl algebras.  Notation follows
   Coutinho (1995, ISBN 0-521-55119-6, &quot;A Primer of Algebraic
   D-Modules&quot;).  Uses 'disordR' discipline
   (Hankin 2022 &lt;doi:10.48550/ARXIV.2210.03856&gt;).  To cite
   the package in publications, use Hankin
   2022 &lt;doi:10.48550/ARXIV.2212.09230&gt;.
</p>


<h3>Details</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> weyl</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> The Weyl Algebra</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.0-4</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> methods, R (&gt;= 3.5.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> person(given=c("Robin", "K. S."), family="Hankin", role = c("aut","cre"), email="hankin.robin@gmail.com", comment = c(ORCID = "0000-0001-5982-0415"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Robin K. S. Hankin &lt;hankin.robin@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> A suite of routines for Weyl algebras.  Notation follows
   Coutinho (1995, ISBN 0-521-55119-6, "A Primer of Algebraic
   D-Modules").  Uses 'disordR' discipline
   (Hankin 2022 &lt;doi:10.48550/ARXIV.2210.03856&gt;).  To cite
   the package in publications, use Hankin
   2022 &lt;doi:10.48550/ARXIV.2212.09230&gt;.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyData: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> knitr,rmarkdown,testthat</td>
</tr>
<tr>
 <td style="text-align: left;">
VignetteBuilder: </td><td style="text-align: left;"> knitr</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> mathjaxr, disordR (&gt;= 0.0-8), freealg (&gt;= 1.0-4), spray (&gt;= 1.0-19)</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/RobinHankin/weyl</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/RobinHankin/weyl/issues</td>
</tr>
<tr>
 <td style="text-align: left;">
RdMacros: </td><td style="text-align: left;"> mathjaxr</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Robin K. S. Hankin [aut, cre] (&lt;https://orcid.org/0000-0001-5982-0415&gt;)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
Ops                     Arithmetic Ops Group Methods for the Weyl
                        algebra
coeffs                  Manipulate the coefficients of a weyl object
constant                The constant term
degree                  The degree of a 'weyl' object
derivation              Derivations
dim                     The dimension of a 'weyl' object
dot-class               Class "dot"
drop                    Drop redundant information
grade                   The grade of a weyl object
identity                The identity operator
print.weyl              Print methods for weyl objects
rweyl                   Random weyl objects
spray                   Create spray objects
weyl                    The algebra and weyl objects
weyl-class              Class "weyl"
weyl-package            The Weyl Algebra
x_and_d                 Generating elements for the first Weyl algebra
zero                    The zero operator
</pre>


<h3>Author(s)</h3>

<p>NA
</p>
<p>Maintainer: Robin K. S. Hankin &lt;hankin.robin@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rweyl(d=1)
y &lt;- rweyl(d=1)
z &lt;- rweyl(d=1)

is.zero(x*(y*z) - (x*y)*z)  # should be TRUE
</code></pre>

<hr>
<h2 id='coeffs'>Manipulate the coefficients of a weyl object</h2><span id='topic+index'></span><span id='topic+value'></span><span id='topic+values'></span><span id='topic+coeff'></span><span id='topic+coeffs'></span><span id='topic+coeffs+3C-'></span><span id='topic+coeffs.weyl'></span><span id='topic+coeffs+3C-.weyl'></span><span id='topic+coeffs+2Cweyl-method'></span><span id='topic+value'></span><span id='topic+value+3C-'></span><span id='topic+value.weyl'></span><span id='topic+value+3C-.weyl'></span><span id='topic+value+2Cweyl-method'></span><span id='topic+coeffs+3C-+2Cweyl-method'></span>

<h3>Description</h3>

<p>Manipulate the coefficients of a weyl object.  The coefficients are
<code>disord</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coeffs(S) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coeffs_+3A_s">S</code></td>
<td>
<p>A weyl object</p>
</td></tr>
<tr><td><code id="coeffs_+3A_value">value</code></td>
<td>
<p>Numeric</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To access coefficients of a weyl object <code>S</code>, use
<code>spray::coeffs(S)</code> [package idiom is <code>coeffs(S)</code>].  Similarly
to access the index matrix use <code>index(s)</code>.
</p>
<p>The replacement method is package-specific; use <code>coeffs(S)
&lt;-value</code>.
</p>


<h3>Value</h3>

<p>Extraction methods return a <code>disord</code> object (possibly
<code>drop</code>ped); replacement methods return a <code>weyl</code> object.</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>
(a &lt;- rweyl(9))
coeffs(a)
coeffs(a)[coeffs(a)&lt;3] &lt;- 100
a
</code></pre>

<hr>
<h2 id='constant'>The constant term</h2><span id='topic+constant'></span><span id='topic+const'></span><span id='topic+constant+3C-'></span><span id='topic+constant.weyl'></span><span id='topic+constant+3C-.weyl'></span>

<h3>Description</h3>

<p>The <dfn>constant</dfn> of a <code>weyl</code> object is the coefficient of the
term with all zeros.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constant(x, drop = TRUE)
constant(x) &lt;-  value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constant_+3A_x">x</code></td>
<td>
<p>Object of class <code>weyl</code></p>
</td></tr>
<tr><td><code id="constant_+3A_drop">drop</code></td>
<td>
<p>Boolean with default <code>TRUE</code> meaning to return the
value of the coefficient, and <code>FALSE</code> meaning to return the
corresponding Weyl object</p>
</td></tr>
<tr><td><code id="constant_+3A_value">value</code></td>
<td>
<p>Constant value to replace existing one</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a numeric or weyl object</p>


<h3>Note</h3>

<p>The <code>constant.weyl()</code> function is somewhat awkward because it has
to deal with the difficult case where the constant is zero and
<code>drop=FALSE</code>. 
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>(a &lt;- rweyl()+700)
constant(a)
constant(a,drop=FALSE)

constant(a) &lt;- 0
constant(a)
constant(a,drop=FALSE)

constant(a+66) == constant(a) + 66
</code></pre>

<hr>
<h2 id='degree'>The degree of a <code>weyl</code> object</h2><span id='topic+deg'></span><span id='topic+degree'></span>

<h3>Description</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
<p>The <dfn>degree</dfn> of a monomial weyl object
\(x^a\partial^b\) is defined as \(a+b\).  The degree
of a general weyl object expressed as a linear combination of
monomials is the maximum of the degrees of these monomials.  Following
Coutinho we have:
</p>

<ul>
<li>
<p>\(\mathrm{deg}(d_1+d_2)\leq\max(\mathrm{deg}(d_1)+
    \mathrm{deg}(d_2))\)
</p>
</li>
<li>
<p>\(\mathrm{deg}(d_1d_2) = \mathrm{deg}(d_1)+
    \mathrm{deg}(d_2)\)
</p>
</li>
<li>
<p>\(\mathrm{deg}(d_1d_2-d_2d_1)\leq\mathrm{deg}(d_1)+
    \mathrm{deg}(d_2)-2\)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>deg(S)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="degree_+3A_s">S</code></td>
<td>
<p>Object of class <code>weyl</code></p>
</td></tr></table>


<h3>Value</h3>

<p>Nonnegative integer (or \(-\infty\) for the zero Weyl
object)</p>


<h3>Note</h3>

<p>The degree of the zero object is conventionally
\(-\infty\).
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>
(a &lt;- rweyl())
deg(a)

d1 &lt;- rweyl(n=2)
d2 &lt;- rweyl(n=2)

deg(d1+d2) &lt;= deg(d1) + deg(d2)
deg(d1*d2) == deg(d1) + deg(d2)
deg(d1*d2-d2*d1) &lt;= deg(d1) + deg(d2) -2

</code></pre>

<hr>
<h2 id='derivation'>Derivations</h2><span id='topic+derivation'></span><span id='topic+derivations'></span><span id='topic+as.der'></span>

<h3>Description</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
<p>A <dfn>derivation</dfn> \(D\) of an algebra \(A\) is a linear
operator that satisfies \(D(d_1d_2)=d_1D(d_2)+D(d_1)d_2\),
for every \(d_1,d_2\in A\).  If a derivation is of the form
\(D(d)=[d,f]=df-fd\) for some fixed \(f\in
A\), we say that \(D\) is an <dfn>inner</dfn> derivation.
</p>
<p>Function <code>as.der()</code> returns a derivation with
<code>as.der(f)(g)=fg-gf</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.der(S)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="derivation_+3A_s">S</code></td>
<td>
<p>Weyl object</p>
</td></tr></table>


<h3>Value</h3>

<p>Returns a function, a derivation</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>
(o &lt;- rweyl(n=2,d=2))
(f &lt;- as.der(o))

d1 &lt;-rweyl(n=1,d=2)
d2 &lt;-rweyl(n=2,d=2)

f(d1*d2) == d1*f(d2) + f(d1)*d2 # should be TRUE

</code></pre>

<hr>
<h2 id='dim'>The dimension of a <code>weyl</code> object</h2><span id='topic+dim'></span><span id='topic+dim.weyl'></span><span id='topic+dimension'></span>

<h3>Description</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
<p>The <dfn>dimension</dfn> of a weyl algebra is the number of variables
needed; it is half the <code>spray::arity()</code>.  The <dfn>dimension</dfn> of
a Weyl algebra generated by \(\left\lbrace
  x_1,x_2,\ldots,x_n,\partial_{x_1},\partial_{x_2},\ldots,\partial_{x_n}\right\rbrace\)
is \(n\) (not \(2n\)).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'weyl'
dim(x)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dim_+3A_x">x</code></td>
<td>
<p>Object of class <code>weyl</code></p>
</td></tr></table>


<h3>Value</h3>

<p>Integer</p>


<h3>Note</h3>

<p>Empty spray objects give zero-dimensional weyl objects.</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>
(a &lt;- rweyl())
dim(a)

</code></pre>

<hr>
<h2 id='dot-class'>Class &ldquo;dot&rdquo;</h2><span id='topic+dot'></span><span id='topic+.'></span><span id='topic+dot-class'></span><span id='topic+extract'></span><span id='topic+commutator'></span><span id='topic+jacobi'></span><span id='topic+dot_error'></span><span id='topic++5B.dot'></span><span id='topic++5B+2Cdot-method'></span><span id='topic++5B+2Cdot+2CANY+2CANY-method'></span><span id='topic++5B+2Cdot+2CANY+2Cmissing-method'></span><span id='topic++5B+2Cdot+2Cmissing+2CANY-method'></span><span id='topic++5B+2Cdot+2Cmissing+2Cmissing-method'></span><span id='topic++5B+2Cdot+2Cmatrix+2Cmatrix-method'></span>

<h3>Description</h3>

<p>The dot object is defined so that idiom like <code>.[x,y]</code> returns
the commutator, that is, <code>xy-yx</code>.
</p>
<p>The dot object is generated by running script <code>inst/dot.Rmd</code>,
which includes some further discussion and technical documentation,
and creates file <code>dot.rda</code> which resides in the <code>data/</code>
directory.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="dot-class_+3A_x">x</code></td>
<td>
<p>Object of any class</p>
</td></tr>
<tr><td><code id="dot-class_+3A_i">i</code>, <code id="dot-class_+3A_j">j</code></td>
<td>
<p>elements to commute</p>
</td></tr>
<tr><td><code id="dot-class_+3A_...">...</code></td>
<td>
<p>Further arguments to <code>dot_error()</code>, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Always returns an object of the same class as <code>xy</code>.
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rweyl(n=1,d=2)
y &lt;- rweyl(n=1,d=2)
z &lt;- rweyl(n=1,d=2)

.[x,.[y,z]] + .[y,.[z,x]] + .[z,.[x,y]]  # Jacobi identity


</code></pre>

<hr>
<h2 id='drop'>Drop redundant information</h2><span id='topic+drop'></span><span id='topic+drop+2Cweyl-method'></span>

<h3>Description</h3>

<p>Coerce constant weyl objects to numeric</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop(x)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_+3A_x">x</code></td>
<td>
<p>Weyl object</p>
</td></tr></table>


<h3>Details</h3>

<p>If its argument is a constant weyl object, coerce to numeric.</p>


<h3>Value</h3>

<p>Returns either a length-one numeric vector or its argument, a
weyl object</p>


<h3>Note</h3>

<p>Many functions in the package take <code>drop</code> as an argument
which, if <code>TRUE</code>, means that the function returns a
<code>drop</code>ped value.</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- rweyl() + 67
drop(a)

drop(idweyl(9))

drop(constant(a,drop=FALSE))
</code></pre>

<hr>
<h2 id='grade'>The grade of a weyl object</h2><span id='topic+grade'></span><span id='topic+symbol_map'></span><span id='topic+grade+3C-'></span><span id='topic+grades'></span>

<h3>Description</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
<p>The <dfn>grade</dfn> of a homogeneous term of a Weyl algebra is the sum of
the powers.  Thus the grade of
\(4xy^2\partial_x^3\partial_y^4\) is \(1+2+3+4=10\).
</p>
<p>The functionality documented here closely follows the equivalent in
the <a href="https://CRAN.R-project.org/package=clifford"><span class="pkg">clifford</span></a> package.
</p>
<p>Coutinho calls this the <dfn>symbol map</dfn>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grade(C, n, drop=TRUE)
grade(C,n) &lt;- value
grades(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grade_+3A_c">C</code>, <code id="grade_+3A_x">x</code></td>
<td>
<p>Weyl object</p>
</td></tr>
<tr><td><code id="grade_+3A_n">n</code></td>
<td>
<p>Integer vector specifying grades to extract</p>
</td></tr>
<tr><td><code id="grade_+3A_value">value</code></td>
<td>
<p>Replacement value, a numeric vector</p>
</td></tr>
<tr><td><code id="grade_+3A_drop">drop</code></td>
<td>
<p>Boolean, with default <code>TRUE</code> meaning to coerce a
constant operator to numeric, and <code>FALSE</code> meaning not
to</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>grades()</code> returns an (unordered) vector specifying the
grades of the constituent terms.  Function <code>grades&lt;-()</code> allows
idiom such as <code>grade(x,1:2) &lt;- 7</code> to operate as expected [here to
set all coefficients of terms with grades 1 or 2 to value 7].
</p>
<p>Function <code>grade(C,n)</code> returns a Weyl object with just the
elements of grade <code>g</code>, where <code>g %in% n</code>.
</p>
<p>The zero grade term, <code>grade(C,0)</code>, is given more naturally by
<code>constant(C)</code>.
</p>


<h3>Value</h3>

<p>Integer vector or weyl object</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>
a &lt;- rweyl(30)

grades(a)
grade(a,1:4)
grade(a,5:9) &lt;- -99
a
</code></pre>

<hr>
<h2 id='identity'>The identity operator</h2><span id='topic+identity'></span><span id='topic+id'></span><span id='topic+idweyl'></span><span id='topic+as.id'></span><span id='topic+is.id'></span><span id='topic+as.id.weyl'></span><span id='topic+is.id.weyl'></span><span id='topic+as.one.weyl'></span><span id='topic+is.identity'></span><span id='topic+as.identity'></span>

<h3>Description</h3>

<p>The identity operator maps any function to itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>idweyl(d)
## S3 method for class 'weyl'
as.id(S)
is.id(S)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="identity_+3A_d">d</code></td>
<td>
<p>Integer specifying dimensionality of the weyl object (twice the
spray arity)</p>
</td></tr>
<tr><td><code id="identity_+3A_s">S</code></td>
<td>
<p>A weyl object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A weyl object corresponding to the identity operator</p>


<h3>Note</h3>

<p>The identity function cannot be called &ldquo;<code>id()</code>&rdquo;
because then <span class="rlang"><b>R</b></span> would not know whether to create a
<code>spray</code> or a <code>weyl</code> object.</p>


<h3>Examples</h3>

<pre><code class='language-R'>
idweyl(7)

a &lt;- rweyl(d=5)
a
is.id(a)
is.id(1+a-a)
as.id(a)

a == a*1
a == a*as.id(a)

</code></pre>

<hr>
<h2 id='Ops'>Arithmetic Ops Group Methods for the Weyl algebra</h2><span id='topic+Ops'></span><span id='topic+Ops.weyl'></span><span id='topic+weyl_prod'></span><span id='topic+weyl_prod_helper1'></span><span id='topic+weyl_prod_helper2'></span><span id='topic+weyl_prod_helper3'></span><span id='topic+weyl_prod_univariate_onerow'></span><span id='topic+weyl_prod_univariate_nrow'></span><span id='topic+weyl_prod_multivariate_onerow_singlecolumn'></span><span id='topic+weyl_prod_multivariate_onerow_allcolumns'></span><span id='topic+weyl_prod_multivariate_nrow_allcolumns'></span><span id='topic+weyl_power_scalar'></span><span id='topic+prodfunc'></span>

<h3>Description</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
<p>Allows arithmetic operators to be used for spray calculations, 
such as addition, multiplication, division, integer powers, etc.
</p>
<p>Idiom such as <code>x^2 + y*z/5</code> should work as expected.  Operations
are the same as those of the <a href="https://CRAN.R-project.org/package=spray"><span class="pkg">spray</span></a> package except for <code>*</code>,
which is interpreted as functional composition.  A number of helper
functions are documented here (which are not designed for the
end-user).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'weyl'
Ops(e1, e2 = NULL)
weyl_prod_helper1(a,b,c,d)
weyl_prod_helper2(a,b,c,d)
weyl_prod_helper3(a,b,c,d)
weyl_prod_univariate_onerow(S1,S2,func)
weyl_prod_univariate_nrow(S1,S2)
weyl_prod_multivariate_onerow_singlecolumn(S1,S2,column)
weyl_prod_multivariate_onerow_allcolumns(S1,S2)
weyl_prod_multivariate_nrow_allcolumns(S1,S2)
weyl_power_scalar(S,n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ops_+3A_s">S</code>, <code id="Ops_+3A_s1">S1</code>, <code id="Ops_+3A_s2">S2</code>, <code id="Ops_+3A_e1">e1</code>, <code id="Ops_+3A_e2">e2</code></td>
<td>
<p>Objects of class <code>weyl</code>, elements of a Weyl
algebra</p>
</td></tr>
<tr><td><code id="Ops_+3A_a">a</code>, <code id="Ops_+3A_b">b</code>, <code id="Ops_+3A_c">c</code>, <code id="Ops_+3A_d">d</code></td>
<td>
<p>Integers, see details</p>
</td></tr>
<tr><td><code id="Ops_+3A_column">column</code></td>
<td>
<p>column to be multiplied</p>
</td></tr>
<tr><td><code id="Ops_+3A_n">n</code></td>
<td>
<p>Integer power (non-negative)</p>
</td></tr>
<tr><td><code id="Ops_+3A_func">func</code></td>
<td>
<p>Function used for products</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All arithmetic is as for <code>spray</code> objects, apart from <code>*</code> and
<code>^</code>.  Here, <code>*</code> is interpreted as operator concatenation:
Thus, if \(w_1\) and \(w_2\) are Weyl objects, then
\(w_1w_2\) is defined as the operator that takes \(f\)
to \(w_1(w_2f)\).
</p>
<p>Functions such as <code>weyl_prod_multivariate_nrow_allcolumns()</code> are
low-level helper functions with self-explanatory names.  In this
context, &ldquo;<code>univariate</code>&rdquo; means the first Weyl algebra,
generated by \(\left\lbrace x,\partial\right\rbrace\),
subject to \(x\partial-\partial x=1\); and
&ldquo;<code>multivariate</code>&rdquo; means the algebra generated by
\(\left\lbrace
x_1,x_2,\ldots,x_n,\partial_{x_1},\partial_{x_2},\ldots,\partial_{x_n}\right\rbrace\).
</p>
<p>The product is somewhat user-customisable via option <code>prodfunc</code>,
which affects function <code>weyl_prod_univariate_onerow()</code>.  Currently
the package offers three examples: <code>weyl_prod_helper1()</code>,
<code>weyl_prod_helper2()</code>, and <code>weyl_prod_helper3()</code>.  These are
algebraically identical but occupy different positions on the
efficiency-readability scale.  The option defaults to
<code>weyl_prod_helper3()</code>, which is the fastest but most opaque.  The
vignette provides further details, motivation, and examples.
</p>


<h3>Value</h3>

<p>Generally, return a weyl object</p>


<h3>Note</h3>

<p>Function <code>weyl_prod_univariate_nrow()</code> is present for
completeness, it is not used in the package</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rweyl(n=1,d=2)
y &lt;- rweyl(n=1,d=2)
z &lt;- rweyl(n=2,d=2)


x*(y+z) == x*y + x*z
is.zero(x*(y*z) - (x*y)*z)

</code></pre>

<hr>
<h2 id='print.weyl'>Print methods for weyl objects</h2><span id='topic+print.weyl'></span><span id='topic+print'></span><span id='topic+weylvars'></span>

<h3>Description</h3>

<p>Printing methods for weyl objects follow those for the <a href="https://CRAN.R-project.org/package=spray"><span class="pkg">spray</span></a>
package, with some additional functionality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'weyl'
print(x, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.weyl_+3A_x">x</code></td>
<td>
<p>A weyl object</p>
</td></tr>
<tr><td><code id="print.weyl_+3A_...">...</code></td>
<td>
<p>Further arguments, currently ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Option <code>polyform</code> determines whether the object is to be printed in
matrix form or polynomial form: as in the <a href="https://CRAN.R-project.org/package=spray"><span class="pkg">spray</span></a> package, this
option governs dispatch to either <code>print_spray_polyform()</code> or
<code>print_spray_matrixform()</code>.
</p>
<pre>
&gt; a &lt;- rweyl()
&gt; a    # default print method
A member of the Weyl algebra:
  x  y  z dx dy dz     val
  1  2  2  2  1  0  =    3
  2  2  0  0  1  1  =    2
  0  0  0  1  1  2  =    1
&gt; options(polyform = TRUE)
&gt; a
A member of the Weyl algebra:
+3*x*y^2*z^2*dx^2*dy +2*x^2*y^2*dy*dz +dx*dy*dz^2
&gt; options(polyform = FALSE)  # restore default
</pre>
<p>Irrespective of the value of <code>polyform</code>, option <code>weylvars</code>
controls the variable names.  If <code>NULL</code> (the default), then
sensible values are used: either <code>[xyz]</code> if the dimension is three
or less, or integers.  But option <code>weylvars</code> is user-settable:
</p>
<pre>
&gt; options(weylvars=letters[18:20])
&gt; a
A member of the Weyl algebra:
  r  s  t dr ds dt     val
  1  2  2  2  1  0  =    3
  2  2  0  0  1  1  =    2
  0  0  0  1  1  2  =    1
&gt; options(polyform=TRUE)
&gt; a
A member of the Weyl algebra:
+3*r*s^2*t^2*dr^2*ds +2*r^2*s^2*ds*dt +dr*ds*dt^2
&gt; options(polyform=FALSE) ; options(weylvars=NULL)
</pre>
<p>If the user sets <code>weylvars</code>, the print method tries to do the Right
Thing (tm).  If set to <code>c("a","b","c")</code>, for example, the
generators are named <code>c(" a"," b"," c","da","db","dc")</code> [note the
spaces].  If the algebra is univariate, the names will be something like
<code>d</code> and <code>x</code>.  No checking is performed and if the length is
not equal to the dimension, undesirable behaviour may occur.  For the
love of God, do not use a variable named <code>d</code>.  Internally,
<code>weylvars</code> works by changing the <code>sprayvars</code> option in the
<a href="https://CRAN.R-project.org/package=spray"><span class="pkg">spray</span></a> package.
</p>
<p>Note that, as for <code>spray</code> objects, this option has no algebraic
significance: it only affects the print method.
</p>


<h3>Value</h3>

<p>Returns a <code>weyl</code> object.</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- rweyl()
print(a)
options(polyform=TRUE)
print(a)
</code></pre>

<hr>
<h2 id='rweyl'>Random weyl objects</h2><span id='topic+rweyl'></span>

<h3>Description</h3>

<p>Creates random weyl objects: quick-and-dirty examples of Weyl algebra
elements</p>


<h3>Usage</h3>

<pre><code class='language-R'>rweyl(nterms = 3, vals = seq_len(nterms), dim = 3, powers = 0:2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rweyl_+3A_nterms">nterms</code></td>
<td>
<p>Number of terms in output</p>
</td></tr>
<tr><td><code id="rweyl_+3A_vals">vals</code></td>
<td>
<p>Values of coefficients</p>
</td></tr>
<tr><td><code id="rweyl_+3A_dim">dim</code></td>
<td>
<p>Dimension of weyl object</p>
</td></tr>
<tr><td><code id="rweyl_+3A_powers">powers</code></td>
<td>
<p>Set from which to sample the entries of the index matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a weyl object</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>rweyl()

rweyl(d=7)
</code></pre>

<hr>
<h2 id='spray'>Create spray objects</h2><span id='topic+spray'></span>

<h3>Description</h3>

<p>Function <code>spray()</code> creates a sparse array; function
<code>weyl()</code> coerces a spray object to a  Weyl object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spray(M,x,addrepeats=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spray_+3A_m">M</code></td>
<td>
<p>An integer-valued matrix, the index of the weyl object</p>
</td></tr>
<tr><td><code id="spray_+3A_x">x</code></td>
<td>
<p>Numeric vector of coefficients</p>
</td></tr>
<tr><td><code id="spray_+3A_addrepeats">addrepeats</code></td>
<td>
<p>Boolean, specifying whether repeated rows are to be added</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is discussed and motivated in the <span class="pkg">spray</span> package.
</p>


<h3>Value</h3>

<p>Return a weyl or a Boolean</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>
(W &lt;- spray(matrix(1:36,6,6),1:6))
weyl(W)

as.weyl(15,d=3)
</code></pre>

<hr>
<h2 id='weyl'>The algebra and weyl objects</h2><span id='topic+weyl'></span><span id='topic+as.weyl'></span><span id='topic+is.weyl'></span><span id='topic+is.ok.weyl'></span>

<h3>Description</h3>

<p>Basic functions for weyl objects</p>


<h3>Usage</h3>

<pre><code class='language-R'>weyl(M)
is.weyl(M)
as.weyl(val,d)
is.ok.weyl(M)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weyl_+3A_m">M</code></td>
<td>
<p>A weyl or spray object</p>
</td></tr>
<tr><td><code id="weyl_+3A_val">val</code>, <code id="weyl_+3A_d">d</code></td>
<td>
<p>Value and dimension for weyl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>weyl()</code> is the formal creator method; <code>is.weyl()</code>
tests for weyl objects and <code>is.ok.weyl()</code> checks for well-formed
sprays.  Function <code>as.weyl()</code> tries (but not very hard) to infer
what the user intended and return the right thing.
</p>
<p>To create a spray object to pass to <code>weyl()</code>, use function
<code>spray()</code>, which is a synonym for <code>spray::spray()</code>.
</p>


<h3>Value</h3>

<p>Return a weyl or a Boolean</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>
(W &lt;- spray(matrix(1:36,6,6),1:6))
weyl(W)

as.weyl(15,d=3)
</code></pre>

<hr>
<h2 id='weyl-class'>Class &ldquo;weyl&rdquo;</h2><span id='topic+weyl-class'></span>

<h3>Description</h3>

<p>The formal S4 class for weyls.</p>


<h3>Objects from the Class</h3>

<p>Objects <em>can</em> be created by calls of the form <code>new("weyl",
  ...)</code> but this is not encouraged.  Use functions <code>weyl()</code> or
<code>as.weyl()</code> instead.
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>

<hr>
<h2 id='x_and_d'>Generating elements for the first Weyl algebra</h2><span id='topic+x_and_d'></span><span id='topic+x'></span><span id='topic+d'></span>

<h3>Description</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
<p>Variables <code>x</code> and <code>d</code> correspond to operator \(x\) and
\(\partial_x\); they are provided for convenience.  These
elements generate the one-dimensional Weyl algebra.
</p>
<p>Note that a similar system for multivariate Weyl algebras is not
desirable.  We might want to consider the Weyl algebra generated by
\(\left\lbrace
  x,y,z,\partial_x,\partial_y,\partial_z\right\rbrace\)
and correspondingly define <span class="rlang"><b>R</b></span> variables <code>x,y,z,dx,dy,dz</code>.  But
then variable <code>x</code> is ambiguous: is it a member of the first Weyl
algebra or the third?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(x_and_d)</code></pre>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class='language-R'>d
x

.[d,x]   # dx-xd==1

d^3 * x^4

(1-d*x*d)*(x^2-d^3)

</code></pre>

<hr>
<h2 id='zero'>The zero operator</h2><span id='topic+zero'></span><span id='topic+empty'></span><span id='topic+is.zero'></span><span id='topic+is.empty'></span>

<h3>Description</h3>

<p>The zero operator maps any function to the zero function (which maps
anything to zero).  To test for being zero, use <code>spray::is.zero()</code>;
package idiom would be <code>is.zero()</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zero(d)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zero_+3A_d">d</code></td>
<td>
<p>Integer specifying dimensionality of the weyl object (twice the
spray arity)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A weyl object corresponding to the zero operator (or a Boolean
for <code>is.zero()</code>)</p>


<h3>Examples</h3>

<pre><code class='language-R'>(a &lt;- rweyl(d=5))
is.zero(a)
is.zero(a-a)
is.zero(a*0)

a == a + zero(dim(a))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

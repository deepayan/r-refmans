<!DOCTYPE html><html lang="en"><head><title>Help for package ggrcs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggrcs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggrcs'><p>ggrcs</p></a></li>
<li><a href='#ggrcs2'><p>ggrcs2</p></a></li>
<li><a href='#predata'><p>predata</p></a></li>
<li><a href='#predata.coxph'><p>predata.coxph</p></a></li>
<li><a href='#predata.lrm'><p>predata.lrm</p></a></li>
<li><a href='#predata.ols'><p>predata.ols</p></a></li>
<li><a href='#singlercs'><p>singlercs</p></a></li>
<li><a href='#smoke'><p>A data on age and smoking rates.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Draw Histograms and Restricted Cubic Splines (RCS)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Qiang LIU &lt;dege857@163.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>You can use this function to easily draw a combined histogram and restricted cubic spline. 
    The function draws the graph through 'ggplot2'. RCS fitting requires the use of the rcs() function of the 'rms' package. 
    Can fit cox regression, logistic regression. This method was described by Per Kragh (2003) &lt;<a href="https://doi.org/10.1002%2Fsim.1497">doi:10.1002/sim.1497</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rms, ggplot2, scales, cowplot</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-12 01:18:47 UTC; liu</td>
</tr>
<tr>
<td>Author:</td>
<td>Qiang LIU [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-12 12:00:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggrcs'>ggrcs</h2><span id='topic+ggrcs'></span>

<h3>Description</h3>

<p>A Function to Draw Histograms and Restricted Cubic Splines (RCS)
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggrcs_+3A_data">data</code></td>
<td>
<p>need a dataframe</p>
</td></tr>
<tr><td><code id="ggrcs_+3A_fit">fit</code></td>
<td>
<p>You need the fitted model.Must be  lrm or coxph.</p>
</td></tr>
<tr><td><code id="ggrcs_+3A_x">x</code></td>
<td>
<p>The target variable you wish to fit. It is displayed on the X-axis when plotting.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can use this function to easily draw a combined.histogram and restricted cubic spline.The function draws the graph through ggplot2.RCS fitting requires the use of the rcs function of the RMS package.Can fit cox regression,logistic regression and linear regression models.
</p>


<h3>Value</h3>

<p>a picture
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(rms)
library(ggplot2)
library(scales)
library(cowplot)
dt&lt;-smoke
dd&lt;-datadist(dt)
options(datadist='dd')
fit&lt;- cph(Surv(time,status==1) ~ rcs(age,4)+gender, x=TRUE, y=TRUE,data=dt)
###single group
ggrcs(data=dt,fit=fit,x="age")
##two groups
ggrcs(data=dt,fit=fit,x="age",group="gender")
</code></pre>

<hr>
<h2 id='ggrcs2'>ggrcs2</h2><span id='topic+ggrcs2'></span>

<h3>Description</h3>

<p>A Function to Draw Histograms and Restricted Cubic Splines (RCS)
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggrcs2_+3A_data">data</code></td>
<td>
<p>need a dataframe</p>
</td></tr>
<tr><td><code id="ggrcs2_+3A_fit">fit</code></td>
<td>
<p>You need the fitted model.Must be  lrm or coxph.</p>
</td></tr>
<tr><td><code id="ggrcs2_+3A_x">x</code></td>
<td>
<p>The target variable you wish to fit. It is displayed on the X-axis when plotting.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can use this function to easily draw a combined.histogram and restricted cubic spline.The function draws the graph through ggplot2.RCS fitting requires the use of the rcs function of the RMS package.Can fit cox regression,logistic regression and linear regression models.
</p>


<h3>Value</h3>

<p>a picture
</p>

<hr>
<h2 id='predata'>predata</h2><span id='topic+predata'></span>

<h3>Description</h3>

<p>Generate the predicted data for the function. This is needed for drawing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predata(fit, variables, y, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predata_+3A_fit">fit</code></td>
<td>
<p>Model function required for prediction.</p>
</td></tr>
<tr><td><code id="predata_+3A_variables">variables</code></td>
<td>
<p>variable name.</p>
</td></tr>
<tr><td><code id="predata_+3A_y">y</code></td>
<td>
<p>the value of the variable.</p>
</td></tr>
<tr><td><code id="predata_+3A_group">group</code></td>
<td>
<p>Variables that need to be grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data required for plotting.
</p>

<hr>
<h2 id='predata.coxph'>predata.coxph</h2><span id='topic+predata.coxph'></span>

<h3>Description</h3>

<p>Generate the predicted data for the function. This is needed for drawing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'coxph'
predata(fit, variables, y, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predata.coxph_+3A_fit">fit</code></td>
<td>
<p>Model function required for prediction.</p>
</td></tr>
<tr><td><code id="predata.coxph_+3A_variables">variables</code></td>
<td>
<p>variable name.</p>
</td></tr>
<tr><td><code id="predata.coxph_+3A_y">y</code></td>
<td>
<p>the value of the variable.</p>
</td></tr>
<tr><td><code id="predata.coxph_+3A_group">group</code></td>
<td>
<p>Variables that need to be grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data required for plotting.
</p>

<hr>
<h2 id='predata.lrm'>predata.lrm</h2><span id='topic+predata.lrm'></span>

<h3>Description</h3>

<p>Generate the predicted data for the function. This is needed for drawing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lrm'
predata(fit, variables, y, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predata.lrm_+3A_fit">fit</code></td>
<td>
<p>Model function required for prediction.</p>
</td></tr>
<tr><td><code id="predata.lrm_+3A_variables">variables</code></td>
<td>
<p>variable name.</p>
</td></tr>
<tr><td><code id="predata.lrm_+3A_y">y</code></td>
<td>
<p>the value of the variable.</p>
</td></tr>
<tr><td><code id="predata.lrm_+3A_group">group</code></td>
<td>
<p>Variables that need to be grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data required for plotting.
</p>

<hr>
<h2 id='predata.ols'>predata.ols</h2><span id='topic+predata.ols'></span>

<h3>Description</h3>

<p>Generate the predicted data for the function. This is needed for drawing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ols'
predata(fit, variables, y, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predata.ols_+3A_fit">fit</code></td>
<td>
<p>Model function required for prediction.</p>
</td></tr>
<tr><td><code id="predata.ols_+3A_variables">variables</code></td>
<td>
<p>variable name.</p>
</td></tr>
<tr><td><code id="predata.ols_+3A_y">y</code></td>
<td>
<p>the value of the variable.</p>
</td></tr>
<tr><td><code id="predata.ols_+3A_group">group</code></td>
<td>
<p>Variables that need to be grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data required for plotting.
</p>

<hr>
<h2 id='singlercs'>singlercs</h2><span id='topic+singlercs'></span>

<h3>Description</h3>

<p>A Function to Draw Restricted Cubic Splines (RCS)
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="singlercs_+3A_data">data</code></td>
<td>
<p>need a dataframe</p>
</td></tr>
<tr><td><code id="singlercs_+3A_fit">fit</code></td>
<td>
<p>You need the fitted model.Must be  lrm , ols or coxph.</p>
</td></tr>
<tr><td><code id="singlercs_+3A_x">x</code></td>
<td>
<p>The target variable you wish to fit. It is displayed on the X-axis when plotting.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can use this function to easily draw a restricted cubic spline.The function draws the graph through ggplot2.RCS fitting requires the use of the rcs function of the RMS package.Can fit cox regression,logistic regression and linear regression models.
</p>


<h3>Value</h3>

<p>a picture
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(rms)
library(ggplot2)
library(scales)
dt&lt;-smoke
dd&lt;-datadist(dt)
options(datadist='dd')
fit&lt;- cph(Surv(time,status==1) ~ rcs(age,4)+gender, x=TRUE, y=TRUE,data=dt)
###one group
singlercs(data=dt,fit=fit,x="age")
##two groups
singlercs(data=dt,fit=fit,x="age",group="gender")
</code></pre>

<hr>
<h2 id='smoke'>A data on age and smoking rates.</h2><span id='topic+smoke'></span>

<h3>Description</h3>

<p>A data on age and smoking rates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(smoke)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 995 rows and 5 columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(smoke)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

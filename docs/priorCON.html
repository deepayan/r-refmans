<!DOCTYPE html><html lang="en"><head><title>Help for package priorCON</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {priorCON}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#basic_scenario'><p>Basic scenario problem</p></a></li>
<li><a href='#connectivity_scenario'><p>Connectivity scenario problem</p></a></li>
<li><a href='#get_cost_raster'><p>Cost raster example</p></a></li>
<li><a href='#get_features_raster'><p>Features raster example</p></a></li>
<li><a href='#get_metrics'><p>Detect graph communities for each biodiversity feature.</p></a></li>
<li><a href='#get_outputs'><p>Evaluate outputs</p></a></li>
<li><a href='#preprocess_graphs'><p>Read connectivity data from multiple sub-folders.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Graph Community Detection Methods into Systematic Conservation
Planning</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christos Adam &lt;econp266@econ.soc.uoc.gr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An innovative tool-set that incorporates graph community detection
             methods into systematic conservation planning. It is designed to
             enhance spatial prioritization by focusing on the protection of
             areas with high ecological connectivity. Unlike traditional
             approaches that prioritize individual planning units, 'priorCON'
             focuses on clusters of features that exhibit strong ecological
             linkages. The 'priorCON' package is built upon the 'prioritizr'
             package &lt;<a href="https://doi.org/10.32614%2FCRAN.package.prioritizr">doi:10.32614/CRAN.package.prioritizr</a>&gt;, using commercial
             and open-source exact algorithm solvers that ensure optimal
             solutions to prioritization problems.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/cadam00/priorCON">https://github.com/cadam00/priorCON</a>,
<a href="https://cadam00.github.io/priorCON/">https://cadam00.github.io/priorCON/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cadam00/priorCON/issues">https://github.com/cadam00/priorCON/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, prioritizr (&ge; 8.0.4), terra (&ge; 1.7.78), highs, tmap
(&ge; 3.3.4), sf (&ge; 1.0.16), brainGraph (&ge; 3.1.0), igraph (&ge;
2.0.3)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-24 11:00:08 UTC; Administrator</td>
</tr>
<tr>
<td>Author:</td>
<td>Christos Adam <a href="https://orcid.org/0009-0003-3244-7034"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Aggeliki Doxa <a href="https://orcid.org/0000-0003-4279-1499"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Nikolaos Nagkoulis
    <a href="https://orcid.org/0000-0002-1900-2634"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Maria Papazekou <a href="https://orcid.org/0000-0001-7063-9553"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Antonios D. Mazaris
    <a href="https://orcid.org/0000-0002-4961-5490"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Stelios Katsanevakis
    <a href="https://orcid.org/0000-0002-5137-7540"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-24 11:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='basic_scenario'>Basic scenario problem</h2><span id='topic+basic_scenario'></span>

<h3>Description</h3>

<p>Solve an ordinary <span class="pkg">prioritizr</span> prioritization problem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_scenario(cost_raster, features_rasters, budget_perc, locked_in = NULL,
locked_out = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basic_scenario_+3A_cost_raster">cost_raster</code></td>
<td>

<p><code>SpatRaster</code> object used as cost for prioritization.
Its coordinates must correspond to the input given at
<a href="#topic+preprocess_graphs">preprocess_graphs</a>.
</p>
</td></tr>
<tr><td><code id="basic_scenario_+3A_features_rasters">features_rasters</code></td>
<td>

<p>features <code>SpatRaster</code> object used for prioritization.
Its coordinates must correspond to the input given at
<a href="#topic+preprocess_graphs">preprocess_graphs</a>.
</p>
</td></tr>
<tr><td><code id="basic_scenario_+3A_budget_perc">budget_perc</code></td>
<td>

<p><code>numeric</code> value <code class="reqn">[0,1]</code>. It represents the budget percentage of the
cost to be used for prioritization.
</p>
</td></tr>
<tr><td><code id="basic_scenario_+3A_locked_in">locked_in</code></td>
<td>

<p><code>SpatRaster</code> object used as locked in constraints, where these planning
units are selected in the solution, e.g. current protected areas. For details,
see <code>prioritizr::add_locked_in_constraints</code>.
</p>
</td></tr>
<tr><td><code id="basic_scenario_+3A_locked_out">locked_out</code></td>
<td>

<p><code>SpatRaster</code> object used as locked out constraints, where these planning
units are excluded from the solution, e.g. not appropriate for protected areas.
For details, see <code>prioritizr::add_locked_out_constraints</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A basic prioritization problem is created and solved using <span class="pkg">prioritizr</span>
package. The solver used for solving the problems is the best available on the
computer, following the solver hierarchy of <span class="pkg">prioritizr</span>. By default, the
<span class="pkg">highs</span> package using the <a href="https://highs.dev">HiGHS</a> solver is
downloaded during package installation.
</p>


<h3>Value</h3>

<p>A list containing input for <a href="#topic+get_outputs">get_outputs</a>.
</p>


<h3>References</h3>

<p>Hanson, Jeffrey O, Richard Schuster, Nina Morrell, Matthew Strimas-Mackey,
Brandon P M Edwards, Matthew E Watts, Peter Arcese, Joseph Bennett, and Hugh P
Possingham. 2024. prioritizr: Systematic Conservation Prioritization in R.
<a href="https://prioritizr.net">https://prioritizr.net</a>.
</p>
<p>Huangfu, Qi, and JA Julian Hall. 2018. Parallelizing the Dual Revised Simplex
Method. <em>Mathematical Programming Computation</em> 10 (1): 119–42.
<a href="https://doi.org/10.1007/s12532-017-0130-5">doi:10.1007/s12532-017-0130-5</a>
</p>


<h3>See Also</h3>

<p><code>
<a href="#topic+preprocess_graphs">preprocess_graphs</a>,
<a href="#topic+get_metrics">get_metrics</a>
</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read connectivity files from folder and combine them
combined_edge_list &lt;- preprocess_graphs(system.file("external", package="priorCON"),
                                        header = FALSE, sep =";")

# Set seed for reproducibility
set.seed(42)

cost_raster &lt;- get_cost_raster()
features_rasters &lt;- get_features_raster()

# Solve an ordinary prioritizr prioritization problem
basic_solution &lt;- basic_scenario(cost_raster=cost_raster,
features_rasters=features_rasters, budget_perc=0.1)
</code></pre>

<hr>
<h2 id='connectivity_scenario'>Connectivity scenario problem</h2><span id='topic+connectivity_scenario'></span>

<h3>Description</h3>

<p>Solve a <span class="pkg">prioritizr</span> prioritization problem, by incorporating graph
connectivity of the features.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>connectivity_scenario(cost_raster, features_rasters = NULL, budget_perc,
                      pre_graphs, locked_in = NULL, locked_out = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="connectivity_scenario_+3A_cost_raster">cost_raster</code></td>
<td>

<p><code>SpatRaster</code> object used as cost for prioritization.
Its coordinates must correspond to the input given at
<a href="#topic+preprocess_graphs">preprocess_graphs</a>.
</p>
</td></tr>
<tr><td><code id="connectivity_scenario_+3A_features_rasters">features_rasters</code></td>
<td>

<p>features <code>SpatRaster</code> object used for prioritization.
Its coordinates must correspond to the input given at
<a href="#topic+preprocess_graphs">preprocess_graphs</a>.
</p>
</td></tr>
<tr><td><code id="connectivity_scenario_+3A_budget_perc">budget_perc</code></td>
<td>

<p><code>numeric</code> value <code class="reqn">[0,1]</code>. It represents the budget percentage of the
cost to be used for prioritization.
</p>
</td></tr>
<tr><td><code id="connectivity_scenario_+3A_pre_graphs">pre_graphs</code></td>
<td>

<p>output of <a href="#topic+get_metrics">get_metrics</a> function.
</p>
</td></tr>
<tr><td><code id="connectivity_scenario_+3A_locked_in">locked_in</code></td>
<td>

<p><code>SpatRaster</code> object used as locked in constraints, where these planning
units are selected in the solution, e.g. current protected areas. For details,
see <code>prioritizr::add_locked_in_constraints</code>.
</p>
</td></tr>
<tr><td><code id="connectivity_scenario_+3A_locked_out">locked_out</code></td>
<td>

<p><code>SpatRaster</code> object used as locked out constraints, where these planning
units are excluded from the solution, e.g. not appropriate for protected areas.
For details, see <code>prioritizr::add_locked_out_constraints</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A connectivity prioritization problem is created and solved using
<span class="pkg">prioritizr</span> package.
The solver used for solving the problems is the best available on the computer,
following the solver hierarchy of <span class="pkg">prioritizr</span>. By default, the <span class="pkg">highs</span>
package using the <a href="https://highs.dev">HiGHS</a> solver is downloaded during
package installation.
</p>


<h3>Value</h3>

<p>A list containing input for <a href="#topic+get_outputs">get_outputs</a>.
</p>


<h3>References</h3>

<p>Hanson, Jeffrey O, Richard Schuster, Nina Morrell, Matthew Strimas-Mackey,
Brandon P M Edwards, Matthew E Watts, Peter Arcese, Joseph Bennett, and Hugh P
Possingham. 2024. prioritizr: Systematic Conservation Prioritization in R.
<a href="https://prioritizr.net">https://prioritizr.net</a>.
</p>
<p>Huangfu, Qi, and JA Julian Hall. 2018. Parallelizing the Dual Revised Simplex
Method. <em>Mathematical Programming Computation</em> 10 (1): 119–42.
<a href="https://doi.org/10.1007/s12532-017-0130-5">doi:10.1007/s12532-017-0130-5</a>
</p>


<h3>See Also</h3>

<p><code>
<a href="#topic+preprocess_graphs">preprocess_graphs</a>,
<a href="#topic+get_metrics">get_metrics</a>
</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read connectivity files from folder and combine them
combined_edge_list &lt;- preprocess_graphs(system.file("external", package="priorCON"),
                                        header = FALSE, sep =";")

# Set seed for reproducibility
set.seed(42)

# Detect graph communities using the s-core algorithm
pre_graphs &lt;- get_metrics(combined_edge_list, which_community = "s_core")

cost_raster &lt;- get_cost_raster()
features_rasters &lt;- get_features_raster()

# Solve a prioritizr prioritization problem,
# by incorporating graph connectivity of the features
connectivity_solution &lt;- connectivity_scenario(cost_raster=cost_raster,
features_rasters=features_rasters, budget_perc=0.1, pre_graphs=pre_graphs)
</code></pre>

<hr>
<h2 id='get_cost_raster'>Cost raster example</h2><span id='topic+get_cost_raster'></span>

<h3>Description</h3>

<p>Cost raster example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cost_raster()
</code></pre>


<h3>Value</h3>

<p>A cost <code>SpatRaster</code> object to use for examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tmap)

## Import features_raster
cost_raster &lt;- get_cost_raster()

## Plot with tmap
tm_shape(cost_raster) +
  tm_raster(title = "cost")
</code></pre>

<hr>
<h2 id='get_features_raster'>Features raster example</h2><span id='topic+get_features_raster'></span>

<h3>Description</h3>

<p>Features raster example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_features_raster()
</code></pre>


<h3>Value</h3>

<p>A features <code>SpatRaster</code> object to use for examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tmap)

## Import features_raster
features_raster &lt;- get_features_raster()

## Plot with tmap
tm_shape(features_raster) +
  tm_raster(title = "f1")
</code></pre>

<hr>
<h2 id='get_metrics'>Detect graph communities for each biodiversity feature.</h2><span id='topic+get_metrics'></span>

<h3>Description</h3>

<p>Detect graph communities for each biodiversity feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_metrics(connect_mat, which_community = "s_core")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_metrics_+3A_connect_mat">connect_mat</code></td>
<td>

<p>a <code>data.frame</code> object where the edge lists are contained. See more in
details.
</p>
</td></tr>
<tr><td><code id="get_metrics_+3A_which_community">which_community</code></td>
<td>

<p><code>character</code> value for community type detection. It can be one of
<code>"s_core"</code>, <code>"louvain"</code>, <code>"walktrap"</code>, <code>"eigen"</code>,
<code>"betw"</code>, <code>"deg"</code> or <code>"page_rank"</code>.
The default is <code>"s_core"</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+get_metrics">get_metrics</a> is used to calculate graph metrics values.
The edge lists created from the previous step, or inserted directly from the
user are used in this step to create graphs. The directed graphs are transformed
to undirected. The function is based on the <span class="pkg">igraph</span> package which is used
to create clusters using Louvain and Walktrap and calculate the following
metrics: Eigenvector Centrality, Betweenness Centrality and Degree and PageRank.
S-core is calculated using the package <span class="pkg">brainGraph</span>.
</p>
<p><code>connect_mat</code> is either the output of <a href="#topic+preprocess_graphs">preprocess_graphs</a> or
a custom edge list <code>data.frame</code> object, with the following
columns:
</p>

<ul>
<li><p><code>feature</code>: feature name.
</p>
</li>
<li><p><code>from.X</code>: longitude of the origin (source).
</p>
</li>
<li><p><code>from.Y</code>: latitude of the origin (source).
</p>
</li>
<li><p><code>to.X</code>: longitude of the destination (target).
</p>
</li>
<li><p><code>to.Y</code>: latitude of the destination (target).
</p>
</li>
<li><p><code>weight</code>: connection weight.
</p>
</li></ul>



<h3>Value</h3>

<p>A list containing input for <a href="#topic+basic_scenario">basic_scenario</a> or
<a href="#topic+connectivity_scenario">connectivity_scenario</a>.
</p>


<h3>References</h3>

<p>Csárdi, Gábor, and Tamás Nepusz. 2006. The Igraph Software Package for Complex
Network Research. <em>InterJournal Complex Systems</em>: 1695.
<a href="https://igraph.org">https://igraph.org</a>.
</p>
<p>Csárdi, Gábor, Tamás Nepusz, Vincent Traag, Szabolcs Horvát, Fabio Zanini,
Daniel Noom, and Kirill Müller. 2024. igraph: Network Analysis and Visualization
in R. <a href="https://doi.org/10.5281/zenodo.7682609">doi:10.5281/zenodo.7682609</a>.
</p>
<p>Watson, Christopher G. 2024. brainGraph: Graph Theory Analysis of Brain MRI
Data. <a href="https://doi.org/10.32614/CRAN.package.brainGraph">doi:10.32614/CRAN.package.brainGraph</a>.
</p>


<h3>See Also</h3>

<p><code>
<a href="#topic+preprocess_graphs">preprocess_graphs</a>,
<a href="#topic+get_metrics">get_metrics</a>
</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read connectivity files from folder and combine them
combined_edge_list &lt;- preprocess_graphs(system.file("external",
                                        package="priorCON"),
                                        header = FALSE, sep =";")

# Set seed for reproducibility
set.seed(42)

# Detect graph communities using the s-core algorithm
pre_graphs &lt;- get_metrics(combined_edge_list, which_community = "s_core")
</code></pre>

<hr>
<h2 id='get_outputs'>Evaluate outputs</h2><span id='topic+get_outputs'></span>

<h3>Description</h3>

<p>Evaluate outputs from <a href="#topic+basic_scenario">basic_scenario</a> or
<a href="#topic+connectivity_scenario">connectivity_scenario</a> functions for a selected feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_outputs(solution, feature, pre_graphs, loose = FALSE, patch = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_outputs_+3A_solution">solution</code></td>
<td>

<p>output from <a href="#topic+basic_scenario">basic_scenario</a> or
<a href="#topic+connectivity_scenario">connectivity_scenario</a> functions.
</p>
</td></tr>
<tr><td><code id="get_outputs_+3A_feature">feature</code></td>
<td>

<p><code>character</code> with a single feature name used for plots.
</p>
</td></tr>
<tr><td><code id="get_outputs_+3A_pre_graphs">pre_graphs</code></td>
<td>

<p>output of <a href="#topic+get_metrics">get_metrics</a> function.
</p>
</td></tr>
<tr><td><code id="get_outputs_+3A_loose">loose</code></td>
<td>

<p>use loose or strict graph community connectivity definition. See more in
details.
</p>
</td></tr>
<tr><td><code id="get_outputs_+3A_patch">patch</code></td>
<td>

<p><code>logical</code> value. If <code>patch = TRUE</code>, then different colors can be used
for each distinct patch at output plots.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Loose graph connectivity indicates the case where two protected nodes (cells)
can be considered connected, even if the between them cells are not protected
(thus not included in the solution), whereas strict connectivity indicates the
case where two protected cells can be considered connected, only if they are
cells between them that are also protected. The default is <code>loose = FALSE</code>,
indicating the use of the strict connectivity definition.
</p>


<h3>Value</h3>

<p>A list containing the following items:
</p>

<ul>
<li><p>tmap: tmap plot of the solution including connections.
</p>
</li>
<li><p>solution: <span class="pkg">terra</span> <code>SpatRaster</code> object representing the
prioritization solution.
</p>
</li>
<li><p>connections: <span class="pkg">sf</span> <code>LINESTRING</code> object representing the preserved
connections of the solution.
</p>
</li>
<li><p>connectivity_table: <code>data.frame</code> containing all feature names at the
first column, the relative held percentages at the second column and the
percentage of connections held at the third column.
</p>
</li></ul>



<h3>References</h3>

<p>Hijmans, Robert J. 2024. terra: Spatial Data Analysis.
<a href="https://doi.org/10.32614/CRAN.package.terra">doi:10.32614/CRAN.package.terra</a>.
</p>
<p>Pebesma, Edzer. 2018. Simple Features for R: Standardized Support for Spatial
Vector Data. <em>The R Journal</em> 10 (1): 439–46.
<a href="https://doi.org/10.32614/RJ-2018-009">doi:10.32614/RJ-2018-009</a>.
</p>
<p>Pebesma, Edzer, and Roger Bivand. 2023. Spatial Data Science: With applications
in R. <em>Chapman and Hall/CRC</em>. <a href="https://doi.org/10.1201/9780429459016">doi:10.1201/9780429459016</a>
</p>


<h3>See Also</h3>

<p><code>
<a href="#topic+basic_scenario">basic_scenario</a>,
<a href="#topic+connectivity_scenario">connectivity_scenario</a>
</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read connectivity files from folder and combine them
combined_edge_list &lt;- preprocess_graphs(system.file("external", package="priorCON"),
                                        header = FALSE, sep =";")

# Set seed for reproducibility
set.seed(42)

# Detect graph communities using the s-core algorithm
pre_graphs &lt;- get_metrics(combined_edge_list, which_community = "s_core")

cost_raster &lt;- get_cost_raster()
features_rasters &lt;- get_features_raster()

# Solve a prioritizr prioritization problem, by incorporating graph connectivity of the features
connectivity_solution &lt;- connectivity_scenario(
                           cost_raster      = cost_raster,
                           features_rasters = features_rasters,
                           budget_perc      = 0.1,
                           pre_graphs       = pre_graphs
                         )

# Get outputs from connectivity_scenario function for feature "f1"
connectivity_outputs &lt;- get_outputs(solution   = connectivity_solution,
                                    feature    = "f1",
                                    pre_graphs = pre_graphs)

# Plot tmap
connectivity_outputs$tmap

# Print summary of features and connections held percentages for connectivity scenario
print(connectivity_outputs$connectivity_table)
##   feature relative_held connections(%)
## 1      f1     0.1637209      0.3339886
</code></pre>

<hr>
<h2 id='preprocess_graphs'>Read connectivity data from multiple sub-folders.</h2><span id='topic+preprocess_graphs'></span>

<h3>Description</h3>

<p>Read connectivity data from multiple sub-folders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>preprocess_graphs(path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="preprocess_graphs_+3A_path">path</code></td>
<td>

<p>a path of the folder where sub-folders containing txt or csv files are
contained. Each sub-folder has the name of the corresponding connectivity data.
In case that a connectivity folder corresponds to a specific biodiversity
feature, it should be named as the corresponding feature.
</p>
</td></tr>
<tr><td><code id="preprocess_graphs_+3A_...">...</code></td>
<td>

<p>additional arguments passed to <code>read.csv</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an auxiliary function for creating an edge list <code>data.frame</code>
object from multiple files, like the ones provided from softwares estimating
Lagrangian models.
</p>
<p>Function <a href="#topic+preprocess_graphs">preprocess_graphs</a> takes as input a list of .txt/.csv
objects. Each object represents the connections between a node and all the other
nodes. For the model to read the data, it is necessary to have all the .txt/.csv
objects in one folder. There are two ways to incorporate connectivity data,
based on their linkage to features:
</p>

<ul>
<li><p>Case 1: the connectivity data correspond to specific biodiversity
features. If a biodiversity feature has its own connectivity dataset then the
file including the edge lists needs to have the same name as the corresponding
feature. For example, consider having 5 species (f1, f2, f3, f4, f5) and 5
connectivity datasets. Then the connectivity datasets need to be in separate
folders named: f1,f2,f3,f4,f5 and the algorithm will understand that they
correspond to the species.
</p>
</li>
<li><p>Case 2: the connectivity dataset represents a spatial pattern that is not
directly connected with a specific biodiversity feature. Then the connectivity
data need to be included in a separate folder named in a different way than the
species. For example consider having 5 species (f1,f2,f3,f4,f5) and 1
connectivity dataset. This dataset can be included in a separate folder
(e.g. &quot;Langragian_con&quot;).
</p>
</li></ul>


<p><img src="../help/figures/priorCON_fig3.png" width="100%" alt="priorCON_fig3.png" />

</p>
<p>A typical Lagrangian output is a set of files representing the likelihood of a
point moving from an origin (source) to a destination (target). This can be
represented using a list of .txt/.csv files (as many as the origin points)
including information for the destination probability. The .txt/.csv files need
to be named in an increasing order. The name of the files need to correspond to
the numbering of the points, in order for the algorithm to match the coordinates
with the points.
</p>

<p><img src="../help/figures/priorCON_fig4.png" width="100%" alt="priorCON_fig4.png" />

</p>


<h3>Value</h3>

<p>an edge list <code>data.frame</code> object, with the following columns:
</p>

<ul>
<li><p><code>feature</code>: feature name.
</p>
</li>
<li><p><code>from.X</code>: longitude of the origin (source).
</p>
</li>
<li><p><code>from.Y</code>: latitude of the origin (source).
</p>
</li>
<li><p><code>to.X</code>: longitude of the destination (target).
</p>
</li>
<li><p><code>to.Y</code>: latitude of the destination (target).
</p>
</li>
<li><p><code>weight</code>: connection weight.
</p>
</li></ul>



<h3>See Also</h3>

<p><code>
<a href="#topic+preprocess_graphs">preprocess_graphs</a>,
<a href="#topic+get_metrics">get_metrics</a>
</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read connectivity files from folder and combine them
combined_edge_list &lt;- preprocess_graphs(system.file("external",
                                        package="priorCON"),
                                        header = FALSE, sep =";")
head(combined_edge_list)

##  feature   from.X   from.Y     to.X     to.Y weight
## 1     f1 22.62309 40.30342 22.62309 40.30342  0.000
## 2     f1 22.62309 40.30342 22.62309 40.39144  0.000
## 3     f1 22.62309 40.30342 22.62309 40.41341  0.000
## 4     f1 22.62309 40.30342 22.62309 40.43537  0.005
## 5     f1 22.62309 40.30342 22.62309 40.45731  0.000
## 6     f1 22.62309 40.30342 22.65266 40.30342  0.000
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

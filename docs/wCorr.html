<!DOCTYPE html><html lang="en"><head><title>Help for package wCorr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wCorr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#wCorr-package'><p>Computes weighted or unweighted Pearson, Spearman, polyserial, and polychoric correlations coefficients.</p></a></li>
<li><a href='#weightedCorr'><p>Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation coefficients</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Weighted Correlations</td>
</tr>
<tr>
<td>Version:</td>
<td>1.9.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-19</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Bailey &lt;pbailey@air.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculates Pearson, Spearman, polychoric, and polyserial correlation coefficients, in weighted or unweighted form. The package implements tetrachoric correlation as a special case of the polychoric and biserial correlation as a specific case of the polyserial.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/American-Institutes-for-Research/wCorr/issues">https://github.com/American-Institutes-for-Research/wCorr/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://american-institutes-for-research.github.io/wCorr/">https://american-institutes-for-research.github.io/wCorr/</a></td>
</tr>
<tr>
<td>Note:</td>
<td>This publication was prepared for NCES under Contract No.
ED-IES-12-D-0002 with the American Institutes for Research.
Mention of trade names, commercial products, or organizations
does not imply endorsement by the U.S. Government.</td>
</tr>
<tr>
<td>Imports:</td>
<td>minqa, mnormt, Rcpp, stats</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, lattice, doBy</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Author:</td>
<td>Emmanuel Sikali [pdr],
  Paul Bailey [aut, cre],
  Ahmad Emad [aut],
  Eric Buehler [ctb]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-19 16:04:20 UTC; pbailey</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-19 18:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='wCorr-package'>Computes weighted or unweighted Pearson, Spearman, polyserial, and polychoric correlations coefficients.</h2><span id='topic+wCorr-package'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+weightedCorr">weightedCorr</a></code> for examples.
</p>

<hr>
<h2 id='weightedCorr'>Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation coefficients</h2><span id='topic+weightedCorr'></span>

<h3>Description</h3>

<p>Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation
coefficients in weighted or unweighted form, on discrete or continuous variables. Also 
calculates tetrachoric and biserial correlation coefficients as described below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weightedCorr(
  x,
  y,
  method = c("Pearson", "Spearman", "Polyserial", "Polychoric"),
  weights = rep(1, length(x)),
  ML = FALSE,
  fast = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="weightedCorr_+3A_x">x</code></td>
<td>
<p>a numeric (or numeric factor in case of polychoric) vector or an object that can be
coerced to a numeric or factor vector.</p>
</td></tr>
<tr><td><code id="weightedCorr_+3A_y">y</code></td>
<td>
<p>a numeric vector (or factor in case of polychoric and polyserial) or an object that
can be coerced to a numeric or factor vector.</p>
</td></tr>
<tr><td><code id="weightedCorr_+3A_method">method</code></td>
<td>
<p>a character string indicating which correlation coefficient is
to be computed. These include &quot;Pearson&quot; (default), &quot;Spearman&quot;, &quot;Polychoric&quot;, or &quot;Polyserial&quot;.
For tetrachoric use &quot;Polychoric&quot; and for biserial use &quot;Polyserial&quot;.</p>
</td></tr>
<tr><td><code id="weightedCorr_+3A_weights">weights</code></td>
<td>
<p>a numeric vector of weights. By default, the unweighted correlation coefficient is calculated
by setting the weights to a vector of all 1s.</p>
</td></tr>
<tr><td><code id="weightedCorr_+3A_ml">ML</code></td>
<td>
<p>a Boolean value indicating if full Maximum Likelihood (ML) is to be used (polyserial and polychoric only,
has no effect on Pearson or Spearman results). This substantially increases the
compute time. See the 'wCorr Arguments' vignette for a description of the effect of this argument.</p>
</td></tr>
<tr><td><code id="weightedCorr_+3A_fast">fast</code></td>
<td>
<p>a Boolean value indicating if the Rcpp methods should be used. Setting this value to FALSE
uses the pure R implementation and is included primarily for comparing the implementations
to each other. See the 'wCorr Arguments' vignette for a description of the effect of this argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In case of polyserial, x must be the observed ordinal variable, and y the observed continuous variable. For
polychoric, both must be categorical. The correlation methods are calculated as described in the 'wCorr Formulas'
vignette.
</p>
<p>For Spearman the data is first ranked and then a Pearson type correlation coefficient is calculated on
the result. The ranking method gives averages for ties.
</p>
<p>The details of computation are given in the 'wCorr Formulas' vignette.
</p>


<h3>Value</h3>

<p>A scalar that is the estimated correlation.
</p>


<h3>References</h3>

<p>Polyserial computation based on the likelihood function in Cox, N. R. (1974), &quot;Estimation of the Correlation between a Continuous and a Discrete Variable.&quot; Biometrics, 30 (1), pp 171-178.
</p>
<p>Polychoric computation based on the likelihood function in Olsson, U. (1979) &quot;Maximum Likelihood Estimation of the Polychoric Correlation Coefficient.&quot; Psyhometrika, 44 (4), pp 443-460.
</p>
<p>The weighted Pearson formula appears in many places, including the &quot;correlate&quot; function in Stata Corp, Stata Statistical Software: Release 8. College Station, TX: Stata Corp LP, 2003.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+cor">cor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># run a polyserial correlation
attach(mtcars)
weightedCorr(gear, x=cyl, method="polyserial")
# weight by MPG
weightedCorr(y=gear, x=cyl, method="polyserial", weights=mpg)
# unweight
weightedCorr(y=gear, x=cyl, method="polyserial")

# run a polychoric correlation
weightedCorr(gear, x=cyl, method="polychoric")
# weight by MPG
weightedCorr(y=gear, x=cyl, method="polychoric", weights=mpg)
# unwiehgted
weightedCorr(y=gear, x=cyl, method="polychoric")
detach(mtcars)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

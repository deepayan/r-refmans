<!DOCTYPE html><html><head><title>Help for package drugdevelopR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {drugdevelopR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#d3_skipII_tte'><p>Expected probability to go to phase III for time-to-event outcomes</p></a></li>
<li><a href='#dbivanorm'><p>Density of the bivariate normal distribution</p></a></li>
<li><a href='#drugdevelopR'><p>Utility based optimal phase II/III drug development planning</p></a></li>
<li><a href='#drugdevelopResult'><p>Construct a drugdevelopResult object from a data frame</p></a></li>
<li><a href='#Ed3_bias'><p>Expected sample size for phase III for bias adjustment programs and time-to-event outcomes</p></a></li>
<li><a href='#Ed3_tte'><p>Expected sample size for phase III for time-to-event outcomes</p></a></li>
<li><a href='#En3_bias_binary'><p>Expected sample size for phase III for bias adjustment programs and binary distributed outcomes</p></a></li>
<li><a href='#En3_bias_normal'><p>Expected sample size for phase III for bias adjustment programs and normally distributed outcomes</p></a></li>
<li><a href='#Epgo_bias'><p>Expected probability to go to phase III for bias adjustment programs with time-to-event outcomes</p></a></li>
<li><a href='#Epgo_bias_binary'><p>Expected probability to go to phase III for bias adjustment programs with binary distributed outcomes</p></a></li>
<li><a href='#Epgo_bias_normal'><p>Expected probability to go to phase III for bias adjustment programs with normally distributed outcomes</p></a></li>
<li><a href='#Epgo_tte'><p>Expected probability to go to phase III for time-to-event outcomes</p></a></li>
<li><a href='#Epgo23'><p>Expected probability to do third phase III trial</p></a></li>
<li><a href='#Epgo23_binary'><p>Expected probability to do third phase III trial</p></a></li>
<li><a href='#Epgo23_normal'><p>Expected probability to do third phase III trial</p></a></li>
<li><a href='#EPsProg_bias'><p>Expected probability of a successful program for bias adjustment programs with time-to-event outcomes</p></a></li>
<li><a href='#EPsProg_bias_binary'><p>Expected probability of a successful program for bias adjustment programs with binary distributed outcomes</p></a></li>
<li><a href='#EPsProg_bias_normal'><p>Expected probability of a successful program for bias adjustment programs with normally distributed outcomes</p></a></li>
<li><a href='#EPsProg_multiple_normal'><p>Expected probability of a successful program for multiple endpoints and normally distributed outcomes</p></a></li>
<li><a href='#EPsProg_multiple_tte'><p>Expected probability of a successful program for multiple endpoints in a time-to-event setting</p></a></li>
<li><a href='#EPsProg_multitrial'><p>Expected probability of a successful program for multitrial programs in a time-to-event setting</p></a></li>
<li><a href='#EPsProg_multitrial_binary'><p>Expected probability of a successful program for multitrial programs with binary distributed outcomes</p></a></li>
<li><a href='#EPsProg_multitrial_normal'><p>Expected probability of a successful program for multitrial programs with normally distributed outcomes</p></a></li>
<li><a href='#EPsProg_tte'><p>Expected probability of a successful program for time-to-event outcomes</p></a></li>
<li><a href='#EPsProg23'><p>Expected probability of a successful program deciding between two or three phase III trials in a time-to-event setting</p></a></li>
<li><a href='#EPsProg23_binary'><p>Expected probability of a successful program deciding between two or three phase III trials for a binary distributed outcome</p></a></li>
<li><a href='#EPsProg23_normal'><p>Expected probability of a successful program deciding between two or three phase III trials for a normally distributed outcome</p></a></li>
<li><a href='#Ess_binary'><p>Expected sample size for phase III for multiarm programs with binary distributed outcomes</p></a></li>
<li><a href='#Ess_multiple_normal'><p>Expected sample size for phase III for multiple endpoints with normally distributed outcomes</p></a></li>
<li><a href='#Ess_multiple_tte'><p>Expected sample size for phase III for multiple endpoints with normally distributed outcomes</p></a></li>
<li><a href='#Ess_normal'><p>Expected sample size for phase III for multiarm programs with normally distributed outcomes</p></a></li>
<li><a href='#Ess_tte'><p>Expected sample size for phase III for multiarm programs with time-to-event outcomes</p></a></li>
<li><a href='#fmax'><p>Density for the maximum of two normally distributed random variables</p></a></li>
<li><a href='#fmin'><p>Density for the minimum of two normally distributed random variables</p></a></li>
<li><a href='#get_sample_multiple_normal'><p>Generate sample for Monte Carlo integration in the multiple setting</p></a></li>
<li><a href='#get_sample_multiple_tte'><p>Generate sample for Monte Carlo integration in the multiple setting</p></a></li>
<li><a href='#optimal_bias'><p>Optimal phase II/III drug development planning for time-to-event endpoints</p>
when discounting phase II results</a></li>
<li><a href='#optimal_bias_binary'><p>Optimal phase II/III drug development planning when discounting phase II results with binary endpoint</p></a></li>
<li><a href='#optimal_bias_generic'><p>Generic function for optimizing drug development programs with bias adjustment</p></a></li>
<li><a href='#optimal_bias_normal'><p>Optimal phase II/III drug development planning when discounting phase II results with normally distributed endpoint</p></a></li>
<li><a href='#optimal_binary'><p>Optimal phase II/III drug development planning with binary endpoint</p></a></li>
<li><a href='#optimal_binary_generic'><p>Generic function for optimizing programs with binary endpoints</p></a></li>
<li><a href='#optimal_generic'><p>Generic function for optimizing drug development programs</p></a></li>
<li><a href='#optimal_multiarm'><p>Optimal phase II/III drug development planning for multi-arm programs with</p>
time-to-event endpoint</a></li>
<li><a href='#optimal_multiarm_binary'><p>Optimal phase II/III drug development planning for multi-arm programs with</p>
binary endpoint</a></li>
<li><a href='#optimal_multiarm_generic'><p>Generic function for optimizing multi-arm programs</p></a></li>
<li><a href='#optimal_multiarm_normal'><p>Optimal phase II/III drug development planning for multi-arm programs with</p>
normally distributed endpoint</a></li>
<li><a href='#optimal_multiple_generic'><p>Generic function for optimizing drug development programs with multiple endpoints</p></a></li>
<li><a href='#optimal_multiple_normal'><p>Optimal phase II/III drug development planning for programs with multiple</p>
normally distributed endpoints</a></li>
<li><a href='#optimal_multiple_tte'><p>Optimal phase II/III drug development planning for programs with multiple</p>
time-to-event endpoints</a></li>
<li><a href='#optimal_multitrial'><p>Optimal phase II/III drug development planning where several phase III trials are performed for time-to-event endpoints</p></a></li>
<li><a href='#optimal_multitrial_binary'><p>Optimal phase II/III drug development planning where several phase III trials are performed</p></a></li>
<li><a href='#optimal_multitrial_generic'><p>Generic function for optimizing multi-trial programs</p></a></li>
<li><a href='#optimal_multitrial_normal'><p>Optimal phase II/III drug development planning where several phase III trials are performed</p></a></li>
<li><a href='#optimal_normal'><p>Optimal phase II/III drug development planning with normally distributed endpoint</p></a></li>
<li><a href='#optimal_normal_generic'><p>Generic function for optimizing normally distributed endpoints</p></a></li>
<li><a href='#optimal_return_doc'><p>Function for generating documentation of return values</p></a></li>
<li><a href='#optimal_tte'><p>Optimal phase II/III drug development planning with time-to-event endpoint</p></a></li>
<li><a href='#optimal_tte_generic'><p>Generic function for optimal planning of time-to-event endpoints</p></a></li>
<li><a href='#os_tte'><p>Probability that endpoint OS significant</p></a></li>
<li><a href='#pgo_binary'><p>Probability to go to phase III for multiarm programs with binary distributed outcomes</p></a></li>
<li><a href='#pgo_multiple_normal'><p>Probability to go to phase III for multiple endpoints with normally distributed outcomes</p></a></li>
<li><a href='#pgo_multiple_tte'><p>Probability to go to phase III for multiple endpoints in the time-to-event setting</p></a></li>
<li><a href='#pgo_normal'><p>Probability to go to phase III for multiarm programs with normally distributed outcomes</p></a></li>
<li><a href='#pgo_tte'><p>Probability to go to phase III for multiarm programs with time-to-event outcomes</p></a></li>
<li><a href='#posp_normal'><p>Probability of a successful program, when going to phase III for multiple endpoint with normally distributed outcomes</p></a></li>
<li><a href='#print_drugdevelopResult_helper'><p>Helper function for printing a drugdevelopResult Object</p></a></li>
<li><a href='#print.drugdevelopResult'><p>Printing a drugdevelopResult Object</p></a></li>
<li><a href='#prior_tte'><p>Prior distribution for time-to-event outcomes</p></a></li>
<li><a href='#PsProg_binary'><p>Probability of a successful program for multiarm programs with binary distributed outcomes</p></a></li>
<li><a href='#PsProg_normal'><p>Probability of a successful program for multiarm programs with normally distributed outcomes</p></a></li>
<li><a href='#PsProg_tte'><p>Probability of a successful program for multiarm programs with time-to-event outcomes</p></a></li>
<li><a href='#pw'><p>Probabilty that effect in endpoint one is larger than in endpoint two</p></a></li>
<li><a href='#ss_binary'><p>Total sample size for phase III trial with l treatments and equal allocation ratio for binary outcomes</p></a></li>
<li><a href='#ss_normal'><p>Total sample size for phase III trial with l treatments and equal allocation ratio for normally distributed outcomes</p></a></li>
<li><a href='#ss_tte'><p>Total sample size for phase III trial with l treatments and equal allocation ratio for time-to-event outcomes</p></a></li>
<li><a href='#utility_bias'><p>Utility function for bias adjustment programs with time-to-event outcomes.</p></a></li>
<li><a href='#utility_bias_binary'><p>Utility function for bias adjustment programs with binary distributed outcomes.</p></a></li>
<li><a href='#utility_bias_normal'><p>Utility function for bias adjustment programs with normally distributed outcomes.</p></a></li>
<li><a href='#utility_multiarm'><p>Utility function for multiarm programs with time-to-event outcomes</p></a></li>
<li><a href='#utility_multiarm_binary'><p>Utility function for multiarm programs with binary distributed outcomes</p></a></li>
<li><a href='#utility_multiarm_normal'><p>Utility function for multiarm programs with normally distributed outcomes</p></a></li>
<li><a href='#utility_multiple_normal'><p>Utility function for multiple endpoints with normally distributed outcomes.</p></a></li>
<li><a href='#utility_multiple_tte'><p>Utility function for multiple endpoints in a time-to-event-setting</p></a></li>
<li><a href='#utility_multitrial'><p>Utility function for multitrial programs in a time-to-event setting</p></a></li>
<li><a href='#utility_multitrial_binary'><p>Utility function for multitrial programs with binary distributed outcomes</p></a></li>
<li><a href='#utility_multitrial_normal'><p>Utility function for multitrial programs with normally distributed outcomes</p></a></li>
<li><a href='#utility_tte'><p>Utility function for time-to-event outcomes.</p></a></li>
<li><a href='#utility23'><p>Utility function for multitrial programs deciding between two or three phase III trials in a time-to-event setting</p></a></li>
<li><a href='#utility23_binary'><p>Utility function for multitrial programs deciding between two or three phase III trials for a binary distributed outcome</p></a></li>
<li><a href='#utility23_normal'><p>Utility function for multitrial programs deciding between two or three phase III trials for a normally distributed outcome</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Utility-Based Optimal Phase II/III Drug Development Planning</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Stella Erdmann [aut],
  Johannes Cepicka [aut],
  Marietta Kirchner [aut],
  Meinhard Kieser [aut],
  Lukas D. Sauer <a href="https://orcid.org/0000-0002-1340-9994"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lukas D. Sauer &lt;sauer@imbi.uni-heidelberg.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Plan optimal sample size allocation and go/no-go decision rules
  for phase II/III drug development programs with time-to-event, binary or
  normally distributed endpoints when assuming fixed treatment effects or a
  prior distribution for the treatment effect, using methods from Kirchner et al.
  (2016) &lt;<a href="https://doi.org/10.1002%2Fsim.6624">doi:10.1002/sim.6624</a>&gt; and Preussler (2020). Optimal is in the sense of
  maximal expected utility, where the utility is a function taking into account
  the expected cost and benefit of the program. It is possible to extend to more
  complex settings with bias correction (Preussler S et al. (2020)
  &lt;<a href="https://doi.org/10.1186%2Fs12874-020-01093-w">doi:10.1186/s12874-020-01093-w</a>&gt;),  multiple phase III trials (Preussler et
  al. (2019) &lt;<a href="https://doi.org/10.1002%2Fbimj.201700241">doi:10.1002/bimj.201700241</a>&gt;), multi-arm trials (Preussler et al.
  (2019) &lt;<a href="https://doi.org/10.1080%2F19466315.2019.1702092">doi:10.1080/19466315.2019.1702092</a>&gt;), and multiple endpoints
  (Kieser et al. (2018) &lt;<a href="https://doi.org/10.1002%2Fpst.1861">doi:10.1002/pst.1861</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), doParallel, parallel, foreach, iterators</td>
</tr>
<tr>
<td>Imports:</td>
<td>mvtnorm, cubature, msm, MASS, stats, progressr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Sterniii3/drugdevelopR">https://github.com/Sterniii3/drugdevelopR</a>,
<a href="https://sterniii3.github.io/drugdevelopR/">https://sterniii3.github.io/drugdevelopR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Sterniii3/drugdevelopR/issues">https://github.com/Sterniii3/drugdevelopR/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr, testthat (&ge; 3.0.0), covr, kableExtra,
magrittr, devtools</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-09 09:34:02 UTC; or415</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-10 13:43:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='d3_skipII_tte'>Expected probability to go to phase III for time-to-event outcomes</h2><span id='topic+d3_skipII_tte'></span>

<h3>Description</h3>

<p>If choosing <code>skipII = TRUE</code>, the program calculates the expected utility for the case when phase
II is skipped and compares it to the situation when phase II is not skipped.
This function calculates the expected sample size for phase III for time-to-event outcomes using a median prior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3_skipII_tte(alpha, beta, median_prior)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3_skipII_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="d3_skipII_tte_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="d3_skipII_tte_+3A_median_prior">median_prior</code></td>
<td>
<p>the median_prior is given as -log(hr1), the assumed true treatment effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>d3_skipII_tte()</code> is the expected number of events in phase III when skipping phase II.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- d3_skipII_tte(alpha = 0.05, beta = 0.1, median_prior = 0.35)
</code></pre>

<hr>
<h2 id='dbivanorm'>Density of the bivariate normal distribution</h2><span id='topic+dbivanorm'></span>

<h3>Description</h3>

<p>Density of the bivariate normal distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dbivanorm(x, y, mu1, mu2, sigma1, sigma2, rho)

dbivanorm(x, y, mu1, mu2, sigma1, sigma2, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbivanorm_+3A_x">x</code></td>
<td>
<p>integral variable</p>
</td></tr>
<tr><td><code id="dbivanorm_+3A_y">y</code></td>
<td>
<p>integral variable</p>
</td></tr>
<tr><td><code id="dbivanorm_+3A_mu1">mu1</code></td>
<td>
<p>mean of second endpoint</p>
</td></tr>
<tr><td><code id="dbivanorm_+3A_mu2">mu2</code></td>
<td>
<p>mean of first endpoint</p>
</td></tr>
<tr><td><code id="dbivanorm_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="dbivanorm_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="dbivanorm_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Function <code>dbivanorm()</code> will return the density of a bivariate normal distribution.
</p>

<hr>
<h2 id='drugdevelopR'>Utility based optimal phase II/III drug development planning</h2><span id='topic+drugdevelopR'></span>

<h3>Description</h3>

<p>The drugdevelopR package enables utility based planning of phase II/III drug development programs with optimal sample size allocation and go/no-go decision rules. The assumed true treatment effects can be assumed fixed (planning is then also possible via user friendly R Shiny App: <a href="https://web.imbi.uni-heidelberg.de/drugdevelopR/">drugdevelopR</a>) or modelled by a prior distribution. The R Shiny application <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior distributions used in this package. Fast computing is enabled by parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drugdevelopR()
</code></pre>


<h3>drugdevelopR package and R Shiny App</h3>

<p>The drugdevelopR package provides the functions to plan optimal phase II/III drug development programs with
</p>

<ul>
<li><p> time-to-event endpoint (<code><a href="#topic+optimal_tte">optimal_tte</a></code>),
</p>
</li>
<li><p> binary endpoint (<code><a href="#topic+optimal_binary">optimal_binary</a></code>) and
</p>
</li>
<li><p> normally distributed endpoint (<code><a href="#topic+optimal_normal">optimal_normal</a></code>),
</p>
</li></ul>

<p>where the treatment effect is assumed fixed or modelled by a <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a>. In these settings, optimal phase II/III drug development planning with fixed assumed treatment effects can also be done with the help of the R Shiny application <a href="https://web.imbi.uni-heidelberg.de/basic/">basic</a>. Extensions to the basic setting are
</p>

<ul>
<li><p> optimal planning of programs including methods for discounting of phase II results (function: <code><a href="#topic+optimal_bias">optimal_bias</a></code>, App: <a href="https://web.imbi.uni-heidelberg.de/bias/">bias</a>),
</p>
</li>
<li><p> optimal planning of programs with several phase III trials (function: <code><a href="#topic+optimal_multitrial">optimal_multitrial</a></code>, App: <a href="https://web.imbi.uni-heidelberg.de/multitrial/">multitrial</a>) and
</p>
</li>
<li><p> optimal planning of programs with multiple arms (function: <code><a href="#topic+optimal_multiarm">optimal_multiarm</a></code>, App: <a href="https://web.imbi.uni-heidelberg.de/multiarm/">multiarm</a>).
</p>
</li></ul>

<p>The R Shiny App <a href="https://web.imbi.uni-heidelberg.de/drugdevelopR/">drugdevelopR</a> serves as homepage, navigating the different parts of drugdevelopR via links.
</p>


<h3>References</h3>

<p>Kirchner, M., Kieser, M., Goette, H., &amp; Schueler, A. (2016). Utility-based optimization of phase II/III programs. Statistics in Medicine, 35(2), 305-316.
</p>
<p>Preussler, S., Kieser, M., and Kirchner, M. (2019). Optimal sample size allocation and go/no-go decision rules for phase II/III programs where several phase III trials are performed. Biometrical Journal, 61(2), 357-378.
</p>
<p>Preussler, S., Kirchner, M., Goette, H., Kieser, M. (2019). Optimal designs for phase II/III drug development programs including methods for discounting of phase II results. Submitted to peer-review journal.
</p>
<p>Preussler, S., Kirchner, M., Goette, H., Kieser, M. (2019). Optimal designs for multi-arm Phase II/III drug development programs. Submitted to peer-review journal.
</p>

<hr>
<h2 id='drugdevelopResult'>Construct a drugdevelopResult object from a data frame</h2><span id='topic+drugdevelopResult'></span>

<h3>Description</h3>

<p>This is a short wrapper for adding the &quot;drugdevelopR&quot; string to the list
of S3 classes of a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drugdevelopResult(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drugdevelopResult_+3A_x">x</code></td>
<td>
<p>data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the same data frame, equipped with class &quot;drugdevelopResult&quot;
</p>

<hr>
<h2 id='Ed3_bias'>Expected sample size for phase III for bias adjustment programs and time-to-event outcomes</h2><span id='topic+Ed3_bias'></span><span id='topic+Ed3_L'></span><span id='topic+Ed3_L2'></span><span id='topic+Ed3_R'></span><span id='topic+Ed3_R2'></span>

<h3>Description</h3>

<p>To discount for overoptimistic results in phase II when calculating the optimal sample size in phase III,
it is necessary to use the functions <code>Ed3_L()</code>, <code>Ed3_L2()</code>, <code>Ed3_R()</code> and <code>Ed3_R2()</code>.
Each function describes a specific case:
</p>

<ul>
<li> <p><code>Ed3_L()</code>: calculates the optimal sample size for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>Ed3_L2()</code>: calculates the optimal sample size for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval)
when the go-decision is also affected by the bias adjustment
</p>
</li>
<li> <p><code>Ed3_R()</code>: calculates the optimal sample size for a multiplicative adjustment factor (i.e. use estimate with a retention factor),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>Ed3_R2()</code>: calculates the optimal sample size for a multiplicative adjustment factor (i.e. use estimate with a retention factor)
when the go-decision is also affected by the bias adjustment
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>Ed3_L(HRgo, d2, Adj, alpha, beta, w, hr1, hr2, id1, id2, fixed)

Ed3_L2(HRgo, d2, Adj, alpha, beta, w, hr1, hr2, id1, id2, fixed)

Ed3_R(HRgo, d2, Adj, alpha, beta, w, hr1, hr2, id1, id2, fixed)

Ed3_R2(HRgo, d2, Adj, alpha, beta, w, hr1, hr2, id1, id2, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ed3_bias_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_d2">d2</code></td>
<td>
<p>total events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Ed3_bias_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>Ed3_L</code>, <code>Ed3_L2</code>, <code>Ed3_R</code> and <code>Ed3_R2</code> is the expected number of participants in phase III.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;-  Ed3_L(HRgo = 0.8, d2 = 50, Adj = 0.4,
                        alpha = 0.025, beta = 0.1, w = 0.3, 
                        hr1 =  0.69, hr2 = 0.81, 
                        id1 = 280, id2 = 420, fixed = FALSE)
          res &lt;-  Ed3_L2(HRgo = 0.8, d2 = 50, Adj = 0.4,
                        alpha = 0.025, beta = 0.1, w = 0.3, 
                        hr1 =  0.69, hr2 = 0.81, 
                        id1 = 280, id2 = 420, fixed = FALSE)
          res &lt;- Ed3_R(HRgo = 0.8, d2 = 50, Adj = 0.9,
                        alpha = 0.025, beta = 0.1, w = 0.3, 
                        hr1 =  0.69, hr2 = 0.81, 
                        id1 = 280, id2 = 420, fixed = FALSE)
          res &lt;- Ed3_R2(HRgo = 0.8, d2 = 50, Adj = 0.9,
                        alpha = 0.025, beta = 0.1, w = 0.3, 
                        hr1 =  0.69, hr2 = 0.81, 
                        id1 = 280, id2 = 420, fixed = FALSE)
                              
</code></pre>

<hr>
<h2 id='Ed3_tte'>Expected sample size for phase III for time-to-event outcomes</h2><span id='topic+Ed3_tte'></span>

<h3>Description</h3>

<p>Expected sample size for phase III for time-to-event outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Ed3_tte(HRgo, d2, alpha, beta, w, hr1, hr2, id1, id2, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ed3_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_d2">d2</code></td>
<td>
<p>total events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Ed3_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the the functions <code>Ed3_tte</code> is the expected number of events in phase III.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;-  Ed3_tte(HRgo = 0.8, d2 = 50,
                        alpha = 0.025, beta = 0.1, w = 0.3, 
                        hr1 =  0.69, hr2 = 0.81, 
                        id1 = 280, id2 = 420, fixed = FALSE)
</code></pre>

<hr>
<h2 id='En3_bias_binary'>Expected sample size for phase III for bias adjustment programs and binary distributed outcomes</h2><span id='topic+En3_bias_binary'></span><span id='topic+En3_binary_L'></span><span id='topic+En3_binary_L2'></span><span id='topic+En3_binary_R'></span><span id='topic+En3_binary_R2'></span>

<h3>Description</h3>

<p>To discount for overoptimistic results in phase II when calculating the optimal sample size in phase III,
it is necessary to use the functions <code>En3_binary_L()</code>, <code>En3_binary_L2()</code>, <code>En3_binary_R()</code> and <code>En3_binary_R2()</code>.
Each function describes a specific case:
</p>

<ul>
<li> <p><code>En3_binary_L()</code>: calculates the optimal sample size for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>En3_binary_L2()</code>: calculates the optimal sample size for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval)
when the go-decision is also affected by the bias adjustment
</p>
</li>
<li> <p><code>En3_binary_R()</code>: calculates the optimal sample size for a multiplicative adjustment factor (i.e. use estimate with a retention factor),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>En3_binary_R2()</code>: calculates the optimal sample size for a multiplicative adjustment factor (i.e. use estimate with a retention factor)
when the go-decision is also affected by the bias adjustment
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>En3_binary_L(RRgo, n2, Adj, alpha, beta, p0, w, p11, p12, in1, in2, fixed)

En3_binary_L2(RRgo, n2, Adj, alpha, beta, p0, w, p11, p12, in1, in2, fixed)

En3_binary_R(RRgo, n2, Adj, alpha, beta, p0, w, p11, p12, in1, in2, fixed)

En3_binary_R2(RRgo, n2, Adj, alpha, beta, p0, w, p11, p12, in1, in2, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="En3_bias_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="En3_bias_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>p11</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>En3_binary_L</code>, <code>En3_binary_L2</code>, <code>En3_binary_R</code> and <code>En3_binary_R2</code> is the expected number of participants in phase III.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- En3_binary_L(RRgo = 0.8, n2 = 50, Adj = 0, 
                              alpha = 0.025, beta = 0.1, p0 = 0.6,  w = 0.3,
                              p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                              fixed = FALSE)
          res &lt;-  En3_binary_L2(RRgo = 0.8, n2 = 50, Adj = 0, 
                              alpha = 0.025, beta = 0.1, p0 = 0.6,  w = 0.3,
                              p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                              fixed = FALSE)
          res &lt;- En3_binary_R(RRgo = 0.8, n2 = 50, Adj = 1, 
                              alpha = 0.025, beta = 0.1, p0 = 0.6,  w = 0.3,
                              p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                              fixed = FALSE)
          res &lt;- En3_binary_R2(RRgo = 0.8, n2 = 50, Adj = 1, 
                              alpha = 0.025, beta = 0.1, p0 = 0.6,  w = 0.3,
                              p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                              fixed = FALSE)
                              
</code></pre>

<hr>
<h2 id='En3_bias_normal'>Expected sample size for phase III for bias adjustment programs and normally distributed outcomes</h2><span id='topic+En3_bias_normal'></span><span id='topic+En3_normal_L'></span><span id='topic+En3_normal_L2'></span><span id='topic+En3_normal_R'></span><span id='topic+En3_normal_R2'></span>

<h3>Description</h3>

<p>To discount for overoptimistic results in phase II when calculating the optimal sample size in phase III,
it is necessary to use the functions <code>En3_normal_L()</code>, <code>En3_normal_L2()</code>, <code>En3_normal_R()</code> and <code>En3_normal_R2()</code>.
Each function describes a specific case:
</p>

<ul>
<li> <p><code>En3_normal_L()</code>: calculates the optimal sample size for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>En3_normal_L2()</code>: calculates the optimal sample size for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval)
when the go-decision is also affected by the bias adjustment
</p>
</li>
<li> <p><code>En3_normal_R()</code>: calculates the optimal sample size for a multiplicative adjustment factor (i.e. use estimate with a retention factor),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>En3_normal_R2()</code>: calculates the optimal sample size for a multiplicative adjustment factor (i.e. use estimate with a retention factor)
when the go-decision is also affected by the bias adjustment
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>En3_normal_L(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)

En3_normal_L2(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)

En3_normal_R(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)

En3_normal_R2(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="En3_bias_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_beta">beta</code></td>
<td>
<p><code>1 - beta</code> is the power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="En3_bias_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>En3_normal_L</code>, <code>En3_normal_L2</code>, <code>En3_normal_R</code> and <code>En3_normal_R2</code> is the expected number of participants in phase III.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- En3_normal_L(kappa = 0.1, n2 = 50, Adj = 0, 
                              alpha = 0.025, beta = 0.1, w = 0.3,
                              Delta1 = 0.375, Delta2 = 0.625, 
                              in1 = 300, in2 = 600, 
                              a = 0.25, b = 0.75, fixed = FALSE)
          res &lt;- En3_normal_L2(kappa = 0.1, n2 = 50, Adj = 0, 
                              alpha = 0.025, beta = 0.1, w = 0.3,
                              Delta1 = 0.375, Delta2 = 0.625, 
                              in1 = 300, in2 = 600, 
                              a = 0.25, b = 0.75, fixed = TRUE)
          res &lt;- En3_normal_R(kappa = 0.1, n2 = 50, Adj = 1, 
                              alpha = 0.025, beta = 0.1, w = 0.3,
                              Delta1 = 0.375, Delta2 = 0.625, 
                              in1 = 300, in2 = 600, 
                              a = 0.25, b = 0.75, fixed = FALSE)
          res &lt;- En3_normal_R2(kappa = 0.1, n2 = 50, Adj = 1, 
                              alpha = 0.025, beta = 0.1, w = 0.3,
                              Delta1 = 0.375, Delta2 = 0.625, 
                              in1 = 300, in2 = 600, 
                              a = 0.25, b = 0.75, fixed = FALSE)
</code></pre>

<hr>
<h2 id='Epgo_bias'>Expected probability to go to phase III for bias adjustment programs with time-to-event outcomes</h2><span id='topic+Epgo_bias'></span><span id='topic+Epgo_L2'></span><span id='topic+Epgo_R2'></span>

<h3>Description</h3>

<p>In the case we do not only want do discount for overoptimistic results in phase II when calculating the sample size in phase III,
but also when deciding whether to go to phase III or not the functions <code>Epgo_L2</code> and <code>Epgo_R2</code> are necessary.
The function <code>Epgo_L2</code> uses an additive adjustment parameter (i.e. adjust the lower bound of the one-sided confidence interval),
the function <code>Epgo_R2</code> uses a multiplicative adjustment parameter (i.e. use estimate with a retention factor)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Epgo_L2(HRgo, d2, Adj, w, hr1, hr2, id1, id2, fixed)

Epgo_R2(HRgo, d2, Adj, w, hr1, hr2, id1, id2, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Epgo_bias_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_d2">d2</code></td>
<td>
<p>total number of events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Epgo_bias_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>Epgo_L2</code> and <code>Epgo_R2</code> is the expected probability to go to phase III with conservative decision rule and sample size calculation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Epgo_L2(HRgo = 0.8, d2 = 50, Adj = 0.4,  
                                w = 0.3, hr1 = 0.69, hr2 = 0.81, 
                                id1 = 280, id2 = 420, fixed = FALSE)
          res &lt;- Epgo_R2(HRgo = 0.8, d2 = 50, Adj = 0.9,  
                                w = 0.3, hr1 = 0.69, hr2 = 0.81, 
                                id1 = 280, id2 = 420, fixed = FALSE)
</code></pre>

<hr>
<h2 id='Epgo_bias_binary'>Expected probability to go to phase III for bias adjustment programs with binary distributed outcomes</h2><span id='topic+Epgo_bias_binary'></span><span id='topic+Epgo_binary_L2'></span><span id='topic+Epgo_binary_R2'></span>

<h3>Description</h3>

<p>In the case we do not only want do discount for overoptimistic results in phase II when calculating the sample size in phase III,
but also when deciding whether to go to phase III or not the functions <code>Epgo_binary_L2</code> and <code>Epgo_binary_R2</code> are necessary.
The function <code>Epgo_binary_L2</code> uses an additive adjustment parameter (i.e. adjust the lower bound of the one-sided confidence interval),
the function <code>Epgo_binary_R2</code> uses a multiplicative adjustment parameter (i.e. use estimate with a retention factor)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Epgo_binary_L2(RRgo, n2, Adj, p0, w, p11, p12, in1, in2, fixed)

Epgo_binary_R2(RRgo, n2, Adj, p0, w, p11, p12, in1, in2, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Epgo_bias_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="Epgo_bias_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>p11</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>Epgo_binary_L2</code> and <code>Epgo_binary_R2</code> is the expected number of participants in phase III with conservative decision rule and sample size calculation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Epgo_binary_L2(RRgo = 0.8, n2 = 50, Adj = 0,  p0 = 0.6,  w = 0.3,
                              p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                              fixed = FALSE)
          res &lt;- Epgo_binary_R2(RRgo = 0.8, n2 = 50, Adj = 1,  p0 = 0.6,  w = 0.3,
                              p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                              fixed = FALSE)
</code></pre>

<hr>
<h2 id='Epgo_bias_normal'>Expected probability to go to phase III for bias adjustment programs with normally distributed outcomes</h2><span id='topic+Epgo_bias_normal'></span><span id='topic+Epgo_normal_L2'></span><span id='topic+Epgo_normal_R2'></span>

<h3>Description</h3>

<p>In the case we do not only want do discount for overoptimistic results in phase II when calculating the sample size in phase III,
but also when deciding whether to go to phase III or not the functions <code>Epgo_normal_L2</code> and <code>Epgo_normal_R2</code> are necessary.
The function <code>Epgo_normal_L2</code> uses an additive adjustment parameter (i.e. adjust the lower bound of the one-sided confidence interval),
the function <code>Epgo_normal_R2</code> uses a multiplicative adjustment parameter (i.e. use estimate with a retention factor)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Epgo_normal_L2(kappa, n2, Adj, w, Delta1, Delta2, in1, in2, a, b, fixed)

Epgo_normal_R2(kappa, n2, Adj, w, Delta1, Delta2, in1, in2, a, b, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Epgo_bias_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="Epgo_bias_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>Epgo_normal_L2</code> and <code>Epgo_normal_R2</code> is the expected number of participants in phase III with conservative decision rule and sample size calculation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Epgo_normal_L2(kappa = 0.1, n2 = 50, Adj = 0, w = 0.3,
                               Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                               a = 0.25, b = 0.75, fixed = FALSE)
          res &lt;- Epgo_normal_R2(kappa = 0.1, n2 = 50, Adj = 1, w = 0.3,
                               Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                               a = 0.25, b = 0.75, fixed = FALSE)
</code></pre>

<hr>
<h2 id='Epgo_tte'>Expected probability to go to phase III for time-to-event outcomes</h2><span id='topic+Epgo_tte'></span>

<h3>Description</h3>

<p>Expected probability to go to phase III for time-to-event outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Epgo_tte(HRgo, d2, w, hr1, hr2, id1, id2, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Epgo_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Epgo_tte_+3A_d2">d2</code></td>
<td>
<p>total number of events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Epgo_tte_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_tte_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_tte_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Epgo_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Epgo_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Epgo_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>Epgo_tte()</code> is the expected probability to go to phase III.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Epgo_tte(HRgo = 0.8, d2 = 50,  
                                w = 0.3, hr1 = 0.69, hr2 = 0.81, 
                                id1 = 280, id2 = 420, fixed = FALSE)
</code></pre>

<hr>
<h2 id='Epgo23'>Expected probability to do third phase III trial</h2><span id='topic+Epgo23'></span>

<h3>Description</h3>

<p>In the setting of Case 2: Strategy 2/2( + 1); at least two trials significant (and the
treatment effect of the other one at least showing in the same direction) this function calculates the probability that a third phase III trial is necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Epgo23(HRgo, d2, alpha, beta, w, hr1, hr2, id1, id2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Epgo23_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_d2">d2</code></td>
<td>
<p>total number of events in phase II</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Epgo23_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>Epgo23()</code> is the probability to a third phase III trial.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Epgo23(HRgo = 0.8, d2 = 50,  w = 0.3, alpha = 0.025, beta = 0.1,
                               hr1 =  0.69, hr2 = 0.81, id1 = 280, id2 = 420)
</code></pre>

<hr>
<h2 id='Epgo23_binary'>Expected probability to do third phase III trial</h2><span id='topic+Epgo23_binary'></span>

<h3>Description</h3>

<p>In the setting of Case 2: Strategy 2/2( + 1); at least two trials significant (and the
treatment effect of the other one at least showing in the same direction) this function calculates the probability that a third phase III trial is necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Epgo23_binary(RRgo, n2, alpha, beta, p0, w, p11, p12, in1, in2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Epgo23_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="Epgo23_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>Epgo23_binary()</code> is the probability to a third phase III trial.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Epgo23_binary(RRgo = 0.8, n2 = 50,  p0 = 0.3, w = 0.3, alpha = 0.025, beta = 0.1,
                               p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600)
</code></pre>

<hr>
<h2 id='Epgo23_normal'>Expected probability to do third phase III trial</h2><span id='topic+Epgo23_normal'></span>

<h3>Description</h3>

<p>In the setting of Case 2: Strategy 2/2( + 1); at least two trials significant (and the
treatment effect of the other one at least showing in the same direction) this function calculates the probability that a third phase III trial is necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Epgo23_normal(kappa, n2, alpha, beta, a, b, w, Delta1, Delta2, in1, in2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Epgo23_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="Epgo23_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>Epgo23_normal()</code> is the probability to a third phase III trial.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Epgo23_normal(kappa = 0.1, n2 = 50, w = 0.3, alpha = 0.025, beta = 0.1, a = 0.25, b=0.75,
                               Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600)
</code></pre>

<hr>
<h2 id='EPsProg_bias'>Expected probability of a successful program for bias adjustment programs with time-to-event outcomes</h2><span id='topic+EPsProg_bias'></span><span id='topic+EPsProg_L'></span><span id='topic+EPsProg_L2'></span><span id='topic+EPsProg_R'></span><span id='topic+EPsProg_R2'></span>

<h3>Description</h3>

<p>To discount for overoptimistic results in phase II when calculating the optimal sample size in phase III,
it is necessary to use the following functions, which each describe a specific case:
</p>

<ul>
<li> <p><code>EPsProg_L()</code>: calculates the expected probability of a successful for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_L2()</code>: calculates the expected probability of a successful for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval)
when the go-decision is also affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_R()</code>: calculates the expected probability of a successful for a multiplicative adjustment factor (i.e. use estimate with a retention factor),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_R2()</code>: calculates the expected probability of a successful for a multiplicative adjustment factor (i.e. use estimate with a retention factor)
when the go-decision is also affected by the bias adjustment
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>EPsProg_L(
  HRgo,
  d2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  hr1,
  hr2,
  id1,
  id2,
  fixed
)

EPsProg_L2(
  HRgo,
  d2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  hr1,
  hr2,
  id1,
  id2,
  fixed
)

EPsProg_R(
  HRgo,
  d2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  hr1,
  hr2,
  id1,
  id2,
  fixed
)

EPsProg_R2(
  HRgo,
  d2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  hr1,
  hr2,
  id1,
  id2,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_bias_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_d2">d2</code></td>
<td>
<p>total events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg_bias_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>EPsProg_L()</code>, <code>EPsProg_L2()</code>, <code>EPsProg_R()</code> and <code>EPsProg_R2()</code> is the expected probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- EPsProg_L(HRgo = 0.8, d2 = 50, Adj = 0.4, 
                           alpha = 0.025, beta = 0.1, 
                           step1 = 1, step2 = 0.95, 
                           w = 0.3, hr1 = 0.69, hr2 = 0.81,
                           id1 = 280, id2 = 420, fixed = FALSE)
          res &lt;- EPsProg_L2(HRgo = 0.8, d2 = 50, Adj = 0.4, 
                           alpha = 0.025, beta = 0.1, 
                           step1 = 1, step2 = 0.95, 
                           w = 0.3, hr1 = 0.69, hr2 = 0.81,
                           id1 = 280, id2 = 420, fixed = FALSE)
          res &lt;- EPsProg_R(HRgo = 0.8, d2 = 50, Adj = 0.9, 
                           alpha = 0.025, beta = 0.1, 
                           step1 = 1, step2 = 0.95, 
                           w = 0.3, hr1 = 0.69, hr2 = 0.81,
                           id1 = 280, id2 = 420, fixed = FALSE)
          res &lt;- EPsProg_R2(HRgo = 0.8, d2 = 50, Adj = 0.9, 
                           alpha = 0.025, beta = 0.1, 
                           step1 = 1, step2 = 0.95, 
                           w = 0.3, hr1 = 0.69, hr2 = 0.81,
                           id1 = 280, id2 = 420, fixed = FALSE)
</code></pre>

<hr>
<h2 id='EPsProg_bias_binary'>Expected probability of a successful program for bias adjustment programs with binary distributed outcomes</h2><span id='topic+EPsProg_bias_binary'></span><span id='topic+EPsProg_binary_L'></span><span id='topic+EPsProg_binary_L2'></span><span id='topic+EPsProg_binary_R'></span><span id='topic+EPsProg_binary_R2'></span>

<h3>Description</h3>

<p>To discount for overoptimistic results in phase II when calculating the optimal sample size in phase III,
it is necessary to use the following functions, which each describe a specific case:
</p>

<ul>
<li> <p><code>EPsProg_binary_L()</code>: calculates the expected probability of a successful for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_binary_L2()</code>: calculates the expected probability of a successful for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval)
when the go-decision is also affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_binary_R()</code>: calculates the expected probability of a successful for a multiplicative adjustment factor (i.e. use estimate with a retention factor),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_binary_R2()</code>: calculates the expected probability of a successful for a multiplicative adjustment factor (i.e. use estimate with a retention factor)
when the go-decision is also affected by the bias adjustment
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>EPsProg_binary_L(
  RRgo,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  p0,
  w,
  p11,
  p12,
  in1,
  in2,
  fixed
)

EPsProg_binary_L2(
  RRgo,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  p0,
  w,
  p11,
  p12,
  in1,
  in2,
  fixed
)

EPsProg_binary_R(
  RRgo,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  p0,
  w,
  p11,
  p12,
  in1,
  in2,
  fixed
)

EPsProg_binary_R2(
  RRgo,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  p0,
  w,
  p11,
  p12,
  in1,
  in2,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_bias_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>p11</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>EPsProg_binary_L()</code>, <code>EPsProg_binary_L2()</code>, <code>EPsProg_binary_R()</code> and <code>EPsProg_binary_R2()</code> is the expected probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- EPsProg_binary_L(RRgo = 0.8, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, 
                                 step1 = 1, step2 = 0.95, p0 = 0.6,  w = 0.3,
                                 p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                                 fixed = FALSE)
          res &lt;- EPsProg_binary_L2(RRgo = 0.8, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, 
                                 step1 = 1, step2 = 0.95, p0 = 0.6,  w = 0.3,
                                 p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                                 fixed = FALSE)
          res &lt;- EPsProg_binary_R(RRgo = 0.8, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, 
                                 step1 = 1, step2 = 0.95, p0 = 0.6,  w = 0.3,
                                 p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                                 fixed = FALSE)
          res &lt;- EPsProg_binary_R2(RRgo = 0.8, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, 
                                 step1 = 1, step2 = 0.95, p0 = 0.6,  w = 0.3,
                                 p11 =  0.3, p12 = 0.5, in1 = 300, in2 = 600, 
                                 fixed = FALSE)
</code></pre>

<hr>
<h2 id='EPsProg_bias_normal'>Expected probability of a successful program for bias adjustment programs with normally distributed outcomes</h2><span id='topic+EPsProg_bias_normal'></span><span id='topic+EPsProg_normal_L'></span><span id='topic+EPsProg_normal_L2'></span><span id='topic+EPsProg_normal_R'></span><span id='topic+EPsProg_normal_R2'></span>

<h3>Description</h3>

<p>To discount for overoptimistic results in phase II when calculating the optimal sample size in phase III,
it is necessary to use the following functions, which each describe a specific case:
</p>

<ul>
<li> <p><code>EPsProg_normal_L()</code>: calculates the expected probability of a successful for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_normal_L2()</code>: calculates the expected probability of a successful for an additive adjustment factor (i.e. adjust the lower bound of the one-sided confidence interval)
when the go-decision is also affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_normal_R()</code>: calculates the expected probability of a successful for a multiplicative adjustment factor (i.e. use estimate with a retention factor),
however the go-decision is not affected by the bias adjustment
</p>
</li>
<li> <p><code>EPsProg_normal_R2()</code>: calculates the expected probability of a successful for a multiplicative adjustment factor (i.e. use estimate with a retention factor)
when the go-decision is also affected by the bias adjustment
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>EPsProg_normal_L(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)

EPsProg_normal_L2(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)

EPsProg_normal_R(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)

EPsProg_normal_R2(
  kappa,
  n2,
  Adj,
  alpha,
  beta,
  step1,
  step2,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_bias_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="EPsProg_bias_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>EPsProg_normal_L()</code>, <code>EPsProg_normal_L2()</code>, <code>EPsProg_normal_R()</code> and <code>EPsProg_normal_R2()</code> is the expected probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- EPsProg_normal_L(kappa = 0.1, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 step1 = 0, step2 = 0.5,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, fixed = FALSE)
          res &lt;- EPsProg_normal_L2(kappa = 0.1, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 step1 = 0, step2 = 0.5,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, fixed = FALSE)
          res &lt;- EPsProg_normal_R(kappa = 0.1, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 step1 = 0, step2 = 0.5,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, fixed = FALSE)
          res &lt;- EPsProg_normal_R2(kappa = 0.1, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 step1 = 0, step2 = 0.5,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, fixed = FALSE)
</code></pre>

<hr>
<h2 id='EPsProg_multiple_normal'>Expected probability of a successful program for multiple endpoints and normally distributed outcomes</h2><span id='topic+EPsProg_multiple_normal'></span>

<h3>Description</h3>

<p>This function calculates the probability that our drug development program is successful.
Successful is defined as both endpoints showing a statistically significant positive treatment effect in phase III.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EPsProg_multiple_normal(
  kappa,
  n2,
  alpha,
  beta,
  Delta1,
  Delta2,
  sigma1,
  sigma2,
  step11,
  step12,
  step21,
  step22,
  in1,
  in2,
  fixed,
  rho,
  rsamp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_multiple_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule;</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 1</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 2</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_step11">step11</code></td>
<td>
<p>lower boundary for effect size for first endpoint</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_step12">step12</code></td>
<td>
<p>lower boundary for effect size for second endpoint</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_step21">step21</code></td>
<td>
<p>upper boundary for effect size for first endpoint</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_step22">step22</code></td>
<td>
<p>upper boundary for effect size for second endpoint</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE then <code>Delta1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_normal_+3A_rsamp">rsamp</code></td>
<td>
<p>sample data set for Monte Carlo integration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>EPsProg_multiple_normal()</code> is the expected probability of a successfull program, when going to phase III.
</p>

<hr>
<h2 id='EPsProg_multiple_tte'>Expected probability of a successful program for multiple endpoints in a time-to-event setting</h2><span id='topic+EPsProg_multiple_tte'></span>

<h3>Description</h3>

<p>This function calculates the probability that our drug development program is successful.
Successful is defined as at least one endpoint showing a statistically significant positive treatment effect in phase III.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EPsProg_multiple_tte(
  HRgo,
  n2,
  alpha,
  beta,
  ec,
  hr1,
  hr2,
  id1,
  id2,
  step1,
  step2,
  fixed,
  rho,
  rsamp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_multiple_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule;</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_ec">ec</code></td>
<td>
<p>control arm event rate for phase II and III</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint OS</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint PFS</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="EPsProg_multiple_tte_+3A_rsamp">rsamp</code></td>
<td>
<p>sample data set for Monte Carlo integration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>EPsProg_multiple_tte()</code> is the expected probability of a successful program, when going to phase III.
</p>

<hr>
<h2 id='EPsProg_multitrial'>Expected probability of a successful program for multitrial programs in a time-to-event setting</h2><span id='topic+EPsProg_multitrial'></span><span id='topic+EPsProg2'></span><span id='topic+EPsProg3'></span><span id='topic+EPsProg4'></span>

<h3>Description</h3>

<p>These functions calculate the expected probability of a successful program given the parameters.
Each function represents a specific strategy, e.g. the function EpsProg3() calculates the expected probability if three phase III trials are performed.
The parameter case specifies how many of the trials have to be successful, i.e. how many trials show a significantly relevant positive treatment effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EPsProg2(HRgo, d2, alpha, beta, w, hr1, hr2, id1, id2, case, size, fixed)

EPsProg3(HRgo, d2, alpha, beta, w, hr1, hr2, id1, id2, case, size, fixed)

EPsProg4(HRgo, d2, alpha, beta, w, hr1, hr2, id1, id2, case, size, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_multitrial_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_d2">d2</code></td>
<td>
<p>total number of events in phase II</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_id1">id1</code></td>
<td>
<p>amount of information for hr1 in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_id2">id2</code></td>
<td>
<p>amount of information for hr2 in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_size">size</code></td>
<td>
<p>size category &quot;small&quot;, &quot;medium&quot; or &quot;large&quot;</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following cases can be investigated by the software:
</p>

<ul>
<li><p> Two phase III trials
</p>

<ul>
<li><p> Case 1: Strategy 1/2; at least one trial significant, the treatment effect of the other one at least showing in the same direction
</p>
</li>
<li><p> Case 2: Strategy 2/2; both trials significant
</p>
</li></ul>

</li>
<li><p> Three phase III trials
</p>

<ul>
<li><p> Case 2: Strategy 2/3; at least two trials significant, the treatment effect of the other one at least showing in the same direction
</p>
</li>
<li><p> Case 3: Strategy 3/3; all trials significant
</p>
</li></ul>

</li>
<li><p> Four phase III trials
</p>

<ul>
<li><p> Case 3: Strategy 3/4; at least three trials significant, the treatment effect of the other one at least showing in the same direction
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>The output of the function EPsProg2(), EPsProg3() and EPsProg4() is the expected probability of a successful program when performing several phase III trials (2, 3 or 4 respectively)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>EPsProg2(HRgo = 0.8, d2 = 50,  alpha = 0.025, beta = 0.1, 
                                 w = 0.3, hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 210, id2 = 420, case = 2, size = "small",
                                 fixed = FALSE)
          EPsProg3(HRgo = 0.8, d2 = 50,  alpha = 0.025, beta = 0.1, 
                                 w = 0.3, hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 210, id2 = 420, case = 2, size = "small",
                                 fixed = TRUE)
          EPsProg4(HRgo = 0.8, d2 = 50,  alpha = 0.025, beta = 0.1, 
                                 w = 0.3, hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 210, id2 = 420, case = 3, size = "small",
                                 fixed = TRUE)
</code></pre>

<hr>
<h2 id='EPsProg_multitrial_binary'>Expected probability of a successful program for multitrial programs with binary distributed outcomes</h2><span id='topic+EPsProg_multitrial_binary'></span><span id='topic+EPsProg2_binary'></span><span id='topic+EPsProg3_binary'></span><span id='topic+EPsProg4_binary'></span>

<h3>Description</h3>

<p>These functions calculate the expected probability of a successful program given the parameters.
Each function represents a specific strategy, e.g. the function EpsProg3_binary() calculates the expected probability if three phase III trials are performed.
The parameter case specifies how many of the trials have to be successful, i.e. how many trials show a significantly relevant positive treatment effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EPsProg2_binary(
  RRgo,
  n2,
  alpha,
  beta,
  p0,
  w,
  p11,
  p12,
  in1,
  in2,
  case,
  size,
  fixed
)

EPsProg3_binary(
  RRgo,
  n2,
  alpha,
  beta,
  p0,
  w,
  p11,
  p12,
  in1,
  in2,
  case,
  size,
  fixed
)

EPsProg4_binary(
  RRgo,
  n2,
  alpha,
  beta,
  p0,
  w,
  p11,
  p12,
  in1,
  in2,
  case,
  size,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_multitrial_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for p11 in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for p12 in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_size">size</code></td>
<td>
<p>size category &quot;small&quot;, &quot;medium&quot; or &quot;large&quot;</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following cases can be investigated by the software:
</p>

<ul>
<li><p> Two phase III trials
</p>

<ul>
<li><p> Case 1: Strategy 1/2; at least one trial significant, the treatment effect of the other one at least showing in the same direction
</p>
</li>
<li><p> Case 2: Strategy 2/2; both trials significant
</p>
</li></ul>

</li>
<li><p> Three phase III trials
</p>

<ul>
<li><p> Case 2: Strategy 2/3; at least two trials significant, the treatment effect of the other one at least showing in the same direction
</p>
</li>
<li><p> Case 3: Strategy 3/3; all trials significant
</p>
</li></ul>

</li>
<li><p> Four phase III trials
</p>

<ul>
<li><p> Case 3: Strategy 3/4; at least three trials significant, the treatment effect of the other one at least showing in the same direction
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>The output of the function EPsProg2_binary(), EPsProg3_binary() and EPsProg4_binary() is the expected probability of a successful program when performing several phase III trials (2, 3 or 4 respectively)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>EPsProg2_binary(RRgo = 0.8, n2 = 50,  alpha = 0.025, beta = 0.1, 
                                 p0 = 0.6,  w = 0.3, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, case = 2, size = "small",
                                 fixed = FALSE)
          EPsProg3_binary(RRgo = 0.8, n2 = 50,  alpha = 0.025, beta = 0.1, 
                                 p0 = 0.6,  w = 0.3, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, case = 2, size = "small",
                                 fixed = FALSE)
          EPsProg4_binary(RRgo = 0.8, n2 = 50,  alpha = 0.025, beta = 0.1, 
                                 p0 = 0.6,  w = 0.3, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, case = 3, size = "small",
                                 fixed = FALSE)
</code></pre>

<hr>
<h2 id='EPsProg_multitrial_normal'>Expected probability of a successful program for multitrial programs with normally distributed outcomes</h2><span id='topic+EPsProg_multitrial_normal'></span><span id='topic+EPsProg2_normal'></span><span id='topic+EPsProg3_normal'></span><span id='topic+EPsProg4_normal'></span>

<h3>Description</h3>

<p>These functions calculate the expected probability of a successful program given the parameters.
Each function represents a specific strategy, e.g. the function <code>EpsProg3_normal()</code> calculates the expected probability if three phase III trials are performed.
The parameter case specifies how many of the trials have to be successful, i.e. how many trials show a significantly relevant positive treatment effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EPsProg2_normal(
  kappa,
  n2,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  case,
  size,
  fixed
)

EPsProg3_normal(
  kappa,
  n2,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  case,
  size,
  fixed
)

EPsProg4_normal(
  kappa,
  n2,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  case,
  size,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_multitrial_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_size">size</code></td>
<td>
<p>size category <code>"small"</code>, <code>"medium"</code> or <code>"large"</code></p>
</td></tr>
<tr><td><code id="EPsProg_multitrial_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following cases can be investigated by the software:
</p>

<ul>
<li><p> Two phase III trials
</p>

<ul>
<li><p> Case 1: Strategy 1/2; at least one trial significant, the treatment effect of the other one at least showing in the same direction
</p>
</li>
<li><p> Case 2: Strategy 2/2; both trials significant
</p>
</li></ul>

</li>
<li><p> Three phase III trials
</p>

<ul>
<li><p> Case 2: Strategy 2/3; at least two trials significant, the treatment effect of the other one at least showing in the same direction
</p>
</li>
<li><p> Case 3: Strategy 3/3; all trials significant
</p>
</li></ul>

</li>
<li><p> Four phase III trials
</p>

<ul>
<li><p> Case 3: Strategy 3/4; at least three trials significant, the treatment effect of the other one at least showing in the same direction
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>The output of the function <code>EPsProg2_normal()</code>, <code>EPsProg3_normal()</code> and <code>EPsProg4_normal()</code> is the expected probability of a successful program when performing several phase III trials (2, 3 or 4 respectively).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>EPsProg2_normal(kappa = 0.1, n2 = 50, alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 case = 2, size = "small", fixed = FALSE)
          EPsProg3_normal(kappa = 0.1, n2 = 50, alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 case = 2, size = "small", fixed = TRUE)
          EPsProg4_normal(kappa = 0.1, n2 = 50, alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 case = 3, size = "small", fixed = TRUE)                      
</code></pre>

<hr>
<h2 id='EPsProg_tte'>Expected probability of a successful program for time-to-event outcomes</h2><span id='topic+EPsProg_tte'></span>

<h3>Description</h3>

<p>Expected probability of a successful program for time-to-event outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EPsProg_tte(
  HRgo,
  d2,
  alpha,
  beta,
  step1,
  step2,
  w,
  hr1,
  hr2,
  id1,
  id2,
  gamma,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_d2">d2</code></td>
<td>
<p>total events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_gamma">gamma</code></td>
<td>
<p>difference in treatment effect due to different population structures in phase II and III</p>
</td></tr>
<tr><td><code id="EPsProg_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>EPsProg_tte()</code> is the expected probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- EPsProg_tte(HRgo = 0.8, d2 = 50, 
                           alpha = 0.025, beta = 0.1, 
                           step1 = 1, step2 = 0.95, 
                           w = 0.3, hr1 = 0.69, hr2 = 0.81,
                           id1 = 280, id2 = 420,
                           gamma = 0, fixed = FALSE)
</code></pre>

<hr>
<h2 id='EPsProg23'>Expected probability of a successful program deciding between two or three phase III trials in a time-to-event setting</h2><span id='topic+EPsProg23'></span>

<h3>Description</h3>

<p>The function <code>EPsProg23()</code> calculates the expected probability of a successful program
in a time-to-event setting. This function follows a special decision rule in order to determine
whether two or three phase III trials should be conducted. First, two phase III trials are performed. Depending
on their success, the decision for a third phase III trial is made:
</p>

<ul>
<li><p> If both trials are successful, no third phase III trial will be conducted.
</p>
</li>
<li><p> If only one of the two trials is successful and the other trial has a treatment effect that points in the same direction,
a third phase III trial will be conducted with a sample size of N3 = N3(ymin), which depends on an assumed minimal clinical relevant effect (<code>ymin</code>).
The third trial then has to be significant at level <code>alpha</code>
</p>
</li>
<li><p> If only one of the two trials is successful and the treatment effect of the other points in opposite direction or
if none of the two trials are successful, then no third trial is performed and the drug development development program is not successful.
In the utility function, this will lead to a utility of -9999.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>EPsProg23(HRgo, d2, alpha, beta, w, hr1, hr2, id1, id2, case, size, ymin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg23_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_d2">d2</code></td>
<td>
<p>total number of events in phase II</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_size">size</code></td>
<td>
<p>size category <code>"small"</code>, <code>"medium"</code> or <code>"large"</code></p>
</td></tr>
<tr><td><code id="EPsProg23_+3A_ymin">ymin</code></td>
<td>
<p>assumed minimal clinical relevant effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>EPsProg23()</code> is the expected probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- EPsProg23(HRgo = 0.8, d2 = 50,  alpha = 0.025, beta = 0.1, 
                                  w = 0.3, hr1 =  0.69, hr2 = 0.81, 
                                  id1 = 280, id2 = 420, case = 2, size = "small",
                                  ymin = 0.5)
</code></pre>

<hr>
<h2 id='EPsProg23_binary'>Expected probability of a successful program deciding between two or three phase III trials for a binary distributed outcome</h2><span id='topic+EPsProg23_binary'></span>

<h3>Description</h3>

<p>The function <code>EPsProg23_binary()</code> calculates the expected probability of a successful program
with a normally distributed outcome. This function follows a special decision rule in order to determine
whether two or three phase III trials should be conducted. First, two phase III trials are performed. Depending
on their success, the decision for a third phase III trial is made:
</p>

<ul>
<li><p> If both trials are successful, no third phase III trial will be conducted.
</p>
</li>
<li><p> If only one of the two trials is successful and the other trial has a treatment effect that points in the same direction,
a third phase III trial will be conducted with a sample size of N3 = N3(ymin), which depends on an assumed minimal clinical relevant effect (<code>ymin</code>).
The third trial then has to be significant at level <code>alpha</code>
</p>
</li>
<li><p> If only one of the two trials is successful and the treatment effect of the other points in opposite direction or
if none of the two trials are successful, then no third trial is performed and the drug development development program is not successful.
In the utility function, this will lead to a utility of -9999.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>EPsProg23_binary(
  RRgo,
  n2,
  alpha,
  beta,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  case,
  size,
  ymin
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg23_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_size">size</code></td>
<td>
<p>size category <code>"small"</code>, <code>"medium"</code> or <code>"large"</code></p>
</td></tr>
<tr><td><code id="EPsProg23_binary_+3A_ymin">ymin</code></td>
<td>
<p>assumed minimal clinical relevant effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>EPsProg23_binary()</code> is the expected probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- EPsProg23_binary(RRgo = 0.8, n2 = 50,  alpha = 0.025, beta = 0.1, 
                                 w = 0.6,  p0 = 0.3, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, case = 2, size = "small",
                                 ymin = 0.5)
</code></pre>

<hr>
<h2 id='EPsProg23_normal'>Expected probability of a successful program deciding between two or three phase III trials for a normally distributed outcome</h2><span id='topic+EPsProg23_normal'></span>

<h3>Description</h3>

<p>The function <code>EPsProg23_normal()</code> calculates the expected probability of a successful program
with a normally distributed outcome. This function follows a special decision rule in order to determine
whether two or three phase III trials should be conducted. First, two phase III trials are performed. Depending
on their success, the decision for a third phase III trial is made:
</p>

<ul>
<li><p> If both trials are successful, no third phase III trial will be conducted.
</p>
</li>
<li><p> If only one of the two trials is successful and the other trial has a treatment effect that points in the same direction,
a third phase III trial will be conducted with a sample size of N3 = N3(ymin), which depends on an assumed minimal clinical relevant effect (<code>ymin</code>).
The third trial then has to be significant at level <code>alpha</code>
</p>
</li>
<li><p> If only one of the two trials is successful and the treatment effect of the other points in opposite direction or
if none of the two trials are successful, then no third trial is performed and the drug development development program is not successful.
In the utility function, this will lead to a utility of -9999.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>EPsProg23_normal(
  kappa,
  n2,
  alpha,
  beta,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  case,
  size,
  ymin
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EPsProg23_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_beta">beta</code></td>
<td>
<p>type II error rate; this means that 1 - <code>beta</code> is the power for calculating the sample size for phase III</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_w">w</code></td>
<td>
<p>weight for the mixture prior distribution</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for the standardized difference in means</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for the standardized difference in means</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_case">case</code></td>
<td>
<p>number of significant trials needed for approval; possible values are 2 and 3 for this function</p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_size">size</code></td>
<td>
<p>effect size category; possible values are <code>"small"</code>, <code>"medium"</code>, <code>"large"</code> and <code>"all"</code></p>
</td></tr>
<tr><td><code id="EPsProg23_normal_+3A_ymin">ymin</code></td>
<td>
<p>assumed minimal clinical relevant effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>EPsProg23_normal()</code> is the expected probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>EPsProg23_normal(kappa = 0.1, n2 = 50, alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 case = 2, size = "small", ymin = 0.5)
</code></pre>

<hr>
<h2 id='Ess_binary'>Expected sample size for phase III for multiarm programs with binary distributed outcomes</h2><span id='topic+Ess_binary'></span>

<h3>Description</h3>

<p>Given phase II results are promising enough to get the &quot;go&quot;-decision to go to phase III this function now calculates the expected sample size for phase III given the cases and strategies listed below.
The results of this function are necessary for calculating the utility of the program, which is then in a further step maximized by the <code>optimal_multiarm_binary()</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Ess_binary(RRgo, n2, alpha, beta, p0, p11, p12, strategy, case)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ess_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;) or 3 (both)</p>
</td></tr>
<tr><td><code id="Ess_binary_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the function Ess_binary() returns the expected sample size for phase III when going to phase III
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Ess_binary(RRgo = 0.8 ,n2 = 50 ,alpha = 0.05, beta = 0.1,
                            p0 = 0.6, p11 =  0.3, p12 = 0.5,strategy = 3, case = 31)
</code></pre>

<hr>
<h2 id='Ess_multiple_normal'>Expected sample size for phase III for multiple endpoints with normally distributed outcomes</h2><span id='topic+Ess_multiple_normal'></span>

<h3>Description</h3>

<p>Given phase II results are promising enough to get the &quot;go&quot;-decision to go to phase III this function now calculates the expected sample size for phase III.
The results of this function are necessary for calculating the utility of the program, which is then in a further step maximized by the <code>optimal_multiple_normal()</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Ess_multiple_normal(
  kappa,
  n2,
  alpha,
  beta,
  Delta1,
  Delta2,
  in1,
  in2,
  sigma1,
  sigma2,
  fixed,
  rho,
  rsamp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ess_multiple_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule; vector for both endpoints</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 1</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 2</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for Delta1 in terms of sample size</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for Delta2 in terms of sample size</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE Delta1 is used as fixed effect</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="Ess_multiple_normal_+3A_rsamp">rsamp</code></td>
<td>
<p>sample data set for Monte Carlo integration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the output of the function Ess_multiple_normal is the expected number of participants in phase III
</p>

<hr>
<h2 id='Ess_multiple_tte'>Expected sample size for phase III for multiple endpoints with normally distributed outcomes</h2><span id='topic+Ess_multiple_tte'></span>

<h3>Description</h3>

<p>Given phase II results are promising enough to get the &quot;go&quot;-decision to go to phase III this function now calculates the expected sample size for phase III.
The results of this function are necessary for calculating the utility of the program, which is then in a further step maximized by the <code>optimal_multiple_tte()</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Ess_multiple_tte(HRgo, n2, alpha, beta, hr1, hr2, id1, id2, fixed, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ess_multiple_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule;</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_alpha">alpha</code></td>
<td>
<p>one- sided significance level</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of the number of events for phase III by Schoenfeld (1981) formula</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint OS</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint PFS</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
<tr><td><code id="Ess_multiple_tte_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the output of the function <code>Ess_multiple_tte()</code> is the expected number of participants in phase III
</p>

<hr>
<h2 id='Ess_normal'>Expected sample size for phase III for multiarm programs with normally distributed outcomes</h2><span id='topic+Ess_normal'></span>

<h3>Description</h3>

<p>Given phase II results are promising enough to get the &quot;go&quot;-decision to go to phase III this function now calculates the expected sample size for phase III given the cases and strategies listed below.
The results of this function are necessary for calculating the utility of the program, which is then in a further step maximized by the <code>optimal_multiarm_normal()</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Ess_normal(kappa, n2, alpha, beta, Delta1, Delta2, strategy, case)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ess_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Ess_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Ess_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Ess_normal_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Ess_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="Ess_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="Ess_normal_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;) or 3 (both)</p>
</td></tr>
<tr><td><code id="Ess_normal_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function Ess_normal() returns the expected sample size for phase III when going to phase III when outcomes are normally distributed and we consider multiarm programs, i.e. several phase III trials with different doses or different treatments are performed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Ess_normal(kappa = 0.1 ,n2 = 50 ,alpha = 0.05, beta = 0.1,
                            Delta1 = 0.375, Delta2 = 0.625, strategy = 3, case = 31)
</code></pre>

<hr>
<h2 id='Ess_tte'>Expected sample size for phase III for multiarm programs with time-to-event outcomes</h2><span id='topic+Ess_tte'></span>

<h3>Description</h3>

<p>Given phase II results are promising enough to get the &quot;go&quot;-decision to go to phase III this function now calculates the expected sample size for phase III given the cases and strategies listed below.
The results of this function are necessary for calculating the utility of the program, which is then in a further step maximized by the <code>optimal_multiarm()</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Ess_tte(HRgo, n2, alpha, beta, ec, hr1, hr2, strategy, case)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ess_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_ec">ec</code></td>
<td>
<p>control arm event rate for phase II and III</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 1</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 2</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;) or 3 (both)</p>
</td></tr>
<tr><td><code id="Ess_tte_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the function Ess_tte() returns the expected sample size for phase III when going to phase III
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- Ess_tte(HRgo = 0.8 ,n2 = 50 ,alpha = 0.05, beta = 0.1,
                            ec = 0.6, hr1 = 0.7, hr2 = 0.8, strategy = 2, case = 21)
</code></pre>

<hr>
<h2 id='fmax'>Density for the maximum of two normally distributed random variables</h2><span id='topic+fmax'></span>

<h3>Description</h3>

<p>The function <code>fmax()</code> will return the value of f(z), which is the value of the density function of the
maximum of two normally distributed random variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmax(z, mu1, mu2, sigma1, sigma2, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmax_+3A_z">z</code></td>
<td>
<p>integral variable</p>
</td></tr>
<tr><td><code id="fmax_+3A_mu1">mu1</code></td>
<td>
<p>mean of second endpoint</p>
</td></tr>
<tr><td><code id="fmax_+3A_mu2">mu2</code></td>
<td>
<p>mean of first endpoint</p>
</td></tr>
<tr><td><code id="fmax_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="fmax_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="fmax_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Z = max(X,Y) with X ~ N(mu1,sigma1^2), Y ~ N(mu2,sigma2^2)
</p>
<p>f(z)=f1(-z)+f2(-z)
</p>


<h3>Value</h3>

<p>The function <code>fmax()</code> will return the value of f(z), which is the value of the density function of the
maximum of two normally distributed random variables.
</p>

<hr>
<h2 id='fmin'>Density for the minimum of two normally distributed random variables</h2><span id='topic+fmin'></span>

<h3>Description</h3>

<p>The function <code>fmin()</code> will return the value of f(z), which is the value of the density function of the
minimum of two normally distributed random variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmin(y, mu1, mu2, sigma1, sigma2, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmin_+3A_y">y</code></td>
<td>
<p>integral variable</p>
</td></tr>
<tr><td><code id="fmin_+3A_mu1">mu1</code></td>
<td>
<p>mean of second endpoint</p>
</td></tr>
<tr><td><code id="fmin_+3A_mu2">mu2</code></td>
<td>
<p>mean of first endpoint</p>
</td></tr>
<tr><td><code id="fmin_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="fmin_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="fmin_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Z= min(X,Y) with X ~ N(mu1,sigma1^2), Y ~ N(mu2,sigma2^2)
</p>
<p>f(z)=f1(z)+f2(z)
</p>


<h3>Value</h3>

<p>The function <code>fmin()</code> will return the value of f(z), which is the value of the density function of the
minimum of two normally distributed random variables.
</p>

<hr>
<h2 id='get_sample_multiple_normal'>Generate sample for Monte Carlo integration in the multiple setting</h2><span id='topic+get_sample_multiple_normal'></span>

<h3>Description</h3>

<p>Generate sample for Monte Carlo integration in the multiple setting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sample_multiple_normal(Delta1, Delta2, in1, in2, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_sample_multiple_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 1</p>
</td></tr>
<tr><td><code id="get_sample_multiple_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 2</p>
</td></tr>
<tr><td><code id="get_sample_multiple_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="get_sample_multiple_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="get_sample_multiple_normal_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a randomly generated data frame
</p>

<hr>
<h2 id='get_sample_multiple_tte'>Generate sample for Monte Carlo integration in the multiple setting</h2><span id='topic+get_sample_multiple_tte'></span>

<h3>Description</h3>

<p>Generate sample for Monte Carlo integration in the multiple setting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sample_multiple_tte(hr1, hr2, id1, id2, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_sample_multiple_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint OS</p>
</td></tr>
<tr><td><code id="get_sample_multiple_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint PFS</p>
</td></tr>
<tr><td><code id="get_sample_multiple_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="get_sample_multiple_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="get_sample_multiple_tte_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a randomly generated data frame
</p>

<hr>
<h2 id='optimal_bias'>Optimal phase II/III drug development planning for time-to-event endpoints
when discounting phase II results</h2><span id='topic+optimal_bias'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_bias">optimal_bias</a></code> of the drugdevelopR package enables planning of phase II/III drug development programs with optimal sample size allocation and go/no-go decision rules including methods for discounting of phase II results for time-to-event endpoints (Preussler et. al, 2020).
The discounting may be necessary as programs that proceed to phase III can be overoptimistic about the treatment effect (i.e. they are biased).
The assumed true treatment effects can be assumed fixed (planning is then also possible via user friendly R Shiny App: <a href="https://web.imbi.uni-heidelberg.de/bias/">bias</a>) or modelled by a prior distribution.
The R Shiny application <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior distributions used in this package.
Fast computing is enabled by parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_bias(
  w,
  hr1,
  hr2,
  id1,
  id2,
  d2min,
  d2max,
  stepd2,
  hrgomin,
  hrgomax,
  stephrgo,
  adj = "both",
  lambdamin = NULL,
  lambdamax = NULL,
  steplambda = NULL,
  alphaCImin = NULL,
  alphaCImax = NULL,
  stepalphaCI = NULL,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_bias_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior
distribution, see the <a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html">vignette on priors</a>
as well as the <a href="https://web.imbi.uni-heidelberg.de/prior/">Shiny app</a> for
more details concerning the definition of a prior distribution.</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_d2min">d2min</code></td>
<td>
<p>minimal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_d2max">d2max</code></td>
<td>
<p>maximal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_stepd2">stepd2</code></td>
<td>
<p>stepsize for the optimization over <code>d2</code></p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_hrgomin">hrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_hrgomax">hrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_stephrgo">stephrgo</code></td>
<td>
<p>stepsize for the optimization over HRgo</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_adj">adj</code></td>
<td>
<p>choose type of adjustment: <code>"multiplicative"</code>,
<code>"additive"</code>, <code>"both"</code> or <code>"all"</code>. When using &quot;both&quot;,
<code>res[1,]</code> contains the results using the multiplicative method and <code>res[2,]</code>
contains the results using the additive method. When using &quot;all&quot;, there are
also <code>res[3,]</code> and <code>res[4,]</code>, containing the results of a multiplicative
and an additive method which do not only adjust the treatment effect but
also the threshold value for the decision rule.</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_lambdamin">lambdamin</code></td>
<td>
<p>minimal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_lambdamax">lambdamax</code></td>
<td>
<p>maximal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_steplambda">steplambda</code></td>
<td>
<p>stepsize for the adjustment parameter lambda</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_alphacimin">alphaCImin</code></td>
<td>
<p>minimal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_alphacimax">alphaCImax</code></td>
<td>
<p>maximal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_stepalphaci">stepalphaCI</code></td>
<td>
<p>stepsize for alphaCI</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of the number of events for phase III by Schoenfeld (1981) formula</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_xi2">xi2</code></td>
<td>
<p>event rate for phase II</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g., no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g., no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in HR scale = upper boundary for effect size category &quot;small&quot; in HR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in HR scale = upper boundary for effect size category &quot;medium&quot; in HR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE hr1 is used as fixed effect</p>
</td></tr>
<tr><td><code id="optimal_bias_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Method</dt><dd><p>Type of adjustment: &quot;multipl.&quot; (multiplicative adjustment of effect size), &quot;add.&quot; (additive adjustment of effect size), &quot;multipl2.&quot; (multiplicative adjustment of effect size and threshold), &quot;add2.&quot; (additive adjustment of effect size and threshold)</p>
</dd>
<dt>Adj</dt><dd><p>optimal adjustment parameter (lambda or alphaCI according to Method)</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>HRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd>
<dt>d2</dt><dd><p>optimal total number of events for phase II</p>
</dd>
<dt>d3</dt><dd><p>total expected number of events for phase III; rounded to next natural number</p>
</dd>
<dt>d</dt><dd><p>total expected number of events in the program; d = d2 + d3</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>
<p>Preussler, S., Kirchner, M., Goette, H., Kieser, M. (2020). Optimal designs for phase II/III drug development programs including methods for discounting of phase II results. Submitted to peer-review journal.
</p>
<p>Schoenfeld, D. (1981). The asymptotic properties of nonparametric tests for comparing survival distributions. Biometrika, 68(1), 316-319.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: 
progressr::handlers(global = TRUE)

## End(Not run)
# Optimize

optimal_bias(w = 0.3,                       # define parameters for prior
  hr1 = 0.69, hr2 = 0.88, id1 = 210, id2 = 420,      # (https://web.imbi.uni-heidelberg.de/prior/)
  d2min = 20, d2max = 100, stepd2 = 5,               # define optimization set for d2
  hrgomin = 0.7, hrgomax = 0.9, stephrgo = 0.05,     # define optimization set for HRgo
  adj = "both",                                      # choose type of adjustment
  lambdamin = 0.2, lambdamax = 1, steplambda = 0.05, # define optimization set for lambda
  alphaCImin = 0.025, alphaCImax = 0.5,
  stepalphaCI = 0.025,                               # define optimization set for alphaCI
  alpha = 0.025, beta = 0.1, xi2 = 0.7, xi3 = 0.7,   # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,           # fixed/variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                        # set constraints
  steps1 = 1,                                        # define lower boundary for "small"
  stepm1 = 0.95,                                     # "medium"
  stepl1 = 0.85,                                     # and "large" effect size categories
  b1 = 1000, b2 = 2000, b3 = 3000,                   # define expected benefits 
  fixed = FALSE,                                     # true treatment effects are fixed/random
  num_cl = 1)                                        # number of coresfor parallelized computing 
  
</code></pre>

<hr>
<h2 id='optimal_bias_binary'>Optimal phase II/III drug development planning when discounting phase II results with binary endpoint</h2><span id='topic+optimal_bias_binary'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_bias_binary">optimal_bias_binary</a></code> of the drugdevelopR package enables planning of phase II/III drug development programs with optimal sample size allocation and go/no-go decision rules including methods for discounting of phase II results for binary endpoints (Preussler et. al, 2020).
The discounting may be necessary as programs that proceed to phase III can be overoptimistic about the treatment effect (i.e. they are biased).
The assumed true treatment effects can be assumed fixed or modelled by a prior distribution.
The R Shiny application <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior distributions used in this package.
Fast computing is enabled by parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_bias_binary(
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  n2min,
  n2max,
  stepn2,
  rrgomin,
  rrgomax,
  steprrgo,
  adj = "both",
  lambdamin = NULL,
  lambdamax = NULL,
  steplambda = NULL,
  alphaCImin = NULL,
  alphaCImax = NULL,
  stepalphaCI = NULL,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_bias_binary_+3A_w">w</code></td>
<td>
<p>weight for <a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_rrgomin">rrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_rrgomax">rrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_steprrgo">steprrgo</code></td>
<td>
<p>step size for the optimization over RRgo</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_adj">adj</code></td>
<td>
<p>choose type of adjustment: <code>"multiplicative"</code>,
<code>"additive"</code>, <code>"both"</code> or <code>"all"</code>. When using &quot;both&quot;,
<code>res[1,]</code> contains the results using the multiplicative method and <code>res[2,]</code>
contains the results using the additive method. When using &quot;all&quot;, there are
also <code>res[3,]</code> and <code>res[4,]</code>, containing the results of a multiplicative
and an additive method which do not only adjust the treatment effect but
also the threshold value for the decision rule.</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_lambdamin">lambdamin</code></td>
<td>
<p>minimal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_lambdamax">lambdamax</code></td>
<td>
<p>maximal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_steplambda">steplambda</code></td>
<td>
<p>stepsize for the adjustment parameter lambda</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_alphacimin">alphaCImin</code></td>
<td>
<p>minimal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_alphacimax">alphaCImax</code></td>
<td>
<p>maximal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_stepalphaci">stepalphaCI</code></td>
<td>
<p>stepsize for alphaCI</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE p11 is used as fixed effect for p1</p>
</td></tr>
<tr><td><code id="optimal_bias_binary_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Method</dt><dd><p>Type of adjustment: &quot;multipl.&quot; (multiplicative adjustment of effect size), &quot;add.&quot; (additive adjustment of effect size), &quot;multipl2.&quot; (multiplicative adjustment of effect size and threshold), &quot;add2.&quot; (additive adjustment of effect size and threshold)</p>
</dd>
<dt>Adj</dt><dd><p>optimal adjustment parameter (lambda or alphaCI according to Method)</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>RRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_bias_binary(w = 0.3,                 # define parameters for prior
  p0 = 0.6, p11 =  0.3, p12 = 0.5,
  in1 = 30, in2 = 60,                                 # (https://web.imbi.uni-heidelberg.de/prior/)
  n2min = 20, n2max = 100, stepn2 = 10,               # define optimization set for n2
  rrgomin = 0.7, rrgomax = 0.9, steprrgo = 0.05,      # define optimization set for RRgo
  adj = "both",                                       # choose type of adjustment
  alpha = 0.025, beta = 0.1,                          # drug development planning parameters
  lambdamin = 0.2, lambdamax = 1, steplambda = 0.05,  # define optimization set for lambda
  alphaCImin = 0.025, alphaCImax = 0.5,
  stepalphaCI = 0.025,                                # define optimization set for alphaCI
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,            # fixed and variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                         # set constraints
  steps1 = 1,                                         # define lower boundary for "small"
  stepm1 = 0.95,                                      # "medium"
  stepl1 = 0.85,                                      # and "large" effect size categories
  b1 = 1000, b2 = 2000, b3 = 3000,                    # define expected benefits
  fixed = TRUE,                                       # true treatment effects are fixed/random
  num_cl = 1)                                         # number of cores for parallelized computing
  

</code></pre>

<hr>
<h2 id='optimal_bias_generic'>Generic function for optimizing drug development programs with bias adjustment</h2><span id='topic+optimal_bias_generic'></span>

<h3>Description</h3>

<p>Generic function for optimizing drug development programs with bias adjustment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_bias_generic(
  adj = "both",
  lambdamin = NULL,
  lambdamax = NULL,
  steplambda = NULL,
  alphaCImin = NULL,
  alphaCImax = NULL,
  stepalphaCI = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_bias_generic_+3A_adj">adj</code></td>
<td>
<p>choose type of adjustment: <code>"multiplicative"</code>,
<code>"additive"</code>, <code>"both"</code> or <code>"all"</code>. When using &quot;both&quot;,
<code>res[1,]</code> contains the results using the multiplicative method and <code>res[2,]</code>
contains the results using the additive method. When using &quot;all&quot;, there are
also <code>res[3,]</code> and <code>res[4,]</code>, containing the results of a multiplicative
and an additive method which do not only adjust the treatment effect but
also the threshold value for the decision rule.</p>
</td></tr>
<tr><td><code id="optimal_bias_generic_+3A_lambdamin">lambdamin</code></td>
<td>
<p>minimal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_generic_+3A_lambdamax">lambdamax</code></td>
<td>
<p>maximal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_generic_+3A_steplambda">steplambda</code></td>
<td>
<p>stepsize for the adjustment parameter lambda</p>
</td></tr>
<tr><td><code id="optimal_bias_generic_+3A_alphacimin">alphaCImin</code></td>
<td>
<p>minimal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_generic_+3A_alphacimax">alphaCImax</code></td>
<td>
<p>maximal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_generic_+3A_stepalphaci">stepalphaCI</code></td>
<td>
<p>stepsize for alphaCI</p>
</td></tr>
</table>

<hr>
<h2 id='optimal_bias_normal'>Optimal phase II/III drug development planning when discounting phase II results with normally distributed endpoint</h2><span id='topic+optimal_bias_normal'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_bias_normal">optimal_bias_normal</a></code> of the drugdevelopR package enables planning of phase II/III drug development programs with optimal sample size allocation and go/no-go decision rules including methods for discounting of phase II results for normally distributed endpoints (Preussler et. al, 2020).
The discounting may be necessary as programs that proceed to phase III can be overoptimistic about the treatment effect (i.e. they are biased).
The assumed true treatment effects can be assumed fixed or modelled by a prior distribution.
The R Shiny application <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior distributions used in this package.
Fast computing is enabled by parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_bias_normal(
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  n2min,
  n2max,
  stepn2,
  kappamin,
  kappamax,
  stepkappa,
  adj = "both",
  lambdamin = NULL,
  lambdamax = NULL,
  steplambda = NULL,
  alphaCImin = NULL,
  alphaCImax = NULL,
  stepalphaCI = NULL,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 0,
  stepm1 = 0.5,
  stepl1 = 0.8,
  b1,
  b2,
  b3,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_bias_normal_+3A_w">w</code></td>
<td>
<p>weight for
<a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_kappamin">kappamin</code></td>
<td>
<p>minimal threshold value kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_kappamax">kappamax</code></td>
<td>
<p>maximal threshold value  kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_stepkappa">stepkappa</code></td>
<td>
<p>step size for the optimization over the threshold value kappa</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_adj">adj</code></td>
<td>
<p>choose type of adjustment: <code>"multiplicative"</code>,
<code>"additive"</code>, <code>"both"</code> or <code>"all"</code>. When using &quot;both&quot;,
<code>res[1,]</code> contains the results using the multiplicative method and <code>res[2,]</code>
contains the results using the additive method. When using &quot;all&quot;, there are
also <code>res[3,]</code> and <code>res[4,]</code>, containing the results of a multiplicative
and an additive method which do not only adjust the treatment effect but
also the threshold value for the decision rule.</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_lambdamin">lambdamin</code></td>
<td>
<p>minimal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_lambdamax">lambdamax</code></td>
<td>
<p>maximal multiplicative adjustment parameter lambda (i.e. use estimate with a retention factor)</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_steplambda">steplambda</code></td>
<td>
<p>stepsize for the adjustment parameter lambda</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_alphacimin">alphaCImin</code></td>
<td>
<p>minimal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_alphacimax">alphaCImax</code></td>
<td>
<p>maximal additive adjustment parameter alphaCI (i.e. adjust the lower bound of the one-sided confidence interval)</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_stepalphaci">stepalphaCI</code></td>
<td>
<p>stepsize for alphaCI</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot;, default: 0</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; = upper boundary for effect size category &quot;small&quot; default: 0.5</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; = upper boundary for effect size category &quot;medium&quot;, default: 0.8</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or following a prior distribution, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="optimal_bias_normal_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Method</dt><dd><p>Type of adjustment: &quot;multipl.&quot; (multiplicative adjustment of effect size), &quot;add.&quot; (additive adjustment of effect size), &quot;multipl2.&quot; (multiplicative adjustment of effect size and threshold), &quot;add2.&quot; (additive adjustment of effect size and threshold)</p>
</dd>
<dt>Adj</dt><dd><p>optimal adjustment parameter (lambda or alphaCI according to Method)</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>Kappa</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>Cohen, J. (1988). Statistical power analysis for the behavioral sciences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_bias_normal(w=0.3,             # define parameters for prior
  Delta1 = 0.375, Delta2 = 0.625, in1=300, in2=600,    # (https://web.imbi.uni-heidelberg.de/prior/)
  a = 0.25, b = 0.75,
  n2min = 20, n2max = 100, stepn2 = 10,                # define optimization set for n2
  kappamin = 0.02, kappamax = 0.2, stepkappa = 0.02,   # define optimization set for kappa
  adj = "both",                                        # choose type of adjustment
  lambdamin = 0.2, lambdamax = 1, steplambda = 0.05,   # define optimization set for lambda
  alphaCImin = 0.025, alphaCImax = 0.5,
  stepalphaCI = 0.025,                                 # define optimization set for alphaCI
  alpha = 0.025, beta = 0.1,                           # drug development planning parameters
  c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,           # fixed and variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                          # set constraints
  steps1 = 0,                                          # define lower boundary for "small"
  stepm1 = 0.5,                                        # "medium"
  stepl1 = 0.8,                                        # and "large" effect size categories
  b1 = 3000, b2 = 8000, b3 = 10000,                    # define expected benefits
  fixed = TRUE,                                        # true treatment effects are fixed/random
  num_cl = 1)                                          # number of coresfor parallelized computing 
                                          
</code></pre>

<hr>
<h2 id='optimal_binary'>Optimal phase II/III drug development planning with binary endpoint</h2><span id='topic+optimal_binary'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+optimal_binary">optimal_binary</a></code> function of the drugdevelopR package enables
planning of phase II/III drug development programs with optimal sample size
allocation and go/no-go decision rules for binary endpoints. In this case,
the treatment effect is measured by the risk ratio (RR). The assumed true
treatment effects can be assumed to be fixed or modelled by a prior
distribution. The R Shiny application
<a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior
distributions used in this package. Fast computing is enabled by parallel
programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_binary(
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  n2min,
  n2max,
  stepn2,
  rrgomin,
  rrgomax,
  steprrgo,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  gamma = 0,
  fixed = FALSE,
  skipII = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_binary_+3A_w">w</code></td>
<td>
<p>weight for <a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_rrgomin">rrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_rrgomax">rrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_steprrgo">steprrgo</code></td>
<td>
<p>step size for the optimization over RRgo</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_gamma">gamma</code></td>
<td>
<p>to model different populations in phase II and III choose <code>gamma != 0</code>, default: 0, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE p11 is used as fixed effect for p1</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_skipii">skipII</code></td>
<td>
<p>skipII choose if skipping phase II is an option, default: FALSE;
if TRUE, the program calculates the expected utility for the case when phase
II is skipped and compares it to the situation when phase II is not skipped.
The results are then returned as a two-row data frame, <code>res[1, ]</code>
being the results when including phase II and <code>res[2, ]</code> when skipping phase II.
<code>res[2, ]</code> has an additional parameter, <code>res[2, ]$median_prior_RR</code>, which is
the assumed effect size used for planning the phase III study when the
phase II is skipped.</p>
</td></tr>
<tr><td><code id="optimal_binary_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>RRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: 
progressr::handlers(global = TRUE)

## End(Not run)
# Optimize

optimal_binary(w = 0.3,                             # define parameters for prior
  p0 = 0.6, p11 =  0.3, p12 = 0.5,
  in1 = 30, in2 = 60,                               # (https://web.imbi.uni-heidelberg.de/prior/)
  n2min = 20, n2max = 100, stepn2 = 4,              # define optimization set for n2
  rrgomin = 0.7, rrgomax = 0.9, steprrgo = 0.05,    # define optimization set for RRgo
  alpha = 0.025, beta = 0.1,                        # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,          # fixed and variable costs for phase II/III,
  K = Inf, N = Inf, S = -Inf,                       # set constraints
  steps1 = 1,                                       # define lower boundary for "small"
  stepm1 = 0.95,                                    # "medium"
  stepl1 = 0.85,                                    # and "large" treatment effect size categories
  b1 = 1000, b2 = 2000, b3 = 3000,                  # define expected benefits
  gamma = 0,                                        # population structures in phase II/III
  fixed = FALSE,                                    # true treatment effects are fixed/random
  skipII = FALSE,                                   # choose if skipping phase II is an option
  num_cl = 2)                                       # number of cores for parallelized computing
  
</code></pre>

<hr>
<h2 id='optimal_binary_generic'>Generic function for optimizing programs with binary endpoints</h2><span id='topic+optimal_binary_generic'></span>

<h3>Description</h3>

<p>Generic function for optimizing programs with binary endpoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_binary_generic(
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  n2min,
  n2max,
  stepn2,
  rrgomin,
  rrgomax,
  steprrgo,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  gamma = 0,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_binary_generic_+3A_w">w</code></td>
<td>
<p>weight for <a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_rrgomin">rrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_rrgomax">rrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_steprrgo">steprrgo</code></td>
<td>
<p>step size for the optimization over RRgo</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_gamma">gamma</code></td>
<td>
<p>to model different populations in phase II and III choose <code>gamma != 0</code>, default: 0, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE p11 is used as fixed effect for p1</p>
</td></tr>
<tr><td><code id="optimal_binary_generic_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>

<hr>
<h2 id='optimal_generic'>Generic function for optimizing drug development programs</h2><span id='topic+optimal_generic'></span>

<h3>Description</h3>

<p>Generic function for optimizing drug development programs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_generic(beta, alpha, c2, c3, c02, c03, K, N, S, b1, b2, b3, num_cl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_generic_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: <code>-Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_generic_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>

<hr>
<h2 id='optimal_multiarm'>Optimal phase II/III drug development planning for multi-arm programs with
time-to-event endpoint</h2><span id='topic+optimal_multiarm'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_multiarm">optimal_multiarm</a></code> of the drugdevelopR package
enables planning of multi-arm phase II/III drug development programs with
optimal sample size allocation and go/no-go decision rules
(Preussler et. al, 2019) for time-to-event endpoints. So far, only three-arm
trials with two treatments and one control are supported. The assumed true
treatment effects are assumed fixed (planning is also possible via
user-friendly R Shiny App:
<a href="https://web.imbi.uni-heidelberg.de/multiarm/">multiarm</a>). Fast
computing is enabled by parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multiarm(
  hr1,
  hr2,
  ec,
  n2min,
  n2max,
  stepn2,
  hrgomin,
  hrgomax,
  stephrgo,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  strategy,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multiarm_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 1</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 2</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_ec">ec</code></td>
<td>
<p>control arm event rate for phase II and III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_stepn2">stepn2</code></td>
<td>
<p>stepsize for the optimization over n2, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_hrgomin">hrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_hrgomax">hrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_stephrgo">stephrgo</code></td>
<td>
<p>step size for the optimization over HRgo</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level/family-wise error rate</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_beta">beta</code></td>
<td>
<p>type-II error rate for any pair, i.e. <code>1 - beta</code> is the
(any-pair) power for calculation of the number of events for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: <code>-Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in HR scale = upper boundary for effect size category &quot;small&quot; in HR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in HR scale = upper boundary for effect size category &quot;medium&quot; in HR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: 1 (only the best promising candidate), 2 (all promising candidates) or 3 (both strategies)</p>
</td></tr>
<tr><td><code id="optimal_multiarm_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Strategy</dt><dd><p>Strategy, 1: &quot;only best promising&quot; or 2: &quot;all promising&quot;</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>HRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd>
<dt>d2</dt><dd><p>optimal total number of events for phase II</p>
</dd>
<dt>d3</dt><dd><p>total expected number of events for phase III; rounded to next natural number</p>
</dd>
<dt>d</dt><dd><p>total expected number of events in the program; d = d2 + d3</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg2</dt><dd><p>probability of a successful program with two arms in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with three arms in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>Preussler, S., Kirchner, M., Goette, H., Kieser, M. (2019). Optimal Designs for Multi-Arm Phase II/III Drug Development Programs. Submitted to peer-review journal.
</p>
<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_multiarm(hr1 = 0.75, hr2 = 0.80,    # define assumed true HRs 
  ec = 0.6,                                          # control arm event rate
  n2min = 30, n2max = 90, stepn2 = 6,                # define optimization set for n2
  hrgomin = 0.7, hrgomax = 0.9, stephrgo = 0.05,     # define optimization set for HRgo
  alpha = 0.025, beta = 0.1,                         # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,           # fixed/variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                        # set constraints
  steps1 = 1,                                        # define lower boundary for "small"
  stepm1 = 0.95,                                     # "medium"
  stepl1 = 0.85,                                     # and "large" effect size categories
  b1 = 1000, b2 = 2000, b3 = 3000,                   # define expected benefit 
  strategy = 1,                                      # choose strategy: 1, 2 or 3
  num_cl = 1)                                        # number of cores for parallelized computing 
  

</code></pre>

<hr>
<h2 id='optimal_multiarm_binary'>Optimal phase II/III drug development planning for multi-arm programs with
binary endpoint</h2><span id='topic+optimal_multiarm_binary'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+optimal_multiarm_binary">optimal_multiarm_binary</a></code> function enables planning of
multi-arm phase II/III drug
development programs with optimal sample size allocation and go/no-go
decision rules. For binary endpoints the treatment effect is measured by the
risk ratio (RR). So far, only three-arm trials with two treatments and one
control are supported. The assumed true treatment effects can be assumed fixed
or modelled by a prior distribution. The R Shiny application
<a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior
distributions used in this package. Fast computing is enabled by parallel
programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multiarm_binary(
  p0,
  p11,
  p12,
  n2min,
  n2max,
  stepn2,
  rrgomin,
  rrgomax,
  steprrgo,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  strategy,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multiarm_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of the control group</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of the treatment arm 1</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment arm 2</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_stepn2">stepn2</code></td>
<td>
<p>stepsize for the optimization over n2, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_rrgomin">rrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_rrgomax">rrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_steprrgo">steprrgo</code></td>
<td>
<p>step size for the optimization over RRgo</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level/family-wise error rate</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_beta">beta</code></td>
<td>
<p>type-II error rate for any pair, i.e. <code>1 - beta</code> is the (any-pair) power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: <code>-Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: 1 (only the best promising candidate), 2 (all promising candidates) or 3 (both strategies)</p>
</td></tr>
<tr><td><code id="optimal_multiarm_binary_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Strategy</dt><dd><p>Strategy, 1: &quot;only best promising&quot; or 2: &quot;all promising&quot;</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>RRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg2</dt><dd><p>probability of a successful program with two arms in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with three arms in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_multiarm_binary( p0 = 0.6, 
  p11 =  0.3, p12 = 0.5, 
  n2min = 20, n2max = 100, stepn2 = 4,               # define optimization set for n2
  rrgomin = 0.7, rrgomax = 0.9, steprrgo = 0.05,     # define optimization set for RRgo
  alpha = 0.025, beta = 0.1,                         # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,           # fixed/variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                        # set constraints
  steps1 = 1,                                        # define lower boundary for "small"
  stepm1 = 0.95,                                     # "medium"
  stepl1 = 0.85,                                     # and "large" effect size categories
  b1 = 1000, b2 = 2000, b3 = 3000,                   # define expected benefits 
  strategy = 1, num_cl = 1)                          # number of cores for parallelized computing 
  
</code></pre>

<hr>
<h2 id='optimal_multiarm_generic'>Generic function for optimizing multi-arm programs</h2><span id='topic+optimal_multiarm_generic'></span>

<h3>Description</h3>

<p>Generic function for optimizing multi-arm programs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multiarm_generic(
  n2min,
  n2max,
  stepn2,
  beta,
  alpha,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  strategy,
  num_cl
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multiarm_generic_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_stepn2">stepn2</code></td>
<td>
<p>stepsize for the optimization over n2, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_beta">beta</code></td>
<td>
<p>type-II error rate for any pair, i.e. <code>1 - beta</code> is the (any-pair) power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level/family-wise error rate</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: <code>-Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: 1 (only the best promising candidate), 2 (all promising candidates) or 3 (both strategies)</p>
</td></tr>
<tr><td><code id="optimal_multiarm_generic_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>

<hr>
<h2 id='optimal_multiarm_normal'>Optimal phase II/III drug development planning for multi-arm programs with
normally distributed endpoint</h2><span id='topic+optimal_multiarm_normal'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+optimal_multiarm_normal">optimal_multiarm_normal</a></code> function enables planning of
multi-arm phase II/III drug development programs with optimal sample size
allocation and go/no-go decision rules. For normally distributed endpoints,
the treatment effect is measured by the standardized difference in means
(Delta). So far, only three-arm trials with two treatments and one control
are supported. The assumed true treatment effects can be assumed fixed or
modelled by a prior distribution. The R Shiny application
<a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the
prior distributions used in this package. Fast computing is enabled by
parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multiarm_normal(
  Delta1,
  Delta2,
  n2min,
  n2max,
  stepn2,
  kappamin,
  kappamax,
  stepkappa,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 0,
  stepm1 = 0.5,
  stepl1 = 0.8,
  b1,
  b2,
  b3,
  strategy,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multiarm_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect as the standardized difference in
means for treatment arm 1</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect as the standardized difference in
means for treatment arm 2</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_stepn2">stepn2</code></td>
<td>
<p>stepsize for the optimization over n2, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_kappamin">kappamin</code></td>
<td>
<p>minimal threshold value kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_kappamax">kappamax</code></td>
<td>
<p>maximal threshold value  kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_stepkappa">stepkappa</code></td>
<td>
<p>step size for the optimization over the threshold value kappa</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level/family-wise error rate</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_beta">beta</code></td>
<td>
<p>type-II error rate for any pair, i.e. <code>1 - beta</code> is the (any-pair) power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: <code>Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: <code>-Inf</code>, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot;, default: 0</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; = upper boundary for effect size category &quot;small&quot; default: 0.5</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; = upper boundary for effect size category &quot;medium&quot;, default: 0.8</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: 1 (only the best promising candidate), 2 (all promising candidates) or 3 (both strategies)</p>
</td></tr>
<tr><td><code id="optimal_multiarm_normal_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Strategy</dt><dd><p>Strategy, 1: &quot;only best promising&quot; or 2: &quot;all promising&quot;</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>Kappa</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg2</dt><dd><p>probability of a successful program with two arms in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with three arms in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>Cohen, J. (1988). Statistical power analysis for the behavioral sciences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_multiarm_normal(Delta1 = 0.375, Delta2 = 0.625,     
  n2min = 20, n2max = 100, stepn2 = 4,                 # define optimization set for n2
  kappamin = 0.02, kappamax = 0.2, stepkappa = 0.02,   # define optimization set for kappa
  alpha = 0.025, beta = 0.1,                           # drug development planning parameters
  c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,           # fixed/variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                          # set constraints
  steps1 = 0,                                          # define lower boundary for "small"
  stepm1 = 0.5,                                        # "medium"
  stepl1 = 0.8,                                        # and "large" effect size categories
  b1 = 3000, b2 = 8000, b3 = 10000,                    # define expected benefits 
  strategy = 1,
  num_cl = 1)                                          # number of cores for parallelized computing 
  
</code></pre>

<hr>
<h2 id='optimal_multiple_generic'>Generic function for optimizing drug development programs with multiple endpoints</h2><span id='topic+optimal_multiple_generic'></span>

<h3>Description</h3>

<p>This function is only used for documentation generation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multiple_generic(rho, alpha, n2min, n2max, stepn2, fixed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multiple_generic_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="optimal_multiple_generic_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level/family-wise error rate</p>
</td></tr>
<tr><td><code id="optimal_multiple_generic_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_generic_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_generic_+3A_stepn2">stepn2</code></td>
<td>
<p>stepsize for the optimization over n2, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_generic_+3A_fixed">fixed</code></td>
<td>
<p>assumed fixed treatment effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>

<hr>
<h2 id='optimal_multiple_normal'>Optimal phase II/III drug development planning for programs with multiple
normally distributed endpoints</h2><span id='topic+optimal_multiple_normal'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_multiple_normal">optimal_multiple_normal</a></code> of the drugdevelopR
package enables planning of phase II/III drug development programs with
optimal sample size allocation and go/no-go decision rules for two-arm
trials with two normally  distributed endpoints and one control group
(Preussler et. al, 2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multiple_normal(
  Delta1,
  Delta2,
  in1,
  in2,
  sigma1,
  sigma2,
  n2min,
  n2max,
  stepn2,
  kappamin,
  kappamax,
  stepkappa,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 0,
  stepm1 = 0.5,
  stepl1 = 0.8,
  b1,
  b2,
  b3,
  rho,
  fixed,
  relaxed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multiple_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for endpoint 1 measured as the
difference in means</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for endpoint 2 measured as the
difference in means</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for Delta1 in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for Delta2 in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_sigma1">sigma1</code></td>
<td>
<p>variance of endpoint 1</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_sigma2">sigma2</code></td>
<td>
<p>variance of endpoint 2</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_stepn2">stepn2</code></td>
<td>
<p>stepsize for the optimization over n2, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_kappamin">kappamin</code></td>
<td>
<p>minimal threshold value kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_kappamax">kappamax</code></td>
<td>
<p>maximal threshold value  kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_stepkappa">stepkappa</code></td>
<td>
<p>step size for the optimization over the threshold value kappa</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level/family-wise error rate</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_beta">beta</code></td>
<td>
<p>type-II error rate for any pair, i.e. <code>1 - beta</code> is the (any-pair) power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot;, default: 0</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; = upper boundary for effect size category &quot;small&quot; default: 0.5</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; = upper boundary for effect size category &quot;medium&quot;, default: 0.8</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_fixed">fixed</code></td>
<td>
<p>assumed fixed treatment effect</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_relaxed">relaxed</code></td>
<td>
<p>relaxed or strict decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiple_normal_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For this setting, the drug development program is defined to be successful
if it proceeds from phase II to phase III and all endpoints show a
statistically significant treatment effect in phase III. For example, this
situation is found in Alzheimer’s disease trials, where a drug should show
significant results in improving cognition (cognitive endpoint) as well as
in improving activities of daily living (functional endpoint).
</p>
<p>The effect size categories small, medium and large are applied to both
endpoints. In order to define an overall effect size from the two individual
effect sizes, the function implements two different combination rules:
</p>

<ul>
<li><p> A strict rule (<code>relaxed = FALSE</code>) assigning a large overall effect in case
both endpoints show an effect of large size, a small overall effect in
case that at least one of the endpoints shows a small effect, and a medium
overall effect otherwise, and
</p>
</li>
<li><p> A relaxed rule (<code>relaxed = TRUE</code>) assigning a large overall effect if at
least one of the endpoints shows a large effect, a small effect if both
endpoints show a  small effect, and a medium overall effect otherwise.
</p>
</li></ul>

<p>Fast computing is enabled by parallel programming.
</p>
<p>Monte Carlo simulations are applied for calculating utility, event count and
other operating characteristics in this setting. Hence, the results are affected
by random uncertainty.
</p>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>Kappa</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>Meinhard Kieser, Marietta Kirchner, Eva Dölger, Heiko Götte (2018). Optimal planning of phase II/III programs for clinical trials with multiple endpoints
</p>
<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

set.seed(123) # This function relies on Monte Carlo integration
optimal_multiple_normal(Delta1 = 0.75,
  Delta2 = 0.80, in1=300, in2=600,                   # define assumed true HRs
  sigma1 = 8, sigma2= 12,                            # variances for both endpoints
  n2min = 30, n2max = 90, stepn2 = 10,               # define optimization set for n2
  kappamin = 0.05, kappamax = 0.2, stepkappa = 0.05, # define optimization set for HRgo
  alpha = 0.025, beta = 0.1,                         # planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,           # fixed/variable costs: phase II/III
  K = Inf, N = Inf, S = -Inf,                        # set constraints
  steps1 = 0,                                        # define lower boundary for "small"
  stepm1 = 0.5,                                      # "medium"
  stepl1 = 0.8,                                      # and "large" effect size categories
  b1 = 1000, b2 = 2000, b3 = 3000,                   # define expected benefit
  rho = 0.5, relaxed = TRUE,                         # strict or relaxed rule
  fixed = TRUE,                                      # treatment effect
  num_cl = 1)                                        # parallelized computing
  

</code></pre>

<hr>
<h2 id='optimal_multiple_tte'>Optimal phase II/III drug development planning for programs with multiple
time-to-event endpoints</h2><span id='topic+optimal_multiple_tte'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_multiple_tte">optimal_multiple_tte</a></code> of the drugdevelopR package
enables planning of phase II/III drug development programs with optimal
sample size allocation and go/no-go decision rules (Preussler et. al, 2019)
in a two-arm trial with two time-to-event endpoints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multiple_tte(
  hr1,
  hr2,
  id1,
  id2,
  n2min,
  n2max,
  stepn2,
  hrgomin,
  hrgomax,
  stephrgo,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  b11,
  b21,
  b31,
  b12,
  b22,
  b32,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  rho,
  fixed = TRUE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multiple_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint 1 (e.g. OS)</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint 2 (e.g. PFS)</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for hr1 in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for hr2 in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_stepn2">stepn2</code></td>
<td>
<p>stepsize for the optimization over n2, must be divisible by 3</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_hrgomin">hrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_hrgomax">hrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_stephrgo">stephrgo</code></td>
<td>
<p>step size for the optimization over HRgo</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level/family-wise error rate</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_beta">beta</code></td>
<td>
<p>type-II error rate for any pair, i.e. <code>1 - beta</code> is the (any-pair) power for calculation of the number of events for phase III</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_b11">b11</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code> if endpoint 1 is significant (and endpoint 2 may or may not be significant)</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_b21">b21</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code> if endpoint 1 is significant (and endpoint 2 may or may not be significant)</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_b31">b31</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code> if endpoint 1 is significant (and endpoint 2 may or may not be significant)</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_b12">b12</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code> if endpoint 1 is not significant, but endpoint 2 is</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_b22">b22</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code>if endpoint 1 is not significant, but endpoint 2 is</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_b32">b32</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code> if endpoint 1 is not significant, but endpoint 2 is</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in HR scale = upper boundary for effect size category &quot;small&quot; in HR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in HR scale = upper boundary for effect size category &quot;medium&quot; in HR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_fixed">fixed</code></td>
<td>
<p>assumed fixed treatment effect</p>
</td></tr>
<tr><td><code id="optimal_multiple_tte_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In this setting, the drug development program is defined to be successful if
it proceeds from phase II to phase III and at least one endpoint shows a
statistically significant treatment effect in phase III. For example,
this situation is found in oncology trials, where overall survival (OS)
and progression-free survival (PFS) are the two endpoints of interest.
</p>
<p>The gain of a successful program may differ according to the importance of
the endpoint that is significant. If endpoint 1 is significant (no matter
whether endpoint 2 is significant or not), then the gains <code>b11</code>, <code>b21</code>
and <code>b31</code> will be used for calculation of the utility. If only endpoint 2
is significant, then  <code>b12</code>, <code>b22</code> and <code>b32</code> will be used. This
also matches the oncology example, where OS (i.e. endpoint 1) implicates
larger expected gains than PFS alone (i.e. endpoint 2).
</p>
<p>Fast computing is enabled by parallel programming.
</p>
<p>Monte Carlo simulations are applied for calculating utility, event count and
other operating characteristics in this setting. Hence, the results are affected
by random uncertainty. The extent of uncertainty is discussed in
(Kieser et al. 2018).
</p>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>OP</dt><dd><p>probability that one endpoint is significant</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>HRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd>
<dt>d2</dt><dd><p>optimal total number of events for phase II</p>
</dd>
<dt>d3</dt><dd><p>total expected number of events for phase III; rounded to next natural number</p>
</dd>
<dt>d</dt><dd><p>total expected number of events in the program; d = d2 + d3</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>Kieser, M., Kirchner, M. Dölger, E., Götte, H. (2018).Optimal planning of phase II/III programs for clinical trials with multiple endpoints, Pharm Stat. 2018 Sep; 17(5):437-457.
</p>
<p>Preussler, S., Kirchner, M., Goette, H., Kieser, M. (2019). Optimal Designs for Multi-Arm Phase II/III Drug Development Programs. Submitted to peer-review journal.
</p>
<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

set.seed(123) # This function relies on Monte Carlo integration
optimal_multiple_tte(hr1 = 0.75,
  hr2 = 0.80, id1 = 210, id2 = 420,          # define assumed true HRs
  n2min = 30, n2max = 90, stepn2 = 6,        # define optimization set for n2
  hrgomin = 0.7, hrgomax = 0.9, stephrgo = 0.05, # define optimization set for HRgo
  alpha = 0.025, beta = 0.1,                 # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,   # fixed/variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                # set constraints
  steps1 = 1,                                # define lower boundary for "small"
  stepm1 = 0.95,                             # "medium"
  stepl1 = 0.85,                             # and "large" effect size categories
  b11 = 1000, b21 = 2000, b31 = 3000,
  b12 = 1000, b22 = 1500, b32 = 2000,        # define expected benefits (both scenarios)
  rho = 0.6, fixed = TRUE,                   # correlation and treatment effect
  num_cl = 1)                                # number of cores for parallelized computing
 

</code></pre>

<hr>
<h2 id='optimal_multitrial'>Optimal phase II/III drug development planning where several phase III trials are performed for time-to-event endpoints</h2><span id='topic+optimal_multitrial'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_multitrial">optimal_multitrial</a></code> of the drugdevelopR package enables planning of phase II/III drug development programs with time-to-event endpoints for programs with several phase III trials (Preussler et. al, 2019).
Its main output values are the optimal sample size allocation and optimal go/no-go decision rules.
The assumed true treatment effects can be assumed to be fixed (planning is then also possible via user friendly R Shiny App: <a href="https://web.imbi.uni-heidelberg.de/multitrial/">multitrial</a>) or can be modelled by a prior distribution.
The R Shiny application <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior distributions used in this package. Fast computing is enabled by parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multitrial(
  w,
  hr1,
  hr2,
  id1,
  id2,
  d2min,
  d2max,
  stepd2,
  hrgomin,
  hrgomax,
  stephrgo,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  b1,
  b2,
  b3,
  case,
  strategy = TRUE,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multitrial_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">this Shiny application</a>
for the choice of weights</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_d2min">d2min</code></td>
<td>
<p>minimal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_d2max">d2max</code></td>
<td>
<p>maximal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_stepd2">stepd2</code></td>
<td>
<p>step size for the optimization over d2</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_hrgomin">hrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_hrgomax">hrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_stephrgo">stephrgo</code></td>
<td>
<p>step size for the optimization over HRgo</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III by Schoenfeld's formula (Schoenfeld 1981)</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_xi2">xi2</code></td>
<td>
<p>assumed event rate for phase II, used for calculating the sample size of phase II via <code>n2 = d2/xi2</code></p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III, used for calculating the sample size of phase III in analogy to <code>xi2</code></p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: &quot;conduct 1, 2, 3 or 4 trials in order to achieve the case's goal&quot;; TRUE calculates all strategies of the selected <code>case</code></p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE hr1 is used as a fixed effect and hr2 is ignored</p>
</td></tr>
<tr><td><code id="optimal_multitrial_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Case</dt><dd><p>Case: &quot;number of significant trials needed&quot;</p>
</dd><dt>Strategy</dt><dd><p>Strategy: &quot;number of trials to be conducted in order to achieve the goal of the case&quot;</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>HRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd>
<dt>d2</dt><dd><p>optimal total number of events for phase II</p>
</dd>
<dt>d3</dt><dd><p>total expected number of events for phase III; rounded to next natural number</p>
</dd>
<dt>d</dt><dd><p>total expected number of events in the program; d = d2 + d3</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III (lower boundary in HR scale is set to 1, as proposed by IQWiG (2016))</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III (lower boundary in HR scale is set to 0.95, as proposed by IQWiG (2016))</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III (lower boundary in HR scale is set to 0.85, as proposed by IQWiG (2016))</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>Effect sizes</h3>

<p>In other settings, the definition of &quot;small&quot;, &quot;medium&quot; and &quot;large&quot; effect
sizes can be user-specified using the input parameters <code>steps1</code>, <code>stepm1</code> and
<code>stepl1</code>. Due to the complexity of the multitrial setting, this feature is
not included for this setting. Instead, the effect sizes were set to
to predefined values as explained under sProg1, sProg2 and sProg3 in the
<em>Value</em> section.
</p>


<h3>References</h3>

<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>
<p>Preussler, S., Kieser, M., and Kirchner, M. (2019). Optimal sample size allocation and go/no-go decision rules for phase II/III programs where several phase III trials are performed. Biometrical Journal, 61(2), 357-378.
</p>
<p>Schoenfeld, D. (1981). The asymptotic properties of nonparametric tests for comparing survival distributions. Biometrika, 68(1), 316-319.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_multitrial(w = 0.3,                # define parameters for prior
  hr1 = 0.69, hr2 = 0.88, id1 = 210, id2 = 420,     # (https://web.imbi.uni-heidelberg.de/prior/)
  d2min = 20, d2max = 100, stepd2 = 5,              # define optimization set for d2
  hrgomin = 0.7, hrgomax = 0.9, stephrgo = 0.05,    # define optimization set for HRgo
  alpha = 0.025, beta = 0.1, xi2 = 0.7, xi3 = 0.7,  # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,          # fixed and variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                       # set constraints
  b1 = 1000, b2 = 2000, b3 = 3000,                  # expected benefit for each effect size
  case = 1, strategy = TRUE,                        # chose Case and Strategy
  fixed = TRUE,                                     # true treatment effects are fixed/random
  num_cl = 1)                                       # number of cores for parallelized computing 

</code></pre>

<hr>
<h2 id='optimal_multitrial_binary'>Optimal phase II/III drug development planning where several phase III trials are performed</h2><span id='topic+optimal_multitrial_binary'></span>

<h3>Description</h3>

<p>The <code>optimal_multitrial_binary</code> function enables planning of phase II/III
drug development programs with several phase III trials for the same
binary endpoint. The main output values are optimal sample size allocation
and go/no-go decision rules. For binary endpoints, the treatment effect is
measured by the risk ratio (RR).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multitrial_binary(
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  n2min,
  n2max,
  stepn2,
  rrgomin,
  rrgomax,
  steprrgo,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  b1,
  b2,
  b3,
  case,
  strategy = TRUE,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multitrial_binary_+3A_w">w</code></td>
<td>
<p>weight for <a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_rrgomin">rrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_rrgomax">rrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_steprrgo">steprrgo</code></td>
<td>
<p>step size for the optimization over RRgo</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: &quot;conduct 1, 2, 3 or 4 trials in order to achieve the case's goal&quot;; TRUE calculates all strategies of the selected <code>case</code></p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE p11 is used as fixed effect for p1</p>
</td></tr>
<tr><td><code id="optimal_multitrial_binary_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The assumed true treatment effects can be assumed fixed or modelled by a
prior distribution. The R Shiny application
<a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior
distributions used in this package.
</p>
<p>Fast computing is enabled by parallel programming.
</p>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Case</dt><dd><p>Case: &quot;number of significant trials needed&quot;</p>
</dd><dt>Strategy</dt><dd><p>Strategy: &quot;number of trials to be conducted in order to achieve the goal of the case&quot;</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>RRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III (lower boundary in HR scale is set to 1, as proposed by IQWiG (2016))</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III (lower boundary in HR scale is set to 0.95, as proposed by IQWiG (2016))</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III (lower boundary in HR scale is set to 0.85, as proposed by IQWiG (2016))</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>Effect sizes</h3>

<p>In other settings, the definition of &quot;small&quot;, &quot;medium&quot; and &quot;large&quot; effect
sizes can be user-specified using the input parameters <code>steps1</code>, <code>stepm1</code> and
<code>stepl1</code>. Due to the complexity of the multitrial setting, this feature is
not included for this setting. Instead, the effect sizes were set to
to predefined values as explained under sProg1, sProg2 and sProg3 in the
<em>Value</em> section.
</p>


<h3>References</h3>

<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_multitrial_binary(w = 0.3,         # define parameters for prior
  p0 = 0.6, p11 =  0.3, p12 = 0.5,
  in1 = 30, in2 = 60,                             # (https://web.imbi.uni-heidelberg.de/prior/)
  n2min = 20, n2max = 100, stepn2 = 4,            # define optimization set for n2
  rrgomin = 0.7, rrgomax = 0.9, steprrgo = 0.05,  # define optimization set for RRgo
  alpha = 0.025, beta = 0.1,                      # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,        # fixed and variable costs for phase II/III,
  K = Inf, N = Inf, S = -Inf,                     # set constraints
  b1 = 1000, b2 = 2000, b3 = 3000,                # expected benefit for a each effect size
  case = 1, strategy = TRUE,                      # chose Case and Strategy                                   
  fixed = TRUE,                                   # true treatment effects are fixed/random
  num_cl = 1)                                     # number of cores for parallelized computing
  
</code></pre>

<hr>
<h2 id='optimal_multitrial_generic'>Generic function for optimizing multi-trial programs</h2><span id='topic+optimal_multitrial_generic'></span>

<h3>Description</h3>

<p>Generic function for optimizing multi-trial programs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multitrial_generic(case, strategy = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multitrial_generic_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_generic_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: &quot;conduct 1, 2, 3 or 4 trials in order to achieve the case's goal&quot;; TRUE calculates all strategies of the selected <code>case</code></p>
</td></tr>
</table>


<h3>Effect sizes</h3>

<p>In other settings, the definition of &quot;small&quot;, &quot;medium&quot; and &quot;large&quot; effect
sizes can be user-specified using the input parameters <code>steps1</code>, <code>stepm1</code> and
<code>stepl1</code>. Due to the complexity of the multitrial setting, this feature is
not included for this setting. Instead, the effect sizes were set to
to predefined values as explained under sProg1, sProg2 and sProg3 in the
<em>Value</em> section.
</p>

<hr>
<h2 id='optimal_multitrial_normal'>Optimal phase II/III drug development planning where several phase III trials are performed</h2><span id='topic+optimal_multitrial_normal'></span>

<h3>Description</h3>

<p>The <code>optimal_multitrial_normal</code> function enables planning of phase II/III
drug development programs with several phase III trials for
the same normally distributed endpoint. Its main output values are optimal
sample size allocation and go/no-go decision rules. For normally distributed
endpoints, the treatment effect is measured by the standardized difference in
means (Delta). The assumed true treatment effects can be assumed fixed or
modelled by a prior distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_multitrial_normal(
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  n2min,
  n2max,
  stepn2,
  kappamin,
  kappamax,
  stepkappa,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  b1,
  b2,
  b3,
  case,
  strategy = TRUE,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_multitrial_normal_+3A_w">w</code></td>
<td>
<p>weight for
<a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_kappamin">kappamin</code></td>
<td>
<p>minimal threshold value kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_kappamax">kappamax</code></td>
<td>
<p>maximal threshold value  kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_stepkappa">stepkappa</code></td>
<td>
<p>step size for the optimization over the threshold value kappa</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_strategy">strategy</code></td>
<td>
<p>choose strategy: &quot;conduct 1, 2, 3 or 4 trials in order to achieve the case's goal&quot;; TRUE calculates all strategies of the selected <code>case</code></p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or following a prior distribution, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="optimal_multitrial_normal_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The R Shiny application <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a>
visualizes the prior distributions used in this package. Fast computing is
enabled by parallel programming.
</p>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>Case</dt><dd><p>Case: &quot;number of significant trials needed&quot;</p>
</dd><dt>Strategy</dt><dd><p>Strategy: &quot;number of trials to be conducted in order to achieve the goal of the case&quot;</p>
</dd><dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>Kappa</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III (lower boundary in HR scale is set to 0, as proposed by Cohen (1988))</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III (lower boundary in HR scale is set to 0.5, as proposed Cohen (1988))</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III (lower boundary in HR scale is set to 0.8, as proposed Cohen (1988))</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>Effect sizes</h3>

<p>In other settings, the definition of &quot;small&quot;, &quot;medium&quot; and &quot;large&quot; effect
sizes can be user-specified using the input parameters <code>steps1</code>, <code>stepm1</code> and
<code>stepl1</code>. Due to the complexity of the multitrial setting, this feature is
not included for this setting. Instead, the effect sizes were set to
to predefined values as explained under sProg1, sProg2 and sProg3 in the
<em>Value</em> section.
</p>


<h3>References</h3>

<p>Cohen, J. (1988). Statistical power analysis for the behavioral sciences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_multitrial_normal(w = 0.3,           # define parameters for prior
  Delta1 = 0.375, Delta2 = 0.625,
  in1 = 300, in2 = 600,                               # (https://web.imbi.uni-heidelberg.de/prior/)
  a = 0.25, b = 0.75,
  n2min = 20, n2max = 100, stepn2 = 4,                # define optimization set for n2
  kappamin = 0.02, kappamax = 0.2, stepkappa = 0.02,  # define optimization set for kappa
  alpha = 0.025, beta = 0.1,                          # drug development planning parameters
  c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,          # fixed and variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                         # set constraints
  b1 = 3000, b2 = 8000, b3 = 10000,                   # expected benefit for each effect size                                         
  case = 1, strategy = TRUE,                          # chose Case and Strategy
  fixed = TRUE,                                       # true treatment effects are fixed/random
  num_cl = 1)                                         # number of cores for parallelized computing
  

</code></pre>

<hr>
<h2 id='optimal_normal'>Optimal phase II/III drug development planning with normally distributed endpoint</h2><span id='topic+optimal_normal'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_normal">optimal_normal</a></code> of the <code><a href="#topic+drugdevelopR">drugdevelopR</a></code>
package enables planning of phase II/III drug development programs with
optimal sample size allocation and go/no-go decision rules for normally
distributed endpoints. The treatment effect is measured by the standardized
difference in means. The assumed true treatment effects can be assumed to be
fixed or modelled by a prior distribution. The R Shiny application
<a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes the prior
distributions used in this package. Fast computing is enabled by parallel
programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_normal(
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  n2min,
  n2max,
  stepn2,
  kappamin,
  kappamax,
  stepkappa,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 0,
  stepm1 = 0.5,
  stepl1 = 0.8,
  b1,
  b2,
  b3,
  gamma = 0,
  fixed = FALSE,
  skipII = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_normal_+3A_w">w</code></td>
<td>
<p>weight for
<a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_kappamin">kappamin</code></td>
<td>
<p>minimal threshold value kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_kappamax">kappamax</code></td>
<td>
<p>maximal threshold value  kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_stepkappa">stepkappa</code></td>
<td>
<p>step size for the optimization over the threshold value kappa</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot;, default: 0</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; = upper boundary for effect size category &quot;small&quot; default: 0.5</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; = upper boundary for effect size category &quot;medium&quot;, default: 0.8</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_gamma">gamma</code></td>
<td>
<p>to model different populations in phase II and III choose <code>gamma != 0</code>, default: 0, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or following a prior distribution, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_skipii">skipII</code></td>
<td>
<p>choose if skipping phase II is an option, default: FALSE;
if TRUE, the program calculates the expected utility for the case when phase
II is skipped and compares it to the situation when phase II is not skipped.
The results are then returned as a two-row data frame, <code>res[1, ]</code>
being the results when including phase II and <code>res[2, ]</code> when skipping phase II.
<code>res[2, ]</code> has an additional parameter, <code>res[2, ]$median_prior_Delta</code>, which is
the assumed effect size used for planning the phase III study when the
phase II is skipped.</p>
</td></tr>
<tr><td><code id="optimal_normal_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code><a href="#topic+optimal_normal">optimal_normal</a></code> is a data.frame containing the optimization results:
</p>

<dl>
<dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd>
<dt>Kappa</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd>
<dt>n2</dt><dd><p>total sample size for phase II</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd>
<dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III </p>
</dd>
<dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd>
</dl>

<p>and further input parameters.
</p>
<p>Taking <code>cat(comment())</code> of the data.frame object lists the used optimization sequences, start and finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>Cohen, J. (1988). Statistical power analysis for the behavioral sciences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize

optimal_normal(w=0.3,                       # define parameters for prior
  Delta1 = 0.375, Delta2 = 0.625, in1=300, in2=600,  # (https://web.imbi.uni-heidelberg.de/prior/)
  a = 0.25, b = 0.75,
  n2min = 20, n2max = 100, stepn2 = 4,               # define optimization set for n2
  kappamin = 0.02, kappamax = 0.2, stepkappa = 0.02, # define optimization set for kappa
  alpha = 0.025, beta = 0.1,                          # drug development planning parameters
  c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,         # fixed/variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                        # set constraints
  steps1 = 0,                                        # define lower boundary for "small"
  stepm1 = 0.5,                                      # "medium"
  stepl1 = 0.8,                                      # and "large" effect size categories
  b1 = 3000, b2 = 8000, b3 = 10000,                  # benefit for each effect size category
  gamma = 0,                                         # population structures in phase II/III
  fixed = FALSE,                                     # true treatment effects are fixed/random
  skipII = FALSE,                                    # skipping phase II
  num_cl = 1)                                        # number of cores for parallelized computing

</code></pre>

<hr>
<h2 id='optimal_normal_generic'>Generic function for optimizing normally distributed endpoints</h2><span id='topic+optimal_normal_generic'></span>

<h3>Description</h3>

<p>Generic function for optimizing normally distributed endpoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_normal_generic(
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  n2min,
  n2max,
  stepn2,
  kappamin,
  kappamax,
  stepkappa,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 0,
  stepm1 = 0.5,
  stepl1 = 0.8,
  b1,
  b2,
  b3,
  gamma = 0,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_normal_generic_+3A_w">w</code></td>
<td>
<p>weight for
<a href="https://web.imbi.uni-heidelberg.de/prior/">mixture prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true prior treatment effect measured as the
standardized difference in means, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a> for details</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation of the <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_n2min">n2min</code></td>
<td>
<p>minimal total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_n2max">n2max</code></td>
<td>
<p>maximal total sample size for phase II, must be an even number</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_stepn2">stepn2</code></td>
<td>
<p>step size for the optimization over n2; must be an even number</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_kappamin">kappamin</code></td>
<td>
<p>minimal threshold value kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_kappamax">kappamax</code></td>
<td>
<p>maximal threshold value  kappa for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_stepkappa">stepkappa</code></td>
<td>
<p>step size for the optimization over the threshold value kappa</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the sample size for phase III</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot;, default: 0</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; = upper boundary for effect size category &quot;small&quot; default: 0.5</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; = upper boundary for effect size category &quot;medium&quot;, default: 0.8</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot; in 10^5 $</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_gamma">gamma</code></td>
<td>
<p>to model different populations in phase II and III choose <code>gamma != 0</code>, default: 0, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">here</a>
for details</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or following a prior distribution, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="optimal_normal_generic_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>

<hr>
<h2 id='optimal_return_doc'>Function for generating documentation of return values</h2><span id='topic+optimal_return_doc'></span>

<h3>Description</h3>

<p>Generates the documentation of the return value
of an optimal function including some custom text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_return_doc(type, setting = "basic")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_return_doc_+3A_type">type</code></td>
<td>
<p>string deciding whether this is return text for
normal, binary or time-to-event endpoints</p>
</td></tr>
<tr><td><code id="optimal_return_doc_+3A_setting">setting</code></td>
<td>
<p>string containing the setting, i.e. &quot;basic&quot;, &quot;bias&quot;,
&quot;multitrial&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>string containing the documentation of the return value.
</p>

<hr>
<h2 id='optimal_tte'>Optimal phase II/III drug development planning with time-to-event endpoint</h2><span id='topic+optimal_tte'></span>

<h3>Description</h3>

<p>The function <code><a href="#topic+optimal_tte">optimal_tte</a></code> of the <code><a href="#topic+drugdevelopR">drugdevelopR</a></code>
package enables planning of phase II/III drug development programs with optimal
sample size allocation and go/no-go decision rules for time-to-event endpoints
(Kirchner et al., 2016). The assumed true treatment effects can be assumed to
be fixed or modelled by
a prior distribution. When assuming fixed true treatment effects, planning can
also be done with the user-friendly R Shiny app
<a href="https://web.imbi.uni-heidelberg.de/basic/">basic</a>.
The app <a href="https://web.imbi.uni-heidelberg.de/prior/">prior</a> visualizes
the prior distributions used in this package. Fast computing is enabled by
parallel programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_tte(
  w,
  hr1,
  hr2,
  id1,
  id2,
  d2min,
  d2max,
  stepd2,
  hrgomin,
  hrgomax,
  stephrgo,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  gamma = 0,
  fixed = FALSE,
  skipII = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_tte_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">this Shiny application</a>
for the choice of weights</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_d2min">d2min</code></td>
<td>
<p>minimal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_d2max">d2max</code></td>
<td>
<p>maximal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_stepd2">stepd2</code></td>
<td>
<p>step size for the optimization over d2</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_hrgomin">hrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_hrgomax">hrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_stephrgo">stephrgo</code></td>
<td>
<p>step size for the optimization over HRgo</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III by Schoenfeld's formula (Schoenfeld 1981)</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_xi2">xi2</code></td>
<td>
<p>assumed event rate for phase II, used for calculating the sample size of phase II via <code>n2 = d2/xi2</code></p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III, used for calculating the sample size of phase III in analogy to <code>xi2</code></p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in HR scale = upper boundary for effect size category &quot;small&quot; in HR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in HR scale = upper boundary for effect size category &quot;medium&quot; in HR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_gamma">gamma</code></td>
<td>
<p>to model different populations in phase II and III choose <code>gamma != 0</code>, default: 0</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE hr1 is used as a fixed effect and hr2 is ignored</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_skipii">skipII</code></td>
<td>
<p>choose if skipping phase II is an option, default: FALSE;
if TRUE, the program calculates the expected utility for the case when phase
II is skipped and compares it to the situation when phase II is not skipped.
The results are then returned as a two-row data frame, <code>res[1, ]</code>
being the results when including phase II and <code>res[2, ]</code> when skipping phase II.
<code>res[2, ]</code> has an additional parameter, <code>res[2, ]$median_prior_HR</code>, which is
the assumed hazards ratio used for planning the phase III study when the
phase II is skipped. It is calculated as the exponential function of the
median of the prior function.</p>
</td></tr>
<tr><td><code id="optimal_tte_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>


<h3>Format</h3>

<p>data.frame containing the optimization results (see Value)
</p>


<h3>Value</h3>

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:
</p>
<dl>
<dt>u</dt><dd><p>maximal expected utility under the optimization constraints, i.e. the expected utility of the optimal sample size and threshold value</p>
</dd><dt>HRgo</dt><dd><p>optimal threshold value for the decision rule to go to phase III</p>
</dd>
<dt>d2</dt><dd><p>optimal total number of events for phase II</p>
</dd>
<dt>d3</dt><dd><p>total expected number of events for phase III; rounded to next natural number</p>
</dd>
<dt>d</dt><dd><p>total expected number of events in the program; d = d2 + d3</p>
</dd><dt>n2</dt><dd><p>total sample size for phase II; rounded to the next even natural number</p>
</dd>
<dt>n3</dt><dd><p>total sample size for phase III; rounded to the next even natural number</p>
</dd>
<dt>n</dt><dd><p>total sample size in the program; n = n2 + n3</p>
</dd>
<dt>K</dt><dd><p>maximal costs of the program (i.e. the cost constraint, if it is set or the sum K2+K3 if no cost constraint is set)</p>
</dd>
<dt>pgo</dt><dd><p>probability to go to phase III</p>
</dd>
<dt>sProg</dt><dd><p>probability of a successful program</p>
</dd><dt>sProg1</dt><dd><p>probability of a successful program with &quot;small&quot; treatment effect in phase III</p>
</dd>
<dt>sProg2</dt><dd><p>probability of a successful program with &quot;medium&quot; treatment effect in phase III</p>
</dd>
<dt>sProg3</dt><dd><p>probability of a successful program with &quot;large&quot; treatment effect in phase III</p>
</dd><dt>K2</dt><dd><p>expected costs for phase II</p>
</dd>
<dt>K3</dt><dd><p>expected costs for phase III</p>
</dd></dl>

<p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.
</p>


<h3>References</h3>

<p>Kirchner, M., Kieser, M., Goette, H., &amp; Schueler, A. (2016). Utility-based optimization of phase II/III programs. Statistics in Medicine, 35(2), 305-316.
</p>
<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/ueber-uns/methoden/methodenpapier/">https://www.iqwig.de/ueber-uns/methoden/methodenpapier/</a>, assessed last 15.05.19.
</p>
<p>Schoenfeld, D. (1981). The asymptotic properties of nonparametric tests for comparing survival distributions. Biometrika, 68(1), 316-319.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+optimal_binary">optimal_binary</a></code>, <code><a href="#topic+optimal_normal">optimal_normal</a></code>, <code><a href="#topic+optimal_bias">optimal_bias</a></code>, <code><a href="#topic+optimal_multitrial">optimal_multitrial</a></code> and <code><a href="#topic+optimal_multiarm">optimal_multiarm</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Activate progress bar (optional)
## Not run: 
progressr::handlers(global = TRUE)

## End(Not run)
# Optimize

optimal_tte(w = 0.3,                    # define parameters for prior
  hr1 = 0.69, hr2 = 0.88, id1 = 210, id2 = 420,   # (https://web.imbi.uni-heidelberg.de/prior/)
  d2min = 20, d2max = 100, stepd2 = 5,            # define optimization set for d2
  hrgomin = 0.7, hrgomax = 0.9, stephrgo = 0.05,  # define optimization set for HRgo
  alpha = 0.025, beta = 0.1, xi2 = 0.7, xi3 = 0.7, # drug development planning parameters
  c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,        # fixed/variable costs for phase II/III
  K = Inf, N = Inf, S = -Inf,                     # set constraints
  steps1 = 1,                                     # define lower boundary for "small"
  stepm1 = 0.95,                                  # "medium"
  stepl1 = 0.85,                                  # and "large" treatment effect size categories
  b1 = 1000, b2 = 2000, b3 = 3000,                # expected benefit for each effect size category
  gamma = 0,                                      # population structures in phase II/III
  fixed = FALSE,                                  # true treatment effects are fixed/random
  skipII = FALSE,                                 # skipping phase II 
  num_cl = 1)                                     # number of cores for parallelized computing 

</code></pre>

<hr>
<h2 id='optimal_tte_generic'>Generic function for optimal planning of time-to-event endpoints</h2><span id='topic+optimal_tte_generic'></span>

<h3>Description</h3>

<p>Generic function for optimal planning of time-to-event endpoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_tte_generic(
  w,
  hr1,
  hr2,
  id1,
  id2,
  d2min,
  d2max,
  stepd2,
  hrgomin,
  hrgomax,
  stephrgo,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K = Inf,
  N = Inf,
  S = -Inf,
  steps1 = 1,
  stepm1 = 0.95,
  stepl1 = 0.85,
  b1,
  b2,
  b3,
  gamma = 0,
  fixed = FALSE,
  num_cl = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_tte_generic_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution, see
<a href="https://web.imbi.uni-heidelberg.de/prior/">this Shiny application</a>
for the choice of weights</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/">prior distribution</a></p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_d2min">d2min</code></td>
<td>
<p>minimal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_d2max">d2max</code></td>
<td>
<p>maximal number of events for phase II</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_stepd2">stepd2</code></td>
<td>
<p>step size for the optimization over d2</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_hrgomin">hrgomin</code></td>
<td>
<p>minimal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_hrgomax">hrgomax</code></td>
<td>
<p>maximal threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_stephrgo">stephrgo</code></td>
<td>
<p>step size for the optimization over HRgo</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_alpha">alpha</code></td>
<td>
<p>one-sided significance level</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_beta">beta</code></td>
<td>
<p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III by Schoenfeld's formula (Schoenfeld 1981)</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_xi2">xi2</code></td>
<td>
<p>assumed event rate for phase II, used for calculating the sample size of phase II via <code>n2 = d2/xi2</code></p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III, used for calculating the sample size of phase III in analogy to <code>xi2</code></p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III in 10^5 $.</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in HR scale = upper boundary for effect size category &quot;small&quot; in HR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in HR scale = upper boundary for effect size category &quot;medium&quot; in HR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_gamma">gamma</code></td>
<td>
<p>to model different populations in phase II and III choose <code>gamma != 0</code>, default: 0</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE hr1 is used as a fixed effect and hr2 is ignored</p>
</td></tr>
<tr><td><code id="optimal_tte_generic_+3A_num_cl">num_cl</code></td>
<td>
<p>number of clusters used for parallel computing, default: 1</p>
</td></tr>
</table>

<hr>
<h2 id='os_tte'>Probability that endpoint OS significant</h2><span id='topic+os_tte'></span>

<h3>Description</h3>

<p>This function calculate the probability that the endpoint OS is statistically significant.
In the context of cancer research OS stands for overall survival, a positive treatment effect in this endpoints is thus sufficient for a successful program.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>os_tte(HRgo, n2, alpha, beta, hr1, hr2, id1, id2, fixed, rho, rsamp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="os_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule;</p>
</td></tr>
<tr><td><code id="os_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="os_tte_+3A_alpha">alpha</code></td>
<td>
<p>one- sided significance level</p>
</td></tr>
<tr><td><code id="os_tte_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of the number of events for phase III by Schoenfeld (1981) formula</p>
</td></tr>
<tr><td><code id="os_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint OS</p>
</td></tr>
<tr><td><code id="os_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint PFS</p>
</td></tr>
<tr><td><code id="os_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="os_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="os_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
<tr><td><code id="os_tte_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="os_tte_+3A_rsamp">rsamp</code></td>
<td>
<p>sample data set for Monte Carlo integration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>os_tte()</code> is the probability that endpoint OS significant.
</p>

<hr>
<h2 id='pgo_binary'>Probability to go to phase III for multiarm programs with binary distributed outcomes</h2><span id='topic+pgo_binary'></span>

<h3>Description</h3>

<p>Given our parameters this function calculates the probability to go to phase III after the second phase was conducted. The considered strategies are as follows:
</p>

<ul>
<li> 

<ol>
<li><p> Strategy: Only best promising treatment goes to phase III
</p>
</li></ol>

</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>pgo_binary(RRgo, n2, p0, p11, p12, strategy, case)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pgo_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="pgo_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="pgo_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="pgo_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="pgo_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="pgo_binary_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;)</p>
</td></tr>
<tr><td><code id="pgo_binary_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function pgo_binary() returns the probability to go to phase III.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- pgo_binary(RRgo = 0.8 ,n2 = 50 ,p0 = 0.6, p11 =  0.3, p12 = 0.5,strategy = 2, case = 31)
</code></pre>

<hr>
<h2 id='pgo_multiple_normal'>Probability to go to phase III for multiple endpoints with normally distributed outcomes</h2><span id='topic+pgo_multiple_normal'></span>

<h3>Description</h3>

<p>This function calculated the probability that we go to phase III, i.e. that results of phase II are promising enough to
get a successful drug development program. Successful means that both endpoints show a statistically significant positive treatment effect in phase III.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pgo_multiple_normal(
  kappa,
  n2,
  Delta1,
  Delta2,
  in1,
  in2,
  sigma1,
  sigma2,
  fixed,
  rho,
  rsamp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pgo_multiple_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule; vector for both endpoints</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 1</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 2</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for Delta1 in terms of sample size</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for Delta2 in terms of sample size</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE Delta1 is used as fixed effect</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="pgo_multiple_normal_+3A_rsamp">rsamp</code></td>
<td>
<p>sample data set for Monte Carlo integration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>pgo_multiple_normal()</code> is the probability to go to phase III.
</p>

<hr>
<h2 id='pgo_multiple_tte'>Probability to go to phase III for multiple endpoints in the time-to-event setting</h2><span id='topic+pgo_multiple_tte'></span>

<h3>Description</h3>

<p>This function calculates the probability that we go to phase III, i.e. that results of phase II are promising enough to
get a successful drug development program. Successful means that at least one endpoint shows a statistically significant positive treatment effect in phase III.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pgo_multiple_tte(HRgo, n2, hr1, hr2, id1, id2, fixed, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pgo_multiple_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule;</p>
</td></tr>
<tr><td><code id="pgo_multiple_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="pgo_multiple_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint OS</p>
</td></tr>
<tr><td><code id="pgo_multiple_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint PFS</p>
</td></tr>
<tr><td><code id="pgo_multiple_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="pgo_multiple_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="pgo_multiple_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
<tr><td><code id="pgo_multiple_tte_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>pgo_multiple_tte()</code> is the probability to go to phase III.
</p>

<hr>
<h2 id='pgo_normal'>Probability to go to phase III for multiarm programs with normally distributed outcomes</h2><span id='topic+pgo_normal'></span>

<h3>Description</h3>

<p>Given our parameters this function calculates the probability to go to phase III after the second phase was conducted. The considered strategies are as follows:
</p>

<ul>
<li> 

<ol>
<li><p> Strategy: Only best promising treatment goes to phase III
</p>
</li></ol>

</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>pgo_normal(kappa, n2, Delta1, Delta2, strategy, case)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pgo_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="pgo_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be an even number</p>
</td></tr>
<tr><td><code id="pgo_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="pgo_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="pgo_normal_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;)</p>
</td></tr>
<tr><td><code id="pgo_normal_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function pgo_normal() returns the probability to go to phase III for multiarm programs with normally distributed outcomes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- pgo_normal(kappa = 0.1, n2 = 50, Delta1 = 0.375, Delta2 = 0.625, strategy = 2, case = 31)
</code></pre>

<hr>
<h2 id='pgo_tte'>Probability to go to phase III for multiarm programs with time-to-event outcomes</h2><span id='topic+pgo_tte'></span>

<h3>Description</h3>

<p>Given our parameters this function calculates the probability to go to phase III after the second phase was conducted. The considered strategies are as follows:
</p>

<ul>
<li> 

<ol>
<li><p> Strategy: Only best promising treatment goes to phase III
</p>
</li></ol>

</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>pgo_tte(HRgo, n2, ec, hr1, hr2, strategy, case)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pgo_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="pgo_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size in phase II, must be divisible by 3</p>
</td></tr>
<tr><td><code id="pgo_tte_+3A_ec">ec</code></td>
<td>
<p>control arm event rate for phase II and III</p>
</td></tr>
<tr><td><code id="pgo_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 1</p>
</td></tr>
<tr><td><code id="pgo_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 2</p>
</td></tr>
<tr><td><code id="pgo_tte_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;)</p>
</td></tr>
<tr><td><code id="pgo_tte_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function pgo_tte() returns the probability to go to phase III.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- pgo_tte(HRgo = 0.8, n2 = 48 , ec = 0.6, hr1 = 0.7, hr2 = 0.8, strategy = 2, case = 31)
</code></pre>

<hr>
<h2 id='posp_normal'>Probability of a successful program, when going to phase III for multiple endpoint with normally distributed outcomes</h2><span id='topic+posp_normal'></span>

<h3>Description</h3>

<p>After getting the &quot;go&quot;-decision to go to phase III, i.e. our results of phase II are over the predefined threshold <code>kappa</code>, this function
calculates the probability, that our program is successfull, i.e. that both endpoints show a statistically significant positive treatment effect in phase III.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>posp_normal(
  kappa,
  n2,
  alpha,
  beta,
  Delta1,
  Delta2,
  sigma1,
  sigma2,
  in1,
  in2,
  fixed,
  rho,
  rsamp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="posp_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule;</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 1</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 2</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="posp_normal_+3A_rsamp">rsamp</code></td>
<td>
<p>sample data set for Monte Carlo integration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>posp_normal()</code> is the probability of a successful program, when going to phase III.
</p>

<hr>
<h2 id='print_drugdevelopResult_helper'>Helper function for printing a drugdevelopResult Object</h2><span id='topic+print_drugdevelopResult_helper'></span>

<h3>Description</h3>

<p>Helper function for printing a drugdevelopResult Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_drugdevelopResult_helper(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_drugdevelopResult_helper_+3A_x">x</code></td>
<td>
<p>Data frame</p>
</td></tr>
<tr><td><code id="print_drugdevelopResult_helper_+3A_...">...</code></td>
<td>
<p>Further arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for printing to the console using <code>cat()</code>
</p>

<hr>
<h2 id='print.drugdevelopResult'>Printing a drugdevelopResult Object</h2><span id='topic+print.drugdevelopResult'></span>

<h3>Description</h3>

<p>Displays details about the optimal results from a <code>drugdevelopResult</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'drugdevelopResult'
print(x, sequence = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.drugdevelopResult_+3A_x">x</code></td>
<td>
<p>Data frame of class <code>drugdevelopResult</code>.</p>
</td></tr>
<tr><td><code id="print.drugdevelopResult_+3A_sequence">sequence</code></td>
<td>
<p>logical, print optimization sequence (default = <code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="print.drugdevelopResult_+3A_...">...</code></td>
<td>
<p>Further arguments.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# Activate progress bar (optional)
## Not run: progressr::handlers(global = TRUE)
# Optimize
res &lt;- optimal_normal(w=0.3,                       
  Delta1 = 0.375, Delta2 = 0.625, in1=300, in2=600,  
  a = 0.25, b = 0.75,
  n2min = 20, n2max = 100, stepn2 = 4,               
  kappamin = 0.02, kappamax = 0.2, stepkappa = 0.02, 
  alpha = 0.025, beta = 0.1,                       
  c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,   
  K = Inf, N = Inf, S = -Inf,                        
  steps1 = 0,                                      
  stepm1 = 0.5,                                      
  stepl1 = 0.8,                                      
  b1 = 3000, b2 = 8000, b3 = 10000,                  
  gamma = 0,                                         
  fixed = FALSE,                                    
  skipII = FALSE,                                    
  num_cl = 1)
# Print results
print(res)                                  

</code></pre>

<hr>
<h2 id='prior_tte'>Prior distribution for time-to-event outcomes</h2><span id='topic+prior_tte'></span>

<h3>Description</h3>

<p>If we do not assume the treatment effects to be fixed, i.e. <code>fixed = FALSE</code>,
the function <code>prior_tte</code> allows us to model the treatment effect following a prior distribution.
For more details concerning the definition of a prior distribution, see the <a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html">vignette on priors</a>
as well as the <a href="https://web.imbi.uni-heidelberg.de/prior/">Shiny app</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_tte(x, w, hr1, hr2, id1, id2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_tte_+3A_x">x</code></td>
<td>
<p>integration variable</p>
</td></tr>
<tr><td><code id="prior_tte_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="prior_tte_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="prior_tte_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="prior_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="prior_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>Epgo_tte()</code> is the expected number of participants in phase III with conservative decision rule and sample size calculation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- prior_tte(x = 0.5, w = 0.5, hr1 = 0.69, hr2 = 0.88, id1 = 240, id2 = 420)
</code></pre>

<hr>
<h2 id='PsProg_binary'>Probability of a successful program for multiarm programs with binary distributed outcomes</h2><span id='topic+PsProg_binary'></span>

<h3>Description</h3>

<p>Given we get the &quot;go&quot;-decision in phase II, this functions now calculates the probability that the results of the confirmatory trial (phase III) are significant, i.e. we have a statistically relevant positive effect of the treatment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PsProg_binary(
  RRgo,
  n2,
  alpha,
  beta,
  p0,
  p11,
  p12,
  step1,
  step2,
  strategy,
  case
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PsProg_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be divisible by three</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;) or 3 (both)</p>
</td></tr>
<tr><td><code id="PsProg_binary_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function PsProg_binary() returns the probability of a successful program
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- PsProg_binary(RRgo = 0.8 ,n2 = 50 ,alpha = 0.05, beta = 0.1,
                            p0 = 0.6, p11 =  0.3, p12 = 0.5, step1 = 1, step2 = 0.95,
                            strategy = 3, case = 31)
</code></pre>

<hr>
<h2 id='PsProg_normal'>Probability of a successful program for multiarm programs with normally distributed outcomes</h2><span id='topic+PsProg_normal'></span>

<h3>Description</h3>

<p>Given we get the &quot;go&quot;-decision in phase II, this functions now calculates the probability that the results of the confirmatory trial (phase III) are significant, i.e. we have a statistically relevant positive effect of the treatment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PsProg_normal(
  kappa,
  n2,
  alpha,
  beta,
  Delta1,
  Delta2,
  step1,
  step2,
  strategy,
  case
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PsProg_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;) or 3 (both)</p>
</td></tr>
<tr><td><code id="PsProg_normal_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function PsProg_normal() returns the probability of a successful program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- PsProg_normal(kappa = 0.1 ,n2 = 50 ,alpha = 0.05, beta = 0.1,
                            Delta1 = 0.375, Delta2 = 0.625,  step1 = 0, step2 = 0.5,
                            strategy = 3, case = 31)
</code></pre>

<hr>
<h2 id='PsProg_tte'>Probability of a successful program for multiarm programs with time-to-event outcomes</h2><span id='topic+PsProg_tte'></span>

<h3>Description</h3>

<p>Given we get the &quot;go&quot;-decision in phase II, this functions now calculates the probability that the results of the confirmatory trial (phase III) are significant, i.e. we have a statistically relevant positive effect of the treatment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PsProg_tte(HRgo, n2, alpha, beta, ec, hr1, hr2, step1, step2, strategy, case)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PsProg_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be divisible by three</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_ec">ec</code></td>
<td>
<p>control arm event rate for phase II and III</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 1</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 2</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_step1">step1</code></td>
<td>
<p>lower boundary for effect size</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_step2">step2</code></td>
<td>
<p>upper boundary for effect size</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;) or 3 (both)</p>
</td></tr>
<tr><td><code id="PsProg_tte_+3A_case">case</code></td>
<td>
<p>different cases: 1 (&quot;nogo&quot;), 21 (treatment 1 is promising, treatment 2 is not), 22 (treatment 2 is promising, treatment 1 is not), 31 (both treatments are promising, treatment 1 is better), 32 (both treatments are promising, treatment 2 is better)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function PsProg_tte() returns the probability of a successful program
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- PsProg_tte(HRgo = 0.8 ,n2 = 50 ,alpha = 0.05, beta = 0.1,
                            ec = 0.6, hr1 = 0.7, hr2 = 0.8, step1 = 1, step2 = 0.95,
                            strategy = 2, case = 21)
</code></pre>

<hr>
<h2 id='pw'>Probabilty that effect in endpoint one is larger than in endpoint two</h2><span id='topic+pw'></span>

<h3>Description</h3>

<p>This function calculated the probability that the treatment effect in endpoint one (or endpoint x) is larger than in endpoint two (or endpoint y), i.e. P(x&gt;y) = P(x-y&gt;0)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pw(n2, hr1, hr2, id1, id2, fixed, rho)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pw_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="pw_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint OS</p>
</td></tr>
<tr><td><code id="pw_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint PFS</p>
</td></tr>
<tr><td><code id="pw_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="pw_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="pw_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
<tr><td><code id="pw_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Z=X-Y is normally distributed with expectation mu_x - mu_y and variance sigma_x + sigma_y- 2 rho sdx sdy
</p>


<h3>Value</h3>

<p>The output of the function <code>pw()</code> is the probability that endpoint one has a better result than endpoint two
</p>

<hr>
<h2 id='ss_binary'>Total sample size for phase III trial with l treatments and equal allocation ratio for binary outcomes</h2><span id='topic+ss_binary'></span>

<h3>Description</h3>

<p>Depending on the results of phase II and our strategy ,i.e. whether we proceed only with the best promising treatment (l = 1) or with all promising treatments (l = 2), this program calculates the number of participants in phase III.
</p>
<p>l=1: according to Schoenfeld to guarantee power for the log rank test to detect treatment effect of phase II;
</p>
<p>l=2: according to Dunnett to guarantee y any-pair power (Horn &amp; Vollandt)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ss_binary(alpha, beta, p0, p11, y, l)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ss_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="ss_binary_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="ss_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="ss_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="ss_binary_+3A_y">y</code></td>
<td>
<p>hat_theta_2; estimator in phase II</p>
</td></tr>
<tr><td><code id="ss_binary_+3A_l">l</code></td>
<td>
<p>number of treatments in phase III:
</p>

<ul>
<li><p> l=1: according to Schoenfeld to guarantee power for the log rank test to detect treatment effect of phase II;
</p>
</li>
<li><p> l=2: according to Dunnett to guarantee y any-pair power (Horn &amp; Vollandt)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>the function ss_binary() returns the total sample size for phase III trial with l treatments and equal allocation ratio
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- ss_binary(alpha = 0.05, beta = 0.1, p0 = 0.6, p11 = 0.3, y = 0.5, l = 1)
</code></pre>

<hr>
<h2 id='ss_normal'>Total sample size for phase III trial with l treatments and equal allocation ratio for normally distributed outcomes</h2><span id='topic+ss_normal'></span>

<h3>Description</h3>

<p>Depending on the results of phase II and our strategy ,i.e. whether we proceed only with the best promising treatment (l = 1) or with all promising treatments (l = 2), this program calculates the number of participants in phase III.
</p>
<p>l=1: according to Schoenfeld to guarantee power for the log rank test to detect treatment effect of phase II;
</p>
<p>l=2: according to Dunnett to guarantee y any-pair power (Horn &amp; Vollandt)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ss_normal(alpha, beta, y, l)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ss_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="ss_normal_+3A_beta">beta</code></td>
<td>
<p>1-'beta' power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="ss_normal_+3A_y">y</code></td>
<td>
<p>y_hat_theta_2; estimator in phase II</p>
</td></tr>
<tr><td><code id="ss_normal_+3A_l">l</code></td>
<td>
<p>number of treatments in phase III:
</p>

<ul>
<li><p> l=1: according to Schoenfeld to guarantee power for the log rank test to detect treatment effect of phase II;
</p>
</li>
<li><p> l=2: according to Dunnett to guarantee y any-pair power (Horn &amp; Vollandt)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>the function ss_normal() returns the total sample size for phase III trial with l treatments and equal allocation ratio
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- ss_normal(alpha = 0.05, beta = 0.1, y = 0.5, l = 1)
</code></pre>

<hr>
<h2 id='ss_tte'>Total sample size for phase III trial with l treatments and equal allocation ratio for time-to-event outcomes</h2><span id='topic+ss_tte'></span>

<h3>Description</h3>

<p>Depending on the results of phase II and our strategy ,i.e. whether we proceed only with the best promising treatment (l = 1) or with all promising treatments (l = 2), this program calculates the number of participants in phase III.
</p>
<p>l=1: according to Schoenfeld to guarantee power for the log rank test to detect treatment effect of phase II;
</p>
<p>l=2: according to Dunnett to guarantee y any-pair power (Horn &amp; Vollandt)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ss_tte(alpha, beta, ec, ek, y, l)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ss_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="ss_tte_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="ss_tte_+3A_ec">ec</code></td>
<td>
<p>control arm event rate for phase II and III</p>
</td></tr>
<tr><td><code id="ss_tte_+3A_ek">ek</code></td>
<td>
<p>event rate of arm k (either arm 1 or arm 2)</p>
</td></tr>
<tr><td><code id="ss_tte_+3A_y">y</code></td>
<td>
<p>hat_theta_2; estimator in phase II</p>
</td></tr>
<tr><td><code id="ss_tte_+3A_l">l</code></td>
<td>
<p>number of treatments in phase III:
</p>

<ul>
<li><p> l=1: according to Schoenfeld to guarantee power for the log rank test to detect treatment effect of phase II;
</p>
</li>
<li><p> l=2: according to Dunnett to guarantee y any-pair power (Horn &amp; Vollandt)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>the function ss_tte() returns the total sample size for phase III trial with l treatments and equal allocation ratio
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- ss_tte(alpha = 0.05, beta = 0.1, ec = 0.6, ek = 0.8, y = 0.5, l=1)
</code></pre>

<hr>
<h2 id='utility_bias'>Utility function for bias adjustment programs with time-to-event outcomes.</h2><span id='topic+utility_bias'></span><span id='topic+utility_L'></span><span id='topic+utility_L2'></span><span id='topic+utility_R'></span><span id='topic+utility_R2'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_bias()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_L(
  d2,
  HRgo,
  Adj,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_L2(
  d2,
  HRgo,
  Adj,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_R(
  d2,
  HRgo,
  Adj,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_R2(
  d2,
  HRgo,
  Adj,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_bias_+3A_d2">d2</code></td>
<td>
<p>total events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_xi2">xi2</code></td>
<td>
<p>event rate for phase II</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code> in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="utility_bias_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_bias_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_bias_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_bias_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>utility_L()</code>, <code>utility_L2()</code>, <code>utility_R()</code> and <code>utility_R2()</code> is the expected utility of the program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility_L(d2 = 50, HRgo = 0.8, Adj = 0.4, w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 280, id2 = 420, xi2 = 0.7, xi3 = 0.7,
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
         res &lt;- utility_L2(d2 = 50, HRgo = 0.8, Adj = 0.4, w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 280, id2 = 420, xi2 = 0.7, xi3 = 0.7,
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
         res &lt;- utility_R(d2 = 50, HRgo = 0.8, Adj = 0.9, w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 280, id2 = 420, xi2 = 0.7, xi3 = 0.7,
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
         res &lt;- utility_R2(d2 = 50, HRgo = 0.8, Adj = 0.9, w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 280, id2 = 420, xi2 = 0.7, xi3 = 0.7,
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
</code></pre>

<hr>
<h2 id='utility_bias_binary'>Utility function for bias adjustment programs with binary distributed outcomes.</h2><span id='topic+utility_bias_binary'></span><span id='topic+utility_binary_L'></span><span id='topic+utility_binary_L2'></span><span id='topic+utility_binary_R'></span><span id='topic+utility_binary_R2'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_bias_binary()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_binary_L(
  n2,
  RRgo,
  Adj,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_binary_L2(
  n2,
  RRgo,
  Adj,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_binary_R(
  n2,
  RRgo,
  Adj,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_binary_R2(
  n2,
  RRgo,
  Adj,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_bias_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code> in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_bias_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>p11</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>utility_binary_L()</code>, <code>utility_binary_L2()</code>, <code>utility_binary_R()</code> and <code>utility_binary_R2()</code> is the expected utility of the program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility_binary_L(n2 = 50, RRgo = 0.8, Adj = 0.1, w = 0.3, 
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, 
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
         res &lt;- utility_binary_L2(n2 = 50, RRgo = 0.8, Adj = 0.1, w = 0.3, 
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, 
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
         res &lt;- utility_binary_R(n2 = 50, RRgo = 0.8, Adj = 0.9, w = 0.3, 
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, 
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
         res &lt;- utility_binary_R2(n2 = 50, RRgo = 0.8, Adj = 0.9, w = 0.3, 
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, 
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 fixed = TRUE)
</code></pre>

<hr>
<h2 id='utility_bias_normal'>Utility function for bias adjustment programs with normally distributed outcomes.</h2><span id='topic+utility_bias_normal'></span><span id='topic+utility_normal_L'></span><span id='topic+utility_normal_L2'></span><span id='topic+utility_normal_R'></span><span id='topic+utility_normal_R2'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_bias_normal()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_normal_L(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_normal_L2(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_normal_R(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)

utility_normal_R2(
  n2,
  kappa,
  Adj,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_bias_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_adj">Adj</code></td>
<td>
<p>adjustment parameter</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code>, default: 0</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> = upper boundary for effect size category &quot;small&quot; default: 0.5</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> = upper boundary for effect size category &quot;medium&quot;, default: 0.8</p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_bias_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE Delta1 is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>utility_normal_L()</code>, <code>utility_normal_L2()</code>, <code>utility_normal_R()</code> and <code>utility_normal_R2()</code> is the expected utility of the program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility_normal_L(kappa = 0.1, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
          res &lt;- utility_normal_L2(kappa = 0.1, n2 = 50, Adj = 0, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
          res &lt;- utility_normal_R(kappa = 0.1, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
          res &lt;- utility_normal_R2(kappa = 0.1, n2 = 50, Adj = 1, 
                                 alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, 
                                 in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf, 
                                 steps1 = 0, stepm1 = 0.5, stepl1 = 0.8,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 fixed = TRUE)
</code></pre>

<hr>
<h2 id='utility_multiarm'>Utility function for multiarm programs with time-to-event outcomes</h2><span id='topic+utility_multiarm'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters as on the sample size and expected probability of a successful program.
The utility is in further step maximized by the <code>optimal_multiarm()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_multiarm(
  n2,
  HRgo,
  alpha,
  beta,
  hr1,
  hr2,
  strategy,
  ec,
  c2,
  c02,
  c3,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multiarm_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be divisible by three</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 1</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for treatment 2</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;)</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_ec">ec</code></td>
<td>
<p>control arm event rate for phase II and III</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code> in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> in HR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> in HR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_multiarm_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>utility_multiarm()</code> is the expected utility of the program
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utility_multiarm(n2 = 50, HRgo = 0.8, alpha = 0.05, beta = 0.1,
                            hr1 = 0.7, hr2 = 0.8, strategy = 2, ec = 0.6,
                            c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                            K = Inf, N = Inf, S = -Inf,  
                            steps1 = 1, stepm1 = 0.95,  stepl1 = 0.85,
                            b1 = 1000, b2 = 2000, b3 = 3000)
</code></pre>

<hr>
<h2 id='utility_multiarm_binary'>Utility function for multiarm programs with binary distributed outcomes</h2><span id='topic+utility_multiarm_binary'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters as on the sample size and expected probability of a successful program.
The utility is in further step maximized by the <code>optimal_multiarm_binary()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_multiarm_binary(
  n2,
  RRgo,
  alpha,
  beta,
  p0 = p0,
  p11 = p11,
  p12 = p12,
  strategy,
  c2,
  c02,
  c3,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multiarm_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;)</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot; in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="utility_multiarm_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>utility_multiarm_binary()</code> is the expected utility of the program
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility_multiarm_binary(n2 = 50, RRgo = 0.8, alpha = 0.05, beta = 0.1,
                            p0 = 0.6, p11 =  0.3, p12 = 0.5, strategy = 1,
                            c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                            K = Inf, N = Inf, S = -Inf,  
                            steps1 = 1, stepm1 = 0.95,   stepl1 = 0.85,
                            b1 = 1000, b2 = 2000, b3 = 3000)
</code></pre>

<hr>
<h2 id='utility_multiarm_normal'>Utility function for multiarm programs with normally distributed outcomes</h2><span id='topic+utility_multiarm_normal'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters as on the sample size and expected probability of a successful program.
The utility is in further step maximized by the <code>optimal_multiarm_normal()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_multiarm_normal(
  n2,
  kappa,
  alpha,
  beta,
  Delta1,
  Delta2,
  strategy,
  c2,
  c02,
  c3,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multiarm_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_beta">beta</code></td>
<td>
<p>1-beta power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_strategy">strategy</code></td>
<td>
<p>choose Strategy: 1 (&quot;only best promising&quot;), 2 (&quot;all promising&quot;)</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category &quot;small&quot;, default: 0</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category &quot;medium&quot; = upper boundary for effect size category &quot;small&quot; default: 0.5</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category &quot;large&quot; = upper boundary for effect size category &quot;medium&quot;, default: 0.8</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category &quot;small&quot;</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category &quot;medium&quot;</p>
</td></tr>
<tr><td><code id="utility_multiarm_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category &quot;large&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>utility_multiarm_normal()</code> is the expected utility of the program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility_multiarm_normal(n2 = 50, kappa = 0.8, alpha = 0.05, beta = 0.1,
                            Delta1 = 0.375, Delta2 = 0.625, strategy = 1,
                            c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                            K = Inf, N = Inf, S = -Inf,  
                            steps1 = 0, stepm1 = 0.5,   stepl1 = 0.8,
                            b1 = 1000, b2 = 2000, b3 = 3000)
</code></pre>

<hr>
<h2 id='utility_multiple_normal'>Utility function for multiple endpoints with normally distributed outcomes.</h2><span id='topic+utility_multiple_normal'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_multiple_normal()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_multiple_normal(
  kappa,
  n2,
  alpha,
  beta,
  Delta1,
  Delta2,
  in1,
  in2,
  sigma1,
  sigma2,
  c2,
  c02,
  c3,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  fixed,
  rho,
  relaxed,
  rsamp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multiple_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule; vector for both endpoints</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 1</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect given as difference in means for endpoint 2</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_sigma1">sigma1</code></td>
<td>
<p>standard deviation of first endpoint</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_sigma2">sigma2</code></td>
<td>
<p>standard deviation of second endpoint</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code> in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> in HR scale = upper boundary for effect size category <code>"small"</code> in HR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> in HR scale = upper boundary for effect size category <code>"medium"</code> in HR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>Delta1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="utility_multiple_normal_+3A_relaxed">relaxed</code></td>
<td>
<p>relaxed or strict decision rule</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>utility_multiple_normal()</code> is the expected utility of the program.
</p>

<hr>
<h2 id='utility_multiple_tte'>Utility function for multiple endpoints in a time-to-event-setting</h2><span id='topic+utility_multiple_tte'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_multiple_tte()</code> function.
Note, that for calculating the utility of the program, two different benefit triples are necessary:
</p>

<ul>
<li><p> one triple for the case that the more important endpoint overall survival (OS) shows a significant positive treatment effect
</p>
</li>
<li><p> one triple when only the endpoint progression-free survival (PFS) shows a significant positive treatment effect
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>utility_multiple_tte(
  n2,
  HRgo,
  alpha,
  beta,
  hr1,
  hr2,
  id1,
  id2,
  c2,
  c02,
  c3,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b11,
  b21,
  b31,
  b12,
  b22,
  b32,
  fixed,
  rho,
  rsamp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multiple_tte_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule;</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_hr1">hr1</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint OS</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_hr2">hr2</code></td>
<td>
<p>assumed true treatment effect on HR scale for endpoint PFS</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code> in HR scale, default: 1</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> in HR scale = upper boundary for effect size category <code>"small"</code> in HR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> in HR scale = upper boundary for effect size category <code>"medium"</code> in HR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_b11">b11</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code> if endpoint OS is significant</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_b21">b21</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code>if endpoint OS is significant</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_b31">b31</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code> if endpoint OS is significant</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_b12">b12</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code> if endpoint OS is not significant</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_b22">b22</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code>if endpoint OS is not significant</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_b32">b32</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code> if endpoint OS is not significant</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_rho">rho</code></td>
<td>
<p>correlation between the two endpoints</p>
</td></tr>
<tr><td><code id="utility_multiple_tte_+3A_rsamp">rsamp</code></td>
<td>
<p>sample data set for Monte Carlo integration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>utility_multiple_tte()</code> is the expected utility of the program.
</p>

<hr>
<h2 id='utility_multitrial'>Utility function for multitrial programs in a time-to-event setting</h2><span id='topic+utility_multitrial'></span><span id='topic+utility2'></span><span id='topic+utility3'></span><span id='topic+utility4'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in further step maximized by the <code>optimal_multitrial()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility2(
  d2,
  HRgo,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)

utility3(
  d2,
  HRgo,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)

utility4(
  d2,
  HRgo,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multitrial_+3A_d2">d2</code></td>
<td>
<p>total number of events in phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_xi2">xi2</code></td>
<td>
<p>event rate for phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="utility_multitrial_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>utility2()</code>, <code>utility3()</code> and <code>utility4()</code> is the expected utility of the program when 2, 3 or 4 phase III trials are performed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility2(d2 = 50, HRgo = 0.8,  w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 210, id2 = 420, 
                                 alpha = 0.025, beta = 0.1, xi2 = 0.7, xi3 = 0.7,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 case = 2, fixed = TRUE)
          res &lt;- utility3(d2 = 50, HRgo = 0.8,  w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 210, id2 = 420, 
                                 alpha = 0.025, beta = 0.1, xi2 = 0.7, xi3 = 0.7,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 case = 2, fixed = TRUE)
         res &lt;- utility4(d2 = 50, HRgo = 0.8,  w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 210, id2 = 420, 
                                 alpha = 0.025, beta = 0.1, xi2 = 0.7, xi3 = 0.7,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 case = 3, fixed = TRUE)
</code></pre>

<hr>
<h2 id='utility_multitrial_binary'>Utility function for multitrial programs with binary distributed outcomes</h2><span id='topic+utility_multitrial_binary'></span><span id='topic+utility2_binary'></span><span id='topic+utility3_binary'></span><span id='topic+utility4_binary'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in further step maximized by the <code>optimal_multitrial_binary()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility2_binary(
  n2,
  RRgo,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)

utility3_binary(
  n2,
  RRgo,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)

utility4_binary(
  n2,
  RRgo,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multitrial_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="utility_multitrial_binary_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>utility2_binary()</code>, <code>utility3_binary()</code> and <code>utility4_binary()</code> is the expected utility of the program when 2, 3 or 4 phase III trials are performed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility2_binary(n2 = 50, RRgo = 0.8,  w = 0.3, 
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 case = 2, fixed = TRUE)
          res &lt;- utility3_binary(n2 = 50, RRgo = 0.8,  w = 0.3, 
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 case = 2, fixed = TRUE)
         res &lt;- utility4_binary(n2 = 50, RRgo = 0.8,  w = 0.3, 
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 case = 3, fixed = TRUE)
</code></pre>

<hr>
<h2 id='utility_multitrial_normal'>Utility function for multitrial programs with normally distributed outcomes</h2><span id='topic+utility_multitrial_normal'></span><span id='topic+utility2_normal'></span><span id='topic+utility3_normal'></span><span id='topic+utility4_normal'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_multitrial_normal()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility2_normal(
  n2,
  kappa,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)

utility3_normal(
  n2,
  kappa,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)

utility4_normal(
  n2,
  kappa,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  b1,
  b2,
  b3,
  case,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_multitrial_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_case">case</code></td>
<td>
<p>choose case: &quot;at least 1, 2 or 3 significant trials needed for approval&quot;</p>
</td></tr>
<tr><td><code id="utility_multitrial_normal_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions utility2_normal(), utility3_normal() and utility4_normal() is the expected utility of the program when 2, 3 or 4 phase III trials are performed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility2_normal(kappa = 0.1, n2 = 50,  alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,
                                 K = Inf, N = Inf, S = -Inf, 
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 case = 2, fixed = TRUE)
          res &lt;- utility3_normal(kappa = 0.1, n2 = 50,  alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,
                                 K = Inf, N = Inf, S = -Inf,
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 case = 2, fixed = TRUE)                        
          res &lt;- utility4_normal(kappa = 0.1, n2 = 50,  alpha = 0.025, beta = 0.1, w = 0.3,
                                 Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                 a = 0.25, b = 0.75, 
                                 c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,
                                 K = Inf, N = Inf, S = -Inf, 
                                 b1 = 3000, b2 = 8000, b3 = 10000, 
                                 case = 3, fixed = TRUE)
</code></pre>

<hr>
<h2 id='utility_tte'>Utility function for time-to-event outcomes.</h2><span id='topic+utility_tte'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_tte()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_tte(
  d2,
  HRgo,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  K,
  N,
  S,
  steps1,
  stepm1,
  stepl1,
  b1,
  b2,
  b3,
  gamma,
  fixed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility_tte_+3A_d2">d2</code></td>
<td>
<p>total events for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_xi2">xi2</code></td>
<td>
<p>event rate for phase II</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_k">K</code></td>
<td>
<p>constraint on the costs of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_n">N</code></td>
<td>
<p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_s">S</code></td>
<td>
<p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_steps1">steps1</code></td>
<td>
<p>lower boundary for effect size category <code>"small"</code> in RR scale, default: 1</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_stepm1">stepm1</code></td>
<td>
<p>lower boundary for effect size category <code>"medium"</code> in RR scale = upper boundary for effect size category &quot;small&quot; in RR scale, default: 0.95</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_stepl1">stepl1</code></td>
<td>
<p>lower boundary for effect size category <code>"large"</code> in RR scale = upper boundary for effect size category &quot;medium&quot; in RR scale, default: 0.85</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility_tte_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility_tte_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
<tr><td><code id="utility_tte_+3A_gamma">gamma</code></td>
<td>
<p>difference in treatment effect due to different population structures in phase II and III</p>
</td></tr>
<tr><td><code id="utility_tte_+3A_fixed">fixed</code></td>
<td>
<p>choose if true treatment effects are fixed or random, if TRUE <code>hr1</code> is used as fixed effect</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the functions <code>utility_tte()</code> is the expected utility of the program.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- utility_tte(d2 = 50, HRgo = 0.8, w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 280, id2 = 420, xi2 = 0.7, xi3 = 0.7,
                                 alpha = 0.025, beta = 0.1,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 K = Inf, N = Inf, S = -Inf,
                                 steps1 = 1, stepm1 = 0.95, stepl1 = 0.85,
                                 b1 = 1000, b2 = 2000, b3 = 3000, 
                                 gamma = 0, fixed = TRUE)
</code></pre>

<hr>
<h2 id='utility23'>Utility function for multitrial programs deciding between two or three phase III trials in a time-to-event setting</h2><span id='topic+utility23'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in further step maximized by the <code>optimal_multitrial()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility23(
  d2,
  HRgo,
  w,
  hr1,
  hr2,
  id1,
  id2,
  alpha,
  beta,
  xi2,
  xi3,
  c2,
  c3,
  c02,
  c03,
  b1,
  b2,
  b3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility23_+3A_d2">d2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility23_+3A_hrgo">HRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility23_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility23_+3A_hr1">hr1</code></td>
<td>
<p>first assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility23_+3A_hr2">hr2</code></td>
<td>
<p>second assumed true treatment effect on HR scale for prior distribution</p>
</td></tr>
<tr><td><code id="utility23_+3A_id1">id1</code></td>
<td>
<p>amount of information for <code>hr1</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility23_+3A_id2">id2</code></td>
<td>
<p>amount of information for <code>hr2</code> in terms of number of events</p>
</td></tr>
<tr><td><code id="utility23_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility23_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility23_+3A_xi2">xi2</code></td>
<td>
<p>event rate for phase II</p>
</td></tr>
<tr><td><code id="utility23_+3A_xi3">xi3</code></td>
<td>
<p>event rate for phase III</p>
</td></tr>
<tr><td><code id="utility23_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility23_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility23_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility23_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility23_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility23_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility23_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>utility23()</code> is the expected utility of the program depending on whether two or three phase III trials are performed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utility23(d2 = 50, HRgo = 0.8,  w = 0.3, 
                                 hr1 =  0.69, hr2 = 0.81, 
                                 id1 = 280, id2 = 420, 
                                 alpha = 0.025, beta = 0.1, xi2 = 0.7, xi3 = 0.7,
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 b1 = 1000, b2 = 2000, b3 = 3000)
</code></pre>

<hr>
<h2 id='utility23_binary'>Utility function for multitrial programs deciding between two or three phase III trials for a binary distributed outcome</h2><span id='topic+utility23_binary'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in further step maximized by the <code>optimal_multitrial_binary()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility23_binary(
  n2,
  RRgo,
  w,
  p0,
  p11,
  p12,
  in1,
  in2,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  b1,
  b2,
  b3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility23_binary_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_rrgo">RRgo</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_p0">p0</code></td>
<td>
<p>assumed true rate of control group</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_p11">p11</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_p12">p12</code></td>
<td>
<p>assumed true rate of treatment group</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>p11</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>p12</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility23_binary_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function <code>utility23_binary()</code> is the expected utility of the program depending on whether two or three phase III trials are performed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utility23_binary(n2 = 50, RRgo = 0.8,  w = 0.3, 
                                 alpha = 0.05, beta = 0.1,
                                 p0 = 0.6, p11 =  0.3, p12 = 0.5, 
                                 in1 = 300, in2 = 600, 
                                 c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,
                                 b1 = 1000, b2 = 2000, b3 = 3000)
</code></pre>

<hr>
<h2 id='utility23_normal'>Utility function for multitrial programs deciding between two or three phase III trials for a normally distributed outcome</h2><span id='topic+utility23_normal'></span>

<h3>Description</h3>

<p>The utility function calculates the expected utility of our drug development program and is given as gains minus costs and depends on the parameters and the expected probability of a successful program.
The utility is in a further step maximized by the <code>optimal_multitrial_normal()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility23_normal(
  n2,
  kappa,
  w,
  Delta1,
  Delta2,
  in1,
  in2,
  a,
  b,
  alpha,
  beta,
  c2,
  c3,
  c02,
  c03,
  b1,
  b2,
  b3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utility23_normal_+3A_n2">n2</code></td>
<td>
<p>total sample size for phase II; must be even number</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_kappa">kappa</code></td>
<td>
<p>threshold value for the go/no-go decision rule</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_w">w</code></td>
<td>
<p>weight for mixture prior distribution</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_delta1">Delta1</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_delta2">Delta2</code></td>
<td>
<p>assumed true treatment effect for standardized difference in means</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_in1">in1</code></td>
<td>
<p>amount of information for <code>Delta1</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_in2">in2</code></td>
<td>
<p>amount of information for <code>Delta2</code> in terms of sample size</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_a">a</code></td>
<td>
<p>lower boundary for the truncation</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_b">b</code></td>
<td>
<p>upper boundary for the truncation</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_beta">beta</code></td>
<td>
<p><code>1-beta</code> power for calculation of sample size for phase III</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_c2">c2</code></td>
<td>
<p>variable per-patient cost for phase II</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_c3">c3</code></td>
<td>
<p>variable per-patient cost for phase III</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_c02">c02</code></td>
<td>
<p>fixed cost for phase II</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_c03">c03</code></td>
<td>
<p>fixed cost for phase III</p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_b1">b1</code></td>
<td>
<p>expected gain for effect size category <code>"small"</code></p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_b2">b2</code></td>
<td>
<p>expected gain for effect size category <code>"medium"</code></p>
</td></tr>
<tr><td><code id="utility23_normal_+3A_b3">b3</code></td>
<td>
<p>expected gain for effect size category <code>"large"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the function utility23_normal() is the expected utility of the program depending on whether two or three phase III trials are performed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>utility23_normal(n2 = 50, kappa = 0.2, w = 0.3, alpha = 0.025, beta = 0.1,
                                Delta1 = 0.375, Delta2 = 0.625, in1 = 300, in2 = 600, 
                                a = 0.25, b = 0.75, 
                                c2 = 0.675, c3 = 0.72, c02 = 15, c03 = 20,
                                b1 = 3000, b2 = 8000, b3 = 10000)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

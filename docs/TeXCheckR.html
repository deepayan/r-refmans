<!DOCTYPE html><html lang="en"><head><title>Help for package TeXCheckR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {TeXCheckR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#TeXCheckR-package'><p>TeXCheckR</p></a></li>
<li><a href='#any_bib_duplicates'><p>Are any bib entries duplicated?</p></a></li>
<li><a href='#argument_parsing'><p>Replace nth arguments</p></a></li>
<li><a href='#bib_parser'><p>Functions for parsing .bib files</p></a></li>
<li><a href='#braces_closes_at'><p>Brace closes at</p></a></li>
<li><a href='#check_biber'><p>Check biber</p></a></li>
<li><a href='#check_consecutive_words'><p>Check consecutive typeset words</p></a></li>
<li><a href='#check_dashes'><p>Check dashes entered as hyphens</p></a></li>
<li><a href='#check_escapes'><p>Check escapes</p></a></li>
<li><a href='#check_footnote_typography'><p>Check footnote typography</p></a></li>
<li><a href='#check_labels'><p>Check labels</p></a></li>
<li><a href='#check_literal_citations'><p>Check that citations are all using cites</p></a></li>
<li><a href='#check_literal_xrefs'><p>Check for hard-coded cross-references</p></a></li>
<li><a href='#check_quote_marks'><p>Check quote marks in TeX</p></a></li>
<li><a href='#check_spelling'><p>Spell checking</p></a></li>
<li><a href='#check_xrefs'><p>Check cross-references</p></a></li>
<li><a href='#commands_used'><p>List all unique commands in a document</p></a></li>
<li><a href='#correctly_spelled_words'><p>List of correctly spelled words</p></a></li>
<li><a href='#CORRECTLY_SPELLED_WORDS_CASE_SENSITIVE'><p>List of correctly spelled, case-sensitive words</p></a></li>
<li><a href='#extract_LaTeX_argument'><p>Extract LaTeX command argument</p></a></li>
<li><a href='#extract_mandatory_LaTeX_argument'><p>Extract mandatory argument II</p></a></li>
<li><a href='#extract_optional_LaTeX_argument'><p>Extract optional argument</p></a></li>
<li><a href='#extract_validate_abbreviations'><p>Extract valid abbreviations and initialisms</p></a></li>
<li><a href='#figs_tbls_unrefd'><p>Return unreferenced figures or tables in document</p></a></li>
<li><a href='#inputs_of'><p>Inputs to files nested within LaTeX document</p></a></li>
<li><a href='#isR_line_in_knitr'><p>Is a line in knitr R or not?</p></a></li>
<li><a href='#lint_bib'><p>Tidy bibliography so equals signs align</p></a></li>
<li><a href='#locate_mandatory_LaTeX_argument'><p>Locate contents of LaTeX commands</p></a></li>
<li><a href='#minimal_bib'><p>Generate a minimal bibliography file</p></a></li>
<li><a href='#parse_tex'><p>Parse LaTeX lines</p></a></li>
<li><a href='#position_of_string'><p>Position of strings</p></a></li>
<li><a href='#read_tex_document'><p>Read a LaTeX document</p></a></li>
<li><a href='#report_error'><p>Report errors to console</p></a></li>
<li><a href='#rm_editorial_square_brackets'><p>Remove editorial square brackets</p></a></li>
<li><a href='#separate_sentences'><p>Put sentences on their own line</p></a></li>
<li><a href='#split_report'><p>Split report into include-able files</p></a></li>
<li><a href='#strip_comments'><p>Strip comments from LaTeX lines</p></a></li>
<li><a href='#tex_group_by_char'><p>TeX group by character position</p></a></li>
<li><a href='#valid_English_contractions'><p>Valid English contractions</p></a></li>
<li><a href='#validate_bibliography'><p>Validate bibliography according to Grattan style</p></a></li>
<li><a href='#veto_sic'><p>Veto sic</p></a></li>
<li><a href='#weld_bmillion'><p>Unbreaking spaces between billion and million</p></a></li>
<li><a href='#wrongly_spelled_words'><p>List of wrongly spelled words</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Parses LaTeX Documents for Errors</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-02-04</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/HughParsonage/TeXCheckR">https://github.com/HughParsonage/TeXCheckR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/HughParsonage/TeXCheckR/issues">https://github.com/HughParsonage/TeXCheckR/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Checks LaTeX documents and .bib files for typing errors, such as spelling errors, incorrect quotation marks. Also provides useful functions for parsing and linting bibliography files.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>clisymbols, crayon, data.table (&ge; 1.9.0), fastmatch, hunspell
(&ge; 2.5), hutils (&ge; 0.8.0), magrittr, rstudioapi, stats,
tools, zoo</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, readr, rlang, stringi, testthat (&ge; 2.0.0), tinytex</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-04 02:39:14 UTC; hughp</td>
</tr>
<tr>
<td>Author:</td>
<td>Hugh Parsonage [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hugh Parsonage &lt;hugh.parsonage@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-04 03:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='TeXCheckR-package'>TeXCheckR</h2><span id='topic+TeXCheckR-package'></span>

<h3>Description</h3>

<p>Checks LaTeX documents and <code>.bib</code> files for typing errors, such as spelling errors, incorrect quotation marks. Also provides useful functions for parsing and linting bibliography files.
</p>

<hr>
<h2 id='any_bib_duplicates'>Are any bib entries duplicated?</h2><span id='topic+any_bib_duplicates'></span>

<h3>Description</h3>

<p>Are any bib entries duplicated?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>any_bib_duplicates(bib.files, .report_error, rstudio = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="any_bib_duplicates_+3A_bib.files">bib.files</code></td>
<td>
<p>Files to check for duplicates</p>
</td></tr>
<tr><td><code id="any_bib_duplicates_+3A_.report_error">.report_error</code></td>
<td>
<p>How errors should be logged.</p>
</td></tr>
<tr><td><code id="any_bib_duplicates_+3A_rstudio">rstudio</code></td>
<td>
<p>Use the RStudio API?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is very fastidious about the format of <code>bib.files</code>.
Run <code><a href="#topic+lint_bib">lint_bib</a></code> (noting that this will overwrite your bibliography) if it complains.
</p>
<p>This function finds exact duplicates in the author title date/year and volume fields.
Note that it is not possible in general to detect actual duplicates; you will still
need to inspect the printed bibliography.
</p>


<h3>Value</h3>

<p>Called for its side-effect. If duplicates are detected, the first six are printed as a <code>data.table</code>;
otherwise, <code>NULL</code>, invisibly.
</p>

<hr>
<h2 id='argument_parsing'>Replace nth arguments</h2><span id='topic+argument_parsing'></span><span id='topic+replace_nth_LaTeX_argument'></span><span id='topic+nth_arg_positions'></span>

<h3>Description</h3>

<p>Replace nth arguments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_nth_LaTeX_argument(
  tex_lines,
  command_name,
  n = 1L,
  replacement = "correct",
  optional = FALSE,
  warn = TRUE,
  .dummy_replacement = "Qq"
)

nth_arg_positions(
  tex_lines,
  command_name,
  n = 1L,
  optional = FALSE,
  star = TRUE,
  data.tables = TRUE,
  allow_stringi = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="argument_parsing_+3A_tex_lines">tex_lines</code></td>
<td>
<p>A character vector of a LaTeX file (as read in from <code>readLines</code> or <code>readr::read_lines</code>).</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_command_name">command_name</code></td>
<td>
<p>The command name, 
or the pattern of the command, without the initial backslash.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_n">n</code></td>
<td>
<p>Which argument of the command.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_replacement">replacement</code></td>
<td>
<p>What to replace the <code>n</code>th argument with.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_optional">optional</code></td>
<td>
<p>If <code>FALSE</code>, the default, the <code>n</code>th mandatory argument is extracted.
If <code>TRUE</code>, the <code>n</code>th <em>optional</em> argument is extracted.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_warn">warn</code></td>
<td>
<p>If the nth argument is not present, emit a warning? Set to <code>FALSE</code> for n-ary commands.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_.dummy_replacement">.dummy_replacement</code></td>
<td>
<p>An intermediate replacement value.
This value cannot be present in <code>tex_lines</code>.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_star">star</code></td>
<td>
<p>Assume the starred version of the command. That is, assume that the contents of 
the argument lies on a single line.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_data.tables">data.tables</code></td>
<td>
<p>Should each element of the list be a <code>data.table</code>? Set to <code>FALSE</code> 
for performance.</p>
</td></tr>
<tr><td><code id="argument_parsing_+3A_allow_stringi">allow_stringi</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) If <code>FALSE</code>, non-<code>stringi</code> 
functions are allowed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>nth_arg_positions</code> reports the starts and stops of the command for every line.
This includes the braces (in order to accommodate instances where the argument is empty).
</p>
<p>If the line is empty or does not contain the command the values of <code>starts</code> and <code>stops</code> are <code>NA_integer_</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nth_arg_positions("This is a \\textbf{strong} statement.", "textbf")
replace_nth_LaTeX_argument("This is a \\textbf{strong} statement.", "textbf")

</code></pre>

<hr>
<h2 id='bib_parser'>Functions for parsing .bib files</h2><span id='topic+bib_parser'></span><span id='topic+fread_bib'></span><span id='topic+bib2DT'></span><span id='topic+reorder_bib'></span>

<h3>Description</h3>

<p>Functions for parsing .bib files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fread_bib(
  file.bib,
  check.dup.keys = TRUE,
  strip.braces = TRUE,
  check.unescaped.percent = TRUE,
  .bib_expected = TRUE,
  halt = TRUE,
  rstudio = FALSE,
  .report_error
)

bib2DT(file.bib, to_sort = FALSE)

reorder_bib(file.bib, outfile.bib = file.bib)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bib_parser_+3A_file.bib">file.bib</code></td>
<td>
<p><code>.bib</code> file.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_check.dup.keys">check.dup.keys</code></td>
<td>
<p>If <code>TRUE</code>, the default, return error if any bib keys are duplicates.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_strip.braces">strip.braces</code></td>
<td>
<p>If <code>TRUE</code>, the default, braces in fields are removed.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_check.unescaped.percent">check.unescaped.percent</code></td>
<td>
<p>If <code>TRUE</code>, the default, fields with unescaped
percent signs are an error. (Unescaped percent signs in URLs are permitted.) Set
to <code>FALSE</code> to skip this check.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_.bib_expected">.bib_expected</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) Should <code>file.bib</code> be expected to 
have file extension <code>.bib</code>? If expectation violated, a warning is emitted.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_halt">halt</code></td>
<td>
<p>Whether to halt on error. If <code>NULL</code>, the default, the value
<code>getOption("TeXCheckR.halt_on_error")</code> is used. Otherwise, <code>TRUE</code> or
<code>FALSE</code> to halt
regardless of the value of the option.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_rstudio">rstudio</code></td>
<td>
<p>(logical, default: <code>FALSE</code>) If <code>TRUE</code>, pop the RStudio session
to the location in <code>file.bib</code> of the first error.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_.report_error">.report_error</code></td>
<td>
<p>A function like <code><a href="#topic+report2console">report2console</a></code> to handle errors.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_to_sort">to_sort</code></td>
<td>
<p>Include only author, title, year, and date.</p>
</td></tr>
<tr><td><code id="bib_parser_+3A_outfile.bib">outfile.bib</code></td>
<td>
<p>File to write the reordered bib to. Defaults to <code>file.bib</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bib2DT</code> returns a <code>data.table</code> of the entries in <code>file.bib</code>. The function
<code>reorder_bib</code> rewrites <code>file.bib</code>, to put it in surname, year, title, line number order.
</p>

<hr>
<h2 id='braces_closes_at'>Brace closes at</h2><span id='topic+braces_closes_at'></span>

<h3>Description</h3>

<p>Where do braces close?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>braces_closes_at(tex_line, position_of_opening_brace)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="braces_closes_at_+3A_tex_line">tex_line</code></td>
<td>
<p>A single line.</p>
</td></tr>
<tr><td><code id="braces_closes_at_+3A_position_of_opening_brace">position_of_opening_brace</code></td>
<td>
<p>An integer giving the position of the opening brace in question.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The positions of the closing brace matching the opening braces at <code>position_of_opening_brace</code>.
</p>

<hr>
<h2 id='check_biber'>Check biber</h2><span id='topic+check_biber'></span>

<h3>Description</h3>

<p>Check biber
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_biber(path = ".", rstudio = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_biber_+3A_path">path</code></td>
<td>
<p>The path containing the <code>blg</code> file, following successful compilation.</p>
</td></tr>
<tr><td><code id="check_biber_+3A_rstudio">rstudio</code></td>
<td>
<p>Use the RStudio API?</p>
</td></tr>
</table>

<hr>
<h2 id='check_consecutive_words'>Check consecutive typeset words</h2><span id='topic+check_consecutive_words'></span>

<h3>Description</h3>

<p>Check consecutive typeset words
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_consecutive_words(
  path = ".",
  latex_file = NULL,
  md5sum.ok = NULL,
  outfile = NULL,
  outfile.append = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_consecutive_words_+3A_path">path</code></td>
<td>
<p>Path containing the LaTeX file.</p>
</td></tr>
<tr><td><code id="check_consecutive_words_+3A_latex_file">latex_file</code></td>
<td>
<p>The LaTeX file (without path) whose output will be checked.</p>
</td></tr>
<tr><td><code id="check_consecutive_words_+3A_md5sum.ok">md5sum.ok</code></td>
<td>
<p>The output of <code>md5sum</code> of an acceptable LaTeX file. Since some repeated words will be spurious,
you can use the <code>md5sum</code> of the output of this function.</p>
</td></tr>
<tr><td><code id="check_consecutive_words_+3A_outfile">outfile</code></td>
<td>
<p>A file to which the output can be saved. If <code>NULL</code>, the default, the output is printed to the console (and not saved).</p>
</td></tr>
<tr><td><code id="check_consecutive_words_+3A_outfile.append">outfile.append</code></td>
<td>
<p>(logical, default: <code>FALSE</code>). Append or overwrite <code>outfile</code> if specified? If <code>FALSE</code>, the default, and file exists, <code>outfile</code> will be overwritten.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> if the <code>LaTeX</code> document does not create a PDF with lines repeated. 
An error if words are repeated on consecutive lines, together with <code>cat()</code> output of the offending lines. The output is presented in 'stanzas': 
</p>
<pre>'&lt;Repeated word&gt;'
        &lt;Context&gt;
</pre>
<p>for example a document that results in the following lines, notably the repetition of <em>household</em>, the output would be:
</p>
<pre>'household'
        affordable. This `mortgage burden' is often defined as the proportion of
        household income spent on repaying a mortgage. Depending on the
        household income measure used, the mortgage burden on a newly
        purchased first home, assuming a person borrows 80 per cent of the
        value of the home, is currently lower than much of the period between
</pre> 
<p>Lastly the error message contains the <code><a href="tools.html#topic+md5sum">md5sum</a></code> of the file is returned in the error message, so it can be supplied to <code>md5sum.ok</code>.
</p>

<hr>
<h2 id='check_dashes'>Check dashes entered as hyphens</h2><span id='topic+check_dashes'></span>

<h3>Description</h3>

<p>Check dashes entered as hyphens
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_dashes(
  filename,
  .report_error,
  dash.consistency = c("en-dash", "em-dash"),
  protases_ok = TRUE,
  rstudio = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_dashes_+3A_filename">filename</code></td>
<td>
<p>A tex or Rnw file.</p>
</td></tr>
<tr><td><code id="check_dashes_+3A_.report_error">.report_error</code></td>
<td>
<p>How errors should be reported.</p>
</td></tr>
<tr><td><code id="check_dashes_+3A_dash.consistency">dash.consistency</code></td>
<td>
<p>Character vector permitted dash types.</p>
</td></tr>
<tr><td><code id="check_dashes_+3A_protases_ok">protases_ok</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) Should em-dashes be permitted when 
they form a protasis in a list? <code>\item when there is an emdash---always.</code></p>
</td></tr>
<tr><td><code id="check_dashes_+3A_rstudio">rstudio</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) Use the RStudio API?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>File stops and <code>cat()</code>s on any line where a hyphen is surrounded by a space.
Excludes dashes in knitr chunks and LaTeX math mode <code>\(...\)</code> but not in TeX math mode <code>$...$</code>.
</p>

<hr>
<h2 id='check_escapes'>Check escapes</h2><span id='topic+check_escapes'></span>

<h3>Description</h3>

<p>Checks file for unescaped dollar signs. 
With these present, there is a risk of constructions like <code>We gave $10 to a million people at a cost of $10~million dollars.</code>,
which is valid syntax, but incorrectly formatted. Accordingly, math-mode must be more assertively requested using <code>\(..\)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_escapes(filename, .report_error)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_escapes_+3A_filename">filename</code></td>
<td>
<p>File in which to report the error</p>
</td></tr>
<tr><td><code id="check_escapes_+3A_.report_error">.report_error</code></td>
<td>
<p>How the errors should be reported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An error if unescaped dollar signs are present in <code>filename</code>. Otherwise, <code>NULL</code> invisibly.
</p>

<hr>
<h2 id='check_footnote_typography'>Check footnote typography</h2><span id='topic+check_footnote_typography'></span>

<h3>Description</h3>

<p>Check footnote typography
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_footnote_typography(
  filename,
  ignore.lines = NULL,
  .report_error,
  rstudio = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_footnote_typography_+3A_filename">filename</code></td>
<td>
<p>A LaTeX file.</p>
</td></tr>
<tr><td><code id="check_footnote_typography_+3A_ignore.lines">ignore.lines</code></td>
<td>
<p>Lines to ignore (for example, those using the word 'footnote').</p>
</td></tr>
<tr><td><code id="check_footnote_typography_+3A_.report_error">.report_error</code></td>
<td>
<p>A function to provide context to any errors.</p>
</td></tr>
<tr><td><code id="check_footnote_typography_+3A_rstudio">rstudio</code></td>
<td>
<p>(logical, default: <code>FALSE</code>) Should the RStudio API be used?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://github.com/grattan/grattex/blob/master/doc/grattexDocumentation.pdf">https://github.com/grattan/grattex/blob/master/doc/grattexDocumentation.pdf</a> for full set of error conditions.
</p>


<h3>Value</h3>

<p>Called for its side-effect.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  tex_file &lt;- tempfile(fileext = ".tex")
  cat("Footnote not ending with full stop.\\footnote{No sentence}", file = tex_file)
  check_footnote_typography(tex_file)

## End(Not run)

</code></pre>

<hr>
<h2 id='check_labels'>Check labels</h2><span id='topic+check_labels'></span>

<h3>Description</h3>

<p>Check labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_labels(filename, .report_error, check.chaprefs = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_labels_+3A_filename">filename</code></td>
<td>
<p>The LaTeX source file to check.</p>
</td></tr>
<tr><td><code id="check_labels_+3A_.report_error">.report_error</code></td>
<td>
<p>The function to provide context to the error.</p>
</td></tr>
<tr><td><code id="check_labels_+3A_check.chaprefs">check.chaprefs</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) If <code>TRUE</code>, require all cross-references to use <code>\Chapref</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Checks each label has a prefix and the prefix is one of the following:
<code>fig:</code>,
<code>tbl:</code>,
<code>box:</code>,
<code>chap:</code>,
<code>sec:</code>,
<code>eq:</code>,
<code>subsec:</code>,
<code>subsubsec:</code>,
<code>para:</code>
<code>paragraph:</code>.
Checks also that chapter labels are marked with <code>chap:</code>. 
(N.B. although each label must have a prefix, it must not necessarily the <em>right</em> prefix; 
for example, a table caption may have prefix <code>tbl:</code>.)
</p>


<h3>Value</h3>

<p><code>NULL</code>, invisibly if labels check out. An error otherwise.
</p>

<hr>
<h2 id='check_literal_citations'>Check that citations are all using cites</h2><span id='topic+check_literal_citations'></span>

<h3>Description</h3>

<p>Check that citations are all using cites
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_literal_citations(filename, .report_error)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_literal_citations_+3A_filename">filename</code></td>
<td>
<p>TeX document</p>
</td></tr>
<tr><td><code id="check_literal_citations_+3A_.report_error">.report_error</code></td>
<td>
<p>Function to report errors</p>
</td></tr>
</table>

<hr>
<h2 id='check_literal_xrefs'>Check for hard-coded cross-references</h2><span id='topic+check_literal_xrefs'></span>

<h3>Description</h3>

<p>Check for hard-coded cross-references
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_literal_xrefs(filename, .report_error)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_literal_xrefs_+3A_filename">filename</code></td>
<td>
<p>The TeX file to check</p>
</td></tr>
<tr><td><code id="check_literal_xrefs_+3A_.report_error">.report_error</code></td>
<td>
<p>How errors should be reported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An error, or if none found, <code>NULL</code> invisibly.
</p>

<hr>
<h2 id='check_quote_marks'>Check quote marks in TeX</h2><span id='topic+check_quote_marks'></span>

<h3>Description</h3>

<p>Checks whether a closing quote has been used at the start of a word.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_quote_marks(filename, .report_error, rstudio = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_quote_marks_+3A_filename">filename</code></td>
<td>
<p>LaTeX filename.</p>
</td></tr>
<tr><td><code id="check_quote_marks_+3A_.report_error">.report_error</code></td>
<td>
<p>A function determining how errors will be reported.</p>
</td></tr>
<tr><td><code id="check_quote_marks_+3A_rstudio">rstudio</code></td>
<td>
<p>Use the <code>rstudioapi</code> package to jump to the location of the first error.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  tex_file &lt;- tempfile(fileext = ".tex")
  cat("This is the wrong 'quote' mark.", file = tex_file)
  check_quote_marks(tex_file)
  file.remove(tex_file)

## End(Not run)

</code></pre>

<hr>
<h2 id='check_spelling'>Spell checking</h2><span id='topic+check_spelling'></span>

<h3>Description</h3>

<p>Spell checking
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_spelling(
  filename,
  tex_root = dirname(filename),
  pre_release = TRUE,
  ignore.lines = NULL,
  known.correct = NULL,
  known.correct.fixed = NULL,
  known.wrong = NULL,
  ignore_spelling_in = NULL,
  ignore_spelling_in_nth = NULL,
  bib_files,
  check_etcs = TRUE,
  dict_lang = "en_GB",
  rstudio = FALSE,
  .report_error
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_spelling_+3A_filename">filename</code></td>
<td>
<p>Path to a LaTeX file to check.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_tex_root">tex_root</code></td>
<td>
<p>The root path of the filename. Provide this if you are checking an <code>\input</code>
file that has a different root directory to its parent.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_pre_release">pre_release</code></td>
<td>
<p>Should the document be assumed to be final?
Setting to <code>FALSE</code> permits the use of <code>ignore_spelling_in</code> and permits 
<code>add_to_dictionary</code> to be
present outside the document preamble.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_ignore.lines">ignore.lines</code></td>
<td>
<p>Integer vector of lines to ignore (due to possibly spurious errors).</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_known.correct">known.correct</code></td>
<td>
<p>Character vector of patterns known to be correct (which will never be raised
by this function).</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_known.correct.fixed">known.correct.fixed</code></td>
<td>
<p>Character vector of words known to be correct (which will never be 
raised by this function).</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_known.wrong">known.wrong</code></td>
<td>
<p>Character vector of patterns known to be wrong.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_ignore_spelling_in">ignore_spelling_in</code></td>
<td>
<p>Command whose first mandatory argument will be ignored.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_ignore_spelling_in_nth">ignore_spelling_in_nth</code></td>
<td>
<p>Named list of arguments to ignore; names are the commands to be ignored, values are the <code>n</code>th argument to be ignored.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_bib_files">bib_files</code></td>
<td>
<p>Bibliography files (containing possible clues to misspellings). If supplied, and
this function would otherwise throw an error, the <code>.bib</code> files are read and any author 
names that match the misspelled words are added to the dictionary.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_check_etcs">check_etcs</code></td>
<td>
<p>If <code>TRUE</code>, stop if any variations of <code>etc</code>, <code>ie</code>, and <code>eg</code>
are present. (If they are typed literally, they may be formatted inconsistently. Using a macro
ensures they appear consistently.)</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_dict_lang">dict_lang</code></td>
<td>
<p>Passed to <code>hunspell::dictionary</code>.</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_rstudio">rstudio</code></td>
<td>
<p>Use the RStudio API?</p>
</td></tr>
<tr><td><code id="check_spelling_+3A_.report_error">.report_error</code></td>
<td>
<p>A function to provide context to any errors. If missing, defaults to 
<code><a href="#topic+report2console">report2console</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Extends and enhances <code>hunspell</code>:
</p>

<ul>
<li><p>You can add directives 
in the document itself. To add a word <code>foobaz</code> to the dictionary (so its presence does not
throw an error), write <code>% add_to_dictionary: foobaz</code> on a single line. The advantage of 
this method is that you can collaborate on the document without having to keep track of which
spelling errors are genuine.
</p>
</li>
<li><p>The 
directive <code>% ignore_spelling_in: mycmd</code> which will ignore the spelling of words within the first argument
of <code>\mycmd</code>.
</p>
</li>
<li><p><code>ignore_spelling_in_file: &lt;file.tex&gt;</code> will skip the check of <code>&lt;file.tex&gt;</code> if it 
is <code>input</code> or <code>include</code> in <code>filename</code>, as well as any files within it. Should 
appear as it is within <code>input</code> but with the file extension
</p>
</li>
<li><p>Only the root document need be supplied; 
any files that are fed via <code>\input</code> or <code>\include</code> are checked (recursively).
</p>
</li>
<li><p>A historical advantages was that the contents of certain commands were not checked, the spelling of which need not be checked 
as they are not printed, <code>viz.</code> citation and cross-reference commands, and certain optional
arguments. Most of these
are now parsed correctly by <code><a href="hunspell.html#topic+hunspell">hunspell</a></code>, though some still need to be 
supplied (including, naturally, user-supplied macros).
</p>
</li>
<li><p>Abbreviations and initialisms which are validly introduced will not throw errors. See
<code><a href="#topic+extract_valid_abbrevations">extract_valid_abbrevations</a></code>.
</p>
</li>
<li><p>Words preceded by '[sic]' will not throw errors.
</p>
</li></ul>

<p>The package comes with a suite of <code><a href="#topic+correctly_spelled_words">correctly_spelled_words</a></code> that were not present in <code>hunspell</code>'s 
dictionary. 
</p>
<p>This function should be quite fast, but slower than <code>hunspell::hunspell</code> (which it invokes). 
I aim for less than 500 ms on a real-world report of around 100 pages.
The function is slower when it needs to consult <code>bib_files</code>, though I recommend adding authors, titles, etc. 
to the dictionary
explicitly, or using <code>citeauthor</code> and friends. 
</p>
<p>This function is forked from <a href="https://github.com/hughparsonage/grattanReporter">https://github.com/hughparsonage/grattanReporter</a> to parse reports of the Grattan Institute, Melbourne for errors. See
<a href="https://github.com/grattan/grattex/blob/master/doc/grattexDocumentation.pdf">https://github.com/grattan/grattex/blob/master/doc/grattexDocumentation.pdf</a> for the full spec.
Some checks that package performs have been omitted in this package.
</p>


<h3>Value</h3>

<p>Called primarily for its side-effect. If the spell check fails, the line at which the 
first error was detected, with an error message. If the check succeeds, <code>NULL</code> invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
url_bib &lt;- 
paste0("https://raw.githubusercontent.com/HughParsonage/",
       "grattex/e6cab97145d38890e44e83d122e995e3b8936fc6/",
       "Report.tex")
check_spelling(url_bib)

## End(Not run)

</code></pre>

<hr>
<h2 id='check_xrefs'>Check cross-references</h2><span id='topic+check_xrefs'></span>

<h3>Description</h3>

<p>Check cross-references that are repetitive or (in the case of <code style="white-space: pre;">&#8288;cleveref&#8288;</code> and <code style="white-space: pre;">&#8288;varioref&#8288;</code>) incorrect case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_xrefs(filename, permitted.case = c(NA, "upper", "lower"), .report_error)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_xrefs_+3A_filename">filename</code></td>
<td>
<p>A LaTeX file</p>
</td></tr>
<tr><td><code id="check_xrefs_+3A_permitted.case">permitted.case</code></td>
<td>
<p>One of <code>NA, "upper", "lower"</code>. If <code>NA</code>, the default,
both <code style="white-space: pre;">&#8288;\Cref&#8288;</code> and <code style="white-space: pre;">&#8288;\cref&#8288;</code> are permitted, but not in the same document.
If <code>upper</code>, only <code style="white-space: pre;">&#8288;\Cref&#8288;</code> 
is permitted; if <code>lower</code>, only <code style="white-space: pre;">&#8288;\cref&#8288;</code>.
If <code>NULL</code>, the case is not checked at all.</p>
</td></tr>
<tr><td><code id="check_xrefs_+3A_.report_error">.report_error</code></td>
<td>
<p>The function to provide context to the error.</p>
</td></tr>
</table>

<hr>
<h2 id='commands_used'>List all unique commands in a document</h2><span id='topic+commands_used'></span>

<h3>Description</h3>

<p>List all unique commands in a document
</p>


<h3>Usage</h3>

<pre><code class='language-R'>commands_used(tex_lines)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="commands_used_+3A_tex_lines">tex_lines</code></td>
<td>
<p>A LaTeX document as read from <code>readr::read_lines</code> or <code>readLines</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of unique commands used in <code>tex_lines</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>commands_used(c("A \\abc{d}", "\\def{x}"))

</code></pre>

<hr>
<h2 id='correctly_spelled_words'>List of correctly spelled words</h2><span id='topic+correctly_spelled_words'></span>

<h3>Description</h3>

<p>List of correctly spelled words
</p>


<h3>Usage</h3>

<pre><code class='language-R'>correctly_spelled_words
</code></pre>


<h3>Format</h3>

<p>A character vector of words as perl-regex patterns to skip during the spell check.
</p>

<hr>
<h2 id='CORRECTLY_SPELLED_WORDS_CASE_SENSITIVE'>List of correctly spelled, case-sensitive words</h2><span id='topic+CORRECTLY_SPELLED_WORDS_CASE_SENSITIVE'></span>

<h3>Description</h3>

<p>List of correctly spelled, case-sensitive words
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CORRECTLY_SPELLED_WORDS_CASE_SENSITIVE
</code></pre>


<h3>Format</h3>

<p>A character vector of words as perl-regex case-sensitive patterns to skip during the spell check.
</p>

<hr>
<h2 id='extract_LaTeX_argument'>Extract LaTeX command argument</h2><span id='topic+extract_LaTeX_argument'></span>

<h3>Description</h3>

<p>This is a simple wrapper around <code><a href="#topic+extract_mandatory_LaTeX_argument">extract_mandatory_LaTeX_argument</a></code> and <code><a href="#topic+extract_optional_LaTeX_argument">extract_optional_LaTeX_argument</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_LaTeX_argument(tex_lines, command_name, n = 1L, optional = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_LaTeX_argument_+3A_tex_lines">tex_lines</code></td>
<td>
<p>LaTeX text.</p>
</td></tr>
<tr><td><code id="extract_LaTeX_argument_+3A_command_name">command_name</code></td>
<td>
<p>Name of command without backslash <code>\textbf</code> corresponds to <code>command_name = "textbf"</code>.</p>
</td></tr>
<tr><td><code id="extract_LaTeX_argument_+3A_n">n</code></td>
<td>
<p>Which argument to extract, if exists.</p>
</td></tr>
<tr><td><code id="extract_LaTeX_argument_+3A_optional">optional</code></td>
<td>
<p>Extract the optional argument, rather than the mandatory arguments.</p>
</td></tr>
</table>

<hr>
<h2 id='extract_mandatory_LaTeX_argument'>Extract mandatory argument II</h2><span id='topic+extract_mandatory_LaTeX_argument'></span>

<h3>Description</h3>

<p>Extract mandatory argument II
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_mandatory_LaTeX_argument(
  tex_lines,
  command_name,
  n = 1L,
  by.line = FALSE,
  parsed_doc = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_mandatory_LaTeX_argument_+3A_tex_lines">tex_lines</code></td>
<td>
<p>A character vector of lines as read from a LaTeX document.</p>
</td></tr>
<tr><td><code id="extract_mandatory_LaTeX_argument_+3A_command_name">command_name</code></td>
<td>
<p>The command name (no backslash or opening brace).</p>
</td></tr>
<tr><td><code id="extract_mandatory_LaTeX_argument_+3A_n">n</code></td>
<td>
<p>Which integer to</p>
</td></tr>
<tr><td><code id="extract_mandatory_LaTeX_argument_+3A_by.line">by.line</code></td>
<td>
<p>If <code>FALSE</code>, the default, each row of the <code>data.table</code> returned 
has the entire contents of the argument in <code>extract</code> column. If <code>TRUE</code>, 
the contents is split as it is in the document; arguments over multiple lines in the 
document are split over multiple rows in the <code>data.table</code> returned.</p>
</td></tr>
<tr><td><code id="extract_mandatory_LaTeX_argument_+3A_parsed_doc">parsed_doc</code></td>
<td>
<p>A parsed document (from <code><a href="#topic+parse_tex">parse_tex</a></code>).
<code>parse_tex</code>. Use this argument if the cost of running <code>parse_tex</code> is 
expensive (such as repeatedly over the same document).</p>
</td></tr>
</table>

<hr>
<h2 id='extract_optional_LaTeX_argument'>Extract optional argument</h2><span id='topic+extract_optional_LaTeX_argument'></span>

<h3>Description</h3>

<p>Extract optional argument
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_optional_LaTeX_argument(
  tex_lines,
  command_name,
  n = 1L,
  by.line = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_optional_LaTeX_argument_+3A_tex_lines">tex_lines</code></td>
<td>
<p>A character vector reading from a LaTeX document.</p>
</td></tr>
<tr><td><code id="extract_optional_LaTeX_argument_+3A_command_name">command_name</code></td>
<td>
<p>Name of command (without backslash)</p>
</td></tr>
<tr><td><code id="extract_optional_LaTeX_argument_+3A_n">n</code></td>
<td>
<p>Which optional argument to extract.</p>
</td></tr>
<tr><td><code id="extract_optional_LaTeX_argument_+3A_by.line">by.line</code></td>
<td>
<p>Should the output be one row per command (<code>FALSE</code>, the default), 
with extracts concatenated via <code>paste0(..., collapse = "")</code>
or one row per line per command?</p>
</td></tr>
</table>

<hr>
<h2 id='extract_validate_abbreviations'>Extract valid abbreviations and initialisms</h2><span id='topic+extract_validate_abbreviations'></span><span id='topic+extract_valid_abbrevations'></span>

<h3>Description</h3>

<p>Extracts abbreviations which are preceded by the full text (<em>e.g.</em> 'The Quebec Xylophone Enterprise Foundation (QXEF)').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_validate_abbreviations(lines)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_validate_abbreviations_+3A_lines">lines</code></td>
<td>
<p>Lines to extract</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only 'valid' abbreviations are extracted, viz. those abbreviations of the form <code>(ABC)</code> where the first letters 
of the preceding words 
(excluding some common words like <code>of</code>, <code>and</code>, etc.) are 'a', 'b', 'c'.
</p>


<h3>Value</h3>

<p>Character vector of abbreviations of the form (ABC)
</p>

<hr>
<h2 id='figs_tbls_unrefd'>Return unreferenced figures or tables in document</h2><span id='topic+figs_tbls_unrefd'></span>

<h3>Description</h3>

<p>Useful for checking whether all the figures and tables in a document have been 
referenced in the main text. You may exclude figures and tables from the check by using
the directive 
<code>% may_be_left_unreferenced: </code>
in the preamble before the label that is to be excluded.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>figs_tbls_unrefd(filename, .report_error, check.labels = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="figs_tbls_unrefd_+3A_filename">filename</code></td>
<td>
<p>A LaTeX file.</p>
</td></tr>
<tr><td><code id="figs_tbls_unrefd_+3A_.report_error">.report_error</code></td>
<td>
<p>A function to provide context to any errors.</p>
</td></tr>
<tr><td><code id="figs_tbls_unrefd_+3A_check.labels">check.labels</code></td>
<td>
<p>if <code>TRUE</code>, the default, run <code><a href="#topic+check_labels">check_labels</a></code> on <code>filename</code> to ensure the figure and table
labels in <code>filename</code> are in the expected form or style. Set to <code>FALSE</code>
for possibly faster runs but the risk of spurious results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The labels of any figure or table left unreferenced in <code>filename</code> (including inputs).
</p>

<hr>
<h2 id='inputs_of'>Inputs to files nested within LaTeX document</h2><span id='topic+inputs_of'></span>

<h3>Description</h3>

<p>Inputs to files nested within LaTeX document
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inputs_of(filename, exclude.preamble = TRUE, append.tex = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inputs_of_+3A_filename">filename</code></td>
<td>
<p>The file whose <code>\inputs</code> are to be extracted.</p>
</td></tr>
<tr><td><code id="inputs_of_+3A_exclude.preamble">exclude.preamble</code></td>
<td>
<p>(logical) If <code>TRUE</code>, the default, only <code>\input</code>s and <code>\include</code>s within the <code>document</code> environment are returned.</p>
</td></tr>
<tr><td><code id="inputs_of_+3A_append.tex">append.tex</code></td>
<td>
<p>Should the result include the file extension <code>.tex</code>? By default, <code>TRUE</code>. Setting to <code>FALSE</code> may be useful when the file is not a <code>.tex</code> file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of file paths relative to <code>filename</code> that are
used as <code>\input</code>s or <code>\include</code>s within <code>filename</code>. If 
no such files are present within <code>filename</code>, <code>NULL</code> is returned.
</p>

<hr>
<h2 id='isR_line_in_knitr'>Is a line in knitr R or not?</h2><span id='topic+isR_line_in_knitr'></span>

<h3>Description</h3>

<p>Is a line in knitr R or not?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isR_line_in_knitr(lines)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="isR_line_in_knitr_+3A_lines">lines</code></td>
<td>
<p>Lines to check, as in the result of <code>readLines</code>. Not a filename.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if in knitr chunk (including boundaries). <code>FALSE</code> otherwise.
</p>

<hr>
<h2 id='lint_bib'>Tidy bibliography so equals signs align</h2><span id='topic+lint_bib'></span>

<h3>Description</h3>

<p>Tidy bibliography so equals signs align
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lint_bib(bib_file, outfile = bib_file, leading_spaces = 2L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lint_bib_+3A_bib_file">bib_file</code></td>
<td>
<p>The bib file to tidy.</p>
</td></tr>
<tr><td><code id="lint_bib_+3A_outfile">outfile</code></td>
<td>
<p>Optionally, the tidied bib file to write to.</p>
</td></tr>
<tr><td><code id="lint_bib_+3A_leading_spaces">leading_spaces</code></td>
<td>
<p>The number of spaces before each field within an entry.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Aligns the equals signs in <code>bib_file</code> and ensures all fields have a trailing comma.
</p>

<hr>
<h2 id='locate_mandatory_LaTeX_argument'>Locate contents of LaTeX commands</h2><span id='topic+locate_mandatory_LaTeX_argument'></span>

<h3>Description</h3>

<p>Provides the locations of LaTeX commands with mandatory arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>locate_mandatory_LaTeX_argument(
  tex_lines,
  command_name,
  n = 1L,
  parsed_doc = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="locate_mandatory_LaTeX_argument_+3A_tex_lines">tex_lines</code></td>
<td>
<p>A character vector of a LaTeX document, 
&ndash; for example as obtained from <code>readLines("mydoc.tex")</code>.</p>
</td></tr>
<tr><td><code id="locate_mandatory_LaTeX_argument_+3A_command_name">command_name</code></td>
<td>
<p>The command (without backslash) whose arguments' locations are desired.</p>
</td></tr>
<tr><td><code id="locate_mandatory_LaTeX_argument_+3A_n">n</code></td>
<td>
<p>Integer vector: which argument(s) to locate. If <code>n = NA</code>, the n-th argument
positions <em>for all n</em>.</p>
</td></tr>
<tr><td><code id="locate_mandatory_LaTeX_argument_+3A_parsed_doc">parsed_doc</code></td>
<td>
<p>The result of <code>parse_tex(tex_lines)</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='minimal_bib'>Generate a minimal bibliography file</h2><span id='topic+minimal_bib'></span>

<h3>Description</h3>

<p>Generate a minimal bibliography file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>minimal_bib(path = ".", bbl.file = NULL, bib.files = NULL, out.bib = bib.files)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="minimal_bib_+3A_path">path</code></td>
<td>
<p>A directory containing a document after it has been run with <code>pdflatex</code>.</p>
</td></tr>
<tr><td><code id="minimal_bib_+3A_bbl.file">bbl.file</code></td>
<td>
<p>A <code>.bbl</code> file.</p>
</td></tr>
<tr><td><code id="minimal_bib_+3A_bib.files">bib.files</code></td>
<td>
<p>The <code>.bib</code> file or files that were used by BibLaTeX to produce the bibliography.
If <code>NULL</code>, the default, the files are inferred from the contents of <code>\\addbibresource</code> within the (unique) <code>.tex</code> file are used.</p>
</td></tr>
<tr><td><code id="minimal_bib_+3A_out.bib">out.bib</code></td>
<td>
<p>The new file of bibliography.</p>
</td></tr>
</table>

<hr>
<h2 id='parse_tex'>Parse LaTeX lines</h2><span id='topic+parse_tex'></span>

<h3>Description</h3>

<p>Parse LaTeX lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_tex(tex_lines)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_tex_+3A_tex_lines">tex_lines</code></td>
<td>
<p>Character vector (as read from a <code>.tex</code> file).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.table</code> where each row identifies a unique character in <code>tex_lines</code>.
</p>

<dl>
<dt><code>line_no</code></dt><dd><p>Matches the index of <code>tex_lines</code>.</p>
</dd>
<dt><code>char_no</code></dt><dd><p>The character within <code>line_no</code>.</p>
</dd>
<dt><code>char</code></dt><dd><p>The character. A single character.</p>
</dd>
<dt><code>tex_group</code></dt><dd><p>The TeX group by default. Any delimiters can be used.</p>
</dd>
<dt><code>optional_tex_group</code></dt><dd><p>(If any present), the optional TeX group.</p>
</dd>
<dt><code>tgi</code></dt><dd><p>The number of braces opened at the <code>i</code>-th current TeX group level.</p>
</dd>
<dt><code>GROUP_IDi</code></dt><dd><p>An integer identifying the unique contiguous block at the TeX group at or above the current group level.</p>
</dd>
<dt><code>GROUP_IDi</code></dt><dd><p>The analog for optional groups.</p>
</dd>
</dl>

<p>If <code>tex_lines</code> is zero-length, a null <code>data.table</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parse_tex(c("A{}", "B[a]{b{c}{d}}z"))
# The version transposed:
#
#&gt;          char : A{}B[a]{b{c}{d}}z
#&gt;           tg1 : 011111122......22
#&gt;           tg2 : 00000000011122222
#&gt;           og1 : 00001111111111111
#&gt;     GROUP_ID1 : .11....222222222.
#&gt;     GROUP_ID2 : .........111222..
#&gt; OPT_GROUP_ID1 : ....111..........
</code></pre>

<hr>
<h2 id='position_of_string'>Position of strings</h2><span id='topic+position_of_string'></span><span id='topic+positions_of_all_strings'></span>

<h3>Description</h3>

<p>Position of strings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_of_string(tex_line_split, command_split, end = TRUE)

positions_of_all_strings(tex_line, command_name, end = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="position_of_string_+3A_tex_line_split">tex_line_split</code></td>
<td>
<p>A split line (via <code>strsplit(x, split = "")</code>).</p>
</td></tr>
<tr><td><code id="position_of_string_+3A_command_split">command_split</code></td>
<td>
<p>The string the position of which is desired, split (via <code>strsplit(x, split = "")</code>).</p>
</td></tr>
<tr><td><code id="position_of_string_+3A_end">end</code></td>
<td>
<p>(logical) Should the position of the <strong>end</strong> of the string.
By default, <code>TRUE</code>; otherwise, the start of the string is chosen.</p>
</td></tr>
<tr><td><code id="position_of_string_+3A_tex_line">tex_line</code></td>
<td>
<p>A line of text.</p>
</td></tr>
<tr><td><code id="position_of_string_+3A_command_name">command_name</code></td>
<td>
<p>The string the position of which is desired.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The end (or start if end = FALSE) of the location of command
</p>

<hr>
<h2 id='read_tex_document'>Read a LaTeX document</h2><span id='topic+read_tex_document'></span>

<h3>Description</h3>

<p>Read a LaTeX document
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_tex_document(file_root)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_tex_document_+3A_file_root">file_root</code></td>
<td>
<p>The root of the TeX file.</p>
</td></tr>
</table>

<hr>
<h2 id='report_error'>Report errors to console</h2><span id='topic+report_error'></span><span id='topic+report2console'></span>

<h3>Description</h3>

<p>Report errors to console
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report2console(
  file = NULL,
  line_no = NULL,
  column = NULL,
  context = NULL,
  error_message = NULL,
  advice = NULL,
  build_status = NULL,
  extra_cat_ante = NULL,
  extra_cat_post = NULL,
  caret = FALSE,
  rstudio = FALSE,
  log_file = NULL,
  log_file_sep = "|",
  silent = FALSE,
  halt = getOption("TeXCheckR.halt_on_error", FALSE),
  as_tbl = getOption("TeXCheckR.error_as_tbl", FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="report_error_+3A_file">file</code></td>
<td>
<p>The file in which the error occurred.</p>
</td></tr>
<tr><td><code id="report_error_+3A_line_no">line_no</code></td>
<td>
<p>The line number locating the source of the error.</p>
</td></tr>
<tr><td><code id="report_error_+3A_column">column</code></td>
<td>
<p>The position on the line to identify the error (usually following the error).</p>
</td></tr>
<tr><td><code id="report_error_+3A_context">context</code></td>
<td>
<p>The content of the file, to provide context to the error.</p>
</td></tr>
<tr><td><code id="report_error_+3A_error_message">error_message</code></td>
<td>
<p>The error message to display beyond the console.</p>
</td></tr>
<tr><td><code id="report_error_+3A_advice">advice</code></td>
<td>
<p>Advice to the user: how should the detected error be resolved in general?</p>
</td></tr>
<tr><td><code id="report_error_+3A_build_status">build_status</code></td>
<td>
<p>What should the build status be reported as?</p>
</td></tr>
<tr><td><code id="report_error_+3A_extra_cat_ante">extra_cat_ante</code></td>
<td>
<p>Character vector extra messages (placed before <code>context</code>).</p>
</td></tr>
<tr><td><code id="report_error_+3A_extra_cat_post">extra_cat_post</code></td>
<td>
<p>Character vector extra messages (placed after <code>context</code>).</p>
</td></tr>
<tr><td><code id="report_error_+3A_caret">caret</code></td>
<td>
<p>(logical, default: <code>FALSE</code>) Should a caret symbol be placed beneath the 
<code>context</code> to point to the location of the error? The caret will be inserted on a
new line after <code>error_message</code> and <code>extra_cat_post</code>.
</p>
<p>Length-one integer values of <code>caret</code> are permitted and will be interpreted as the
number of caret symbols to be inserted at the position.</p>
</td></tr>
<tr><td><code id="report_error_+3A_rstudio">rstudio</code></td>
<td>
<p>If available, should the report be allowed to modify the RStudio session (for example, to pop to the location of the error)?</p>
</td></tr>
<tr><td><code id="report_error_+3A_log_file">log_file</code></td>
<td>
<p>Optionally, path to a log file on which <code>error_message</code> will be written.</p>
</td></tr>
<tr><td><code id="report_error_+3A_log_file_sep">log_file_sep</code></td>
<td>
<p>How should the log file's fields be separated? By default, with a pipe (as tabs are common within error messages).</p>
</td></tr>
<tr><td><code id="report_error_+3A_silent">silent</code></td>
<td>
<p>(logical, default: <code>FALSE</code>) Suppress all output.</p>
</td></tr>
<tr><td><code id="report_error_+3A_halt">halt</code></td>
<td>
<p>Should failures halt via <code>stop</code> or just display a message in the console?</p>
</td></tr>
<tr><td><code id="report_error_+3A_as_tbl">as_tbl</code></td>
<td>
<p>Return a list. Experimental.</p>
</td></tr>
</table>

<hr>
<h2 id='rm_editorial_square_brackets'>Remove editorial square brackets</h2><span id='topic+rm_editorial_square_brackets'></span>

<h3>Description</h3>

<p>Change text such as <code>phas[e] out</code> to <code>phase out</code>,
without removing square brackets denoting optional arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_editorial_square_brackets(tex_lines)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rm_editorial_square_brackets_+3A_tex_lines">tex_lines</code></td>
<td>
<p>Lines (as from <code>readLines</code>).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- "the BCA's call to `urgently phas[e] out all side deals'"
rm_editorial_square_brackets(x)

</code></pre>

<hr>
<h2 id='separate_sentences'>Put sentences on their own line</h2><span id='topic+separate_sentences'></span>

<h3>Description</h3>

<p>Put sentences on their own line
</p>


<h3>Usage</h3>

<pre><code class='language-R'>separate_sentences(filename, hanging_footnotes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="separate_sentences_+3A_filename">filename</code></td>
<td>
<p>A tex or knitr file in which to separate sentences.</p>
</td></tr>
<tr><td><code id="separate_sentences_+3A_hanging_footnotes">hanging_footnotes</code></td>
<td>
<p>(logical, default: <code>FALSE</code>) Should footnotes be indented?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. The function is called for its side-effect: rewriting <code>filename</code> with separated sentences.
</p>

<hr>
<h2 id='split_report'>Split report into include-able files</h2><span id='topic+split_report'></span>

<h3>Description</h3>

<p>Split report into include-able files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_report(
  Report.tex,
  include = TRUE,
  subdir = "tex",
  use.chapter.title = TRUE,
  out.tex = Report.tex
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="split_report_+3A_report.tex">Report.tex</code></td>
<td>
<p>File to split.</p>
</td></tr>
<tr><td><code id="split_report_+3A_include">include</code></td>
<td>
<p>Should <code>\include</code> or <code>\input</code> be used? If <code>TRUE</code>, the default, <code>\include</code> is used.</p>
</td></tr>
<tr><td><code id="split_report_+3A_subdir">subdir</code></td>
<td>
<p>What directory should each chapter file be written in? By default, a subdirectory of the folder containing <code>Report.tex</code>, called <code>tex</code>, is used.</p>
</td></tr>
<tr><td><code id="split_report_+3A_use.chapter.title">use.chapter.title</code></td>
<td>
<p>Should the chapter title be used to name the chapter files? If <code>TRUE</code>, the default, the title is used (with characters outside <code>[a-zA-Z0-9]</code> replaced by spaces), prefixed by the chapter number; otherwise, just the chapter number is used.</p>
</td></tr>
<tr><td><code id="split_report_+3A_out.tex">out.tex</code></td>
<td>
<p>The new root file. By default, same as <code>Report.tex</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='strip_comments'>Strip comments from LaTeX lines</h2><span id='topic+strip_comments'></span>

<h3>Description</h3>

<p>Strip comments from LaTeX lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strip_comments(lines, retain.percent.symbol = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="strip_comments_+3A_lines">lines</code></td>
<td>
<p>Character vector of a LaTeX document.</p>
</td></tr>
<tr><td><code id="strip_comments_+3A_retain.percent.symbol">retain.percent.symbol</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) Should the <code style="white-space: pre;">&#8288;%&#8288;</code> symbol itself be stripped?</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>lines</code> but with all text to the right of every unescaped <code style="white-space: pre;">&#8288;%&#8288;</code> removed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
some_lines &lt;- c("Text. % A comment", "20\\% of comments are % useful")
strip_comments(some_lines)
strip_comments(some_lines, retain.percent.symbol = FALSE)
</code></pre>

<hr>
<h2 id='tex_group_by_char'>TeX group by character position</h2><span id='topic+tex_group_by_char'></span>

<h3>Description</h3>

<p>Opening a brace increases the 'group' in TeX. For example, in <code>a{bc}{d{e}}</code>
<code>a</code> is in group 0, <code>bc</code> in group 1 as is <code>d</code> and <code>e</code> is in group 2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tex_group_by_char(tex_lines, optional = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tex_group_by_char_+3A_tex_lines">tex_lines</code></td>
<td>
<p>Character vector of a document LaTeX.</p>
</td></tr>
<tr><td><code id="tex_group_by_char_+3A_optional">optional</code></td>
<td>
<p>If <code>FALSE</code> (the default), the groups are taken with respect to braces. 
If <code>TRUE</code>, square brackets are used (perhaps not associated with a command).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list the same length as <code>lines</code>. Each element an integer vector indicating the 
TeX group at that position. 
</p>
<p>For positions <strong>at</strong> braces the <strong>upcoming</strong> group is returned. 
So <code>a{b}</code> should return <code>0 1 1 0</code> (in its first element).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tex_group_by_char("a{bc}{d{e}}")
</code></pre>

<hr>
<h2 id='valid_English_contractions'>Valid English contractions</h2><span id='topic+valid_English_contractions'></span>

<h3>Description</h3>

<p>List of words which should never raise a spelling error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valid_English_contractions
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 110.
</p>


<h3>Source</h3>

<p><a href="https://gist.githubusercontent.com/J3RN/ed7b420a6ea1d5bd6d06/raw/acda66b325a2b4d7282fb602a7551912cdc81e74/contractions.txt">https://gist.githubusercontent.com/J3RN/ed7b420a6ea1d5bd6d06/raw/acda66b325a2b4d7282fb602a7551912cdc81e74/contractions.txt</a>
</p>

<hr>
<h2 id='validate_bibliography'>Validate bibliography according to Grattan style</h2><span id='topic+validate_bibliography'></span>

<h3>Description</h3>

<p>Validate bibliography according to Grattan style
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_bibliography(path = ".", file = NULL, .report_error, rstudio = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_bibliography_+3A_path">path</code></td>
<td>
<p>Containing the bib file.</p>
</td></tr>
<tr><td><code id="validate_bibliography_+3A_file">file</code></td>
<td>
<p>The bib file if specified.</p>
</td></tr>
<tr><td><code id="validate_bibliography_+3A_.report_error">.report_error</code></td>
<td>
<p>How errors should be reported.</p>
</td></tr>
<tr><td><code id="validate_bibliography_+3A_rstudio">rstudio</code></td>
<td>
<p>Use the RStudio API to jump to errors.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a highly fastidious test of the bibliography. Useful for collaboration to ensure consistent style.
</p>


<h3>Value</h3>

<p><code>NULL</code> if bibliography validated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
bib_temp &lt;- tempfile(fileext = ".bib")
url_bib &lt;- 
  paste0("https://raw.githubusercontent.com/HughParsonage/",
         "grattex/e6cab97145d38890e44e83d122e995e3b8936fc6",
         "/bib/Grattan-Master-Bibliography.bib")

download.file(url_bib, destfile = bib_temp)
validate_bibliography(file = bib_temp)

bib_temp &lt;- tempfile(fileext = ".bib")
url_bib &lt;- 
  paste0("https://raw.githubusercontent.com/HughParsonage/",
         "grattex/8f7f52a28789d12a363ceb30cea3b41f590ae58a",
         "/bib/Grattan-Master-Bibliography.bib")
download.file(url_bib, destfile = bib_temp)
validate_bibliography(file = bib_temp)

## End(Not run)

</code></pre>

<hr>
<h2 id='veto_sic'>Veto sic</h2><span id='topic+veto_sic'></span>

<h3>Description</h3>

<p>Vetoes words in a LaTeX document that are marked '[sic]' 
for the purpose of spell checking by replacing them (and '[sic]' itself) with white space of 
equal length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>veto_sic(tex_lines, quote = TRUE, sentence = !quote, words_ante = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="veto_sic_+3A_tex_lines">tex_lines</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="veto_sic_+3A_quote">quote</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) Veto words after the previous opening quote (<em>i.e.</em> backtick) symbol.</p>
</td></tr>
<tr><td><code id="veto_sic_+3A_sentence">sentence</code></td>
<td>
<p>(logical, default: <code>TRUE</code>) Veto words before [sic] in the same sentence.
(The start of a sentence is taken to be the location of the capital letter which is preceded 
by white space and a full stop.)</p>
</td></tr>
<tr><td><code id="veto_sic_+3A_words_ante">words_ante</code></td>
<td>
<p>The number of words to exclude. Ignored if <code>quote</code> or <code>sentence</code> is <code>TRUE</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='weld_bmillion'>Unbreaking spaces between billion and million</h2><span id='topic+weld_bmillion'></span>

<h3>Description</h3>

<p>Unbreaking spaces between billion and million
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weld_bmillion(filename, outfile = filename)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="weld_bmillion_+3A_filename">filename</code></td>
<td>
<p>A LaTeX or knitr file.</p>
</td></tr>
<tr><td><code id="weld_bmillion_+3A_outfile">outfile</code></td>
<td>
<p>The file to write to, defaults to <code>filename</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. This function is called for its side-effect: rewriting <code>filename</code> with <code>30 million</code> changed to <code>30~million</code>.
</p>

<hr>
<h2 id='wrongly_spelled_words'>List of wrongly spelled words</h2><span id='topic+wrongly_spelled_words'></span>

<h3>Description</h3>

<p>List of wrongly spelled words
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrongly_spelled_words
</code></pre>


<h3>Format</h3>

<p>A regex of patterns to raise as spelling errors.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

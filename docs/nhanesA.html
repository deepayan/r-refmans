<!DOCTYPE html><html><head><title>Help for package nhanesA</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nhanesA}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#browseNHANES'><p>Open a browser to NHANES.</p></a></li>
<li><a href='#nhanes'><p>Download an NHANES table and return as a data frame.</p></a></li>
<li><a href='#nhanesAttr'><p>Returns the attributes of an NHANES data table.</p></a></li>
<li><a href='#nhanesCodebook'><p>Display codebook for selected variable.</p></a></li>
<li><a href='#nhanesCodebookFromURL'><p>Parse NHANES doc URL</p></a></li>
<li><a href='#nhanesDXA'><p>Import Dual Energy X-ray Absorptiometry (DXA) data.</p></a></li>
<li><a href='#nhanesFromURL'><p>Parse NHANES doc URL</p></a></li>
<li><a href='#nhanesManifest'><p>Download and parse NHANES manifests</p></a></li>
<li><a href='#nhanesOptions'><p>Options for the nhanesA package</p></a></li>
<li><a href='#nhanesSearch'><p>Perform a search over the comprehensive NHANES variable list.</p></a></li>
<li><a href='#nhanesSearchTableNames'><p>Search for matching table names</p></a></li>
<li><a href='#nhanesSearchVarName'><p>Search for tables that contain a specified variable.</p></a></li>
<li><a href='#nhanesTables'><p>Returns a list of table names for the specified survey group.</p></a></li>
<li><a href='#nhanesTableSummary'><p>Summarize NHANES table</p></a></li>
<li><a href='#nhanesTableVars'><p>Displays a list of variables in the specified NHANES table.</p></a></li>
<li><a href='#nhanesTranslate'><p>Display code translation information.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-06</td>
</tr>
<tr>
<td>Title:</td>
<td>NHANES Data Retrieval</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cjendres1/nhanes/issues">https://github.com/cjendres1/nhanes/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>stringr, foreign, rvest, xml2, plyr</td>
</tr>
<tr>
<td>Description:</td>
<td>Utility to retrieve data from the National Health and Nutrition 
	Examination Survey (NHANES) website <a href="https://www.cdc.gov/nchs/nhanes/index.htm">https://www.cdc.gov/nchs/nhanes/index.htm</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cran.r-project.org/package=nhanesA">https://cran.r-project.org/package=nhanesA</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, odbc, DBI, rmarkdown, survey, ggplot2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>RemoteType:</td>
<td>github</td>
</tr>
<tr>
<td>RemoteHost:</td>
<td>api.github.com</td>
</tr>
<tr>
<td>RemoteRepo:</td>
<td>nhanes</td>
</tr>
<tr>
<td>RemoteUsername:</td>
<td>cjendres1</td>
</tr>
<tr>
<td>RemoteRef:</td>
<td>HEAD</td>
</tr>
<tr>
<td>RemoteSha:</td>
<td>342bf8884c5b2ad52347807708acd7309c294716</td>
</tr>
<tr>
<td>GithubRepo:</td>
<td>nhanes</td>
</tr>
<tr>
<td>GithubUsername:</td>
<td>cjendres1</td>
</tr>
<tr>
<td>GithubRef:</td>
<td>HEAD</td>
</tr>
<tr>
<td>GithubSHA1:</td>
<td>342bf8884c5b2ad52347807708acd7309c294716</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-21 06:30:02 UTC; deepayan</td>
</tr>
<tr>
<td>Author:</td>
<td>Christopher Endres [aut, cre],
  Laha Ale <a href="https://orcid.org/0000-0002-4070-5289"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Robert Gentleman [aut],
  Deepayan Sarkar [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christopher Endres &lt;cjendres1@gmail.com&gt;</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; ; 2024-03-21 06:30:02 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='browseNHANES'>Open a browser to NHANES.</h2><span id='topic+browseNHANES'></span>

<h3>Description</h3>

<p>The browser may be directed to a specific year, survey, or table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browseNHANES(
  year = NULL,
  data_group = NULL,
  nh_table = NULL,
  local = TRUE,
  browse = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="browseNHANES_+3A_year">year</code></td>
<td>
<p>The year in yyyy format where 1999 &lt;= yyyy.</p>
</td></tr>
<tr><td><code id="browseNHANES_+3A_data_group">data_group</code></td>
<td>
<p>The type of survey (DEMOGRAPHICS, DIETARY,
EXAMINATION, LABORATORY, QUESTIONNAIRE).  Abbreviated terms may
also be used: (DEMO, DIET, EXAM, LAB, Q).</p>
</td></tr>
<tr><td><code id="browseNHANES_+3A_nh_table">nh_table</code></td>
<td>
<p>The name of an NHANES table.</p>
</td></tr>
<tr><td><code id="browseNHANES_+3A_local">local</code></td>
<td>
<p>logical flag. If <code>TRUE</code>, and a local or
alternative source was specificed using the environment variable
<code>NHANES_TABLE_BASE</code>, this will be used in preference to the
CDC website at <a href="https://wwwn.cdc.gov">https://wwwn.cdc.gov</a> for named tables.</p>
</td></tr>
<tr><td><code id="browseNHANES_+3A_browse">browse</code></td>
<td>
<p>logical flag, indicating whether the specific NHANES
site should be opened using a browser (which is the default
behaviour).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, browseNHANES will open a web browser to the
specified NHANES site.
</p>


<h3>Value</h3>

<p>A character string giving the URL, invisibly if the URL is
also opened using <code><a href="utils.html#topic+browseURL">browseURL</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>browseNHANES(browse = FALSE)       # Defaults to the main data sets page
browseNHANES(2005)                 # The main page for the specified survey year
browseNHANES(2009, 'EXAM')         # Page for the specified year and survey group
browseNHANES(nh_table = 'VIX_D')   # Page for a specific table
browseNHANES(nh_table = 'DXA')     # DXA main page
</code></pre>

<hr>
<h2 id='nhanes'>Download an NHANES table and return as a data frame.</h2><span id='topic+nhanes'></span>

<h3>Description</h3>

<p>Use to download NHANES data tables that are in SAS format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanes(
  nh_table,
  includelabels = FALSE,
  translated = TRUE,
  cleanse_numeric = FALSE,
  nchar = 128,
  adjust_timeout = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanes_+3A_nh_table">nh_table</code></td>
<td>
<p>The name of the specific table to retrieve.</p>
</td></tr>
<tr><td><code id="nhanes_+3A_includelabels">includelabels</code></td>
<td>
<p>If TRUE, then include SAS labels as variable
attribute (default = FALSE).</p>
</td></tr>
<tr><td><code id="nhanes_+3A_translated">translated</code></td>
<td>
<p>translated whether the variables are translated.</p>
</td></tr>
<tr><td><code id="nhanes_+3A_cleanse_numeric">cleanse_numeric</code></td>
<td>
<p>Logical flag. If <code>TRUE</code>, some special
codes in numeric variables, such as &lsquo;Refused&rsquo; and
&lsquo;Don't know&rsquo; will be converted to <code>NA</code>.</p>
</td></tr>
<tr><td><code id="nhanes_+3A_nchar">nchar</code></td>
<td>
<p>Maximum length of translated string (default =
128). Ignored if translated=FALSE.</p>
</td></tr>
<tr><td><code id="nhanes_+3A_adjust_timeout">adjust_timeout</code></td>
<td>
<p>Typically a logical flag indicating whether
the default <code><a href="utils.html#topic+download.file">download.file</a></code> timeout option should be
adjusted by taking into account the size of the file to be
downloaded, as reported by the server. The value can also be a
positive numeric value, in which case it is used as a further
multiplicative factor for the default calculation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Downloads a table from the NHANES website as is, i.e. in
its entirety with no modification or cleansing. If the
environment variable <code>NHANES_TABLE_BASE</code> was set during
startup, the value of this variable is used as the base URL
instead of <a href="https://wwwn.cdc.gov">https://wwwn.cdc.gov</a> (this allows the use of a
local or alternative mirror of the CDC data). NHANES tables are
stored in SAS '.XPT' format but are imported as a data frame.
The <code>nhanes</code> function cannot be used to import limited
access data.
</p>


<h3>Value</h3>

<p>The table is returned as a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bpx_e = nhanes('BPX_E')
dim(bpx_e)
folate_f = nhanes('FOLATE_F', includelabels = TRUE)
dim(folate_f)
</code></pre>

<hr>
<h2 id='nhanesAttr'>Returns the attributes of an NHANES data table.</h2><span id='topic+nhanesAttr'></span>

<h3>Description</h3>

<p>Returns attributes such as number of rows, columns, and memory size,
but does not return the table itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesAttr(nh_table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesAttr_+3A_nh_table">nh_table</code></td>
<td>
<p>The name of the specific table to retrieve</p>
</td></tr>
</table>


<h3>Details</h3>

<p>nhanesAttr allows one to check the size and other
charactersistics of a data table before importing into R. To
retrieve these characteristics, the specified table is
downloaded, characteristics are determined, then the table is
deleted. Downloads a table from the NHANES website as is, i.e. in
its entirety with no modification or cleansing. If the
environment variable <code>NHANES_TABLE_BASE</code> was set during
startup, the value of this variable is used as the base URL
instead of <a href="https://wwwn.cdc.gov">https://wwwn.cdc.gov</a> (this allows the use of a
local or alternative mirror of the CDC data).
</p>


<h3>Value</h3>

<p>The following attributes are returned as a list <br />
nrow = number of rows <br />
ncol = number of columns <br />
names = name of each column <br />
unique = true if all SEQN values are unique <br />
na = number of 'NA' cells in the table <br />
size = total size of table in bytes <br />
types = data types of each column
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bpx_e = nhanesAttr('BPX_E')
length(bpx_e)
folate_f = nhanesAttr('FOLATE_F')
length(folate_f)
</code></pre>

<hr>
<h2 id='nhanesCodebook'>Display codebook for selected variable.</h2><span id='topic+nhanesCodebook'></span>

<h3>Description</h3>

<p>Returns full NHANES codebook including Variable Name, SAS Label, English Text, Target,
and Value distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesCodebook(nh_table, colname = NULL, dxa = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesCodebook_+3A_nh_table">nh_table</code></td>
<td>
<p>The name of the NHANES table that contains the desired variable.</p>
</td></tr>
<tr><td><code id="nhanesCodebook_+3A_colname">colname</code></td>
<td>
<p>The name of the table column (variable).</p>
</td></tr>
<tr><td><code id="nhanesCodebook_+3A_dxa">dxa</code></td>
<td>
<p>If TRUE then the 2005-2006 DXA codebook will be used (default=FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each NHANES variable has a codebook that provides a basic
description as well as the distribution or range of values. This
function returns the full codebook information for the selected
variable. If the environment variable <code>NHANES_TABLE_BASE</code>
was set during startup, the value of this variable is used as the
base URL instead of <a href="https://wwwn.cdc.gov">https://wwwn.cdc.gov</a> (this allows the
use of a local or alternative mirror of the CDC documentation).
</p>


<h3>Value</h3>

<p>The codebook is returned as a list object. Returns NULL upon error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nhanesCodebook('AUX_D', 'AUQ020D')
nhanesCodebook('BPX_J', 'BPACSZ')
bpx_code = nhanesCodebook('BPX_J')
length(bpx_code)
</code></pre>

<hr>
<h2 id='nhanesCodebookFromURL'>Parse NHANES doc URL</h2><span id='topic+nhanesCodebookFromURL'></span>

<h3>Description</h3>

<p>Download and parse an NHANES doc file from a URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesCodebookFromURL(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesCodebookFromURL_+3A_url">url</code></td>
<td>
<p>URL to be downloaded</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Downloads and parses an NHANES doc file from a URL and returns it as a list
</p>


<h3>Value</h3>

<p>list with one element for each variable
</p>

<hr>
<h2 id='nhanesDXA'>Import Dual Energy X-ray Absorptiometry (DXA) data.</h2><span id='topic+nhanesDXA'></span>

<h3>Description</h3>

<p>DXA data were acquired from 1999-2006.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesDXA(year, suppl = FALSE, destfile = NULL, adjust_timeout = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesDXA_+3A_year">year</code></td>
<td>
<p>The year of the data to import, where 1999&lt;=year&lt;=2006.</p>
</td></tr>
<tr><td><code id="nhanesDXA_+3A_suppl">suppl</code></td>
<td>
<p>If TRUE then retrieve the supplemental data (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesDXA_+3A_destfile">destfile</code></td>
<td>
<p>The name of a destination file. If NULL then the data are imported 
into the R environment but no file is created.</p>
</td></tr>
<tr><td><code id="nhanesDXA_+3A_adjust_timeout">adjust_timeout</code></td>
<td>
<p>Typically a logical flag indicating whether
the default <code><a href="utils.html#topic+download.file">download.file</a></code> timeout option should be
adjusted by taking into account the size of the file to be
downloaded, as reported by the server. The value can also be a
positive numeric value, in which case it is used as a further
multiplicative factor for the default calculation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provide destfile in order to write the data to file. If destfile is not provided then
the data will be imported into the R environment.
</p>


<h3>Value</h3>

<p>By default the table is returned as a data frame. When downloading to file, the return argument
is the integer code from download.file where 0 means success and non-zero indicates failure to download.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dxa_b &lt;- nhanesDXA(2001)
dxa_c_s &lt;- nhanesDXA(2003, suppl=TRUE)
## Not run: dxa = nhanesDXA(1999, destfile="dxx.xpt")
</code></pre>

<hr>
<h2 id='nhanesFromURL'>Parse NHANES doc URL</h2><span id='topic+nhanesFromURL'></span>

<h3>Description</h3>

<p>Download an NHANES table from URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesFromURL(
  url,
  translated = TRUE,
  cleanse_numeric = TRUE,
  nchar = 128,
  adjust_timeout = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesFromURL_+3A_url">url</code></td>
<td>
<p>URL of XPT file to be downloaded</p>
</td></tr>
<tr><td><code id="nhanesFromURL_+3A_translated">translated</code></td>
<td>
<p>logical, whether variable codes should be translated</p>
</td></tr>
<tr><td><code id="nhanesFromURL_+3A_cleanse_numeric">cleanse_numeric</code></td>
<td>
<p>Logical flag. If <code>TRUE</code>, some special
codes in numeric variables, such as &lsquo;Refused&rsquo; and
&lsquo;Don't know&rsquo; will be converted to <code>NA</code>.</p>
</td></tr>
<tr><td><code id="nhanesFromURL_+3A_nchar">nchar</code></td>
<td>
<p>integer, labels are truncated after this</p>
</td></tr>
<tr><td><code id="nhanesFromURL_+3A_adjust_timeout">adjust_timeout</code></td>
<td>
<p>Typically a logical flag indicating whether
the default <code><a href="utils.html#topic+download.file">download.file</a></code> timeout option should be
adjusted by taking into account the size of the file to be
downloaded, as reported by the server. The value can also be a
positive numeric value, in which case it is used as a further
multiplicative factor for the default calculation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Downloads an NHANES table from a URL and returns it as a data frame
</p>


<h3>Value</h3>

<p>data frame
</p>

<hr>
<h2 id='nhanesManifest'>Download and parse NHANES manifests</h2><span id='topic+nhanesManifest'></span>

<h3>Description</h3>

<p>Downloads and parses NHANES manifests for public data
(available at
<a href="https://wwwn.cdc.gov/Nchs/Nhanes/search/DataPage.aspx">https://wwwn.cdc.gov/Nchs/Nhanes/search/DataPage.aspx</a>),
limited access data
(<a href="https://wwwn.cdc.gov/Nchs/Nhanes/search/DataPage.aspx?Component=LimitedAccess">https://wwwn.cdc.gov/Nchs/Nhanes/search/DataPage.aspx?Component=LimitedAccess</a>),
and variables
(<a href="https://wwwn.cdc.gov/nchs/nhanes/search/variablelist.aspx?Component=Demographics">https://wwwn.cdc.gov/nchs/nhanes/search/variablelist.aspx?Component=Demographics</a>, etc.),
and returns them as data frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesManifest(
  which = c("public", "limitedaccess", "variables"),
  sizes = FALSE,
  dxa = FALSE,
  verbose = getOption("verbose"),
  use_cache = TRUE,
  max_age = 24 * 60 * 60
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesManifest_+3A_which">which</code></td>
<td>
<p>Either &quot;public&quot; or &quot;limitedaccess&quot; to get a manifest
of available tables, or &quot;variables&quot; to get a manifest of
available variables.</p>
</td></tr>
<tr><td><code id="nhanesManifest_+3A_sizes">sizes</code></td>
<td>
<p>Logical, whether to compute data file sizes (as
reported by the server) and include them in the result.</p>
</td></tr>
<tr><td><code id="nhanesManifest_+3A_dxa">dxa</code></td>
<td>
<p>Logical, whether to include information on DXA tables.
These tables contain imputed imputed Dual Energy X-ray Absorptiometry
measurements, and are listed separately, not in the main listing.</p>
</td></tr>
<tr><td><code id="nhanesManifest_+3A_verbose">verbose</code></td>
<td>
<p>Logical flag indicating whether information on
progress should be reported.</p>
</td></tr>
<tr><td><code id="nhanesManifest_+3A_use_cache">use_cache</code></td>
<td>
<p>Logical flag indicating whether a cached version
(from a previous download in the same session) should be used.</p>
</td></tr>
<tr><td><code id="nhanesManifest_+3A_max_age">max_age</code></td>
<td>
<p>Maximum allowed age of the cache in seconds
(defaults to 24 hours). Cached versions that are older are
ignored, even if available.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, with columns that depend on
<code>which</code>. For a manifest of tables, columns are &quot;Table&quot;,
&quot;DocURL&quot;, &quot;DataURL&quot;, &quot;Years&quot;, &quot;Date.Published&quot;. If <code>sizes =
  TRUE</code>, an additional column &quot;DataSize&quot; giving the data file
sizes in bytes (as reported by the server) is included. For
limited access tables, the &quot;DataURL&quot; and &quot;DataSize&quot; columns are
omitted. For a manifest of variables, columns are &quot;VarName&quot;,
&quot;VarDesc&quot;, &quot;Table&quot;, &quot;TableDesc&quot;, &quot;BeginYear&quot;, &quot;EndYear&quot;,
&quot;Component&quot;, and &quot;UseConstraints&quot;.
</p>


<h3>Note</h3>

<p>Duplicate rows are removed from the result. Most of these
duplicates arise from duplications in the source tables for
multi-cycle tables (which are repeated once for each cycle). One
special case is the WHQ table which has two variables, WHD120
and WHQ030, duplicated with differing variable
descriptions. These are removed explicitly, keeping only the
first occurrence.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>manifest &lt;- nhanesManifest(sizes = FALSE)
dim(manifest)

</code></pre>

<hr>
<h2 id='nhanesOptions'>Options for the nhanesA package</h2><span id='topic+nhanesOptions'></span>

<h3>Description</h3>

<p>Set and retrieve global options controlling the behaviour of
certain functions in the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesOptions(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesOptions_+3A_...">...</code></td>
<td>
<p>either one or more named arguments giving options to be
set (in the form <code>key = value</code>), or a single unnamed
character string to retrieve a setting.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'nhanesOptions()' function can be used in two forms, to set or
get options. Options can be set using 'nhanesOptions(key1 =
value1, key2 = value2)'. Options can be retrieved (one at a time)
using 'nhanesOptions(&quot;key&quot;)'. When called with no arguments, all
currently set options are returned as a list.
</p>
<p>Options currently used in the package are 'use.db' (logical flag
controlling whether a database should be used if available), and
'log.access', a logical flag that logs any attempted URL access by
printing the URL).
</p>


<h3>Value</h3>

<p>When retrieving an option, the value of the option, or
<code>NULL</code> if the option has not been set. When setting one
or more options, a list (invisibly) containing the previous
values (possibly <code>NULL</code>) of the options being set.
</p>


<h3>Author(s)</h3>

<p>Deepayan Sarkar &lt;deepayan.sarkar@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'> nhanesOptions(foo = "bar")
 nhanesOptions()
 print(nhanesOptions(foo = NULL))
</code></pre>

<hr>
<h2 id='nhanesSearch'>Perform a search over the comprehensive NHANES variable list.</h2><span id='topic+nhanesSearch'></span>

<h3>Description</h3>

<p>The descriptions in the master variable list will be filtered by the
provided search terms to retrieve a list of relevant variables. 
The search can be restricted to specific survey years by specifying ystart and/or ystop.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesSearch(
  search_terms = NULL,
  exclude_terms = NULL,
  data_group = NULL,
  ignore.case = FALSE,
  ystart = NULL,
  ystop = NULL,
  includerdc = FALSE,
  nchar = 128,
  namesonly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesSearch_+3A_search_terms">search_terms</code></td>
<td>
<p>List of terms or keywords.</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_exclude_terms">exclude_terms</code></td>
<td>
<p>List of exclusive terms or keywords.</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_data_group">data_group</code></td>
<td>
<p>Which data groups (e.g. DIET, EXAM, LAB) to search. Default is to search all groups.</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Ignore case if TRUE. (Default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_ystart">ystart</code></td>
<td>
<p>Four digit year of first survey included in search, where ystart &gt;= 1999.</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_ystop">ystop</code></td>
<td>
<p>Four digit year of final survey included in search, where ystop &gt;= ystart.</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_includerdc">includerdc</code></td>
<td>
<p>If TRUE then RDC only tables are included in list (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_nchar">nchar</code></td>
<td>
<p>Truncates the variable description to a max length of nchar.</p>
</td></tr>
<tr><td><code id="nhanesSearch_+3A_namesonly">namesonly</code></td>
<td>
<p>If TRUE then only the table names are returned (default=FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>nhanesSearch is useful to obtain a comprehensive list of relevant tables.
Search terms will be matched against the variable descriptions in the NHANES Comprehensive
Variable Lists.
Matching variables must have at least one of the search_terms and not have any exclude_terms.
The search may be restricted to specific surveys using ystart and ystop.
If no arguments are given, then nhanesSearch returns the complete variable list.
</p>


<h3>Value</h3>

<p>Returns a data frame that describes variables that matched the search terms. If namesonly=TRUE,
then a character vector of table names that contain matched variables is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> bladder = nhanesSearch("bladder", ystart=2001, ystop=2008, nchar=50)
 dim(bladder)
 urin = nhanesSearch("urin", exclude_terms="During", ystart=2009)
 dim(urin)
 urine = nhanesSearch(c("urine", "urinary"), ignore.case=TRUE, ystop=2006, namesonly=TRUE)
 length(urine)
</code></pre>

<hr>
<h2 id='nhanesSearchTableNames'>Search for matching table names</h2><span id='topic+nhanesSearchTableNames'></span>

<h3>Description</h3>

<p>Returns a list of table names that match a specified pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesSearchTableNames(
  pattern = NULL,
  ystart = NULL,
  ystop = NULL,
  includerdc = FALSE,
  includewithdrawn = FALSE,
  nchar = 128,
  details = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesSearchTableNames_+3A_pattern">pattern</code></td>
<td>
<p>Pattern of table names to match</p>
</td></tr>
<tr><td><code id="nhanesSearchTableNames_+3A_ystart">ystart</code></td>
<td>
<p>Four digit year of first survey included in search, where ystart &gt;= 1999.</p>
</td></tr>
<tr><td><code id="nhanesSearchTableNames_+3A_ystop">ystop</code></td>
<td>
<p>Four digit year of final survey included in search, where ystop &gt;= ystart.</p>
</td></tr>
<tr><td><code id="nhanesSearchTableNames_+3A_includerdc">includerdc</code></td>
<td>
<p>If TRUE then RDC only tables are included (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesSearchTableNames_+3A_includewithdrawn">includewithdrawn</code></td>
<td>
<p>IF TRUE then withdrawn tables are included (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesSearchTableNames_+3A_nchar">nchar</code></td>
<td>
<p>Truncates the variable description to a max length of nchar.</p>
</td></tr>
<tr><td><code id="nhanesSearchTableNames_+3A_details">details</code></td>
<td>
<p>If TRUE then complete table information from the comprehensive
data list is returned (default=FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Searches the Doc File field in the NHANES Comprehensive Data List 
(see https://wwwn.cdc.gov/nchs/nhanes/search/DataPage.aspx) for tables
that match a given name pattern. Only a single pattern may be entered.
</p>


<h3>Value</h3>

<p>Returns a character vector of table names that match the given pattern. If details=TRUE,
then a data frame of table attributes is returned. NULL is returned when an
HTML read error is encountered.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bmx = nhanesSearchTableNames('BMX')
length(bmx)
hepbd = nhanesSearchTableNames('HEPBD')
dim(hepbd)
hpvs = nhanesSearchTableNames('HPVS', includerdc=TRUE, details=TRUE)
dim(hpvs)
</code></pre>

<hr>
<h2 id='nhanesSearchVarName'>Search for tables that contain a specified variable.</h2><span id='topic+nhanesSearchVarName'></span>

<h3>Description</h3>

<p>Returns a list of table names that contain the variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesSearchVarName(
  varname = NULL,
  ystart = NULL,
  ystop = NULL,
  includerdc = FALSE,
  nchar = 128,
  namesonly = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesSearchVarName_+3A_varname">varname</code></td>
<td>
<p>Name of variable to match.</p>
</td></tr>
<tr><td><code id="nhanesSearchVarName_+3A_ystart">ystart</code></td>
<td>
<p>Four digit year of first survey included in search, where ystart &gt;= 1999.</p>
</td></tr>
<tr><td><code id="nhanesSearchVarName_+3A_ystop">ystop</code></td>
<td>
<p>Four digit year of final survey included in search, where ystop &gt;= ystart.</p>
</td></tr>
<tr><td><code id="nhanesSearchVarName_+3A_includerdc">includerdc</code></td>
<td>
<p>If TRUE then RDC only tables are included in list (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesSearchVarName_+3A_nchar">nchar</code></td>
<td>
<p>Truncates the variable description to a max length of nchar.</p>
</td></tr>
<tr><td><code id="nhanesSearchVarName_+3A_namesonly">namesonly</code></td>
<td>
<p>If TRUE then only the table names are returned (default=TRUE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The NHANES Comprehensive Variable List is scanned to find all data tables that
contain the given variable name. Only a single variable name may be entered, and only
exact matches will be found.
</p>


<h3>Value</h3>

<p>By default, a character vector of table names that include the specified variable 
is returned. If namesonly=FALSE, then a data frame of table attributes is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nhanesSearchVarName('BMXLEG')
nhanesSearchVarName('BMXHEAD', ystart=2003)
</code></pre>

<hr>
<h2 id='nhanesTables'>Returns a list of table names for the specified survey group.</h2><span id='topic+nhanesTables'></span>

<h3>Description</h3>

<p>Enables quick display of all available tables in the survey group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesTables(
  data_group,
  year,
  nchar = 128,
  details = FALSE,
  namesonly = FALSE,
  includerdc = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesTables_+3A_data_group">data_group</code></td>
<td>
<p>The type of survey (DEMOGRAPHICS, DIETARY, EXAMINATION, LABORATORY, QUESTIONNAIRE).
Abbreviated terms may also be used: (DEMO, DIET, EXAM, LAB, Q).</p>
</td></tr>
<tr><td><code id="nhanesTables_+3A_year">year</code></td>
<td>
<p>The year in yyyy format where 1999 &lt;= yyyy.</p>
</td></tr>
<tr><td><code id="nhanesTables_+3A_nchar">nchar</code></td>
<td>
<p>Truncates the table description to a max length of nchar.</p>
</td></tr>
<tr><td><code id="nhanesTables_+3A_details">details</code></td>
<td>
<p>If TRUE then a more detailed description of the tables is returned (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesTables_+3A_namesonly">namesonly</code></td>
<td>
<p>If TRUE then only the table names are returned (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesTables_+3A_includerdc">includerdc</code></td>
<td>
<p>If TRUE then RDC only tables are included in list (default=FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function nhanesTables retrieves a list of tables and a 
description of their contents from the NHANES website. This provides
a convenient way to browse the available tables. NULL is returned when an
HTML read error is encountered.
</p>


<h3>Value</h3>

<p>Returns a data frame that contains table attributes. If namesonly=TRUE,
then a character vector of table names is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exam = nhanesTables('EXAM', 2007)
dim(exam)
lab = nhanesTables('LAB', 2009, details=TRUE, includerdc=TRUE)
dim(lab)
q = nhanesTables('Q', 2005, namesonly=TRUE)
length(q)
diet = nhanesTables('DIET', 'P')
dim(diet)
exam = nhanesTables('EXAM', 'Y')
dim(exam)
</code></pre>

<hr>
<h2 id='nhanesTableSummary'>Summarize NHANES table</h2><span id='topic+nhanesTableSummary'></span>

<h3>Description</h3>

<p>Summarize a NHANES table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesTableSummary(nh_table, use = c("data", "codebook", "both"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesTableSummary_+3A_nh_table">nh_table</code></td>
<td>
<p>the name of a valid NHANES table</p>
</td></tr>
<tr><td><code id="nhanesTableSummary_+3A_use">use</code></td>
<td>
<p>character string, whether to create a summary from the
data itself or the codebook, which respectively use either the
NHANES SAS data files or the HTML documentation files. If
<code>use = "both"</code> then both are computed as merged; the
<code>src</code> and <code>...</code> arguments are ignored in this case.</p>
</td></tr>
<tr><td><code id="nhanesTableSummary_+3A_...">...</code></td>
<td>
<p>additional arguments, usually passed on to either
<code><a href="nhanesA.html#topic+nhanes">nhanes</a></code> or <code><a href="nhanesA.html#topic+nhanesCodebook">nhanesCodebook</a></code> as
appropriate. Alternatively, the <code>src</code> argument can be used
to pass on an already available data frame or codebook, but this
must be consistent with the <code>use</code> argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a per-variable summary of a NHANES table either using the
actual data or its corresponding codebook
</p>


<h3>Value</h3>

<p>A data frame with one row per variable, with columns
depending on the value of the <code>use</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nhanesTableSummary('DEMO_D', use = "data")
nhanesTableSummary('DEMO_D', use = "codebook")
</code></pre>

<hr>
<h2 id='nhanesTableVars'>Displays a list of variables in the specified NHANES table.</h2><span id='topic+nhanesTableVars'></span>

<h3>Description</h3>

<p>Enables quick display of table variables and their definitions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesTableVars(
  data_group,
  nh_table,
  details = FALSE,
  nchar = 128,
  namesonly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesTableVars_+3A_data_group">data_group</code></td>
<td>
<p>The type of survey (DEMOGRAPHICS, DIETARY, EXAMINATION, LABORATORY, QUESTIONNAIRE).
Abbreviated terms may also be used: (DEMO, DIET, EXAM, LAB, Q).</p>
</td></tr>
<tr><td><code id="nhanesTableVars_+3A_nh_table">nh_table</code></td>
<td>
<p>The name of the specific table to retrieve.</p>
</td></tr>
<tr><td><code id="nhanesTableVars_+3A_details">details</code></td>
<td>
<p>If TRUE then all columns in the variable description are returned (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesTableVars_+3A_nchar">nchar</code></td>
<td>
<p>The number of characters in the Variable Description to print. Default length is 128,
which is set to enhance readability cause variable descriptions can be very long.</p>
</td></tr>
<tr><td><code id="nhanesTableVars_+3A_namesonly">namesonly</code></td>
<td>
<p>If TRUE then only the variable names are returned (default=FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NHANES tables may contain more than 100 variables. Function nhanesTableVars provides a concise display
of variables for a specified table, which helps to ascertain quickly if the table is of interest. 
NULL is returned when an HTML read error is encountered.
</p>


<h3>Value</h3>

<p>Returns a data frame that describes variable attributes for the specified table. If namesonly=TRUE,
then a character vector of the variable names is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lab_cbc = nhanesTableVars('LAB', 'CBC_E')
dim(lab_cbc)
exam_ohx = nhanesTableVars('EXAM', 'OHX_E', details=TRUE, nchar=50)
dim(exam_ohx)
demo = nhanesTableVars('DEMO', 'DEMO_F', namesonly = TRUE)
length(demo)
</code></pre>

<hr>
<h2 id='nhanesTranslate'>Display code translation information.</h2><span id='topic+nhanesTranslate'></span>

<h3>Description</h3>

<p>Returns code translations for categorical variables, 
which appear in most NHANES tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhanesTranslate(
  nh_table,
  colnames = NULL,
  data = NULL,
  nchar = 128,
  mincategories = 2,
  details = FALSE,
  dxa = FALSE,
  cleanse_numeric = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhanesTranslate_+3A_nh_table">nh_table</code></td>
<td>
<p>The name of the NHANES table to retrieve.</p>
</td></tr>
<tr><td><code id="nhanesTranslate_+3A_colnames">colnames</code></td>
<td>
<p>The names of the columns to translate. It will
translate all the columns by default.</p>
</td></tr>
<tr><td><code id="nhanesTranslate_+3A_data">data</code></td>
<td>
<p>If a data frame is passed, then code translation will
be applied directly to the data frame. <br /> In that case the
return argument is the code-translated data frame.</p>
</td></tr>
<tr><td><code id="nhanesTranslate_+3A_nchar">nchar</code></td>
<td>
<p>Applies only when data is defined. Code translations
can be very long. <br /> Truncate the length by setting nchar
(default = 128).</p>
</td></tr>
<tr><td><code id="nhanesTranslate_+3A_mincategories">mincategories</code></td>
<td>
<p>The minimum number of categories needed for
code translations to be applied to the data (default=2).</p>
</td></tr>
<tr><td><code id="nhanesTranslate_+3A_details">details</code></td>
<td>
<p>If TRUE then all available table translation
information is displayed (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesTranslate_+3A_dxa">dxa</code></td>
<td>
<p>If TRUE then the 2005-2006 DXA translation table will be
used (default=FALSE).</p>
</td></tr>
<tr><td><code id="nhanesTranslate_+3A_cleanse_numeric">cleanse_numeric</code></td>
<td>
<p>Logical flag. If <code>TRUE</code>, some special
codes in numeric variables, such as &lsquo;Refused&rsquo; and
&lsquo;Don't know&rsquo; will be converted to <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most NHANES data tables have encoded values. E.g. 1 =
'Male', 2 = 'Female'.  Thus it is often helpful to view the code
translations and perhaps insert the translated values in a data
frame. Only a single table may be specified, but multiple
variables within that table can be selected. Code translations
are retrieved for each variable. If the environment variable
<code>NHANES_TABLE_BASE</code> was set during startup, the value of
this variable is used as the base URL instead of
<a href="https://wwwn.cdc.gov">https://wwwn.cdc.gov</a> (this allows the use of a local or
alternative mirror of the CDC documentation).
</p>


<h3>Value</h3>

<p>The code translation table (or translated data frame when
data is defined). Returns NULL upon error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nhanesTranslate('DEMO_B', c('DMDBORN','DMDCITZN'))
nhanesTranslate('BPX_F', 'BPACSZ', details=TRUE)
nhanesTranslate('BPX_F', 'BPACSZ', data=nhanes('BPX_F'))
trans_demo = nhanesTranslate('DEMO_B')
length(trans_demo)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

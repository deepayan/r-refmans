<!DOCTYPE html><html><head><title>Help for package epiDisplay</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {epiDisplay}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Age+20at+20marriage'><p> Dataset on age at marriage</p></a></li>
<li><a href='#aggregate+20numeric'><p>Summary statistics of a numeric variable by group</p></a></li>
<li><a href='#aggregate+20plot'><p>Plot summary statistics of a numeric variable by group</p></a></li>
<li><a href='#Air+20Pollution'><p>Dataset on air pollution and deaths in UK</p></a></li>
<li><a href='#alpha'><p>Cronbach's alpha</p></a></li>
<li><a href='#ANC+20Table'><p>Dataset on effect of new ANC method on mortality (as a table)</p></a></li>
<li><a href='#Antenatal+20care+20data'><p> Dataset on effect of new antenatal care method on mortality</p></a></li>
<li><a href='#Attitudes+20dataset'><p> Dataset from an attitude survey among hospital staff</p></a></li>
<li><a href='#Bangladesh+20Fertility+20Survey'><p> Dataset from 1988 Bangladesh Fertility Survey</p></a></li>
<li><a href='#Blood+20pressure'><p>Dataset on blood pressure and determinants</p></a></li>
<li><a href='#Cancer+20survival'><p>Dataset on cancer survival</p></a></li>
<li><a href='#cc'><p>Odds ratio calculation and graphing</p></a></li>
<li><a href='#CI'><p>Confidence interval of probabilty, mean and incidence</p></a></li>
<li><a href='#Codebook'><p>Codebook of a data frame</p></a></li>
<li><a href='#Data+20for+20cleaning'><p>Dataset for practicing cleaning, labelling and recoding</p></a></li>
<li><a href='#des'><p>Desription of a data frame or a variable</p></a></li>
<li><a href='#DHF99'><p>Dataset for exercise on predictors for mosquito larva infestation</p></a></li>
<li><a href='#dotplot'><p>Dot plot</p></a></li>
<li><a href='#Ectopic+20pregnancy'><p> Dataset of a case-control study looking at history of</p>
abortion as a risk factor for ectopic pregnancy</a></li>
<li><a href='#Familydata'><p> Dataset of a hypothetical family</p></a></li>
<li><a href='#Follow-up+20Plot'><p>Longitudinal followup plot</p></a></li>
<li><a href='#Hakimi+27s+20data'><p>Dataset on effect of training personnel on neonatal mortality</p></a></li>
<li><a href='#Hookworm+201993'><p>Dataset from a study on hookworm prevalence and intensity in 1993</p></a></li>
<li><a href='#Hookworm+20and+20blood+20loss'><p> Hookworm infection and blood loss: SEAJTM 1970</p></a></li>
<li><a href='#IUD+20trial+20admission+20data'><p>Dataset admission of cases for IUD trials</p></a></li>
<li><a href='#IUD+20trial+20discontinuation+20data'><p>Dataset on discontinuation of the IUD trial cases</p></a></li>
<li><a href='#IUD+20trial+20follow-up+20data'><p>Dataset followup cases of IUD trials</p></a></li>
<li><a href='#kap'><p>Kappa statistic</p></a></li>
<li><a href='#List+20non-function+20objects'><p>List non-function objects</p></a></li>
<li><a href='#lookup'><p>Recode several values of a variable</p></a></li>
<li><a href='#lrtest'><p>Likelihood ratio test</p></a></li>
<li><a href='#Matched+20case-control+20study'><p>Datasets on a matched case-control study of esophageal cancer</p></a></li>
<li><a href='#matchTab'><p>Matched tabulation</p></a></li>
<li><a href='#mhor'><p>Mantel-Haenszel odds ratio</p></a></li>
<li><a href='#Montana'><p>Dataset on arsenic exposure and respiratory deaths</p></a></li>
<li><a href='#Oswego'><p>Dataset from an outbreak of food poisoning in US</p></a></li>
<li><a href='#Outbreak+20investigation'><p>Dataset from an outbreak of food poisoning on a sportsday, Thailand 1990.</p></a></li>
<li><a href='#poisgof'><p>Goodness of fit test for modeling of count data</p></a></li>
<li><a href='#Power'><p>Power calculation for two sample means and proportions</p></a></li>
<li><a href='#print+20alpha'><p>Print alpha object</p></a></li>
<li><a href='#print+20cci'><p>Print cci results</p></a></li>
<li><a href='#print+20des'><p>Print 'des' results</p></a></li>
<li><a href='#print+20kap.ByCategory'><p>Print kap.ByCategory results</p></a></li>
<li><a href='#print+20kap.table'><p>Print kap.table results</p></a></li>
<li><a href='#print+20lrtest'><p>Print lrtest results</p></a></li>
<li><a href='#print+20matchTab'><p>Print matched tabulation results</p></a></li>
<li><a href='#print+20n.for.2means'><p>Print n.for.2means results</p></a></li>
<li><a href='#print+20n.for.2p'><p>Print n.for.2p results</p></a></li>
<li><a href='#print+20n.for.cluster.2means'><p>Print n.for.cluster.2means results</p></a></li>
<li><a href='#print+20n.for.cluster.2p'><p>Print n.for.cluster.2p results</p></a></li>
<li><a href='#print+20n.for.equi.2p'><p>Print n.for.equi.2p results</p></a></li>
<li><a href='#print+20n.for.lqas'><p>Print n.for.lqas results</p></a></li>
<li><a href='#print+20n.for.noninferior.2p'><p>Print n.for.noninferior.2p results</p></a></li>
<li><a href='#print+20n.for.survey'><p>Print n.for.survey results</p></a></li>
<li><a href='#print+20power.for.2means'><p>Print power.for.2means results</p></a></li>
<li><a href='#print+20power.for.2p'><p>Print power.for.2p results</p></a></li>
<li><a href='#print+20statStack'><p>Print statStack object</p></a></li>
<li><a href='#print+20summ.data.frame'><p>Print summary of the data frame</p></a></li>
<li><a href='#print+20summ.default'><p>Print summary of a variable</p></a></li>
<li><a href='#print+20tableStack'><p>Print tableStack object</p></a></li>
<li><a href='#pyramid'><p>Population pyramid</p></a></li>
<li><a href='#Risk.display'><p>Tables for multivariate odds ratio, incidence density etc</p></a></li>
<li><a href='#ROC'><p>ROC curve</p></a></li>
<li><a href='#sampsize'><p>Sample size calculation</p></a></li>
<li><a href='#setTitle'><p>Setting the displayed language of Epicalc graph title</p></a></li>
<li><a href='#shapiro.qqnorm'><p>Qqnorm plots with Shapiro-Wilk's test</p></a></li>
<li><a href='#Sleepiness'><p>Dataset on sleepiness in a workshop</p></a></li>
<li><a href='#statStack'><p>Statistics of a continuous variable stratified by factors</p></a></li>
<li><a href='#summ'><p>Summary with graph</p></a></li>
<li><a href='#tab1'><p>One-way tabulation</p></a></li>
<li><a href='#tableStack'><p>Tabulation of variables in a stack form</p></a></li>
<li><a href='#tabpct'><p>Two-way tabulation with mosaic plot</p></a></li>
<li><a href='#Timing+20exercise'><p> Dataset on time going to bed, waking up and arrival at a workshop</p></a></li>
<li><a href='#titleString'><p>Replace commonly used words in Epicalc graph title</p></a></li>
<li><a href='#Tooth+20decay'><p>Dataset on tooth decay and mutan streptococci</p></a></li>
<li><a href='#Voluntary+20counselling+20and+20testing'><p>Dataset on attitudes toward VCT</p></a></li>
<li><a href='#Xerophthalmia+20and+20respiratory+20infection'><p>Dataset from an Indonesian study on vitamin A deficiency and risk of respiratory infection</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>3.5.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-05-09</td>
</tr>
<tr>
<td>Title:</td>
<td>Epidemiological Data Display Package</td>
</tr>
<tr>
<td>Author:</td>
<td>Virasakdi Chongsuvivatwong &lt;cvirasak@medicine.psu.ac.th&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Virasakdi Chongsuvivatwong &lt;cvirasak@medicine.psu.ac.th&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.6.2), foreign, survival, MASS, nnet</td>
</tr>
<tr>
<td>Description:</td>
<td>Package for data exploration and result presentation. Full 'epicalc' package with data management functions is available at '<a href="https://medipe.psu.ac.th/epicalc/">https://medipe.psu.ac.th/epicalc/</a>'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-18 10:43:00 UTC; Virasakdi</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-18 14:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Age+20at+20marriage'> Dataset on age at marriage</h2><span id='topic+Marryage'></span>

<h3>Description</h3>

<p>This dataset contains data on age at first marriage of attendants
at a workshop in 1997.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Marryage)</code></pre>


<h3>Format</h3>

<p>A data frame with 27 observations on the following 7 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>sex</code></dt><dd><p>a factor with levels <code>male</code> <code>female</code></p>
</dd>
<dt><code>birthyr</code></dt><dd><p>a numeric vector indicating year of birth</p>
</dd>
<dt><code>educ</code></dt><dd><p>a factor with levels <code>bach-</code> <code>bachelor or higher</code></p>
</dd>
<dt><code>marital</code></dt><dd><p>a factor with levels <code>Single</code> <code>Married</code></p>
</dd>
<dt><code>maryr</code></dt><dd><p>a numeric vector indicating year of marriage</p>
</dd>
<dt><code>endyr</code></dt><dd><p>a numeric vector indicating year of analysis</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Marryage)
des(Marryage)
</code></pre>

<hr>
<h2 id='aggregate+20numeric'>Summary statistics of a numeric variable by group</h2><span id='topic+aggregate.numeric'></span>

<h3>Description</h3>

<p>Split the numeric variable into subsets, compute summary statistics for each, and return the results in a data frame.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'numeric'
aggregate(x, by, FUN=c("count","sum","mean","median","sd","se","min","max"), 
	na.rm=TRUE, length.warning=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate+2B20numeric_+3A_x">x</code></td>
<td>
<p>a numeric variable</p>
</td></tr>
<tr><td><code id="aggregate+2B20numeric_+3A_by">by</code></td>
<td>
<p>a list of grouping elements, each as long as the variables in 'x'.  Names for the grouping variables are provided if they are not given. The elements of the list will be coerced to factors (if they are not already factors).</p>
</td></tr>
<tr><td><code id="aggregate+2B20numeric_+3A_fun">FUN</code></td>
<td>
<p>scalar functions to compute the summary statistics which can be applied to all data subsets.</p>
</td></tr>
<tr><td><code id="aggregate+2B20numeric_+3A_na.rm">na.rm</code></td>
<td>
<p>whether missing values will be removed during the computation of the statistics.</p>
</td></tr>
<tr><td><code id="aggregate+2B20numeric_+3A_length.warning">length.warning</code></td>
<td>
<p>show warning if x has any missing values</p>
</td></tr>
<tr><td><code id="aggregate+2B20numeric_+3A_...">...</code></td>
<td>
<p>additional arguments passed on to 'aggregate'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is the 'aggregate' method for objects inheriting from class 'numeric'.
</p>
<p>If Epicalc is loaded, applying 'aggregate' to a numeric variable 'x' will call 'aggregate.numeric'. If 'x' is a data frame, 'aggregate.data.frame' will be called.
</p>
<p>If the Epicalc package is not loaded, 'aggregate', from the stats package, coerces numeric variables (including 'ts' objects) into a data frame and calls 'aggregate.data.frame'.
</p>
<p>The 'FUN' argument in 'aggregate.data.frame' can accept only one function.
</p>
<p>'aggregate.numeric' takes a different approach. More than one function can be suppplied to the 'FUN' argument, however it can only be applied to one numeric variable.
</p>
<p>'aggregate' in Epicalc is 'backward compatible' with the 'aggregate' function from the stats package. In other words, Epicalc users do not need to change basic syntax or arguments. However, the naming system of the returned object is slightly different. In addition to the ability to provide more statistics in one command, another useful feature of 'aggregate.numeric' in Epicalc is the default values of FUN. Without typing such an argument, 'aggregate.numeric' gives commonly wanted statistics in a shorter line of command.
</p>
<p>Note that 'na.rm' set to TRUE by default to allow computation of descriptive statistics such as 'mean', and 'sd', when they are in the FUN argument, and 'length' is computed with missing records included. In standard R functions, the equivalent argument is '&quot;na.rm&quot;=TRUE'. 
</p>
<p>The default value of the argument 'length.warning' is TRUE. A condition where 'x' has any missing value will be noticed, which is useful during data exploration. In further analysis, after missing values have been recognized, users may change 'length.warning' to FALSE to make the output look nicer. Both 'na.rm' and 'length.,warning' will have no effect if there are no missing values in x.
</p>
<p>'count' is an additional function specific to 'aggregate.numeric'. It displays the number of non-missing records in each subgroup.
</p>
<p>'aggregate.plot' makes use of the above function in drawing bar plots with error lines computed from 'aggregate.numeric'. When 'FUN=&quot;mean&quot;', the automactic choice of error values is &quot;se&quot;. Users can also choose &quot;sd&quot; or &quot;ci&quot;. 'alpha' is effective only for 'error=&quot;ci&quot;'.  If 'FUN=&quot;median&quot;', the error values are inter-quartile range.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'aggregate', 'summ' and 'tapply'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Compaq)
.data &lt;- Compaq
attach(.data)

## If 'x' is a data frame, the default S3 aggregate method from the stats package is called.
aggregate(data.frame(id,year), by=list(HOSPITAL=hospital, STAGE=stage),
	FUN="mean")
# The two additional columns are means of 'id' and 'year'

## If 'x' is a numeric vector, 'aggregate.numeric' from Epicalc package is called.
aggregate(year, by = list(HOSPITAL = hospital, STAGE = stage), 
	FUN = mean)
# The above command is the same as the one below. 
# However, note the difference in the name of the last column of the returned 
# data frame.
aggregate.data.frame(year, by = list(HOSPITAL = hospital, 
	STAGE = stage), FUN = mean)

# aggregate in Epicalc can handle multiple functions
aggregate(year, by = list(HOSPITAL = hospital, STAGE = stage), 
	FUN = c("mean", "sd", "length"))

## Handling of missing values
.data$year[8] &lt;- NA
detach(.data)
attach(.data)
aggregate(year, by = list(STAGE = stage), FUN = c("length", "count"))
# Note the difference between 'length' and 'count' in Stage 1
# Means of subsets in 'aggregrate.data.frame' 
# have 'na.rm' set to FALSE.
aggregate.data.frame(year, by = list(STAGE = stage), FUN = "mean")

## The default value of 'na.rm' is TRUE in aggregate.numeric of Epicalc.
aggregate(year, by = list(STAGE = stage), FUN = c("mean","median"))

## It can be set to FALSE though.
aggregate(year, by = list(STAGE = stage), FUN = c("mean","median"), 
	"na.rm"=FALSE)

# Omitting the FUN argument produces various statistics.
options(digits=3)
aggregate(year, by = list(HOSPITAL = hospital, STAGE = stage))

# Warning of na.rm 
aggregate(year, by = list(HOSPITAL = hospital, STAGE = stage), length.warning=FALSE)

# Newly defined functions can be used
p05 &lt;- function(x) quantile(x, prob=.05, na.rm=TRUE)
p95 &lt;- function(x) quantile(x, prob=.95, na.rm=TRUE)
aggregate(year, by = list(HOSPITAL = hospital, STAGE = stage), FUN=c("p05", "p95"))
detach(.data)
rm(list=ls())
</code></pre>

<hr>
<h2 id='aggregate+20plot'>Plot summary statistics of a numeric variable by group</h2><span id='topic+aggregate.plot'></span>

<h3>Description</h3>

<p>Split a numeric variable into subsets, plot summary statistics for each</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'plot'
aggregate(x, by, grouping = NULL, FUN = c("mean", "median"), 
    error = c("se", "ci", "sd", "none"), alpha = 0.05, lwd = 1, 
    lty = "auto", line.col = "auto", bin.time = 4, bin.method = c("fixed", 
        "quantile"), legend = "auto", legend.site = "topright", 
    legend.bg = "white", xlim = "auto", ylim = "auto", bar.col = "auto", 
    cap.size = 0.02, lagging = 0.007, main = "auto", return.output = FALSE, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate+2B20plot_+3A_x">x</code></td>
<td>
<p>a numeric variable</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_by">by</code></td>
<td>
<p>a list of grouping elements for the bar plot, or a single numeric or integer variable which will form the X axis for the time line graph</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_grouping">grouping</code></td>
<td>
<p>further stratification variable for the time line graph</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_fun">FUN</code></td>
<td>
<p>either &quot;mean&quot; or &quot;median&quot;</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_error">error</code></td>
<td>
<p>statistic to use for error lines (either 'se' or 'sd' for barplot, or 'ci' or 'none' for time line graph). When FUN = &quot;median&quot;, can only be 'IQR' (default) or 'none'.</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_alpha">alpha</code></td>
<td>
<p>level of significance for confidence intervals</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_lwd">lwd</code></td>
<td>
<p>relative width of the &quot;time&quot; lines. See 'lwd' in ?par</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_lty">lty</code></td>
<td>
<p>type of the &quot;time&quot; lines. See 'lty' in ?par</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_line.col">line.col</code></td>
<td>
<p>colour(s) of the error and time lines</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_bin.time">bin.time</code></td>
<td>
<p>number bins in the time line graph</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_bin.method">bin.method</code></td>
<td>
<p>method to allocate the &quot;time&quot; variable into bins, either with 'fixed' interval or equally distributed sample sizes based on quantiles</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_legend">legend</code></td>
<td>
<p>presence of automatic legend for the time line graph</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_legend.site">legend.site</code></td>
<td>
<p>a single character string indicating location of the legend. See details of ?legend</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_legend.bg">legend.bg</code></td>
<td>
<p>background colour of the legend</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_xlim">xlim</code></td>
<td>
<p>X axis limits</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_ylim">ylim</code></td>
<td>
<p>Y axis limits</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_bar.col">bar.col</code></td>
<td>
<p>bar colours</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_cap.size">cap.size</code></td>
<td>
<p>relative length of terminating cross-line compared to the range of X axis</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_lagging">lagging</code></td>
<td>
<p>lagging value of the error bars of two adjecant categories at the same time point. The value is result of dividing this distance with the range of X axis</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_main">main</code></td>
<td>
<p>main title of the graph</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_return.output">return.output</code></td>
<td>
<p>whether the dataframe resulted from aggregate should be returned</p>
</td></tr>
<tr><td><code id="aggregate+2B20plot_+3A_...">...</code></td>
<td>
<p>additional graphic parameters passed on to other methods</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>This function plots aggregated values of 'x' by a factor (barplot) or a continuous variable (time line graph).
</p>
<p>When 'by' is of class 'factor', a bar plot with error bars is displayed.
</p>
<p>When 'by' is a continuous variable (typically implying time), a time line graph is displayed.
</p>
<p>Both types of plots have error arguments. Choices are 'se' and 'sd' for the bar plot and 'ci' and IQR for both bar plot and time line graph. All these can be suppressed by specifying 'error'=&quot;none&quot;.
</p>
<p>'bin.time' and 'bin.method' are exclusively used when 'by' is a continuous variable and does not have regular values (minimum frequency of 'by' &lt;3). This condition is automatically and silently detected by 'aggregate.plot' before 'bin.method' chooses the method for aggregation and bin.time determines the number of bins.
</p>
<p>If 'legend = TRUE&quot; (by default), a legend box is automatically drawn on the &quot;topright&quot; corner of the graph. This character string can be changed to others such as, &quot;topleft&quot;, &quot;center&quot;, etc (see examples).
</p>
<p>'cap.size' can be assigned to zero to remove the error bar cap.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'aggregate.data.frame', 'aggregate.numeric', 'tapply'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Compaq)
.data &lt;- Compaq
attach(.data)
aggregate.plot(x=year, by=list(HOSPITAL = hospital, STAGE = stage), 
   return = TRUE)
# moving legend and chaging bar colours
aggregate.plot(x=year, by=list(HOSPITAL = hospital, STAGE = stage), error="ci",
  legend.site = "topleft", bar.col = c("red","blue"))
detach(.data)

# Example with regular time intervals (all frequencies &gt; 3)
data(Sitka, package="MASS")
.data &lt;- Sitka
attach(.data)
tab1(Time, graph=FALSE) # all frequencies &gt; 3
aggregate.plot(x=size, by=Time, cap.size = 0) # Note no cap on error bars
# For black and white presentation
aggregate.plot(x=size, by=Time, grouping=treat, FUN="median", 
  line.col=3:4, lwd =2)
detach(.data)

# Example with irregular time intervals (some frequencies &lt; 3)
data(BP)
.data &lt;- BP
attach(.data) 
des(.data)
age &lt;- as.numeric(as.Date("2008-01-01") - birthdate)/365.25
aggregate.plot(x=sbp, by=age, grouping=saltadd, bin.method="quantile")
aggregate.plot(x=sbp, by=age, grouping=saltadd, lwd=3, 
  line.col=c("blue","green") , main = NULL)
title(main="Effect of age and salt adding on SBP", xlab="years",ylab="mm.Hg")
points(age[saltadd=="no"], sbp[saltadd=="no"], col="blue")
points(age[saltadd=="yes"], sbp[saltadd=="yes"], pch=18, col="green")
detach(.data)
rm(list=ls())

## For a binary outcome variable, aggregrated probabilities is computed
data(Outbreak)
.data &lt;- Outbreak
attach(.data)
.data$age[.data$age == 99] &lt;- NA
detach(.data)
attach(.data)
aggregate.plot(diarrhea, by=age, bin.time=5)
diarrhea1 &lt;- factor(diarrhea)
levels(diarrhea1) &lt;- c("no","yes")
aggregate.plot(diarrhea1, by=age, bin.time=5)
detach(.data)
rm(list=ls())
</code></pre>

<hr>
<h2 id='Air+20Pollution'>Dataset on air pollution and deaths in UK</h2><span id='topic+SO2'></span>

<h3>Description</h3>

<p>Deaths in London from 1st-15th Dec 1952
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(SO2)</code></pre>


<h3>Format</h3>

<p>A data frame with 15 observations on the following 4 variables.
</p>

<dl>
<dt><code>day</code></dt><dd><p>a numeric vector: the day in Dec 1952</p>
</dd>
<dt><code>deaths</code></dt><dd><p>a numeric vector: number of deaths</p>
</dd>
<dt><code>smoke</code></dt><dd><p>a numeric vector: atmospheric smoke (mg/cu.m)</p>
</dd>
<dt><code>SO2</code></dt><dd><p>a numeric vector: atmospheric sulphur dioxide (parts/million)</p>
</dd>
</dl>



<h3>Source</h3>

<p>from John F. Osborn, Statistical Exercises in Medical Research, Blackwell 1979
</p>

<hr>
<h2 id='alpha'>Cronbach's alpha</h2><span id='topic+alpha'></span><span id='topic+alphaBest'></span>

<h3>Description</h3>

<p>Calculate reliability coefficient of items in a data frame</p>


<h3>Usage</h3>

<pre><code class='language-R'>alpha (vars, dataFrame, casewise = FALSE, reverse = TRUE, 
    decimal = 4, vars.to.reverse = NULL, var.labels = TRUE, 
    var.labels.trunc =150)   
alphaBest (vars, dataFrame, standardized = FALSE) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alpha_+3A_vars">vars</code></td>
<td>
<p>a vector containing at least three variables from the data frame</p>
</td></tr>
<tr><td><code id="alpha_+3A_dataframe">dataFrame</code></td>
<td>
<p>data frame where items are set as variables</p>
</td></tr>
<tr><td><code id="alpha_+3A_casewise">casewise</code></td>
<td>
<p>whether only records with complete data will be used</p>
</td></tr>
<tr><td><code id="alpha_+3A_reverse">reverse</code></td>
<td>
<p>whether item(s) negatively correlated with other majority will be reversed prior to computation</p>
</td></tr>
<tr><td><code id="alpha_+3A_decimal">decimal</code></td>
<td>
<p>number of decimal places displayed</p>
</td></tr>
<tr><td><code id="alpha_+3A_var.labels">var.labels</code></td>
<td>
<p>presence of descriptions of variables in the last column of the output</p>
</td></tr>
<tr><td><code id="alpha_+3A_var.labels.trunc">var.labels.trunc</code></td>
<td>
<p>number of characters used for variable descriptions, long labels can be truncated</p>
</td></tr>
<tr><td><code id="alpha_+3A_vars.to.reverse">vars.to.reverse</code></td>
<td>
<p>variable(s) to reverse prior to computation</p>
</td></tr>
<tr><td><code id="alpha_+3A_standardized">standardized</code></td>
<td>
<p>whether choosing the best subset of items is based on the standardized alpha coefficient, if FALSE then the unstandardized alpha coefficient is used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on the 'reliability' function from package 'Rcmdr', which computes Cronbach's alpha for a composite scale. 
</p>
<p>There must be at least three items in 'vars' specified by their names or their index in the data frame.
</p>
<p>The argument 'reverse' (default = TRUE) automatically reverses items negatively correlated with other majority into negative and reports the activities in the first column of the last result section. This can be overwritten by the argument 'vars.to.reverse'
</p>
<p>Similar to the 'reliability' function, users can see the effect of removing each item on the coefficents and the item-rest correlation. 
</p>
<p>'alphaBest' is a variant of 'alpha' for successive removal of items aiming to reach the highest possible Cronbach alpha. The resultant values include variable indices of excluded and remaining items, which can be forwarded to 'tableStack' to achieve total and mean scores of the best selected items. However, there is no promise that this will give the highest possible alpha. Manual attemps may also be useful in making comparison.
</p>


<h3>Value</h3>

<p>A list. 
</p>
<p>'alpha' returns an object of class &quot;alpha&quot;
</p>
<table>
<tr><td><code>alpha</code></td>
<td>
<p>unstandardized alpha coefficient</p>
</td></tr>
<tr><td><code>std.alpha</code></td>
<td>
<p>standardized alpha coefficient</p>
</td></tr>
<tr><td><code>sample.size</code></td>
<td>
<p>sample size</p>
</td></tr>
<tr><td><code>use.method</code></td>
<td>
<p>method for handling missing values</p>
</td></tr>
<tr><td><code>rbar</code></td>
<td>
<p>the average inter-item correlation</p>
</td></tr>
<tr><td><code>items.selected</code></td>
<td>
<p>names of variables included in the function</p>
</td></tr>
<tr><td><code>alpha.if.removed</code></td>
<td>
<p>a matrix of unstandardized and standardized alpha coefficients and correlation of each item with the rest of the items</p>
</td></tr>
<tr><td><code>result</code></td>
<td>
<p>as above but includes a column showing the items that were reversed (if TRUE) and a column of item description. As a matrix, it could be sent to a spreadsheet software using 'write.csv'</p>
</td></tr>
<tr><td><code>decimal</code></td>
<td>
<p>decimal places</p>
</td></tr>
<tr><td><code>item.labels</code></td>
<td>
<p>a character vector containing descriptions of the items</p>
</td></tr>
</table>
<p>'apha.Best' returns a list of the following elements
</p>
<table>
<tr><td><code>best.alpha</code></td>
<td>
<p>the possible highest alpha obtained from the function</p>
</td></tr>
<tr><td><code>removed</code></td>
<td>
<p>indices of items removed by the function</p>
</td></tr>
<tr><td><code>remaining</code></td>
<td>
<p>indices of the remaining items</p>
</td></tr>
<tr><td><code>items.reversed</code></td>
<td>
<p>names of items reversed</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'cronbach' from 'psy' package and 'reliability' from 'Rcmdr' package and 'tableStack' and 'unclassDataframe' of Epicalc</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Cars93, package="MASS")
.data &lt;- Cars93
attach(.data)
alpha(vars=c(Min.Price:MPG.highway, EngineSize), .data)
detach(.data)

data(Attitudes)
.data &lt;-Attitudes
attach(.data)
alpha(qa1:qa18, .data)  # Needs full screen of Rconsole
alpha(qa1:qa18, var.labels.trunc=30, .data) 
                 # Fits in with default R console screen

alpha(qa1:qa18, reverse=FALSE, .data)

alphaBest(qa1:qa18, .data) -&gt; best.alpha
best.alpha # .7621
tableStack(best.alpha$remaining, dataFrame=.data, reverse=TRUE)

# Manual attempts by trial and error give the following
alpha(c(qa1:qa9, qa15,qa18), .data) # .7644
detach(.data)
rm(list=ls())
</code></pre>

<hr>
<h2 id='ANC+20Table'>Dataset on effect of new ANC method on mortality (as a table)</h2><span id='topic+ANCtable'></span>

<h3>Description</h3>

<p>This dataset contains frequency of various combinations 
of methods of antenatal care in two clinics with the outcome being 
perinatal mortality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ANCtable)
</code></pre>


<h3>Format</h3>

<p>A data frame with 8 observations on the following 4 variables.
</p>

<dl>
<dt><code>death</code></dt><dd><p>a numeric vector: 1=no, 2=yes</p>
</dd>
<dt><code>anc</code></dt><dd><p>a numeric vector indicating antenatal care type: 1=old 2=new </p>
</dd>
<dt><code>clinic</code></dt><dd><p>a numeric vector indicating clinic code: 1=clinic A, 
2=clinic B</p>
</dd>
<dt><code>Freq</code></dt><dd><p>a numeric vector of frequencies</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(ANCtable)
glm1 &lt;- glm(death==2 ~ factor(anc) + factor(clinic),weights=Freq, family=binomial, data=ANCtable)
logistic.display(glm1)
glm2 &lt;- glm(death==2 ~ factor(anc) + factor(clinic),weights=Freq, family=binomial, data=ANCtable)
summary(glm2)$coefficients
</code></pre>

<hr>
<h2 id='Antenatal+20care+20data'> Dataset on effect of new antenatal care method on mortality</h2><span id='topic+ANCdata'></span>

<h3>Description</h3>

<p>This dataset contains records of high risk pregnant women 
under a trial on new and old methods of antenatal care 
in two clinics. The outcome was perinatal mortality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ANCdata)</code></pre>


<h3>Format</h3>

<p>A data frame with 755 observations on the following 3 variables.
</p>

<dl>
<dt><code>death</code></dt><dd><p>a factor with levels <code>no</code> <code>yes</code></p>
</dd>
<dt><code>anc</code></dt><dd><p>a factor with levels <code>old</code> <code>new</code></p>
</dd>
<dt><code>clinic</code></dt><dd><p>a factor with levels <code>A</code> <code>B</code></p>
</dd>
</dl>


<hr>
<h2 id='Attitudes+20dataset'> Dataset from an attitude survey among hospital staff</h2><span id='topic+Attitudes'></span>

<h3>Description</h3>

<p>Survey on attitudes related to services among hospital staff. 
</p>
<p>Codes for the answers qa1 to qa18 are
</p>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = strongly disagree</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> = disagree</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 3 </td><td style="text-align: left;"> = neutral</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 4 </td><td style="text-align: left;"> = agree</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 5 </td><td style="text-align: left;"> = strong agree</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>data(Attitudes)</code></pre>


<h3>Format</h3>

<p>A data frame with 136 observations on the following 7 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>identifying code of repondent</p>
</dd>
<dt><code>sex</code></dt><dd><p>gender of respondent</p>
</dd>
<dt><code>dep</code></dt><dd><p>code of department</p>
</dd>
<dt><code>qa1</code></dt><dd><p>I have pride in my job</p>
</dd>
<dt><code>qa2</code></dt><dd><p>I'm happy to give service</p>
</dd>
<dt><code>qa3</code></dt><dd><p>I feel difficulty in giving service</p>
</dd>
<dt><code>qa4</code></dt><dd><p>I can improve my service</p>
</dd>
<dt><code>qa5</code></dt><dd><p>A service person must have patience</p>
</dd>
<dt><code>qa6</code></dt><dd><p>I would change my job if had the chance</p>
</dd>
<dt><code>qa7</code></dt><dd><p>Devoting some personal time will improve oneself</p>
</dd>
<dt><code>qa8</code></dt><dd><p>Hard work will improve oneself</p>
</dd>
<dt><code>qa9</code></dt><dd><p>Smiling leads to trust</p>
</dd>
<dt><code>qa10</code></dt><dd><p>I feel bad if I cannot give service</p>
</dd>
<dt><code>qa11</code></dt><dd><p>A client is not always right</p>
</dd>
<dt><code>qa12</code></dt><dd><p>Experienced clients should follow the procedure</p>
</dd>
<dt><code>qa13</code></dt><dd><p>A client violating the regulation should not bargain</p>
</dd>
<dt><code>qa14</code></dt><dd><p>Understanding colleagues will lead to understanding clients</p>
</dd>
<dt><code>qa15</code></dt><dd><p>Clients like this place due to good service</p>
</dd>
<dt><code>qa16</code></dt><dd><p>Clients who expect our smiling faces create pressure on us</p>
</dd>
<dt><code>qa17</code></dt><dd><p>Clients are often self-centered</p>
</dd>
<dt><code>qa18</code></dt><dd><p>Clients should be better served</p>
</dd>
</dl>


<hr>
<h2 id='Bangladesh+20Fertility+20Survey'> Dataset from 1988 Bangladesh Fertility Survey</h2><span id='topic+Bang'></span>

<h3>Description</h3>

<p>The file consists of a subsample of 1934 women grouped in 60 districts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Bang)</code></pre>


<h3>Format</h3>

<p>A data frame with 1934 observations on the following 7 variables.
</p>

<dl>
<dt><code>woman</code></dt><dd><p>identifying code of each woman</p>
</dd>
<dt><code>district</code></dt><dd><p>identifying code for each district</p>
</dd>
<dt><code>user</code></dt><dd><p><code>1</code> = using contraceptive <code>0</code> = not using</p>
</dd>
<dt><code>living.children</code></dt><dd><p>Number of living children at time of survey</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = none</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> = 1</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 3 </td><td style="text-align: left;"> = 2</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 4 </td><td style="text-align: left;"> = 3 or more</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>age_mean</code></dt><dd><p>age of woman in years, centred around the mean</p>
</dd>
<dt><code>urban</code></dt><dd><p>Type of region of residence: <code>1</code> = urban, <code>0</code> = rural</p>
</dd>
<dt><code>constant</code></dt><dd><p>constant term = 1</p>
</dd>
</dl>



<h3>Source</h3>

<p>Huq, N. M., and Cleland, J. 1990. Bangladesh Fertility Survey 1989 (Main Report). Dhaka: <em>National Institute of Population Research and Training</em></p>

<hr>
<h2 id='Blood+20pressure'>Dataset on blood pressure and determinants</h2><span id='topic+BP'></span>

<h3>Description</h3>

<p>This dataset contains information on the records of 100 adults from a small 
cross-sectional survey in 2001 investigating blood pressure and its determinants
in a community.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(BP)</code></pre>


<h3>Format</h3>

<p>A data frame containing 100 observations and 6 variables with
variable descriptions.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(BP)
des(BP)
</code></pre>

<hr>
<h2 id='Cancer+20survival'>Dataset on cancer survival</h2><span id='topic+Compaq'></span>

<h3>Description</h3>

<p>A dataset on cancer survival checking whether there is a survival difference between cancer patients in private and public hospitals.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Compaq)</code></pre>


<h3>Format</h3>

<p>A data frame with 1064 observations on the following 7 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>hospital</code></dt><dd><p>a factor with levels <code>Public hospital</code> <code>Private hospital</code></p>
</dd>
<dt><code>status</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>stage</code></dt><dd><p>a factor with levels <code>Stage 1</code> <code>Stage 2</code> <code>Stage 3</code> <code>Stage 4</code></p>
</dd>
<dt><code>agegr</code></dt><dd><p>a factor with levels <code>&lt;40</code> <code>40-49</code> <code>50-59</code> <code>60+</code></p>
</dd>
<dt><code>ses</code></dt><dd><p>a factor with levels <code>Rich</code> <code>High-middle</code> <code>Poor-middle</code> <code>Poor</code></p>
</dd>
<dt><code>year</code></dt><dd><p>a numeric vector indicating the year of recruitment into the study</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Compaq)
des(Compaq)
</code></pre>

<hr>
<h2 id='cc'>Odds ratio calculation and graphing</h2><span id='topic+cc'></span><span id='topic+cci'></span><span id='topic+cs'></span><span id='topic+csi'></span><span id='topic+make2x2'></span><span id='topic+graph.casecontrol'></span><span id='topic+graph.prospective'></span><span id='topic+labelTable'></span>

<h3>Description</h3>

<p>Odds ratio calculation and graphing</p>


<h3>Usage</h3>

<pre><code class='language-R'>cc(outcome, exposure, decimal = 2, cctable = NULL, graph = TRUE, 
	original = TRUE, design = "cohort", main, xlab = "auto", ylab,
  alpha = .05, fisher.or = FALSE, exact.ci.or = FALSE) 
cci(caseexp, controlex, casenonex, controlnonex, cctable = NULL, 
	graph = TRUE, design = "cohort", main, xlab, ylab, xaxis, yaxis, 
  alpha = .05, fisher.or = FALSE, exact.ci.or = FALSE,decimal = 2 ) 
cs(outcome, exposure, cctable = NULL, decimal = 2, method="Newcombe.Wilson", 
   main, xlab, ylab, cex, cex.axis)
csi(caseexp, controlex, casenonex, controlnonex, cctable = NULL, 
	decimal = 2, method="Newcombe.Wilson") 
graph.casecontrol(caseexp, controlex, casenonex, controlnonex,
	 decimal=2) 
graph.prospective(caseexp, controlex, casenonex, controlnonex,
	 decimal=2) 
labelTable(outcome, exposure, cctable = NULL, cctable.dimnames = NULL) 
make2x2(caseexp, controlex, casenonex, controlnonex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cc_+3A_cctable.dimnames">cctable.dimnames</code></td>
<td>
<p>Dimension names of the variables, usually omitted</p>
</td></tr>
<tr><td><code id="cc_+3A_decimal">decimal</code></td>
<td>
<p>number of decimal places displayed</p>
</td></tr>
<tr><td><code id="cc_+3A_outcome">outcome</code>, <code id="cc_+3A_exposure">exposure</code></td>
<td>
<p>two dichotomous variables</p>
</td></tr>
<tr><td><code id="cc_+3A_cctable">cctable</code></td>
<td>
<p>A 2-by-2 table. If specified, will supercede the outcome and exposure variables</p>
</td></tr>
<tr><td><code id="cc_+3A_graph">graph</code></td>
<td>
<p>If TRUE (default), produces an odds ratio plot</p>
</td></tr>
<tr><td><code id="cc_+3A_design">design</code></td>
<td>
<p>Specification for graph; can be &quot;case control&quot;,&quot;case-control&quot;, &quot;cohort&quot; or &quot;prospective&quot;</p>
</td></tr>
<tr><td><code id="cc_+3A_caseexp">caseexp</code></td>
<td>
<p>Number of cases exposed</p>
</td></tr>
<tr><td><code id="cc_+3A_controlex">controlex</code></td>
<td>
<p>Number of controls exposed</p>
</td></tr>
<tr><td><code id="cc_+3A_casenonex">casenonex</code></td>
<td>
<p>Number of cases not exosed</p>
</td></tr>
<tr><td><code id="cc_+3A_controlnonex">controlnonex</code></td>
<td>
<p>Number of controls not exposed</p>
</td></tr>
<tr><td><code id="cc_+3A_original">original</code></td>
<td>
<p>should the original table be displayed instead of standard outcome vs exposure table</p>
</td></tr>
<tr><td><code id="cc_+3A_main">main</code></td>
<td>
<p>main title of the graph</p>
</td></tr>
<tr><td><code id="cc_+3A_xlab">xlab</code></td>
<td>
<p>label on X axis</p>
</td></tr>
<tr><td><code id="cc_+3A_ylab">ylab</code></td>
<td>
<p>label on Y axis</p>
</td></tr>
<tr><td><code id="cc_+3A_alpha">alpha</code></td>
<td>
<p>level of significance</p>
</td></tr>
<tr><td><code id="cc_+3A_fisher.or">fisher.or</code></td>
<td>
<p>whether odds ratio should be computed by the exact method</p>
</td></tr>
<tr><td><code id="cc_+3A_exact.ci.or">exact.ci.or</code></td>
<td>
<p>whether confidence limite of the odds ratio should be computed by the exact method</p>
</td></tr>
<tr><td><code id="cc_+3A_xaxis">xaxis</code></td>
<td>
<p>two categories of exposure in graph</p>
</td></tr>
<tr><td><code id="cc_+3A_yaxis">yaxis</code></td>
<td>
<p>two categories of outcome in graph</p>
</td></tr>
<tr><td><code id="cc_+3A_method">method</code></td>
<td>
<p>method of computation for 95 percent limits of risk difference</p>
</td></tr>
<tr><td><code id="cc_+3A_cex.axis">cex.axis</code></td>
<td>
<p>character expansion factor for graph axis</p>
</td></tr>
<tr><td><code id="cc_+3A_cex">cex</code></td>
<td>
<p>character expansion factor for text in the graph</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'cc' usually reads in two variables whereas in 'cci' four number are entered manually. However, both the variables and the numbers should be omitted if the analysis is directly on a table specified by 'cctable'.
</p>
<p>From both functions, odds ratio and its confidence limits, chisquared test and Fisher's exact test are computed. The odds ratio calcuation is based on cross product method unless 'fisher.or' is set as TRUE. It's confidence limits are obtained by the exact method unless exact.ci.or is set as FALSE.
</p>
<p>'cs' and 'csi' are for cohort and cross-sectional studies. It computes the absolute risk, risk difference, and risk ratio. When the exposure is a risk factor, the attributable fraction exposure, attributable fraction population and number needed to harm (NNH) are also displayed in the output. When the exposure is a protective factor, protective efficacy or percent of risk reduced and number needed to treat (NNT) are displayed instead. 
</p>
<p>If there are more than 2 exposure categories and the sample size is large enough, a graph will be plotted.
</p>
<p>'method' in 'csi' and 'cs' chooses whether confidence limits of the risk difference should be computed by Newcomb-Wilson method. Both this and the standard method may give non-sensible values if the risk difference is not statistically significant.
</p>
<p>'make2x2' creates a 2-by-2 table using the above orientation.
</p>
<p>'graph.casecontrol' and 'graph.prospective' draw a graph comparing the odds of exposure between cases and controls or odds of diseased between exposed and non-exposed.
</p>
<p>These two graphic commands are automatically chosen by 'cc' and 'cci', depending on the 'design' argument.
</p>
<p>Alternatively, a contingency table saved from 'make2x2' can be supplied as the 'cctable' argument for the 'cc' function and so on.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'fisher.test', 'chisq.test' and 'mhor'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
.data &lt;- Oswego
attach(.data)
cc(ill, chocolate)
cc(ill, chocolate, design="case-control")
cs(ill, chocolate) # The outcome variable should come first.

#    For the following table
#          chocolate
#    ill     FALSE TRUE
#     FALSE     7   22
#     TRUE     20   25
#
cci(25, 22, 20, 7)
graph.casecontrol(25, 22, 20, 7)
graph.prospective(25, 22, 20, 7)
# Each of the above two lines produces untitled graph, which can be decorated
# additionally decorated

#Alternatively
table1 &lt;- make2x2(25,22,20,7)
cc(outcome=NULL, exposure=NULL, cctable=table1)
cs(outcome=NULL, exposure=NULL, cctable=table1)
agegr &lt;- pyramid(age, sex, bin=30)$ageGroup
cs(ill, agegr, main="Risk ratio by age group", xlab="Age (years)")
rm(list=ls())
detach(.data)
</code></pre>

<hr>
<h2 id='CI'>Confidence interval of probabilty, mean and incidence</h2><span id='topic+ci'></span><span id='topic+ci.default'></span><span id='topic+ci.binomial'></span><span id='topic+ci.numeric'></span><span id='topic+ci.poisson'></span>

<h3>Description</h3>

<p>Compute confidence interval(s) of variables or values input from keyboard.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ci(x, ...)

## Default S3 method:
ci(x,...)

## S3 method for class 'binomial'
ci(x, size, precision, alpha = 0.05, ...)

## S3 method for class 'numeric'
ci(x, n, sds, alpha = 0.05, ...)

## S3 method for class 'poisson'
ci(x, person.time, precision, alpha = 0.05, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CI_+3A_x">x</code></td>
<td>
<p>a variable for 'ci', number of success for 'ci.binomial', mean(s) for 'ci.numeric', and counts for 'ci.poisson'</p>
</td></tr>
<tr><td><code id="CI_+3A_size">size</code></td>
<td>
<p>denominator for success</p>
</td></tr>
<tr><td><code id="CI_+3A_precision">precision</code></td>
<td>
<p>level of precision used during computation for the confidence limits</p>
</td></tr>
<tr><td><code id="CI_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="CI_+3A_n">n</code></td>
<td>
<p>sample size</p>
</td></tr>
<tr><td><code id="CI_+3A_sds">sds</code></td>
<td>
<p>standard deviation</p>
</td></tr>
<tr><td><code id="CI_+3A_person.time">person.time</code></td>
<td>
<p>denominator for count</p>
</td></tr>
<tr><td><code id="CI_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions compute confidence intervals of probability, mean and incidence from variables in a dataset or values from keyboard input.
</p>
<p>'ci' will try to identify the nature of the variable 'x' and determine the appropriate method (between 'ci.binomial' and 'ci.numeric') for computation. 'ci' without a specified method will never call 'ci.poisson'.
</p>
<p>The specific method, ie. 'ci.binomial', 'ci.numeric' or 'ci.poisson', should be used when the values are input from the keyboard or from an aggregated data frame with columns of variables for the arguments.
</p>
<p>'ci.binomial' and 'ci.numeric' employ exact probability computation while 'ci.numeric' is based on the t-distribution assumption.
</p>


<h3>Value</h3>

<p>'ci.binomial' and 'ci.poisson' return a data frame containing the number of events, the denominator and the incidence rate. 'ci.numeric' returns means and standard deviations. All of these are followed by the standard error and the confidence limit, the level of which is determined by 'alpha'</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'summ'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
.data &lt;- Oswego
attach(.data)
# logical variable
ci(ill)
# numeric variable
ci(age)
# factor
ci(sex=="M")
ci(sex=="F")
detach(.data)

# Example of confidence interval for means
library(MASS)
.data &lt;- Cars93
attach(.data)
car.price &lt;- aggregate(Price, by=list(type=Type), FUN=c("mean","length","sd"))
car.price
ci.numeric(x=car.price$mean, n=car.price$length, sds=car.price$sd.Price )
detach(.data)
rm(list=ls())
 
# Example of confidence interval for probabilty
data(ANCdata)
.data &lt;- ANCdata
attach(.data)
death1 &lt;- death=="yes"
death.by.group &lt;- aggregate.numeric(death1, 
	by=list(anc=anc, clinic=clinic), FUN=c("sum","length"))
death.by.group
ci.binomial(death.by.group$sum.death1, death.by.group$length)
detach(.data)
rm(list=ls())

# Example of confidence interval for incidence
data(Montana)
.data &lt;- Montana
attach(.data)
des(.data)
age.Montana &lt;- aggregate.data.frame(Montana[,1:2],
	by=list(agegr=Montana$agegr),FUN="sum")
age.Montana
ci.poisson(age.Montana$respdeath, person.time=age.Montana$personyrs)
detach(.data)
rm(list=ls())

# Keyboard input
# What is the 95 % CI of sensitivity of a test that gives all
# positive results among 40 diseased individuals
ci.binomial(40,40)

# What is the 99 % CI of incidence of a disease if the number
# of cases is 25 among 340,000 person-years
ci.poisson(25, 340000, alpha=.01) # 4.1 to 12.0 per 100,000 person-years

</code></pre>

<hr>
<h2 id='Codebook'>Codebook of a data frame</h2><span id='topic+codebook'></span>

<h3>Description</h3>

<p>Print description, summary statistics and one-way tabulation of variables</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook(dataFrame)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Codebook_+3A_dataframe">dataFrame</code></td>
<td>
<p>A data frame for printing the codebook</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value of dataFrame (ie if no argument is supplied) is '.data'.
</p>
<p>While 'summ' produces summary statistics of both numeric and factor variables, 'codebook' gives summary statistics of all numeric variables and one-way tabulation of all factors of the data frame.</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'use', 'summ', 'tab1' and 'tableStack'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Familydata)
codebook(Familydata)
</code></pre>

<hr>
<h2 id='Data+20for+20cleaning'>Dataset for practicing cleaning, labelling and recoding</h2><span id='topic+Planning'></span>

<h3>Description</h3>

<p>The data come from clients of a family planning clinic.
</p>
<p>For all variables except id: 9, 99, 99.9, 888, 999 represent missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Planning)</code></pre>


<h3>Format</h3>

<p>A data frame with 251 observations on the following 11 variables.
</p>

<dl>
<dt><code>ID</code></dt><dd><p>a numeric vector: ID code</p>
</dd>
<dt><code>AGE</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>RELIG</code></dt><dd><p>a numeric vector: Religion</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = Buddhist</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> = Muslim</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>PED</code></dt><dd><p>a numeric vector: Patient's education level</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = none</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> = primary school</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 3 </td><td style="text-align: left;"> = secondary school</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 4 </td><td style="text-align: left;"> = high school</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 5 </td><td style="text-align: left;"> = vocational school</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 6 </td><td style="text-align: left;"> = university</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 7 </td><td style="text-align: left;"> = other</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>INCOME</code></dt><dd><p>a numeric vector: Monthly income in Thai Baht</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = nil</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> = &lt; 1,000</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 3 </td><td style="text-align: left;"> = 1,000-4,999</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 4 </td><td style="text-align: left;"> = 5,000-9,999</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 5 </td><td style="text-align: left;"> = 10,000</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>AM</code></dt><dd><p>a numeric vector: Age at marriage</p>
</dd>
<dt><code>REASON</code></dt><dd><p>a numeric vector: Reason for family planning</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = birth spacing</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> = enough children</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 3 </td><td style="text-align: left;"> = other</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>BPS</code></dt><dd><p>a numeric vector: systolic blood pressure</p>
</dd>
<dt><code>BPD</code></dt><dd><p>a numeric vector: diastolic blood pressure</p>
</dd>
<dt><code>WT</code></dt><dd><p>a numeric vector: weight (Kg)</p>
</dd>
<dt><code>HT</code></dt><dd><p>a numeric vector: height (cm)</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Planning)
des(Planning)

# Change var. name to lowercase
names(Planning) &lt;- tolower(names(Planning)) 
.data &lt;- Planning
des(.data)
# Check for duplication of 'id'
attach(.data)
any(duplicated(id))
duplicated(id)
id[duplicated(id)] #215

# Which one(s) are missing?
setdiff(min(id):max(id), id) # 216

# Correct the wrong on
id[duplicated(id)] &lt;- 216
detach(.data)
rm(list=ls())
</code></pre>

<hr>
<h2 id='des'>Desription of a data frame or a variable</h2><span id='topic+des'></span>

<h3>Description</h3>

<p>Description of a data frame or a variable or wildcard for variable names</p>


<h3>Usage</h3>

<pre><code class='language-R'>des(dataFrame)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="des_+3A_dataframe">dataFrame</code></td>
<td>
<p>a data frame</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The variable names will be listed with class and the description of each variable 
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'summ', 'label.var', 'subset' and 'keepData'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
.data &lt;- Oswego
des(.data) 
</code></pre>

<hr>
<h2 id='DHF99'>Dataset for exercise on predictors for mosquito larva infestation</h2><span id='topic+DHF99'></span>

<h3>Description</h3>

<p>Dataset from a community survey on water containers infested by mosquito larvae.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(DHF99)</code></pre>


<h3>Format</h3>

<p>A data frame with 300 observations on the following 5 variables.
</p>

<dl>
<dt><code>houseid</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>village</code></dt><dd><p>a numeric vector indicating village ID</p>
</dd>
<dt><code>education</code></dt><dd><p>a factor with levels <code>Primary</code> <code>Secondary</code> <code>High school</code> <code>Bachelor</code> <code>Other</code></p>
</dd>
<dt><code>containers</code></dt><dd><p>a numeric vector indicating number of containers infested</p>
</dd>
<dt><code>viltype</code></dt><dd><p>a factor with levels <code>rural</code> <code>urban</code> <code>slum</code></p>
</dd>
</dl>



<h3>References</h3>

<p>Thammapalo, S., Chongsuwiwatwong, V., Geater, A., Lim, A., Choomalee, K. 2005. 
Socio-demographic and environmental factors associated with Aedes breeding places in Phuket, Thailand.
<em>Southeast Asian J Trop Med Pub Hlth</em> <b>36(2)</b>: 426-33.</p>

<hr>
<h2 id='dotplot'>Dot plot</h2><span id='topic+dotplot'></span>

<h3>Description</h3>

<p>Plot of frequency in dots</p>


<h3>Usage</h3>

<pre><code class='language-R'>dotplot (x, bin = "auto", by = NULL, xmin = NULL, xmax = NULL, 
    time.format = NULL, time.step = NULL, pch = 18, dot.col = "auto", 
    main = "auto", ylab = "auto", cex.X.axis = 1, cex.Y.axis = 1, ...)  
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dotplot_+3A_x">x</code></td>
<td>
<p>a numeric vector. Allowed types also include &quot;Date&quot; and &quot;POSIXct&quot;</p>
</td></tr>
<tr><td><code id="dotplot_+3A_bin">bin</code></td>
<td>
<p>number of bins for the range of 'x'</p>
</td></tr>
<tr><td><code id="dotplot_+3A_by">by</code></td>
<td>
<p>stratification variable</p>
</td></tr>
<tr><td><code id="dotplot_+3A_xmin">xmin</code></td>
<td>
<p>lower bound of x in the graph</p>
</td></tr>
<tr><td><code id="dotplot_+3A_xmax">xmax</code></td>
<td>
<p>upper bound of x in the graph</p>
</td></tr>
<tr><td><code id="dotplot_+3A_time.format">time.format</code></td>
<td>
<p>format for time or date at the tick marks</p>
</td></tr>
<tr><td><code id="dotplot_+3A_time.step">time.step</code></td>
<td>
<p>a character string indicating increment of the sequence of tick marks</p>
</td></tr>
<tr><td><code id="dotplot_+3A_pch">pch</code></td>
<td>
<p>either an integer specifying a symbol or a single character to be used as the default in plotting points</p>
</td></tr>
<tr><td><code id="dotplot_+3A_dot.col">dot.col</code></td>
<td>
<p>a character or a numeric vector indicating the colour of each category of 'by'</p>
</td></tr>
<tr><td><code id="dotplot_+3A_main">main</code></td>
<td>
<p>main title</p>
</td></tr>
<tr><td><code id="dotplot_+3A_ylab">ylab</code></td>
<td>
<p>Y axis title</p>
</td></tr>
<tr><td><code id="dotplot_+3A_cex.x.axis">cex.X.axis</code></td>
<td>
<p>character extension scale of X axis</p>
</td></tr>
<tr><td><code id="dotplot_+3A_cex.y.axis">cex.Y.axis</code></td>
<td>
<p>character extension scale of Y axis</p>
</td></tr>
<tr><td><code id="dotplot_+3A_...">...</code></td>
<td>
<p>graphical parameters for the dots when there is no stratification</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'dotplot' in Epicalc is similar to a histogram. Each dot represents one record. Attributes of the dots can be further specified in '...' when there is no strafication. Otherwise, the dots are plotted as a diamond shape and the colours are automatically chosen based on the current palette and the number of strata.
</p>
<p>When 'bin=&quot;auto&quot;' (by default), and the class of the vector is 'integer', 'bin' will be automatically set to max(x)-min(x)+1. This strategy is also applied to all other time and date variables. Users can try other values if the defaults are not to their liking. See the example of 'timeExposed' below.
</p>
<p>The argument 'xmin' and 'xmax' indicate the range of x to be displayed on the graph. These two arguments are independent from the value of 'bin', which controls only the number of columns for the original data range. 
</p>
<p>Dotplot usually starts the first tick mark on the X-axis at 'xmin' (or min(x) if the 'xmin' is not specified). The argument 'time.step' is typically a character string, containing one of 'sec', 'min', 'hour', 'day', 'DSTday', 'week', 'month' or 'year'.  This can optionally be preceded by an integer and a space, or followed by &quot;s&quot;, such as &quot;2 weeks&quot;.
</p>
<p>Setting proper 'xmin', 'xmax' and 'time.step' can improve the location of tick marks on the X-axis. The 'time.format' argument can then be given to further improve the graph. See the last two examples for a better understanding.</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'summ', 'hist', 'seq.Date' and 'seq.POSIXt'</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- rep(1:2, 250)
b &lt;- rnorm(500,mean=a)
dotplot(b)
dotplot(b, pch=1)
dotplot(b, by=a)
dotplot(b, by=a, pch=1) # You may try other values of 'pch'

# For the commands below,
# if dates in X axis are not readable, 
# try omitting '#' from the next line
# Sys.setlocale("LC_ALL", "C")

# The number of dots in each column is the frequency
# of 'x' for the exact value on the X axis.
data(Outbreak)
.data &lt;- Outbreak
attach(.data)
class(age) # numeric
dotplot(age) # 40 columns
age.as.integer &lt;- as.integer(age)
dotplot(age.as.integer)
# 'bin' is the number of columns in the data range.
# Specifying 'min' and 'max' only expands or truncates
# the range of the X axis and has no effect on the distribution
# of the dots inside the data range.
dotplot(age.as.integer, xmin=0, xmax=150) # Just for demonstration.
dotplot(age.as.integer, xmin=0, xmax=70) # the "99"s are now out of the plot.
dotplot(age.as.integer, xmin=0, xmax=70, by=sex)

# Controlling colours of the dots
dotplot(age.as.integer, xmin=0, xmax=70, dot.col="chocolate") 
sex1 &lt;- factor(sex); levels(sex1) &lt;- list("M"=1,"F"=0)
dotplot(age.as.integer, xmin=0, xmax=70, by=sex1, dot.col=c(2,5)) 
dotplot(age.as.integer, xmin=0, xmax=70, by=sex1, 
  dot.col=c("brown","blue"), main="Age by sex",
  cex.X.axis=1.3, cex.Y.axis=1.5, cex.main=1.5) 
rm(list=ls())
detach(.data)
</code></pre>

<hr>
<h2 id='Ectopic+20pregnancy'> Dataset of a case-control study looking at history of 
abortion as a risk factor for ectopic pregnancy</h2><span id='topic+Ectopic'></span>

<h3>Description</h3>

<p>This case-control study has one case series and two control groups.<br />
The subjects were recruited based on three types of pregnancy outcome
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Ectopic)</code></pre>


<h3>Format</h3>

<p>A data frame with 723 observations on the following 4 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>outc</code></dt><dd><p>a factor with levels <code>EP</code> <code>IA</code> <code>Deli</code></p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> EP </td><td style="text-align: left;"> = ectopic pregnancy</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> IA </td><td style="text-align: left;"> = women coming for induced abortion</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> Deli </td><td style="text-align: left;"> = women admitted for full-term delivery</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>hia</code></dt><dd><p>a factor with levels <code>never IA</code> <code>ever IA</code></p>
</dd>
<dt><code>gravi</code></dt><dd><p>a factor with levels <code>1-2</code> <code>3-4</code> <code>&gt;4</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Ectopic)
library(nnet)
data(Ectopic)
.data &lt;- Ectopic
multi1 &lt;- multinom(outc ~ hia + gravi, data=.data)
summary(multi1)
mlogit.display(multi1)

# Changing referent group of outcome
.data$outcIA &lt;- relevel(.data$outc, ref="IA")
multi2 &lt;- multinom(outcIA ~ hia + gravi, data=.data)
summary(multi2)
mlogit.display(multi2)
</code></pre>

<hr>
<h2 id='Familydata'> Dataset of a hypothetical family</h2><span id='topic+Familydata'></span>

<h3>Description</h3>

<p> Anthropometric and financial data of a hypothetical family</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Familydata)</code></pre>


<h3>Format</h3>

<p>A data frame with 11 observations on the following 6 variables.
</p>

<dl>
<dt><code>code</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>ht</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>wt</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>money</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>sex</code></dt><dd><p>a factor with levels <code>F</code> <code>M</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Familydata)
.data &lt;- Familydata
des(.data)
summ(.data)
age2 &lt;- with(.data, age)^2
with(.data, plot(age, money, log="y"))
dots.of.age &lt;- seq(0,80,0.01)
new.data.frame &lt;- data.frame(age=dots.of.age, age2=dots.of.age^2)
lm1 &lt;- lm(log(money) ~ age + age2, data=.data)
summary(lm1)$coefficients
dots.of.money &lt;- predict.lm(lm1, new.data.frame)
lines(dots.of.age, exp(dots.of.money), col="blue")
</code></pre>

<hr>
<h2 id='Follow-up+20Plot'>Longitudinal followup plot</h2><span id='topic+followup.plot'></span>

<h3>Description</h3>

<p>Plot longitudinal values of individuals with or without stratification</p>


<h3>Usage</h3>

<pre><code class='language-R'>followup.plot(id, time, outcome, by = NULL, n.of.lines = NULL, legend = TRUE, 
    legend.site = "topright", lty = "auto", line.col = "auto", 
    stress = NULL, stress.labels = FALSE, label.col = 1, stress.col = NULL, 
    stress.width = NULL, stress.type = NULL, lwd = 1, xlab, ylab, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Follow-up+2B20Plot_+3A_id">id</code></td>
<td>
<p>idenfication variable of the same subject being followed up</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_time">time</code></td>
<td>
<p>time at each measurement</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_outcome">outcome</code></td>
<td>
<p>continuous outcome variable</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_by">by</code></td>
<td>
<p>stratification factor (if any)</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_n.of.lines">n.of.lines</code></td>
<td>
<p>number of lines (or number of subjects in the data frame) randomly chosen for drawing</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_legend">legend</code></td>
<td>
<p>whether a legend will be automatically included in the graph</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_legend.site">legend.site</code></td>
<td>
<p>a single character string indicating location of the legend. See details of ?legend</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_lty">lty</code></td>
<td>
<p>type of the &quot;time&quot; lines. See 'lty' in ?par</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_line.col">line.col</code></td>
<td>
<p>line colour(s) for non-stratified plot</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_stress">stress</code></td>
<td>
<p>subset of ids to draw stressed lines</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_stress.labels">stress.labels</code></td>
<td>
<p>whether the stressed lines should be labelled</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_label.col">label.col</code></td>
<td>
<p>single integer indicating colour of the stressed line labels</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_stress.col">stress.col</code></td>
<td>
<p>colour values used for the stressed line. Default value is '1' or black</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_stress.width">stress.width</code></td>
<td>
<p>relative width of the stressed line</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_stress.type">stress.type</code></td>
<td>
<p>line type code for the stressed line</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_xlab">xlab</code></td>
<td>
<p>label for X axis</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_ylab">ylab</code></td>
<td>
<p>label for Y axis</p>
</td></tr>
<tr><td><code id="Follow-up+2B20Plot_+3A_...">...</code></td>
<td>
<p>other graphic parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'followup.plot' plots outcome over time of the individual subjects.
</p>
<p>If a stratification variable 'by' is specified, the levels of this variable will be used to color the lines. 
</p>
<p>'n.of.lines' is used to reduce the number of lines to allow the pattern to be seen more clearly. 
</p>
<p>'legend' is omitted if 'n.of.lines' is not NULL or the number of subjects exceeds 7 without stratification.
</p>
<p>'line.col' works only for a non-stratified plot. It can be a single standard colour or &quot;multicolor&quot;. 
</p>
<p>Values for 'stress.col', 'stress.width' and 'stress.type', if not NULL, should follow those for 'col', 'lwd' and 'lty', respectively  
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'plot','lines'</p>


<h3>Examples</h3>

<pre><code class='language-R'>.data &lt;- Indometh
attach(.data)
followup.plot(Subject, time, conc)
followup.plot(Subject, time, conc, lty=1:6, line.col=rep("black",6))
detach(.data)

.data &lt;- Sitka
attach(.data)
followup.plot(tree, Time, size)
followup.plot(tree, Time, size, line.col = "brown")
followup.plot(tree, Time, size, line.col = "multicolor")
followup.plot(tree, Time, size, n.of.lines=20, line.col = "multicolor")

# Breakdown of color by treatment group
followup.plot(tree, Time, size, by=treat)

# The number of lines reduced to 40
followup.plot(tree, Time, size, by=treat, n.of.lines=40)

# Stress some lines
length(table(tree)) # 79 trees followed up

# Identifying trees that sometimes became smaller
.data &lt;- .data[order(.data$tree, .data$Time),]
detach(.data)
attach(.data)
next.tree &lt;- c(tree[-1], NA)
next.size &lt;- c(size[-1], NA)
next.size[tree != next.tree] &lt;- NA
smaller.trees &lt;- tree[next.size &lt; size] 
followup.plot (tree, Time, size, line.col=5, stress=smaller.trees, 
  stress.col=2, stress.width=2, stress.type=2)
followup.plot (tree, Time, size, line.col=5, stress=smaller.trees, 
  stress.col=2, stress.width=2, stress.type=2, stress.labels=TRUE)
detach(.data)
rm(list=ls())  
  
</code></pre>

<hr>
<h2 id='Hakimi+27s+20data'>Dataset on effect of training personnel on neonatal mortality</h2><span id='topic+Hakimi'></span>

<h3>Description</h3>

<p>Subset of a dataset from an intervention trial of education on personnel and the effect on neonatal mortality. Non-fatal records were randomly selected from the original dataset, just for practice and interpretation of interaction term.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Hakimi)</code></pre>


<h3>Format</h3>

<p>A data frame containing 456 observations and 4 variables.
</p>

<dl>
<dt><code>dead</code></dt><dd><p>neonatal death: 1=yes, 0=no</p>
</dd>
<dt><code>treatment</code></dt><dd><p>intervention programme: 1=yes, 2=no</p>
</dd>
<dt><code>malpres</code></dt><dd><p>malpresentation of fetus: 1=yes, 0=no</p>
</dd>
<dt><code>birthwt</code></dt><dd><p>birth weight for foetus in gram</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Hakimi)
.data &lt;- Hakimi
attach(.data)
cc(dead, treatment)
mhor(dead, treatment, malpres)
detach(.data)
</code></pre>

<hr>
<h2 id='Hookworm+201993'>Dataset from a study on hookworm prevalence and intensity in 1993</h2><span id='topic+HW93'></span>

<h3>Description</h3>

<p>A dataset from a cross-sectional survey in 1993 examining hookworm
infection</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(HW93)</code></pre>


<h3>Format</h3>

<p>A data frame with 637 observations on the following 6 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector for personal identification number</p>
</dd>
<dt><code>epg</code></dt><dd><p>a numeric vector for eggs per gram of faeces</p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector for age in years</p>
</dd>
<dt><code>shoe</code></dt><dd><p>a factor for shoe wearing with levels <code>no</code> <code>yes</code></p>
</dd>
<dt><code>intense</code></dt><dd><p>a factor for intensity of infection in epg. with levels <code>0</code> <code>1-1,999</code> <code>2,000+</code></p>
</dd>
<dt><code>agegr</code></dt><dd><p>a factor for age group with levels <code>&lt;15 yrs</code> <code>15-59 yrs</code> <code>60+ yrs</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(HW93)
des(HW93)
.data &lt;- HW93
.data$order.intense &lt;- ordered(.data$intense)
ord.hw &lt;- polr(ordered(intense) ~ agegr + shoe, data=.data)
summary(ord.hw)
ordinal.or.display(ord.hw)
</code></pre>

<hr>
<h2 id='Hookworm+20and+20blood+20loss'> Hookworm infection and blood loss: SEAJTM 1970</h2><span id='topic+Suwit'></span>

<h3>Description</h3>

<p>A study using radio-isotope to examine daily blood loss
and number of hookworms infecting the patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Suwit)</code></pre>


<h3>Format</h3>

<p>A data frame with 15 observations on the following 3 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>worm</code></dt><dd><p>a numeric vector: number of worms</p>
</dd>
<dt><code>bloss</code></dt><dd><p>a numeric vector: estimated daily blood loss (mg/day)</p>
</dd>
</dl>



<h3>Source</h3>

<p>Areekul, S., Devakul, K., Viravan, C., Harinasuta, C. 1970 
Studies on blood loss, iron absorption and iron reabsorption 
in hookworm patients in Thailand. 
<em>Southeast Asian J Trop Med Pub Hlth</em> <b>1(4)</b>: 519-523.</p>


<h3>References</h3>

<p>~~ possibly secondary sources and usages ~~
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Suwit)
with(Suwit, plot(worm, bloss, type="n"))
with(Suwit, text(worm, bloss, labels=id))
abline(lm(bloss ~ worm, data=Suwit), col="red")
</code></pre>

<hr>
<h2 id='IUD+20trial+20admission+20data'>Dataset admission of cases for IUD trials</h2><span id='topic+IudAdmit'></span>

<h3>Description</h3>

<p>This dataset is a subset of WHO IUD trial. It should be merged with IudFollowup and IudDiscontinue
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(IudAdmit)</code></pre>


<h3>Format</h3>

<p>A data frame containing 918 observations and 4 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector for personal identification number</p>
</dd>
<dt><code>idate</code></dt><dd><p>date of IUD insertion</p>
</dd>
<dt><code>lmptime</code></dt><dd><p>time since last menstrual period</p>
</dd>
<dt><code>a122</code></dt><dd><p>type of IUD</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(IudAdmit)
</code></pre>

<hr>
<h2 id='IUD+20trial+20discontinuation+20data'>Dataset on discontinuation of the IUD trial cases</h2><span id='topic+IudDiscontinue'></span>

<h3>Description</h3>

<p>This dataset is a subset of WHO IUD trial. It should be merged with IudAdmit and IudFollowup
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(IudDiscontinue)</code></pre>


<h3>Format</h3>

<p>A data frame containing 398 observations and 3 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector for personal identification number</p>
</dd>
<dt><code>discdate</code></dt><dd><p>date of discontinuation</p>
</dd>
<dt><code>d23</code></dt><dd><p>primary reason for discontinuation</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(IudDiscontinue)
</code></pre>

<hr>
<h2 id='IUD+20trial+20follow-up+20data'>Dataset followup cases of IUD trials</h2><span id='topic+IudFollowup'></span>

<h3>Description</h3>

<p>This dataset is a subset of WHO IUD trial. It should be merged with IudAdmit and IudDiscontinue
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(IudFollowup)</code></pre>


<h3>Format</h3>

<p>A data frame containing 4235 observations and 6 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector for personal identification number</p>
</dd>
<dt><code>vlmpdate</code></dt><dd><p>date of last mentrual period before this visit</p>
</dd>
<dt><code>vdate</code></dt><dd><p>date of visit</p>
</dd>
<dt><code>f22</code></dt><dd><p>lactating</p>
</dd>
<dt><code>f51</code></dt><dd><p>IUD threads visible</p>
</dd>
<dt><code>f61</code></dt><dd><p>subject continuing</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(IudFollowup)
</code></pre>

<hr>
<h2 id='kap'>Kappa statistic</h2><span id='topic+kap'></span><span id='topic+kap.default'></span><span id='topic+kap.table'></span><span id='topic+kap.2.raters'></span><span id='topic+kap.m.raters'></span><span id='topic+kap.ByCategory'></span>

<h3>Description</h3>

<p>Measurement of agreement in categorization by 2 or more raters</p>


<h3>Usage</h3>

<pre><code class='language-R'>kap(x, ...)

## Default S3 method:
kap(x, ...)

## S3 method for class 'table'
kap(x, decimal =3, wttable = NULL, print.wttable = FALSE, ...)

## S3 method for class '2.raters'
kap(x, rater2, decimal =3, ...)

## S3 method for class 'm.raters'
kap(x, decimal =3, ...)

## S3 method for class 'ByCategory'
kap(x, decimal =3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kap_+3A_x">x</code></td>
<td>
<p>an object serving the first argument for different methods
</p>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> FUNCTION </td><td style="text-align: left;"> 'x'</td>
</tr>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 'kap.table' </td><td style="text-align: left;"> table</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 'kap.2.raters' </td><td style="text-align: left;"> rater1</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 'kap.m.raters' </td><td style="text-align: left;"> data frame with raters in column</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 'kap.ByCategory' </td><td style="text-align: left;"> data frame with categories in column</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>
</td></tr>
<tr><td><code id="kap_+3A_decimal">decimal</code></td>
<td>
<p>number of decimal in the print</p>
</td></tr>
<tr><td><code id="kap_+3A_wttable">wttable</code></td>
<td>
<p>cross tabulation of weights of agreement among categories. It can be NULL, &quot;w&quot; and &quot;w2&quot;. Applicable only for 'kap.table' and 'kap.2.raters'</p>
</td></tr>
<tr><td><code id="kap_+3A_print.wttable">print.wttable</code></td>
<td>
<p>whether the weights table will be printed out</p>
</td></tr>
<tr><td><code id="kap_+3A_rater2">rater2</code></td>
<td>
<p>a vector or factor containing opinions of the second rater among two raters.</p>
</td></tr>
<tr><td><code id="kap_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are two different principles for the calculation of the kappa statistic. 'kap.table' and 'kap.2.raters' use two fixed raters whereas 'kap.m.raters' and 'kap.ByCategory' are based on frequency of category of rating an individual received without a requirement that the raters must be fixed.
</p>
<p>'kap.table' analyses kappa statistics from a predefined table of agreement of two raters.
</p>
<p>'wttable' is important only if the rating can be more than 2 levels. If this argument is left as default or 'NULL', full agreement will be weighted as 1. Partial agreement is considered as non-agreement and weighted as 0. 
</p>
<p>When 'wttable = &quot;w&quot;' the weights are given by </p>
<p style="text-align: center;"><code class="reqn">1 - abs(i - j)/(1 - k)</code>
</p>
<p> where i and j index the rows and columns of the ratings and k is the maximum number of possible ratings. A weight of 1 indicates an observation of perfect agreement.
</p>
<p>When 'wttable = &quot;w2&quot;, the weights are given by </p>
<p style="text-align: center;"><code class="reqn">1 - (abs(i - j)/(1 - k))^2.</code>
</p>
<p> In this case, weights of partial agreements will further increase.
</p>
<p>'wttable' can otherwise be defined by the user.
</p>
<p>'kap.2.raters' takes two vectors or factors, one for each of the two raters. Cross-tabulation of the two raters is displayed and automatically forwarded for computation of kappa statistic by 'kap.table'.
</p>
<p>'kap.m.raters' is used for more than 2 raters. Although the variables are arranged based on columns of individual raters, only the frequency in each category rating is used. This function calculates the frequencies without any display and automatically forwards the results for computation by 'kap.ByCategory'.
</p>
<p>'kap.ByCategory' is for the grouped data format, where each category (column) contains the counts for each individual subject being rated.  As mentioned above, the frequencies can come from different sets of raters.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'table'</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Computation of kappa from a table
class  &lt;- c("Normal","Benign","Suspect","Cancer")
raterA &lt;- gl(4,4, label=class)
raterB &lt;- gl(4,1,16, label=class)
freq   &lt;- c(50,2,0,1,2,30,4,3,0,0,20,1,1,3,4,25)
table1 &lt;- xtabs(freq ~ raterA + raterB)
table1
kap(table1)
wt &lt;-c(1,.5,0,0,.5,1,0,0,0,0,1,.8,0,0,.8,1)
wttable &lt;- xtabs(wt ~ raterA + raterB)
wttable # Agreement between benign vs normal is .5, suspect vs cancer is .8
kap(table1, wttable=wttable, print.wttable=TRUE)

# The following two lines are computational possible but inappropriate
kap(table1, wttable = "w", print.wttable=TRUE)
kap(table1, wttable = "w2", print.wttable=TRUE)

## A data set from 5 raters with 3 possible categories.
category.lab &lt;- c("yes","no","Don't know")
rater1 &lt;- factor(c(1,1,3,1,1,1,1,2,1,1), labels=category.lab)
rater2 &lt;- factor(c(2,1,3,1,1,2,1,2,3,1), labels=category.lab)
rater3 &lt;- factor(c(2,3,3,1,1,2,1,2,3,1), labels=category.lab)
rater4 &lt;- factor(c(2,3,3,1,3,2,1,2,3,3), labels=category.lab)
rater5 &lt;- factor(c(2,3,3,3,3,2,1,3,3,3), labels=category.lab)
kap.m.raters(data.frame(rater1,rater2,rater3,rater4,rater5))

# The above is the same as
YES &lt;- c(1,2,0,4,3,1,5,0,1,3)
NO &lt;- c(4,0,0,0,0,4,0,4,0,0)
DONTKNOW &lt;- c(0,3,5,1,2,0,0,1,4,2)
kap.ByCategory(data.frame(YES,NO,DONTKNOW))

# Using 'kap.m.raters' for 2 raters is inappropriate. Kappa obtained
# from this method assumes that the agreement can come from any two raters,
# which is usually not the case.
kap.m.raters(data.frame(rater1, rater2))
# 'kap.2.raters' gives correct results
kap.2.raters(rater1, rater2)

# When there are missing values,
rater3[9] &lt;- NA; rater4[c(1,9)] &lt;- NA
kap.m.raters(data.frame(rater1,rater2,rater3,rater4,rater5))
# standard errors and other related statistics are not available.

# Two exclusive rating categories give only one common set of results.
# The standard error is obtainable even if the numbers of raters vary
# among individual subjects being rated.
totalRaters &lt;- c(2,2,3,4,3,4,3,5,2,4,5,3,4,4,2,2,3,2,4,5,3,4,3,3,2)
pos &lt;- c(2,0,2,3,3,1,0,0,0,4,5,3,4,3,0,2,1,1,1,4,2,0,0,3,2)
neg &lt;- totalRaters - pos
kap.ByCategory(data.frame(neg, pos))
</code></pre>

<hr>
<h2 id='List+20non-function+20objects'>List non-function objects</h2><span id='topic+lsNoFunction'></span>

<h3>Description</h3>

<p>List all objects visible in the global environment except user created functions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>lsNoFunction()
</code></pre>


<h3>Details</h3>

<p>Compared to standard 'ls()', this function displays only the subset of 'ls()' which are not functions. 
</p>
<p>The member of this list can be removed by 'zap()' but not the set of the functions created.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'use', 'detach', 'ls', 'rm'</p>


<h3>Examples</h3>

<pre><code class='language-R'>object1 &lt;- 1:5
object2 &lt;- list(a=3, b=5)
function1 &lt;- function(x) {x^3 +1}
ls() 
lsNoFunction()

## To show only functions
as.character(lsf.str()[])
</code></pre>

<hr>
<h2 id='lookup'>Recode several values of a variable</h2><span id='topic+lookup'></span>

<h3>Description</h3>

<p>Systematic replacement of several values of a variable using an array</p>


<h3>Usage</h3>

<pre><code class='language-R'>lookup(x, lookup.array) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lookup_+3A_x">x</code></td>
<td>
<p>a variable</p>
</td></tr>
<tr><td><code id="lookup_+3A_lookup.array">lookup.array</code></td>
<td>
<p>a n-by-2 array used for looking up the recoding scheme</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This command is used for changing more than one value of a variable using a n-by-2 look-up array. The first column of the look-up array (index column) must be unique.
</p>
<p>If either the variable or the look-up table is character, the result vector will be character.
</p>
<p>For changing the levels of a factor variable, 'recode(vars, &quot;old level&quot;, &quot;new level&quot;)' or 'levels(var) &lt;- ' instead.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'replace', 'recode'</p>


<h3>Examples</h3>

<pre><code class='language-R'>a       &lt;- c( 1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, NA)
tx      &lt;- rbind(c(1,2),c(2,1),c(3,4),c(4,NA),c(NA,3)) 

# Swapping values of 1 and 2; rotating 3, 4 and NA
new.a  &lt;- lookup(a, tx)
data.frame(a, new.a)
tableA &lt;- table(a, new.a, exclude=NULL) 
# All non-diagonal cells which are non-zero are the recoded cells. 
print(tableA, zero=".")

## Character look-up table
b &lt;- c(rep(letters[1:4],2), ".", NA)
tx1 &lt;- cbind(c(letters[1:5], ".", NA), c("Disease A","Disease B","Disease C", 
	"Disease D","Disease E", NA, "Unknown"))
DiseaseName &lt;- lookup(b, tx1)
data.frame(b, DiseaseName)
</code></pre>

<hr>
<h2 id='lrtest'>Likelihood ratio test</h2><span id='topic+lrtest'></span>

<h3>Description</h3>

<p>Likelihood ratio test for objects of class 'glm'</p>


<h3>Usage</h3>

<pre><code class='language-R'>lrtest (model1, model2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lrtest_+3A_model1">model1</code>, <code id="lrtest_+3A_model2">model2</code></td>
<td>
<p>Two models of class &quot;glm&quot; having the same set of records and the same type ('family' and 'link')</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Likelihood ratio test checks the difference between -2*logLikelihood of the two models against the change in degrees of freedom using a chi-squared test. It is best applied to a model from 'glm' to test the effect of a factor with more than two levels. The records used in the dataset for both models MUST be the same. The function can also be used with &quot;clogit&quot;, which does not have real logLikelihood. 
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'glm', 'logLik', 'deviance'</p>


<h3>Examples</h3>

<pre><code class='language-R'>model0 &lt;- glm(case ~ induced + spontaneous, family=binomial, data=infert)
model1 &lt;- glm(case ~ induced, family=binomial, data=infert)
lrtest (model0, model1)
lrtest (model1, model0) # same result
lrtest (model1, model0) -&gt; a
a
</code></pre>

<hr>
<h2 id='Matched+20case-control+20study'>Datasets on a matched case-control study of esophageal cancer</h2><span id='topic+VC1to1'></span><span id='topic+VC1to6'></span>

<h3>Description</h3>

<p>Two different datasets for the same matched case-control study. VC1to6 has 1 case : varying number of controls (from 1 to 6) whereas VC1to1 has the number of control reduced to 1 for each case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(VC1to1)

data(VC1to6)</code></pre>


<h3>Format</h3>

<p>A data frame with the following 5 variables.
</p>

<dl>
<dt><code>matset</code></dt><dd><p>a numeric vector indicating matched set number from 1 to 26</p>
</dd>
<dt><code>case</code></dt><dd><p>a numeric vector: 1=case, 0=control</p>
</dd>
<dt><code>smoking</code></dt><dd><p>a numeric vector: 1=smoker, 0=non-smoker</p>
</dd>
<dt><code>rubber</code></dt><dd><p>a numeric vector: 1=exposed, 0=never exposed to rubber industry</p>
</dd>
<dt><code>alcohol</code></dt><dd><p>a numeric vector: 1=drinker, 0=non-drinker</p>
</dd>
</dl>



<h3>Source</h3>

<p>Chongsuvivatwong,  V. 1990
A case-control study of esophageal cancer  in Southern Thailand. 
<em>J Gastro Hep</em> <b>5</b>:391&ndash;394.</p>


<h3>See Also</h3>

<p>'infert' in the datasets package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(VC1to6)
.data &lt;- VC1to6
des(.data)
with(.data, matchTab(case, alcohol, matset))
rm(.data)
</code></pre>

<hr>
<h2 id='matchTab'>Matched tabulation</h2><span id='topic+matchTab'></span>

<h3>Description</h3>

<p>Tabulation of outcome vs exposure from a matched case control study</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchTab (case, exposed, strata, decimal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matchTab_+3A_case">case</code></td>
<td>
<p>Outcome variables where 0 = control and 1 = case</p>
</td></tr>
<tr><td><code id="matchTab_+3A_exposed">exposed</code></td>
<td>
<p>Exposure variable where 0 = non-exposed and 1 = exposed</p>
</td></tr>
<tr><td><code id="matchTab_+3A_strata">strata</code></td>
<td>
<p>Identification number for each matched set</p>
</td></tr>
<tr><td><code id="matchTab_+3A_decimal">decimal</code></td>
<td>
<p>Number of digits displayed after the decimal point</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Tabulation for an unmatched case control study is based on individual records classified by outcome and exposure variables.
</p>
<p>Matched tabulation is tallying based on each matched set. The simplest form is McNemar's table where only one case is matched with one control. 'matchTab' can handle 1:m matching where m can vary from 1 to m. A MLE method is then used to compute the conditional odds ratio. 
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'table', 'cc' and 'clogit'</p>


<h3>Examples</h3>

<pre><code class='language-R'>.data &lt;- infert
## Not run:

# matchTab(case, induced, stratum)
# Tabulation successful but OR not computed
# because 'induced' is not binary

## End(Not run)
attach(.data)
ia &lt;- induced &gt; 0  # any induced abortion
matchTab(case, ia, stratum)

# See also
clogit(case ~ ia + strata(stratum), data=infert)
detach(.data)
rm(list=ls())
</code></pre>

<hr>
<h2 id='mhor'>Mantel-Haenszel odds ratio</h2><span id='topic+mhor'></span>

<h3>Description</h3>

<p>Mantel-Haenszel odds ratio calculation and graphing from a stratified case-control study</p>


<h3>Usage</h3>

<pre><code class='language-R'>mhor(..., mhtable = NULL, decimal=2, graph = TRUE, design = "cohort") 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mhor_+3A_...">...</code></td>
<td>
<p>Three variables viz. 'outcome', 'exposure' and 'stratification'.</p>
</td></tr>
<tr><td><code id="mhor_+3A_mhtable">mhtable</code></td>
<td>
<p>a 2-by-2-by-s table, where s (strata) is more than one</p>
</td></tr>
<tr><td><code id="mhor_+3A_decimal">decimal</code></td>
<td>
<p>number of decimal places displayed</p>
</td></tr>
<tr><td><code id="mhor_+3A_graph">graph</code></td>
<td>
<p>If TRUE (default), produces an odds ratio plot</p>
</td></tr>
<tr><td><code id="mhor_+3A_design">design</code></td>
<td>
<p>Specification for graph; can be &quot;case control&quot;,&quot;case-control&quot;, &quot;cohort&quot; or &quot;prospective&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'mhor' computes stratum-specific odds ratios and 95 percent confidence intervals and the Mantel-Haenszel odds ratio and chi-squared test is given as well as the homogeneity test. A stratified odds ratio graph is displayed. 
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'fisher.test', 'chisq.test'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
with(Oswego, cc(ill, chocolate))
with(Oswego, mhor(ill, chocolate, sex))

mht1 &lt;- with(Oswego, table(ill, chocolate, sex))
dim(mht1)
mhor(mhtable=mht1) # same results

</code></pre>

<hr>
<h2 id='Montana'>Dataset on arsenic exposure and respiratory deaths</h2><span id='topic+Montana'></span>

<h3>Description</h3>

<p>Dataset from a cohort study of exposure to arsenic from industry and deaths from respiratory diseases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Montana)</code></pre>


<h3>Format</h3>

<p>A data frame with 114 observations on the following 6 variables.
</p>

<dl>
<dt><code>respdeath</code></dt><dd><p>a numeric vector indicating number of deaths from respiratory diseases</p>
</dd>
<dt><code>personyrs</code></dt><dd><p>a numeric vector indicating person-years of exposure</p>
</dd>
<dt><code>agegr</code></dt><dd><p>a numeric vector: 1=40-49, 2=50-59, 3=60-69, 4=70-79)</p>
</dd>
<dt><code>period</code></dt><dd><p>a numeric vector: 1=1938-1949, 2=1950-1959, 3=1960-1969, 4=1970-1977</p>
</dd>
<dt><code>starting</code></dt><dd><p>a numeric vector indicating starting period: 1=pre-1925, 2=1925 &amp; after</p>
</dd>
<dt><code>arsenic</code></dt><dd><p>a numeric vector indicating years of exposure: 1=&lt;1 year, 2=1-4 years, 3=5-14 years, 4=15+ years </p>
</dd>
</dl>


<hr>
<h2 id='Oswego'>Dataset from an outbreak of food poisoning in US</h2><span id='topic+Oswego'></span>

<h3>Description</h3>

<p>This dataset contains information on the records of 75 persons under investigation
for the cause of acute food poisoning after a dinner party.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Oswego)</code></pre>


<h3>Format</h3>

<p>A data frame containing 75 observations and 20 variables.</p>


<h3>Source</h3>

<p>EpiInfo package</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
.data &lt;- Oswego
attach(.data)
pyramid(age, sex)
detach(.data)
</code></pre>

<hr>
<h2 id='Outbreak+20investigation'>Dataset from an outbreak of food poisoning on a sportsday, Thailand 1990.</h2><span id='topic+Outbreak'></span>

<h3>Description</h3>

<p>This dataset contains information from an outbreak investigation concerning food poisoning on a sportsday in Thailand 1990.
</p>
<p>Dichotomous variables for exposures and symptoms were coded as follow:
</p>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> = no</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = yes</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> = missing or unknown</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>data(Outbreak)</code></pre>


<h3>Format</h3>

<p>A data frame with 1094 observations on the following 13 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>sex</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> = female</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> = male</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>age</code></dt><dd><p>a numeric vector: age in years</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 99 </td><td style="text-align: left;"> = missing</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>exptime</code></dt><dd><p>an AsIs or character vector of exposure times</p>
</dd>
<dt><code>beefcurry</code></dt><dd><p>a numeric vector: whether the subject had eaten beefcurry</p>
</dd>
<dt><code>saltegg</code></dt><dd><p>a numeric vector: whether the subject had eaten salted eggs</p>
</dd>
<dt><code>eclair</code></dt><dd><p>a numeric vector: pieces of eclair eaten</p>
</dd>
</dl>

<table>
<tr>
 <td style="text-align: left;">
        	</td><td style="text-align: left;"> 80 </td><td style="text-align: left;"> = ate but could not remember how much</td>
</tr>
<tr>
 <td style="text-align: left;">
         	</td><td style="text-align: left;"> 90 </td><td style="text-align: left;"> = totally missing information</td>
</tr>
<tr>
 <td style="text-align: left;">
       </td>
</tr>

</table>

<dl>
<dt><code>water</code></dt><dd><p>a numeric vector: whether the subject had drunk water</p>
</dd>
<dt><code>onset</code></dt><dd><p>an AsIs or character vector of onset times</p>
</dd>
<dt><code>nausea</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>vomiting</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>abdpain</code></dt><dd><p>a numeric vector: abdominal pain</p>
</dd>
<dt><code>diarrhea</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>References</h3>

<p>Thaikruea, L., Pataraarechachai, J., Savanpunyalert, P., Naluponjiragul, U. 1995
An unusual outbreak of food poisoning. <em>Southeast Asian J Trop Med Public Health</em> 
<b>26(1)</b>:78-85.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Outbreak)
.data &lt;- Outbreak
# Distribution of reported pieces of eclair taken
attach(.data)
tab1(eclair) 

# Defining missing value
.data$eclair[.data$eclair &gt; 20] &lt;- NA
detach(.data)
attach(.data)
pieces.of.eclair &lt;- cut(eclair, c(0,1,2,20), include.lowest=TRUE, right=FALSE)
tabpct(pieces.of.eclair, diarrhea)
rm(list=ls())
detach(.data) 
</code></pre>

<hr>
<h2 id='poisgof'>Goodness of fit test for modeling of count data</h2><span id='topic+poisgof'></span>

<h3>Description</h3>

<p>Poisson and negative binomial regression are used for modeling count data. This command tests the deviance against the degrees of freedom in the model thus determining whether there is overdispersion.</p>


<h3>Usage</h3>

<pre><code class='language-R'>poisgof(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="poisgof_+3A_model">model</code></td>
<td>
<p>A Poisson or negative binomial model</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To test the significance of overdispersion of the errors of a Poisson or negative binomial model, the deviance is tested against degrees of freedom using chi-squared distribution. A low P value indicates significant overdispersion.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>&lsquo;glm&rsquo;</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MASS)
quine.pois &lt;- glm(Days ~ Sex/(Age + Eth*Lrn), data = quine, family=poisson)
poisgof(quine.pois)
quine.nb1 &lt;- glm.nb(Days ~ Sex/(Age + Eth*Lrn), data = quine)
poisgof(quine.nb1)
</code></pre>

<hr>
<h2 id='Power'>Power calculation for two sample means and proportions</h2><span id='topic+power.for.2means'></span><span id='topic+power.for.2p'></span>

<h3>Description</h3>

<p>Calculation of power given the results from a study</p>


<h3>Usage</h3>

<pre><code class='language-R'>power.for.2p(p1, p2, n1, n2, alpha = 0.05) 
power.for.2means(mu1, mu2, n1, n2, sd1, sd2, alpha = 0.05) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Power_+3A_p1">p1</code>, <code id="Power_+3A_p2">p2</code></td>
<td>
<p>probabilities of the two samples</p>
</td></tr>
<tr><td><code id="Power_+3A_n1">n1</code>, <code id="Power_+3A_n2">n2</code></td>
<td>
<p>sample sizes of the two samples</p>
</td></tr>
<tr><td><code id="Power_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Power_+3A_mu1">mu1</code>, <code id="Power_+3A_mu2">mu2</code></td>
<td>
<p>means of the two samples</p>
</td></tr>
<tr><td><code id="Power_+3A_sd1">sd1</code>, <code id="Power_+3A_sd2">sd2</code></td>
<td>
<p>standard deviations of the two samples</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These two functions compute the power of a study from the given arguments
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2means', 'n.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'># Suppose, in the example found in 'help(n.for.2p)', 
# given the two proportions are .8 and .6 and the sample size 
# for each group is 60.

power.for.2p(p1=.8, p2=.6, n1=60, n2=60) # 59 percent

# If the means of a continuous outcome variable in the same 
# two groups were 50 and 60 units and the standard deviations were 30 
# and 35 units, then the power to detect a statistical significance 
# would be

power.for.2means(mu1=50, mu2=60, sd1=30, sd2=35, n1=60, n2=60) 
# 39 percent. Note the graphic display
</code></pre>

<hr>
<h2 id='print+20alpha'>Print alpha object</h2><span id='topic+print.alpha'></span>

<h3>Description</h3>

<p>Print results related to Cronbach's alpha</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'alpha'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20alpha_+3A_x">x</code></td>
<td>
<p>object of class 'alpha'</p>
</td></tr>
<tr><td><code id="print+2B20alpha_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'tableStack'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Attitudes)
alpha(qa1:qa18, dataFrame=Attitudes) -&gt; a
print(a)
a</code></pre>

<hr>
<h2 id='print+20cci'>Print cci results</h2><span id='topic+print.cci'></span>

<h3>Description</h3>

<p>Print results for cci and cc commands</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cci'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20cci_+3A_x">x</code></td>
<td>
<p>object of class 'cci'</p>
</td></tr>
<tr><td><code id="print+2B20cci_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'cci'</p>

<hr>
<h2 id='print+20des'>Print 'des' results</h2><span id='topic+print.des'></span>

<h3>Description</h3>

<p>Print description of data frame of a variable</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'des'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20des_+3A_x">x</code></td>
<td>
<p>object of class 'des'</p>
</td></tr>
<tr><td><code id="print+2B20des_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'des'</p>

<hr>
<h2 id='print+20kap.ByCategory'>Print kap.ByCategory results</h2><span id='topic+print.kap.ByCategory'></span>

<h3>Description</h3>

<p>Print results for kap.Bycategory commands</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'kap.ByCategory'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20kap.ByCategory_+3A_x">x</code></td>
<td>
<p>object of class 'kap.ByCategory'</p>
</td></tr>
<tr><td><code id="print+2B20kap.ByCategory_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'kap.ByCategory'</p>

<hr>
<h2 id='print+20kap.table'>Print kap.table results</h2><span id='topic+print.kap.table'></span>

<h3>Description</h3>

<p>Print results for kap.table commands</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'kap.table'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20kap.table_+3A_x">x</code></td>
<td>
<p>object of class 'kap.table'</p>
</td></tr>
<tr><td><code id="print+2B20kap.table_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'kap.table'</p>

<hr>
<h2 id='print+20lrtest'>Print lrtest results</h2><span id='topic+print.lrtest'></span>

<h3>Description</h3>

<p>Print results for likelihood ratio test</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lrtest'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20lrtest_+3A_x">x</code></td>
<td>
<p>object of class 'lrtest'</p>
</td></tr>
<tr><td><code id="print+2B20lrtest_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'logistic.display'</p>


<h3>Examples</h3>

<pre><code class='language-R'>model0 &lt;- glm(case ~ induced + spontaneous, family=binomial, data=infert)
model1 &lt;- glm(case ~ induced, family=binomial, data=infert)
lrtest (model0, model1)
lrtest (model1, model0) -&gt; a
a</code></pre>

<hr>
<h2 id='print+20matchTab'>Print matched tabulation results</h2><span id='topic+print.matchTab'></span>

<h3>Description</h3>

<p>Print matched tabulation results</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'matchTab'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20matchTab_+3A_x">x</code></td>
<td>
<p>object of class 'matchTab'</p>
</td></tr>
<tr><td><code id="print+2B20matchTab_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'matchTab'</p>

<hr>
<h2 id='print+20n.for.2means'>Print n.for.2means results</h2><span id='topic+print.n.for.2means'></span>

<h3>Description</h3>

<p>Print results for sample size for hypothesis testing of 2 means</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.2means'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.2means_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.2means'</p>
</td></tr>
<tr><td><code id="print+2B20n.for.2means_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'>n.for.2means(mu1 = 10, mu2 = 14, sd1=3, sd2=3.5)
n.for.2means(mu1 = 10, mu2 = 7:14, sd1=3, sd2=3.5) -&gt; a
a
</code></pre>

<hr>
<h2 id='print+20n.for.2p'>Print n.for.2p results</h2><span id='topic+print.n.for.2p'></span>

<h3>Description</h3>

<p>Print results for sample size for hypothesis testing of 2 proportions</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.2p'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.2p_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.2p'</p>
</td></tr>
<tr><td><code id="print+2B20n.for.2p_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'>n.for.2p(p1=.1, p2=.2)
n.for.2p(p1=seq(1,9,.5)/10, p2=.5)
</code></pre>

<hr>
<h2 id='print+20n.for.cluster.2means'>Print n.for.cluster.2means results</h2><span id='topic+print.n.for.cluster.2means'></span>

<h3>Description</h3>

<p>Print results for sample size for hypothesis testing of 2 means  in cluster RCT</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.cluster.2means'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.cluster.2means_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.cluster.2means'</p>
</td></tr>
<tr><td><code id="print+2B20n.for.cluster.2means_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.cluster.2means'</p>

<hr>
<h2 id='print+20n.for.cluster.2p'>Print n.for.cluster.2p results</h2><span id='topic+print.n.for.cluster.2p'></span>

<h3>Description</h3>

<p>Print results for sample size for hypothesis testing of 2 proportions in cluster RCT</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.cluster.2p'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.cluster.2p_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.cluster.2p'</p>
</td></tr>
<tr><td><code id="print+2B20n.for.cluster.2p_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.cluster.2p'</p>

<hr>
<h2 id='print+20n.for.equi.2p'>Print n.for.equi.2p results</h2><span id='topic+print.n.for.equi.2p'></span>

<h3>Description</h3>

<p>Print results for sample size for hypothesis testing of 2 proportions in equivalent trial</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.equi.2p'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.equi.2p_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.equi.2p'</p>
</td></tr>
<tr><td><code id="print+2B20n.for.equi.2p_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'>n.for.equi.2p(p=.85, sig.diff=.05)
</code></pre>

<hr>
<h2 id='print+20n.for.lqas'>Print n.for.lqas results</h2><span id='topic+print.n.for.lqas'></span>

<h3>Description</h3>

<p>Print results for sample size for lot quality assurance sampling</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.lqas'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.lqas_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.lqas'</p>
</td></tr>             
<tr><td><code id="print+2B20n.for.lqas_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n.for.lqas(p0 = 0.05, q=0)
n.for.lqas(p0 = (10:1)/100, q=0 ) -&gt; a
a
</code></pre>

<hr>
<h2 id='print+20n.for.noninferior.2p'>Print n.for.noninferior.2p results</h2><span id='topic+print.n.for.noninferior.2p'></span>

<h3>Description</h3>

<p>Print results for sample size for hypothesis testing of 2 proportions in non-inferior trial</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.noninferior.2p'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.noninferior.2p_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.noninferior.2p'</p>
</td></tr>
<tr><td><code id="print+2B20n.for.noninferior.2p_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'>n.for.noninferior.2p(p=.85, sig.inferior=.05)
</code></pre>

<hr>
<h2 id='print+20n.for.survey'>Print n.for.survey results</h2><span id='topic+print.n.for.survey'></span>

<h3>Description</h3>

<p>Print results for sample size of a continuous variable</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'n.for.survey'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20n.for.survey_+3A_x">x</code></td>
<td>
<p>object of class 'n.for.survey'</p>
</td></tr>
<tr><td><code id="print+2B20n.for.survey_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'>n.for.survey(p=seq(5,95,5)/100)
</code></pre>

<hr>
<h2 id='print+20power.for.2means'>Print power.for.2means results</h2><span id='topic+print.power.for.2means'></span>

<h3>Description</h3>

<p>Print results for power for hypothesis testing of 2 means</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'power.for.2means'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20power.for.2means_+3A_x">x</code></td>
<td>
<p>object of class 'power.for.2means'</p>
</td></tr>
<tr><td><code id="print+2B20power.for.2means_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2means'</p>


<h3>Examples</h3>

<pre><code class='language-R'>power.for.2means(mu1 = 10, mu2=14,   n1=5,  n2=7,  sd1=3, sd2=3.5)
power.for.2means(mu1 = 10, mu2=7:14, n1=20, n2=25, sd1=3, sd2=3.5) -&gt; a
a
</code></pre>

<hr>
<h2 id='print+20power.for.2p'>Print power.for.2p results</h2><span id='topic+print.power.for.2p'></span>

<h3>Description</h3>

<p>Print results for power of hypothesis testing of 2 proportions</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'power.for.2p'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20power.for.2p_+3A_x">x</code></td>
<td>
<p>object of class 'power.for.2p'</p>
</td></tr>
<tr><td><code id="print+2B20power.for.2p_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'n.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'>power.for.2p(p1=.1, p2=.2, n1=10, n2=15)
power.for.2p(p1=seq(1,9,.5)/10, p2=.5, n1=100, n2=120)
</code></pre>

<hr>
<h2 id='print+20statStack'>Print statStack object</h2><span id='topic+print.statStack'></span>

<h3>Description</h3>

<p>Print a statStack object</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'statStack'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20statStack_+3A_x">x</code></td>
<td>
<p>object of class 'statStack' </p>
</td></tr>
<tr><td><code id="print+2B20statStack_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'statStack'</p>

<hr>
<h2 id='print+20summ.data.frame'>Print summary of the data frame</h2><span id='topic+print.summ.data.frame'></span>

<h3>Description</h3>

<p>Print summary of data frame</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summ.data.frame'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20summ.data.frame_+3A_x">x</code></td>
<td>
<p>object of class 'summ.data.frame'</p>
</td></tr>
<tr><td><code id="print+2B20summ.data.frame_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'summ'</p>

<hr>
<h2 id='print+20summ.default'>Print summary of a variable</h2><span id='topic+print.summ.default'></span>

<h3>Description</h3>

<p>Print summary of a variable</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summ.default'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20summ.default_+3A_x">x</code></td>
<td>
<p>object of class 'summ.default'</p>
</td></tr>
<tr><td><code id="print+2B20summ.default_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'summ'</p>

<hr>
<h2 id='print+20tableStack'>Print tableStack object</h2><span id='topic+print.tableStack'></span>

<h3>Description</h3>

<p>Print a tableStack object</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tableStack'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B20tableStack_+3A_x">x</code></td>
<td>
<p>object of class 'tableStack' </p>
</td></tr>
<tr><td><code id="print+2B20tableStack_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'tableStack'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Attitudes)
tableStack(qa1:qa18, dataFrame=Attitudes) -&gt; a
print(a)
data(Ectopic)
tableStack(hia, gravi, by=outc, dataFrame=Ectopic) -&gt; b
print(b)
</code></pre>

<hr>
<h2 id='pyramid'>Population pyramid</h2><span id='topic+pyramid'></span>

<h3>Description</h3>

<p>Create a population pyramid from age and sex</p>


<h3>Usage</h3>

<pre><code class='language-R'>pyramid (age, sex, binwidth = 5, inputTable = NULL, printTable = FALSE, 
    percent = "none", col.gender = NULL, 
    bar.label = "auto", decimal = 1, col = NULL, cex.bar.value = 0.8, 
    cex.axis = 1, main = "auto", cex.main = 1.2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pyramid_+3A_age">age</code></td>
<td>
<p>a numeric variable for age</p>
</td></tr>
<tr><td><code id="pyramid_+3A_sex">sex</code></td>
<td>
<p>a variable of two levels for sexes, can be numeric but preferrably factor with labelled levels or characters</p>
</td></tr>
<tr><td><code id="pyramid_+3A_binwidth">binwidth</code></td>
<td>
<p>bin width of age for each bar</p>
</td></tr>
<tr><td><code id="pyramid_+3A_inputtable">inputTable</code></td>
<td>
<p>a table to read in with two columns of sexes and rows of age groups</p>
</td></tr>
<tr><td><code id="pyramid_+3A_printtable">printTable</code></td>
<td>
<p>whether the output table should be displayed on the console</p>
</td></tr>
<tr><td><code id="pyramid_+3A_percent">percent</code></td>
<td>
<p>whether the lengths of the bars should be calculated from freqencies (&quot;none&quot; as default), percent of &quot;each&quot; sex or &quot;total&quot;&quot; percentages</p>
</td></tr>
<tr><td><code id="pyramid_+3A_col.gender">col.gender</code></td>
<td>
<p>vector reflecting colours of the two gender</p>
</td></tr>
<tr><td><code id="pyramid_+3A_bar.label">bar.label</code></td>
<td>
<p>whether the bars would be labelled with the values</p>
</td></tr>
<tr><td><code id="pyramid_+3A_decimal">decimal</code></td>
<td>
<p>number of decimals displayed in the percent output table</p>
</td></tr>
<tr><td><code id="pyramid_+3A_col">col</code></td>
<td>
<p>colour(s) of the bars</p>
</td></tr>
<tr><td><code id="pyramid_+3A_cex.bar.value">cex.bar.value</code></td>
<td>
<p>character extension factor of the bar labels</p>
</td></tr>
<tr><td><code id="pyramid_+3A_cex.axis">cex.axis</code></td>
<td>
<p>character extension factor of the axis</p>
</td></tr>
<tr><td><code id="pyramid_+3A_main">main</code></td>
<td>
<p>main title</p>
</td></tr>
<tr><td><code id="pyramid_+3A_cex.main">cex.main</code></td>
<td>
<p>character extension factor of main title</p>
</td></tr>
<tr><td><code id="pyramid_+3A_...">...</code></td>
<td>
<p>graph options for the bars, e.g. col</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'pyramid' draws a horizontal bar graph of age by sex. 
</p>
<p>The parameters of graph (par) options can be applied to 'font.lab' and those of the bars, e.g. 'col' but not of others.
</p>
<p>Other lower level graph commands should be only for adding a 'title'.
</p>
<p>'bar.label' when set as &quot;auto&quot;, will be TRUE when 'percent=&quot;each&quot;' or 'percent=&quot;total&quot;'
</p>


<h3>Value</h3>

<p>When the variables age and sex are input arguments, the return object includes age group variable and the output table. The argument 'decimal' controls only decimals of the output displayed on the console but not the returned table.</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'barplot', 'levels', 'table'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
.data &lt;- Oswego
attach(.data)
pyramid(age, sex)
pyramid(age, sex, bar.label = TRUE)
pyramid(age, sex, printTable=TRUE)
pyramid(age, sex, percent = "each", printTable=TRUE)
pyramid(age, sex, percent = "total", printTable=TRUE)
pyramid(age, sex, percent = "total", bar.label = FALSE)
pyramid(age, sex, percent = "total", cex.bar.value = .5)

pyramid(age, sex, col="red")
pyramid(age, sex, col=1:16) # Too colorful!
pyramid(age, sex, col.gender = c("pink","lightblue"))
output &lt;- pyramid(age, sex, binwidth = 10, percent="each", decimal=2)
agegr &lt;- output$ageGroup
detach(.data)
rm(list=ls())

# Drawing population pyramid from an exisiting table
pyramid(inputTable=VADeaths[,1:2], font.lab=4)
pyramid(inputTable=VADeaths[,1:2], font.lab=4, main=NULL)
title("Death rates per 100 in rural Virginia in 1940")
</code></pre>

<hr>
<h2 id='Risk.display'>Tables for multivariate odds ratio, incidence density etc</h2><span id='topic+logistic.display'></span><span id='topic+clogistic.display'></span><span id='topic+cox.display'></span><span id='topic+regress.display'></span><span id='topic+idr.display'></span><span id='topic+mlogit.display'></span><span id='topic+ordinal.or.display'></span><span id='topic+tableGlm'></span><span id='topic+print.display'></span>

<h3>Description</h3>

<p>Display of various epidemiological modelling results in a medically
understandable format</p>


<h3>Usage</h3>

<pre><code class='language-R'>logistic.display(logistic.model, alpha = 0.05, crude = TRUE, 
    crude.p.value = FALSE, decimal = 2, simplified = FALSE) 
clogistic.display(clogit.model, alpha = 0.05, crude=TRUE, 
    crude.p.value=FALSE, decimal = 2, simplified = FALSE)
cox.display (cox.model, alpha = 0.05, crude=TRUE, crude.p.value=FALSE, 
    decimal = 2, simplified = FALSE) 
regress.display(regress.model, alpha = 0.05, crude = FALSE, 
    crude.p.value = FALSE, decimal = 2, simplified = FALSE) 
idr.display(idr.model, alpha = 0.05, crude = TRUE, crude.p.value = FALSE, 
    decimal = 2, simplified = FALSE) 
mlogit.display(multinom.model, decimal = 2, alpha = 0.05) 
ordinal.or.display(ordinal.model, decimal = 3, alpha = 0.05)  
tableGlm (model, modified.coeff.array, decimal)
## S3 method for class 'display'
print(x, ...) 
</code></pre>


<h3>Arguments</h3>

                     
<table>
<tr><td><code id="Risk.display_+3A_logistic.model">logistic.model</code></td>
<td>
<p>a model from a logistic regression</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_clogit.model">clogit.model</code></td>
<td>
<p>a model from a conditional logistic regression</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_regress.model">regress.model</code></td>
<td>
<p>a model from a linear regression</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_cox.model">cox.model</code></td>
<td>
<p>a model from a cox regression</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_idr.model">idr.model</code></td>
<td>
<p>a model from a Poisson regression or a negative binomial 
regression</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_multinom.model">multinom.model</code></td>
<td>
<p>a model from a multinomial or polytomous regression</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_ordinal.model">ordinal.model</code></td>
<td>
<p>a model from an ordinal logistic regression</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_crude">crude</code></td>
<td>
<p>whether crude results and their confidence intervals should also 
be displayed</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_crude.p.value">crude.p.value</code></td>
<td>
<p>whether crude P values should also be displayed if and 
only if 'crude=TRUE'</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_decimal">decimal</code></td>
<td>
<p>number of decimal places displayed</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_simplified">simplified</code></td>
<td>
<p>whether the display should be simplified</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_model">model</code></td>
<td>
<p>model passed from logistic.display or regress.display to 
tableGlm</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_modified.coeff.array">modified.coeff.array</code></td>
<td>
<p>array of model coefficients sent to the function 
'tableGlm' to produce the final output</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_x">x</code></td>
<td>
<p>object obtained from these 'display' functions</p>
</td></tr>
<tr><td><code id="Risk.display_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>R provides several epidemiological modelling techniques. The functions 
above display these results in a format easier for medical people to understand.                                                                     
</p>
<p>The function 'tableGlm' is not for general use. It is called by other display 
functions to receive the 'modified.coeff.array' and produce the output table. 
</p>
<p>The argument 'simplified' has a default value of 'FALSE'. It works best if the 
'data' argument has been supplied during creation of the model. 
Under this condition, the output has three parts. Part 1 (the first line) 
indicates the type of the regression and the outcome. For logistic regression, 
if the outcome is a factor then the referent level is shown. Part 2 shows 
the main output table where each independent variable coefficient is displayed. 
If the independent variable is continuous (class numeric) then name of 
the variable is shown (or the descriptive label if it exists). If the variable 
is a factor then the name of the level is shown with the referent level omitted. 
In this case, the name of the referent level and the statistic testing for 
group effects are displayed. An F-test is used when the model is of class 'lm' 
or 'glm' with 'family=gaussian' specified. A Likelihood Ratio test is performed 
when the model is of class 'glm' with 'family = binomial' or 'family = poisson' 
specified and for models of class 'coxph' and 'clogit'. These tests are carried 
out with the records available in the model, not necessary all records in the 
full 'data' argument. The number of records in the model is displayed in the 
part 3 of the output. When 'simplified=TRUE', the first and the last parts are 
omitted from the display. 
</p>
<p>The result is an object of class 'display' and 'list'. Their apparence on the R 
console is controlled by 'print.display'. The 'table' attribute of these 
'display' objects are ready to write (using 'write.csv') to a .csv file which 
can then be copied to a manuscript document. This approach can substantially 
reduce both the time and errors produced due to conventional manual copying.
</p>


<h3>Value</h3>

<p>'logistic.display', 'regress.display', 'clogit.display' and 
'cox.display', each produces an output table. See 'details'.</p>


<h3>Note</h3>

<p>Before using these 'display' functions, please note the following 
limitations. 
</p>
<p>1) Users <b>should</b> define the 'data' argument of the model. 
</p>
<p>2) The names of the independent variables <b>must</b> be  a subset of the names 
of the variables in the 'data' argument. Sometimes, one of more variables are 
omitted by the model due to collinearity. In such a case, users have to specify 
'simplified=TRUE' in order to get the display function to work.
</p>
<p>3) Under the following conditions, 'simplified' will be forced to TRUE and 
'crude' forced to FALSE. 
</p>
<p>3.1) The names of the independent variables contain a function such as 
'factor()' or any '\$' sign. 
</p>
<p>3.2) The levels of the factor variables contain any ':' sign.
</p>
<p>3.3) There are more than one interaction terms in the model
</p>
<p>3.4) The 'data' argument is missing in the conditional logistic regression 
and Cox regression model
</p>
<p>4) For any other problems with these display results, users are advised to run 
'summary(model)' or 'summary(model)$coefficients' to check the consistency 
between variable names in the model and those in the coefficients. The number 
in the latter may be fewer than that in the former due to collinearity. In this 
case, it is advised to specify 'simplified=TRUE' to turn off the attempt to 
tidy up the rownames of the output from 'summary(model)$coeffients'. The output 
when 'simplified=TRUE' is more reliable but less understandable. 
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'glm', 'confint'</p>


<h3>Examples</h3>

<pre><code class='language-R'>     model0 &lt;- glm(case ~ induced + spontaneous, family=binomial, data=infert)
     summary(model0)
     logistic.display(model0)

     data(ANCdata)
     glm1 &lt;- glm(death ~ anc + clinic, family=binomial, data=ANCdata)
     logistic.display(glm1)
     logistic.display(glm1, simplified=TRUE)

     library(MASS) # necessary for negative binomial regression
     data(DHF99); .data &lt;- DHF99
     attach(.data)
     model.poisson &lt;- glm(containers ~ education + viltype, 
         family=poisson, data=DHF99)
     
     model.nb &lt;- glm.nb(containers ~ education + viltype, 
         data=.data)
     idr.display(model.poisson)  -&gt; poiss
     print(poiss) # or print.display(poiss) or poiss
     idr.display(model.nb) 
     detach(.data) 
      
     data(VC1to6)
     .data &lt;- VC1to6
     .data$fsmoke &lt;- factor(.data$smoking)
     levels(.data$fsmoke) &lt;- list("no"=0, "yes"=1)
     clr1 &lt;- clogit(case ~ alcohol + fsmoke + strata(matset), data=.data)
     clogistic.display(clr1)
     rm(list=ls())
      
     data(BP)
     .data &lt;- BP
     attach(.data)
     age &lt;- as.numeric(as.Date("2000-01-01") - birthdate)/365.25
     agegr &lt;- pyramid(age,sex, bin=20)$ageGroup
     .data$hypertension &lt;- sbp &gt;= 140 | dbp &gt;=90
     detach(.data)
     model1 &lt;- glm(hypertension ~ sex + agegr + saltadd, family=binomial, 
               data=.data)
     logistic.display(model1) -&gt; table3
     attributes(table3)
     table3
     table3$table
     # You may want to save table3 into a spreadsheet
     write.csv(table3$table, file="table3.csv") # Note $table
     ## Have a look at this file in Excel, or similar spreadsheet program
     
     file.remove(file="table3.csv")
     model2 &lt;- glm(hypertension ~ sex * age + sex * saltadd, family=binomial, 
               data=.data)
     logistic.display(model2) 
     # More than 1 interaction term so 'simplified turned to TRUE

     reg1 &lt;- lm(sbp ~ sex + agegr + saltadd, data=.data)
     regress.display(reg1)

     reg2 &lt;- glm(sbp ~ sex + agegr + saltadd, family=gaussian, data=.data)
     regress.display(reg2)
     
     data(Compaq)
     cox1 &lt;- coxph(Surv(year, status) ~ hospital + stage * ses, data=Compaq)
     cox.display(cox1, crude.p.value=TRUE)

     # Ordinal logistic regression
     library(nnet)
     options(contrasts = c("contr.treatment", "contr.poly"))
     house.plr &lt;- polr(Sat ~ Infl + Type + Cont, weights = Freq, data = housing)
     house.plr
     ordinal.or.display(house.plr)

     # Polytomous or multinomial logistic regression
     house.multinom &lt;- multinom(Sat ~ Infl + Type + Cont, weights = Freq, 
             data = housing)
     summary(house.multinom)
     mlogit.display(house.multinom, alpha=.01) # with 99% confidence limits.

</code></pre>

<hr>
<h2 id='ROC'>ROC curve</h2><span id='topic+lroc'></span><span id='topic+roc.from.table'></span>

<h3>Description</h3>

<p>Receiver Operating Characteristic curve of a logistic regression 
model and a diagnostic table</p>


<h3>Usage</h3>

<pre><code class='language-R'>lroc(logistic.model, graph = TRUE, add = FALSE, title = FALSE, 
    line.col = "red", auc.coords = NULL, grid = TRUE, grid.col = "blue", ...)
roc.from.table(table, graph = TRUE, add = FALSE, title = FALSE, 
	line.col = "red", auc.coords = NULL, grid = TRUE, grid.col = "blue", ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROC_+3A_logistic.model">logistic.model</code></td>
<td>
<p>A model from logistic regression</p>
</td></tr>
<tr><td><code id="ROC_+3A_table">table</code></td>
<td>
<p>A cross tabulation of the levels of a test (rows) vs a gold 
standard positive and negative (columns)</p>
</td></tr>
<tr><td><code id="ROC_+3A_graph">graph</code></td>
<td>
<p>Draw ROC curve</p>
</td></tr>
<tr><td><code id="ROC_+3A_add">add</code></td>
<td>
<p>Whether the line is drawn on the existing ROC curve</p>
</td></tr>
<tr><td><code id="ROC_+3A_title">title</code></td>
<td>
<p>If true, the model will be displayed as main title</p>
</td></tr>
<tr><td><code id="ROC_+3A_line.col">line.col</code></td>
<td>
<p>Color of the line</p>
</td></tr>
<tr><td><code id="ROC_+3A_auc.coords">auc.coords</code></td>
<td>
<p>Coordinates for label of 'auc' (area under curve)</p>
</td></tr>
<tr><td><code id="ROC_+3A_grid">grid</code></td>
<td>
<p>Whether the grid should be drawn</p>
</td></tr>
<tr><td><code id="ROC_+3A_grid.col">grid.col</code></td>
<td>
<p>Grid colour, if drawn</p>
</td></tr>
<tr><td><code id="ROC_+3A_...">...</code></td>
<td>
<p>Additional graphic parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'lroc' graphs the ROC curve of a logistic regression model. If &lsquo;table=TRUE&rsquo;, 
the diagnostic table based on the regression will be printed out.
</p>
<p>'roc.from.table' computes the change of sensitivity and specificity of each cut 
point and uses these for drawing the ROC curve.
</p>
<p>In both cases, the area under the curve is computed.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'glm'</p>


<h3>Examples</h3>

<pre><code class='language-R'># Single ROC curve from logistic regression
# Note that 'induced' and 'spontaneous' are both originally continuous variables
model1 &lt;- glm(case ~ induced + spontaneous, data=infert, family=binomial)
logistic.display(model1)
# Having two spontaneous abortions is quite close to being infertile!
# This is actually not a causal relationship

lroc(model1, title=TRUE, auc.coords=c(.5,.1))
# For PowerPoint presentation, the graphic elements should be enhanced as followed 
lroc(model1, title=TRUE, cex.main=2, cex.lab=1.5, col.lab="blue", cex.axis=1.3, 
lwd=3)
lroc1 &lt;- lroc(model1) # The main title and auc text have disappeared
model2 &lt;- glm(case ~ spontaneous, data=infert, family=binomial)
logistic.display(model2)
lroc2 &lt;- lroc(model2, add=TRUE, line.col="brown", lty=2)
legend("bottomright",legend=c(lroc1$model.description, lroc2$model.description),
        lty=1:2, col=c("red","brown"), bg="white")
title(main="Comparison of two logistic regression models")
lrtest(model1, model2) 
# Number of induced abortions is associated with increased risk for infertility

# Various form of logistic regression
# Case by case data
data(ANCdata)
.data &lt;- ANCdata
glm1 &lt;- glm(death ~ anc + clinic, binomial, data=.data) # Note 'calc'
lroc(glm1)

# Frequency format
data(ANCtable)
ANCtable
.data &lt;- ANCtable
attach(.data)
death &lt;- factor (death)
levels (death) &lt;- c("no","yes")
anc &lt;- with(.data, factor (anc))
levels (anc) &lt;- c("old","new")
clinic &lt;- with(.data, factor (clinic))
levels (clinic) &lt;- c("A","B")
.data &lt;- data.frame(death, anc, clinic)
.data
glm2 &lt;- glm(death ~ anc + clinic, binomial, weights=Freq, data=.data)
lroc(glm2)
detach(.data)

# ROC from a diagnostic table
table1 &lt;- as.table(cbind(c(1,27,56,15,1),c(0,0,10,69,21)))
colnames(table1) &lt;- c("Non-diseased", "Diseased")
rownames(table1) &lt;- c("15-29","30-44","45-59","60-89","90+")
table1
roc.from.table(table1)
roc.from.table(table1, title=TRUE, auc.coords=c(.4,.1), cex=1.2)

# Application of the returned list
roc1 &lt;- roc.from.table(table1, graph=FALSE)
cut.points &lt;- rownames(roc1$diagnostic.table)
text(x=roc1$diagnostic.table[,1], y=roc1$diagnostic.table[,2], 
	labels=cut.points, cex=1.2, col="brown")
rm(list=ls())
</code></pre>

<hr>
<h2 id='sampsize'>Sample size calculation</h2><span id='topic+n.for.survey'></span><span id='topic+n.for.2means'></span><span id='topic+n.for.cluster.2means'></span><span id='topic+n.for.2p'></span><span id='topic+n.for.cluster.2p'></span><span id='topic+n.for.equi.2p'></span><span id='topic+n.for.noninferior.2p'></span><span id='topic+n.for.lqas'></span>

<h3>Description</h3>

<p>Sample size calculations for epidemiological studies</p>


<h3>Usage</h3>

<pre><code class='language-R'>n.for.survey (p, delta = "auto", popsize = NULL, deff = 1, alpha = 0.05) 
n.for.2means (mu1, mu2, sd1, sd2, ratio = 1, alpha = 0.05, power = 0.8) 
n.for.cluster.2means (mu1, mu2, sd1, sd2, alpha = 0.05, power = 0.8, ratio = 1, 
mean.cluster.size = 10, previous.mean.cluster.size = NULL, 
previous.sd.cluster.size = NULL, max.cluster.size = NULL, min.cluster.size = 
NULL, icc = 0.1)
n.for.2p (p1, p2, alpha = 0.05, power = 0.8, ratio = 1) 
n.for.cluster.2p (p1, p2, alpha = 0.05, power = 0.8, ratio = 1, 
mean.cluster.size = 10, previous.mean.cluster.size = NULL, 
previous.sd.cluster.size = NULL, max.cluster.size = NULL, 
min.cluster.size = NULL, icc = 0.1) 
n.for.equi.2p(p, sig.diff, alpha=.05, power=.8)
n.for.noninferior.2p (p, sig.inferior, alpha = 0.05, power = 0.8)
n.for.lqas (p0, q = 0, N = 10000, alpha = 0.05, exact = FALSE) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sampsize_+3A_p">p</code></td>
<td>
<p>estimated probability</p>
</td></tr>
<tr><td><code id="sampsize_+3A_delta">delta</code></td>
<td>
<p>difference between the estimated prevalence and one side of the 
95 percent confidence limit (precision)</p>
</td></tr>
<tr><td><code id="sampsize_+3A_popsize">popsize</code></td>
<td>
<p>size of the finite population</p>
</td></tr>
<tr><td><code id="sampsize_+3A_deff">deff</code></td>
<td>
<p>design effect for cluster sampling</p>
</td></tr>
<tr><td><code id="sampsize_+3A_alpha">alpha</code></td>
<td>
<p>significance level</p>
</td></tr>
<tr><td><code id="sampsize_+3A_mu1">mu1</code>, <code id="sampsize_+3A_mu2">mu2</code></td>
<td>
<p>estimated means of the two populations</p>
</td></tr>
<tr><td><code id="sampsize_+3A_sd1">sd1</code>, <code id="sampsize_+3A_sd2">sd2</code></td>
<td>
<p>estimated standard deviations of the two populations</p>
</td></tr>
<tr><td><code id="sampsize_+3A_ratio">ratio</code></td>
<td>
<p>n2/n1</p>
</td></tr>
<tr><td><code id="sampsize_+3A_mean.cluster.size">mean.cluster.size</code></td>
<td>
<p>mean of the cluster size planned in the current 
study</p>
</td></tr>
<tr><td><code id="sampsize_+3A_previous.mean.cluster.size">previous.mean.cluster.size</code>, <code id="sampsize_+3A_previous.sd.cluster.size">previous.sd.cluster.size</code></td>
<td>
<p>mean and sd of 
cluster size from a previous study</p>
</td></tr>
<tr><td><code id="sampsize_+3A_max.cluster.size">max.cluster.size</code>, <code id="sampsize_+3A_min.cluster.size">min.cluster.size</code></td>
<td>
<p>maximum and minimum of cluster size 
in the current study</p>
</td></tr>
<tr><td><code id="sampsize_+3A_icc">icc</code></td>
<td>
<p>intraclass correlation coefficient</p>
</td></tr>
<tr><td><code id="sampsize_+3A_p1">p1</code>, <code id="sampsize_+3A_p2">p2</code></td>
<td>
<p>estimated probabilities of the two populations</p>
</td></tr>
<tr><td><code id="sampsize_+3A_power">power</code></td>
<td>
<p>power of the study</p>
</td></tr>
<tr><td><code id="sampsize_+3A_sig.diff">sig.diff</code></td>
<td>
<p>level of difference consider as being clinically significant</p>
</td></tr>
<tr><td><code id="sampsize_+3A_sig.inferior">sig.inferior</code></td>
<td>
<p>level of reduction of effectiveness as being clinically 
significant</p>
</td></tr>
<tr><td><code id="sampsize_+3A_p0">p0</code></td>
<td>
<p>critical proportion beyond which the lot will be rejected</p>
</td></tr>
<tr><td><code id="sampsize_+3A_q">q</code></td>
<td>
<p>critical number of faulty pieces found in the sample, beyond which 
the lot will be rejected</p>
</td></tr>
<tr><td><code id="sampsize_+3A_n">N</code></td>
<td>
<p>lot size</p>
</td></tr>
<tr><td><code id="sampsize_+3A_exact">exact</code></td>
<td>
<p>whether the exact probability is to be computed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'n.for.survey' is used to compute the sample size required to conduct 
a survey. 
</p>
<p>When 'delta=&quot;auto&quot;', delta will change according to the value of p. 
If 0.3 &lt;= p &lt;= 0.7, delta = 0.1. If 0.1 &lt;= p &lt; .3, or 0.7&lt; p &lt;=0.9, 
then delta=.05. Finally, if p &lt; 0.1, then delta = p/2. If 0.9 &lt; p, 
then delta = (1-p)/2.    
</p>
<p>When cluster sampling is employed, the design effect (deff) has to be taken 
into account.
</p>
<p>'n.for.2means' is used to compute the sample size needed for testing 
the hypothesis that the difference of two population means is zero.
</p>
<p>'n.for.cluster.2means' and 'n.for.cluster.2p' are for cluster 
(usually randomized) controlled trial.
</p>
<p>'n.for.2p'  is used to the compute the sample size needed for testing the 
hypothesis that the difference of two population proportions is zero.
</p>
<p>'n.for.equi.2p' is used for equivalent trial with equal probability of success 
or fail being p for both groups. 'sig.diff' is a difference in probability 
considered as being clinically significant. If both sides of limits of 95 
percent CI of the difference are within +sig.diff or -sig.diff, there would be 
neither evidence of inferiority nor of superiority of any arm. 
</p>
<p>'n.for.noninferior.2p' is similar to 'n.for.equi.2p' except if the lower limit 
of 95 percent CI of the difference is higher than the sig.inferior level, 
the hypothesis of inferiority would be rejected.
</p>
<p>For a case control study, p1 and p2 are the proportions of exposure among 
cases and controls.
</p>
<p>For a cohort study, p1 and p2 are proportions of positive outcome among the 
exposed and non-exposed groups.
</p>
<p>'ratio' in a case control study is controls:case. In cohort and cross-sectional 
studies, it is non-exposed:exposed.
</p>
<p>LQAS stands for Lot Quality Assurance Sampling. The sample size n is determined 
to test whether the lot of a product has a defective proportion exceeding 
a critical proportion, p0. Out of the sample tested, if the number of defective 
specimens is greater than q, the lot is considered not acceptable. This concept 
can be applied to quality assurance processes in health care. 
</p>
<p>When any parameter is a vector of length &gt; 5, a table of sample size by 
the varying values of parameters is displayed. 
</p>


<h3>Value</h3>

<p>a list.
</p>
<p>'n.for.survey' returns an object of class &quot;n.for.survey&quot;                                    
</p>
<p>'n.for.2p' returns an object of class &quot;n.for.2p&quot;
</p>
<p>'n.for.2means' returns an object of class &quot;n.for.2means&quot;
</p>
<p>'n.for.lqas' returns an object of class &quot;n.for.lqas&quot;
</p>
<p>Each type of returned values consists of vectors of various parameters in 
the formula and the required sample size(s).  
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>References</h3>

<p>Eldridge SM, Ashby D, Kerry S. 2006 
Sample size for cluster randomized trials:
effect of coefficient of variation of cluster size and analysis method.
<em>Int J Epidemiol</em> <b>35(5)</b>: 1292-300.
</p>


<h3>See Also</h3>

<p>'power.for.2means', 'power.for.2p'</p>


<h3>Examples</h3>

<pre><code class='language-R'># In a standard survey to determine the coverage of immunization needed using 
# a cluster sampling technique on a population of approximately 500000, and
# an estimated prevalence of 70 percent, design effect is assumed to be 2.

n.for.survey( p = .8, delta = .1, popsize = 500000, deff =2) # 123 needed

# To see the effect of prevalence on delta and sample size
n.for.survey( p = c(.5, .6, .7, .8, .9, .95, .99)) 

# Testing the efficacy of measles vaccine in a case control study . 
# The coverage in the non-diseased population is estimated at 80 percent. 
# That in the diseased is 60 percent.

n.for.2p(p1=.8, p2=.6) # n1=n2=91 needed

# A randomized controlled trial testing cure rate of a disease of
# 90 percent by new drugs  and 80 percent by the old one.

n.for.2p(p1=.9, p2=.8) # 219 subjects needed in each arm.

# To see the effect of p1 on sample size
n.for.2p(p1=seq(1,9,.5)/10, p2=.5) # A table output

# The same randomized trial to check whether the new treatment is 5 percent
# different from the standard treatment assuming both arms has a common
# cure rate of 85 percent would be

n.for.equi.2p(p=.85, sig.diff=0.05)  # 801 each.

# If inferior arm is not allow to be lower than -0.05 (5 percent less effective)
n.for.noninferior.2p(p=.85, sig.inferior=0.05)  # 631 each.

# A cluster randomized controlled trial to test whether training of village
# volunteers would result in reduction of prevalence of a disease from 50 percent
# in control villages to 30 percent in the study village with a cluster size
# varies from 250 to 500 eligible subjects per village (mean of 350) and the
# intraclass correlation is assumed to be 0.15

n.for.cluster.2p(p1=.5, p2=.3, mean.cluster.size = 350, max.cluster.size = 500, 
min.cluster.size = 250, icc = 0.15)



# A quality assurance to check whether the coding of ICD-10 is faulty 
# by no more than 2 percent.The minimum sample is required. 
# Thus any faulty coding in the sample is not acceptable.

n.for.lqas(p0 = .02, q=0, exact = TRUE) # 148 non-faulty checks is required 
# to support the assurance process.

n.for.lqas(p0 = (1:10)/100, q=0, exact = FALSE) 
</code></pre>

<hr>
<h2 id='setTitle'>Setting the displayed language of Epicalc graph title</h2><span id='topic+setTitle'></span>

<h3>Description</h3>

<p>Setting locale and internationalizing Epicalc graph title</p>


<h3>Usage</h3>

<pre><code class='language-R'>setTitle(locale)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setTitle_+3A_locale">locale</code></td>
<td>
<p>A string denoting international language of choice</p>
</td></tr>
</table>


<h3>Details</h3>

<p>On calling 'library(epicalc)', '.locale()' has an inital value of FALSE, ie. the titles of Epicalc's automatic graphs are displayed in the English language. 'setTitle' has two effects. It selects the locale and resets the hidden object '.locale()' to TRUE. The command internationalizes the title of automatic graphs created by Epicalc according to 'locale' given in the function's argument. 
</p>
<p>If '.locale()' is TRUE, then the automatic graphs produced by Epicalc commands, such as 'summ(var)' or 'tab1(var)' or 'tabpct(var1,var2)', will lookup a language conversion table for the graph title and the title will be changed accordingly.
</p>
<p>Internationalization of the title can be disabled by typing '.locale(FALSE)'. This has no effect of locale as a whole unless it is reset to English by issuing the command 'setTitle(&quot;English&quot;)'.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'Sys.setlocale', 'Sys.getlocale' and 'titleString'</p>


<h3>Examples</h3>

<pre><code class='language-R'>.data &lt;- iris
attach(.data)
summ(Sepal.Length, by=Species)
setTitle("English")
dotplot(Sepal.Length, by=Species)
setTitle("Malay")
dotplot(Sepal.Length, by=Species)
setTitle("Spanish")
dotplot(Sepal.Length, by=Species)
detach(.data)
rm(.data)
</code></pre>

<hr>
<h2 id='shapiro.qqnorm'>Qqnorm plots with Shapiro-Wilk's test</h2><span id='topic+shapiro.qqnorm'></span>

<h3>Description</h3>

<p>Quantile-normal plots with Shapiro-Wilk's test result integrated</p>


<h3>Usage</h3>

<pre><code class='language-R'>shapiro.qqnorm (x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shapiro.qqnorm_+3A_x">x</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="shapiro.qqnorm_+3A_...">...</code></td>
<td>
<p>Graphical parameters passed to 'par'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To test a variable 'x' against the normal distribution, a qqnorm plot is integrated with the Shapiro-Wilk test to enhance interpretation.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'shapiro.test', 'qqnorm', 'par'</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rnorm(10)
a &lt;- LETTERS[1:10]
shapiro.qqnorm(x, pch=a, col="red")
qqline(x, lty=2, col="black")
</code></pre>

<hr>
<h2 id='Sleepiness'>Dataset on sleepiness in a workshop</h2><span id='topic+Sleep3'></span>

<h3>Description</h3>

<p> Sleepiness among participants in a workshop</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Sleep3)</code></pre>


<h3>Format</h3>

<p>A data frame with 15 observations on the following 8 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>gender</code></dt><dd><p>a factor with levels <code>male</code> <code>female</code></p>
</dd>
<dt><code>dbirth</code></dt><dd><p>a Date vector for birth date</p>
</dd>
<dt><code>sleepy</code></dt><dd><p>a numeric vector for any experience of sleepiness in the class: <code>0=no</code> <code>1=yes</code></p>
</dd>
<dt><code>lecture</code></dt><dd><p>a numeric vector for ever felt sleepy during a lecture: <code>0=no</code> <code>1=yes</code></p>
</dd>
<dt><code>grwork</code></dt><dd><p>a numeric vector for ever felt sleepy during a group work: <code>0=no</code> <code>1=yes</code></p>
</dd>
<dt><code>kg</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>cm</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Sleep3)
des(Sleep3)
</code></pre>

<hr>
<h2 id='statStack'>Statistics of a continuous variable stratified by factors</h2><span id='topic+statStack'></span>

<h3>Description</h3>

<p>Compares the difference in means or medians of the levels of a factor or list of factors</p>


<h3>Usage</h3>

<pre><code class='language-R'>statStack (cont.var, by, dataFrame, iqr="auto", var.labels = TRUE, decimal = 1, 
    assumption.p.value = .01) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="statStack_+3A_cont.var">cont.var</code></td>
<td>
<p>a single continuous variable in the data frame</p>
</td></tr>
<tr><td><code id="statStack_+3A_by">by</code></td>
<td>
<p>a factor, or list of factors, each of length &lt;code&gt;nrow(dataFrame)&lt;/code&gt;</p>
</td></tr>
<tr><td><code id="statStack_+3A_iqr">iqr</code></td>
<td>
<p>to display median and inter-quartile range instead of mean and sd.</p>
</td></tr>
<tr><td><code id="statStack_+3A_var.labels">var.labels</code></td>
<td>
<p>use descriptions of the 'by' variables if available</p>
</td></tr>
<tr><td><code id="statStack_+3A_dataframe">dataFrame</code></td>
<td>
<p>source data frame of the variables</p>
</td></tr>
<tr><td><code id="statStack_+3A_decimal">decimal</code></td>
<td>
<p>number of digits displayed after decimal point</p>
</td></tr>
<tr><td><code id="statStack_+3A_assumption.p.value">assumption.p.value</code></td>
<td>
<p>level of Bartlett's test P value to judge whether the comparison and the test should be parametric</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function computes means/medians of a continuous variable in each level of the specified factor(s) and performs an appropriate statistical test.
</p>
<p>The classes of the variable to compute statistics must be either 'integer' or 'numeric' why all 'by' variables must be 'factor'.
</p>
<p>Like in 'tableStack', the argument 'iqr' has a default value being &quot;auto&quot;. Non-parametric comparison and test will be automatically chosen if Bartlette's test P value is below the 'assumption.p.value'.Like in 'tableStack', the default value for the 'iqr' argument is &quot;auto&quot;, which means non-parametric comparison and test will be automatically chosen if the P-value from Bartlett's test is below the value of the 'assumption.p.value' argument (0.01).
</p>
<p>The user can force the function to perform a parametric test by setting 'iqr=NULL' and to perform a non-parametric test by setting 'iqr' to the name or index of the continuous variable. 
</p>
<p>By default, 'var.labels=TRUE' in order to give nice output.
</p>


<h3>Value</h3>

<p>an object of class 'statStack' and 'table'</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong                                                          
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'tableStack'</p>


<h3>Examples</h3>

<pre><code class='language-R'>
statStack(Price, by=c(DriveTrain, Origin), dataFrame=Cars93)
statStack(Price, by=c(DriveTrain, Origin), dataFrame=Cars93, iqr=NULL)

Cars93$log10.Price &lt;- log10(Cars93$Price)# added as the 28th variable
statStack(log10.Price, by=c(DriveTrain, Origin), dataFrame=Cars93)
statStack(log10.Price, by=c(DriveTrain, Origin), dataFrame=Cars93, iqr=28)
rm(Cars93)

data(Compaq)
statStack(year, by=c(hospital, stage:ses), dataFrame=Compaq)
# Note that var.labels 'Age group' is displayed instead of var. name 'agegr'
</code></pre>

<hr>
<h2 id='summ'>Summary with graph</h2><span id='topic+summ'></span><span id='topic+summ.default'></span><span id='topic+summ.data.frame'></span><span id='topic+summ.factor'></span><span id='topic+summ.logical'></span>

<h3>Description</h3>

<p>Summary of data frame in a convenient table. Summary of a variable 
with statistics and graph</p>


<h3>Usage</h3>

<pre><code class='language-R'>summ(x, ...) 
## Default S3 method:
summ(x, by=NULL, graph = TRUE, box = FALSE, pch = 18, 
    ylab = "auto", main = "auto", cex.X.axis = 1, cex.Y.axis = 1,
    dot.col = "auto", ...)
## S3 method for class 'factor'
summ(x, by=NULL, graph=TRUE, ...)
## S3 method for class 'logical'
summ(x, by=NULL, graph=TRUE, ...)
## S3 method for class 'data.frame'
summ(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summ_+3A_x">x</code></td>
<td>
<p>'x' can be a data frame or a vector</p>
</td></tr>
<tr><td><code id="summ_+3A_by">by</code></td>
<td>
<p>a stratification variable, valid only when x is a vector</p>
</td></tr>
<tr><td><code id="summ_+3A_graph">graph</code></td>
<td>
<p>automatic plot (sorted dot chart) if 'x' is a vector</p>
</td></tr>
<tr><td><code id="summ_+3A_box">box</code></td>
<td>
<p>add a boxplot to the graph (by=NULL)</p>
</td></tr>
<tr><td><code id="summ_+3A_pch">pch</code></td>
<td>
<p>plot characters</p>
</td></tr>
<tr><td><code id="summ_+3A_ylab">ylab</code></td>
<td>
<p>annotation on Y axis</p>
</td></tr>
<tr><td><code id="summ_+3A_main">main</code></td>
<td>
<p>main title of the graph</p>
</td></tr>
<tr><td><code id="summ_+3A_cex.x.axis">cex.X.axis</code></td>
<td>
<p>character extension scale of X axis</p>
</td></tr>
<tr><td><code id="summ_+3A_cex.y.axis">cex.Y.axis</code></td>
<td>
<p>character extension scale of Y axis</p>
</td></tr>
<tr><td><code id="summ_+3A_dot.col">dot.col</code></td>
<td>
<p>colour(s) of plot character(s)</p>
</td></tr>
<tr><td><code id="summ_+3A_...">...</code></td>
<td>
<p>additional graph parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For data frames, 'summ' gives basic statistics of each variable in 
the data frame. The other arguments are ignored.
</p>
<p>For single vectors, a sorted dot chart is also provided, if graph=TRUE 
(default).</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'summary', 'use', 'des'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
.data &lt;- Oswego
summ(.data)
with(.data, summ(age))
with(.data, summ(age, box=TRUE))
with(.data, summ(age, dot.col="brown"))
with(.data, summ(age, by=sex))
# Changing dot colours
with(.data, summ(age, by=sex, dot.col = c("blue","orange")))
# Enlarging main title and other elements
with(.data, summ(age, by=sex, cex.main=1.5, cex.X.axis=1.5, cex.Y.axis=1.7))

# Free vector
summ(rnorm(1000))
summ((1:100)^2, by=rep(1:2, 50))
summ((1:100)^2, by=rep(c("Odd","Even"), 50), main="Quadratic distribution by odd and even numbers")
</code></pre>

<hr>
<h2 id='tab1'>One-way tabulation</h2><span id='topic+tab1'></span><span id='topic+print.tab1'></span>

<h3>Description</h3>

<p>One-way tabulation with automatic bar chart and optional indicator variables generation</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab1(x0, decimal = 1, sort.group = FALSE, 
    cum.percent = !any(is.na(x0)), graph = TRUE, 
    missing = TRUE, bar.values = "frequency", 
    horiz = FALSE, cex = 1, cex.names = 1, main = "auto", xlab = "auto", 
    ylab = "auto", col = "auto", gen.ind.vars = FALSE, ...) 

## S3 method for class 'tab1'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab1_+3A_x0">x0</code></td>
<td>
<p>a variable</p>
</td></tr>
<tr><td><code id="tab1_+3A_decimal">decimal</code></td>
<td>
<p>number of decimals for the percentages in the table</p>
</td></tr>
<tr><td><code id="tab1_+3A_sort.group">sort.group</code></td>
<td>
<p>pattern for sorting categories in the table and in the chart. Default is no sorting. I can also be &quot;decreasing&quot; or &quot;increasing&quot;.</p>
</td></tr>
<tr><td><code id="tab1_+3A_cum.percent">cum.percent</code></td>
<td>
<p>presence of cumulative percentage in the output table. Default is TRUE for a variable without any missing values.</p>
</td></tr>
<tr><td><code id="tab1_+3A_graph">graph</code></td>
<td>
<p>whether a graph should be shown</p>
</td></tr>
<tr><td><code id="tab1_+3A_missing">missing</code></td>
<td>
<p>include the missing values category or &lt;NA&gt; in the graphic display</p>
</td></tr>
<tr><td><code id="tab1_+3A_bar.values">bar.values</code></td>
<td>
<p>include the value of frequency. This can also be &quot;percent&quot; or &quot;none&quot; at the end of each bar</p>
</td></tr>
<tr><td><code id="tab1_+3A_horiz">horiz</code></td>
<td>
<p>set the bar chart to horizontal orientation</p>
</td></tr>
<tr><td><code id="tab1_+3A_cex">cex</code></td>
<td>
<p>parameter for extension of characters or relative size of the bar.values</p>
</td></tr>
<tr><td><code id="tab1_+3A_cex.names">cex.names</code></td>
<td>
<p>character extension or relative scale of the name labels for the bars</p>
</td></tr>
<tr><td><code id="tab1_+3A_main">main</code></td>
<td>
<p>main title of the graph</p>
</td></tr>
<tr><td><code id="tab1_+3A_xlab">xlab</code></td>
<td>
<p>label of X axis</p>
</td></tr>
<tr><td><code id="tab1_+3A_ylab">ylab</code></td>
<td>
<p>label of Y axis</p>
</td></tr>
<tr><td><code id="tab1_+3A_col">col</code></td>
<td>
<p>colours of the bar</p>
</td></tr>
<tr><td><code id="tab1_+3A_gen.ind.vars">gen.ind.vars</code></td>
<td>
<p>whether the indicator variables will be generated</p>
</td></tr>
<tr><td><code id="tab1_+3A_x">x</code></td>
<td>
<p>object of class 'tab1' obtained from saving 'tab1' results</p>
</td></tr>
<tr><td><code id="tab1_+3A_...">...</code></td>
<td>
<p>further arguments passed to or used by other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'tab1' is an advanced one-way tabulation providing a nice frequency table as well as a bar chart. The description of the variable is also used in the main title of the graph.
</p>
<p>The bar chart is vertical unless the number of categories is more than six <strong>and</strong> any of the labels of the levels consists of more than 8 characters <strong>or</strong> 'horiz' is set to TRUE.
</p>
<p>For table has less than categories, the automatic colour is &quot;grey&quot;. Otherwise, the graph will be colourful. The argument, 'col' can be overwritten by the user.
</p>
<p>The argument 'gen.ind.vars' is effective only if x0 is factor.
</p>


<h3>Value</h3>

<p>Output table</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'tabpct', 'label.var', 'table', 'barplot', 'model.matrix'</p>


<h3>Examples</h3>

<pre><code class='language-R'>tab1(state.division)
tab1(state.division, bar.values ="percent")
tab1(state.division, sort.group ="decreasing")
tab1(state.division, sort.group ="increasing")
tab1(state.division, col=c("chocolate","brown1","brown4"),
  main="Number of states in each zone")
# For presentation, several 'cex' parameters should increase
tab1(state.division, col=c("chocolate","brown1","brown4"),
  main="Number of states in each zone",
  cex.main=1.7, cex.name=1.2, cex.axis=1.3, cex.lab=1.3)


data(Oswego)
.data &lt;- Oswego
attach(.data)
tab1(ill) # Note the column of cumulative percentages in the table.
tab1(ill, cum.percent=FALSE)
tab1(chocolate) 
# Due to missing values, cumulative percentages are now automatically turned off.
tab1(chocolate, cum.percent=TRUE)
# Slightly too many columns in text!
tab1(chocolate, missing=FALSE, bar.values="percent")
agegr &lt;- cut(age, breaks=c(0,10,20,30,40,50,60,70,80))
tab1(agegr) # No need to start with 'calc' as it is outside .data
tab1(agegr, col="grey") # graphic output from older versions of 'tab1'
tab1(agegr, col=c("red","yellow","blue")) # Colours recycled
tab1(agegr, horiz=TRUE)

# Keeping output table
dev.off()
tab1(agegr, graph = FALSE) -&gt; a
print(a)
a # same results
attributes(a)
a$output.table
class(a$output.table) # "matrix" 
# 'a$output.table' is ready for exporting to a .csv file by 
# write.csv(a$output.table, file="table1.csv") 
# "table1.csv" is now readable by a spreadsheet program
detach(.data)
rm(list=ls())
</code></pre>

<hr>
<h2 id='tableStack'>Tabulation of variables in a stack form</h2><span id='topic+tableStack'></span>

<h3>Description</h3>

<p>Tabulation of variables with the same possible range of distribution and stack into a new table with or without other descriptive statistics or to breakdown distribution of more than one row variables against a column variable</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableStack (vars, dataFrame, minlevel = "auto", maxlevel = "auto", count = TRUE, 
    na.rm =FALSE, means = TRUE, medians = FALSE, sds = TRUE, decimal = 1,  
    total = TRUE, var.labels = TRUE, var.labels.trunc =150, reverse = FALSE, 
    vars.to.reverse = NULL, by = NULL, vars.to.factor = NULL, iqr = "auto", 
    prevalence = FALSE, percent = "column", frequency=TRUE, 
    test = TRUE, name.test = TRUE, total.column = FALSE, simulate.p.value = FALSE,
    sample.size=TRUE, assumption.p.value = .01) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableStack_+3A_vars">vars</code></td>
<td>
<p>a vector of variables in the data frame</p>
</td></tr>
<tr><td><code id="tableStack_+3A_dataframe">dataFrame</code></td>
<td>
<p>source data frame of the variables</p>
</td></tr>
<tr><td><code id="tableStack_+3A_minlevel">minlevel</code></td>
<td>
<p>possible minimum value of items specified by user</p>
</td></tr>
<tr><td><code id="tableStack_+3A_maxlevel">maxlevel</code></td>
<td>
<p>possible maximum value of items specified by user</p>
</td></tr>
<tr><td><code id="tableStack_+3A_count">count</code></td>
<td>
<p>whether number of valid records for each item will be displayed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_na.rm">na.rm</code></td>
<td>
<p>whether missing value would be removed during calculation mean score of each person</p>
</td></tr>
<tr><td><code id="tableStack_+3A_means">means</code></td>
<td>
<p>whether means of all selected items will be displayed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_medians">medians</code></td>
<td>
<p>whether medians of all selected items will be displayed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_sds">sds</code></td>
<td>
<p>whether standard deviations of all selected items will be displayed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_decimal">decimal</code></td>
<td>
<p>number of decimals displayed in the statistics</p>
</td></tr>
<tr><td><code id="tableStack_+3A_total">total</code></td>
<td>
<p>display of means and standard deviations of total and average scores</p>
</td></tr>
<tr><td><code id="tableStack_+3A_var.labels">var.labels</code></td>
<td>
<p>presence of descriptions of variables on the last column of output</p>
</td></tr>
<tr><td><code id="tableStack_+3A_var.labels.trunc">var.labels.trunc</code></td>
<td>
<p>number of characters used for variable description</p>
</td></tr>
<tr><td><code id="tableStack_+3A_reverse">reverse</code></td>
<td>
<p>whether item(s) negatively correlated with other majority will be reversed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_vars.to.reverse">vars.to.reverse</code></td>
<td>
<p>variable(s) to reverse</p>
</td></tr>
<tr><td><code id="tableStack_+3A_by">by</code></td>
<td>
<p>a variable for column breakdown. If a single character (with quotes) is given, only the 'total column' will be displayed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_vars.to.factor">vars.to.factor</code></td>
<td>
<p>variable(s) to be converted to factor for tabulaton</p>
</td></tr>
<tr><td><code id="tableStack_+3A_iqr">iqr</code></td>
<td>
<p>variable(s) to display median and inter-quartile range</p>
</td></tr>
<tr><td><code id="tableStack_+3A_prevalence">prevalence</code></td>
<td>
<p>for logical variable, whether prevalence of the dichotomous row variable in each column subgroup will be displayed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_percent">percent</code></td>
<td>
<p>type of percentage displayed when the variable is categorical. Default is &quot;column&quot;. It can be &quot;row&quot;, or &quot;none&quot;</p>
</td></tr>
<tr><td><code id="tableStack_+3A_frequency">frequency</code></td>
<td>
<p>whether to display frequency in the cells when the variable is categorical</p>
</td></tr>
<tr><td><code id="tableStack_+3A_test">test</code></td>
<td>
<p>whether statistical test(s) will be computed</p>
</td></tr>
<tr><td><code id="tableStack_+3A_name.test">name.test</code></td>
<td>
<p>display name of the test and relevant degrees of freedom</p>
</td></tr>
<tr><td><code id="tableStack_+3A_total.column">total.column</code></td>
<td>
<p>whether to add 'total column' to the output or not</p>
</td></tr>
<tr><td><code id="tableStack_+3A_simulate.p.value">simulate.p.value</code></td>
<td>
<p>simulate P value for Fisher's exact test</p>
</td></tr>
<tr><td><code id="tableStack_+3A_sample.size">sample.size</code></td>
<td>
<p>whether to display non-missing sample size of each column</p>
</td></tr>
<tr><td><code id="tableStack_+3A_assumption.p.value">assumption.p.value</code></td>
<td>
<p>level of Bartlett's test P value to judge whether the comparison and the test should be parametric</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function simultaneously explores several variables with a fixed integer rating scale. For non-factor variables, the default values for tabulation are the minimum and the maximum of all variables but can be specified by the user.
</p>
<p>When 'by' is omitted, all variables must be of the same class, and must be 'integer', 'factor' or 'logical.
</p>
<p>Unlike function 'alpha', the argument 'reverse' has a default value of FALSE. This argument is ignored if 'vars.to.reverse' is specified.
</p>
<p>Options for 'reverse', 'vars.to.reverse' and statistics of 'means', 'medians', 'sds' and 'total' are available only if the items are not factor. To obtain statistics of factor items, users need to use 'unclassDataframe' to convert them into integer.
</p>
<p>When the 'by' argument is given, 'reverse' and 'vars.to.reverse' do not apply. Instead, columns of the 'by' variable will be formed. A table will be created against each selected variable. If the variable is a factor or coerced to factor with 'vars.to.factor', cross-tabulation will result with percents as specified, ie. &quot;column&quot;, &quot;row&quot;, or &quot;none&quot; (FALSE). For a dichotomous row variable, if set to 'TRUE', the prevalence of row variable in the form of a fraction is displayed in each subgroup column. For objects of class 'numeric' or 'integer', means with standard deviations will be displayed. For variables with residuals that are not normally distributed or where the variance of subgroups are significantly not normally distributed (using a significance level of 0.01), medians and inter-quartile ranges will be presented if the argument 'iqr' is set to &quot;auto&quot; (by default). Users may specify a subset of the selected variables (from the 'vars' argument) to be presented in such a form. Otherwise, the argument could be set as any other character string such as &quot;none&quot;, to insist to present means and standard deviations. 
</p>
<p>When 'test = TRUE' (default), 
Pearson's chi-squared test (or a two-sided Fisher's exact test, if the sample size is small) will be carried out for a categorical variable or a factor.
Parametric or non-parametric comparison and test will be carried out for a object of class 'numeric' or 'integer' (See 'iqr' and 'assumption.p.value' below). 
If the sample size of the numeric variable is too small in any group, the test is omitted and the problem reported.
</p>
<p>For Fisher's exact test, the default method employs 'simulate.p.value = FALSE'. See further explanation in 'fisher.test' procedure. If the dataset is extraordinarily large, the option may be manually set to TRUE. 
</p>
<p>When 'by' is specified as a single character object (such as 'by=&quot;none&quot;'), there will be no column breakdown and all tests will be omitted. Only the total column is displayed. Only the 'total' column is shown.
</p>
<p>If this 'total column' is to accompany the 'by' breakdown, the argument 'total.column=TRUE' should be specified.
The 'sample.size' is TRUE by default. The total number of records for each group is displayed in the first row of the output. However, the variable in each row may have some missing records, the information on which is not reported by tableStack. 
</p>
<p>By default, Epicalc sets 'var.labels=TRUE' in order to give nice output. However, 'var.labels=FALSE' can sometimes be more useful during data exploration. Variable numbers as well as variable names are displayed instead of variable labels. Names and numbers of abnormally distributed variables, especially factors with too many levels, can be easily identified for further relevelling or recoding.
</p>
<p>The argument 'iqr' has a default value being &quot;auto&quot;. Non-parametric comparison and test will be automatically chosen if Bartlett's test P value is below the 'assumption.p.value'.
</p>
<p>The test can be forced to parametric by setting 'iqr=NULL' and to non-parametric by if iqr is set to the variable number of cont.var (See examples.). 
</p>


<h3>Value</h3>

<p>an object of class 'tableStack' and 'list' when by=NULL 
</p>
<table>
<tr><td><code>results</code></td>
<td>
<p>an object of class 'noquote' which is used for print out</p>
</td></tr>
<tr><td><code>items.reversed</code></td>
<td>
<p>name(s) of variable(s) reversed</p>
</td></tr>
<tr><td><code>total.score</code></td>
<td>
<p>a vector from 'rowSums' of the columns of variables specified in 'vars'</p>
</td></tr>
<tr><td><code>mean.score</code></td>
<td>
<p>a vector from 'rowMeans' of the columns of variables specified in 'vars'</p>
</td></tr>
<tr><td><code>mean.of.total.scores</code></td>
<td>
<p>mean of total scores</p>
</td></tr>
<tr><td><code>sd.of.total.scores</code></td>
<td>
<p>standard deviation of total scores</p>
</td></tr>
<tr><td><code>mean.of.average.scores</code></td>
<td>
<p>mean of mean scores</p>
</td></tr>
<tr><td><code>sd.of.average.scores</code></td>
<td>
<p>standard deviation of mean scores</p>
</td></tr>
</table>
<p>When 'by' is specified, an object of class 'tableStack' and 'table is returned. 
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'table', 'tab1', 'summ', 'alpha', 'unclassDataframe'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
tableStack(bakedham:fruitsalad, dataFrame=Oswego)
.data &lt;- Oswego
des(.data)
attach(.data)
tableStack(bakedham:fruitsalad, .data) # Default data frame is .data
tableStack(bakedham:fruitsalad, .data, by= ill)
tableStack(bakedham:fruitsalad, .data, by= ill, prevalence=TRUE)
tableStack(bakedham:fruitsalad, .data, by= ill, percent=FALSE)
tableStack(bakedham:fruitsalad, .data, by= ill, percent=FALSE, name.test=FALSE)
detach(.data)


data(Cars93, package="MASS")
.data &lt;- Cars93
des(.data)
tableStack(vars=4:25, .data, by=Origin)
tableStack(vars=4:25, .data, by="none")
tableStack(vars=4:25, .data, by=Origin, total.column=TRUE)


data(Attitudes)
.data &lt;- Attitudes
attach(.data)
tableStack(qa1:qa18, .data)  # May need full screen of Rconsole
tableStack(qa1:qa18, .data, var.labels.trunc=35) 
                      # Fits in with default R console screen
tableStack(qa1:qa18, .data, reverse=TRUE) -&gt; a
a
## Components of 'a' have appropriate items reversed
a$mean.score -&gt; mean.score 
a$total.score -&gt; total.score
.data$mean.score &lt;- mean.score
.data$total.score &lt;- total.score
rm(total.score, mean.score)
detach(.data)
attach(.data)
tableStack(c(qa1,qa13:qa18,mean.score,total.score), .data, by=sex, test=FALSE)
tableStack(c(qa15, qa17, mean.score:total.score), .data, by=sex, iqr=c(qa17,total.score))
tableStack(c(qa15, qa17, mean.score:total.score), .data, by=dep, iqr=c(qa17,total.score))
## 'vars' can be mixture of different classes of variables
.data$highscore &lt;- mean.score &gt; 4
tableStack(mean.score:highscore, .data, by=sex, iqr=total.score)
detach(.data)
rm(list=ls())

data(Ectopic)
.data &lt;- Ectopic
des(.data)
tableStack(vars=3:4, .data, by=outc)
tableStack(vars=3:4, .data, by=outc, percent="none")
tableStack(vars=3:4, .data, by=outc, prevalence = TRUE)
tableStack(vars=3:4, .data, by=outc, name.test = FALSE)

## Variable in numeric or factor
data(Outbreak)
.data &lt;- Outbreak
des(.data)
# Comparison of exposure to food items between the two gender
tableStack(vars=5:8, .data, by=sex) # as continuous varaibles
tableStack(vars=5:8, .data, by=sex, vars.to.factor = 5:8) # as factors
</code></pre>

<hr>
<h2 id='tabpct'>Two-way tabulation with mosaic plot</h2><span id='topic+tabpct'></span>

<h3>Description</h3>

<p>Two-way tabulation with automatic mosaic plot</p>


<h3>Usage</h3>

<pre><code class='language-R'>tabpct(row, column, decimal = 1, percent = "both", 
    graph = TRUE, las = 0, main = "auto", xlab = "auto", 
    ylab = "auto", col = "auto", ...) 
  
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tabpct_+3A_row">row</code>, <code id="tabpct_+3A_column">column</code></td>
<td>
<p>variables</p>
</td></tr>
<tr><td><code id="tabpct_+3A_decimal">decimal</code></td>
<td>
<p>number of decimals for the percentage in the table</p>
</td></tr>
<tr><td><code id="tabpct_+3A_percent">percent</code></td>
<td>
<p>orientation of the percentage in the table</p>
</td></tr>
<tr><td><code id="tabpct_+3A_graph">graph</code></td>
<td>
<p>automatic graphing</p>
</td></tr>
<tr><td><code id="tabpct_+3A_las">las</code></td>
<td>
<p>orientation of group labelling</p>
</td></tr> 
<tr><td><code id="tabpct_+3A_main">main</code></td>
<td>
<p>main title</p>
</td></tr>
<tr><td><code id="tabpct_+3A_xlab">xlab</code></td>
<td>
<p>X axis label</p>
</td></tr>
<tr><td><code id="tabpct_+3A_ylab">ylab</code></td>
<td>
<p>Y axis label</p>
</td></tr>
<tr><td><code id="tabpct_+3A_col">col</code></td>
<td>
<p>colours of the bars</p>
</td></tr>
<tr><td><code id="tabpct_+3A_...">...</code></td>
<td>
<p>additional arguments for 'table'</p>
</td></tr>
</table>
<p>0: always parallel to axis
</p>
<p>1: always horizontal,
</p>
<p>2: always perpendicular to the axis,
</p>
<p>3: always vertical.
</p>


<h3>Details</h3>

<p>'tabpct' gives column and row percent cross-tabulation as well as mosaic plot. 
</p>
<p>The width of the bar in the plot denotes the relative proportion of the row variable.
</p>
<p>Inside each bar, the relative proportion denotes the distribution of column variables within each row variable.
</p>
<p>The default value for the 'percent' orientation is &quot;both&quot;. It can also be &quot;col&quot; or &quot;row&quot;.
</p>
<p>Due to limitation of 'mosaicplot', certain graphic parameters such as 'cex.main', 'cex.lab' are not acceptable. The parameter 'main', 'xlab' and 'ylab' can be suppressed by making equal to &quot; &quot;. An additional line starting with 'title' can be used to write new main and label titles with 'cex.main' and 'cex.lab' specified. 
</p>


<h3>Value</h3>

<p>Tables of row and column percentage</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'tab1', 'table', 'mosaicplot'</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Oswego)
.data &lt;- Oswego
attach(.data)
agegr &lt;- cut(age, breaks=c(0,20,40,60,80))
tabpct(agegr, ill)
tabpct(agegr, ill, cex.axis=1) # enlarge value labels
# To increase the size of the various titles:
tabpct(agegr, ill, cex.axis=1, main="", xlab="", ylab="", col=c("blue","purple"))
title(main="Diseased by Age group", cex.main=1.8,
    xlab="Age (years)",ylab="Diseased", cex.lab=1.5)
detach(.data)
rm(list=ls())    
</code></pre>

<hr>
<h2 id='Timing+20exercise'> Dataset on time going to bed, waking up and arrival at a workshop</h2><span id='topic+Timing'></span>

<h3>Description</h3>

<p>This dataset came from an interview survey on the workshop attendants
on 2004-12-14.
</p>
<p>Note that the date of bed time is 2004-12-13 if the respondent went
to bed before midnight.                                        
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Timing)</code></pre>


<h3>Format</h3>

<p>A data frame with 18 observations on the following 11 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>gender</code></dt><dd><p>a factor with levels <code>male</code> <code>female</code></p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>marital</code></dt><dd><p>a factor with levels <code>single</code> <code>married</code> <code>others</code></p>
</dd>
<dt><code>child</code></dt><dd><p>a numeric vector indicating number of children</p>
</dd>
<dt><code>bedhr</code></dt><dd><p>a numeric vector indicating the hour of going to bed</p>
</dd>
<dt><code>bedmin</code></dt><dd><p>a numeric vector indicating the minute of going to bed</p>
</dd>
<dt><code>wokhr</code></dt><dd><p>a numeric vector indicating the hour of waking up</p>
</dd>
<dt><code>wokmin</code></dt><dd><p>a numeric vector indicating the minute of waking up</p>
</dd>
<dt><code>arrhr</code></dt><dd><p>a numeric vector indicating the hour of arrival at the workshop</p>
</dd>
<dt><code>arrmin</code></dt><dd><p>a numeric vector indicating the minute of arrival at the workshop</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Timing)
des(Timing)
</code></pre>

<hr>
<h2 id='titleString'>Replace commonly used words in Epicalc graph title</h2><span id='topic+titleString'></span>

<h3>Description</h3>

<p>Setting vocabularies for Epicalc graph title</p>


<h3>Usage</h3>

<pre><code class='language-R'>titleString (distribution.of = .distribution.of, by = .by, 
	frequency = .frequency, locale = .locale(), 
	return.look.up.table=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="titleString_+3A_distribution.of">distribution.of</code></td>
<td>
<p>A string denoting &quot;Distribution of&quot;</p>
</td></tr>
<tr><td><code id="titleString_+3A_by">by</code></td>
<td>
<p>That for &quot;by&quot;</p>
</td></tr>
<tr><td><code id="titleString_+3A_frequency">frequency</code></td>
<td>
<p>That for &quot;Frequency&quot;</p>
</td></tr>
<tr><td><code id="titleString_+3A_locale">locale</code></td>
<td>
<p>Logical value to overwrite .locale(). The initial value is FALSE</p>
</td></tr>
<tr><td><code id="titleString_+3A_return.look.up.table">return.look.up.table</code></td>
<td>
<p>Should the look-up table be returned?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The two internationalization commands of Epicalc, 'setTitle' and 'titleString', work together to set the langauge and wording of titles of automatic graphs obtained from certain Epicalc functions.
</p>
<p>In general, 'setTitle' is simple and works well if the locale required fits in with the version of the operating system. The three commonly used words in the graph titles: &quot;Distribution of&quot;, &quot;by&quot; and &quot;Frequency&quot;, which are in English, are initially stored in three respective hidden objects '.distribution.of', '.by' and '.frequency' as well as in the look-up table within the 'titleString' function. When the locale is changed to a language other than English, the look-up table is used and wordings are changed accordingly. 
</p>
<p>The function 'titleString' is useful when the user wants to change the strings stored in the look-up table. It changes the initial values of '.distribution.of', '.by' and '.frequency', respectively. The argument, 'locale', must be manually set to FALSE by the user to disable the use of the look-up table and to enable the use of the three objects assigned by the command instead. 
</p>
<p>The two functions suppress each other. Use of 'setTitle' disables the effects of 'titleString', switching .locale() to TRUE and forcing Epicalc to read from the look-up table in 'titleString'. However, 'setTitle' does not overwrite the values assigned by the arguments of 'titleString'.
</p>
<p>The key and decisive switch object is .locale(). Once .locale() is set to FALSE, either manually or inside the 'titleString' command, the values of the three hidden objects will be used. Setting .locale() to TRUE, either manually or automatically by the 'setTitle' function, points the graph title to use the look-up table inside 'titleString'.
</p>
<p>Typing 'titleString()' without an argument displays the current contents of these three objects. The look-up table is also displayed if the return.look.up.table argument is set to TRUE.
</p>
<p>International users who want to add their specific locales and corresponding terminology to the look-up table or to suggest more appropriate terminology can contact the author.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'setTitle'</p>


<h3>Examples</h3>

<pre><code class='language-R'>
.data &lt;- iris
attach(.data)
dotplot(Sepal.Length, by=Species)

titleString(distribution.of="", by="grouped by", locale=FALSE)
## The above command is equivalent to the following three lines:
## .distribution.of &lt;- ""
## .by &lt;- "grouped by"
## .locale(FALSE)

dotplot(Sepal.Length, by=Species)
titleString()

setTitle("English")
dotplot(Sepal.Length, by=Species)
titleString(return.look.up.table=TRUE)

.locale(FALSE)
dotplot(Sepal.Length, by=Species)
titleString()

.distribution.of &lt;- "Distribution of"
titleString()

.by &lt;- "by"
titleString()

detach(.data)
rm(.data)
</code></pre>

<hr>
<h2 id='Tooth+20decay'>Dataset on tooth decay and mutan streptococci</h2><span id='topic+Decay'></span>

<h3>Description</h3>

<p>Relationship between bacteria and presence of any decayed tooth.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Decay)</code></pre>


<h3>Format</h3>

<p>A data frame with 436 observations on the following 2 variables.
</p>

<dl>
<dt><code>decay</code></dt><dd><p>a numeric vector indicating presence of tooth decay</p>
</dd>
<dt><code>strep</code></dt><dd><p>a numeric vector indicating number of colony-forming-units
(CFUs) of <em>Streptococcus mutan</em> in the saliva</p>
</dd>
</dl>



<h3>Source</h3>

<p>Teanpaisan, R., Kintarak, S., Chuncharoen, C., Akkayanont, P. 1995
Mutans Streptococci and dental -caries in schoolchildren 
in Southern Thailand. 
<em>Community Dentistry and Oral Epidemiology</em>  <b>23</b>: 317-318.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Decay)
des(Decay)
</code></pre>

<hr>
<h2 id='Voluntary+20counselling+20and+20testing'>Dataset on attitudes toward VCT</h2><span id='topic+VCT'></span>

<h3>Description</h3>

<p>This dataset contains information on the records of 200 women working at a tourist destination community.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(VCT)</code></pre>


<h3>Format</h3>

<p>A subset of a data frame containing 200 observations and 12 variables with
variable descriptions.
</p>
<p>Details of the codes can be seen from the results of the function 'codebook()' below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(VCT)
codebook(VCT)
</code></pre>

<hr>
<h2 id='Xerophthalmia+20and+20respiratory+20infection'>Dataset from an Indonesian study on vitamin A deficiency and risk of respiratory infection</h2><span id='topic+Xerop'></span>

<h3>Description</h3>

<p>This dataset was adopted from Diggle et al: Analysis of Longitudinal Data. REFERENCE &ndash;  Zeger and Karim, JASA (1991)
</p>
<p>Note that there are some duplications of id and time combination.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Xerop)</code></pre>


<h3>Format</h3>

<p>A data frame containing 1200 observations and 10 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector for personal identification number</p>
</dd>
<dt><code>respinfect</code></dt><dd><p>whether the child had respiratory infection in that visit</p>
</dd>
<dt><code>age.month</code></dt><dd><p>current age in month</p>
</dd>
<dt><code>xerop</code></dt><dd><p>whether the child currently had vitamin A deficiency</p>
</dd>
<dt><code>sex</code></dt><dd><p>gender of the child no detail on the code</p>
</dd>
<dt><code>ht.for.age</code></dt><dd><p>height for age</p>
</dd>
<dt><code>stunted</code></dt><dd><p>whether the child has stunted growth</p>
</dd>
<dt><code>time</code></dt><dd><p>time of scheduled visit</p>
</dd>
<dt><code>baseline.age</code></dt><dd><p>baseline age</p>
</dd>
<dt><code>season</code></dt><dd><p>season</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(Xerop)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package colorspace</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {colorspace}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#adjust_transparency'><p>Adjust or Extract Transparency of Colors</p></a></li>
<li><a href='#choose_palette'><p>Graphical User Interface for Choosing HCL Color Palettes</p></a></li>
<li><a href='#color-class'><p>Class &quot;color&quot;</p></a></li>
<li><a href='#contrast_ratio'><p>W3C Contrast Ratio</p></a></li>
<li><a href='#coords'><p>Extract the Numerical Coordinates of a Color</p></a></li>
<li><a href='#cvd'><p>Color Vision Deficiency (CVD) Conversion Tables</p></a></li>
<li><a href='#cvd_emulator'><p>Graphical User Interface to Check Images for Color Constraints</p></a></li>
<li><a href='#cvd_image'><p>Convert Colors of an Image</p></a></li>
<li><a href='#demoplot'><p>Color Palette Demonstration Plot</p></a></li>
<li><a href='#desaturate'><p>Desaturate Colors by Chroma Removal in HCL Space</p></a></li>
<li><a href='#divergingx_hcl'><p>(More) Flexible Diverging HCL Palettes</p></a></li>
<li><a href='#hcl_color_picker'><p>Graphical User Interface to Pick Colors in HCL Space</p></a></li>
<li><a href='#hcl_palettes'><p>HCL Color Palettes</p></a></li>
<li><a href='#hclplot'><p>Palette Plot in HCL Space</p></a></li>
<li><a href='#hex'><p>Convert Colors to Hexadecimal Strings</p></a></li>
<li><a href='#hex2RGB'><p>Convert Hexadecimal Color Specifications to sRGB Objects</p></a></li>
<li><a href='#HLS'><p>Create HLS Colors</p></a></li>
<li><a href='#HSV'><p>Create HSV Colors</p></a></li>
<li><a href='#LAB'><p>Create LAB Colors</p></a></li>
<li><a href='#lighten'><p>Algorithmically Lighten or Darken Colors</p></a></li>
<li><a href='#LUV'><p>Create LUV Colors</p></a></li>
<li><a href='#max_chroma'><p>Compute Maximum Chroma for Given Hue and Luminance in HCL</p></a></li>
<li><a href='#mixcolor'><p>Compute the Convex Combination of Two Colors</p></a></li>
<li><a href='#polarLAB'><p>Create polarLAB Colors</p></a></li>
<li><a href='#polarLUV'><p>Create polarLUV (HCL) Colors</p></a></li>
<li><a href='#rainbow_hcl'><p>HCL (and HSV) Color Palettes Corresponding to Base R Palettes</p></a></li>
<li><a href='#readhex'><p>Read Hexadecimal Color Descriptions</p></a></li>
<li><a href='#readRGB'><p>Read RGB Color Descriptions</p></a></li>
<li><a href='#RGB'><p>Create RGB Colors</p></a></li>
<li><a href='#scale_colour_binned_diverging'><p>HCL-Based Binned Diverging Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_binned_divergingx'><p>HCL-Based Binned Flexible Diverging Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_binned_qualitative'><p>HCL-Based Binned Qualitative Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_binned_sequential'><p>HCL-Based Binned Sequential Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_continuous_diverging'><p>HCL-Based Continuous Diverging Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_continuous_divergingx'><p>HCL-Based Continuous Flexible Diverging Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_continuous_qualitative'><p>HCL-Based Continuous Qualitative Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_continuous_sequential'><p>HCL-Based Continuous Sequential Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_discrete_diverging'><p>HCL-Based Discrete Diverging Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_discrete_divergingx'><p>HCL-Based Discrete Flexible Diverging Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_discrete_qualitative'><p>HCL-Based Discrete Qualitative Color Scales for ggplot2</p></a></li>
<li><a href='#scale_colour_discrete_sequential'><p>HCL-Based Discrete Sequential Color Scales for ggplot2</p></a></li>
<li><a href='#simulate_cvd'><p>Simulate Color Vision Deficiency</p></a></li>
<li><a href='#specplot'><p>Color Spectrum Plot</p></a></li>
<li><a href='#sRGB'><p>Create sRGB Colors</p></a></li>
<li><a href='#swatchplot'><p>Palette Swatch Plot</p></a></li>
<li><a href='#USSouthPolygon'><p>Polygon for County Map of US South States: Alabama, Georgia, and South</p>
Carolina</a></li>
<li><a href='#whitepoint'><p>Access or Modify the Whitepoint</p></a></li>
<li><a href='#writehex'><p>Write Hexadecimal Color Descriptions</p></a></li>
<li><a href='#XYZ'><p>Create XYZ Colors</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.1-0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-01-23</td>
</tr>
<tr>
<td>Title:</td>
<td>A Toolbox for Manipulating and Assessing Colors and Palettes</td>
</tr>
<tr>
<td>Description:</td>
<td>Carries out mapping between assorted color spaces including RGB, HSV, HLS,
             CIEXYZ, CIELUV, HCL (polar CIELUV), CIELAB, and polar CIELAB.
	     Qualitative, sequential, and diverging color palettes based on HCL colors
	     are provided along with corresponding ggplot2 color scales.
	     Color palette choice is aided by an interactive app (with either a Tcl/Tk
	     or a shiny graphical user interface) and shiny apps with an HCL color picker and a
	     color vision deficiency emulator. Plotting functions for displaying
	     and assessing palettes include color swatches, visualizations of the
	     HCL space, and trajectories in HCL and/or RGB spectrum. Color manipulation
	     functions include: desaturation, lightening/darkening, mixing, and
	     simulation of color vision deficiencies (deutanomaly, protanomaly, tritanomaly).
	     Details can be found on the project web page at <a href="https://colorspace.R-Forge.R-project.org/">https://colorspace.R-Forge.R-project.org/</a>
	     and in the accompanying scientific paper: Zeileis et al. (2020, Journal of Statistical
	     Software, &lt;<a href="https://doi.org/10.18637%2Fjss.v096.i01">doi:10.18637/jss.v096.i01</a>&gt;).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>datasets, utils, KernSmooth, MASS, kernlab, mvtnorm, vcd,
tcltk, shiny, shinyjs, ggplot2, dplyr, scales, grid, png, jpeg,
knitr, rmarkdown, RColorBrewer, rcartocolor, scico, viridis,
wesanderson</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://colorspace.R-Forge.R-project.org/">https://colorspace.R-Forge.R-project.org/</a>, <a href="https://hclwizard.org/">https://hclwizard.org/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://colorspace.R-Forge.R-project.org/contact.html">https://colorspace.R-Forge.R-project.org/contact.html</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-23 08:50:11 UTC; zeileis</td>
</tr>
<tr>
<td>Author:</td>
<td>Ross Ihaka [aut],
  Paul Murrell <a href="https://orcid.org/0000-0002-3224-8858"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Kurt Hornik <a href="https://orcid.org/0000-0003-4198-9911"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jason C. Fisher <a href="https://orcid.org/0000-0001-9032-8912"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Reto Stauffer <a href="https://orcid.org/0000-0002-3798-5507"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Claus O. Wilke <a href="https://orcid.org/0000-0002-7470-9261"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Claire D. McWhite <a href="https://orcid.org/0000-0001-7346-3047"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Achim Zeileis <a href="https://orcid.org/0000-0003-0918-3766"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Achim Zeileis &lt;Achim.Zeileis@R-project.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-23 11:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='adjust_transparency'>Adjust or Extract Transparency of Colors</h2><span id='topic+adjust_transparency'></span><span id='topic+extract_transparency'></span>

<h3>Description</h3>

<p>Adjust (i.e., add, remove, or modify) or extract alpha transparency of a vector of colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjust_transparency(col, alpha = TRUE)

extract_transparency(col, mode = "numeric", default = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adjust_transparency_+3A_col">col</code></td>
<td>
<p>vector of R colors. Can be any of the three kinds of R colors,
i.e., either a color name (an element of
<code><a href="grDevices.html#topic+colors">colors</a></code>), a hexadecimal (hex) string of the form
<code>"#rrggbb"</code> or <code>"#rrggbbaa"</code> (see <code><a href="grDevices.html#topic+rgb">rgb</a></code>), or
an integer <code>i</code> meaning <code>palette()[i]</code>. Additionally, <code>col</code> can be
a formal <code><a href="#topic+color-class">color-class</a></code> object or a matrix with three
rows containing R/G/B (0-255) values.</p>
</td></tr>
<tr><td><code id="adjust_transparency_+3A_alpha">alpha</code></td>
<td>
<p>either a new alpha transparency value or logical (to add/remove alpha)
or <code>NULL</code>. See details.</p>
</td></tr>
<tr><td><code id="adjust_transparency_+3A_mode">mode</code></td>
<td>
<p>character specifying the output mode for the alpha transparency, can be
<code>"numeric"</code>, <code>"integer"</code>, <code>"character"</code> or <code>"hexmode"</code>. See details.</p>
</td></tr>
<tr><td><code id="adjust_transparency_+3A_default">default</code></td>
<td>
<p>vector of length 1 specifying the default alpha transparency that should
be returned for colors that do not specify any explicitly (defaulting to fully opaque).
Can either be numeric, integer, character, or hexmode.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Alpha transparency is useful for making colors semi-transparent, e.g., for
overlaying different elements in graphics. An alpha value of 0 (or 00 in hex strings)
corresponds to fully transparent and an alpha value of 1 (or FF in hex strings)
corresponds to fully opaque. If a color hex string in R does not provide an explicit
alpha transparency, the color is assumed to be fully opaque.
</p>
<p>The <code>adjust_transparency</code> function can be used to adjust the alpha transparency
of a set of colors. It always returns a hex color specification. This hex color
can have the alpha transparency added/removed/modified depending on the
specification of <code>alpha</code>: </p>

<ul>
<li> <p><code>alpha = NULL</code>: Returns a hex vector with alpha transparency only if needed.
Thus, it keeps the alpha transparency for the colors (if any) but only if
different from opaque.
</p>
</li>
<li> <p><code>alpha = TRUE</code>: Returns a hex vector with alpha transparency
for all colors, using opaque (FF) as the default if missing.
</p>
</li>
<li> <p><code>alpha = FALSE</code>: Returns a hex vector without alpha transparency for
all colors (even if the original colors had non-opaque alpha).
</p>
</li>
<li> <p><code>alpha</code> numeric: Returns a hex vector with alpha transparency for
all colors set to the <code>alpha</code> argument (recycled if necessary).
</p>
</li></ul>

<p>The <code>extract_transparency</code> function can be used to extract the alpha transparency
from a set of colors. It allows to specify the <code>default</code> value - that should be used
for colors without an explicit alpha transparency (defaulting to fully opaque) - and
<code>mode</code> of the return value. This can either be numeric (in [0, 1]), integer
(0L, 1L, ..., 255L), character (&ldquo;00&rdquo;, &ldquo;01&rdquo;, ..., &ldquo;FF&rdquo;),
or an object of class <code><a href="base.html#topic+hexmode">hexmode</a></code> (internally represented as integer
with printing as character). The <code>default</code> can use any of these modes as well
(independent of the output <code>mode</code>) or be <code>NA</code>.
</p>


<h3>Value</h3>

<p>For <code>adjust_transparency</code> character vector with hexadecimal color strings with alpha transparency
corresponding to <code>alpha</code> argument. For <code>extract_transparency</code> a vector of
alpha transparency values with the indicated <code>mode</code>.
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+rgb">rgb</a></code>, <code><a href="#topic+desaturate">desaturate</a></code>, <code><a href="#topic+lighten">lighten</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## modify transparency of a color (in different formats)
adjust_transparency("black",   alpha = c(0, 0.5, 1)) ## name
adjust_transparency("#000000", alpha = c(0, 0.5, 1)) ## hex string
adjust_transparency(1,         alpha = c(0, 0.5, 1)) ## palette() integer

## three shades of gray (in different formats:
## name/opaque, hex/opaque, hex/semi-transparent)
x &lt;- c("gray", "#BEBEBE", "#BEBEBE80")

## adjust transparency
adjust_transparency(x, alpha = NULL)  ## only if necessary
adjust_transparency(x, alpha = TRUE)  ## add
adjust_transparency(x, alpha = FALSE) ## remove
adjust_transparency(x, alpha = 0.8)   ## modify

## extract transparency in different formats
extract_transparency(x, mode = "numeric") ## default
extract_transparency(x, mode = "integer")
extract_transparency(x, mode = "character")
extract_transparency(x, mode = "hexmode")

## extract transparency with different default values
extract_transparency(x, default = NA)
extract_transparency(x, default = 0.5)
extract_transparency(x, default = 128L)
extract_transparency(x, default = "80", mode = "integer")
</code></pre>

<hr>
<h2 id='choose_palette'>Graphical User Interface for Choosing HCL Color Palettes</h2><span id='topic+choose_palette'></span><span id='topic+hclwizard'></span><span id='topic+hcl_wizard'></span>

<h3>Description</h3>

<p>A graphical user interface (GUI) for viewing, manipulating, and choosing HCL
color palettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>choose_palette(pal = diverging_hcl, n = 7L, parent = NULL, gui = "tcltk", ...)

hclwizard(n = 7L, gui = "shiny", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choose_palette_+3A_pal">pal</code></td>
<td>
<p>function; the initial palette, see &lsquo;Value&rsquo; below.  Only
used if <code>gui = "tcltk"</code>.</p>
</td></tr>
<tr><td><code id="choose_palette_+3A_n">n</code></td>
<td>
<p>integer; the initial number of colors in the palette.</p>
</td></tr>
<tr><td><code id="choose_palette_+3A_parent">parent</code></td>
<td>
<p>tkwin; the GUI parent window.  Only used if <code>gui =
"tcltk"</code>.</p>
</td></tr>
<tr><td><code id="choose_palette_+3A_gui">gui</code></td>
<td>
<p>character; GUI to use. Available options are <code>tcltk</code> and
<code>shiny</code>, see &lsquo;Details&rsquo; below.</p>
</td></tr>
<tr><td><code id="choose_palette_+3A_...">...</code></td>
<td>
<p>used for development purposes only.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Computes palettes based on the HCL (hue-chroma-luminance) color model (as
implemented by <code><a href="#topic+polarLUV">polarLUV</a></code>). The GUIs interface the palette
functions <code><a href="#topic+qualitative_hcl">qualitative_hcl</a></code> for qualitative palettes,
<code><a href="#topic+sequential_hcl">sequential_hcl</a></code> for sequential palettes with a single or
multiple hues, and <code><a href="#topic+diverging_hcl">diverging_hcl</a></code> for diverging palettes (composed
from two single-hue sequential palettes).
</p>
<p>Two different GUIs are implemented and can be selected using the function
input argument <code>gui</code> (<code>"tcltk"</code> or <code>"shiny"</code>). Both GUIs
allows for interactive modification of the arguments of the respective
palette-generating functions, i.e., starting/ending hue (wavelength, type of
color), minimal/maximal chroma (colorfulness), minimal maximal luminance
(brightness, amount of gray), and a power transformations that control how
quickly/slowly chroma and/or luminance are changed through the palette.
Subsets of the parameters may not be applicable depending on the type of
palette chosen. See <code><a href="#topic+qualitative_hcl">qualitative_hcl</a></code> and Zeileis et al. (2009, 2019) for
a more detailed explanation of the different arguments. Stauffer et al.
(2015) provide more examples and guidance.
</p>
<p>Optionally, active palette can be illustrated by using a range of examples
such as a map, heatmap, scatter plot, perspective 3D surface etc.
</p>
<p>To demonstrate different types of deficiencies, the active palette may be
desaturated (emulating printing on a grayscale printer) and collapsed to
emulate different types of color-blindness (without red-green or green-blue
contrasts) using the <code><a href="#topic+simulate_cvd">simulate_cvd</a></code> functions.
</p>
<p><code>choose_palette</code> by default starts the Tcl/Tk version of the GUI while
<code>hclwizard</code> by default starts the shiny version. <code>hcl_wizard</code> is
an alias for <code>hclwizard</code>.
</p>


<h3>Value</h3>

<p>Returns a palette-generating function with the selected arguments.
Thus, the returned function takes an integer argument and returns the
corresponding number of HCL colors by traversing HCL space through
interpolation of the specified hue/chroma/luminance/power values.
</p>


<h3>Author(s)</h3>

<p>Jason C. Fisher, Reto Stauffer, Achim Zeileis
</p>


<h3>References</h3>

<p>Zeileis A, Hornik K, Murrell P (2009).  Escaping RGBland:
Selecting Colors for Statistical Graphics.  <em>Computational Statistics &amp;
Data Analysis</em>, <b>53</b>, 3259&ndash;3270.
<a href="https://doi.org/10.1016/j.csda.2008.11.033">doi:10.1016/j.csda.2008.11.033</a>
Preprint available from
<a href="https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf">https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf</a>.
</p>
<p>Stauffer R, Mayr GJ, Dabernig M, Zeileis A (2015).  Somewhere over the
Rainbow: How to Make Effective Use of Colors in Meteorological
Visualizations.  <em>Bulletin of the American Meteorological Society</em>,
<b>96</b>(2), 203&ndash;216.
<a href="https://doi.org/10.1175/BAMS-D-13-00155.1">doi:10.1175/BAMS-D-13-00155.1</a>
</p>
<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simulate_cvd">simulate_cvd</a></code>, <code><a href="#topic+desaturate">desaturate</a></code>, <code><a href="#topic+qualitative_hcl">qualitative_hcl</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
## Using tcltk GUI
pal &lt;- choose_palette()
## or equivalently: hclwizard(gui = "tcltk")

## Using shiny GUI
pal &lt;- hclwizard()
## or equivalently: choose_palette(gui = "shiny")

## use resulting palette function
filled.contour(volcano, color.palette = pal, asp = 1)
}
</code></pre>

<hr>
<h2 id='color-class'>Class &quot;color&quot;</h2><span id='topic+color-class'></span><span id='topic+RGB-class'></span><span id='topic+sRGB-class'></span><span id='topic+XYZ-class'></span><span id='topic+HSV-class'></span><span id='topic+HLS-class'></span><span id='topic+LAB-class'></span><span id='topic+LUV-class'></span><span id='topic+polarLAB-class'></span><span id='topic+polarLUV-class'></span><span id='topic++5B+2Ccolor-method'></span><span id='topic+coerce+2Ccolor+2CRGB-method'></span><span id='topic+coerce+2Ccolor+2CsRGB-method'></span><span id='topic+coerce+2Ccolor+2CXYZ-method'></span><span id='topic+coerce+2Ccolor+2CLAB-method'></span><span id='topic+coerce+2Ccolor+2CpolarLAB-method'></span><span id='topic+coerce+2Ccolor+2CHSV-method'></span><span id='topic+coerce+2Ccolor+2CHLS-method'></span><span id='topic+coerce+2Ccolor+2CLUV-method'></span><span id='topic+coerce+2Ccolor+2CpolarLUV-method'></span><span id='topic+coords+2Ccolor-method'></span><span id='topic+plot+2Ccolor-method'></span><span id='topic+show+2Ccolor-method'></span>

<h3>Description</h3>

<p>Objects from the class <em>color</em> represent colors in a number of color
spaces.  In particular, there are subclasses of color which correspond to
RGB, HSV, HLS, CIEXYZ, CIELUV, CIELAB and polar versions of the last two
spaces.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls to the
functions <code>RGB</code>, <code>sRGB</code>, <code>HSV</code>, <code>HLS</code>, <code>XYZ</code>,
<code>LUV</code>, <code>LAB</code>, <code>polarLUV</code>, and <code>polarLAB</code>.  These are all
subclasses of the virtual class <em>color</em>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>coords</code>:</dt><dd><p>An object of class <code>"matrix"</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>[</dt><dd><p><code>signature(x = "color")</code>: This method makes it possible to
take subsets of a vector of colors.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "RGB")</code>: convert
a color vector to RGB.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "sRGB")</code>: convert
a color vector to sRGB.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "XYZ")</code>: convert
a color vector to XYZ.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "LAB")</code>: convert
a color vector to LAB. </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "polarLAB")</code>: convert
a color vector to polarLAB. </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "HSV")</code>: convert
a color vector to HSV. </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "HLS")</code>: convert
a color vector to HLS. </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "LUV")</code>: convert
a color vector to LUV. </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "color", to = "polarLUV")</code>: convert
a color vector to polarLUV. </p>
</dd>
<dt>coords</dt><dd><p><code>signature(color = "color")</code>: extract the color
coordinates from a color vector.</p>
</dd>
<dt>plot</dt><dd><p><code>signature(x = "color")</code>: plot a color vector </p>
</dd>
<dt>show</dt><dd><p><code>signature(object = "color")</code>: show a color vector. </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+HSV">HSV</a></code>,
<code><a href="#topic+HLS">HLS</a></code>, <code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>,
<code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>, <code><a href="#topic+mixcolor">mixcolor</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- sRGB(runif(1000), runif(1000), runif(1000))
plot(as(x, "LUV"))
</code></pre>

<hr>
<h2 id='contrast_ratio'>W3C Contrast Ratio</h2><span id='topic+contrast_ratio'></span>

<h3>Description</h3>

<p>Compute (and visualize) the contrast ratio of pairs of colors, as defined by the World Wide
Web Consortium (W3C).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrast_ratio(
  col,
  col2 = "white",
  algorithm = c("WCAG", "APCA"),
  plot = FALSE,
  border = FALSE,
  cex = 2,
  off = 0.05,
  mar = rep(0.5, 4),
  digits = 2L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contrast_ratio_+3A_col">col</code>, <code id="contrast_ratio_+3A_col2">col2</code></td>
<td>
<p>vectors of any of the three kind of R colors, i.e., either a color
name (an element of <code><a href="grDevices.html#topic+colors">colors</a></code>), a hexadecimal string
of the form <code>"#rrggbb"</code> or <code>"#rrggbbaa"</code> (see
<code><a href="grDevices.html#topic+rgb">rgb</a></code>), or an integer <code>i</code> meaning
<code>palette()[i]</code>. Both can be vectors and are recycled as necessary.</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_algorithm">algorithm</code></td>
<td>
<p>character specifying whether the established standard <code>"WCAG"</code> 2.1 algorithm
should be used or the improved <code>"APCA"</code> 0.98G-4g algorithm, still under development.</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_plot">plot</code></td>
<td>
<p>logical indicating whether the contrast ratios should also be
visualized by simple color swatches. Can also be a vector of length 2, indicating
whether the foreground color should be visualized on the background color and/or
the background color on the foreground color.</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_border">border</code></td>
<td>
<p>logical or color specification for the borders around the color swatches (only
used if <code>plot = TRUE</code>). The default is <code>FALSE</code> which is equivalent to
<code>"transparent"</code>. If <code>TRUE</code> the border is drawn in the same color as the text in the
rectangle.</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_cex">cex</code></td>
<td>
<p>numeric. Size of the text in the color color swatches (only if <code>plot = TRUE</code>).</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_off">off</code></td>
<td>
<p>numeric. Vertical offset between the different color swatches (only if <code>plot = TRUE</code>).
Can also be of length 2 giving both vertical and horizontal offsets, respectively.</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_mar">mar</code></td>
<td>
<p>numeric. Size of the margins around the color swatches (only if <code>plot = TRUE</code>).</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_digits">digits</code></td>
<td>
<p>numeric. Number of digits for the contrast ratios displayed in the color swatches
(only if <code>plot = TRUE</code>)</p>
</td></tr>
<tr><td><code id="contrast_ratio_+3A_...">...</code></td>
<td>
<p>further arguments passed to the plot of the color swatches (only if <code>plot = TRUE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The W3C Content Accessibility Guidelines (WCAG) recommend a contrast
ratio of at least 4.5 for the color of regular text on the background color, and
a ratio of at least 3 for large text. See <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">https://www.w3.org/TR/WCAG21/#contrast-minimum</a>.
</p>
<p>The contrast ratio is defined in <a href="https://www.w3.org/TR/WCAG21/#dfn-contrast-ratio">https://www.w3.org/TR/WCAG21/#dfn-contrast-ratio</a>
as <code>(L1 + 0.05) / (L2 + 0.05)</code> where <code>L1</code> and <code>L2</code> are the relative luminances
(see <a href="https://www.w3.org/TR/WCAG21/#dfn-relative-luminance">https://www.w3.org/TR/WCAG21/#dfn-relative-luminance</a>) of the lighter and darker
colors, respectively. The relative luminances are weighted sums of scaled sRGB coordinates:
<code>0.2126 * R + 0.7152 * G + 0.0722 * B</code> where each of <code>R</code>, <code>G</code>, and <code>B</code>
is defined as <code>ifelse(RGB &lt;= 0.03928, RGB/12.92, ((RGB + 0.055)/1.055)^2.4)</code> based on
the <code>RGB</code> coordinates between 0 and 1.
</p>
<p>For use in the next major revision of the WCAG a new advanced perceptual contrast algorithm
(APCA) has been proposed by Somers (2022), see also Muth (2022) for more background and details.
APCA is still under development, here version 0.98G-4g is implemented. Unlike the standard WCAG
algorithm, APCA takes into account which color is the text and which is the background. Hence
for the APCA algorithm a matrix with normal and reverse polarity is returned. An absolute
value of 45 is &quot;sort of&quot; like a WCAG ratio of 3, 60 is &quot;sort of&quot; like 4.5.
</p>


<h3>Value</h3>

<p>A numeric vector with the contrast ratios is returned (invisibly, if <code>plot</code> is <code>TRUE</code>).
</p>


<h3>References</h3>

<p>W3C (2018). &ldquo;Web Content Accessibility Guidelines (WCAG) 2.1.&rdquo;
<a href="https://www.w3.org/TR/WCAG21/">https://www.w3.org/TR/WCAG21/</a>
</p>
<p>Somers A (2022). &ldquo;Advanced Perceptual Contrast Algorithm.&rdquo;
<a href="https://github.com/Myndex/SAPC-APCA">https://github.com/Myndex/SAPC-APCA</a>
</p>
<p>Muth LC (2022). &ldquo;It's Time for a More Sophisticated Color Contrast Check for Data Visualizations.&rdquo;
Datawrapper Blog. <a href="https://blog.datawrapper.de/color-contrast-check-data-vis-wcag-apca/">https://blog.datawrapper.de/color-contrast-check-data-vis-wcag-apca/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+desaturate">desaturate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># check contrast ratio of default palette on white background
contrast_ratio(palette(), "white")

# visualize contrast ratio of default palette on white and black background
contrast_ratio(palette(), "white", plot = TRUE)
contrast_ratio(palette()[-1], "black", plot = TRUE)

# APCA algorithm
contrast_ratio(palette(), "white", algorithm = "APCA")
contrast_ratio(palette(), "white", algorithm = "APCA", plot = TRUE, digits = 0)
</code></pre>

<hr>
<h2 id='coords'>Extract the Numerical Coordinates of a Color</h2><span id='topic+coords'></span>

<h3>Description</h3>

<p>This function returns a matrix with three columns which give the coordinates
of a color in its natural color space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coords(color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coords_+3A_color">color</code></td>
<td>
<p>A color.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric matrix giving the coordinates of the color.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+LAB">LAB</a></code>,
<code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>,
<code><a href="#topic+mixcolor">mixcolor</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- sRGB(1, 0, 0)
coords(as(x, "HSV"))
</code></pre>

<hr>
<h2 id='cvd'>Color Vision Deficiency (CVD) Conversion Tables</h2><span id='topic+cvd'></span><span id='topic+protanomaly_cvd'></span><span id='topic+deutanomaly_cvd'></span><span id='topic+tritanomaly_cvd'></span>

<h3>Description</h3>

<p>Conversion tables for simulating different types of color vision deficiency (CVD):
Protanomaly, deutanomaly, tritanomaly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>protanomaly_cvd

deutanomaly_cvd

tritanomaly_cvd
</code></pre>


<h3>Format</h3>

<p>Lists of 3x3 RGB-color transformation matrices for the various types of CVD. Each list contains 11 transformation matrices 
representing increasingly severe color vision deficiency.
</p>


<h3>Details</h3>

<p>Machado et al. (2009) have established a novel model, that allows to handle normal color
vision, anomalous trichromacy, and dichromacy in a unified way. They also provide conversion
formulas along with tables of certain constants that allow to simulate various types of
CVD. See <code><a href="#topic+simulate_cvd">simulate_cvd</a></code> for the corresponding simulation functions.
</p>


<h3>References</h3>

<p>Machado GM, Oliveira MM, Fernandes LAF (2009).
A Physiologically-Based Model for Simulation of Color Vision Deficiency.
<em>IEEE Transactions on Visualization and Computer Graphics</em>. <b>15</b>(6), 1291&ndash;1298.
<a href="https://doi.org/10.1109/TVCG.2009.113">doi:10.1109/TVCG.2009.113</a>
Online version with supplements at
<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html</a>.
</p>
<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simulate_cvd">simulate_cvd</a></code>
</p>

<hr>
<h2 id='cvd_emulator'>Graphical User Interface to Check Images for Color Constraints</h2><span id='topic+cvd_emulator'></span>

<h3>Description</h3>

<p>A graphical user interface (GUI) to check an existing jpg/png image for (possible)
color constraints. The image will be converted to protanope vision, deuteranope vision,
and a desaturated version (monochromatic vision).
Allows a rapid check whether the colors used in the image show some
constraints with respect to color deficiency or color blindness.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cvd_emulator(file, overwrite = FALSE, shiny.trace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvd_emulator_+3A_file">file</code></td>
<td>
<p>If not set, an interactive GUI will be started. If <code>x</code> is of type
<code>character</code> it has to be the full path to an image of type png or jpg/jpeg.
The image will be converted and stored on disc, no GUI.</p>
</td></tr>
<tr><td><code id="cvd_emulator_+3A_overwrite">overwrite</code></td>
<td>
<p><code>logical</code>. Only used if <code>file</code> is provided. Allow the
function to overwrite files on disc if they exist.</p>
</td></tr>
<tr><td><code id="cvd_emulator_+3A_shiny.trace">shiny.trace</code></td>
<td>
<p><code>logical</code>. Can be set to <code>TRUE</code> for more verbose
output when the GUI is started (development flag).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Reto Stauffer, Claus O. Wilke, Achim Zeileis
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>

<hr>
<h2 id='cvd_image'>Convert Colors of an Image</h2><span id='topic+cvd_image'></span>

<h3>Description</h3>

<p>Used in <code>cvd_emulator</code>. Takes an image object and converts
the colors using <code><a href="#topic+deutan">deutan</a></code>, <code><a href="#topic+protan">protan</a></code>,
<code><a href="#topic+tritan">tritan</a></code>, <code><a href="#topic+desaturate">desaturate</a></code> functions. The image
will be written to disc as a PNG file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cvd_image(img, type, file, severity = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvd_image_+3A_img">img</code></td>
<td>
<p><code>array</code> as returned by <code>readPNG</code> and <code>readJPEG</code>
of size <code>height x width x depth</code>. The depth coordinate contains
R/G/B and alpha if given (png).</p>
</td></tr>
<tr><td><code id="cvd_image_+3A_type">type</code></td>
<td>
<p><code>string</code> name of the function which will be used to
convert the colors (<code>deutan</code>, <code>protan</code>, <code>tritan</code>, <code>desaturate</code>).
If set to <code>original</code> the image will be written as is.</p>
</td></tr>
<tr><td><code id="cvd_image_+3A_file">file</code></td>
<td>
<p><code>string</code> with (full) path to resulting image. Has to
be a png image name.</p>
</td></tr>
<tr><td><code id="cvd_image_+3A_severity">severity</code></td>
<td>
<p>numeric. Severity of the color vision defect, a number between 0 and 1.</p>
</td></tr>
</table>

<hr>
<h2 id='demoplot'>Color Palette Demonstration Plot</h2><span id='topic+demoplot'></span>

<h3>Description</h3>

<p>Demonstration of color palettes in various kinds of statistical graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>demoplot(
  x,
  type = c("map", "heatmap", "scatter", "spine", "bar", "pie", "perspective", "mosaic",
    "lines"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="demoplot_+3A_x">x</code></td>
<td>
<p>character vector containing color hex codes.</p>
</td></tr>
<tr><td><code id="demoplot_+3A_type">type</code></td>
<td>
<p>character indicating the type of demonstration plot.</p>
</td></tr>
<tr><td><code id="demoplot_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To demonstrate how different kinds of color palettes work in different
kinds of statistical displays, <code>demoplot</code> provides a simple convenience
interface to some base graphics with (mostly artificial) data sets.
All types of demos can deal with arbitrarily many colors. However, some
displays are much more suitable for a low number of colors (e.g., the pie
chart) while others work better with more colors (e.g., the heatmap).
</p>


<h3>Value</h3>

<p><code>demoplot</code> returns invisibly what the respective base graphics
functions return that are called internally.
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+specplot">specplot</a></code>, <code><a href="#topic+hclplot">hclplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## all built-in demos with the same sequential heat color palette
par(mfrow = c(3, 3))
cl &lt;- sequential_hcl(5, "Heat")
for (i in c("map", "heatmap", "scatter", "spine", "bar", "pie", "perspective", "mosaic", "lines")) {
  demoplot(cl, type = i)
}

## qualitative palettes: light pastel colors for shading areas (pie)
## and darker colorful palettes for points or lines
demoplot(qualitative_hcl(4, "Pastel 1"), type = "pie")
demoplot(qualitative_hcl(4, "Set 2"), type = "scatter")
demoplot(qualitative_hcl(4, "Dark 3"), type = "lines")

## sequential palettes: display almost continuous gradients with
## strong luminance contrasts (heatmap, perspective) and colorful
## sequential palette for spine plot with only a few ordered categories
demoplot(sequential_hcl(99, "Purple-Blue"), type = "heatmap")
demoplot(sequential_hcl(99, "Reds"), type = "perspective")
demoplot(sequential_hcl(4, "Viridis"), type = "spine")

## diverging palettes: display almost continuous gradient with
## strong luminance contrast bringing out the extremes (map),
## more colorful palette with lower luminance contrasts for displays
## with fewer colors (mosaic, bar)
demoplot(diverging_hcl(99, "Tropic", power = 2.5), type = "map")
demoplot(diverging_hcl(5, "Green-Orange"), type = "mosaic")
demoplot(diverging_hcl(5, "Blue-Red 2"), type = "bar")

## some palettes that work well on black backgrounds
par(mfrow = c(2, 3), bg = "black")
demoplot(sequential_hcl(9, "Oslo"), "heatmap")
demoplot(sequential_hcl(9, "Turku"), "heatmap")
demoplot(sequential_hcl(9, "Inferno", rev = TRUE), "heatmap")
demoplot(qualitative_hcl(9, "Set 2"), "lines")
demoplot(diverging_hcl(9, "Berlin"), "scatter")
demoplot(diverging_hcl(9, "Cyan-Magenta", l2 = 20), "lines")

</code></pre>

<hr>
<h2 id='desaturate'>Desaturate Colors by Chroma Removal in HCL Space</h2><span id='topic+desaturate'></span>

<h3>Description</h3>

<p>Transform a vector of given colors to the corresponding colors with chroma
reduced (by a tunable amount) in HCL space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>desaturate(col, amount = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="desaturate_+3A_col">col</code></td>
<td>
<p>vector of R colors. Can be any of the three kinds of R colors, i.e.,
either a color name (an element of <code><a href="grDevices.html#topic+colors">colors</a></code>), a hexadecimal string
of the form <code>"#rrggbb"</code> or <code>"#rrggbbaa"</code> (see
<code><a href="grDevices.html#topic+rgb">rgb</a></code>), or an integer <code>i</code> meaning
<code>palette()[i]</code>. Input <code>col</code> can also be a matrix with three
rows containing R/G/B (0-255) values, see details.</p>
</td></tr>
<tr><td><code id="desaturate_+3A_amount">amount</code></td>
<td>
<p>numeric specifying the amount of desaturation where <code>1</code>
corresponds to complete desaturation, <code>0</code> to no desaturation, and
values in between to partial desaturation.</p>
</td></tr>
<tr><td><code id="desaturate_+3A_...">...</code></td>
<td>
<p>additional arguments. If <code>severity</code> is specified it will
overrule the input argument <code>amount</code> (for convenience).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If input <code>col</code> is a vector given colors are first transformed to RGB
(either using <code><a href="#topic+hex2RGB">hex2RGB</a></code> or
<code><a href="grDevices.html#topic+col2rgb">col2rgb</a></code>) and then to HCL
(<code><a href="#topic+polarLUV">polarLUV</a></code>).  In HCL, chroma is reduced
and then the color is transformed back to a hexadecimal
string.
</p>
<p>If input <code>col</code> is a matrix with three rows named <code>R</code>, <code>G</code>, and
<code>B</code> (top down) they are interpreted as Red-Green-Blue values within the
range <code>[0-255]</code>. The desaturation takes place in the HCL space as well.
Instead of an (s)RGB color vector a matrix of the same size as the input
<code>col</code> with desaturated Red-Green-Blue values will be returned.
This can be handy to avoid too many conversions.
</p>


<h3>Value</h3>

<p>A character vector with (s)RGB codings of the colors in the palette
if input <code>col</code> is a vector. If input <code>col</code> is a matrix with R/G/B
values a matrix of the same form and size will be returned.
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+polarLUV">polarLUV</a></code>, <code><a href="#topic+hex">hex</a></code>, <code><a href="#topic+lighten">lighten</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## rainbow of colors and their desaturated counterparts
rainbow_hcl(12)
desaturate(rainbow_hcl(12))

## convenience demo function
wheel &lt;- function(col, radius = 1, ...)
  pie(rep(1, length(col)), col = col, radius = radius, ...) 

## compare base and colorspace palettes
## (in color and desaturated)
par(mar = rep(0, 4), mfrow = c(2, 2))
## rainbow color wheel
wheel(rainbow_hcl(12))
wheel(rainbow(12))
wheel(desaturate(rainbow_hcl(12)))
wheel(desaturate(rainbow(12)))

## apply desaturation directly on wide RGB matrix (with R/G/B channels in rows)
RGB &lt;- diag(3) * 255
rownames(RGB) &lt;- c("R", "G", "B")
desaturate(RGB)
</code></pre>

<hr>
<h2 id='divergingx_hcl'>(More) Flexible Diverging HCL Palettes</h2><span id='topic+divergingx_hcl'></span><span id='topic+divergex_hcl'></span><span id='topic+divergingx_palettes'></span>

<h3>Description</h3>

<p>Diverging HCL color palettes generated through combination of two fully
flexible (and possibly unbalanced) multi-hue sequential palettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>divergingx_hcl(
  n,
  palette = "Geyser",
  ...,
  fixup = TRUE,
  alpha = 1,
  rev = FALSE,
  h1,
  h2,
  h3,
  c1,
  c2,
  c3,
  l1,
  l2,
  l3,
  p1,
  p2,
  p3,
  p4,
  cmax1,
  cmax2
)

divergingx_palettes(palette = NULL, plot = FALSE, n = 7L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="divergingx_hcl_+3A_n">n</code></td>
<td>
<p>the number of colors (<code class="reqn">\ge 1</code>) to be in the palette.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_palette">palette</code></td>
<td>
<p>character with the name (see details).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="#topic+hex">hex</a></code>.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_fixup">fixup</code></td>
<td>
<p>logical. Should the color be corrected to a valid RGB value?</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector of values in the range <code>[0, 1]</code> for alpha
transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_rev">rev</code></td>
<td>
<p>logical. Should the palette be reversed?</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_h1">h1</code></td>
<td>
<p>numeric. Starting hue coordinate.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_h2">h2</code></td>
<td>
<p>numeric. Center hue coordinate.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_h3">h3</code></td>
<td>
<p>numeric. Ending hue coordinate.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_c1">c1</code></td>
<td>
<p>numeric. Chroma coordinate corresponding to <code>h1</code>.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_c2">c2</code></td>
<td>
<p>numeric. Chroma coordinate corresponding to <code>h2</code> (if <code>NA</code>, set to 0).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_c3">c3</code></td>
<td>
<p>numeric. Chroma coordinate corresponding to <code>h3</code>.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_l1">l1</code></td>
<td>
<p>numeric. Luminance coordinate corresponding to <code>h1</code>.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_l2">l2</code></td>
<td>
<p>numeric. Luminance coordinate corresponding to <code>h2</code>.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_l3">l3</code></td>
<td>
<p>numeric. Luminance coordinate corresponding to <code>h3</code> (if <code>NA</code>, <code>l1</code> is used).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_p1">p1</code></td>
<td>
<p>numeric. Power parameter for chroma coordinates in first sequential palette.</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_p2">p2</code></td>
<td>
<p>numeric. Power parameter for luminance coordinates in first sequential palette (if <code>NA</code>, <code>p1</code> is used).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_p3">p3</code></td>
<td>
<p>numeric. Power parameter for chroma coordinates in second sequential palette (if <code>NA</code>, <code>p1</code> is used).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_p4">p4</code></td>
<td>
<p>numeric. Power parameter for luminance coordinates in second sequential palette (if <code>NA</code>, <code>p3</code> is used).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_cmax1">cmax1</code></td>
<td>
<p>numeric. Maximum chroma coordinate in first sequential palette (not used if <code>NA</code>).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_cmax2">cmax2</code></td>
<td>
<p>numeric. Maximum chroma coordinate in second sequential palette (if <code>NA</code>, <code>cmax1</code> is used).</p>
</td></tr>
<tr><td><code id="divergingx_hcl_+3A_plot">plot</code></td>
<td>
<p>logical. Should the selected HCL color palettes be visualized?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>divergingx_hcl</code> function simply calls <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>
twice with a prespecified set of hue, chroma, and luminance parameters. This is
similar to <code><a href="#topic+diverging_hcl">diverging_hcl</a></code> but allows for more flexibility:
<code>diverging_hcl</code> employs two <em>single-hue</em> sequential palettes,
always uses zero chroma for the neutral/central color, and restricts the
chroma/luminance path to be the same in both &ldquo;arms&rdquo; of the palette.
In contrast, <code>divergingx_hcl</code> relaxes this to two full <em>multi-hue</em>
palettes that can thus go through a non-gray neutral color (typically light
yellow). Consequently, the chroma/luminance paths can be rather unbalanced
between the two arms.
</p>
<p>With this additional flexibility various diverging palettes suggested by
<a href="https://ColorBrewer2.org/">https://ColorBrewer2.org/</a> and CARTO (<a href="https://carto.com/carto-colors/">https://carto.com/carto-colors/</a>),
can be emulated along with the Zissou 1 palette from <span class="pkg">wesanderson</span>,
Cividis from <span class="pkg">viridis</span>, and Roma from <span class="pkg">scico</span>.
</p>
<p>Available CARTO palettes: ArmyRose, Earth, Fall, Geyser, TealRose, Temps, and
Tropic (with Tropic also available in <code>diverging_hcl</code>).
</p>
<p>Available ColorBrewer.org palettes: PuOr, RdBu, RdGy, PiYG, PRGn, BrBG, RdYlBu,
RdYlGn, Spectral.
</p>


<h3>Value</h3>

<p>A character vector with (s)RGB codings of the colors in the palette.
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sequential_hcl">sequential_hcl</a></code>, <code><a href="#topic+diverging_hcl">diverging_hcl</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## show emulated CARTO/ColorBrewer.org palettes
divergingx_palettes(plot = TRUE)

## compared to diverging_hcl() the diverging CARTO palettes are typically warmer
## but also less balanced with respect to chroma/luminance, see e.g.,
specplot(divergingx_hcl(7, "ArmyRose"))
</code></pre>

<hr>
<h2 id='hcl_color_picker'>Graphical User Interface to Pick Colors in HCL Space</h2><span id='topic+hcl_color_picker'></span><span id='topic+choose_color'></span><span id='topic+hclcolorpicker'></span>

<h3>Description</h3>

<p>The app visualizes colors either along the hue-chroma plane for a given luminance value or along the
luminance-chroma plane for a given hue. Colors can be entered by specifying the hue (H), chroma (C),
and luminance (L) values via sliders, by entering an RGB hex code, or by clicking on a color in the
hue-chroma or luminance-chroma plane. It is also possible to select individual colors and add them
to a palette for comparison and future reference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hcl_color_picker(shiny.trace = FALSE)

choose_color(shiny.trace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hcl_color_picker_+3A_shiny.trace">shiny.trace</code></td>
<td>
<p>logical: used for debugging the shiny interface.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>choose_color</code> is a convenience alias for <code>hcl_color_picker</code> to
go along with <code><a href="#topic+choose_palette">choose_palette</a></code>. Another alias is <code>hclcolorpicker</code>.
</p>


<h3>Value</h3>

<p><code>hclcolorpicker</code> invisibly returns a vector of colors choosen.
If no colors have been selected <code>NULL</code> will be returned.
</p>


<h3>Author(s)</h3>

<p>Claus O. Wilke, Reto Stauffer, Achim Zeileis
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+choose_palette">choose_palette</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hcl_color_picker()

## End(Not run)
</code></pre>

<hr>
<h2 id='hcl_palettes'>HCL Color Palettes</h2><span id='topic+hcl_palettes'></span><span id='topic+print.hcl_palettes'></span><span id='topic+summary.hcl_palettes'></span><span id='topic+plot.hcl_palettes'></span><span id='topic+qualitative_hcl'></span><span id='topic+sequential_hcl'></span><span id='topic+diverging_hcl'></span><span id='topic+diverge_hcl'></span>

<h3>Description</h3>

<p>Qualitative, sequential (single-hue and multi-hue), and diverging
color palettes based on the HCL (hue-chroma-luminance) color model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hcl_palettes(type = NULL, palette = NULL, plot = FALSE, n = 5L, ...)

## S3 method for class 'hcl_palettes'
print(x, ...)

## S3 method for class 'hcl_palettes'
summary(object, ...)

## S3 method for class 'hcl_palettes'
plot(x, n = 5L, fixup = TRUE, off = NULL, border = NULL, ...)

qualitative_hcl(
  n,
  h = c(0, 360 * (n - 1)/n),
  c = 80,
  l = 60,
  fixup = TRUE,
  alpha = 1,
  palette = NULL,
  rev = FALSE,
  register = "",
  ...,
  h1,
  h2,
  c1,
  l1
)

sequential_hcl(
  n,
  h = 260,
  c = 80,
  l = c(30, 90),
  power = 1.5,
  gamma = NULL,
  fixup = TRUE,
  alpha = 1,
  palette = NULL,
  rev = FALSE,
  register = "",
  ...,
  h1,
  h2,
  c1,
  c2,
  l1,
  l2,
  p1,
  p2,
  cmax,
  c.
)

diverging_hcl(
  n,
  h = c(260, 0),
  c = 80,
  l = c(30, 90),
  power = 1.5,
  gamma = NULL,
  fixup = TRUE,
  alpha = 1,
  palette = NULL,
  rev = FALSE,
  register = "",
  ...,
  h1,
  h2,
  c1,
  l1,
  l2,
  p1,
  p2,
  cmax
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hcl_palettes_+3A_type">type</code></td>
<td>
<p>character indicating type of HCL palette.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_palette">palette</code></td>
<td>
<p>character. Name of HCL color palette.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_plot">plot</code></td>
<td>
<p>logical. Should the selected HCL color palettes be visualized?</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_n">n</code></td>
<td>
<p>the number of colors (<code class="reqn">\ge 1</code>) to be in the palette.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="#topic+hex">hex</a></code>.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_x">x</code>, <code id="hcl_palettes_+3A_object">object</code></td>
<td>
<p>A <code>hcl_palettes</code> object.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_fixup">fixup</code></td>
<td>
<p>logical. Should the color be corrected to a valid RGB value?</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_off">off</code></td>
<td>
<p>numeric. Vector of length 2 indicating horizontal and vertical
offsets between the color rectangles displayed.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_border">border</code></td>
<td>
<p>character. Color of rectangle borders.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_h">h</code>, <code id="hcl_palettes_+3A_h1">h1</code>, <code id="hcl_palettes_+3A_h2">h2</code></td>
<td>
<p>hue value in the HCL color description, has to be in [0, 360].</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_c">c</code>, <code id="hcl_palettes_+3A_c.">c.</code>, <code id="hcl_palettes_+3A_c1">c1</code>, <code id="hcl_palettes_+3A_c2">c2</code></td>
<td>
<p>chroma value in the HCL color description.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_l">l</code>, <code id="hcl_palettes_+3A_l1">l1</code>, <code id="hcl_palettes_+3A_l2">l2</code></td>
<td>
<p>luminance value in the HCL color description.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector of values in the range <code>[0, 1]</code> for alpha
transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_rev">rev</code></td>
<td>
<p>logical. Should the color palette vector be returned in reverse order?</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_register">register</code></td>
<td>
<p>character. If set to a non-empty character string, the corresponding
palette is registered with that name for subsequent use (within the same session).</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_power">power</code>, <code id="hcl_palettes_+3A_p1">p1</code>, <code id="hcl_palettes_+3A_p2">p2</code></td>
<td>
<p>control parameter determining how chroma and luminance should
be increased (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_gamma">gamma</code></td>
<td>
<p>Deprecated.</p>
</td></tr>
<tr><td><code id="hcl_palettes_+3A_cmax">cmax</code></td>
<td>
<p>Maximum chroma value in the HCL color description.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The HCL (hue-chroma-luminance) color model is a perceptual color model
obtained by using polar coordinates in CIE <code><a href="#topic+LUV">LUV</a></code> space
(i.e., <code><a href="#topic+polarLUV">polarLUV</a></code>), where steps of equal size correspond to
approximately equal perceptual changes in color. By taking polar coordinates
the resulting three dimensions capture the three perceptual axes very well:
hue is the type of color, chroma the colorfulness compared
to the corresponding gray, and luminance the brightness. This makes it relatively
easy to create balanced palettes through trajectories in this HCL space.
In contrast, in the more commonly-used <code><a href="#topic+HSV">HSV</a></code> (hue-saturation-value)
model (a simple transformation of <code><a href="#topic+RGB">RGB</a></code>), the three axes are
confounded so that luminance changes along with the hue leading to very
unbalanced palettes (see <code><a href="#topic+rainbow_hcl">rainbow_hcl</a></code> for further illustrations).
</p>
<p>Three types of palettes are derived based on the HCL model: </p>

<ul>
<li><p> Qualitative: Designed for coding categorical information, i.e.,
where no particular ordering of categories is available and every color
should receive the same perceptual weight.
</p>
</li>
<li><p> Sequential: Designed for coding ordered/numeric information, i.e.,
where colors go from high to low (or vice versa).
</p>
</li>
<li><p> Diverging: Designed for coding numeric information around a central
neutral value, i.e., where colors diverge from neutral to two extremes.
</p>
</li></ul>

<p>The corresponding functions are <code>qualitative_hcl</code>, <code>sequential_hcl</code>,
and <code>diverging_hcl</code>. Their construction principles are explained in more detail below.
At the core is the luminance axis (i.e., light-dark contrasts):
These are easily decoded by humans and matched to high-low differences in the underlying
data. Therefore, <code>sequential_hcl</code> palettes are always based on a <em>monotonic</em>
luminance sequence whereas the colors in a <code>qualitative_hcl</code> palette all have the
<em>same</em> luminance. Finally, <code>diverging_hcl</code> palettes use the same monotonic
luminance sequence in both &ldquo;arms&rdquo; of the palette, i.e., correspond to
two balanced sequential palettes diverging from the same neutral value.
The other two axes, hue and chroma, are used to enhance the luminance information and/or
to further discriminate the color.
</p>
<p>All three palette functions specify trajectories in HCL space and hence need either
single values or intervals of the coordinates <code>h</code>, <code>c</code>, <code>l</code>. Their
interfaces are always designed such that <code>h</code>, <code>c</code>, <code>l</code> can take vector
arguments (as needed) but alternatively or additionally <code>h1</code>/<code>h2</code>,
<code>c1</code>/<code>c2</code>/<code>cmax</code>, and <code>l1</code>/<code>l2</code> can be specified. If so,
the latter coordinates overwrite the former.
</p>
<p><code>qualitative_hcl</code> distinguishes the underlying categories by a sequence of
hues while keeping both chroma and luminance constant to give each color in the
resulting palette the same perceptual weight. Thus, <code>h</code> should be a pair of
hues (or equivalently <code>h1</code> and <code>h2</code> can be used) with the starting and
ending hue of the palette. Then, an equidistant sequence between these hues is
employed, by default spanning the full color wheel (i.e, the full 360 degrees).
Chroma <code>c</code> (or equivalently <code>c1</code>) and luminance <code>l</code> (or equivalently
<code>l1</code>) are constants.
</p>
<p><code>sequential_hcl</code> codes the underlying numeric values by a monotonic sequence
of increasing (or decreasing) luminance. Thus, the <code>l</code> argument should provide
a vector of length 2 with starting and ending luminance (equivalently, <code>l1</code> and
<code>l2</code> can be used). Without chroma (i.e., <code>c = 0</code>), this simply corresponds
to a grayscale palette like <code><a href="grDevices.html#topic+gray.colors">gray.colors</a></code>. For adding chroma, a simple
strategy would be to pick a single hue (via <code>h</code> or <code>h1</code>) and then decrease
chroma from some value (<code>c</code> or <code>c1</code>) to zero (i.e., gray) along with
increasing luminance. For bringing out the extremes (a dark high-chroma color vs.
a light gray) this is already very effective. For distinguishing also colors in the
middle two strategies can be employed: (a) Hue can be varied as well by specifying an
interval of hues in <code>h</code> (or beginning hue <code>h1</code> and ending hue <code>h2</code>).
(b) Instead of a decreasing chroma a triangular chroma trajectory can be employed
from <code>c1</code> over <code>cmax</code> to <code>c2</code> (or equivalently a vector <code>c</code> of
length 3). This yields high-chroma colors in the middle of the palette that are
more easily distinguished from the dark and light extremes. Finally, instead of
employing linear trajectories, power transformations are supported in chroma and
luminance via a vector <code>power</code> (or separate <code>p1</code> and <code>p2</code>). If
<code>power[2]</code> (or <code>p2</code>) for the luminance trajectory is missing, it defaults
to <code>power[1]</code>/<code>p1</code> from the chroma trajectory.
</p>
<p><code>diverging_hcl</code> codes the underlying numeric values by a triangular luminance
sequence with different hues in the left and in the right arm of the palette. Thus,
it can be seen as a combination of two sequential palettes with some restrictions:
(a) a single hue is used for each arm of the palette, (b) chroma and luminance trajectory
are balanced between the two arms, (c) the neutral central value has zero chroma.
To specify such a palette a vector of two hues <code>h</code> (or equivalently <code>h1</code>
and <code>h2</code>), either a single chroma value <code>c</code> (or <code>c1</code>) or a vector
of two chroma values <code>c</code> (or <code>c1</code> and <code>cmax</code>), a vector of two
luminances <code>l</code> (or <code>l1</code> and <code>l2</code>), and power parameter(s) <code>power</code>
(or <code>p1</code> and <code>p2</code>) are used. For more flexible diverging palettes without
the restrictrictions above (and consequently more parameters)
<code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code> is available. For backward compatibility, <code>diverge_hcl</code>
is a copy of <code>diverging_hcl</code>.
</p>
<p>To facilitate using HCL-based palettes a wide range of example palettes are
provided in the package and can be specified by a name instead of a set of
parameters/coordinates. The examples have been taken from the literature and many
approximate color palettes from other software packages such as ColorBrewer.org
(<span class="pkg">RColorBrewer</span>), CARTO colors (<span class="pkg">rcartocolor</span>), <span class="pkg">scico</span>, or <span class="pkg">virids</span>. The
function <code>hcl_palettes</code> can be used to query the available pre-specified palettes. It
comes with a <code>print</code> method (listing names and types), a <code>summary</code> method
(additionally listing the underlying parameters/coordinates), and a <code>plot</code>
method that creates a <code><a href="#topic+swatchplot">swatchplot</a></code> with suitable labels.
</p>


<h3>Value</h3>

<p><code>qualitative_hcl</code>, <code>sequential_hcl</code>, <code>diverging_hcl</code> return
a vector of <code>n</code> color strings (hex codes).
</p>
<p>The function <code>hcl_palettes</code> returns a data frame of class <code>"hcl_palettes"</code>
where each row contains information about one of the requested palettes (name, type,
HCL trajectory coordinates). Suitable <code>print</code>, <code>summary</code>, and <code>plot</code>
methods are available.
</p>


<h3>References</h3>

<p>Zeileis A, Hornik K, Murrell P (2009).  Escaping RGBland:
Selecting Colors for Statistical Graphics.  <em>Computational Statistics &amp;
Data Analysis</em>, <b>53</b>, 3259&ndash;3270.
<a href="https://doi.org/10.1016/j.csda.2008.11.033">doi:10.1016/j.csda.2008.11.033</a>
Preprint available from
<a href="https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf">https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf</a>.
</p>
<p>Stauffer R, Mayr GJ, Dabernig M, Zeileis A (2015).  Somewhere Over the
Rainbow: How to Make Effective Use of Colors in Meteorological
Visualizations.  <em>Bulletin of the American Meteorological Society</em>,
<b>96</b>(2), 203&ndash;216.
<a href="https://doi.org/10.1175/BAMS-D-13-00155.1">doi:10.1175/BAMS-D-13-00155.1</a>
</p>
<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## overview of all _named_ HCL palettes
hcl_palettes()

## visualize
hcl_palettes("qualitative", plot = TRUE)
hcl_palettes("sequential (single-hue)", n = 7, plot = TRUE)
hcl_palettes("sequential (multi-hue)", n = 7, plot = TRUE)
hcl_palettes("diverging", n = 7, plot = TRUE)

## inspect a specific palette
## (upper-case, spaces, etc. are ignored for matching)
hcl_palettes(palette = "Dark 2")
hcl_palettes(palette = "dark2")

## set up actual colors
qualitative_hcl(4, h = c(0, 288), c = 50, l = 60) ## by hand
qualitative_hcl(4, palette = "dark2")             ## by name
qualitative_hcl(4, palette = "dark2", c = 80)     ## by name plus modification

## how HCL palettes are constructed:
## by varying the perceptual properties via hue/chroma/luminance
swatchplot(
  "Hue"       = sequential_hcl(5, h = c(0, 300), c = c(60, 60), l = 65),
  "Chroma"    = sequential_hcl(5, h = 0, c = c(100, 0), l = 65, rev = TRUE, power = 1),
  "Luminance" = sequential_hcl(5, h = 260, c = c(25, 25), l = c(25, 90), rev = TRUE, power = 1),
  off = 0
)

## for qualitative palettes luminance and chroma are fixed, varying only hue
hclplot(qualitative_hcl(9, c = 50, l = 70))

## single-hue sequential palette (h = 260) with linear vs. power-transformed trajectory
hclplot(sequential_hcl(7, h = 260, c = 80, l = c(35, 95), power = 1))
hclplot(sequential_hcl(7, h = 260, c = 80, l = c(35, 95), power = 1.5))

## advanced single-hue sequential palette with triangular chroma trajectory
## (piecewise linear vs. power-transformed)
hclplot(sequential_hcl(7, h = 245, c = c(40, 75, 0), l = c(30, 95), power = 1))
hclplot(sequential_hcl(7, h = 245, c = c(40, 75, 0), l = c(30, 95), power = c(0.8, 1.4)))

## multi-hue sequential palette with small hue range and triangular chroma vs.
## large hue range and linear chroma trajectory
hclplot(sequential_hcl(7, h = c(260, 220), c = c(50, 75, 0), l = c(30, 95), power = 1))
hclplot(sequential_hcl(7, h = c(260, 60), c = 60, l = c(40, 95), power = 1))

## balanced diverging palette constructed from two simple single-hue sequential
## palettes (for hues 260/blue and 0/red)
hclplot(diverging_hcl(7, h = c(260, 0), c = 80, l = c(35, 95), power = 1))

## to register a particular adapted palette for re-use in the same session
## with a new name the register=... argument can be used once, e.g.,
diverging_hcl(7, palette = "Tropic", h2 = 0, register = "mytropic")

## subsequently palete="mytropic" is available in diverging_hcl() and the diverging
## ggplot2 scales such as scale_color_continuous_diverging() etc.
demoplot(diverging_hcl(11, "mytropic"), type = "map")

## to register this palette in all R sessions you could place the following
## code in a startup script (e.g., .Rprofile):
## colorspace::diverging_hcl(7, palette = "Tropic", h2 = 0, register = "mytropic")

</code></pre>

<hr>
<h2 id='hclplot'>Palette Plot in HCL Space</h2><span id='topic+hclplot'></span>

<h3>Description</h3>

<p>Visualization of color palettes in HCL space projections.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hclplot(
  x,
  type = NULL,
  h = NULL,
  c = NULL,
  l = NULL,
  xlab = NULL,
  ylab = NULL,
  main = NULL,
  cex = 1,
  axes = TRUE,
  bg = "white",
  lwd = 1,
  size = 2.5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hclplot_+3A_x">x</code></td>
<td>
<p>character vector containing color hex codes, or a <code><a href="#topic+color-class">color-class</a></code>
object.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_type">type</code></td>
<td>
<p>type character specifying which type of palette should be visualized
(<code>"qualitative"</code>, <code>"sequential"</code>, or <code>"diverging"</code>).
For qualitative palettes a hue-chroma plane is used, otherwise a chroma-luminance plane.
By default, the <code>type</code> is inferred from the luminance trajectory corresponding
to <code>x</code>.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_h">h</code></td>
<td>
<p>numeric hue(s) to be used for <code>type = "sequential"</code> and <code>type = "diverging"</code>.
By default, these are inferred from the colors in <code>x</code>.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_c">c</code></td>
<td>
<p>numeric. Maximal chroma value to be used.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_l">l</code></td>
<td>
<p>numeric luminance(s) to be used for <code>type = "qualitative"</code>.
By default, this is inferred from the colors in <code>x</code>.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_xlab">xlab</code>, <code id="hclplot_+3A_ylab">ylab</code>, <code id="hclplot_+3A_main">main</code></td>
<td>
<p>character strings for annotation, by default generated from
the type of color palette visualized.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_cex">cex</code></td>
<td>
<p>numeric character extension.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_axes">axes</code></td>
<td>
<p>logical. Should axes be drawn?</p>
</td></tr>
<tr><td><code id="hclplot_+3A_bg">bg</code>, <code id="hclplot_+3A_lwd">lwd</code>, <code id="hclplot_+3A_size">size</code></td>
<td>
<p>graphical control parameters for the color palette trajectory.</p>
</td></tr>
<tr><td><code id="hclplot_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>hclplot</code> is an auxiliary function for illustrating
the trajectories of color palettes in two-dimensional HCL space projections.
It collapses over one of the three coordinates (either the hue H or the
luminance L) and displays a heatmap of colors combining the remaining
two dimensions. The coordinates for the given color palette are highlighted
to bring out its trajectory.
</p>
<p>The function <code>hclplot</code> has been designed to work well with the
<code><a href="#topic+hcl_palettes">hcl_palettes</a></code> in this package. While it is possible to apply
it to other color palettes as well, the results might look weird or confusing
if these palettes are constructed very differently (e.g., as in the highly
saturated base R palettes).
</p>
<p>More specifically, the following palettes can be visualized well: </p>

<ul>
<li><p> Qualitative with (approximately) constant luminance. In this case,
<code>hclplot</code> shows a hue-chroma plane (in polar coordinates), keeping
luminance at a fixed level (by default displayed in the main title of
the plot). If the luminance is, in fact, not approximately constant,
the luminance varies along with hue and chroma, using a simple linear
function (fitted by least squares).
<code>hclplot</code> shows a chroma-luminance plane, keeping hue at a fixed
level (by default displayed in the main title of the plot). If the hue
is, in fact, not approximately constant, the hue varies along with
chroma and luminance, using a simple linear function (fitted by least
squares.
</p>
</li>
<li><p> Diverging with two (approximately) constant hues: This case is
visualized with two back-to-back sequential displays.
</p>
</li></ul>

<p>To infer the type of display to use, by default, the following heuristic is
used: If luminance is not approximately constant (range &gt; 10) and follows
rougly a triangular pattern, a diverging display is used. If luminance is
not constant and follows roughly a linear pattern, a sequential display is
used. Otherwise a qualitative display is used.
</p>


<h3>Value</h3>

<p><code>hclplot</code> invisibly returns a matrix with the HCL coordinates corresponding to <code>x</code>.
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+specplot">specplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## for qualitative palettes luminance and chroma are fixed, varying only hue
hclplot(qualitative_hcl(9, c = 50, l = 70))

## single-hue sequential palette (h = 260) with linear vs. power-transformed trajectory
hclplot(sequential_hcl(7, h = 260, c = 80, l = c(35, 95), power = 1))
hclplot(sequential_hcl(7, h = 260, c = 80, l = c(35, 95), power = 1.5))

## advanced single-hue sequential palette with triangular chroma trajectory
## (piecewise linear vs. power-transformed)
hclplot(sequential_hcl(7, h = 245, c = c(40, 75, 0), l = c(30, 95), power = 1))
hclplot(sequential_hcl(7, h = 245, c = c(40, 75, 0), l = c(30, 95), power = c(0.8, 1.4)))

## multi-hue sequential palette with small hue range and triangular chroma vs.
## large hue range and linear chroma trajectory
hclplot(sequential_hcl(7, h = c(260, 220), c = c(50, 75, 0), l = c(30, 95), power = 1))
hclplot(sequential_hcl(7, h = c(260, 60), c = 60, l = c(40, 95), power = 1))

## balanced diverging palette constructed from two simple single-hue sequential
## palettes (for hues 260/blue and 0/red)
hclplot(diverging_hcl(7, h = c(260, 0), c = 80, l = c(35, 95), power = 1))

</code></pre>

<hr>
<h2 id='hex'>Convert Colors to Hexadecimal Strings</h2><span id='topic+hex'></span>

<h3>Description</h3>

<p>This functions converts <code><a href="#topic+color-class">color-class</a></code> objects into hexadecimal strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hex(from, gamma = NULL, fixup = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hex_+3A_from">from</code></td>
<td>
<p>The color object to be converted.</p>
</td></tr>
<tr><td><code id="hex_+3A_gamma">gamma</code></td>
<td>
<p>Deprecated.</p>
</td></tr>
<tr><td><code id="hex_+3A_fixup">fixup</code></td>
<td>
<p>Should the color be corrected to a valid RGB value before
correction.  The default is to convert out-of-gamut colors to the string
<code>"NA"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The color objects are first converted to sRGB color objects.  They are then
multiplied by 255 and rounded to obtain an integer value.  These values are
then converted to hexadecimal strings of the form <code>"#RRGGBB"</code> and
suitable for use as color descriptions for R graphics.  Out of gamut values
are either corrected to valid RGB values by translating the the individual
primary values so that they lie between 0 and 255.
</p>


<h3>Value</h3>

<p>A vector of character strings.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hex2RGB">hex2RGB</a></code>, <code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+sRGB">sRGB</a></code>,
<code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+LAB">LAB</a></code>,
<code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hsv &lt;- HSV(seq(0, 360, length.out = 7)[-7], 1, 1)
hsv
hex(hsv)
barplot(rep(1,6), col = hex(hsv))
</code></pre>

<hr>
<h2 id='hex2RGB'>Convert Hexadecimal Color Specifications to sRGB Objects</h2><span id='topic+hex2RGB'></span>

<h3>Description</h3>

<p>This function takes a vector of strings of the form <code>"#RRGGBB"</code>
(hexadecimal color descriptions) into <code><a href="#topic+sRGB">sRGB</a></code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hex2RGB(x, gamma = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hex2RGB_+3A_x">x</code></td>
<td>
<p>a vector of hexadecimal color descriptions.</p>
</td></tr>
<tr><td><code id="hex2RGB_+3A_gamma">gamma</code></td>
<td>
<p>Whether to apply gamma-correction.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function converts device-dependent color descriptions of the form
<code>"#RRGGBB"</code> into sRGB color descriptions (linearized if <code>gamma</code> is
<code>TRUE</code>).  The alpha channel will be ignored if given
(<code>"#RRGGBBAA"</code>).
</p>


<h3>Value</h3>

<p>An sRGB object describing the colors.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hex">hex</a></code>, <code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+sRGB">sRGB</a></code>,
<code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>,
<code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hex2RGB(c("#FF0000","#00FF00", "#0000FF50"))
</code></pre>

<hr>
<h2 id='HLS'>Create HLS Colors</h2><span id='topic+HLS'></span>

<h3>Description</h3>

<p>This function creates colors of class HLS; a subclass of the virtual
<code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HLS(H, L, S, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HLS_+3A_h">H</code>, <code id="HLS_+3A_l">L</code>, <code id="HLS_+3A_s">S</code></td>
<td>
<p>These arguments give the hue, lightness, and saturation of the
colors. The values can be provided in separate <code>H</code>, <code>L</code> and
<code>S</code> vectors or in a three-column matrix passed as <code>H</code>.</p>
</td></tr>
<tr><td><code id="HLS_+3A_names">names</code></td>
<td>
<p>A vector of names for the colors (by default the row names of
<code>H</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates colors in an HLS color space.  The hues should
lie between between 0 and 360, and the lightness and saturations
should lie between 0 and 1.
</p>
<p>HLS is a relative color space; it is a transformation of an RGB color
space.  Conversion of HLS colors to any other color space must first
involve a conversion to a specific RGB color space, for example the
standard <code><a href="#topic+sRGB">sRGB</a></code> color space (IEC standard 61966).
</p>


<h3>Value</h3>

<p>An object of class <code>HLS</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sRGB">sRGB</a></code>, <code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+LAB">LAB</a></code>,
<code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A rainbow of full-intensity hues
HLS(seq(0, 360, length.out = 13)[-13], 0.5, 1)
</code></pre>

<hr>
<h2 id='HSV'>Create HSV Colors</h2><span id='topic+HSV'></span>

<h3>Description</h3>

<p>This function creates colors of class HSV; a subclass of the virtual
<code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HSV(H, S, V, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HSV_+3A_h">H</code>, <code id="HSV_+3A_s">S</code>, <code id="HSV_+3A_v">V</code></td>
<td>
<p>These arguments give the hue, saturation and value of the
colors. The values can be provided in separate <code>H</code>, <code>S</code> and
<code>V</code> vectors or in a three-column matrix passed as <code>H</code>.</p>
</td></tr>
<tr><td><code id="HSV_+3A_names">names</code></td>
<td>
<p>A vector of names for the colors (by default the row names of
<code>H</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates colors in an HSV color space.  The hues should
lie between between 0 and 360, and the saturations and values should
lie between 0 and 1.
</p>
<p>HSV is a relative color space; it is a transformation of an RGB color
space.  Conversion of HSV colors to any other color space must first
involve a conversion to a specific RGB color space, for example the
standard <code><a href="#topic+sRGB">sRGB</a></code> color space (IEC standard 61966).
</p>


<h3>Value</h3>

<p>An object of class <code>HSV</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sRGB">sRGB</a></code>, <code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+LAB">LAB</a></code>,
<code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A rainbow of full-intensity hues
HSV(seq(0, 360, length.out = 13)[-13], 1, 1)
</code></pre>

<hr>
<h2 id='LAB'>Create LAB Colors</h2><span id='topic+LAB'></span>

<h3>Description</h3>

<p>This function creates colors of class &ldquo;LAB&rdquo;; a subclass of the virtual
<code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LAB(L, A, B, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LAB_+3A_l">L</code>, <code id="LAB_+3A_a">A</code>, <code id="LAB_+3A_b">B</code></td>
<td>
<p>these arguments give the L, A and B coordinates of the colors.
The values can be provided in separate <code>L</code>, <code>A</code> and <code>B</code>
vectors or in a three-column matrix passed as <code>L</code>.</p>
</td></tr>
<tr><td><code id="LAB_+3A_names">names</code></td>
<td>
<p>a vector of names for the colors (by default the row names of
<code>L</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>L</code>, <code>A</code> and <code>B</code> values give the coordinates of the
colors in the CIE <code class="reqn">L^*a^*b^*</code> space.  This is a transformation
of the 1931 CIE XYZ space which attempts to produce perceptually based axes.
Luminance takes values between 0 and 100, and the other coordinates 
typically take values between -100 and 100, although these values can also
be exceeded by highly saturated colors. The <code class="reqn">a</code> and <code class="reqn">b</code> coordinates
measure positions on green/red and blue/yellow axes.
</p>


<h3>Value</h3>

<p>An object of class <code>LAB</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>,
<code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>,
<code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Show the LAB space
set.seed(1)
x &lt;- sRGB(runif(1000), runif(1000), runif(1000))
y &lt;- as(x, "LAB")
head(x)
head(y)
plot(y)
</code></pre>

<hr>
<h2 id='lighten'>Algorithmically Lighten or Darken Colors</h2><span id='topic+lighten'></span><span id='topic+darken'></span>

<h3>Description</h3>

<p>The functions <code>lighten</code> and <code>darken</code> take a vector of R colors and adjust the colors such that
they appear lightened or darkened, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lighten(
  col,
  amount = 0.1,
  method = c("relative", "absolute"),
  space = c("HCL", "HLS", "combined"),
  fixup = TRUE
)

darken(col, amount = 0.1, space = "combined", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lighten_+3A_col">col</code></td>
<td>
<p>vector of any of the three kind of R colors, i.e., either a color
name (an element of <code><a href="grDevices.html#topic+colors">colors</a></code>), a hexadecimal string
of the form <code>"#rrggbb"</code> or <code>"#rrggbbaa"</code> (see
<code><a href="grDevices.html#topic+rgb">rgb</a></code>), or an integer <code>i</code> meaning
<code>palette()[i]</code>.</p>
</td></tr>
<tr><td><code id="lighten_+3A_amount">amount</code></td>
<td>
<p>numeric specifying the amount of lightening. This is applied either
multiplicatively or additively to the luminance value, depending on the
setting of <code>method</code> (either relative or absolute). Negative numbers
cause darkening.</p>
</td></tr>
<tr><td><code id="lighten_+3A_method">method</code></td>
<td>
<p>character string specifying the adjustment method. Can be either <code>"relative"</code> or <code>"absolute"</code>.</p>
</td></tr>
<tr><td><code id="lighten_+3A_space">space</code></td>
<td>
<p>character string specifying the color space in which adjustment happens. Can be either <code>"HLS"</code> or <code>"HCL"</code>.</p>
</td></tr>
<tr><td><code id="lighten_+3A_fixup">fixup</code></td>
<td>
<p>logical If set to <code>TRUE</code>, colors that fall outside of the RGB color gamut are slightly modified
by translating individual primary values so they lie between 0 and 255. If set to <code>FALSE</code>, out-of-gamut colors
are replaced by <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lighten_+3A_...">...</code></td>
<td>
<p>Other parameters handed to the function <code>lighten()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The color adjustment can be calculated in three different color spaces. </p>

<ol>
<li><p> If <code>space = "HCL"</code>, the colors are transformed to HCL, (<code><a href="#topic+polarLUV">polarLUV</a></code>),
the luminance component L is adjusted, and then the colors are transformed back to a hexadecimal
RGB string.
</p>
</li>
<li><p> If <code>space = "HLS"</code>, the colors are transformed to HLS, the lightness component L is adjusted,
and then the color is transformed back to a hexadecimal RGB string.
</p>
</li>
<li><p> If <code>space = "combined"</code>, the colors are first adjusted in both the HCL and HLS spaces. Then,
the adjusted HLS colors are converted into HCL, and then the chroma components of the adjusted HLS
colors are copied to the adjusted HCL colors. Thus, in effect, the combined model adjusts luminance
in HCL space but chroma in HLS space.
</p>
</li></ol>

<p>We have found that typically <code>space = "HCL"</code> performs best for lightening colors and <code>space = "combined"</code>
performs best for darkening colors, and these are the default settings for <code>lighten</code> and <code>darken</code>,
respectively.
</p>
<p>Regardless of the chosen color space, the adjustment of the L component can occur by two methods, relative
(the default) and absolute. Under the absolute method, the adjustment is <code>L +/- 100 * amount</code> when
lightening/darkening colors. Under the relative method, the adjustment is <code>100 - (100 - L) * (1 - amount)</code> when
lightening colors and <code>L * (1 - amount)</code> when darkening colors. 
</p>
<p>Programmatically lightening and darkening colors can yield unexpected results (see examples). In HCL space,
colors can become either too gray or overly colorful. By contrast, in HLS space it can happen that the
overall amount of lightening or darkening appears to be non-uniform among a group of colors that are 
lightened or darkened jointly, and again, colors can become either too gray or overly colorful. We
recommend to try different color spaces if the default space for the chosen function (<code>lighten</code> 
or <code>darken</code>) does not look right in a specific application.
</p>


<h3>Value</h3>

<p>A character vector with (s)RGB codings of the colors in the palette.
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+polarLUV">polarLUV</a></code>, <code><a href="#topic+hex">hex</a></code>, <code><a href="#topic+desaturate">desaturate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># lighten dark colors, example 1
cl &lt;- qualitative_hcl(5)
swatchplot(list(
  HCL = rbind("0%" = cl,
              "15%" = lighten(cl, 0.15),
              "30%" = lighten(cl, 0.3)),
  HLS = rbind("0%" = cl,
              "15%" = lighten(cl, 0.15, space = "HLS"),
              "30%" = lighten(cl, 0.3, space = "HLS")),
  combined = rbind("0%" = cl,
              "15%" = lighten(cl, 0.15, space = "combined"),
              "30%" = lighten(cl, 0.3, space = "combined"))),
  nrow = 4, line = 2.5
)

# lighten dark colors, example 2
cl &lt;- c("#61A9D9", "#ADD668", "#E6D152", "#CE6BAF", "#797CBA")
swatchplot(list(
  HCL = rbind("0%" = cl,
              "15%" = lighten(cl, 0.15),
              "30%" = lighten(cl, 0.3)),
  HLS = rbind("0%" = cl,
              "15%" = lighten(cl, 0.15, space = "HLS"),
              "30%" = lighten(cl, 0.3, space = "HLS")),
  combined = rbind("0%" = cl,
              "15%" = lighten(cl, 0.15, space = "combined"),
              "30%" = lighten(cl, 0.3, space = "combined"))),
  nrow = 4, line = 2.5
)

# darken light colors, example 1
cl &lt;- qualitative_hcl(5, "Pastel 1")
swatchplot(list(
  combined = rbind("0%" = cl,
              "15%" = darken(cl, 0.15),
              "30%" = darken(cl, 0.3)),
  HCL = rbind("0%" = cl,
              "15%" = darken(cl, 0.15, space = "HCL"),
              "30%" = darken(cl, 0.3, space = "HCL")),
  HLS = rbind("0%" = cl,
              "15%" = darken(cl, 0.15, space = "HLS"),
              "30%" = darken(cl, 0.3, space = "HLS"))),
  nrow = 4, line = 2.5
)

# darken light colors, example 2 
cl &lt;- c("#CDE4F3","#E7F3D3","#F7F0C7","#EFCFE5","#D0D1E7")
swatchplot(list(
  combined = rbind("0%" = cl,
              "15%" = darken(cl, 0.15),
              "30%" = darken(cl, 0.3)),
  HCL = rbind("0%" = cl,
              "15%" = darken(cl, 0.15, space = "HCL"),
              "30%" = darken(cl, 0.3, space = "HCL")),
  HLS = rbind("0%" = cl,
              "15%" = darken(cl, 0.15, space = "HLS"),
              "30%" = darken(cl, 0.3, space = "HLS"))),
  nrow = 4, line = 2.5
)
</code></pre>

<hr>
<h2 id='LUV'>Create LUV Colors</h2><span id='topic+LUV'></span>

<h3>Description</h3>

<p>This function creates colors of class &ldquo;LUV&rdquo;; a subclass of the virtual
<code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LUV(L, U, V, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LUV_+3A_l">L</code>, <code id="LUV_+3A_u">U</code>, <code id="LUV_+3A_v">V</code></td>
<td>
<p>these arguments give the L, U and V coordinates of the colors.
The values can be provided in separate <code>L</code>, <code>U</code> and <code>V</code>
vectors or in a three-column matrix passed as <code>L</code>.</p>
</td></tr>
<tr><td><code id="LUV_+3A_names">names</code></td>
<td>
<p>a vector of names for the colors (by default the row names of
<code>L</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>L</code>, <code>U</code> and <code>V</code> values give the coordinates of the
colors in the CIE (1976) <code class="reqn">L^*u^*v^*</code> space.  This is a
transformation of the 1931 CIE XYZ space which attempts to produce
perceptually based axes.  Luminance takes values between 0 and 100, and the other coordinates 
typically take values between -100 and 100, although these values can also
be exceeded by highly saturated colors. The <code class="reqn">u</code> and <code class="reqn">v</code>
coordinates measure positions on green/red and blue/yellow axes.
</p>


<h3>Value</h3>

<p>An object of class <code>LUV</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>,
<code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Show the LUV space
set.seed(1)
x &lt;- sRGB(runif(1000), runif(1000), runif(1000))
y &lt;- as(x, "LUV")
head(x)
head(y)
plot(y)
</code></pre>

<hr>
<h2 id='max_chroma'>Compute Maximum Chroma for Given Hue and Luminance in HCL</h2><span id='topic+max_chroma'></span><span id='topic+max_chroma_table'></span>

<h3>Description</h3>

<p>Compute approximately the maximum chroma possible for a given hue and
luminance combination in the HCL color space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>max_chroma(h, l, floor = FALSE)

max_chroma_table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="max_chroma_+3A_h">h</code></td>
<td>
<p>hue value in the HCL color description, has to be in [0, 360].</p>
</td></tr>
<tr><td><code id="max_chroma_+3A_l">l</code></td>
<td>
<p>luminance value in the HCL color description, has to be in [0, 100].</p>
</td></tr>
<tr><td><code id="max_chroma_+3A_floor">floor</code></td>
<td>
<p>logical. Should the chroma value be rounded down to the next
lower integer?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As the possible combinations of chroma and luminance depend on hue, it is
not obvious which maximum chroma can be used for a given combination of hue
and luminance prior to calling <code><a href="#topic+polarLUV">polarLUV</a></code>. To avoid having to
<code>fixup</code> the color upon conversion to RGB <code><a href="#topic+hex">hex</a></code> codes, the
<code>max_chroma</code> function computes (approximately) the maximum chroma
possible. The computations are based on interpolations of pre-computed
maxima in <code>max_chroma_table</code>, containing the maximum chroma for a given
hue-luminance combination (both in integers). Hence, the result may sometimes
still be very slightly larger than the actual maximum which can be avoided
by taking the <code>floor</code> of the approximate value.
</p>


<h3>Value</h3>

<p>A numeric vector with the maximum chroma coordinates.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+polarLUV">polarLUV</a></code>, <code><a href="#topic+hex">hex</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>max_chroma(h = 0:36 * 10, l = 50)
max_chroma(h = 120, l = 0:10 * 10)
</code></pre>

<hr>
<h2 id='mixcolor'>Compute the Convex Combination of Two Colors</h2><span id='topic+mixcolor'></span>

<h3>Description</h3>

<p>This function can be used to compute the result of color mixing, assuming
additive mixing (e.g., as appropriate for RGB or XYZ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixcolor(alpha, color1, color2, where = class(color1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixcolor_+3A_alpha">alpha</code></td>
<td>
<p>The mixed color is obtained by combining an amount
<code>1 - alpha</code> of <code>color1</code> with an amount <code>alpha</code> of
<code>color2</code>.</p>
</td></tr>
<tr><td><code id="mixcolor_+3A_color1">color1</code></td>
<td>
<p>The first color.</p>
</td></tr>
<tr><td><code id="mixcolor_+3A_color2">color2</code></td>
<td>
<p>The second color.</p>
</td></tr>
<tr><td><code id="mixcolor_+3A_where">where</code></td>
<td>
<p>The color space where the mixing is to take place.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The mixed color.  This is in the color space specified by
<code>where</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>,
<code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>,
<code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mixcolor(0.5, sRGB(1, 0, 0), sRGB(0, 1, 0))
</code></pre>

<hr>
<h2 id='polarLAB'>Create polarLAB Colors</h2><span id='topic+polarLAB'></span>

<h3>Description</h3>

<p>This function creates colors of class &ldquo;polarLAB&rdquo;; a subclass of the
virtual <code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>polarLAB(L, C, H, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="polarLAB_+3A_l">L</code>, <code id="polarLAB_+3A_c">C</code>, <code id="polarLAB_+3A_h">H</code></td>
<td>
<p>these arguments give the L, C and H coordinates of the colors.
The values can be provided in separate <code>L</code>, <code>C</code> and <code>H</code>
vectors or in a three-column matrix passed as <code>L</code>.</p>
</td></tr>
<tr><td><code id="polarLAB_+3A_names">names</code></td>
<td>
<p>A vector of names for the colors (by default the row names of
<code>L</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The polarLAB space is a transformation of the CIE <code class="reqn">L^*a^*b^*</code>
space so that the <code class="reqn">a</code> and <code class="reqn">b</code> values are converted to polar
coordinates.  The radial component <code class="reqn">C</code> measures chroma and the angular
coordinate <code class="reqn">H</code> is measures hue.
</p>


<h3>Value</h3>

<p>An object of class <code>polarLAB</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>,
<code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>,
<code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Show the polarLAB space
set.seed(1)
x &lt;- sRGB(runif(1000), runif(1000), runif(1000))
y &lt;- as(x, "polarLAB")
head(x)
head(y)
plot(y)
</code></pre>

<hr>
<h2 id='polarLUV'>Create polarLUV (HCL) Colors</h2><span id='topic+polarLUV'></span><span id='topic+HCL'></span>

<h3>Description</h3>

<p>This function creates colors of class &ldquo;polarLUV&rdquo;; a subclass of the
virtual <code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>polarLUV(L, C, H, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="polarLUV_+3A_l">L</code>, <code id="polarLUV_+3A_c">C</code>, <code id="polarLUV_+3A_h">H</code></td>
<td>
<p>these arguments give the L, C and H coordinates of the colors.
The values can be provided in separate <code>L</code>, <code>C</code> and <code>H</code>
vectors or in a three-column matrix passed as <code>L</code>.</p>
</td></tr>
<tr><td><code id="polarLUV_+3A_names">names</code></td>
<td>
<p>A vector of names for the colors (by default the row names of
<code>L</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The polarLUV space is a transformation of the CIE <code class="reqn">L^*u^*v^*</code>
space so that the <code class="reqn">u</code> and <code class="reqn">v</code> values are converted to polar
coordinates.  The radial component <code class="reqn">C</code> measures chroma and the angular
coordinate <code class="reqn">H</code> is measures hue. It is also known as the HCL
(hue-chroma-luminance) space.
</p>


<h3>Value</h3>

<p>An object of class <code>polarLUV</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>,
<code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>,
<code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Show the polarLUV space
set.seed(1)
x &lt;- sRGB(runif(1000), runif(1000), runif(1000))
y &lt;- as(x, "polarLUV")
head(x)
head(y)
plot(y)
</code></pre>

<hr>
<h2 id='rainbow_hcl'>HCL (and HSV) Color Palettes Corresponding to Base R Palettes</h2><span id='topic+rainbow_hcl'></span><span id='topic+heat_hcl'></span><span id='topic+terrain_hcl'></span><span id='topic+diverging_hsv'></span><span id='topic+diverge_hsv'></span>

<h3>Description</h3>

<p>Color palettes based on the HCL (and HSV) color space to replace
base R palettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rainbow_hcl(
  n,
  c = 50,
  l = 70,
  start = 0,
  end = 360 * (n - 1)/n,
  gamma = NULL,
  fixup = TRUE,
  alpha = 1,
  ...
)

heat_hcl(
  n,
  h = c(0, 90),
  c. = c(100, 30),
  l = c(50, 90),
  power = c(1/5, 1),
  gamma = NULL,
  fixup = TRUE,
  alpha = 1,
  ...
)

terrain_hcl(
  n,
  h = c(130, 0),
  c. = c(80, 0),
  l = c(60, 95),
  power = c(1/10, 1),
  gamma = NULL,
  fixup = TRUE,
  alpha = 1,
  ...
)

diverging_hsv(
  n,
  h = c(240, 0),
  s = 1,
  v = 1,
  power = 1,
  gamma = NULL,
  fixup = TRUE,
  alpha = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rainbow_hcl_+3A_n">n</code></td>
<td>
<p>the number of colors (<code class="reqn">\ge 1</code>) to be in the palette.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_c">c</code>, <code id="rainbow_hcl_+3A_c.">c.</code></td>
<td>
<p>chroma value in the HCL color description.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_l">l</code></td>
<td>
<p>luminance value in the HCL color description.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_start">start</code></td>
<td>
<p>the hue at which the rainbow begins.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_end">end</code></td>
<td>
<p>the hue at which the rainbow ends.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_gamma">gamma</code></td>
<td>
<p>Deprecated.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_fixup">fixup</code></td>
<td>
<p>logical. Should the color be corrected to a valid RGB value
before correction?</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector of values in the range <code>[0, 1]</code> for alpha
transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="#topic+hex">hex</a></code>.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_h">h</code></td>
<td>
<p>hue value in the HCL or HSV color description, has to be in [0, 360]
for HCL and in [0, 1] for HSV colors.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_power">power</code></td>
<td>
<p>control parameter determining how chroma and luminance should
be increased (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_s">s</code></td>
<td>
<p>saturation value in the HSV color description.</p>
</td></tr>
<tr><td><code id="rainbow_hcl_+3A_v">v</code></td>
<td>
<p>value value in the HSV color description.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Based on the general qualitative, sequential, and diverging <code><a href="#topic+hcl_palettes">hcl_palettes</a></code>
within the colorspace package, convenience functions are provided as
alternatives to standard base R palettes (which are highly saturated
and too flashy).
</p>
<p><code>rainbow_hcl</code> computes a rainbow of colors via <code><a href="#topic+qualitative_hcl">qualitative_hcl</a></code>
defined by different hues given a single value of each chroma and luminance.
It corresponds to <code><a href="grDevices.html#topic+rainbow">rainbow</a></code> which computes a rainbow in HSV
space.
</p>
<p><code>heat_hcl</code> is an implementation of <code><a href="grDevices.html#topic+heat.colors">heat.colors</a></code> in
HCL space based on a call to <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>. Similarly,
<code>terrain_hcl</code> palette also calls <code>sequential_hcl</code> with different
parameters, providing colors similar in spirit to <code>terrain.colors</code>
in HCL space.
</p>
<p><code>diverging_hsv</code> (and equivalently its alias <code>diverge_hsv</code>)
provides an HSV-based version of <code><a href="#topic+diverging_hcl">diverging_hcl</a></code>. Its purpose
is mainly didactic to show that HSV-based diverging palettes are less
appealing, more difficult to read and more flashy than HCL-based diverging
palettes. <code>diverging_hsv</code> is similar to <code><a href="grDevices.html#topic+cm.colors">cm.colors</a></code>.
</p>


<h3>Value</h3>

<p>A character vector with (s)RGB codings of the colors in the palette.
</p>


<h3>References</h3>

<p>Zeileis A, Hornik K, Murrell P (2009).  Escaping RGBland:
Selecting Colors for Statistical Graphics.  <em>Computational Statistics &amp;
Data Analysis</em>, <b>53</b>, 3259&ndash;3270.
<a href="https://doi.org/10.1016/j.csda.2008.11.033">doi:10.1016/j.csda.2008.11.033</a>
Preprint available from
<a href="https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf">https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf</a>.
</p>
<p>Stauffer R, Mayr GJ, Dabernig M, Zeileis A (2015).  Somewhere over the
Rainbow: How to Make Effective Use of Colors in Meteorological
Visualizations.  <em>Bulletin of the American Meteorological Society</em>,
<b>96</b>(2), 203&ndash;216.
<a href="https://doi.org/10.1175/BAMS-D-13-00155.1">doi:10.1175/BAMS-D-13-00155.1</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+polarLUV">polarLUV</a></code>, <code><a href="#topic+HSV">HSV</a></code>,
<code><a href="#topic+hex">hex</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## convenience demo function
wheel &lt;- function(col, radius = 1, ...)
  pie(rep(1, length(col)), col = col, radius = radius, ...) 

## compare base and colorspace palettes
## (in color and desaturated)
par(mar = rep(0, 4), mfrow = c(2, 2))
## rainbow color wheel
wheel(rainbow_hcl(12))
wheel(rainbow(12))
wheel(desaturate(rainbow_hcl(12)))
wheel(desaturate(rainbow(12)))

## diverging red-blue colors
swatchplot(
  diverging_hsv(7),
  desaturate(diverging_hsv(7)),
  diverging_hcl(7, c = 100, l = c(50, 90)),
  desaturate(diverging_hcl(7, c = 100, l = c(50, 90))),
  nrow = 2
)

## diverging cyan-magenta colors
swatchplot(
  cm.colors(7),
  desaturate(cm.colors(7)),
  diverging_hcl(7, "Cyan-Magenta"), ## or, similarly: Tropic
  desaturate(diverging_hcl(7, "Cyan-Magenta")),
  nrow = 2
)

## heat colors
swatchplot(
  heat.colors(12),
  desaturate(heat.colors(12)),
  heat_hcl(12),
  desaturate(heat_hcl(12)),
  nrow = 2
)

## terrain colors
swatchplot(
  terrain.colors(12),
  desaturate(terrain.colors(12)),
  terrain_hcl(12),
  desaturate(terrain_hcl(12)),
  nrow = 2
)
</code></pre>

<hr>
<h2 id='readhex'>Read Hexadecimal Color Descriptions</h2><span id='topic+readhex'></span>

<h3>Description</h3>

<p>This function reads a set of hexadecimal color descriptions from a file and
creates a color object containing the corresponding colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readhex(file = "", class = "RGB")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readhex_+3A_file">file</code></td>
<td>
<p>The file containing the color descriptions.</p>
</td></tr>
<tr><td><code id="readhex_+3A_class">class</code></td>
<td>
<p>The kind of color object to be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The file is assumed to contain hexadecimal color descriptions of the form
<code>#RRGGBB</code>.
</p>


<h3>Value</h3>

<p>An color object of the specified class containing the color
descriptions.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+writehex">writehex</a></code>, <code><a href="#topic+readRGB">readRGB</a></code>,
<code><a href="#topic+hex2RGB">hex2RGB</a></code>, <code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>,
<code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>,
<code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rgb &lt;- readhex("pastel.txt")
hsv &lt;- readhex("pastel.txt", "HSV")

## End(Not run)
</code></pre>

<hr>
<h2 id='readRGB'>Read RGB Color Descriptions</h2><span id='topic+readRGB'></span>

<h3>Description</h3>

<p>This function reads a set of RGB color descriptions (of the form written by
<code>gcolorsel</code>) from a file and creates a color object containing the
corresponding colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readRGB(file, class = "RGB")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readRGB_+3A_file">file</code></td>
<td>
<p>The file containing the color descriptions.</p>
</td></tr>
<tr><td><code id="readRGB_+3A_class">class</code></td>
<td>
<p>The kind of color object to be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The file is assumed to contain RGB color descriptions consisting of three
integer values in the range from 0 to 255 followed by a color name.
</p>


<h3>Value</h3>

<p>An color object of the specified class containing the color
descriptions.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+writehex">writehex</a></code>, <code><a href="#topic+readhex">readhex</a></code>,
<code><a href="#topic+hex2RGB">hex2RGB</a></code>, <code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>,
<code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>,
<code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rgb &lt;- readRGB("pastel.rgb")
hsv &lt;- readRGB("pastel.rgb", "HSV")

## End(Not run)
</code></pre>

<hr>
<h2 id='RGB'>Create RGB Colors</h2><span id='topic+RGB'></span>

<h3>Description</h3>

<p>This function creates colors of class RGB; a subclass of the virtual
<code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RGB(R, G, B, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RGB_+3A_r">R</code>, <code id="RGB_+3A_g">G</code>, <code id="RGB_+3A_b">B</code></td>
<td>
<p>these arguments give the red, green and blue intensities of the
colors (the values should lie between 0 and 1).  The values can be provided
in separate <code>R</code>, <code>G</code> and <code>B</code> vectors or in a three-column
matrix passed as <code>R</code>.</p>
</td></tr>
<tr><td><code id="RGB_+3A_names">names</code></td>
<td>
<p>A vector of names for the colors (by default the row names of
<code>R</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates colors in the linearized sRGB color space (IEC
standard 61966).
</p>


<h3>Value</h3>

<p>An object of class <code>RGB</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sRGB">sRGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>,
<code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>,
<code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a random set of colors
set.seed(1)
RGB(R = runif(20), G = runif(20), B = runif(20))
</code></pre>

<hr>
<h2 id='scale_colour_binned_diverging'>HCL-Based Binned Diverging Color Scales for ggplot2</h2><span id='topic+scale_colour_binned_diverging'></span><span id='topic+scale_color_binned_diverging'></span><span id='topic+scale_fill_binned_diverging'></span>

<h3>Description</h3>

<p>Binned ggplot2 color scales using the color palettes generated by <code><a href="#topic+diverging_hcl">diverging_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_binned_diverging(
  palette = NULL,
  c1 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "coloursteps",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_color_binned_diverging(
  palette = NULL,
  c1 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "coloursteps",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_fill_binned_diverging(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_binned_diverging_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "diverging")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_c1">c1</code></td>
<td>
<p>Chroma value at the scale endpoints.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_cmax">cmax</code></td>
<td>
<p>Maximum chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_l1">l1</code></td>
<td>
<p>Luminance value at the scale endpoints.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_l2">l2</code></td>
<td>
<p>Luminance value at the scale midpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_h1">h1</code></td>
<td>
<p>Hue value at the first endpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_h2">h2</code></td>
<td>
<p>Hue value at the second endpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_p1">p1</code></td>
<td>
<p>Control parameter determining how chroma should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_p2">p2</code></td>
<td>
<p>Control parameter determining how luminance should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_mid">mid</code></td>
<td>
<p>Data value that should be mapped to the mid-point of the diverging color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"coloursteps"</code> for color bar with discrete steps.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the binned color scale.
It is important to use an odd number to capture the color at the midpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_diverging_+3A_...">...</code></td>
<td>
<p>common continuous scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+binned_scale">binned_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># adapted from stackoverflow: https://stackoverflow.com/a/20127706/4975218

library("ggplot2")

# generate dataset and base plot
set.seed(100)
df &lt;- data.frame(country = LETTERS, V = runif(26, -40, 40))
df$country = factor(LETTERS, LETTERS[order(df$V)]) # reorder factors
gg &lt;- ggplot(df, aes(x = country, y = V, fill = V)) +
  geom_bar(stat = "identity") +
  labs(y = "Under/over valuation in %", x = "Country") +
  coord_flip() + theme_minimal()
  
# plot with default diverging scale
gg + scale_fill_binned_diverging(n.breaks = 6)

# plot with alternative scale
gg + scale_fill_binned_diverging(palette = "Purple-Green", n.breaks = 6)
</code></pre>

<hr>
<h2 id='scale_colour_binned_divergingx'>HCL-Based Binned Flexible Diverging Scales for ggplot2</h2><span id='topic+scale_colour_binned_divergingx'></span><span id='topic+scale_color_binned_divergingx'></span><span id='topic+scale_fill_binned_divergingx'></span>

<h3>Description</h3>

<p>Binned ggplot2 color scales using the color palettes generated by <code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_binned_divergingx(
  palette = "Geyser",
  c1 = NULL,
  c2 = NULL,
  c3 = NULL,
  l1 = NULL,
  l2 = NULL,
  l3 = NULL,
  h1 = NULL,
  h2 = NULL,
  h3 = NULL,
  p1 = NULL,
  p2 = NULL,
  p3 = NULL,
  p4 = NULL,
  cmax1 = NULL,
  cmax2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "coloursteps",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_color_binned_divergingx(
  palette = "Geyser",
  c1 = NULL,
  c2 = NULL,
  c3 = NULL,
  l1 = NULL,
  l2 = NULL,
  l3 = NULL,
  h1 = NULL,
  h2 = NULL,
  h3 = NULL,
  p1 = NULL,
  p2 = NULL,
  p3 = NULL,
  p4 = NULL,
  cmax1 = NULL,
  cmax2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "coloursteps",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_fill_binned_divergingx(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_binned_divergingx_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_h1">h1</code>, <code id="scale_colour_binned_divergingx_+3A_h2">h2</code>, <code id="scale_colour_binned_divergingx_+3A_h3">h3</code>, <code id="scale_colour_binned_divergingx_+3A_c1">c1</code>, <code id="scale_colour_binned_divergingx_+3A_c2">c2</code>, <code id="scale_colour_binned_divergingx_+3A_c3">c3</code>, <code id="scale_colour_binned_divergingx_+3A_l1">l1</code>, <code id="scale_colour_binned_divergingx_+3A_l2">l2</code>, <code id="scale_colour_binned_divergingx_+3A_l3">l3</code>, <code id="scale_colour_binned_divergingx_+3A_p1">p1</code>, <code id="scale_colour_binned_divergingx_+3A_p2">p2</code>, <code id="scale_colour_binned_divergingx_+3A_p3">p3</code>, <code id="scale_colour_binned_divergingx_+3A_p4">p4</code>, <code id="scale_colour_binned_divergingx_+3A_cmax1">cmax1</code>, <code id="scale_colour_binned_divergingx_+3A_cmax2">cmax2</code></td>
<td>
<p>Parameters to customize the scale. See <code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code> for details.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_mid">mid</code></td>
<td>
<p>Data value that should be mapped to the mid-point of the diverging color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"coloursteps"</code> for color bar with discrete steps.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the binned color scale.
For diverging scales, it is important to use an odd number to capture the color at the midpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_divergingx_+3A_...">...</code></td>
<td>
<p>common binned scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+binned_scale">binned_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available CARTO palettes: ArmyRose, Earth, Fall, Geyser, TealRose, Temps, Tropic.
</p>
<p>Available ColorBrewer.org palettes: Spectral, PuOr, RdYlGn, RdYlBu, RdGy,
BrBG, PiYG, PRGn, RdBu.
</p>
<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# volcano plot (difference from mean height)
nx = 87
ny = 61
df &lt;- data.frame(diff = c(volcano) - mean(volcano), x = rep(1:nx, ny), y = rep(1:ny, each = nx))
ggplot(df, aes(x, y, fill=diff)) + 
  geom_raster() + scale_fill_binned_divergingx(palette = "Fall", rev = TRUE) +
  coord_fixed(expand = FALSE)


# adapted from stackoverflow: https://stackoverflow.com/a/20127706/4975218

# generate dataset and base plot
set.seed(100)
df &lt;- data.frame(country = LETTERS, V = runif(26, -40, 40))
df$country = factor(LETTERS, LETTERS[order(df$V)]) # reorder factors
gg &lt;- ggplot(df, aes(x = country, y = V, fill = V)) +
  geom_bar(stat = "identity") +
  labs(y = "Under/over valuation in %", x = "Country") +
  coord_flip() + theme_minimal()
  
# plot with diverging scale "Geyser"
gg + scale_fill_binned_divergingx(palette = "Geyser",  n.breaks = 6)
</code></pre>

<hr>
<h2 id='scale_colour_binned_qualitative'>HCL-Based Binned Qualitative Color Scales for ggplot2</h2><span id='topic+scale_colour_binned_qualitative'></span><span id='topic+scale_color_binned_qualitative'></span><span id='topic+scale_fill_binned_qualitative'></span>

<h3>Description</h3>

<p>Binned ggplot2 color scales using the color palettes generated by <code><a href="#topic+qualitative_hcl">qualitative_hcl</a></code>. These scales are provided
for completeness. It is not normally a good idea to color a continuous, binned variable using a qualitative scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_binned_qualitative(
  palette = NULL,
  c1 = NULL,
  l1 = NULL,
  h1 = NULL,
  h2 = NULL,
  alpha = 1,
  rev = FALSE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "coloursteps",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_color_binned_qualitative(
  palette = NULL,
  c1 = NULL,
  l1 = NULL,
  h1 = NULL,
  h2 = NULL,
  alpha = 1,
  rev = FALSE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "coloursteps",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_fill_binned_qualitative(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_binned_qualitative_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "qualitative")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_c1">c1</code></td>
<td>
<p>Chroma value, used for all colors in the scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_l1">l1</code></td>
<td>
<p>Luminance value, used for all colors in the scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_h1">h1</code></td>
<td>
<p>Beginning hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_h2">h2</code></td>
<td>
<p>Ending hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_begin">begin</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the smallest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_end">end</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the largest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"coloursteps"</code> for color bar with discrete steps.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the binned color scale. 11 will work fine in most cases.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_qualitative_+3A_...">...</code></td>
<td>
<p>common binned scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+binned_scale">binned_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# none of these examples are necessarily good ideas
gg &lt;- ggplot(iris, aes(x = Species, y = Sepal.Width, color = Sepal.Length)) + 
  geom_jitter(width = 0.3) + theme_minimal()
  
gg + scale_color_binned_qualitative(palette = "Dynamic")
gg + scale_color_binned_qualitative(palette = "Dark3", l1 = 70)

nx = 87
ny = 61
df &lt;- data.frame(height = c(volcano), x = rep(1:nx, ny), y = rep(1:ny, each = nx))
ggplot(df, aes(x, y, fill=height)) + 
  geom_raster() + scale_fill_binned_qualitative(palette = "Dark 3") +
  coord_fixed(expand = FALSE)
</code></pre>

<hr>
<h2 id='scale_colour_binned_sequential'>HCL-Based Binned Sequential Color Scales for ggplot2</h2><span id='topic+scale_colour_binned_sequential'></span><span id='topic+scale_color_binned_sequential'></span><span id='topic+scale_fill_binned_sequential'></span>

<h3>Description</h3>

<p>Binned ggplot2 color scales using the color palettes generated by <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_binned_sequential(
  palette = NULL,
  c1 = NULL,
  c2 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = TRUE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "coloursteps",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_color_binned_sequential(
  palette = NULL,
  c1 = NULL,
  c2 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = TRUE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "coloursteps",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_fill_binned_sequential(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_binned_sequential_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "sequential")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_c1">c1</code></td>
<td>
<p>Beginning chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_c2">c2</code></td>
<td>
<p>Ending chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_cmax">cmax</code></td>
<td>
<p>Maximum chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_l1">l1</code></td>
<td>
<p>Beginning luminance value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_l2">l2</code></td>
<td>
<p>Ending luminance value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_h1">h1</code></td>
<td>
<p>Beginning hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_h2">h2</code></td>
<td>
<p>Ending hue value. If set to <code>NA</code>, generates a single-hue scale.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_p1">p1</code></td>
<td>
<p>Control parameter determining how chroma should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_p2">p2</code></td>
<td>
<p>Control parameter determining how luminance should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code> (default), reverses the order of the colors in the color scale (compared to <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>).</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_begin">begin</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the smallest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_end">end</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the largest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"coloursteps"</code> for color bar with discrete steps.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the binned color scale. 11 will work fine in most cases.</p>
</td></tr>
<tr><td><code id="scale_colour_binned_sequential_+3A_...">...</code></td>
<td>
<p>common binned scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+binned_scale">binned_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>
<p>Compared to <code><a href="#topic+sequential_hcl">sequential_hcl</a></code> the ordering of the colors in the sequential ggplot2 scale
are reversed by default (i.e., <code>rev = TRUE</code>) to be more consistent with ggplot2's own scales such as
<code><a href="ggplot2.html#topic+scale_color_fermenter">scale_color_fermenter</a></code>. For most named palettes this leads to darker and more
colorful colors for larger values on the scale. This is typically the better default on light/white
backgrounds.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# volcano plot
df &lt;- data.frame(height = c(volcano), x = c(row(volcano)), y = c(col(volcano)))
ggplot(df, aes(x, y, fill = height)) + 
  geom_raster() + scale_fill_binned_sequential(palette = "Terrain", rev = FALSE) +
  coord_fixed(expand = FALSE)
</code></pre>

<hr>
<h2 id='scale_colour_continuous_diverging'>HCL-Based Continuous Diverging Color Scales for ggplot2</h2><span id='topic+scale_colour_continuous_diverging'></span><span id='topic+scale_color_continuous_diverging'></span><span id='topic+scale_fill_continuous_diverging'></span>

<h3>Description</h3>

<p>Continuous ggplot2 color scales using the color palettes generated by <code><a href="#topic+diverging_hcl">diverging_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_continuous_diverging(
  palette = NULL,
  c1 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "colourbar",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_color_continuous_diverging(
  palette = NULL,
  c1 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "colourbar",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_fill_continuous_diverging(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_continuous_diverging_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "diverging")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_c1">c1</code></td>
<td>
<p>Chroma value at the scale endpoints.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_cmax">cmax</code></td>
<td>
<p>Maximum chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_l1">l1</code></td>
<td>
<p>Luminance value at the scale endpoints.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_l2">l2</code></td>
<td>
<p>Luminance value at the scale midpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_h1">h1</code></td>
<td>
<p>Hue value at the first endpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_h2">h2</code></td>
<td>
<p>Hue value at the second endpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_p1">p1</code></td>
<td>
<p>Control parameter determining how chroma should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_p2">p2</code></td>
<td>
<p>Control parameter determining how luminance should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_mid">mid</code></td>
<td>
<p>Data value that should be mapped to the mid-point of the diverging color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"colourbar"</code> for continuous color bar.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the continuous color scale.
It is important to use an odd number to capture the color at the midpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_diverging_+3A_...">...</code></td>
<td>
<p>common continuous scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># adapted from stackoverflow: https://stackoverflow.com/a/20127706/4975218

library("ggplot2")

# generate dataset and base plot
set.seed(100)
df &lt;- data.frame(country = LETTERS, V = runif(26, -40, 40))
df$country = factor(LETTERS, LETTERS[order(df$V)]) # reorder factors
gg &lt;- ggplot(df, aes(x = country, y = V, fill = V)) +
  geom_bar(stat = "identity") +
  labs(y = "Under/over valuation in %", x = "Country") +
  coord_flip() + theme_minimal()
  
# plot with default diverging scale
gg + scale_fill_continuous_diverging()

# plot with alternative scale
gg + scale_fill_continuous_diverging(palette = "Purple-Green")

# plot with modified alternative scale
gg + scale_fill_continuous_diverging(palette = "Blue-Red 3", l1 = 30, l2 = 100, p1 = .9, p2 = 1.2)
</code></pre>

<hr>
<h2 id='scale_colour_continuous_divergingx'>HCL-Based Continuous Flexible Diverging Scales for ggplot2</h2><span id='topic+scale_colour_continuous_divergingx'></span><span id='topic+scale_color_continuous_divergingx'></span><span id='topic+scale_fill_continuous_divergingx'></span>

<h3>Description</h3>

<p>Continuous ggplot2 color scales using the color palettes generated by <code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_continuous_divergingx(
  palette = "Geyser",
  c1 = NULL,
  c2 = NULL,
  c3 = NULL,
  l1 = NULL,
  l2 = NULL,
  l3 = NULL,
  h1 = NULL,
  h2 = NULL,
  h3 = NULL,
  p1 = NULL,
  p2 = NULL,
  p3 = NULL,
  p4 = NULL,
  cmax1 = NULL,
  cmax2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "colourbar",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_color_continuous_divergingx(
  palette = "Geyser",
  c1 = NULL,
  c2 = NULL,
  c3 = NULL,
  l1 = NULL,
  l2 = NULL,
  l3 = NULL,
  h1 = NULL,
  h2 = NULL,
  h3 = NULL,
  p1 = NULL,
  p2 = NULL,
  p3 = NULL,
  p4 = NULL,
  cmax1 = NULL,
  cmax2 = NULL,
  alpha = 1,
  rev = FALSE,
  mid = 0,
  na.value = "grey50",
  guide = "colourbar",
  n_interp = 11,
  aesthetics = "colour",
  ...
)

scale_fill_continuous_divergingx(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_h1">h1</code>, <code id="scale_colour_continuous_divergingx_+3A_h2">h2</code>, <code id="scale_colour_continuous_divergingx_+3A_h3">h3</code>, <code id="scale_colour_continuous_divergingx_+3A_c1">c1</code>, <code id="scale_colour_continuous_divergingx_+3A_c2">c2</code>, <code id="scale_colour_continuous_divergingx_+3A_c3">c3</code>, <code id="scale_colour_continuous_divergingx_+3A_l1">l1</code>, <code id="scale_colour_continuous_divergingx_+3A_l2">l2</code>, <code id="scale_colour_continuous_divergingx_+3A_l3">l3</code>, <code id="scale_colour_continuous_divergingx_+3A_p1">p1</code>, <code id="scale_colour_continuous_divergingx_+3A_p2">p2</code>, <code id="scale_colour_continuous_divergingx_+3A_p3">p3</code>, <code id="scale_colour_continuous_divergingx_+3A_p4">p4</code>, <code id="scale_colour_continuous_divergingx_+3A_cmax1">cmax1</code>, <code id="scale_colour_continuous_divergingx_+3A_cmax2">cmax2</code></td>
<td>
<p>Parameters to customize the scale. See <code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code> for details.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_mid">mid</code></td>
<td>
<p>Data value that should be mapped to the mid-point of the diverging color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"colourbar"</code> for continuous color bar.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the continuous color scale.
For diverging scales, it is important to use an odd number to capture the color at the midpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_divergingx_+3A_...">...</code></td>
<td>
<p>common continuous scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available CARTO palettes: ArmyRose, Earth, Fall, Geyser, TealRose, Temps, Tropic.
</p>
<p>Available ColorBrewer.org palettes: Spectral, PuOr, RdYlGn, RdYlBu, RdGy,
BrBG, PiYG, PRGn, RdBu.
</p>
<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# volcano plot (difference from mean height)
nx = 87
ny = 61
df &lt;- data.frame(diff = c(volcano) - mean(volcano), x = rep(1:nx, ny), y = rep(1:ny, each = nx))
ggplot(df, aes(x, y, fill=diff)) + 
  geom_raster() + scale_fill_continuous_divergingx(palette = "Fall", rev = TRUE) +
  coord_fixed(expand = FALSE)


# adapted from stackoverflow: https://stackoverflow.com/a/20127706/4975218

# generate dataset and base plot
set.seed(100)
df &lt;- data.frame(country = LETTERS, V = runif(26, -40, 40))
df$country = factor(LETTERS, LETTERS[order(df$V)]) # reorder factors
gg &lt;- ggplot(df, aes(x = country, y = V, fill = V)) +
  geom_bar(stat = "identity") +
  labs(y = "Under/over valuation in %", x = "Country") +
  coord_flip() + theme_minimal()
  
# plot with diverging scale "Geyser"
gg + scale_fill_continuous_divergingx(palette = "Geyser")

# plot with diverging scale "ArmyRose"
gg + scale_fill_continuous_divergingx(palette = "ArmyRose")
</code></pre>

<hr>
<h2 id='scale_colour_continuous_qualitative'>HCL-Based Continuous Qualitative Color Scales for ggplot2</h2><span id='topic+scale_colour_continuous_qualitative'></span><span id='topic+scale_color_continuous_qualitative'></span><span id='topic+scale_fill_continuous_qualitative'></span>

<h3>Description</h3>

<p>Continuous ggplot2 color scales using the color palettes generated by <code><a href="#topic+qualitative_hcl">qualitative_hcl</a></code>. These scales are provided
for completeness. It is not normally a good idea to color a continuous variable using a qualitative scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_continuous_qualitative(
  palette = NULL,
  c1 = NULL,
  l1 = NULL,
  h1 = NULL,
  h2 = NULL,
  alpha = 1,
  rev = FALSE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "colourbar",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_color_continuous_qualitative(
  palette = NULL,
  c1 = NULL,
  l1 = NULL,
  h1 = NULL,
  h2 = NULL,
  alpha = 1,
  rev = FALSE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "colourbar",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_fill_continuous_qualitative(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "qualitative")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_c1">c1</code></td>
<td>
<p>Chroma value, used for all colors in the scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_l1">l1</code></td>
<td>
<p>Luminance value, used for all colors in the scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_h1">h1</code></td>
<td>
<p>Beginning hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_h2">h2</code></td>
<td>
<p>Ending hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_begin">begin</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the smallest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_end">end</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the largest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"colourbar"</code> for continuous color bar.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the continuous color scale. 11 will work fine in most cases.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_qualitative_+3A_...">...</code></td>
<td>
<p>common continuous scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# none of these examples are necessarily good ideas
gg &lt;- ggplot(iris, aes(x = Species, y = Sepal.Width, color = Sepal.Length)) + 
  geom_jitter(width = 0.3) + theme_minimal()
  
gg + scale_color_continuous_qualitative(palette = "Warm")
gg + scale_color_continuous_qualitative(palette = "Cold", l1 = 60)
gg + scale_color_continuous_qualitative(palette = "Harmonic", rev = TRUE)

nx = 87
ny = 61
df &lt;- data.frame(height = c(volcano), x = rep(1:nx, ny), y = rep(1:ny, each = nx))
ggplot(df, aes(x, y, fill=height)) + 
  geom_raster() + scale_fill_continuous_qualitative(palette = "Dark 3") +
  coord_fixed(expand = FALSE)
</code></pre>

<hr>
<h2 id='scale_colour_continuous_sequential'>HCL-Based Continuous Sequential Color Scales for ggplot2</h2><span id='topic+scale_colour_continuous_sequential'></span><span id='topic+scale_color_continuous_sequential'></span><span id='topic+scale_fill_continuous_sequential'></span>

<h3>Description</h3>

<p>Continuous ggplot2 color scales using the color palettes generated by <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_continuous_sequential(
  palette = NULL,
  c1 = NULL,
  c2 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = TRUE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "colourbar",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_color_continuous_sequential(
  palette = NULL,
  c1 = NULL,
  c2 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = TRUE,
  begin = 0,
  end = 1,
  na.value = "grey50",
  guide = "colourbar",
  aesthetics = "colour",
  n_interp = 11,
  ...
)

scale_fill_continuous_sequential(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_continuous_sequential_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "sequential")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_c1">c1</code></td>
<td>
<p>Beginning chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_c2">c2</code></td>
<td>
<p>Ending chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_cmax">cmax</code></td>
<td>
<p>Maximum chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_l1">l1</code></td>
<td>
<p>Beginning luminance value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_l2">l2</code></td>
<td>
<p>Ending luminance value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_h1">h1</code></td>
<td>
<p>Beginning hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_h2">h2</code></td>
<td>
<p>Ending hue value. If set to <code>NA</code>, generates a single-hue scale.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_p1">p1</code></td>
<td>
<p>Control parameter determining how chroma should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_p2">p2</code></td>
<td>
<p>Control parameter determining how luminance should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code> (default), reverses the order of the colors in the color scale (compared to <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>).</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_begin">begin</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the smallest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_end">end</code></td>
<td>
<p>Number in the range of <code>[0, 1]</code> indicating to which point in the color scale the largest data value should be mapped.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_na.value">na.value</code></td>
<td>
<p>Color to be used for missing data points.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_guide">guide</code></td>
<td>
<p>Type of legend. Use <code>"colourbar"</code> for continuous color bar.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_n_interp">n_interp</code></td>
<td>
<p>Number of discrete colors that should be used to interpolate the continuous color scale. 11 will work fine in most cases.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_sequential_+3A_...">...</code></td>
<td>
<p>common continuous scale parameters: 'name', 'breaks', 'labels', and 'limits'. See
<code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>
<p>Compared to <code><a href="#topic+sequential_hcl">sequential_hcl</a></code> the ordering of the colors in the sequential ggplot2 scale
are reversed by default (i.e., <code>rev = TRUE</code>) to be more consistent with ggplot2's own scales such as
<code><a href="ggplot2.html#topic+scale_color_brewer">scale_color_brewer</a></code>. For most named palettes this leads to darker and more
colorful colors for larger values on the scale. This is typically the better default on light/white
backgrounds.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# base plot
gg &lt;- ggplot(iris, aes(x = Species, y = Sepal.Width, color = Sepal.Length)) + 
  geom_jitter(width = 0.3) + theme_minimal()

# default settings
gg + scale_color_continuous_sequential()

# switch palette and overwrite some default values
gg + scale_color_continuous_sequential(palette = "Reds", l1 = 20, c2 = 70, p1 = 1)

# select a range out of the entire palette
gg + scale_color_continuous_sequential(palette = "Heat", begin = 0.2, end = 0.8)

# volcano plot
df &lt;- data.frame(height = c(volcano), x = c(row(volcano)), y = c(col(volcano)))
ggplot(df, aes(x, y, fill = height)) + 
  geom_raster() + scale_fill_continuous_sequential(palette = "Terrain", rev = FALSE) +
  coord_fixed(expand = FALSE)
</code></pre>

<hr>
<h2 id='scale_colour_discrete_diverging'>HCL-Based Discrete Diverging Color Scales for ggplot2</h2><span id='topic+scale_colour_discrete_diverging'></span><span id='topic+scale_color_discrete_diverging'></span><span id='topic+scale_fill_discrete_diverging'></span>

<h3>Description</h3>

<p>Discrete ggplot2 color scales using the color palettes generated by <code><a href="#topic+diverging_hcl">diverging_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_discrete_diverging(
  palette = NULL,
  c1 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = FALSE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_color_discrete_diverging(
  palette = NULL,
  c1 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = FALSE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_fill_discrete_diverging(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_discrete_diverging_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "diverging")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_c1">c1</code></td>
<td>
<p>Chroma value at the scale endpoints.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_cmax">cmax</code></td>
<td>
<p>Maximum chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_l1">l1</code></td>
<td>
<p>Luminance value at the scale endpoints.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_l2">l2</code></td>
<td>
<p>Luminance value at the scale midpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_h1">h1</code></td>
<td>
<p>Hue value at the first endpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_h2">h2</code></td>
<td>
<p>Hue value at the second endpoint.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_p1">p1</code></td>
<td>
<p>Control parameter determining how chroma should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_p2">p2</code></td>
<td>
<p>Control parameter determining how luminance should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_nmax">nmax</code></td>
<td>
<p>Maximum number of different colors the palette should contain. If not provided, is calculated automatically
from the data.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_order">order</code></td>
<td>
<p>Numeric vector listing the order in which the colors should be used. Default is <code>1:nmax</code>.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_diverging_+3A_...">...</code></td>
<td>
<p>common discrete scale parameters: <code>name</code>, <code>breaks</code>, <code>labels</code>, <code>na.value</code>, <code>limits</code> and <code>guide</code>. See
<code><a href="ggplot2.html#topic+discrete_scale">discrete_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# default colors with slightly darkened midpoint
ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
  geom_point() + theme_minimal() + 
  scale_color_discrete_diverging(l2=75)

# color scale "Green-Orange"
ggplot(iris, aes(Sepal.Length, fill = Species)) +
  geom_density(alpha = 0.7) + theme_classic() +
    scale_fill_discrete_diverging(palette = "Green-Orange", rev = TRUE)
    
# use `nmax` and `order` to skip some colors
ggplot(iris, aes(Sepal.Length, fill = Species)) +
  geom_density(alpha = 0.7) + theme_classic() +
    scale_fill_discrete_diverging(palette = "Green-Orange", nmax = 5, order = c(1, 4, 5))
</code></pre>

<hr>
<h2 id='scale_colour_discrete_divergingx'>HCL-Based Discrete Flexible Diverging Scales for ggplot2</h2><span id='topic+scale_colour_discrete_divergingx'></span><span id='topic+scale_color_discrete_divergingx'></span><span id='topic+scale_fill_discrete_divergingx'></span>

<h3>Description</h3>

<p>Discrete ggplot2 color scales using the color palettes generated by <code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_discrete_divergingx(
  palette = "Geyser",
  c1 = NULL,
  c2 = NULL,
  c3 = NULL,
  l1 = NULL,
  l2 = NULL,
  l3 = NULL,
  h1 = NULL,
  h2 = NULL,
  h3 = NULL,
  p1 = NULL,
  p2 = NULL,
  p3 = NULL,
  p4 = NULL,
  cmax1 = NULL,
  cmax2 = NULL,
  alpha = 1,
  rev = FALSE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_color_discrete_divergingx(
  palette = "Geyser",
  c1 = NULL,
  c2 = NULL,
  c3 = NULL,
  l1 = NULL,
  l2 = NULL,
  l3 = NULL,
  h1 = NULL,
  h2 = NULL,
  h3 = NULL,
  p1 = NULL,
  p2 = NULL,
  p3 = NULL,
  p4 = NULL,
  cmax1 = NULL,
  cmax2 = NULL,
  alpha = 1,
  rev = FALSE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_fill_discrete_divergingx(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_h1">h1</code>, <code id="scale_colour_discrete_divergingx_+3A_h2">h2</code>, <code id="scale_colour_discrete_divergingx_+3A_h3">h3</code>, <code id="scale_colour_discrete_divergingx_+3A_c1">c1</code>, <code id="scale_colour_discrete_divergingx_+3A_c2">c2</code>, <code id="scale_colour_discrete_divergingx_+3A_c3">c3</code>, <code id="scale_colour_discrete_divergingx_+3A_l1">l1</code>, <code id="scale_colour_discrete_divergingx_+3A_l2">l2</code>, <code id="scale_colour_discrete_divergingx_+3A_l3">l3</code>, <code id="scale_colour_discrete_divergingx_+3A_p1">p1</code>, <code id="scale_colour_discrete_divergingx_+3A_p2">p2</code>, <code id="scale_colour_discrete_divergingx_+3A_p3">p3</code>, <code id="scale_colour_discrete_divergingx_+3A_p4">p4</code>, <code id="scale_colour_discrete_divergingx_+3A_cmax1">cmax1</code>, <code id="scale_colour_discrete_divergingx_+3A_cmax2">cmax2</code></td>
<td>
<p>Parameters to customize the scale. See <code><a href="#topic+divergingx_hcl">divergingx_hcl</a></code> for details.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_nmax">nmax</code></td>
<td>
<p>Maximum number of different colors the palette should contain. If not provided, is calculated automatically
from the data.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_order">order</code></td>
<td>
<p>Numeric vector listing the order in which the colors should be used. Default is <code>1:nmax</code>.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_divergingx_+3A_...">...</code></td>
<td>
<p>common discrete scale parameters: <code>name</code>, <code>breaks</code>, <code>labels</code>, <code>na.value</code>, <code>limits</code> and <code>guide</code>. See
<code><a href="ggplot2.html#topic+discrete_scale">discrete_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available CARTO palettes: ArmyRose, Earth, Fall, Geyser, TealRose, Temps, Tropic.
</p>
<p>Available ColorBrewer.org palettes: Spectral, PuOr, RdYlGn, RdYlBu, RdGy,
BrBG, PiYG, PRGn, RdBu.
</p>
<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# default color scale
ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
  geom_point() + theme_minimal() + 
  scale_color_discrete_divergingx()

# color scale "Tropic"
ggplot(iris, aes(Sepal.Length, fill = Species)) +
  geom_density(alpha = 0.7) + theme_classic() +
    scale_fill_discrete_divergingx(palette = "Tropic", rev = TRUE)
    
# use `nmax` and `order` to skip some colors
ggplot(iris, aes(Sepal.Length, fill = Species)) +
  geom_density(alpha = 0.7) + theme_classic() +
    scale_fill_discrete_divergingx(palette = "Tropic", nmax = 5, order = c(1, 4, 5))
</code></pre>

<hr>
<h2 id='scale_colour_discrete_qualitative'>HCL-Based Discrete Qualitative Color Scales for ggplot2</h2><span id='topic+scale_colour_discrete_qualitative'></span><span id='topic+scale_color_discrete_qualitative'></span><span id='topic+scale_fill_discrete_qualitative'></span>

<h3>Description</h3>

<p>Discrete ggplot2 color scales using the color palettes generated by <code><a href="#topic+qualitative_hcl">qualitative_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_discrete_qualitative(
  palette = NULL,
  c1 = NULL,
  l1 = NULL,
  h1 = NULL,
  h2 = NULL,
  alpha = 1,
  rev = FALSE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_color_discrete_qualitative(
  palette = NULL,
  c1 = NULL,
  l1 = NULL,
  h1 = NULL,
  h2 = NULL,
  alpha = 1,
  rev = FALSE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_fill_discrete_qualitative(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "qualitative")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_c1">c1</code></td>
<td>
<p>Chroma value, used for all colors in the scale.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_l1">l1</code></td>
<td>
<p>Luminance value, used for all colors in the scale.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_h1">h1</code></td>
<td>
<p>Beginning hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_h2">h2</code></td>
<td>
<p>Ending hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code>, reverses the order of the colors in the color scale.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_nmax">nmax</code></td>
<td>
<p>Maximum number of different colors the palette should contain. If not provided, is calculated automatically
from the data.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_order">order</code></td>
<td>
<p>Numeric vector listing the order in which the colors should be used. Default is <code>1:nmax</code>.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_qualitative_+3A_...">...</code></td>
<td>
<p>common discrete scale parameters: <code>name</code>, <code>breaks</code>, <code>labels</code>, <code>na.value</code>, <code>limits</code> and <code>guide</code>. See
<code><a href="ggplot2.html#topic+discrete_scale">discrete_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# default colors
ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
  geom_point() + theme_minimal() +
  scale_color_discrete_qualitative()
 
# color scale "Harmonic"
ggplot(iris, aes(Sepal.Length, fill = Species)) +
  geom_density(alpha = 0.7) + scale_fill_discrete_qualitative(palette = "Harmonic")
</code></pre>

<hr>
<h2 id='scale_colour_discrete_sequential'>HCL-Based Discrete Sequential Color Scales for ggplot2</h2><span id='topic+scale_colour_discrete_sequential'></span><span id='topic+scale_color_discrete_sequential'></span><span id='topic+scale_fill_discrete_sequential'></span>

<h3>Description</h3>

<p>Discrete ggplot2 color scales using the color palettes generated by <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_discrete_sequential(
  palette = NULL,
  c1 = NULL,
  c2 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = TRUE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_color_discrete_sequential(
  palette = NULL,
  c1 = NULL,
  c2 = NULL,
  cmax = NULL,
  l1 = NULL,
  l2 = NULL,
  h1 = NULL,
  h2 = NULL,
  p1 = NULL,
  p2 = NULL,
  alpha = 1,
  rev = TRUE,
  nmax = NULL,
  order = NULL,
  aesthetics = "colour",
  ...
)

scale_fill_discrete_sequential(..., aesthetics = "fill")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_colour_discrete_sequential_+3A_palette">palette</code></td>
<td>
<p>The name of the palette to be used. Run <code>hcl_palettes(type = "sequential")</code> for available options.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_c1">c1</code></td>
<td>
<p>Beginning chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_c2">c2</code></td>
<td>
<p>Ending chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_cmax">cmax</code></td>
<td>
<p>Maximum chroma value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_l1">l1</code></td>
<td>
<p>Beginning luminance value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_l2">l2</code></td>
<td>
<p>Ending luminance value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_h1">h1</code></td>
<td>
<p>Beginning hue value.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_h2">h2</code></td>
<td>
<p>Ending hue value. If set to <code>NA</code>, generates a single-hue scale.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_p1">p1</code></td>
<td>
<p>Control parameter determining how chroma should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_p2">p2</code></td>
<td>
<p>Control parameter determining how luminance should vary (1 = linear, 2 = quadratic, etc.).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector of values in the range <code>[0, 1]</code> for alpha transparency channel (0 means transparent and 1 means opaque).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_rev">rev</code></td>
<td>
<p>If <code>TRUE</code> (default), reverses the order of the colors in the color scale (compared to <code><a href="#topic+sequential_hcl">sequential_hcl</a></code>).</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_nmax">nmax</code></td>
<td>
<p>Maximum number of different colors the palette should contain. If not provided, is calculated automatically
from the data.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_order">order</code></td>
<td>
<p>Numeric vector listing the order in which the colors should be used. Default is <code>1:nmax</code>.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_aesthetics">aesthetics</code></td>
<td>
<p>The ggplot2 aesthetics to which this scale should be applied.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_sequential_+3A_...">...</code></td>
<td>
<p>common discrete scale parameters: <code>name</code>, <code>breaks</code>, <code>labels</code>, <code>na.value</code>, <code>limits</code> and <code>guide</code>. See
<code><a href="ggplot2.html#topic+discrete_scale">discrete_scale</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid palette name and palette parameters are provided then the provided palette parameters overwrite the parameters in the
named palette. This enables easy customization of named palettes.
</p>
<p>Compared to <code><a href="#topic+sequential_hcl">sequential_hcl</a></code> the ordering of the colors in the sequential ggplot2 scale
are reversed by default (i.e., <code>rev = TRUE</code>) to be more consistent with ggplot2's own scales such as
<code><a href="ggplot2.html#topic+scale_color_brewer">scale_color_brewer</a></code>. For most named palettes this leads to darker and more
colorful colors for larger values on the scale. This is typically the better default on light/white
backgrounds.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")

# default colors
ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
  geom_point() + scale_color_discrete_sequential() + theme_classic()

# customization of named palette  
ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
  geom_point() + scale_colour_discrete_sequential(palette = "Reds", nmax = 4, p2 = 1.5) +
  theme_classic()
 
# color scale "Terrain"
ggplot(iris, aes(Sepal.Length, fill = Species)) +
  geom_density(alpha = 0.7) + scale_fill_discrete_sequential(palette = "Terrain") + theme_minimal()
</code></pre>

<hr>
<h2 id='simulate_cvd'>Simulate Color Vision Deficiency</h2><span id='topic+simulate_cvd'></span><span id='topic+deutan'></span><span id='topic+protan'></span><span id='topic+tritan'></span><span id='topic+interpolate_cvd_transform'></span>

<h3>Description</h3>

<p>Transformation of R colors by simulating color vision deficiencies,
based on a CVD transform matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate_cvd(col, cvd_transform, linear = TRUE)

deutan(col, severity = 1, linear = TRUE)

protan(col, severity = 1, linear = TRUE)

tritan(col, severity = 1, linear = TRUE)

interpolate_cvd_transform(cvd, severity = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulate_cvd_+3A_col">col</code></td>
<td>
<p>vector of R colors. Can be any of the three kinds of R colors,
i.e., either a color name (an element of <code><a href="grDevices.html#topic+colors">colors</a></code>), a hexadecimal (hex)
string of the form <code>"#rrggbb"</code> or <code>"#rrggbbaa"</code> (see <code><a href="grDevices.html#topic+rgb">rgb</a></code>), or
an integer <code>i</code> meaning <code>palette()[i]</code>. Additionally, <code>col</code> can be
a formal <code><a href="#topic+color-class">color-class</a></code> object or a matrix with three named
rows (or columns) containing R/G/B (0-255) values.</p>
</td></tr>
<tr><td><code id="simulate_cvd_+3A_cvd_transform">cvd_transform</code></td>
<td>
<p>numeric 3x3 matrix, specifying the color vision deficiency transform matrix.</p>
</td></tr>
<tr><td><code id="simulate_cvd_+3A_linear">linear</code></td>
<td>
<p>logical. Should the color vision deficiency transformation be applied to the
linearized RGB coordinates (default)? If <code>FALSE</code>, the transformation is applied to the
gamma-corrected sRGB coordinates (which was the default up to version 2.0-3 of the package).</p>
</td></tr>
<tr><td><code id="simulate_cvd_+3A_severity">severity</code></td>
<td>
<p>numeric. Severity of the color vision defect, a number between 0 and 1.</p>
</td></tr>
<tr><td><code id="simulate_cvd_+3A_cvd">cvd</code></td>
<td>
<p>list of cvd transformation matrices. See <code><a href="#topic+cvd">cvd</a></code> for available options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using the physiologically-based model for simulating color vision deficiency (CVD)
of Machado et al. (2009), different kinds of limitations can be
emulated: deuteranope (green cone cells defective), protanope (red cone cells defective),
and tritanope (blue cone cells defective).
The workhorse function to do so is <code>simulate_cvd</code> which can take any vector
of valid R colors and transform them according to a certain CVD transformation
matrix (see <code><a href="#topic+cvd">cvd</a></code>) and transformation equation.
</p>
<p>The functions <code>deutan</code>, <code>protan</code>, and <code>tritan</code> are the high-level functions for
simulating the corresponding kind of colorblindness with a given severity.
Internally, they all call <code>simulate_cvd</code> along with a (possibly interpolated)
version of the matrices from <code><a href="#topic+cvd">cvd</a></code>. Matrix interpolation can be carried out with
the function <code>interpolate_cvd_transform</code> (see examples).
</p>
<p>If input <code>col</code> is a matrix with three rows named <code>R</code>, <code>G</code>, and
<code>B</code> (top down) they are interpreted as Red-Green-Blue values within the
range <code>[0-255]</code>. Then the CVD transformation is applied directly to these
coordinates avoiding any further conversions.
</p>
<p>Finally, if <code>col</code> is a formal <code><a href="#topic+color-class">color-class</a></code> object, then its
coordinates are transformed to (s)RGB coordinates, as described above, and returned as a formal
object of the same class after the color vision deficiency simulation.
</p>
<p>Up to version 2.0-3 of the package, the CVD transformations had been applied
directly to the gamma-corrected sRGB coordinates (corresponding to the hex coordinates
of the colors), following the illustrations of Machado et al. (2009). However,
the paper implicitly relies on a linear RGB space (see page 1294, column 1) where their
linear matrix transformations for simulating color vision deficiencies are applied.
Therefore, starting from version 2.1-0 of the package, a new argument <code>linear = TRUE</code>
has been added that first maps the provided colors to linearized RGB coordinates, applies
the color vision deficiency transformation, and then maps back to gamma-corrected sRGB
coordinates. Optionally, <code>linear = FALSE</code> can be used to restore the behavior
from previous versions. For most colors the difference between the two strategies is
negligible but for some highly-saturated colors it becomes more noticable, e.g., for
red, purple, or orange.
</p>


<h3>Value</h3>

<p>A color object as specified in the input <code>col</code> (hexadecimal string, RGB matrix,
or formal color class) with simulated color vision deficiency.
</p>


<h3>References</h3>

<p>Machado GM, Oliveira MM, Fernandes LAF (2009).
&ldquo;A Physiologically-Based Model for Simulation of Color Vision Deficiency.&rdquo;
<em>IEEE Transactions on Visualization and Computer Graphics</em>. <b>15</b>(6), 1291&ndash;1298.
<a href="https://doi.org/10.1109/TVCG.2009.113">doi:10.1109/TVCG.2009.113</a>
Online version with supplements at
<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html</a>.
</p>
<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49.
<a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cvd">cvd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simulate color-vision deficiency by calling `simulate_cvd` with specified matrix
simulate_cvd(c("#005000", "blue", "#00BB00"), tritanomaly_cvd["6"][[1]])

# simulate color-vision deficiency by calling the shortcut high-level function
tritan(c("#005000", "blue", "#00BB00"), severity = 0.6)

# simulate color-vision deficiency by calling `simulate_cvd` with interpolated cvd matrix
simulate_cvd(c("#005000", "blue", "#00BB00"),
             interpolate_cvd_transform(tritanomaly_cvd, severity = 0.6))

# apply CVD directly on wide RGB matrix (with R/G/B channels in rows)
RGB &lt;- diag(3) * 255
rownames(RGB) &lt;- c("R", "G", "B")
deutan(RGB)

</code></pre>

<hr>
<h2 id='specplot'>Color Spectrum Plot</h2><span id='topic+specplot'></span>

<h3>Description</h3>

<p>Visualization of color palettes (given as hex codes) in HCL and/or RGB
coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>specplot(
  x,
  y = NULL,
  rgb = FALSE,
  hcl = TRUE,
  fix = TRUE,
  cex = 1,
  type = "l",
  lwd = 2 * cex,
  lty = 1,
  pch = NULL,
  mar = NULL,
  oma = NULL,
  main = NULL,
  legend = TRUE,
  palette = TRUE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="specplot_+3A_x">x</code></td>
<td>
<p>character vector containing color hex codes.</p>
</td></tr>
<tr><td><code id="specplot_+3A_y">y</code></td>
<td>
<p>optional second character vector containing further color hex codes,
to be used for comparing two palettes (<code>x</code> vs. <code>y</code>).</p>
</td></tr>
<tr><td><code id="specplot_+3A_rgb">rgb</code></td>
<td>
<p>logical or color specification. Should the RGB spectrum be
visualized? Can also be a vector of three colors for the legend of R/G/B coordinates.</p>
</td></tr>
<tr><td><code id="specplot_+3A_hcl">hcl</code></td>
<td>
<p>logical or color specification. Should the HCL spectrum be
visualized? Can also be a vector of three colors for the legend of H/C/L coordinates.</p>
</td></tr>
<tr><td><code id="specplot_+3A_fix">fix</code></td>
<td>
<p>logical. Should the hues be fixed to be on a smooth(er) curve?
For details see below.</p>
</td></tr>
<tr><td><code id="specplot_+3A_cex">cex</code></td>
<td>
<p>numeric. Character extension for figure axes and labels.</p>
</td></tr>
<tr><td><code id="specplot_+3A_type">type</code>, <code id="specplot_+3A_lwd">lwd</code>, <code id="specplot_+3A_lty">lty</code>, <code id="specplot_+3A_pch">pch</code></td>
<td>
<p>plotting parameters passed to
<code><a href="graphics.html#topic+lines">lines</a></code> for drawing the RGB and HCL coordinates,
respectively. Can be vectors of length 3.</p>
</td></tr>
<tr><td><code id="specplot_+3A_mar">mar</code>, <code id="specplot_+3A_oma">oma</code></td>
<td>
<p>numeric or logical. Either numeric vectors of length 4 giving
the (outer) margins or a logical indicating whether <code>mar</code>/<code>oma</code>
should be set.</p>
</td></tr>
<tr><td><code id="specplot_+3A_main">main</code></td>
<td>
<p>character. Main title of the plot.</p>
</td></tr>
<tr><td><code id="specplot_+3A_legend">legend</code></td>
<td>
<p>logical. Should legends for the coordinates be plotted?</p>
</td></tr>
<tr><td><code id="specplot_+3A_palette">palette</code></td>
<td>
<p>logical. Should the given palette <code>x</code> be plotted?</p>
</td></tr>
<tr><td><code id="specplot_+3A_plot">plot</code></td>
<td>
<p>logical. Should the RGB and/or HCL coordinates be plotted?</p>
</td></tr>
<tr><td><code id="specplot_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>specplot</code> transforms a given color palette in hex codes
into their HCL (<code><a href="#topic+polarLUV">polarLUV</a></code>) and/or RGB
(<code><a href="#topic+sRGB">sRGB</a></code>) coordinates. As the hues for low-chroma
colors are not (or poorly) identified, by default a smoothing is applied to
the hues (<code>fix = TRUE</code>). Also, to avoid jumps from 0 to 360 or vice
versa, the hue coordinates are shifted suitably.
</p>
<p>By default (<code>plot = TRUE</code>), the resulting HCL and optionally RGB coordinates are
visualized by simple line plots along with the color palette <code>x</code>
itself. The x-axis simply gives the ordering of the colors in the palette
The y-axis depicts the following information: (1) Hue is drawn in red and
coordinates are indicated on the axis on the right with range [0, 360] or
(if necessary) [-360, 360]. (2) Chroma is drawn in green with coordinates on
the left axis. The range [0, 100] is used unless the palette necessitates
higher chroma values. (3) Luminance is drawn in blue with coordinates on the
left axis in the range [0, 100]. Luminance (and hence also chroma) is on
the left axis because it is arguably most important for understanding the
type of palette (qualitative vs. sequential vs. diverging). To facilitate
reading the legend the reversed order Luminance / Chroma / Hue is used so that
the legend labels are closer to the axis they pertain to.
</p>
<p>For comparing two palettes, <code>specplot(x, y)</code> can be used which adds
lines (dashed, by default) corresponding to the <code>y</code> palette HCL/RGB
coordinates in the display.
</p>


<h3>Value</h3>

<p><code>specplot</code> invisibly returns a list with components
</p>
<table>
<tr><td><code>HCL</code></td>
<td>
<p>a matrix of HCL coordinates,</p>
</td></tr>
<tr><td><code>RGB</code></td>
<td>
<p>a matrix of sRGB coordinates,</p>
</td></tr>
<tr><td><code>hex</code></td>
<td>
<p>original color palette <code>x</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Reto Stauffer, Achim Zeileis
</p>


<h3>References</h3>

<p>Zeileis A, Hornik K, Murrell P (2009).  Escaping RGBland:
Selecting Colors for Statistical Graphics.  <em>Computational Statistics &amp;
Data Analysis</em>, <b>53</b>, 3259&ndash;3270.
<a href="https://doi.org/10.1016/j.csda.2008.11.033">doi:10.1016/j.csda.2008.11.033</a>
Preprint available from
<a href="https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf">https://www.zeileis.org/papers/Zeileis+Hornik+Murrell-2009.pdf</a>.
</p>
<p>Stauffer R, Mayr GJ, Dabernig M, Zeileis A (2015).  Somewhere over the
Rainbow: How to Make Effective Use of Colors in Meteorological
Visualizations.  <em>Bulletin of the American Meteorological Society</em>,
<b>96</b>(2), 203&ndash;216.
<a href="https://doi.org/10.1175/BAMS-D-13-00155.1">doi:10.1175/BAMS-D-13-00155.1</a>
</p>
<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hcl_palettes">hcl_palettes</a></code>, <code><a href="#topic+hclplot">hclplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## spectrum of the (in)famous RGB rainbow palette (in both RGB and HCL)
specplot(rainbow(100), rgb = TRUE)

## spectrum of HCL-based palettes: qualitative/sequential/diverging
specplot(qualitative_hcl(100, "Set 2"))
specplot(sequential_hcl(100, "Blues 2"))
specplot(diverging_hcl(100, "Blue-Red"))

## return computed RGB and HCL coordinates
res &lt;- specplot(rainbow(10), plot = FALSE)
print(res)
</code></pre>

<hr>
<h2 id='sRGB'>Create sRGB Colors</h2><span id='topic+sRGB'></span>

<h3>Description</h3>

<p>This function creates colors of class sRGB; a subclass of the virtual
<code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sRGB(R, G, B, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sRGB_+3A_r">R</code>, <code id="sRGB_+3A_g">G</code>, <code id="sRGB_+3A_b">B</code></td>
<td>
<p>these arguments give the red, green and blue intensities of the
colors (the values should lie between 0 and 1).  The values can be provided
in separate <code>R</code>, <code>G</code> and <code>B</code> vectors or in a three-column
matrix passed as <code>R</code>.</p>
</td></tr>
<tr><td><code id="sRGB_+3A_names">names</code></td>
<td>
<p>A vector of names for the colors (by default the row names of
<code>R</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates colors in the standard sRGB color space (IEC standard
61966).
</p>


<h3>Value</h3>

<p>An object of class <code>sRGB</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+XYZ">XYZ</a></code>,
<code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>,
<code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a random set of colors
set.seed(1)
sRGB(R = runif(20), G = runif(20), B = runif(20))
</code></pre>

<hr>
<h2 id='swatchplot'>Palette Swatch Plot</h2><span id='topic+swatchplot'></span>

<h3>Description</h3>

<p>Visualization of color palettes in columns of color swatches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swatchplot(
  x,
  ...,
  nrow = 20,
  border = NULL,
  sborder = NULL,
  off = NULL,
  mar = NULL,
  line = NULL,
  cex = NULL,
  font = 1:2,
  cvd = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swatchplot_+3A_x">x</code></td>
<td>
<p>character vector/matrix (or list of character vectors/matrices)
containing color hex codes.</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_...">...</code></td>
<td>
<p>further (possibly named) character vectors/matrices with color
hex codes.</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_nrow">nrow</code></td>
<td>
<p>integer specifying the maximal number of rows of swatches.
(The actual number might be lower in order to balance the rows used in each column.)</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_border">border</code></td>
<td>
<p>color for border of individual color rectangles. By default
<code>"lightgray"</code> for up to 9 colors, <code>"transparent"</code> otherwise.</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_sborder">sborder</code></td>
<td>
<p>color for border of the entire palette swatch. By default
<code>"lightgray"</code> if <code>border</code> is <code>"transparent"</code> and <code>"lightgray"</code>
otherwise (if <code>off = 0</code>).</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_off">off</code></td>
<td>
<p>numeric vector of length 2. Offset in horizontal and vertical direction
(specified as a fraction of the rectangle for one color). By default, the
horizontal offset is <code>0.3</code> for up to 5 colors and <code>0</code> otherwise,
and the vertical offset is <code>0.1</code>.</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_mar">mar</code></td>
<td>
<p>numeric vector of length 4, specifying the margins of column
of color swatches.</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_line">line</code></td>
<td>
<p>numeric. Line in which the palette names (if any) are printed
in the margin.</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_cex">cex</code>, <code id="swatchplot_+3A_font">font</code></td>
<td>
<p>numeric vectors of length 1 or 2. Specifications for the
annotation text for the individual palettes and lists of palettes, respectively.</p>
</td></tr>
<tr><td><code id="swatchplot_+3A_cvd">cvd</code></td>
<td>
<p>logical or character indicating whether color vision deficiencies
should be emulated with <code><a href="#topic+desaturate">desaturate</a></code>, <code><a href="#topic+deutan">deutan</a></code>,
<code><a href="#topic+protan">protan</a></code>, <code><a href="#topic+tritan">tritan</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>swatchplot</code> is a convenience function for displaying
collections of palettes that can be specified as lists or matrices of
character color specifications. Essentially, the function just calls
<code><a href="graphics.html#topic+rect">rect</a></code> but the value-added are the heuristics used
for choosing default labels, margins, spacings, borders. These are selected
to work well for <code><a href="#topic+hcl_palettes">hcl_palettes</a></code> and might need further tweaking
in future versions.
</p>


<h3>Value</h3>

<p><code>swatchplot</code> invisibly returns a matrix with colors and annotations.
</p>


<h3>References</h3>

<p>Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020).
&ldquo;colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes.&rdquo;
<em>Journal of Statistical Software</em>, <b>96</b>(1), 1&ndash;49. <a href="https://doi.org/10.18637/jss.v096.i01">doi:10.18637/jss.v096.i01</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## swatches of several palette vectors
swatchplot(
  "Hue"       = sequential_hcl(5, h = c(0, 300), c = c(60, 60), l = 65),
  "Chroma"    = sequential_hcl(5, h = 0, c = c(100, 0), l = 65, rev = TRUE, power = 1),
  "Luminance" = sequential_hcl(5, h = 260, c = c(25, 25), l = c(25, 90), rev = TRUE, power = 1),
  off = 0
)

## swatches of named palette matrices
bprg &lt;- c("Blues", "Purples", "Reds", "Greens")
swatchplot(
  "Single-hue"            = t(sapply(paste(bprg, 2), sequential_hcl, n = 7)),
  "Single-hue (advanced)" = t(sapply(paste(bprg, 3), sequential_hcl, n = 7)),
  "Multi-hue (advanced)"  = t(sapply(bprg,           sequential_hcl, n = 7)),
  nrow = 5
)

## swatches with color vision deficiency emulation
swatchplot(sequential_hcl(7, "Viridis"), cvd = TRUE)
swatchplot(
  "YlGnBu"  = sequential_hcl(7, "YlGnBu"),
  "Viridis" = sequential_hcl(7, "Viridis"),
  cvd = c("deutan", "desaturate")
)
</code></pre>

<hr>
<h2 id='USSouthPolygon'>Polygon for County Map of US South States: Alabama, Georgia, and South
Carolina</h2><span id='topic+USSouthPolygon'></span>

<h3>Description</h3>

<p>County polygons for Alabama, Georgia, and South Carolina plus an artifical
variable used for coloring.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("USSouthPolygon")
</code></pre>


<h3>Format</h3>

<p>A data frame with coordinates of the vertices of the county polygons
(<code>x</code>, <code>y</code>) and an artificial variable <code>z</code> constructed for
illustrating colored maps.
</p>


<h3>Source</h3>

<p>Polygon data taken from <span class="pkg">maps</span> package of Becker, Wilks,
Brownrigg, and Minka (2012). Version 2.2-6.
<a href="https://CRAN.R-project.org/package=maps">https://CRAN.R-project.org/package=maps</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## generate color palette
pal &lt;- diverging_hcl(9)
n &lt;- length(pal)

## draw shaded polygons
plot(0, 0, type = "n", xlab = "", ylab = "", xaxt = "n", yaxt = "n", bty = "n",
  xlim = c(-88.5, -78.6), ylim = c(30.2, 35.2), asp = 1)
polygon(USSouthPolygon, col = pal[cut(na.omit(USSouthPolygon$z), breaks = 0:n/n)])
</code></pre>

<hr>
<h2 id='whitepoint'>Access or Modify the Whitepoint</h2><span id='topic+whitepoint'></span>

<h3>Description</h3>

<p>This function can be used to control the single global whitepoint
that affects all color conversions within the package (that require
a whitepoint, i.e., go through XYZ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>whitepoint(white, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="whitepoint_+3A_white">white</code>, <code id="whitepoint_+3A_...">...</code></td>
<td>
<p>Either missing (to query the whitepoint) or
<code>NULL</code> or a specification of the XYZ coordinates of the whitepoint
(to set the whitepoint, see examples). <code>NULL</code> corresponds to
CIE D65 with XYZ coordinates 95.047, 100.000, 108.883.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>whitepoint</code> returns an XYZ color object for the whitepoint
(invisibly in case a new whitepoint was set).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+XYZ">XYZ</a></code> and <a href="#topic+color-class">color-class</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># query current whitepoint (D65 by default)
whitepoint()

# Illuminant E 
whitepoint(XYZ(100, 100, 100))

# equivalently
whitepoint(100, 100, 100)
whitepoint(c(100, 100, 100))
whitepoint(cbind(100, 100, 100))

whitepoint()

## reset
whitepoint(NULL)
whitepoint()
</code></pre>

<hr>
<h2 id='writehex'>Write Hexadecimal Color Descriptions</h2><span id='topic+writehex'></span>

<h3>Description</h3>

<p>Given a color object, this function writes a file containing the hexadecimal
representation of the colors in the object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writehex(x, file = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="writehex_+3A_x">x</code></td>
<td>
<p>a color object.</p>
</td></tr>
<tr><td><code id="writehex_+3A_file">file</code></td>
<td>
<p>the name of the file to be written.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function converts the given color object to RGB and then writes
hexadecimal strings (of the form <code>#RRGGBB</code>) representing the colors to
the specified file.
</p>


<h3>Value</h3>

<p>The name of the file is returned as the value of the function.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readhex">readhex</a></code>, <code><a href="#topic+readRGB">readRGB</a></code>,
<code><a href="#topic+hex2RGB">hex2RGB</a></code>, <code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>,
<code><a href="#topic+XYZ">XYZ</a></code>, <code><a href="#topic+LAB">LAB</a></code>, <code><a href="#topic+polarLAB">polarLAB</a></code>,
<code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
x &lt;- sRGB(runif(10), runif(10), runif(10))
## IGNORE_RDIFF_BEGIN
writehex(x, file.path(tempdir(), "random.txt"))
## IGNORE_RDIFF_END
</code></pre>

<hr>
<h2 id='XYZ'>Create XYZ Colors</h2><span id='topic+XYZ'></span>

<h3>Description</h3>

<p>This function creates colors of class XYZ; a subclass of the virtual
<code><a href="#topic+color-class">color-class</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XYZ(X, Y, Z, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XYZ_+3A_x">X</code>, <code id="XYZ_+3A_y">Y</code>, <code id="XYZ_+3A_z">Z</code></td>
<td>
<p>these arguments give the X, Y and Z coordinates of the colors.
The values can be provided in separate <code>X</code>, <code>Y</code> and <code>Z</code>
vectors or in a three-column matrix passed as <code>X</code>.</p>
</td></tr>
<tr><td><code id="XYZ_+3A_names">names</code></td>
<td>
<p>A vector of names for the colors (by default the row names of
<code>X</code> are used).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The X, Y and Z values are the levels of the CIE primaries.  These are scaled
so that the luminance of the display white-point is 100.  The white-point is
taken to be D65, which means that its coordinates are 95.047, 100.000,
108.883.
</p>


<h3>Value</h3>

<p>An object of class <code>XYZ</code> which inherits from class <code>color</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Ihaka
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RGB">RGB</a></code>, <code><a href="#topic+HSV">HSV</a></code>, <code><a href="#topic+LAB">LAB</a></code>,
<code><a href="#topic+polarLAB">polarLAB</a></code>, <code><a href="#topic+LUV">LUV</a></code>, <code><a href="#topic+polarLUV">polarLUV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Generate white in XYZ space
XYZ(95.047, 100.000, 108.883)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

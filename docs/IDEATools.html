<!DOCTYPE html><html lang="en"><head><title>Help for package IDEATools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {IDEATools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#compute_idea'><p>Compute IDEA4 indicators and aggregation metrics</p></a></li>
<li><a href='#diag_idea'><p>Run a complete IDEA4 diagnosis</p></a></li>
<li><a href='#jsonify2'><p>Convert IDEA excel files to json, without output</p></a></li>
<li><a href='#old_idea'><p>Read &quot;old&quot; IDEA data files</p></a></li>
<li><a href='#plot_idea'><p>Plot IDEA4 results</p></a></li>
<li><a href='#read_idea'><p>Read IDEA4 items and metadata</p></a></li>
<li><a href='#runGUI'><p>Minimal Shiny app for IDEATools</p></a></li>
<li><a href='#show_decision_rules'><p>Show decision rules</p></a></li>
<li><a href='#show_tree_structure'><p>Show the reference table used for building colored trees</p></a></li>
<li><a href='#theme_idea'><p>IDEA ggplot2 theme</p></a></li>
<li><a href='#write_idea'><p>Write IDEA4 results and graphs to local disc</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Individual and Group Farm Sustainability Assessments using the
IDEA4 Method</td>
</tr>
<tr>
<td>Version:</td>
<td>3.5.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Collection of tools to automate the processing of data collected though the IDEA4 method (see Zahm et al. (2018) &lt;<a href="https://doi.org/10.1051%2Fcagri%2F2019004">doi:10.1051/cagri/2019004</a>&gt; ). Starting from the original data collecting files this packages provides functions to compute IDEA indicators, draw modern and aesthetic plots, and produce a wide range of reporting materials. </td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://davidcarayon.github.io/IDEATools/index.html">https://davidcarayon.github.io/IDEATools/index.html</a>,
<a href="https://github.com/davidcarayon/IDEATools">https://github.com/davidcarayon/IDEATools</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/davidcarayon/IDEATools/issues">https://github.com/davidcarayon/IDEATools/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, jsonlite, readxl, tibble, stringi, ggimage,
pdftools, ggpubr, ggplot2, rlang, ggtext, rmarkdown, shiny,
openxlsx</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-15 10:02:34 UTC; davidcarayon</td>
</tr>
<tr>
<td>Author:</td>
<td>David Carayon <a href="https://orcid.org/0000-0003-0217-2175"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Carayon &lt;david.carayon@inrae.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-15 10:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='compute_idea'>Compute IDEA4 indicators and aggregation metrics</h2><span id='topic+compute_idea'></span>

<h3>Description</h3>

<p>Aggregates items from <code>read_idea()</code> to produce IDEA4 indicators, components, dimensions and properties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_idea(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compute_idea_+3A_data">data</code></td>
<td>
<p>an object of class <code>IDEA_items</code> produced with <code>read_idea()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed to compute IDEA scores for the dimensions and properties approaches. A copy of the decision rules used for the properties approach can be locally exported as an excel file with :
</p>
<p><code>IDEATools::show_decision_rules()</code>
</p>
<p>Further information about decision rules can be found in this vignette :
</p>
<p><code>vignette("decision_rules", package = "IDEATools")</code>
</p>


<h3>Value</h3>

<p>An object of class &quot;IDEA_data&quot; with three attributes :
</p>

<dl>
<dt>metadata</dt><dd><p>a named list containing the 17 metadata entries about the farm</p>
</dd>
<dt>dataset</dt><dd><p>a tibble containing the score computed for the 53 indicators, 13 components and 3 dimensions</p>
</dd>
<dt>nodes</dt><dd><p>a list of tibbles, one per property plus a global one, which all describe the qualitative evaluation obtained for each leaf/node and for the final property.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)
path &lt;- system.file("example_data/idea_example_1.json", package = "IDEATools")
my_data &lt;- read_idea(path)
computed_data &lt;- compute_idea(my_data)
</code></pre>

<hr>
<h2 id='diag_idea'>Run a complete IDEA4 diagnosis</h2><span id='topic+diag_idea'></span>

<h3>Description</h3>

<p>This is a wrapper function designed to compute a complete IDEA4 diagnosis with a single function. According to the user's input, functions from IDEATools will be sequentially called to produce the desired output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag_idea(
  input,
  output_directory,
  type = "single",
  export_type = c("report", "local"),
  plot_choices = c("dimensions", "trees", "radars"),
  report_format = "pdf",
  prefix = NULL,
  dpi = 320,
  append = FALSE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="diag_idea_+3A_input">input</code></td>
<td>
<p>a character vector with path names to a single file, multiple files or even a directory with IDEA data. File extensions can either be <code>json</code> or <code>xls(x)</code></p>
</td></tr>
<tr><td><code id="diag_idea_+3A_output_directory">output_directory</code></td>
<td>
<p>the output directory for the rendered reports and/or plots. Defaults to &quot;IDEATools_output&quot;</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_type">type</code></td>
<td>
<p>the type of analysis to perform. Can be &quot;single&quot; for single farm-related results, &quot;group&quot; for group-related results, &quot;group_reference&quot; for anonymous group-related results, or a combination of the latter, provided that the number of farms is at least 3. Note that &quot;group_reference&quot; is a special option designed to work with an online platform using this package (WEBIDEA)</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_export_type">export_type</code></td>
<td>
<p>the type of output to produce. Can be either &quot;report&quot; to produce compiled reports and/or &quot;local&quot; to write raw plots. If NULL, the algorithm will not produce any plots on machine and will return a list with the IDEA results.</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_plot_choices">plot_choices</code></td>
<td>
<p>the type of plots to be produced. Can be either &quot;dimensions&quot;, &quot;trees&quot; or &quot;radars&quot; or a combination of these 3. Ignored if the export type is &quot;report&quot;.</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_report_format">report_format</code></td>
<td>
<p>a string indicating the output format if <code>type = "report"</code>. Can be a single format (e.g <code>"pdf"</code>) or multiple formats (e.g. <code>c("pdf","xlsx")</code>). Possible formats are &quot;pdf&quot;, &quot;docx&quot;, &quot;pptx&quot; and &quot;xlsx&quot;</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_prefix">prefix</code></td>
<td>
<p>a prefix which will be added to output files names. Typically, the name of the farm. Ignored if <code>length(input) &gt; 1</code> or in the case of a group analysis : the <code>metadata$MTD_01</code> field will be used to identify each farm.</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_dpi">dpi</code></td>
<td>
<p>ggplot output resolution.</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_append">append</code></td>
<td>
<p>In the case of a single excel report and if the input is an xlsx file, should the results be appended to the original file ?</p>
</td></tr>
<tr><td><code id="diag_idea_+3A_quiet">quiet</code></td>
<td>
<p>A command to remove console printing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed to provide the user a single function to use for a full IDEA4 diagnosis.
</p>
<p>If the input is a single file, then a simple &quot;<code>read_idea() |&gt; compute_idea() |&gt; plot_idea() |&gt; write_idea()</code>&quot; or &quot;<code>old_idea() |&gt; plot_idea() |&gt; write_idea()</code>&quot; pipeline will be used. If export_type is NULL, then the output of <code>plot_idea()</code> will be returned.
</p>
<p>If the input is a list of files and/or a directory, and if type is &quot;single&quot;, then the single analysis pipelines are iterated over each file. If export_type is NULL, then the multiple outputs of <code>plot_idea()</code> are gathered in an unique list and returned.
</p>
<p>If the input is a list of files and/or a directory, and if type is &quot;group*&quot;, then the &quot;import&quot; (<code>read_idea() |&gt; compute_idea()</code> or <code>old_idea()</code>) pipeline is iterated over each file and the results are gathered in an object of class &quot;IDEA_group_data&quot;. This object introduced in the <code>plot_idea() |&gt; write_idea()</code> pipeline will trigger a new algorithm suited to group analysis. If export_type is NULL, then the output of <code>plot_idea()</code> will be returned.
</p>


<h3>Value</h3>

<p>Either reports and/or raw plots in <code>output_directory</code> or a named list with all the results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)
path &lt;- system.file("example_data/idea_example_1.json", package = "IDEATools")
group_path &lt;- system.file("example_data", package = "IDEATools")

# Find your temporary directory (the output will be there)
tempdir &lt;- tempdir()

# Run a full individual diagnosis with no export, with only trees
my_diagnosis &lt;- diag_idea(
  input = path,
  output_directory = tempdir,
  type = "single",
  export_type = NULL,
  prefix = "Farm_A",
  plot_choices = "trees",
  dpi = 20,  ## Can be much higher
  quiet = TRUE
)
</code></pre>

<hr>
<h2 id='jsonify2'>Convert IDEA excel files to json, without output</h2><span id='topic+jsonify2'></span>

<h3>Description</h3>

<p>Convert IDEA excel files to json, without output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jsonify2(input, output)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="jsonify2_+3A_input">input</code></td>
<td>
<p>the directory containing the xls/xlsx files to convert</p>
</td></tr>
<tr><td><code id="jsonify2_+3A_output">output</code></td>
<td>
<p>the directory where the json files will be created</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of json files exported to the output directory
</p>

<hr>
<h2 id='old_idea'>Read &quot;old&quot; IDEA data files</h2><span id='topic+old_idea'></span>

<h3>Description</h3>

<p>This function is an alternative to the read/compute pipeline for older versions of IDEA data excel files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>old_idea(input)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="old_idea_+3A_input">input</code></td>
<td>
<p>a system path to the file containing the IDEA data.
The file extension has to be xls or xlsx.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed to import data from &quot;old&quot; IDEA data files. It will most probably work for IDEA4 excel files which are later than 2019-01-01. This actually works because this function focuses on indicators directly computed in the excel file rather than items. The potential drawbacks being that no information about items are collected and that some metadata may be missed.
</p>
<p>Note : For the farm id metadata, the full First/Last name will be used if found.
</p>


<h3>Value</h3>

<p>An object of class &quot;IDEA_data&quot; with three attributes :
</p>

<dl>
<dt>metadata</dt><dd><p>a named list containing the 17 metadata entries about the farm</p>
</dd>
<dt>dataset</dt><dd><p>a tibble containing the score computed for the 53 indicators, 13 components and 3 dimensions</p>
</dd>
<dt>nodes</dt><dd><p>a list of tibbles, one per property plus a global one, which all describe the qualitative evaluation</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)

## Importing from an old IDEA file
input &lt;- "path_to_your_old_file.xlsx"
if(file.exists(input)) {
computed_data &lt;- old_idea(input)
}
</code></pre>

<hr>
<h2 id='plot_idea'>Plot IDEA4 results</h2><span id='topic+plot_idea'></span>

<h3>Description</h3>

<p>Produces ggplots and/or SVG source code with IDEA data produced by either <code>compute_idea()</code> or <code>old_idea()</code> call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_idea(IDEA_data, choices = c("dimensions", "trees", "radars"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_idea_+3A_idea_data">IDEA_data</code></td>
<td>
<p>an IDEA_data or IDEA_group_data object</p>
</td></tr>
<tr><td><code id="plot_idea_+3A_choices">choices</code></td>
<td>
<p>Which type of plots should be produced ? Can be either &quot;dimensions&quot;, &quot;trees&quot; or &quot;radars&quot; or a combination of these 3. Ignored if IDEA_data is of class <code>IDEA_group_data</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will produce different plots depending on whether the input data is of class <code>IDEA_data</code> or <code>IDEA_group_data</code>.
</p>
<p>The <code>IDEA_data</code> class implies that the data comes from an individual analysis pipeline, so individual plots will be produced according to the user's choices specified in the function call :
</p>

<dl>
<dt>dimensions</dt><dd><p>This option will produce histograms for dimensions, components, and indicators along with a polarised synthetic representation for components.</p>
</dd>
<dt>trees</dt><dd><p>This option will produce the colored trees describing the qualitative agregation in the property approach.</p>
</dd>
<dt>radars</dt><dd><p>This option will produce polarised histograms (also called 'radars') giving the score (in %) of each indicator, grouped by property</p>
</dd>
</dl>

<p>Important note : All 3 types of plots are required for the &quot;report&quot; option of the <code>write_idea()</code> function.
</p>
<p>The <code>IDEA_group_data</code> class can only be generated by a &quot;<code>diag_idea()</code>&quot; group call which will iterate either &quot;<code>read_idea() |&gt; compute_idea()</code>&quot; or &quot;<code>old_idea()</code>&quot; on each data file before aggregating results and assigning this grouped class.
</p>
<p>As the <code>IDEA_group_data</code> class implies that the data comes from a group analysis pipeline, the <code>choices</code> argument will be ignored. The plots produced for the dimension approach are almost the same as in the individual analysis pipeline but with the histograms being replaced by boxplots. Concerning properties, the only visualization currently considered as relevant is a matrix (or heatmap) of properties * farms, with the cells colored according to the qualitative evaluation for each farm for a given property.
</p>
<p>Note that plots are using a &quot;<code>theme_idea()</code>&quot; theme defined in this package.
</p>
<p>A copy of the blank canvas used for colored trees can be locally exported as svg files with :
</p>
<p><code>IDEATools::show_canvas()</code>
</p>
<p>Further information about the colored trees ans canvas can be found in this vignette :
</p>
<p><code>vignette("colored_trees", package = "IDEATools")</code>
</p>


<h3>Value</h3>

<p>a named list of plots of class <code>IDEA_plots</code> or <code>IDEA_group_plots</code>. The algorithm also adds a &quot;data&quot; attribute containing data introduced in the input of this function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)

## Example given for a single analysis. See diag_idea() for a group analysis.
path &lt;- system.file("example_data/idea_example_1.json", package = "IDEATools")
my_data &lt;- read_idea(path)
computed_data &lt;- compute_idea(my_data)

## Example without radars or dimensions
idea_plots &lt;- plot_idea(computed_data, choices = c("trees"))
</code></pre>

<hr>
<h2 id='read_idea'>Read IDEA4 items and metadata</h2><span id='topic+read_idea'></span>

<h3>Description</h3>

<p>Reads and imports items and farm metadata from .xls, .xlsx or .json files containing IDEA4 data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_idea(input)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_idea_+3A_input">input</code></td>
<td>
<p>a system path to the file containing the IDEA data.
The file extension can either be <code>json</code> or <code>xls(x)</code>. For the latter, the version number must be &gt;= 4.2.0</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed to import items and farm metadata from a single IDEA data file. Errors will be produced if the input file does not contain any &quot;metadonnees&quot; field in the case of a json file or any &quot;Notice&quot; sheet in the case of an excel file.
</p>
<p>The R code has been developed according to the newest versions of IDEA data collecting files (version numbers &gt;= 4.2.0)  and will produce an error if the version number is lower than 4.2.0 or can't be found in the 'Notice$K4' cell of the input in the case of excel input. There are no limitations for json input files as they were introduced after version number 4.2.0.
</p>
<p>For some older versions (from about 2019-01-01), you can replace the &quot; <code>read_idea() |&gt;  compute_idea()</code> &quot; pipeline by &quot;<code>old_idea()</code>&quot; which will focus on indicators rather than items.
</p>


<h3>Value</h3>

<p>An object of class <code>IDEA_items</code> with two attributes :
</p>

<dl>
<dt>metadata</dt><dd><p>a named list containing the 17 metadata entries about the farm</p>
</dd>
<dt>items</dt><dd><p>a tibble with the extracted 118 items found in the input</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)
path &lt;- system.file("example_data/idea_example_1.json", package = "IDEATools")
my_data &lt;- read_idea(path)
my_data
</code></pre>

<hr>
<h2 id='runGUI'>Minimal Shiny app for IDEATools</h2><span id='topic+runGUI'></span>

<h3>Description</h3>

<p>This function loads a graphical user interface (GUI) to use IDEATools.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runGUI()
</code></pre>


<h3>Value</h3>

<p>Loads a shiny application
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)

## Only run this example in interactive R sessions
if (interactive()) {
  runGUI()
}
</code></pre>

<hr>
<h2 id='show_decision_rules'>Show decision rules</h2><span id='topic+show_decision_rules'></span>

<h3>Description</h3>

<p>Show decision rules
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_decision_rules(directory)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_decision_rules_+3A_directory">directory</code></td>
<td>
<p>the directory where to output the decision rules</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Exports an excel file in the desired directory
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)
show_decision_rules(tempdir())

</code></pre>

<hr>
<h2 id='show_tree_structure'>Show the reference table used for building colored trees</h2><span id='topic+show_tree_structure'></span>

<h3>Description</h3>

<p>Show the reference table used for building colored trees
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_tree_structure(directory)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_tree_structure_+3A_directory">directory</code></td>
<td>
<p>the directory where to output the reference tables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Exports an excel file in the desired directory
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)
show_tree_structure(tempdir())

</code></pre>

<hr>
<h2 id='theme_idea'>IDEA ggplot2 theme</h2><span id='topic+theme_idea'></span>

<h3>Description</h3>

<p>IDEA ggplot2 theme
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_idea(base_size = 15, base_family = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_idea_+3A_base_size">base_size</code></td>
<td>
<p>base size</p>
</td></tr>
<tr><td><code id="theme_idea_+3A_base_family">base_family</code></td>
<td>
<p>base family</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 theme for IDEA
</p>

<hr>
<h2 id='write_idea'>Write IDEA4 results and graphs to local disc</h2><span id='topic+write_idea'></span>

<h3>Description</h3>

<p>This function allows the user to write IDEA4 results either as local PNG files or compiled in reports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_idea(
  IDEA_plots,
  output_directory,
  type = c("local", "report"),
  prefix = NULL,
  dpi = 320,
  report_format = "docx",
  append = FALSE,
  input_file_append = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_idea_+3A_idea_plots">IDEA_plots</code></td>
<td>
<p>an IDEA_plots or IDEA_group_plots object from a <code>plot_idea()</code> call.</p>
</td></tr>
<tr><td><code id="write_idea_+3A_output_directory">output_directory</code></td>
<td>
<p>the desired output directory for the rendered reports and/or plots. Defaults to &quot;IDEATools_output&quot;</p>
</td></tr>
<tr><td><code id="write_idea_+3A_type">type</code></td>
<td>
<p>the type of output to produce. Can be either &quot;report&quot; to produce compiled reports or &quot;local&quot; to write raw plots as PNG files.</p>
</td></tr>
<tr><td><code id="write_idea_+3A_prefix">prefix</code></td>
<td>
<p>a prefix which will be added to output files names. Typically, the name of the farm. Ignored in the case of a group analysis : The <code>metadata$MTD_01</code> field will then be used to identify each farm.</p>
</td></tr>
<tr><td><code id="write_idea_+3A_dpi">dpi</code></td>
<td>
<p>ggplot output resolution.</p>
</td></tr>
<tr><td><code id="write_idea_+3A_report_format">report_format</code></td>
<td>
<p>a string indicating the output format if <code>type = "report"</code>. Can be a single format (e.g <code>"pdf"</code>) or multiple formats (e.g. <code>c("pdf","xlsx")</code>). Possible formats are &quot;pdf&quot;, &quot;docx&quot;, &quot;pptx&quot; and &quot;xlsx&quot;</p>
</td></tr>
<tr><td><code id="write_idea_+3A_append">append</code></td>
<td>
<p>If the input is an xlsx format, should the individual output be appended to the original file ?</p>
</td></tr>
<tr><td><code id="write_idea_+3A_input_file_append">input_file_append</code></td>
<td>
<p>file path to an xslx IDEA data spreadsheet</p>
</td></tr>
<tr><td><code id="write_idea_+3A_quiet">quiet</code></td>
<td>
<p>A command to remove console printing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function automatically creates in <code>output_directory</code> a subdirectory named after the system date for users to use the same output_directory for multiple diagnosis.
</p>
<p>Inputs of class <code>IDEA_plots</code> can be generated by a classic <code>read_idea() |&gt; compute_idea() |&gt; plot_idea()</code> or <code>old_idea() |&gt; plot_idea()</code> individual analysis pipelines. Inputs of class <code>IDEA_group_plots</code> can only be generated by a <code>plot_idea()</code> call in a group analysis conducted by <code>diag_idea</code>.
</p>
<p>In the case of an individual analysis, another subdirectory is created with <code>prefix</code> as a name so that analyses are not mixed up. The user can choose if output should be raw plots (that can be used in custom reports) or pre-compiled reports with a large variety of available formats.
</p>
<p>In the case of a group analysis, another subdirectory is created with a name like &quot;Groupe_number_of_farms&quot; so that analyses are not mixed up. The user can again choose if output should be raw plots or pre-compiled reports.
</p>
<p>If the <code>report_format</code> argument is set to either &quot;docx&quot; or &quot;pptx&quot;, the report will be rendered using the rmarkdown package (and officedown/officer packages for the docx output) using a template stored in this package. For &quot;pdf&quot; output, LaTeX will be called with the rmarkdown package. For &quot;xlsx&quot; output, the openxlsx package will be used to sequentially produce Excel worksheets and files, using an internal R function.
</p>
<p>Please note that an error will be produced if the input object does not contain all three &quot;dimensions&quot;,&quot;trees&quot; and &quot;radars&quot; entries in the case of an individual analysis and if <code>type = "report"</code>.
</p>


<h3>Value</h3>

<p>Reports and/or raw plots in <code>output_directory</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(IDEATools)
path &lt;- system.file("example_data/idea_example_1.json", package = "IDEATools")
my_data &lt;- read_idea(path)
computed_data &lt;- compute_idea(my_data)
# Only plotting the radars as a minimal example
idea_plots &lt;- plot_idea(computed_data, choices = "radars")
# Find your temporary directory
tempdir &lt;- tempdir()

# Export as raw plots to your tempdir
write_idea(idea_plots,
  output_directory = tempdir,
  type = "local",
  prefix = "myFarm",
  dpi = 20 # Can be much higher
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

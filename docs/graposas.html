<!DOCTYPE html><html lang="en"><head><title>Help for package graposas</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {graposas}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#szgaGA'><p>Sample size optimization using graphical approach in clinical trial design with three hypotheses</p></a></li>
<li><a href='#szgaGAw'><p>Sample size optimization using graphical approach in clinical trial design with three hypotheses when the transition matrix is pre-specified</p></a></li>
<li><a href='#szgaViz'><p>Sample size optimization using graphical approach in clinical trial design with two hypotheses</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Graphical Approach Optimal Sample Size</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-07-30</td>
</tr>
<tr>
<td>Description:</td>
<td>Graphical approach provides a useful framework for multiplicity adjustment in clinical trials with multiple endpoints. This package includes statistical methods to optimize sample size over initial weight and transition probability in a graphical approach under a common setting, which is to use marginal power for each endpoint in a trial design.
    See Zhang, F. and Gou, J. (2023). Sample size optimization for clinical trials using graphical approaches for multiplicity adjustment, Technical Report.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>GA (&ge; 3.0.0), graphics (&ge; 4.2.0), mvtnorm (&ge; 1.1.0), stats
(&ge; 4.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-30 21:41:29 UTC; psystat</td>
</tr>
<tr>
<td>Author:</td>
<td>Jiangtao Gou [aut, cre],
  Fengqing (Zoe) Zhang [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jiangtao Gou &lt;gouRpackage@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-17 06:32:33 UTC</td>
</tr>
</table>
<hr>
<h2 id='szgaGA'>Sample size optimization using graphical approach in clinical trial design with three hypotheses</h2><span id='topic+szgaGA'></span>

<h3>Description</h3>

<p>This function computes the optimal design using graphical approach along with the minimum sample size when three hypotheses are considered in a clinical trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>szgaGA(
  alpha,
  betaVec,
  deltaVec,
  cVec,
  rhoMat,
  lower = c(1, rep(1e-06, 2), rep(1e-06, 3)),
  upper = c(10000, rep(1 - 1e-06, 2), rep(1 - 1e-06, 3)),
  gaIter = c(20, 20),
  penPara = 0.1,
  seed = 2022
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="szgaGA_+3A_alpha">alpha</code></td>
<td>
<p>a value of overall type I error rate</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_betavec">betaVec</code></td>
<td>
<p>a vector of one minus marginal powers for testing H1, H2 and H3, respectively</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_deltavec">deltaVec</code></td>
<td>
<p>a vector of effect sizes for testing H1, H2 and H3, respectively</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_cvec">cVec</code></td>
<td>
<p>a vector of coefficients. When testing continuous endpoints, these coefficients are exactly one. When testing binary endpoints, the values are roughly one but not exactly one</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_rhomat">rhoMat</code></td>
<td>
<p>a matrix of the correlation coefficients among three hypotheses</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_lower">lower</code></td>
<td>
<p>a vector of lower limit of sample size n, initial weights w1 and w2, and transition probabilities g12, g23 and g31</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_upper">upper</code></td>
<td>
<p>a vector of upper limit of sample size n, initial weights w1 and w2, and transition probabilities g12, g23 and g31</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_gaiter">gaIter</code></td>
<td>
<p>a vector of two numbers. The first one is the parameter maxiter of the ga function, and the second one is the parameter run of the ga function</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_penpara">penPara</code></td>
<td>
<p>a number of penalization parameter for optimization to balance the sample size requirement and the power requirement</p>
</td></tr>
<tr><td><code id="szgaGA_+3A_seed">seed</code></td>
<td>
<p>a number of the seed of the random number generator</p>
</td></tr>
</table>


<h3>Details</h3>

<p>R package <code>GA</code> is used for Genetic Algorithms.
</p>


<h3>Value</h3>

<p>a vector of six numbers: the optimal sample size <code>n</code>, initial weights <code>w1</code> and <code>w2</code>, and transition probabilities <code>g12</code>, <code>g23</code> and <code>g31</code>
</p>


<h3>Author(s)</h3>

<p>Jiangtao Gou
</p>


<h3>References</h3>

<p>Zhang, F. and Gou, J. (2023). Sample size optimization for clinical trials using graphical approaches for multiplicity adjustment, Technical Report.
Gou, J. (2022). Sample size optimization and initial allocation of the significance levels in group sequential trials with multiple endpoints. <em>Biometrical Journal</em>, 64(2), 301-311.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>start &lt;- Sys.time()
szgaGA(alpha = 0.025, betaVec = c(0.15, 0.20, 0.10),
       deltaVec = c(0.1111952, 0.1037179, 0.1182625),
       cVec = c(1.003086, 1.002686, 1.00349),
       rhoMat = matrix(c(1,0.5,0.8, 0.5,1,0.6, 0.8,0.6,1), nrow = 3, byrow = TRUE),
       lower = c(750, rep(0.01, 2), rep(0.01, 3)),
       upper = c(850, rep(0.99, 2), rep(0.99, 3)),
       gaIter = c(10, 5),
       penPara = 0.015,
       seed = 234)
end &lt;- Sys.time()
data.frame(time = end - start)


</code></pre>

<hr>
<h2 id='szgaGAw'>Sample size optimization using graphical approach in clinical trial design with three hypotheses when the transition matrix is pre-specified</h2><span id='topic+szgaGAw'></span>

<h3>Description</h3>

<p>This function computes the optimal design using graphical approach along with the minimum sample size when three hypotheses are considered in a clinical trial. The transition matrix is pre-specified and fixed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>szgaGAw(
  alpha,
  betaVec,
  deltaVec,
  cVec,
  rhoMat,
  transMat,
  lower = c(1, rep(1e-06, 2)),
  upper = c(10000, rep(1 - 1e-06, 2)),
  gaIter = c(20, 20),
  penPara = 0.1,
  seed = 2022
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="szgaGAw_+3A_alpha">alpha</code></td>
<td>
<p>a value of overall type I error rate</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_betavec">betaVec</code></td>
<td>
<p>a vector of one minus marginal powers for testing H1, H2 and H3, respectively</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_deltavec">deltaVec</code></td>
<td>
<p>a vector of effect sizes for testing H1, H2 and H3, respectively</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_cvec">cVec</code></td>
<td>
<p>a vector of coefficients. When testing continuous endpoints, these coefficients are exactly one. When testing binary endpoints, the values are roughly one but not exactly one</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_rhomat">rhoMat</code></td>
<td>
<p>a matrix of the correlation coefficients among three hypotheses</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_transmat">transMat</code></td>
<td>
<p>a matrix of the fixed transition probabilities among three hypotheses</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_lower">lower</code></td>
<td>
<p>a vector of lower limit of sample size n, and initial weights w1 and w2, where w3 is computed by 1 - w1 - w2</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_upper">upper</code></td>
<td>
<p>a vector of upper limit of sample size n, and initial weights w1 and w2, where w3 is computed by 1 - w1 - w2</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_gaiter">gaIter</code></td>
<td>
<p>a vector of two numbers. The first one is the parameter maxiter of the ga function, and the second one is the parameter run of the ga function</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_penpara">penPara</code></td>
<td>
<p>a number of penalization parameter for optimization to balance the sample size requirement and the power requirement</p>
</td></tr>
<tr><td><code id="szgaGAw_+3A_seed">seed</code></td>
<td>
<p>a number of the seed of the random number generator</p>
</td></tr>
</table>


<h3>Details</h3>

<p>R package <code>GA</code> is used for Genetic Algorithms.
</p>


<h3>Value</h3>

<p>a vector of three numbers: the optimal sample size <code>n</code>, and initial weights <code>w1</code> and <code>w2</code>
</p>


<h3>Author(s)</h3>

<p>Jiangtao Gou
</p>


<h3>References</h3>

<p>Zhang, F. and Gou, J. (2023). Sample size optimization for clinical trials using graphical approaches for multiplicity adjustment, Technical Report.
Gou, J. (2022). Sample size optimization and initial allocation of the significance levels in group sequential trials with multiple endpoints. <em>Biometrical Journal</em>, 64(2), 301-311.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>start &lt;- Sys.time()
szgaGAw(alpha = 0.025, betaVec = c(0.15, 0.20, 0.10),
        deltaVec = c(0.1111952, 0.1037179, 0.1335865),
        cVec = c(1.003086, 1.002686, 1.004451),
        rhoMat = matrix(c(1,0.5,0.8, 0.5,1,0.6, 0.8,0.6,1), nrow = 3, byrow = TRUE),
        transMat = matrix(c(0,0.50,0.50, 0.5,0,0.5, 0.5,0.5,0), nrow = 3, byrow = TRUE),
        lower = c(700, rep(0.05, 2)),
        upper = c(900, rep(0.95, 2)),
        gaIter = c(10, 5),
        penPara = 0.0135,
        seed = 234)
end &lt;- Sys.time()
data.frame(time = end - start)

</code></pre>

<hr>
<h2 id='szgaViz'>Sample size optimization using graphical approach in clinical trial design with two hypotheses</h2><span id='topic+szgaViz'></span>

<h3>Description</h3>

<p>This function computes the optimal design using graphical approach along with the minimum sample size when two hypotheses are considered in a clinical trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>szgaViz(
  alpha,
  beta1,
  beta2,
  deltaVec,
  cVec,
  rho,
  wunit,
  initIntvl,
  visualization = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="szgaViz_+3A_alpha">alpha</code></td>
<td>
<p>a value of overall type I error rate</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_beta1">beta1</code></td>
<td>
<p>a value of one minus marginal powers for testing H1</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_beta2">beta2</code></td>
<td>
<p>a value of one minus marginal powers for testing H2</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_deltavec">deltaVec</code></td>
<td>
<p>a vector of effect sizes for testing H1 nd H2, respectively</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_cvec">cVec</code></td>
<td>
<p>a vector of coefficients. When testing continuous endpoints, these coefficients are exactly one. When testing binary endpoints, the values are roughly one but not exactly one</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_rho">rho</code></td>
<td>
<p>a value of correlation coefficients between two hypotheses</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_wunit">wunit</code></td>
<td>
<p>a value of initial weight on H1 for grid search and visualization</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_initintvl">initIntvl</code></td>
<td>
<p>a vector of lower and upper limits for searching optimal sample size</p>
</td></tr>
<tr><td><code id="szgaViz_+3A_visualization">visualization</code></td>
<td>
<p>a logical value, indicating whether a visualization is needed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of three numbers: the optimal weight on H1 <code>w1</code>, and optimal sample size <code>n1</code> (based on H1) and <code>n2</code> (based on H2), where <code>n1</code> and <code>n2</code> should be roughly the same
</p>


<h3>Author(s)</h3>

<p>Jiangtao Gou
</p>
<p>Fengqing (Zoe) Zhang
</p>


<h3>References</h3>

<p>Zhang, F. and Gou, J. (2023). Sample size optimization for clinical trials using graphical approaches for multiplicity adjustment, Technical Report.
Gou, J. (2022). Sample size optimization and initial allocation of the significance levels in group sequential trials with multiple endpoints. <em>Biometrical Journal</em>, 64(2), 301-311.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>szgaViz(alpha = 0.05, beta1 = 0.20, beta2 = 0.20,
         deltaVec = c(0.3,0.3), cVec = c(1,1), rho = 0.0,
         wunit= 0.01, initIntvl = c(1,1000),
         visualization = FALSE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

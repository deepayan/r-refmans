<!DOCTYPE html><html><head><title>Help for package MARMoT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MARMoT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ASB'><p>Absolute standardized bias</p></a></li>
<li><a href='#deloof'><p>Average rank with Deloof's approximation</p></a></li>
<li><a href='#deloof_data'><p>Data to showcase deloof and mcdeloof functions</p></a></li>
<li><a href='#MARMoT'><p>MARMoT balancing method</p></a></li>
<li><a href='#MARMoT_data'><p>Data to showcase MARMoT and ASB functions</p></a></li>
<li><a href='#mcdeloof'><p>Average rank with Deloof's approximation (parallel computing)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Matching on Poset-Based Average Rank for Multiple Treatments
(MARMoT)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.4</td>
</tr>
<tr>
<td>Description:</td>
<td>It contains the function to apply MARMoT balancing technique discussed in: Silan, Boccuzzo, Arpino (2021) &lt;<a href="https://doi.org/10.1002%2Fsim.9192">doi:10.1002/sim.9192</a>&gt;, Silan, Belloni, Boccuzzo, (2023) &lt;<a href="https://doi.org/10.1007%2Fs10260-023-00695-0">doi:10.1007/s10260-023-00695-0</a>&gt;; 
             furthermore it contains a function for computing the Deloof's approximation of the average rank 
             (and also a parallelized version) and a function to compute the Absolute Standardized Bias. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>parallel, parsec, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-05 10:01:08 UTC; alberto</td>
</tr>
<tr>
<td>Author:</td>
<td>Alberto Calore [aut, cre],
  Pietro Belloni [aut],
  Margherita Silan [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alberto Calore &lt;calorealberto57@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-06 17:00:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='ASB'>Absolute standardized bias</h2><span id='topic+ASB'></span>

<h3>Description</h3>

<p>Compute the absolute standardized bias of given confounders and return some
useful statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ASB(data, confounders, treatment, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ASB_+3A_data">data</code></td>
<td>
<p>A dataframe or equivalent.</p>
</td></tr>
<tr><td><code id="ASB_+3A_confounders">confounders</code></td>
<td>
<p>A vector with the column names of the confounders to balance by.</p>
</td></tr>
<tr><td><code id="ASB_+3A_treatment">treatment</code></td>
<td>
<p>A string with the column name of the treatment variable.</p>
</td></tr>
<tr><td><code id="ASB_+3A_verbose">verbose</code></td>
<td>
<p>Set to FALSE to suppress any console output. Default is TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of objects, containing the ASB matrix and some summary statistics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ASB(data = MARMoT_data, confounders = c("race", "age"), treatment = "hospital")

</code></pre>

<hr>
<h2 id='deloof'>Average rank with Deloof's approximation</h2><span id='topic+deloof'></span>

<h3>Description</h3>

<p>Compute the average with using Deloof's approximation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deloof(comparable_data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deloof_+3A_comparable_data">comparable_data</code></td>
<td>
<p>A dataframe or equivalent, which columns are ordered factors or numeric
variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector containing the average rank of all observations (it is recommended
to normalized it before use).
</p>


<h3>References</h3>

<p>Caperna, G., 2019. Approximation of AverageRank by means of a formula.
https://doi.org/10.5281/zenodo.2565699
</p>


<h3>Examples</h3>

<pre><code class='language-R'>AR = deloof(deloof_data)

</code></pre>

<hr>
<h2 id='deloof_data'>Data to showcase deloof and mcdeloof functions</h2><span id='topic+deloof_data'></span>

<h3>Description</h3>

<p>A very simple example dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deloof_data
</code></pre>


<h3>Format</h3>



<h4><code>deloof_data</code></h4>

<p>A data frame with 8,450 rows and 2 columns:
</p>

<dl>
<dt>comorbidities, age</dt><dd><p>our partially ordered variables</p>
</dd>
</dl>




<h3>Source</h3>

<p>Created in-house to serve as an example
</p>

<hr>
<h2 id='MARMoT'>MARMoT balancing method</h2><span id='topic+MARMoT'></span>

<h3>Description</h3>

<p>Matching on poset-based average rank for multiple treatments (MARMoT).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MARMoT(
  data,
  confounders,
  treatment,
  reference = "median",
  n.cores = 1,
  caliper = 0.25,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MARMoT_+3A_data">data</code></td>
<td>
<p>A dataframe or equivalent.</p>
</td></tr>
<tr><td><code id="MARMoT_+3A_confounders">confounders</code></td>
<td>
<p>A vector containing the column names of the confounders to balance by.</p>
</td></tr>
<tr><td><code id="MARMoT_+3A_treatment">treatment</code></td>
<td>
<p>A string indicating the column name of the treatment variable.</p>
</td></tr>
<tr><td><code id="MARMoT_+3A_reference">reference</code></td>
<td>
<p>The statistic used to determine the reference frequencies in the balancing
process. Default is median.</p>
</td></tr>
<tr><td><code id="MARMoT_+3A_n.cores">n.cores</code></td>
<td>
<p>Number of cores to be used (Linux and Mac systems only!); if a
number grater than 1 is specified the function will use a parallelized
version of the deloof approximation. Default set to 1.</p>
</td></tr>
<tr><td><code id="MARMoT_+3A_caliper">caliper</code></td>
<td>
<p>Fraction of the standard deviation used to determine the closest neighbour.
Default is 0.25.</p>
</td></tr>
<tr><td><code id="MARMoT_+3A_verbose">verbose</code></td>
<td>
<p>Set to FALSE to suppress any console output. Default is TRUE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are many scenarios where classic propensity score techniques are not
applicable (e.g. there are many treatments). In a multiple-treatment
framework, MARMoT is a method to balance the distribution of covariates among
several treatment groups. MARMoT introduces a method for achieving balance
among treatment groups by utilizing partially ordered set (poset) theory.
This approach focuses on equalizing individual characteristics without
relying on propensity score techniques or a dependent variable. Unlike
propensity score methods, poset theory doesn't require assumptions about
model specifications for treatment allocation. Each subject is represented by
a profile of their characteristics, and an average rank approximation is
associated with each profile. This value represents the significance of
individual characteristics for treatment allocation and can be normalized for
better interpretability.
</p>


<h3>Value</h3>

<p>A list of objects, also containing the balanced dataset with the same
structure of the input dataset.
</p>


<h3>References</h3>

<p>Silan, M., Boccuzzo, G. and Arpino, B., 2021. 'Matching on poset‚Äêbased average
rank for multiple treatments to compare many unbalanced groups'. Statistics in
Medicine, 40(28), pp.6443-6458. https://doi.org/10.1002/sim.9192
</p>
<p>Silan, M., Belloni, P. and Boccuzzo, G., 2023. 'Identification of
neighborhood clusters on data balanced by a poset-based approach'.
Statistical Methods &amp; Applications, pp.1-22.
https://doi.org/10.1007/s10260-023-00695-0
</p>


<h3>Examples</h3>

<pre><code class='language-R'>out = MARMoT(data = MARMoT_data, confounders = c("race", "age"),
             treatment = "hospital", n.cores = 1)
out
</code></pre>

<hr>
<h2 id='MARMoT_data'>Data to showcase MARMoT and ASB functions</h2><span id='topic+MARMoT_data'></span>

<h3>Description</h3>

<p>An example dataset where our treatment is the hospital structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MARMoT_data
</code></pre>


<h3>Format</h3>



<h4><code>MARMoT_data</code></h4>

<p>A data frame with 8450 rows and 3 columns:
</p>

<dl>
<dt>hospital</dt><dd><p>our treatment</p>
</dd>
<dt>race, age</dt><dd><p>our confounders</p>
</dd>
</dl>




<h3>Source</h3>

<p>Created in-house to serve as an example
</p>

<hr>
<h2 id='mcdeloof'>Average rank with Deloof's approximation (parallel computing)</h2><span id='topic+mcdeloof'></span>

<h3>Description</h3>

<p>Compute the average with using Deloof's approximation, using parallel
computing; it can be used only on Linux and Mac systems!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcdeloof(comparable_data, n.cores)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcdeloof_+3A_comparable_data">comparable_data</code></td>
<td>
<p>A dataframe or equivalent, which columns are ordered factors or numeric
variables.</p>
</td></tr>
<tr><td><code id="mcdeloof_+3A_n.cores">n.cores</code></td>
<td>
<p>Number of cores to be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector containing the average rank of all the observations (it is
recommended to normalized it before use).
</p>


<h3>References</h3>

<p>Caperna, G., 2019. Approximation of AverageRank by means of a formula.
https://doi.org/10.5281/zenodo.2565699
</p>


<h3>Examples</h3>

<pre><code class='language-R'>AR = mcdeloof(deloof_data, n.cores = 1)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

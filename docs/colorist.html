<!DOCTYPE html><html><head><title>Help for package colorist</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {colorist}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#colorist-package'><p>colorist: Coloring Wildlife Distributions in Space-Time</p></a></li>
<li><a href='#elephant_ud'><p>African Elephant utilization distributions</p></a></li>
<li><a href='#fiespa_occ'><p>eBird Status &amp; Trends Field Sparrow occurrence probability</p></a></li>
<li><a href='#fisher_ud'><p>Fisher utilization distributions</p></a></li>
<li><a href='#legend_set'><p>Make an HCL legend for an unordered set of distributions</p></a></li>
<li><a href='#legend_timecycle'><p>Make an HCL legend for a cyclical sequence of distributions</p></a></li>
<li><a href='#legend_timeline'><p>Make an HCL legend for a linear sequence of distributions</p></a></li>
<li><a href='#map_multiples'><p>Visualize multiple distributions in a series of maps</p></a></li>
<li><a href='#map_single'><p>Visualize distributions in a single map</p></a></li>
<li><a href='#metrics_distill'><p>Distill a raster stack into a set of distribution metrics</p></a></li>
<li><a href='#metrics_pull'><p>Transform raster stack values to intensity values</p></a></li>
<li><a href='#palette_set'><p>Make an HCL palette for visualizing an unordered set of distributions</p></a></li>
<li><a href='#palette_timecycle'><p>Make an HCL palette for visualizing a cyclical sequence of distributions</p></a></li>
<li><a href='#palette_timeline'><p>Make an HCL palette for visualizing a linear sequence of distributions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Coloring Wildlife Distributions in Space-Time</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Color and visualize wildlife distributions in
    space-time using raster data. In addition to enabling display of
    sequential change in distributions through the use of small multiples,
    'colorist' provides functions for extracting several features of
    interest from a sequence of distributions and for visualizing those
    features using HCL (hue-chroma-luminance) color palettes. Resulting
    maps allow for "fair" visual comparison of intensity values (e.g.,
    occurrence, abundance, or density) across space and time and can be
    used to address questions about where, when, and how consistently a
    species, group, or individual is likely to be found.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mstrimas/colorist">https://github.com/mstrimas/colorist</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mstrimas/colorist/issues">https://github.com/mstrimas/colorist/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>colorspace, ggplot2, grDevices, magrittr, raster, scales,
stats, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, RColorBrewer, rmarkdown, sf, rnaturalearth, tigris</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-11-23 19:26:10 UTC; mes335</td>
</tr>
<tr>
<td>Author:</td>
<td>Justin Schuetz <a href="https://orcid.org/0000-0002-6163-538X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Matthew Strimas-Mackey
    <a href="https://orcid.org/0000-0001-8929-7776"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Tom Auer <a href="https://orcid.org/0000-0001-8619-7147"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew Strimas-Mackey &lt;mes335@cornell.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-23 20:10:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='colorist-package'>colorist: Coloring Wildlife Distributions in Space-Time</h2><span id='topic+colorist'></span><span id='topic+colorist-package'></span>

<h3>Description</h3>

<p>Color and visualize wildlife distributions in
space-time using raster data. In addition to enabling display of
sequential change in distributions through the use of small multiples,
'colorist' provides functions for extracting several features of
interest from a sequence of distributions and for visualizing those
features using HCL (hue-chroma-luminance) color palettes. Resulting
maps allow for &quot;fair&quot; visual comparison of intensity values (e.g.,
occurrence, abundance, or density) across space and time and can be
used to address questions about where, when, and how consistently a
species, group, or individual is likely to be found.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Matthew Strimas-Mackey <a href="mailto:mes335@cornell.edu">mes335@cornell.edu</a> (<a href="https://orcid.org/0000-0001-8929-7776">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Justin Schuetz <a href="mailto:justinschuetz@gmail.com">justinschuetz@gmail.com</a> (<a href="https://orcid.org/0000-0002-6163-538X">ORCID</a>)
</p>
</li>
<li><p> Tom Auer <a href="mailto:mta45@cornell.edu">mta45@cornell.edu</a> (<a href="https://orcid.org/0000-0001-8619-7147">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/mstrimas/colorist">https://github.com/mstrimas/colorist</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/mstrimas/colorist/issues">https://github.com/mstrimas/colorist/issues</a>
</p>
</li></ul>


<hr>
<h2 id='elephant_ud'>African Elephant utilization distributions</h2><span id='topic+elephant_ud'></span>

<h3>Description</h3>

<p>A <a href="raster.html#topic+Raster-classes">RasterStack</a> of <a href="https://en.wikipedia.org/wiki/Utilization_distribution">utilization distributions</a> for two
individual African Elephants in Etosha National Park in 2011. Cell values
represent the probability density that an elephant was found at a given
location within the year and the two layers contain data for the two
individual elephants. Utilization distributions were generated using the
<code>adehabitatHR</code> package from GPS tracking data. W. Kilian, W.M. Getz, R.
Zidon, and M. Tsalyuk graciously provided permission to use their data for
visualization purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elephant_ud
</code></pre>


<h3>Format</h3>

<p>An object of class <code>RasterStack</code> of dimension 208 x 193 x 2.
</p>


<h3>Source</h3>

<p><a href="https://www.datarepository.movebank.org/handle/10255/move.812">https://www.datarepository.movebank.org/handle/10255/move.812</a>
</p>


<h3>References</h3>

<p>Tsalyuk, M., W. Kilian, B. Reineking, W. Marcus. 2018. Temporal variation in
resource selection of African elephants follows long term variability in
resource availability. Ecological Monographs.
<a href="https://doi.org/10.1002/ecm.1348">https://doi.org/10.1002/ecm.1348</a>
</p>
<p>Kilian, W., W.M. Getz, R. Zidon, M. Tsalyuk. 2018. Data from: Temporal
variation in resource selection of African elephants follows long term
variability in resource availability. Movebank Data Repository.
<a href="https://doi.org/10.5441/001/1.3nj3qj45">https://doi.org/10.5441/001/1.3nj3qj45</a>
</p>

<hr>
<h2 id='fiespa_occ'>eBird Status &amp; Trends Field Sparrow occurrence probability</h2><span id='topic+fiespa_occ'></span>

<h3>Description</h3>

<p>A <a href="raster.html#topic+Raster-classes">RasterStack</a> of the expected probability of
occurrence of Field Sparrow from the <a href="https://ebird.org/science/status-and-trends">eBird Status &amp; Trends</a> project. Each of the 12
layers in the stack represent the estimated occurrence for a given month of
the year over a regular grid of points covering the full range of the
species. To reduce file size, these data have been aggregated from the native
2.96 km spatial resolution and weekly temporal resolution to monthly, 14.8 km
resolution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fiespa_occ
</code></pre>


<h3>Format</h3>

<p>An object of class <code>RasterStack</code> of dimension 193 x 225 x 12.
</p>


<h3>Details</h3>

<p>For further details on these data, and to access the data for more species,
consult the <a href="https://cornelllabofornithology.github.io/ebirdst/">documentation for the <code>ebirdst</code> package</a>.
</p>


<h3>Source</h3>

<p><a href="https://ebird.org/science/status-and-trends">https://ebird.org/science/status-and-trends</a>
</p>


<h3>References</h3>

<p>Fink, D., T. Auer, A. Johnston, M. Strimas-Mackey, O. Robinson,
S. Ligocki, B. Petersen, C. Wood, I. Davies, B. Sullivan, M. Iliff, S.
Kelling. 2020. eBird Status and Trends, Data Version: 2018; Released: 2020.
Cornell Lab of Ornithology, Ithaca, New York.
<a href="https://doi.org/10.2173/ebirdst.2018">https://doi.org/10.2173/ebirdst.2018</a>
</p>

<hr>
<h2 id='fisher_ud'>Fisher utilization distributions</h2><span id='topic+fisher_ud'></span>

<h3>Description</h3>

<p>A <a href="raster.html#topic+Raster-classes">RasterStack</a> of <a href="https://en.wikipedia.org/wiki/Utilization_distribution">utilization distributions</a> for a
single Fisher in New York state over the course of nine nights in April 2011.
Cell values represent the probability density that the individual was found
at a given location between sunset and sunrise and the nine layers represent
nine nights of data. Utilization distributions were generated using the
<code>adehabitatHR</code> package from GPS tracking data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fisher_ud
</code></pre>


<h3>Format</h3>

<p>An object of class <code>RasterStack</code> of dimension 176 x 177 x 9.
</p>


<h3>Source</h3>

<p><a href="https://www.datarepository.movebank.org/handle/10255/move.330">https://www.datarepository.movebank.org/handle/10255/move.330</a>
</p>


<h3>References</h3>

<p>LaPoint, S., P. Gallery, M. Wikelski, R. Kays. 2013. Animal behavior,
cost-based corridor models, and real corridors. Landscape Ecology 28(8):
1615â€“1630. <a href="https://doi.org/10.1007/s10980-013-9910-0">https://doi.org/10.1007/s10980-013-9910-0</a>
</p>
<p>LaPoint, S., P. Gallery, M. Wikelski, R. Kays. 2013. Data from: Animal behavior,
cost-based corridor models, and real corridors. Movebank Data Repository.
<a href="https://doi.org/10.5441/001/1.2tp2j43g">https://doi.org/10.5441/001/1.2tp2j43g</a>
</p>

<hr>
<h2 id='legend_set'>Make an HCL legend for an unordered set of distributions</h2><span id='topic+legend_set'></span>

<h3>Description</h3>

<p>This function creates a legend to accompany a map describing
an unordered set of distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legend_set(
  palette,
  specificity = TRUE,
  group_labels = NULL,
  label_i = "Maximum\nintensity",
  label_s = "Specificity",
  axis_i = c("low", "high"),
  axis_s = c("low", "high"),
  return_df = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legend_set_+3A_palette">palette</code></td>
<td>
<p>data frame containing a color palette generated by
<a href="#topic+palette_set">palette_set</a>.</p>
</td></tr>
<tr><td><code id="legend_set_+3A_specificity">specificity</code></td>
<td>
<p>logical indicating whether to visualize intensity and
layer information for the full range of potential specificity values (i.e.,
0-100) or for a single specificity value (i.e., 100). Typically, a single
specificity value is appropriate for <a href="#topic+map_multiples">map_multiples</a> visualizations.</p>
</td></tr>
<tr><td><code id="legend_set_+3A_group_labels">group_labels</code></td>
<td>
<p>(axis_l) character vector with labels for each distribution.</p>
</td></tr>
<tr><td><code id="legend_set_+3A_label_i">label_i</code></td>
<td>
<p>character vector with a single element describing the meaning
of specificity.</p>
</td></tr>
<tr><td><code id="legend_set_+3A_label_s">label_s</code></td>
<td>
<p>character vector with a single element describing the meaning
of intensity values.</p>
</td></tr>
<tr><td><code id="legend_set_+3A_axis_i">axis_i</code></td>
<td>
<p>character vector with two elements describing the meaning of
low and high intensity values.</p>
</td></tr>
<tr><td><code id="legend_set_+3A_axis_s">axis_s</code></td>
<td>
<p>character vector with two elements describing the meaning of
low and high specificity values.</p>
</td></tr>
<tr><td><code id="legend_set_+3A_return_df">return_df</code></td>
<td>
<p>logical indicating whether to return the legend as a
<code>ggplot2</code> object or return a data frame containing the necessary data to
build the legend.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot object of the legend. Alternatively,
<code>return_df = TRUE</code> will return a data frame containing a data frame
containing the data needed to build the legend. The data frame columns are:
</p>

<ul>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>layer_id</code>: integer identifying the layer containing the maximum
intensity value; mapped to hue.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li>
<li> <p><code>intensity</code>: maximum cell value across layers divided by the maximum
value across all layers and cells; mapped to alpha level.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+legend_timecycle">legend_timecycle</a> for cyclical sequences of distributions and
<a href="#topic+legend_timeline">legend_timeline</a> for linear sequences of distributions.
</p>
<p>Other legend: 
<code><a href="#topic+legend_timecycle">legend_timecycle</a>()</code>,
<code><a href="#topic+legend_timeline">legend_timeline</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load elephant data
data(elephant_ud)

# generate hcl palette
pal &lt;- palette_set(elephant_ud)

# create legend for palettes
legend_set(pal)
</code></pre>

<hr>
<h2 id='legend_timecycle'>Make an HCL legend for a cyclical sequence of distributions</h2><span id='topic+legend_timecycle'></span>

<h3>Description</h3>

<p>This function creates a legend to accompany a map describing
a cyclical sequence of distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legend_timecycle(
  palette,
  specificity = TRUE,
  origin_label = NULL,
  label_i = "Maximum\nintensity",
  label_l = "Layer",
  label_s = c("Low specificity", "Moderate specificity", "High specificity"),
  return_df = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legend_timecycle_+3A_palette">palette</code></td>
<td>
<p>data frame containing a color palette generated by
<a href="#topic+palette_timecycle">palette_timecycle</a>.</p>
</td></tr>
<tr><td><code id="legend_timecycle_+3A_specificity">specificity</code></td>
<td>
<p>logical indicating whether to visualize intensity
and layer information for three specificity values (i.e., 0, 50, 100) or
for a single specificity value (i.e., 100). Typically, a single specificity
value is appropriate for <a href="#topic+map_multiples">map_multiples</a> visualizations.</p>
</td></tr>
<tr><td><code id="legend_timecycle_+3A_origin_label">origin_label</code></td>
<td>
<p>character vector with a single element to be used as the
label at the 12 o'clock position of the legend wheel.</p>
</td></tr>
<tr><td><code id="legend_timecycle_+3A_label_i">label_i</code></td>
<td>
<p>character vector with a single element describing the meaning
of intensity values.</p>
</td></tr>
<tr><td><code id="legend_timecycle_+3A_label_l">label_l</code></td>
<td>
<p>character vector with a single element describing the meaning
of layer values.</p>
</td></tr>
<tr><td><code id="legend_timecycle_+3A_label_s">label_s</code></td>
<td>
<p>character vector with three elements describing differences
in the meaning of three specificity values (i.e., 0, 50, 100).</p>
</td></tr>
<tr><td><code id="legend_timecycle_+3A_return_df">return_df</code></td>
<td>
<p>logical indicating whether to return the legend as a
<code>ggplot2</code> object or return a data frame containing the necessary data to
build the legend.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot object of the legend. Alternatively,
<code>return_df = TRUE</code> will return a data frame containing the data needed
to build the legend. The data frame columns are:
</p>

<ul>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>layer_id</code>: integer identifying the layer containing the maximum
intensity value; mapped to hue.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li>
<li> <p><code>intensity</code>: maximum cell value across layers divided by the maximum
value across all layers and cells; mapped to alpha level.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+legend_timeline">legend_timeline</a> for linear sequences of distributions and
<a href="#topic+legend_set">legend_set</a> for distributions of distinct groups.
</p>
<p>Other legend: 
<code><a href="#topic+legend_set">legend_set</a>()</code>,
<code><a href="#topic+legend_timeline">legend_timeline</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load field sparrow data
data(fiespa_occ)

# generate hcl palette
pal &lt;- palette_timecycle(fiespa_occ)

# create legend for palette
legend_timecycle(pal)
</code></pre>

<hr>
<h2 id='legend_timeline'>Make an HCL legend for a linear sequence of distributions</h2><span id='topic+legend_timeline'></span>

<h3>Description</h3>

<p>This function creates a legend to accompany a map describing
a linear sequence of distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legend_timeline(
  palette,
  specificity = TRUE,
  time_labels = NULL,
  label_i = "Maximum\nintensity",
  label_l = "Layer",
  label_s = c("Low specificity", "Moderate specificity", "High specificity"),
  axis_i = c("low", "high"),
  return_df = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legend_timeline_+3A_palette">palette</code></td>
<td>
<p>data frame containing a color palette generated by
<a href="#topic+palette_timeline">palette_timeline</a>.</p>
</td></tr>
<tr><td><code id="legend_timeline_+3A_specificity">specificity</code></td>
<td>
<p>logical indicating whether to visualize intensity
and layer information for three specificity values (i.e., 0, 50, 100) or
for a single specificity value (i.e., 100). Typically, a single specificity
value is appropriate for <a href="#topic+map_multiples">map_multiples</a> visualizations.</p>
</td></tr>
<tr><td><code id="legend_timeline_+3A_time_labels">time_labels</code></td>
<td>
<p>character vector with two elements to be used as labels
for the start and end points of the time axis (i.e. x-axis) in the legend.</p>
</td></tr>
<tr><td><code id="legend_timeline_+3A_label_i">label_i</code></td>
<td>
<p>character vector with a single element describing the meaning
of intensity values.</p>
</td></tr>
<tr><td><code id="legend_timeline_+3A_label_l">label_l</code></td>
<td>
<p>character vector with a single element describing the meaning
of layer values.</p>
</td></tr>
<tr><td><code id="legend_timeline_+3A_label_s">label_s</code></td>
<td>
<p>character vector with three elements describing differences
in the meaning of specificity across three legend wheels.</p>
</td></tr>
<tr><td><code id="legend_timeline_+3A_axis_i">axis_i</code></td>
<td>
<p>character vector with two elements describing the meaning of
low and high intensity values.</p>
</td></tr>
<tr><td><code id="legend_timeline_+3A_return_df">return_df</code></td>
<td>
<p>logical indicating whether to return the legend as a
<code>ggplot2</code> object or return a data frame containing the necessary data to
build the legend.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot object of the legend. Alternatively,
<code>return_df = TRUE</code> will return a data frame containing a data frame
containing the data needed to build the legend. The data frame columns are:
</p>

<ul>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>layer_id</code>: integer identifying the layer containing the maximum
intensity value; mapped to hue.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li>
<li> <p><code>intensity</code>: maximum cell value across layers divided by the maximum
value across all layers and cells; mapped to alpha level.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+legend_timecycle">legend_timecycle</a> for cyclical sequences of distributions and
<a href="#topic+legend_set">legend_set</a> for distributions of distinct groups.
</p>
<p>Other legend: 
<code><a href="#topic+legend_set">legend_set</a>()</code>,
<code><a href="#topic+legend_timecycle">legend_timecycle</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load fisher data
data(fisher_ud)

# generate hcl palette
pal &lt;- palette_timeline(fisher_ud)

# create legend for palette
legend_timeline(pal)
</code></pre>

<hr>
<h2 id='map_multiples'>Visualize multiple distributions in a series of maps</h2><span id='topic+map_multiples'></span>

<h3>Description</h3>

<p>This function enables visualization of distributional
information in a series of small multiples by combining distribution
metrics and an HCL color palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_multiples(
  x,
  palette,
  ncol,
  lambda_i = 0,
  labels = NULL,
  return_type = c("plot", "df")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="map_multiples_+3A_x">x</code></td>
<td>
<p>RasterStack of distributions processed by <code><a href="#topic+metrics_pull">metrics_pull()</a></code>.</p>
</td></tr>
<tr><td><code id="map_multiples_+3A_palette">palette</code></td>
<td>
<p>data frame containing an HCL color palette generated using
<code><a href="#topic+palette_timecycle">palette_timecycle()</a></code>, <code><a href="#topic+palette_timeline">palette_timeline()</a></code>, or <code><a href="#topic+palette_set">palette_set()</a></code>.</p>
</td></tr>
<tr><td><code id="map_multiples_+3A_ncol">ncol</code></td>
<td>
<p>integer specifying the number of columns in the grid of plots.</p>
</td></tr>
<tr><td><code id="map_multiples_+3A_lambda_i">lambda_i</code></td>
<td>
<p>number that allows visual tuning of intensity values via the
<code><a href="scales.html#topic+boxcox_trans">scales::modulus_trans()</a></code> function (see Details). Negative numbers increase
the opacity of cells with low intensity values. Positive numbers decrease
the opacity of cells with low intensity values.</p>
</td></tr>
<tr><td><code id="map_multiples_+3A_labels">labels</code></td>
<td>
<p>character vector of layer labels for each plot. The default is
to not show labels.</p>
</td></tr>
<tr><td><code id="map_multiples_+3A_return_type">return_type</code></td>
<td>
<p>character specifying whether the function should return a
<code>ggplot2</code> plot object (&quot;plot&quot;) or data frame (&quot;df&quot;). The default is to
return a <code>ggplot2</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>lambda_i</code> parameter allows for visual tuning of intensity
values with unusual distributions. For example, distributions often
contain highly skewed intensity values because individuals spend a vast
majority of their time within a relatively small area or because
populations are relatively dense during some seasons and relatively
dispersed during others. This can make visualizing distributions a
challenge. The <code>lambda_i</code> parameter transforms intensity values via the
<code><a href="scales.html#topic+boxcox_trans">scales::modulus_trans()</a></code> function, allowing users to adjust the relative
visual weight of high and low intensity values.
</p>


<h3>Value</h3>

<p>By default, or when <code>return_type = "plot"</code>, the function returns a
map that is a <code>ggplot2</code> plot object.
</p>
<p>When <code>return_type = "df"</code>, the function returns a data frame containing
eight columns:
</p>

<ul>
<li> <p><code>x</code>,<code>y</code>: coordinates of raster cell centers.
</p>
</li>
<li> <p><code>cell_number</code>: integer indicating the cell number.
</p>
</li>
<li> <p><code>layer_cell</code>: a unique ID for the cell within the layer in the format
<code>"layer-cell_number"</code>.
</p>
</li>
<li> <p><code>intensity</code>: maximum cell value across layers divided by the maximum
value across all layers and cells; mapped to alpha level.
</p>
</li>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>layer_id</code>: the identity of the raster layer from which an intensity
value was pulled; mapped to hue.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other map: 
<code><a href="#topic+map_single">map_single</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load fisher data
data("fisher_ud")

# prepare data
r &lt;- metrics_pull(fisher_ud)

# generate palette
pal &lt;- palette_timeline(fisher_ud)

# produce maps, adjusting lambda_i to make areas that were used less
# intensively more conspicuous
map_multiples(r, pal, lambda_i = -5, labels = paste("night", 1:9))
</code></pre>

<hr>
<h2 id='map_single'>Visualize distributions in a single map</h2><span id='topic+map_single'></span>

<h3>Description</h3>

<p>This function enables visualization of distributional
information in a single map by combining distribution metrics and an HCL
color palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_single(
  x,
  palette,
  layer,
  lambda_i = 0,
  lambda_s = 0,
  return_type = c("plot", "stack", "df")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="map_single_+3A_x">x</code></td>
<td>
<p>RasterStack of distributions processed by <code><a href="#topic+metrics_pull">metrics_pull()</a></code> or
<code><a href="#topic+metrics_distill">metrics_distill()</a></code>.</p>
</td></tr>
<tr><td><code id="map_single_+3A_palette">palette</code></td>
<td>
<p>data frame containing an HCL color palette generated using
<code><a href="#topic+palette_timecycle">palette_timecycle()</a></code>, <code><a href="#topic+palette_timeline">palette_timeline()</a></code>, or <code><a href="#topic+palette_set">palette_set()</a></code>.</p>
</td></tr>
<tr><td><code id="map_single_+3A_layer">layer</code></td>
<td>
<p>integer (or character) corresponding to the layer ID (or name)
of layer. A single distribution from within <code>x</code> is mapped when the <code>layer</code>
argument is specified. The <code>layer</code> argument is ignored if
<code><a href="#topic+metrics_distill">metrics_distill()</a></code> was used to generate <code>x</code>.</p>
</td></tr>
<tr><td><code id="map_single_+3A_lambda_i">lambda_i</code></td>
<td>
<p>number that allows visual tuning of intensity values via the
<code><a href="scales.html#topic+boxcox_trans">scales::modulus_trans()</a></code> function (see Details). Negative numbers increase
the opacity of cells with low intensity values. Positive numbers decrease
the opacity of cells with low intensity values.</p>
</td></tr>
<tr><td><code id="map_single_+3A_lambda_s">lambda_s</code></td>
<td>
<p>number that allows visual tuning of specificity values via
the <code><a href="scales.html#topic+boxcox_trans">scales::modulus_trans()</a></code> function (see Details). Negative numbers
increase the chroma of cells with low specificity values. Positive numbers
decrease the chroma of cells with low specificity values.</p>
</td></tr>
<tr><td><code id="map_single_+3A_return_type">return_type</code></td>
<td>
<p>character specifying whether the function should return a
<code>ggplot2</code> plot object (&quot;plot&quot;), <code>RasterStack</code> (&quot;stack&quot;), or data frame
(&quot;df&quot;). The default is to return a <code>ggplot2</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>lambda_i</code> parameter allows for visual tuning of intensity
values with unusual distributions. For example, distributions often
contain highly skewed intensity values because individuals spend a vast
majority of their time within a relatively small area or because
populations are relatively dense during some seasons and relatively
dispersed during others. This can make visualizing distributions a
challenge. The <code>lambda_i</code> parameter transforms intensity values via the
<code><a href="scales.html#topic+boxcox_trans">scales::modulus_trans()</a></code> function, allowing users to adjust the relative
visual weight of high and low intensity values.
</p>
<p>The <code>lambda_s</code> parameter allows for visual tuning of specificity
values via the <code><a href="scales.html#topic+boxcox_trans">scales::modulus_trans()</a></code> function. Adjustment of
<code>lambda_s</code> affects the distribution of chroma values across areas of
relatively low and high specificity, thus modifying information available
to viewers. USE WITH CAUTION!
</p>


<h3>Value</h3>

<p>By default, or when <code>return_type = "plot"</code>, the function returns a
map that is a <code>ggplot2</code> plot object.
</p>
<p>When <code>return_type = "stack"</code>, the function returns a <code>RasterStack</code>
containing five layers that enable RGBa visualization of a map using other
R packages or external GIS software:
</p>

<ul>
<li> <p><code>R</code>: red, integer values (0-255).
</p>
</li>
<li> <p><code>G</code>: green, integer values (0-255).
</p>
</li>
<li> <p><code>B</code>: blue, integer values (0-255).
</p>
</li>
<li> <p><code>alpha</code>: opacity, numeric values (0-255).
</p>
</li>
<li> <p><code>n_layers</code>: number of layers in <code>x</code> with non-NA values.
</p>
</li></ul>

<p>When <code>return_type = "df"</code>, the function returns a data frame containing
seven columns:
</p>

<ul>
<li> <p><code>x</code>,<code>y</code>: coordinates of raster cell centers.
</p>
</li>
<li> <p><code>cell_number</code>: integer indicating the cell number within the raster.
</p>
</li>
<li> <p><code>intensity</code>: maximum cell value across layers divided by the maximum
value across all layers and cells; mapped to alpha level.
</p>
</li>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>layer_id</code>: integer identifying the layer containing the maximum
intensity value; mapped to hue.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other map: 
<code><a href="#topic+map_multiples">map_multiples</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load elephant data
data("elephant_ud")

# prepare metrics
r &lt;- metrics_distill(elephant_ud)

# generate palette
pal &lt;- palette_set(elephant_ud)

# produce map, adjusting lambda_i to make areas that were used less
# intensively more conspicuous
map_single(r, pal, lambda_i = -5)

# return RasterStack containing RGBa values
m &lt;- map_single(r, pal, lambda_i = -5, return_type = "stack")

# visualize RGBa values
library(raster)
plotRGB(m, 1, 2, 3, alpha = as.vector(m[[4]]))
</code></pre>

<hr>
<h2 id='metrics_distill'>Distill a raster stack into a set of distribution metrics</h2><span id='topic+metrics_distill'></span>

<h3>Description</h3>

<p>This function is used to summarize several distributional
features of interest across a series of distributions. Distributional
information in the original raster stack is &quot;distilled&quot; for subsequent
visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metrics_distill(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metrics_distill_+3A_x">x</code></td>
<td>
<p>RasterStack of distributions. Layers typically contain information
about the distribution of a single individual or species at multiple points
in time. Alternatively, layers may contain information about the
distributions of multiple individuals or species within a single time
period. Other conceptualizations are possible.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specificity values range from 0 to 100. Values of 0 indicate
intensity values are identical in all layers. Values of 100 indicate
intensity values are restricted to a single layer. Interpretation of
specificity values depends on the layers provided. If layers describe the
distribution of a species at different times of the year, specificity can
be interpreted as a measure of seasonality (i.e., 0 = stable year-round
occurrence in a cell, 100 = highly seasonal occurrence). If layers describe
space use by multiple individuals, specificity can be interpreted as a
measure of exclusivity (i.e., 0 = equal use of a cell by all individuals,
100 = exclusive use by one individual).
</p>
<p>The number of layers with non-NA values is recorded to aid interpretation
of distributions. Ideally, n_layers values are identical in every cell,
indicating that users have knowledge of distributions over the same area in
every layer of their raster stack. When n_layers values are unequal, it
indicates that users have unequal knowledge of distributions in their
raster stack. Distributions are more likely to be misrepresented and
misinterpreted if cells do not contain intensity values in every layer.
</p>


<h3>Value</h3>

<p>A RasterStack with four layers:
</p>

<ul>
<li> <p><code>intensity</code>: the maximum intensity value across all layers.
</p>
</li>
<li> <p><code>layer_id</code>: an integer identifying layer containing the maximum intensity
value.
</p>
</li>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers (see Details).
</p>
</li>
<li> <p><code>n_layers</code>: the number of layers with non-NA values (see Details).
</p>
</li></ul>

<p>The maximum cell value in the stack is stored as the <code>"maximum"</code> attribute.
The link between the <code>layer_id</code> and the layer names from the underlying
raster is stored as a data frame in the <code>layer_names</code> attribute.
</p>


<h3>See Also</h3>

<p>Other metrics: 
<code><a href="#topic+metrics_pull">metrics_pull</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load elephant data
data("elephant_ud")

# distill
r &lt;- metrics_distill(elephant_ud)
print(r)

# maximum value across all layers stored as an attribute
attr(r, "maximum")
# link between layer id and name stored as an attribute
attr(r, "layer_names")
</code></pre>

<hr>
<h2 id='metrics_pull'>Transform raster stack values to intensity values</h2><span id='topic+metrics_pull'></span>

<h3>Description</h3>

<p>This function transforms raster stack values that describe
individual distributions or species distributions into standardized
intensity values. All the distributional information in the original raster
stack is preserved for visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metrics_pull(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metrics_pull_+3A_x">x</code></td>
<td>
<p>RasterStack of distributions. Layers typically contain information
about the distribution of a single individual or species at multiple points
in time. Alternatively, layers may contain information about the
distributions of multiple individuals or species within a single time
period. Other conceptualizations are possible.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A RasterStack containing intensity values. Intensity values are
calculated by dividing cell values in every layer by the maximum cell value
in the entire stack, thus ensuring intensities are comparable across
layers.
</p>
<p>The maximum cell value in the stack is stored as the <code>"maximum"</code> attribute.
</p>


<h3>See Also</h3>

<p>Other metrics: 
<code><a href="#topic+metrics_distill">metrics_distill</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load elephant data
data("elephant_ud")
r &lt;- metrics_pull(elephant_ud)
print(r)
# maximum value for the stack stored as an attribute
attr(r, "maximum")
</code></pre>

<hr>
<h2 id='palette_set'>Make an HCL palette for visualizing an unordered set of distributions</h2><span id='topic+palette_set'></span>

<h3>Description</h3>

<p>This function generates an HCL palette for visualizing a small
set of distributions (i.e., eight or fewer) that are not ordered in a
linear or cyclical sequence (e.g., a set of utilization distributions
describing space use by five separate individuals in the same population or
a set of four species distributions that depend on similar food resources).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palette_set(x, custom_hues)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="palette_set_+3A_x">x</code></td>
<td>
<p>RasterStack or integer describing the number of layers for which
colors need to be generated.</p>
</td></tr>
<tr><td><code id="palette_set_+3A_custom_hues">custom_hues</code></td>
<td>
<p>vector of integers between -360 and 360 representing
hues in the color wheel. For further details, consult the documentation
for <a href="colorspace.html#topic+rainbow_hcl">colorspace::rainbow_hcl</a>. The length of the vector must equal the
number of layers described by <code>x</code>. Hues are assigned to layers in order.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns:
</p>

<ul>
<li> <p><code>layer_id</code>: integer identifying the layer containing the maximum
intensity value; mapped to hue.
</p>
</li>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+palette_timecycle">palette_timecycle</a> for cyclical sequences of distributions and
<a href="#topic+palette_timeline">palette_timeline</a> for linear sequences of distributions.
</p>
<p>Other palette: 
<code><a href="#topic+palette_timecycle">palette_timecycle</a>()</code>,
<code><a href="#topic+palette_timeline">palette_timeline</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load elephant data
data(elephant_ud)

# generate hcl color palette
pal &lt;- palette_set(elephant_ud)
head(pal)

# visualize the palette in HCL space with colorspace::hclplot
library(colorspace)
hclplot(pal[pal$specificity == 100, ]$color)
</code></pre>

<hr>
<h2 id='palette_timecycle'>Make an HCL palette for visualizing a cyclical sequence of distributions</h2><span id='topic+palette_timecycle'></span>

<h3>Description</h3>

<p>This function generates an HCL palette for visualizing
a cyclical sequence of distributions (e.g., a series of distributions
describing species occurrence in each of 52 weeks of the annual
cycle or a series of utilization distributions describing typical
space use by an individual animal in each hour of a 24-hour daily cycle).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palette_timecycle(x, start_hue = 240, clockwise = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="palette_timecycle_+3A_x">x</code></td>
<td>
<p>RasterStack or integer describing the number of layers for which
colors need to be generated.</p>
</td></tr>
<tr><td><code id="palette_timecycle_+3A_start_hue">start_hue</code></td>
<td>
<p>integer between -360 and 360 representing the starting hue
in an HCL color wheel. For further details, consult the documentation for
<a href="colorspace.html#topic+rainbow_hcl">colorspace::rainbow_hcl</a>. The default value of 240 will start the palette
at &quot;blue&quot;.</p>
</td></tr>
<tr><td><code id="palette_timecycle_+3A_clockwise">clockwise</code></td>
<td>
<p>logical indicating which direction to move around color
wheel. The default <code>clockwise = TRUE</code> will yield a
&quot;blue-green-yellow-pink-blue&quot; palette when <code>start_hue = 240</code>, while
<code>clockwise = FALSE</code> will yield a &quot;blue-pink-yellow-green-blue&quot; palette.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns:
</p>

<ul>
<li> <p><code>layer_id</code>: integer identifying the layer containing the maximum
intensity value; mapped to hue.
</p>
</li>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+palette_timeline">palette_timeline</a> for linear sequences of distributions and
<a href="#topic+palette_set">palette_set</a> for unordered sets of distributions.
</p>
<p>Other palette: 
<code><a href="#topic+palette_set">palette_set</a>()</code>,
<code><a href="#topic+palette_timeline">palette_timeline</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load field sparrow data
data(fiespa_occ)

# generate hcl color palette
pal &lt;- palette_timecycle(fiespa_occ)
head(pal)

# visualize the palette in HCL space with colorspace::hclplot
library(colorspace)
hclplot(pal[pal$specificity == 100, ]$color)
</code></pre>

<hr>
<h2 id='palette_timeline'>Make an HCL palette for visualizing a linear sequence of distributions</h2><span id='topic+palette_timeline'></span>

<h3>Description</h3>

<p>This function generates an HCL palette for visualizing a linear
sequence of distributions (e.g., a series of utilization
distributions describing space use by an individual animal across each of
20 consecutive days or a series of species distributions describing
projected responses to global warming in 0.5 C increments).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palette_timeline(x, start_hue = -130, clockwise = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="palette_timeline_+3A_x">x</code></td>
<td>
<p>RasterStack or integer describing the number of layers for which
colors need to be generated.</p>
</td></tr>
<tr><td><code id="palette_timeline_+3A_start_hue">start_hue</code></td>
<td>
<p>integer between -360 and 360 representing the starting hue
in the color wheel. For further details, consult the documentation for
<a href="colorspace.html#topic+rainbow_hcl">colorspace::rainbow_hcl</a>. Recommended values are -130 (&quot;blue-pink-yellow&quot;
palette) and 50 (&quot;yellow-green-blue&quot; palette).</p>
</td></tr>
<tr><td><code id="palette_timeline_+3A_clockwise">clockwise</code></td>
<td>
<p>logical indicating which direction to move around an HCL
color wheel. When <code>clockwise = FALSE</code> the ending hue will be <code>start_hue + 180</code>. When <code>clockwise = TRUE</code> the ending hue will be <code>start_hue - 180</code>. The
default value <code>clockwise = FALSE</code> will yield a &quot;blue-pink-yellow&quot; palette
when <code>start_hue = -130</code>, while <code>clockwise = TRUE</code> will yield a
&quot;blue-green-yellow&quot; palette.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns:
</p>

<ul>
<li> <p><code>layer_id</code>: integer identifying the layer containing the maximum
intensity value; mapped to hue.
</p>
</li>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+palette_timecycle">palette_timecycle</a> for cyclical sequences of distributions and
<a href="#topic+palette_set">palette_set</a> for unordered sets of distributions.
</p>
<p>Other palette: 
<code><a href="#topic+palette_set">palette_set</a>()</code>,
<code><a href="#topic+palette_timecycle">palette_timecycle</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load fisher data
data(fisher_ud)

# generate hcl color palette
pal_a &lt;- palette_timeline(fisher_ud)
head(pal_a)

# use a clockwise palette
pal_b &lt;- palette_timeline(fisher_ud, clockwise = TRUE)

# try a different starting hue
pal_c &lt;- palette_timeline(fisher_ud, start = 50)

# visualize the palette in HCL space  with colorspace::hclplot
library(colorspace)
hclplot(pal_a[pal_a$specificity == 100, ]$color)
hclplot(pal_b[pal_b$specificity == 100, ]$color)
hclplot(pal_c[pal_c$specificity == 100, ]$color)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

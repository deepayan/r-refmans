<!DOCTYPE html><html><head><title>Help for package raymolecule</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {raymolecule}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#convert_color'><p>Convert Color</p></a></li>
<li><a href='#cross'><p>Cross Product of two</p></a></li>
<li><a href='#generate_atom_scene'><p>Build Scene (atoms only)</p></a></li>
<li><a href='#generate_bond_scene'><p>Build Scene (bonds only)</p></a></li>
<li><a href='#generate_full_scene'><p>Build  Scene (bonds + atoms)</p></a></li>
<li><a href='#get_example_molecule'><p>Get Example Molecule</p></a></li>
<li><a href='#get_molecule'><p>Get Molecule</p></a></li>
<li><a href='#onb_from_w'><p>Create Orthonormal Basis from w (z)</p></a></li>
<li><a href='#read_pdb'><p>Read PDB File</p></a></li>
<li><a href='#read_sdf'><p>Read SDF File</p></a></li>
<li><a href='#render_model'><p>Render Molecule Model</p></a></li>
<li><a href='#run_documentation'><p>Run Documentation</p></a></li>
<li><a href='#unit_vector'><p>Unit vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Parse and Render Molecular Structures in 3D</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-2-18</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tyler Morgan-Wall &lt;tylermw@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Downloads and parses 'SDF' (Structural Description Format) and 'PDB' (Protein Database) files for 3D rendering.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>rayrender (&ge; 0.31.2), magrittr, PeriodicTable, httr,
rayvertex (&ge; 0.10.4)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.0</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://www.raymolecule.com/">http://www.raymolecule.com/</a>,
<a href="https://github.com/tylermorganwall/raymolecule">https://github.com/tylermorganwall/raymolecule</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tylermorganwall/raymolecule/issues">https://github.com/tylermorganwall/raymolecule/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-21 02:18:07 UTC; tyler</td>
</tr>
<tr>
<td>Author:</td>
<td>Tyler Morgan-Wall <a href="https://orcid.org/0000-0002-3131-3814"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-22 00:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='convert_color'>Convert Color</h2><span id='topic+convert_color'></span>

<h3>Description</h3>

<p>Convert Color
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_color(color, as_hex = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_color_+3A_color">color</code></td>
<td>
<p>The color to convert. Can be either a hexadecimal code, or a numeric rgb
vector listing three intensities between '0' and '1'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Color vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#none
</code></pre>

<hr>
<h2 id='cross'>Cross Product of two</h2><span id='topic+cross'></span>

<h3>Description</h3>

<p>Cross Product of two
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cross(a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cross_+3A_a">a</code></td>
<td>
<p>Length-3 numeric vector.</p>
</td></tr>
<tr><td><code id="cross_+3A_b">b</code></td>
<td>
<p>Length-3 numeric vector.</p>
</td></tr>
</table>

<hr>
<h2 id='generate_atom_scene'>Build Scene (atoms only)</h2><span id='topic+generate_atom_scene'></span>

<h3>Description</h3>

<p>Reads an SDF file and extracts the 3D molecule model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_atom_scene(
  model,
  x = 0,
  y = 0,
  z = 0,
  scale = 1,
  center = TRUE,
  pathtrace = TRUE,
  material = rayrender::glossy,
  material_vertex = material_list(type = "phong")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_atom_scene_+3A_model">model</code></td>
<td>
<p>Model extracted from a PDB or SDF file.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_x">x</code></td>
<td>
<p>Default '0'. X offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_y">y</code></td>
<td>
<p>Default '0'. Y offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_z">z</code></td>
<td>
<p>Default '0'. Z offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_scale">scale</code></td>
<td>
<p>Default '1'. Amount to scale the inter-atom spacing.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_center">center</code></td>
<td>
<p>Default 'TRUE'. Centers the bounding box of the model.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_pathtrace">pathtrace</code></td>
<td>
<p>Default 'TRUE'. If 'FALSE', the 'rayvertex' package will be used to render the scene.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_material">material</code></td>
<td>
<p>Default 'rayrender::glossy'. Rayrender material to use when 'pathtrace = TRUE'. Must be either 'glossy', 'diffuse', or 'dielectric'.</p>
</td></tr>
<tr><td><code id="generate_atom_scene_+3A_material_vertex">material_vertex</code></td>
<td>
<p>Default 'rayvertex::material_list()'. Material to use when 'pathtrace = FALSE'.
'diffuse'/'ambient' colors and 'ambient_intensity' are determined automatically, but all other material
properties can be changed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rayrender/rayvertex scene containing only the atoms in a molecule/protein.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate a scene with caffeine molecule with just the atoms

get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_atom_scene() %&gt;%
  render_model(samples=256,sample_method="sobol_blue")

#Generate a rayvertex scene, using toon shading
shiny_toon_material = rayvertex::material_list(type="toon_phong",
                                               toon_levels=3,
                                               toon_outline_width=0.1)
get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_atom_scene(pathtrace=FALSE, material_vertex = shiny_toon_material) %&gt;%
  render_model(background="white")

#Generate a scene with caffeine, reducing the inter-atom spacing
get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_atom_scene(scale=0.5) %&gt;%
  render_model(samples=256,sample_method="sobol_blue")

</code></pre>

<hr>
<h2 id='generate_bond_scene'>Build Scene (bonds only)</h2><span id='topic+generate_bond_scene'></span>

<h3>Description</h3>

<p>Reads an SDF file and extracts the 3D molecule model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_bond_scene(
  model,
  x = 0,
  y = 0,
  z = 0,
  scale = 1,
  center = TRUE,
  force_single_bonds = FALSE,
  pathtrace = TRUE,
  material = rayrender::glossy,
  material_vertex = material_list(diffuse = "grey33", ambient = "grey33", type = "phong",
    ambient_intensity = 0.3)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_bond_scene_+3A_model">model</code></td>
<td>
<p>Model extracted from a PDB or SDF file.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_x">x</code></td>
<td>
<p>Default '0'. X offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_y">y</code></td>
<td>
<p>Default '0'. Y offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_z">z</code></td>
<td>
<p>Default '0'. Z offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_scale">scale</code></td>
<td>
<p>Default '1'. Amount to scale the interatom spacing.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_center">center</code></td>
<td>
<p>Default 'TRUE'. Centers the bounding box of the model.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_force_single_bonds">force_single_bonds</code></td>
<td>
<p>Default 'FALSE'. Whether to force all bonds to show as a single connection.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_pathtrace">pathtrace</code></td>
<td>
<p>Default 'TRUE'. If 'FALSE', the 'rayvertex' package will be used to render the scene.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_material">material</code></td>
<td>
<p>Default 'rayrender::glossy'. Rayrender material to use when 'pathtrace = TRUE'. Must be either 'glossy', 'diffuse', or 'dielectric'.</p>
</td></tr>
<tr><td><code id="generate_bond_scene_+3A_material_vertex">material_vertex</code></td>
<td>
<p>Default 'material_list(diffuse=&quot;grey33&quot;,ambient=&quot;grey33&quot;,type=&quot;phong&quot;, ambient_intensity=0.3)'.
Material to use for the bonds when 'pathtrace = FALSE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rayrender/rayvertex scene containing only the connections between atoms in a molecule/protein.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate a scene with benzene molecule with just the atoms

get_example_molecule("benzene") %&gt;%
  read_sdf() %&gt;%
  generate_bond_scene() %&gt;%
  render_model(lights = "both", samples=256,sample_method="sobol_blue")

#Force single bonds to just show the shape of the molecule
get_example_molecule("benzene") %&gt;%
  read_sdf() %&gt;%
  generate_bond_scene(force_single_bonds = TRUE) %&gt;%
  render_model(lights = "both", samples=256,sample_method="sobol_blue")

#Generate a scene with PFOA, reducing the inter-atom spacing
get_example_molecule("pfoa") %&gt;%
  read_sdf() %&gt;%
  generate_bond_scene(scale=0.3,force_single_bonds = TRUE) %&gt;%
  render_model(lights = "both", samples=256,sample_method="sobol_blue")

</code></pre>

<hr>
<h2 id='generate_full_scene'>Build  Scene (bonds + atoms)</h2><span id='topic+generate_full_scene'></span>

<h3>Description</h3>

<p>Reads an SDF file and extracts the 3D molecule model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_full_scene(
  model,
  x = 0,
  y = 0,
  z = 0,
  scale = 1,
  center = TRUE,
  pathtrace = TRUE,
  force_single_bonds = FALSE,
  material = rayrender::glossy,
  material_vertex = material_list(type = "phong")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_full_scene_+3A_model">model</code></td>
<td>
<p>Model extracted from a PDB or SDF file.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_x">x</code></td>
<td>
<p>Default '0'. X offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_y">y</code></td>
<td>
<p>Default '0'. Y offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_z">z</code></td>
<td>
<p>Default '0'. Z offset, applied after centering.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_scale">scale</code></td>
<td>
<p>Default '1'. Amount to scale the interatom spacing.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_center">center</code></td>
<td>
<p>Default 'TRUE'. Centers the bounding box of the model.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_pathtrace">pathtrace</code></td>
<td>
<p>Default 'TRUE'. If 'FALSE', the 'rayvertex' package will be used to render the scene.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_force_single_bonds">force_single_bonds</code></td>
<td>
<p>Default 'FALSE'. Whether to force all bonds to show as a single connection.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_material">material</code></td>
<td>
<p>Default 'rayrender::glossy'. Rayrender material to use when 'pathtrace = TRUE'. Must be either 'glossy', 'diffuse', or 'dielectric'.</p>
</td></tr>
<tr><td><code id="generate_full_scene_+3A_material_vertex">material_vertex</code></td>
<td>
<p>Default 'rayvertex::material_list()'. Material to use when 'pathtrace = FALSE'.
'diffuse'/'ambient' colors and 'ambient_intensity' are determined automatically, but all other material
properties can be changed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rayrender/rayvertex scene
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a scene with caffeine molecule

get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene() %&gt;%
  render_model(samples=256,sample_method="sobol_blue")

#Generate a rayvertex scene with a custom material
get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene(pathtrace=FALSE, material_vertex=rayvertex::material_list(type="phong")) %&gt;%
  render_model(background="grey33")

#Generate a rayvertex scene, using toon shading
shiny_toon_material = rayvertex::material_list(type="toon_phong",
                                               toon_levels=3,
                                               toon_outline_width=0.1)
get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene(pathtrace=FALSE, material_vertex=shiny_toon_material) %&gt;%
  render_model(background="grey66")

# Generate a scene with morphine, increasing the inter-atom spacing
get_example_molecule("tubocurarine_chloride") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene(scale=1.5) %&gt;%
  render_model(samples=256,sample_method="sobol_blue")


# Force bonds to appear as a single link (to focus purely on the shape of the molecule)
get_example_molecule("tubocurarine_chloride") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene(force_single_bonds = TRUE) %&gt;%
  render_model(samples=256,sample_method="sobol_blue")


</code></pre>

<hr>
<h2 id='get_example_molecule'>Get Example Molecule</h2><span id='topic+get_example_molecule'></span>

<h3>Description</h3>

<p>Loads the structure of the built-in molecules. All SDF files obtained from Pubchem.
txt extension only included to pass R CHECK.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_example_molecule(molecule)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_example_molecule_+3A_molecule">molecule</code></td>
<td>
<p>One of the built-in SDF files. These are &quot;benzene&quot;, &quot;buckyball&quot;,
&quot;caffeine&quot;, &quot;capsaicin&quot;, &quot;cinnemaldehyde&quot;, &quot;geraniol&quot;, &quot;luciferin&quot;, &quot;morphine&quot;,
&quot;penicillin&quot;, &quot;pfoa&quot;, &quot;skatole&quot;, &quot;tubocurarine_chloride&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List giving the atom locations and the connections between atoms.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_example_molecule("benzene")
get_example_molecule("cinnemaldehyde")
get_example_molecule("geraniol")
</code></pre>

<hr>
<h2 id='get_molecule'>Get Molecule</h2><span id='topic+get_molecule'></span>

<h3>Description</h3>

<p>Loads the structure of a molecule by fetching an SDF file from Pubchem, which can be piped to generate_full_scene
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_molecule(molecule)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_molecule_+3A_molecule">molecule</code></td>
<td>
<p>A character variable of a compound name or a numeric variable of an official compound ID</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List giving the atom locations and the connections between atoms.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(run_documentation()) {
get_molecule("caffeine") %&gt;%
  generate_full_scene() %&gt;%
  render_model()
}
if(run_documentation()) {
#estradiol (aka estrogen)
get_molecule(5757) %&gt;%
  generate_full_scene() %&gt;%
  render_model()
}
if(run_documentation()) {
get_molecule("testosterone") %&gt;%
  generate_full_scene() %&gt;%
  render_model()
}
if(run_documentation()) {
get_molecule("aspirin") %&gt;%
  generate_full_scene() %&gt;%
  render_model()
}
if(run_documentation()) {
get_molecule("rutoside") %&gt;%
  generate_full_scene() %&gt;%
  render_model()
}
if(run_documentation()) {
#If the 3D SDF doesn't exist, this function will pull the 2D SDF and inform the user
get_molecule("cyanocobalamin") %&gt;%
  generate_full_scene() %&gt;%
  render_model()
}
</code></pre>

<hr>
<h2 id='onb_from_w'>Create Orthonormal Basis from w (z)</h2><span id='topic+onb_from_w'></span>

<h3>Description</h3>

<p>Create Orthonormal Basis from w (z)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>onb_from_w(n)
</code></pre>

<hr>
<h2 id='read_pdb'>Read PDB File</h2><span id='topic+read_pdb'></span>

<h3>Description</h3>

<p>Reads an PDB file and extracts the atom locations and bonds (does not include any other structual
information currently). This pulls out ATOM and HETAHM records by default, along with available
connections.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_pdb(filename, atom = TRUE, nsr = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_pdb_+3A_filename">filename</code></td>
<td>
<p>Path to the PDB file.</p>
</td></tr>
<tr><td><code id="read_pdb_+3A_atom">atom</code></td>
<td>
<p>Default 'TRUE'. Whether to pull out standard residue (ATOM) records.</p>
</td></tr>
<tr><td><code id="read_pdb_+3A_nsr">nsr</code></td>
<td>
<p>Default 'TRUE'. Whether to pull out nonstandard residue (HETAHM) records.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List giving the atom locations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#This assumes a hypothetical PDB file in your working directory:
if(file.exists("3nir.pdb")) {
  read_pdb("3nir.pdb") %&gt;%
    generate_full_scene() %&gt;%
    render_model()
}
</code></pre>

<hr>
<h2 id='read_sdf'>Read SDF File</h2><span id='topic+read_sdf'></span>

<h3>Description</h3>

<p>Reads an SDF file and extracts the 3D molecule model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_sdf(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_sdf_+3A_filename">filename</code></td>
<td>
<p>Filename to the sdf file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List giving the atom locations and the connections between atoms.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#This assumes a hypothetical SDF file in your working directory:
if(file.exists("molecule.sdf")) {
  read_pdb("molecule.sdf") %&gt;%
    generate_full_scene() %&gt;%
    render_model()
}
</code></pre>

<hr>
<h2 id='render_model'>Render Molecule Model</h2><span id='topic+render_model'></span>

<h3>Description</h3>

<p>Automatically plots the molecule with a camera position and field of view that includes the full model.
For more control over the scene, pass the scene to 'rayrender::render_scene()' or 'rayvertex::rasterize_scene()' and specify
the camera position manually. Note: spheres and cylinders in the scene are used to automatically
compute the field of view of the scene&ndash;if rendering with rayrender, adding additional sphere (e.g. with 'rayrender::generate_ground()')
will change this calculation. Use 'rayrender::render_scene()' instead if this is a problem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_model(
  scene,
  fov = NULL,
  angle = c(0, 0, 0),
  order_rotation = c(1, 2, 3),
  lights = "top",
  lightintensity = 80,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_model_+3A_scene">scene</code></td>
<td>
<p>'rayrender' scene of molecule model.</p>
</td></tr>
<tr><td><code id="render_model_+3A_fov">fov</code></td>
<td>
<p>Default 'NULL', automatically calculated. Camera field of view.</p>
</td></tr>
<tr><td><code id="render_model_+3A_angle">angle</code></td>
<td>
<p>Default 'c(0,0,0)'. Degrees to rotate the model around the X, Y, and Z axes. If this
is a single number, it will be taken as the Y axis rotation.</p>
</td></tr>
<tr><td><code id="render_model_+3A_order_rotation">order_rotation</code></td>
<td>
<p>Default 'c(1,2,3)'. What order to apply the rotations specified in 'angle'.</p>
</td></tr>
<tr><td><code id="render_model_+3A_lights">lights</code></td>
<td>
<p>Default 'top'. If 'none', removes all lights. If 'bottom', lights scene with light
underneath model. If 'both', adds lights both above and below model. This can also be a matrix of
light information generated with 'rayvertex'.</p>
</td></tr>
<tr><td><code id="render_model_+3A_lightintensity">lightintensity</code></td>
<td>
<p>Default '80'. Light intensity for pathtraced scenes.</p>
</td></tr>
<tr><td><code id="render_model_+3A_...">...</code></td>
<td>
<p>Other arguments to pass to 'rayrender::render_scene()' or 'rayvertex::rasterize_scene()'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rendered image
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a scene with caffeine molecule with just the atoms

get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene() %&gt;%
  render_model(samples=256,sample_method="sobol_blue")

#Light the example from below as well
get_example_molecule("caffeine") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene() %&gt;%
  render_model(lights = "both", samples=256,sample_method="sobol_blue")

#Generate a scene with penicillin, increasing the number of samples and the width/height
#for a higher quality render.
get_example_molecule("penicillin") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene() %&gt;%
  render_model(lights = "both", samples=256, width=800, height=800,sample_method="sobol_blue")

#Render the scene with rayvertex and custom lights
get_example_molecule("penicillin") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene(pathtrace=FALSE) %&gt;%
  render_model(width=800, height=800,background="grey66",
               lights = rayvertex::directional_light(c(0.2,1,1)))

#Rotate the molecule 30 degrees around the y axis, and the 30 degrees around the z axis
get_example_molecule("penicillin") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene() %&gt;%
  render_model(lights = "both", samples=256, width=800, height=800,
               angle=c(0,30,30),sample_method="sobol_blue")



#Add a checkered plane underneath, using rayrender::add_object and rayrender::xz_rect().
#We also pass a value to `clamp_value` to minimize fireflies (bright spots).
library(rayrender)
get_example_molecule("skatole") %&gt;%
  read_sdf() %&gt;%
  generate_full_scene() %&gt;%
  add_object(xz_rect(xwidth=1000,zwidth=1000,y=-4,
                     material=diffuse(color="#330000",checkercolor="#770000"))) %&gt;%
  render_model(samples=256, width=800, height=800, clamp_value=10,
               sample_method="sobol_blue")

</code></pre>

<hr>
<h2 id='run_documentation'>Run Documentation</h2><span id='topic+run_documentation'></span>

<h3>Description</h3>

<p>This function determines if the examples are being run in pkgdown. It is not meant to be called by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_documentation()
</code></pre>


<h3>Value</h3>

<p>Boolean value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See if the documentation should be run.
run_documentation()
</code></pre>

<hr>
<h2 id='unit_vector'>Unit vector</h2><span id='topic+unit_vector'></span>

<h3>Description</h3>

<p>Unit vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unit_vector(v)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unit_vector_+3A_v">v</code></td>
<td>
<p>Numeric vector.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

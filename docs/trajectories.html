<!DOCTYPE html><html><head><title>Help for package trajectories</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {trajectories}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#A3'><p>Trajectory</p></a></li>
<li><a href='#as.list.Tracks'>
<p>as.list.Tracks</p>
</a></li>
<li><a href='#as.list.TracksCollection'>
<p>as.list.TracksCollection</p>
</a></li>
<li><a href='#as.Track'>
<p>Converts data to an object of class &quot;Track&quot;</p></a></li>
<li><a href='#as.Track.arrow'>
<p>Convert trajectory pattern to a list of marked point patterns</p></a></li>
<li><a href='#as.Track.ppp'>
<p>Conver trajectory pattern to a list of objects of class ppp</p></a></li>
<li><a href='#auto.arima.Track'>
<p>Fitting arima model to a track</p></a></li>
<li><a href='#avedistTrack'>
<p>Average pairwise distance of trajectory pattern over time</p></a></li>
<li><a href='#avemove'>
<p>Average movement of trajectory pattern</p></a></li>
<li><a href='#chimaps'>
<p>Chimaps of tarjectory pattern.</p></a></li>
<li><a href='#compare'><p>Compares objects of class <code>Track</code></p></a></li>
<li><a href='#cut'><p> obtain ranges of space and time coordinates</p></a></li>
<li><a href='#density.list'>
<p>Kernel estimate of intensity of trajectory pattern</p></a></li>
<li><a href='#difftrack-class'><p>Class &quot;difftrack&quot;</p></a></li>
<li><a href='#dists
'><p>Calculate distances between two <code>Tracks</code> objects</p></a></li>
<li><a href='#downsample'><p>Downsample a <code>Track</code></p></a></li>
<li><a href='#frechetDist'><p>Frechet distance</p></a></li>
<li><a href='#generalize'><p>Generalize objects of class <code>Track</code>, <code>Tracks</code> and <code>TracksCollection</code></p></a></li>
<li><a href='#Kinhom.Track'>
<p>Inhomogeneous K-function for trajectory pattern</p></a></li>
<li><a href='#pcfinhom.Track'>
<p>Pair correlation funcrion of trajectory pattern</p></a></li>
<li><a href='#plot.arwlen'>
<p>Methods for class &quot;arwlen&quot;</p></a></li>
<li><a href='#plot.distrack'>
<p>Methods for class &quot;distrack&quot;</p></a></li>
<li><a href='#plot.gTrack'>
<p>Methods for class &quot;gTrack&quot;</p></a></li>
<li><a href='#plot.KTrack'>
<p>Methods for class &quot;KTrack&quot;</p></a></li>
<li><a href='#print.ArimaTrack'>
<p>Methods for class &quot;ArimaTrack&quot;</p></a></li>
<li><a href='#print.arwlen'>
<p>Methods for class &quot;arwlen&quot;</p></a></li>
<li><a href='#print.distrack'>
<p>Methods for class &quot;distrack&quot;</p></a></li>
<li><a href='#print.gTrack'>
<p>Methods for class &quot;gTrack&quot;</p></a></li>
<li><a href='#print.KTrack'>
<p>Methods for class &quot;KTrack&quot;</p></a></li>
<li><a href='#print.ppplist'>
<p>Methods for class &quot;Track&quot;</p></a></li>
<li><a href='#print.Track'>
<p>Methods for class &quot;Track&quot;</p></a></li>
<li><a href='#print.Tracks'>
<p>Methods for class &quot;Tracks&quot;</p></a></li>
<li><a href='#print.TracksCollection'>
<p>Methods for class &quot;TracksCollection&quot;</p></a></li>
<li><a href='#print.Trrow'>
<p>Methods for class &quot;Trrow&quot;</p></a></li>
<li><a href='#range.Track'>
<p>range.Track</p>
</a></li>
<li><a href='#reTrack'>
<p>Reconstruct objects of class &quot;Track&quot;</p></a></li>
<li><a href='#rTrack'><p>Generate random <code>Track</code>, <code>Tracks</code> or <code>TracksCollection</code> objects</p></a></li>
<li><a href='#stbox'><p> obtain ranges of space and time coordinates</p></a></li>
<li><a href='#stcube'><p>Draw a space-time cube.</p></a></li>
<li><a href='#storms'><p>Storm trajectories</p></a></li>
<li><a href='#Track-class'><p>Classes &quot;Track&quot;, &quot;Tracks&quot;, and &quot;TracksCollection&quot;</p></a></li>
<li><a href='#Track.idw'>
<p>Movement smoothing of trajectory pattern</p></a></li>
<li><a href='#tsqTracks'>
<p>tsqTracks</p></a></li>
<li><a href='#unique.Track'>
<p>unique.Track</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2-8</td>
</tr>
<tr>
<td>Title:</td>
<td>Classes and Methods for Trajectory Data</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, graphics, methods, lattice, sp (&ge; 1.1-0),
spacetime (&ge; 1.0-0), zoo</td>
</tr>
<tr>
<td>Suggests:</td>
<td>OpenStreetMap, RCurl, rjson, adehabitatLT, xts, knitr, rgl,
forecast, MASS, spatstat (&ge; 2.0-1), spatstat.explore,
spatstat.geom, taxidata, sf</td>
</tr>
<tr>
<td>Description:</td>
<td>Classes and methods for trajectory data, with support for nesting individual Track objects in track sets (Tracks) and track sets for different entities in collections of Tracks. Methods include selection, generalization, aggregation, intersection, simulation, and plotting.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/edzer/trajectories">https://github.com/edzer/trajectories</a></td>
</tr>
<tr>
<td>Additional_repositories:</td>
<td><a href="http://cran.uni-muenster.de/pebesma/">http://cran.uni-muenster.de/pebesma/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/edzer/trajectories/issues">https://github.com/edzer/trajectories/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Collate:</td>
<td>Class-Tracks.R Tracks-methods.R generalize.R stcube.R stplot.R
difftrack.R compare-methods.R rtracks.R Trackstat.R</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Author:</td>
<td>Edzer Pebesma <a href="https://orcid.org/0000-0001-8049-7069"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Benedikt Klus [aut],
  Benedikt Graeler [ctb],
  Nikolai Gorte [ctb],
  Mehdi Moradi [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Edzer Pebesma &lt;edzer.pebesma@uni-muenster.de&gt;</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-25 16:00:40 UTC; edzer</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-28 00:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='A3'>Trajectory</h2><span id='topic+A3'></span>

<h3>Description</h3>

<p>Trajectory, locally stored, from envirocar.org, see example below how it was imported</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(A3)
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>library(spacetime)
data(A3)
dim(A3)
# see demo(A3) to see how A3 was fetched, and created from the web service
</code></pre>

<hr>
<h2 id='as.list.Tracks'>
as.list.Tracks

</h2><span id='topic+as.list.Tracks'></span>

<h3>Description</h3>

<p>Convert a &quot;Tracks&quot; object to a list of tracks

</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Tracks'
as.list(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.list.Tracks_+3A_x">x</code></td>
<td>

<p>an object of class &quot;Tracks&quot;

</p>
</td></tr>
<tr><td><code id="as.list.Tracks_+3A_...">...</code></td>
<td>
<p>passed to arguments of as.list</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+rTracks">rTracks</a>, <a href="#topic+rTracksCollection">rTracksCollection</a>, <a href="base.html#topic+as.list">as.list</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;-  rTracks()
as.list(x)
</code></pre>

<hr>
<h2 id='as.list.TracksCollection'>
as.list.TracksCollection

</h2><span id='topic+as.list.TracksCollection'></span>

<h3>Description</h3>

<p>Convert a &quot;TracksCollection&quot; object to a list of tracks

</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TracksCollection'
as.list(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.list.TracksCollection_+3A_x">x</code></td>
<td>

<p>an object of class &quot;TracksCollection&quot;

</p>
</td></tr>
<tr><td><code id="as.list.TracksCollection_+3A_...">...</code></td>
<td>
<p>passed to arguments of as.list</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+rTracks">rTracks</a>, <a href="#topic+rTracksCollection">rTracksCollection</a>, <a href="base.html#topic+as.list">as.list</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;-  rTracksCollection()
as.list(x)
</code></pre>

<hr>
<h2 id='as.Track'>
Converts data to an object of class &quot;Track&quot;
</h2><span id='topic+as.Track'></span>

<h3>Description</h3>

<p>Function as.Track  accepts converts x,y coordinates and thier corresponding time/date to an object of class Track. It can also accepts covariates for the corresponding 
locations, covariates must be a dataframe with some columns and length of each column is equal
to length of x,y,t.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.Track(x,y,t,covariate)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.Track_+3A_x">x</code></td>
<td>
<p> x coordinate.
</p>
</td></tr>
<tr><td><code id="as.Track_+3A_y">y</code></td>
<td>
<p> y coordinate.
</p>
</td></tr>
<tr><td><code id="as.Track_+3A_t">t</code></td>
<td>
<p> corresponding time and date of x,y.
</p>
</td></tr>
<tr><td><code id="as.Track_+3A_covariate">covariate</code></td>
<td>
<p> additional information.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An object of class &quot;Track&quot; can be created by some geographical locations and corresponding time/dates. Function as.Track converts locations and dates/times to an object of class &quot;Track&quot;. time/date should be from class &quot;POSIXct&quot; &quot;POSIXt&quot;. See example below.
</p>


<h3>Value</h3>

<p>An object of class &quot;Track&quot;.</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+Track">Track</a>, <a href="base.html#topic+as.POSIXct">as.POSIXct</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- runif(10,0,1)
y &lt;- runif(10,0,1)
date &lt;- seq(as.POSIXct("2015-1-1 0:00"), as.POSIXct("2015-1-1 9:00"), by = "hour")
Z &lt;- as.Track(x,y,date)
plot(Z)
</code></pre>

<hr>
<h2 id='as.Track.arrow'>
Convert trajectory pattern to a list of marked point patterns
</h2><span id='topic+as.Track.arrow'></span>

<h3>Description</h3>

<p>Converting a list of Track objects to a list of marked point patterns. Each mark shows the length of movement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.Track.arrow(X,timestamp,epsilon=epsilon)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.Track.arrow_+3A_x">X</code></td>
<td>

<p>A list of Track objects
</p>
</td></tr>
<tr><td><code id="as.Track.arrow_+3A_timestamp">timestamp</code></td>
<td>
<p>based on secs, mins,...</p>
</td></tr>
<tr><td><code id="as.Track.arrow_+3A_epsilon">epsilon</code></td>
<td>
<p>(optional) movements with length less than epsilon are not considered in the calculation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converting a list of Track objetcs to a list of marked point patterns. Marks show the length of movement with respect to the previous location.
</p>


<h3>Value</h3>

<p>a list of marked point patterns.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+as.Track.ppp">as.Track.ppp</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.geom)) {
X &lt;- list()
for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
}
Y &lt;- as.Track.arrow(X,timestamp="120 secs")
}
</code></pre>

<hr>
<h2 id='as.Track.ppp'>
Conver trajectory pattern to a list of objects of class ppp
</h2><span id='topic+as.Track.ppp'></span>

<h3>Description</h3>

<p>This function converts a list of Tracks to a list of point patterns (class &quot;ppp&quot;)</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.Track.ppp(X,timestamp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.Track.ppp_+3A_x">X</code></td>
<td>

<p>a list of Track objects
</p>
</td></tr>
<tr><td><code id="as.Track.ppp_+3A_timestamp">timestamp</code></td>
<td>
<p>based on secs, mins,...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>as.Track.ppp converts a list of Track objetcs to a list of ppp objetcs.</p>


<h3>Value</h3>

<p>A list of point patterns, objects of class &quot;ppp&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;</p>


<h3>See Also</h3>

<p><a href="#topic+avedistTrack">avedistTrack</a>, <a href="spatstat.geom.html#topic+as.ppp">as.ppp</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.geom)) {
X &lt;- list()
for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
}
Y &lt;- as.Track.ppp(X,timestamp="120 secs")
}
</code></pre>

<hr>
<h2 id='auto.arima.Track'>
Fitting arima model to a track
</h2><span id='topic+auto.arima.Track'></span>

<h3>Description</h3>

<p>Fit arima models to objects of class &quot;Track&quot;.</p>


<h3>Usage</h3>

<pre><code class='language-R'>auto.arima.Track(X, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auto.arima.Track_+3A_x">X</code></td>
<td>
<p> an object of class &quot;Track&quot;</p>
</td></tr>
<tr><td><code id="auto.arima.Track_+3A_...">...</code></td>
<td>
<p> passed to arguments of <a href="forecast.html#topic+auto.arima">auto.arima</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This fita arima models to the x,y locations of objects of class &quot;Track&quot;.</p>


<h3>Value</h3>

<p>an object of class &quot;ArimaTrack&quot;
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="forecast.html#topic+auto.arima">auto.arima</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(forecast)) {
 X &lt;- rTrack()
 auto.arima.Track(X)
}
</code></pre>

<hr>
<h2 id='avedistTrack'>
Average pairwise distance of trajectory pattern over time
</h2><span id='topic+avedistTrack'></span>

<h3>Description</h3>

<p>This measures the average of pairwise distances between tracks over time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avedistTrack(X,timestamp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="avedistTrack_+3A_x">X</code></td>
<td>
<p>a list of some objects of class &quot;Track&quot;

</p>
</td></tr>
<tr><td><code id="avedistTrack_+3A_timestamp">timestamp</code></td>
<td>
<p>timestamp to calculate the pairwise distances between tarcks</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the average pairwise distance between a list of tracks according to a given timestamp.
</p>


<h3>Value</h3>

<p>An object of class &quot;distrack&quot;. It can be plotted over time.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+as.Track.ppp">as.Track.ppp</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.geom)) {
 X &lt;- list()
 for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
 }

 ave &lt;- avedistTrack(X,timestamp = "120 secs")
 plot(ave,type="l")
}
</code></pre>

<hr>
<h2 id='avemove'>
Average movement of trajectory pattern
</h2><span id='topic+avemove'></span>

<h3>Description</h3>

<p>This returns the average movements of a lits of objects of class &quot;Track&quot; over time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avemove(X,timestamp,epsilon=epsilon)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="avemove_+3A_x">X</code></td>
<td>
<p>a list of some objects of class Track

</p>
</td></tr>
<tr><td><code id="avemove_+3A_timestamp">timestamp</code></td>
<td>
<p>timestamp to calculate the pairwise distances between tarcks</p>
</td></tr>
<tr><td><code id="avemove_+3A_epsilon">epsilon</code></td>
<td>
<p>(optional) movements with length less than epsilon are not considered in the calculation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>when analysying a list of tracks, avemove calculate the average of movements based on given timestamp.</p>


<h3>Value</h3>

<p>an object of class &quot;numeric&quot; or &quot;arwlen&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+as.Track.arrow">as.Track.arrow</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.geom)) {
 X &lt;- list()
 for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
 }
 avemove(X,timestamp = "30 secs")
}
</code></pre>

<hr>
<h2 id='chimaps'>
Chimaps of tarjectory pattern.
</h2><span id='topic+chimaps'></span>

<h3>Description</h3>

<p>Computes the chimaps, corresponding to a list of objects of class &quot;Track&quot;. chimaps are based on the discrepancy between computed and expected intensity in a given location.</p>


<h3>Usage</h3>

<pre><code class='language-R'>chimaps(X,timestamp,rank,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chimaps_+3A_x">X</code></td>
<td>

<p>A list of Track objects
</p>
</td></tr>
<tr><td><code id="chimaps_+3A_timestamp">timestamp</code></td>
<td>
<p>based on secs,mins,...</p>
</td></tr>
<tr><td><code id="chimaps_+3A_rank">rank</code></td>
<td>
<p>a number between one and the length of corresponding time sequance which is created based on given timestamp.</p>
</td></tr>
<tr><td><code id="chimaps_+3A_...">...</code></td>
<td>
<p>passed to arguments of density.Track</p>
</td></tr>
</table>


<h3>Details</h3>

<p>[estimated intensity - expected intensity] / sqrt(expected intensity).
</p>


<h3>Value</h3>

<p>an image of class &quot;im&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+density.list">density.list</a>, <a href="spatstat.explore.html#topic+density.ppp">density.ppp</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.geom)) {
 X &lt;- list()
 for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
 }
 chimaps(X, timestamp = "180 secs",rank = 2)
}
</code></pre>

<hr>
<h2 id='compare'>Compares objects of class <code>Track</code></h2><span id='topic+compare'></span><span id='topic+compare+2CTrack-method'></span>

<h3>Description</h3>

<p>Calculates distances between two tracks for the overlapping time interval.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S4 method for signature 'Track'
compare(tr1, tr2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_+3A_tr1">tr1</code></td>
<td>
<p>An object of class <code>Track</code>.</p>
</td></tr>
<tr><td><code id="compare_+3A_tr2">tr2</code></td>
<td>
<p>An object of class <code>Track</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A difftrack object. Includes both tracks extended with additional points 
for the timestamps of the other track. Also includes SpatialLines representing
the distances between the tracks.</p>


<h3>Author(s)</h3>

<p>Nikolai Gorte &lt;n.gorte@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## example tracks
library(sp)
library(xts)
data(A3)
track2 &lt;- A3
index(track2@time) &lt;- index(track2@time) + 32
track2@sp@coords &lt;- track2@sp@coords + 0.003

## compare and plot
difftrack &lt;- compare(A3, track2)
plot(difftrack)
</code></pre>

<hr>
<h2 id='cut'> obtain ranges of space and time coordinates </h2><span id='topic+cut'></span><span id='topic+cut.Track'></span><span id='topic+cut.Tracks'></span><span id='topic+cut.TracksCollection'></span>

<h3>Description</h3>

<p> obtain ranges of space and time coordinates </p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Track'
cut(x, breaks, ..., include.lowest = TRUE, touch = TRUE)
## S3 method for class 'Tracks'
cut(x, breaks, ...)
## S3 method for class 'TracksCollection'
cut(x, breaks, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cut_+3A_x">x</code></td>
<td>
<p> object of class <code>Track</code>, <code>Tracks</code> or <code>TracksCollection</code></p>
</td></tr>
<tr><td><code id="cut_+3A_breaks">breaks</code></td>
<td>
<p> define the breaks; see <a href="#topic+cut">cut</a></p>
</td></tr>
<tr><td><code id="cut_+3A_...">...</code></td>
<td>
<p> passed down to Tracks and Track methods, then to <a href="#topic+cut">cut</a></p>
</td></tr>
<tr><td><code id="cut_+3A_include.lowest">include.lowest</code></td>
<td>
<p> see <a href="#topic+cut">cut</a></p>
</td></tr>
<tr><td><code id="cut_+3A_touch">touch</code></td>
<td>
<p> logical; if FALSE, Track objects will be formed from
unique sets of points, meaning that gaps between two consecutive
Track objects will arise; if FALSE, the first point from each
next track is copied, meaning that sets of Track are seamless.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>sub-trajectories can be invalid, if they have only one point, and are ignored. This
can happen at the start only if <code>touch=FALSE</code>, and at the end in any case.
</p>


<h3>Value</h3>

 
<p>The <code>cut</code> method applied to a <code>Track</code> object cuts the track in pieces, and
hence returns a <code>Tracks</code> object. <code>cut.Tracks</code> returns a <code>Tracks</code> object,
<code>cut.TracksCollection</code> returns a <code>TracksCollection</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
# example might take too long for CRAN checks
data(storms)
dim(storms)
dim(cut(storms, "week", touches = FALSE)) # same number of geometries
dim(cut(storms, "week")) # increase of geometries = increase of tracks

</code></pre>

<hr>
<h2 id='density.list'>
Kernel estimate of intensity of trajectory pattern
</h2><span id='topic+density.list'></span>

<h3>Description</h3>

<p>Estimating the intensity of a list of tracks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
density(x, timestamp,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="density.list_+3A_x">x</code></td>
<td>

<p>a list of &quot;Track&quot; objects, an object of class &quot;Tracks&quot; or &quot;TracksCollection&quot;
</p>
</td></tr>
<tr><td><code id="density.list_+3A_timestamp">timestamp</code></td>
<td>
<p>based on secs, mins, ...</p>
</td></tr>
<tr><td><code id="density.list_+3A_...">...</code></td>
<td>
<p>passed to arguments of density.ppp</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This estimate the average intensity function of moving objects over time. Bandwidth selection methods such as bw.diggle, bw.scott and bw.ppl can be passed to this density.list.
</p>


<h3>Value</h3>

<p>an image of class &quot;im&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="spatstat.explore.html#topic+density.ppp">density.ppp</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.explore)) {
 X &lt;- list()
 for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
 }
 density(X, timestamp = "180 secs")
}
</code></pre>

<hr>
<h2 id='difftrack-class'>Class &quot;difftrack&quot;</h2><span id='topic+difftrack-class'></span><span id='topic+difftrack'></span><span id='topic+plot+2Cdifftrack+2CANY-method'></span>

<h3>Description</h3>

<p>Class that represents differences between two <a href="#topic+Track">Track</a> objects.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("difftrack", ...)</code>.
Objects of class <code>difftrack</code> contain 2 objects of class <a href="#topic+Track">Track</a> 
extended with points for timestamps of the other track and 2 
<a href="sp.html#topic+SpatialLinesDataFrame">SpatialLinesDataFrame</a> conataining the the lines and distances between tracks.
</p>


<h3>Slots</h3>


<dl>
<dt><code>track1</code>:</dt><dd><p>Extended track1</p>
</dd>
<dt><code>track2</code>:</dt><dd><p>Extended track2</p>
</dd>
<dt><code>conns1</code>:</dt><dd><p>Lines between the original track1 and the new points on track2</p>
</dd>
<dt><code>conns2</code>:</dt><dd><p>Lines between the original track2 and the new points on track1</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>plot</dt><dd><p><code>signature(x = "difftrack", y = "missing")</code>: plot a difftrack</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Nikolai Gorte &lt;n.gorte@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("difftrack")
## example tracks
library(sp)
library(xts)
data(A3)
track2 &lt;- A3
index(track2@time) &lt;- index(track2@time) + 32
track2@sp@coords &lt;- track2@sp@coords + 0.003

## compare and plot
difftrack &lt;- compare(A3, track2)
plot(difftrack)

## space-time cube of the difftrack
## Not run: 
 stcube(difftrack)

## End(Not run)
</code></pre>

<hr>
<h2 id='dists+0A'>Calculate distances between two <code>Tracks</code> objects</h2><span id='topic+dists'></span><span id='topic+dists+2CTracks+2CTracks-method'></span>

<h3>Description</h3>

<p>Calculates a distance matrix with distances for each pair of tracks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S4 method for signature 'Tracks,Tracks'
dists(tr1, tr2, f, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dists+2B0A_+3A_tr1">tr1</code></td>
<td>
<p>An object of class <code>Tracks</code>.</p>
</td></tr>
<tr><td><code id="dists+2B0A_+3A_tr2">tr2</code></td>
<td>
<p>An object of class <code>Tracks</code>.</p>
</td></tr>
<tr><td><code id="dists+2B0A_+3A_f">f</code></td>
<td>
<p>A function to calculate distances. Default is <code>mean</code>.</p>
</td></tr>
<tr><td><code id="dists+2B0A_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to <code>f</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>f</code> can be any function applicable to a numerical vector or <a href="#topic+frechetDist">frechetDist</a>.
</p>


<h3>Value</h3>

<p>A matrix with distances between each pair of tracks or <code>NA</code>
if they don't overlap in time.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## example tracks
library(sp)
library(xts)
data(A3)
track2 &lt;- A3
index(track2@time) &lt;- index(track2@time) + 32
track2@sp@coords &lt;- track2@sp@coords + 0.003

## create Tracks objects
tracks1 &lt;- Tracks(list(A3, track2))
tracks2 &lt;- Tracks(list(track2, A3))

## calculate distances
## Not run: 
dists(tracks1, tracks2)
dists(tracks1, tracks2, sum)
dists(tracks1, tracks2, frechetDist)

## End(Not run)
</code></pre>

<hr>
<h2 id='downsample'>Downsample a <code>Track</code></h2><span id='topic+downsample'></span><span id='topic+downsample+2CTrack-method'></span>

<h3>Description</h3>

<p>Downsamples a <code>Track</code> to the size (amount of points) of another <code>Track</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S4 method for signature 'Track'
downsample(track1, track2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="downsample_+3A_track1">track1</code></td>
<td>
<p><code>Track</code> that will be downsampled.</p>
</td></tr>
<tr><td><code id="downsample_+3A_track2">track2</code></td>
<td>
<p>Reference <code>Track</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Track</code> object. The downsampled track1.</p>


<h3>Author(s)</h3>

<p>Nikolai Gorte &lt;n.gorte@gmail.com&gt;
</p>

<hr>
<h2 id='frechetDist'>Frechet distance</h2><span id='topic+frechetDist'></span><span id='topic+frechetDist+2CTrack-method'></span>

<h3>Description</h3>

<p>Compute the discrete Frechet distance between two <code>Track</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S4 method for signature 'Track'
frechetDist(track1, track2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="frechetDist_+3A_track1">track1</code></td>
<td>
<p>An object of class <code>Track</code>.</p>
</td></tr>
<tr><td><code id="frechetDist_+3A_track2">track2</code></td>
<td>
<p>An object of class <code>Track</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Discrete Frechet distance.</p>


<h3>Author(s)</h3>

<p>Nikolai Gorte &lt;n.gorte@gmail.com&gt;
</p>


<h3>References</h3>

<p> http://en.wikipedia.org/wiki/Fr\'echet_distance </p>

<hr>
<h2 id='generalize'>Generalize objects of class <code>Track</code>, <code>Tracks</code> and <code>TracksCollection</code></h2><span id='topic+generalize'></span><span id='topic+generalize+2CTrack-method'></span><span id='topic+generalize+2CTracks-method'></span><span id='topic+generalize+2CTracksCollection-method'></span>

<h3>Description</h3>

<p>Generalize objects of class <code>Track</code>, <code>Tracks</code> and <code>TracksCollection</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S4 method for signature 'Track'
generalize(t, FUN = mean, ...,  timeInterval, distance, n, tol, toPoints)
## S4 method for signature 'Tracks'
generalize(t, FUN = mean, ...)
## S4 method for signature 'TracksCollection'
generalize(t, FUN = mean, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generalize_+3A_t">t</code></td>
<td>
<p>An object of class <code>Track</code>, <code>Tracks</code> or <code>TracksCollection</code>.</p>
</td></tr>
<tr><td><code id="generalize_+3A_fun">FUN</code></td>
<td>
<p>The generalization method to be applied. Defaults to <code>mean</code> if none is passed.</p>
</td></tr>
<tr><td><code id="generalize_+3A_timeinterval">timeInterval</code></td>
<td>
<p> (lower limit) time interval to split Track into segments </p>
</td></tr>
<tr><td><code id="generalize_+3A_distance">distance</code></td>
<td>
<p> (lower limit) distance to split Track into segments </p>
</td></tr>
<tr><td><code id="generalize_+3A_n">n</code></td>
<td>
<p> number of points to form segments </p>
</td></tr>
<tr><td><code id="generalize_+3A_tol">tol</code></td>
<td>
<p> tolerance passed on to <a href="sf.html#topic+geos_unary">st_simplify</a>, to generalize segments 
using the Douglas-Peucker algorithm. </p>
</td></tr>
<tr><td><code id="generalize_+3A_topoints">toPoints</code></td>
<td>
<p> keep mid point rather than forming <a href="sp.html#topic+SpatialLines">SpatialLines</a> segments </p>
</td></tr>
<tr><td><code id="generalize_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to FUN</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>Track</code>, <code>Tracks</code> or <code>TracksCollection</code>.</p>

<hr>
<h2 id='Kinhom.Track'>
Inhomogeneous K-function for trajectory pattern
</h2><span id='topic+Kinhom.Track'></span>

<h3>Description</h3>

<p>Estimate the variability area of K-function of a list of tracks.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Kinhom.Track(X,timestamp,
                correction=c("border", "bord.modif", "isotropic", "translate"),q,
                sigma=c("default","bw.diggle","bw.ppl"," bw.scott"),...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Kinhom.Track_+3A_x">X</code></td>
<td>

<p>A list of Track objects
</p>
</td></tr>
<tr><td><code id="Kinhom.Track_+3A_timestamp">timestamp</code></td>
<td>
<p>based on secs,mins,...</p>
</td></tr>
<tr><td><code id="Kinhom.Track_+3A_correction">correction</code></td>
<td>
<p>the type of correction to be used in computing K-function</p>
</td></tr>
<tr><td><code id="Kinhom.Track_+3A_q">q</code></td>
<td>
<p>(optional) a numeric value between 0 and 1. quantile to be applied to calculate the variability area</p>
</td></tr>
<tr><td><code id="Kinhom.Track_+3A_sigma">sigma</code></td>
<td>
<p>method to be used in computing intensity function</p>
</td></tr>
<tr><td><code id="Kinhom.Track_+3A_...">...</code></td>
<td>
<p>passed to the arguments of Kinhom</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This calculates the variability area of K-function over time. If sigma=default, it calculates the variability area using the defaults of Kinhom, otherwise it first estimate the intensity function using the given sigma as bandwidth selection method and then using the estimated intensity function, it estimates the variability area.
</p>


<h3>Value</h3>

<p>an object of class &quot;KTrack&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+as.Track.ppp">as.Track.ppp</a>, <a href="spatstat.explore.html#topic+Kinhom">Kinhom</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat)) {
X &lt;- list()
for(i in 1:50){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
}
Kinhom.Track(X, timestamp = "180 secs")
}
</code></pre>

<hr>
<h2 id='pcfinhom.Track'>
Pair correlation funcrion of trajectory pattern
</h2><span id='topic+pcfinhom.Track'></span>

<h3>Description</h3>

<p>Pair correlation funcrion of trajectory pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pcfinhom.Track(X,timestamp,correction = c("translate", "Ripley"),q,
                sigma=c("default","bw.diggle","bw.ppl","bw.scott"),...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pcfinhom.Track_+3A_x">X</code></td>
<td>

<p>A list of Track objects
</p>
</td></tr>
<tr><td><code id="pcfinhom.Track_+3A_timestamp">timestamp</code></td>
<td>
<p>based on secs,mins,...</p>
</td></tr>
<tr><td><code id="pcfinhom.Track_+3A_correction">correction</code></td>
<td>
<p>the type of correction to be used in computing pair correlation function</p>
</td></tr>
<tr><td><code id="pcfinhom.Track_+3A_q">q</code></td>
<td>
<p>(optional) a numeric value between 0 and 1. quantile to be applied to calculate the variability area</p>
</td></tr>
<tr><td><code id="pcfinhom.Track_+3A_sigma">sigma</code></td>
<td>
<p>method to be used in computing intensity function</p>
</td></tr>
<tr><td><code id="pcfinhom.Track_+3A_...">...</code></td>
<td>
<p>passed to the arguments of pcfinhom</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This calculates the variability area of  pair correlation function over time. If sigma=default, it calculates the variability area using the defaults of pcfinhom, otherwise it first estimate the intensity function using the given sigma as bandwidth selection method and then using the estimated intensity function, it estimates the variability area.
</p>


<h3>Value</h3>

<p>an object of class &quot;gTrack&quot;
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+as.Track.ppp">as.Track.ppp</a>, <a href="spatstat.explore.html#topic+pcfinhom">pcfinhom</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.explore)) {
 X &lt;- list()
 for(i in 1:100){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
 }
 g &lt;- pcfinhom.Track(X,timestamp = "180 sec")
 plot(g)
}
</code></pre>

<hr>
<h2 id='plot.arwlen'>
Methods for class &quot;arwlen&quot;
</h2><span id='topic+plot.arwlen'></span>

<h3>Description</h3>

<p>Methods for class &quot;arwlen&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'arwlen'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.arwlen_+3A_x">x</code></td>
<td>
<p> an object of class  &quot;arwlen&quot;</p>
</td></tr>
<tr><td><code id="plot.arwlen_+3A_...">...</code></td>
<td>
<p> passed on to plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p>avemove</p>

<hr>
<h2 id='plot.distrack'>
Methods for class &quot;distrack&quot;
</h2><span id='topic+plot.distrack'></span>

<h3>Description</h3>

<p>The plot method for &quot;distrack&quot; objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'distrack'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.distrack_+3A_x">x</code></td>
<td>
<p> an object of class &quot;distrack&quot; </p>
</td></tr>
<tr><td><code id="plot.distrack_+3A_...">...</code></td>
<td>
<p> ignored </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This plots an object of class &quot;distrack&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='plot.gTrack'>
Methods for class &quot;gTrack&quot;
</h2><span id='topic+plot.gTrack'></span>

<h3>Description</h3>

<p>plot method</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gTrack'
plot(x, type = "l", col = "grey70",cex=1,line=2.2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.gTrack_+3A_x">x</code></td>
<td>
<p> an object of class &quot;gTrack&quot; </p>
</td></tr>
<tr><td><code id="plot.gTrack_+3A_type">type</code></td>
<td>
<p> line type</p>
</td></tr>
<tr><td><code id="plot.gTrack_+3A_col">col</code></td>
<td>
<p> line color</p>
</td></tr>
<tr><td><code id="plot.gTrack_+3A_cex">cex</code></td>
<td>
<p>used for size of legend</p>
</td></tr>
<tr><td><code id="plot.gTrack_+3A_line">line</code></td>
<td>
<p>specifying a value for line overrides the default placement of labels, and places them this many lines outwards from the plot edge</p>
</td></tr>
<tr><td><code id="plot.gTrack_+3A_...">...</code></td>
<td>
<p> passed on to plot</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;</p>

<hr>
<h2 id='plot.KTrack'>
Methods for class &quot;KTrack&quot;
</h2><span id='topic+plot.KTrack'></span>

<h3>Description</h3>

<p>Methods for class &quot;KTrack&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'KTrack'
plot(x, type = "l", col = "grey70",cex=1,line=2.2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.KTrack_+3A_x">x</code></td>
<td>
<p>an object of class KTrack</p>
</td></tr>
<tr><td><code id="plot.KTrack_+3A_type">type</code></td>
<td>
<p> line type</p>
</td></tr>
<tr><td><code id="plot.KTrack_+3A_col">col</code></td>
<td>
<p> color</p>
</td></tr>
<tr><td><code id="plot.KTrack_+3A_cex">cex</code></td>
<td>
<p>used for size of legend</p>
</td></tr>
<tr><td><code id="plot.KTrack_+3A_line">line</code></td>
<td>
<p>specifying a value for line overrides the default placement of labels, and places them this many lines outwards from the plot edge</p>
</td></tr>
<tr><td><code id="plot.KTrack_+3A_...">...</code></td>
<td>
<p> passed on to plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>plotting the variability area of K-function of a list of tracks.</p>


<h3>Value</h3>

<p>a plot.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.ArimaTrack'>
Methods for class &quot;ArimaTrack&quot;
</h2><span id='topic+print.ArimaTrack'></span>

<h3>Description</h3>

<p>print method.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ArimaTrack'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ArimaTrack_+3A_x">x</code></td>
<td>
<p> an  object of class &quot;ArimaTrack&quot; </p>
</td></tr>
<tr><td><code id="print.ArimaTrack_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.arwlen'>
Methods for class &quot;arwlen&quot;
</h2><span id='topic+print.arwlen'></span>

<h3>Description</h3>

<p>to print an object of class &quot;arwlen&quot;.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'arwlen'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.arwlen_+3A_x">x</code></td>
<td>
<p> an object of class &quot;arqlen&quot; </p>
</td></tr>
<tr><td><code id="print.arwlen_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.distrack'>
Methods for class &quot;distrack&quot;
</h2><span id='topic+print.distrack'></span>

<h3>Description</h3>

<p>This is a method for class &quot;distrack&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'distrack'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.distrack_+3A_x">x</code></td>
<td>
<p> an object of class &quot;distrack&quot;</p>
</td></tr> 
<tr><td><code id="print.distrack_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a method for class &quot;distrack&quot;.
</p>


<h3>Value</h3>

<p>See the documentation on the corresponding generic function.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.geom)) {
 X &lt;- list()
 for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
 }

 ave &lt;- avedistTrack(X,timestamp = "30 secs")
 plot(ave,type="l")
}
</code></pre>

<hr>
<h2 id='print.gTrack'>
Methods for class &quot;gTrack&quot;
</h2><span id='topic+print.gTrack'></span>

<h3>Description</h3>

<p>print method.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gTrack'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.gTrack_+3A_x">x</code></td>
<td>
<p> an object of class &quot;gTrack&quot;</p>
</td></tr> 
<tr><td><code id="print.gTrack_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p> Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;</p>

<hr>
<h2 id='print.KTrack'>
Methods for class &quot;KTrack&quot;
</h2><span id='topic+print.KTrack'></span>

<h3>Description</h3>

<p>Methods for class &quot;KTrack&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'KTrack'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.KTrack_+3A_x">x</code></td>
<td>
<p> an object of class &quot;KTrack&quot; </p>
</td></tr>
<tr><td><code id="print.KTrack_+3A_...">...</code></td>
<td>
<p> ignored </p>
</td></tr>
</table>


<h3>Details</h3>

<p> to print an object of class &quot;KTrack&quot;.</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.ppplist'>
Methods for class &quot;Track&quot;
</h2><span id='topic+print.ppplist'></span>

<h3>Description</h3>

<p>method to print an object of class &quot;ppplist&quot;</p>


<h3>Usage</h3>

<pre><code class='language-R'>  ## S3 method for class 'ppplist'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ppplist_+3A_x">x</code></td>
<td>
<p> an object of class &quot;ppplist&quot; </p>
</td></tr>
<tr><td><code id="print.ppplist_+3A_...">...</code></td>
<td>
<p> ignored</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.Track'>
Methods for class &quot;Track&quot;
</h2><span id='topic+print.Track'></span>

<h3>Description</h3>

<p>method to print an object of class &quot;Track&quot;</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Track'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.Track_+3A_x">x</code></td>
<td>
<p> an object of class &quot;Track&quot; </p>
</td></tr>
<tr><td><code id="print.Track_+3A_...">...</code></td>
<td>
<p> ignored</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.Tracks'>
Methods for class &quot;Tracks&quot;
</h2><span id='topic+print.Tracks'></span>

<h3>Description</h3>

<p>method to print an object of class &quot;Tracks&quot;</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Tracks'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.Tracks_+3A_x">x</code></td>
<td>
<p> an object of class &quot;Tracks&quot; </p>
</td></tr>
<tr><td><code id="print.Tracks_+3A_...">...</code></td>
<td>
<p> ignored </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.TracksCollection'>
Methods for class &quot;TracksCollection&quot;
</h2><span id='topic+print.TracksCollection'></span>

<h3>Description</h3>

<p>method to print an object of class &quot;TracksCollection&quot;</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TracksCollection'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.TracksCollection_+3A_x">x</code></td>
<td>
<p> an object of class &quot;TracksCollection&quot; </p>
</td></tr>
<tr><td><code id="print.TracksCollection_+3A_...">...</code></td>
<td>
<p> ignored </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>

<hr>
<h2 id='print.Trrow'>
Methods for class &quot;Trrow&quot;
</h2><span id='topic+print.Trrow'></span>

<h3>Description</h3>

<p>Print objetcs of class &quot;Trrow&quot;</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Trrow'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.Trrow_+3A_x">x</code></td>
<td>
<p> an object of class &quot;Trrow&quot; </p>
</td></tr>
<tr><td><code id="print.Trrow_+3A_...">...</code></td>
<td>
<p> ignored </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p>as.Track.arrow
</p>

<hr>
<h2 id='range.Track'>
range.Track

</h2><span id='topic+range.Track'></span>

<h3>Description</h3>

<p>Retrieves the range of a &quot;Track&quot; object

</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Track'
range(X,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="range.Track_+3A_x">X</code></td>
<td>

<p>an object of class &quot;Track&quot;

</p>
</td></tr>
<tr><td><code id="range.Track_+3A_...">...</code></td>
<td>
<p>passed to arguments of range</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+rTracks">rTracks</a>, <a href="#topic+rTracksCollection">rTracksCollection</a>, <a href="base.html#topic+range">range</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;-  rTrack()
range(x)
</code></pre>

<hr>
<h2 id='reTrack'>
Reconstruct objects of class &quot;Track&quot;
</h2><span id='topic+reTrack'></span>

<h3>Description</h3>

<p>Function reTrack accepts X as an object of class &quot;Track&quot;. Output is a reconstructed Track (again an object of class Track), based on a regular &quot;timestamp&quot;. It only returns the interpolated points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reTrack(X,at=c("track","dfrm"),timestamp=timestamp,tsq=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reTrack_+3A_x">X</code></td>
<td>

<p>an object of class Track
</p>
</td></tr>
<tr><td><code id="reTrack_+3A_at">at</code></td>
<td>

<p>to set the type of output as either an object of class &quot;Track&quot; or data.frame
</p>
</td></tr>
<tr><td><code id="reTrack_+3A_timestamp">timestamp</code></td>
<td>

<p>timestamp which Track be reconstructed based on
</p>
</td></tr>
<tr><td><code id="reTrack_+3A_tsq">tsq</code></td>
<td>

<p>a time sequence to reconstruct Track X based on it. This is optional. If this is not given, the function creates the time sequance based on timestamp.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sometimes tracks data are not collected according to a regular timestamp. In order to compare different tracks which share some time intervals, we might need to be aware of the locations in a regular timestamp. Function reTrack unables us to reconstruct an object of class &quot;Track&quot; based on a regular timestamp. Time sequance can be given by user, if not reTrack creates a regulare time sequance based on the given timestamp. 
</p>


<h3>Value</h3>

<p>Either an object of class &quot;Track&quot; or a data.frame
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+as.Track">as.Track</a>,
<a href="base.html#topic+as.POSIXct">as.POSIXct</a>, <a href="#topic+compare">compare</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sp)
library(spacetime)
# t0 = as.POSIXct(as.Date("2013-09-30",tz="CET"))
t0 = as.POSIXct("2013-09-30 02:00:00", tz = "Europe/Berlin")

# person A, track 1:
x = c(7,6,5,5,4,3,3)
y = c(7,7,6,5,5,6,7)
n = length(x)
set.seed(131)
t = t0 + cumsum(runif(n) * 60)
crs = CRS("+proj=longlat +datum=WGS84") # longlat
stidf = STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n)))
A1 = Track(stidf)
reTrack(A1,timestamp = "1 sec")

</code></pre>

<hr>
<h2 id='rTrack'>Generate random <code>Track</code>, <code>Tracks</code> or <code>TracksCollection</code> objects</h2><span id='topic+rTrack'></span><span id='topic+rTracks'></span><span id='topic+rTracksCollection'></span>

<h3>Description</h3>

<p>Generate random <code>Track</code>, <code>Tracks</code> or <code>TracksCollection</code> objects</p>


<h3>Usage</h3>

<pre><code class='language-R'>rTrack(n = 100, origin = c(0,0), start = as.POSIXct("1970-01-01"), ar = .8, 
	step = 60, sd0 = 1, bbox = bbox, transform = FALSE, nrandom = FALSE, ...)
rTracks(m = 20, start = as.POSIXct("1970-01-01"), delta = 7200, sd1 = 0, 
	origin = c(0,0), ...)
rTracksCollection(p = 10, sd2 = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rTrack_+3A_n">n</code></td>
<td>
<p>number of points per Track</p>
</td></tr>
<tr><td><code id="rTrack_+3A_origin">origin</code></td>
<td>
<p>numeric, length two, indicating the origin of the Track</p>
</td></tr>
<tr><td><code id="rTrack_+3A_start">start</code></td>
<td>
<p>POSIXct, indicating the start time of the Track</p>
</td></tr>
<tr><td><code id="rTrack_+3A_ar">ar</code></td>
<td>
<p>numeric vector, indicating the amound of correlation in the Track</p>
</td></tr>
<tr><td><code id="rTrack_+3A_step">step</code></td>
<td>
<p> numeric; time step(s) in seconds between Track fixes </p>
</td></tr>
<tr><td><code id="rTrack_+3A_sd0">sd0</code></td>
<td>
<p>standard deviation of the random steps in a Track</p>
</td></tr>
<tr><td><code id="rTrack_+3A_sd1">sd1</code></td>
<td>
<p>standard deviation of the consecutive Track origin values (using rnorm)</p>
</td></tr>
<tr><td><code id="rTrack_+3A_sd2">sd2</code></td>
<td>
<p>standard deviation of the consecutive Tracks origin values (using rnorm)</p>
</td></tr>
<tr><td><code id="rTrack_+3A_bbox">bbox</code></td>
<td>
<p>bbox object FIXME:fill in</p>
</td></tr>
<tr><td><code id="rTrack_+3A_transform">transform</code></td>
<td>
<p>logical; FIXME:fill in </p>
</td></tr>
<tr><td><code id="rTrack_+3A_nrandom">nrandom</code></td>
<td>
<p>logical; if <code>TRUE</code>, draw <code>n</code> from <code>rpois(n)</code></p>
</td></tr>
<tr><td><code id="rTrack_+3A_...">...</code></td>
<td>
<p>rTrack: arguments passed on to <a href="stats.html#topic+arima.sim">arima.sim</a>, rTracks: arguments
passed on to rTrack; rTracksCollection: arguments passed on to rTracks</p>
</td></tr>
<tr><td><code id="rTrack_+3A_m">m</code></td>
<td>
<p> number of Track objects to simulate</p>
</td></tr>
<tr><td><code id="rTrack_+3A_delta">delta</code></td>
<td>
<p> time difference between consecutive Track start times</p>
</td></tr>
<tr><td><code id="rTrack_+3A_p">p</code></td>
<td>
<p> number of IDs with Tracks to generate</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ar</code> is passed on to <a href="stats.html#topic+arima.sim">arima.sim</a> as <code>ar</code>
element, and may contain multiple AR coefficients. The generated
track is a <a href="base.html#topic+cumsum">cumsum</a> over the simulated AR values, for each dimension.
In case it has length 1 and value 0, random walk is created using <a href="stats.html#topic+rnorm">rnorm</a>. If bbox is given, the generated track will be transformed to bbox. If transform is TRUE and no bbox is given, it transforms the track to a unit box. If nrandom is TRUE, it generates a random number using <a href="stats.html#topic+rpois">rpois</a> with parameter n as the number of locations per track.</p>


<h3>Value</h3>

<p>An object of class <code>Track</code>, <code>Tracks</code> or <code>TracksCollection</code>.</p>


<h3>Author(s)</h3>

<p>Edzer Pebesma &lt;edzer.pebesma@uni-muenster.de&gt;,
Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rTrack()
dim(x)
plot(x)
# x = rTracks(sd1 = 120)
# dim(x)
# plot(as(x, "SpatialLines"), col = 1:dim(x)[1], axes=TRUE)
# x = rTracksCollection() # star
# dim(x)
# plot(x)
x = rTracksCollection(sd2 = 200,p=4,m=10)
plot(x, col=1:dim(x)[1])
</code></pre>

<hr>
<h2 id='stbox'> obtain ranges of space and time coordinates </h2><span id='topic+stbox'></span><span id='topic+stbox+2CTracks-method'></span><span id='topic+stbox+2CTracksCollection-method'></span>

<h3>Description</h3>

<p> obtain ranges of space and time coordinates </p>


<h3>Usage</h3>

<pre><code class='language-R'> 
stbox(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stbox_+3A_obj">obj</code></td>
<td>
<p> object of a class deriving from <code>Tracks</code> or <code>TracksCollection</code>.</p>
</td></tr> 
</table>


<h3>Value</h3>

 <p><code>stbox</code> returns a <code>data.frame</code>, with three columns
representing x-, y- and time-coordinates, and two rows containing min
and max values. <code>bbox</code> gives a matrix with coordinate min/max values,
compatible to <a href="plotly.html#topic+bbox">bbox</a></p>


<h3>Methods</h3>


<dl>
<dt>stbox</dt><dd><p><code>signature(x = "Tracks")</code>: obtain st range from object</p>
</dd>
<dt>stbox</dt><dd><p><code>signature(x = "TracksCollection")</code>: obtain st range from object</p>
</dd>
</dl>


<hr>
<h2 id='stcube'>Draw a space-time cube.</h2><span id='topic+stcube'></span><span id='topic+stcube+2CSTI-method'></span><span id='topic+stcube+2CSTIDF-method'></span><span id='topic+stcube+2CTrack-method'></span><span id='topic+stcube+2CTracks-method'></span><span id='topic+stcube+2CTracksCollection-method'></span><span id='topic+stcube+2Cdifftrack-method'></span>

<h3>Description</h3>

<p>Draw a space-time cube for a Track, TRacks, TracksCollection, difftrack or STI(DF) class.</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S4 method for signature 'Track'
stcube(x, xlab = "x", ylab = "y", zlab = "t", type = "l",
	aspect, xlim = stbox(x)[[1]] + c(-0.1,0.1) * diff(stbox(x)[[1]]),
	         ylim = stbox(x)[[2]] + c(-0.1,0.1) * diff(stbox(x)[[2]]), 
	zlim = stbox(x)$time, showMap = FALSE, mapType = "osm", 
	mapZoom = NULL, ..., y, z)
## S4 method for signature 'Tracks'
stcube(x, xlab = "x", ylab = "y", zlab = "t", type = "l",
	aspect, xlim, ylim, zlim, showMap = FALSE, mapType = "osm",
	normalizeBy = "week", mapZoom = NULL, ..., y, z, col)
## S4 method for signature 'TracksCollection'
stcube(x, xlab = "x", ylab = "y", zlab = "t",
	type = "l", aspect, xlim, ylim, zlim, showMap = FALSE, mapType = "osm",
	normalizeBy = "week", mapZoom = NULL, ..., y, z, col)
## S4 method for signature 'difftrack'
stcube(x, showMap = FALSE, mapType = "osm", normalizeBy = "week", ..., y, z)
## S4 method for signature 'STI'
stcube(x, xlab = "x", ylab = "y", zlab = "t", type = "p", aspect, 
                       xlim = stbox(x)[[1]] + c(-0.1,0.1) * diff(stbox(x)[[1]]),
	                     ylim = stbox(x)[[2]] + c(-0.1,0.1) * diff(stbox(x)[[2]]), 
	                     zlim = stbox(x)$time, 
                       showMap = FALSE, mapType = "osm", mapZoom = NULL, ..., y, z)
## S4 method for signature 'STIDF'
stcube(x, xlab = "x", ylab = "y", zlab = "t", type = "p", aspect, 
                       xlim = stbox(x)[[1]] + c(-0.1,0.1) * diff(stbox(x)[[1]]),
	                     ylim = stbox(x)[[2]] + c(-0.1,0.1) * diff(stbox(x)[[2]]),
	                     zlim = stbox(x)$time, 
                       showMap = FALSE, mapType = "osm", mapZoom = NULL, col, ..., y, z)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stcube_+3A_x">x</code></td>
<td>
<p>An object of class <code>Track</code>, <code>Tracks</code>, or <code>TracksCollection</code> or <code>difftrack</code>.</p>
</td></tr>
<tr><td><code id="stcube_+3A_xlab">xlab</code>, <code id="stcube_+3A_ylab">ylab</code>, <code id="stcube_+3A_zlab">zlab</code>, <code id="stcube_+3A_type">type</code>, <code id="stcube_+3A_aspect">aspect</code>, <code id="stcube_+3A_xlim">xlim</code>, <code id="stcube_+3A_ylim">ylim</code>, <code id="stcube_+3A_zlim">zlim</code></td>
<td>
<p>Arguments passed to plot3d() of package <code>rgl</code>.</p>
</td></tr>
<tr><td><code id="stcube_+3A_showmap">showMap</code></td>
<td>
<p>Flag if a basemap is to be shown on the xy plane; for this to function, you may need to load library <code>raster</code> first, see also the <code>stcube</code> demo script.</p>
</td></tr>
<tr><td><code id="stcube_+3A_maptype">mapType</code></td>
<td>
<p>The tile server from which to get the map. Passed as <code>type</code> to openmap() of package <code>OpenStreetMap</code>.</p>
</td></tr>
<tr><td><code id="stcube_+3A_normalizeby">normalizeBy</code></td>
<td>
<p>An abstract time period (either <code>week</code> or <code>day</code>) to be normalized by.</p>
</td></tr>
<tr><td><code id="stcube_+3A_mapzoom">mapZoom</code></td>
<td>
<p>Set a zoom level for the map used as background. Null will use the osm package default strategie.</p>
</td></tr>
<tr><td><code id="stcube_+3A_y">y</code>, <code id="stcube_+3A_z">z</code>, <code id="stcube_+3A_col">col</code></td>
<td>
<p>Ignored, but included in the method signature for implementation reasons.</p>
</td></tr>
<tr><td><code id="stcube_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to plot3d() of package <code>rgl</code>.</p>
</td></tr></table>


<h3>Value</h3>

<p>A space-time cube.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: demo(stcube)
</code></pre>

<hr>
<h2 id='storms'>Storm trajectories</h2><span id='topic+storms'></span>

<h3>Description</h3>

<p>storm trajectories, 2009-2012, from http://weather.unisys.com/hurricane/atlantic/</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(storms)
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>data(storms)
dim(storms)
plot(storms)
x = approxTracksCollection(storms, by = "30 min", FUN = spline)
plot(x, col = 'red', add = TRUE)
## Not run: 
demo(storms) # regenerates these data from their source

## End(Not run)
</code></pre>

<hr>
<h2 id='Track-class'>Classes &quot;Track&quot;, &quot;Tracks&quot;, and &quot;TracksCollection&quot;</h2><span id='topic+Track-class'></span><span id='topic+Tracks-class'></span><span id='topic+TracksCollection-class'></span><span id='topic+segments-class'></span><span id='topic+Track'></span><span id='topic+Tracks'></span><span id='topic+TracksCollection'></span><span id='topic+TrackStats'></span><span id='topic+TrackSummary'></span><span id='topic+TracksSummary'></span><span id='topic++5B+2CTrack-method'></span><span id='topic++5B+2CTracks-method'></span><span id='topic++5B+2CTracksCollection-method'></span><span id='topic++5B+2CTrack+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+2CTracks+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+2CTracksCollection+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+5B+2CTrack+2CANY+2Cmissing-method'></span><span id='topic++5B+5B+2CTracks+2CANY+2Cmissing-method'></span><span id='topic++5B+5B+2CTracksCollection+2CANY+2Cmissing-method'></span><span id='topic++5B+5B+3C-+2CTrack+2CANY+2Cmissing-method'></span><span id='topic++5B+5B+3C-+2CTracks+2CANY+2Cmissing-method'></span><span id='topic++5B+5B+3C-+2CTracksCollection+2CANY+2Cmissing-method'></span><span id='topic++24+2CTrack-method'></span><span id='topic++24+2CTracks-method'></span><span id='topic++24+2CTracksCollection-method'></span><span id='topic++24+3C-+2CTrack-method'></span><span id='topic++24+3C-+2CTracks-method'></span><span id='topic++24+3C-+2CTracksCollection-method'></span><span id='topic+coerce+2CTrack+2Cdata.frame-method'></span><span id='topic+coerce+2CTracks+2Cdata.frame-method'></span><span id='topic+coerce+2CTracksCollection+2Cdata.frame-method'></span><span id='topic+coordnames+2CTrack-method'></span><span id='topic+coordnames+2CTracks-method'></span><span id='topic+coordnames+2CTracksCollection-method'></span><span id='topic+aggregate+2CTrack-method'></span><span id='topic+aggregate+2CTracks-method'></span><span id='topic+aggregate+2CTracksCollection-method'></span><span id='topic+plot+2CTracksCollection+2CANY-method'></span><span id='topic+plot+2CTrack+2Cmissing-method'></span><span id='topic+plot+2CTracks+2CANY-method'></span><span id='topic+stplot+2CTracksCollection-method'></span><span id='topic+spTransform+2CTrack+2CCRS-method'></span><span id='topic+spTransform+2CTracks+2CCRS-method'></span><span id='topic+spTransform+2CTracksCollection+2CCRS-method'></span><span id='topic+segPanel'></span><span id='topic+tracksPanel'></span><span id='topic+approxTrack'></span><span id='topic+approxTracks'></span><span id='topic+approxTracksCollection'></span>

<h3>Description</h3>

<p> Classes for representing sets of trajectory data, 
with attributes, for different IDs (persons, objects, etc) </p>


<h3>Usage</h3>

<pre><code class='language-R'>  Track(track, df = fn(track), fn = TrackStats)
  Tracks(tracks, tracksData = data.frame(row.names=names(tracks)), 
  		fn = TrackSummary)
  TracksCollection(tracksCollection, tracksCollectionData,
  		fn = TracksSummary)
  TrackStats(track)
  TrackSummary(track)
  TracksSummary(tracksCollection)
  ## S4 method for signature 'Track'
x[i, j, ..., drop = TRUE]
  ## S4 method for signature 'TracksCollection'
x[i, j, ..., drop = TRUE]
  ## S4 method for signature 'Track,data.frame'
coerce(from, to)
  ## S4 method for signature 'Tracks,data.frame'
coerce(from, to)
  ## S4 method for signature 'TracksCollection,data.frame'
coerce(from, to)


</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Track-class_+3A_track">track</code></td>
<td>
<p>object of class STIDF-class, representing a single trip</p>
</td></tr>
<tr><td><code id="Track-class_+3A_df">df</code></td>
<td>
<p>optional <code>data.frame</code> with information between track points</p>
</td></tr>
<tr><td><code id="Track-class_+3A_tracks">tracks</code></td>
<td>
<p>named list with <code>Track</code> objects</p>
</td></tr>
<tr><td><code id="Track-class_+3A_tracksdata">tracksData</code></td>
<td>
<p><code>data.frame</code> with summary data for each <code>Track</code></p>
</td></tr>
<tr><td><code id="Track-class_+3A_trackscollection">tracksCollection</code></td>
<td>
<p>list, with <code>Tracks</code> objects</p>
</td></tr>
<tr><td><code id="Track-class_+3A_trackscollectiondata">tracksCollectionData</code></td>
<td>
<p>data.frame, with summary data on
<code>tracksCollection</code></p>
</td></tr>
<tr><td><code id="Track-class_+3A_fn">fn</code></td>
<td>
<p>function; </p>
</td></tr>
<tr><td><code id="Track-class_+3A_x">x</code></td>
<td>
<p>object of class <code>Track</code> etc</p>
</td></tr>

<tr><td><code id="Track-class_+3A_i">i</code></td>
<td>
<p>selection of spatial entities</p>
</td></tr>
<tr><td><code id="Track-class_+3A_j">j</code></td>
<td>
<p>selection of temporal entities (see syntax in package xts) </p>
</td></tr>
<tr><td><code id="Track-class_+3A_...">...</code></td>
<td>
<p>selection of attribute(s)</p>
</td></tr>
<tr><td><code id="Track-class_+3A_drop">drop</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="Track-class_+3A_from">from</code></td>
<td>
<p>from</p>
</td></tr>
<tr><td><code id="Track-class_+3A_to">to</code></td>
<td>
<p>target class</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Functions <code>Track</code>, <code>Tracks</code> and
<code>TracksCollection</code> are constructor functions that take the
slots as arguments, check object validity, and compute summary
statistics on the track and tracks sets.
</p>
<p><code>TrackStats</code> returns a <code>data.frame</code> with for each track
segment the distance, duration, speed, and direction. In case data are
geographical coordinates (long/lat), distance is in m, and direction
is initial bearing.
</p>
<p><code>TrackSummary</code> reports for each track xmin, xmax, ymin, ymax,
tmin, tmax, (number of points) n, (total) distance, and medspeed
(median speed).
</p>
<p><code>TracksSummary</code> reports for each Tracks of a TracksCollection
(number of tracks) n, xmin, xmax, ymin, ymax, tmin, tmin, tmax.
</p>


<h3>Objects from the Class</h3>

 
<p>Objects of class <code>Track</code> extend STIDF-class 
and contain single trips or tracks, 
objects of class <code>Tracks</code> contain multiple <code>Track</code> objects
for a single ID (person, object or tracking device), objects of class
<code>TracksCollection</code> contain multiple <code>Tracks</code> objects for
different IDs.
</p>


<h3>Slots of class &quot;Track&quot;</h3>


<dl>
<dt><code>sp</code>:</dt><dd><p>spatial locations of the track points, with length n</p>
</dd>
<dt><code>time</code>:</dt><dd><p>time stamps of the track points</p>
</dd>
<dt><code>endTime</code>:</dt><dd><p>end time stamps of the track points</p>
</dd>
<dt><code>data</code>:</dt><dd><p><code>data.frame</code> with n rows, containing
attributes of the track points</p>
</dd>
<dt><code>connections</code>:</dt><dd><p><code>data.frame</code>, with n-1 rows, containing
attributes between the track points such as distance and speed </p>
</dd>
</dl>



<h3>Slots of class &quot;Tracks&quot;</h3>


<dl>
<dt><code>tracks</code>:</dt><dd><p><code>list</code> with <code>Track</code> objects, of length m</p>
</dd>
<dt><code>tracksData</code>:</dt><dd><p><code>data.frame</code> with m rows, containing 
summary data for each <code>Track</code> object</p>
</dd>
</dl>



<h3>Slots of class &quot;TracksCollection&quot;</h3>


<dl>
<dt><code>tracksCollection</code>:</dt><dd><p><code>list</code> <code>Tracks</code> objects, of
length p</p>
</dd>
<dt><code>tracksCollectionData</code>:</dt><dd><p><code>data.frame</code> with p rows,
containing summary data for each <code>Tracks</code> object</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>[[</dt><dd><p><code>signature(obj = "Track")</code>: retrieves the attribute element</p>
</dd>
<dt>[[</dt><dd><p><code>signature(obj = "Tracks")</code>: retrieves the attribute element</p>
</dd>
<dt>[[</dt><dd><p><code>signature(obj = "TracksCollection")</code>: retrieves the attribute element</p>
</dd>
<dt>[[&lt;-</dt><dd><p><code>signature(obj = "Track")</code>: sets or replaces the attribute element</p>
</dd>
<dt>[[&lt;-</dt><dd><p><code>signature(obj = "Tracks")</code>: sets or replaces the attribute element</p>
</dd>
<dt>[[&lt;-</dt><dd><p><code>signature(obj = "TracksCollection")</code>: sets or replaces the attribute element</p>
</dd>
<dt>$</dt><dd><p><code>signature(obj = "Track")</code>: retrieves the attribute element</p>
</dd>
<dt>$</dt><dd><p><code>signature(obj = "Tracks")</code>: retrieves the attribute element</p>
</dd>
<dt>$</dt><dd><p><code>signature(obj = "TracksCollection")</code>: retrieves the attribute element</p>
</dd>
<dt>$&lt;-</dt><dd><p><code>signature(obj = "Track")</code>: sets or replaces the attribute element</p>
</dd>
<dt>$&lt;-</dt><dd><p><code>signature(obj = "Tracks")</code>: sets or replaces the attribute element</p>
</dd>
<dt>$&lt;-</dt><dd><p><code>signature(obj = "TracksCollection")</code>: sets or replaces the attribute element</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = Track, to = data.frame)</code> coerce to <code>data.frame</code></p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = Tracks, to = data.frame)</code> coerce to <code>data.frame</code></p>
</dd>
<dt>coerce</dt><dd><p><code>signature(form = TracksCollection, to = data.frame)</code> coerce to <code>data.frame</code></p>
</dd>
<dt>plot</dt><dd><p><code>signature(x = "TracksCollection", y = "missing")</code>: 
plots sets of sets of tracks</p>
</dd>
<dt>stplot</dt><dd><p><code>signature(obj = "TracksCollection")</code>: 
plots sets of sets of tracks</p>
</dd>



</dl>



<h3>Note</h3>

<p><code>segments</code> is a <code>data.frame</code> form in which track
segments instead of track points form a record, with <code>x0</code>,
<code>y0</code>, <code>x1</code> and <code>y1</code> the start and end coordinates</p>


<h3>Author(s)</h3>

<p> Edzer Pebesma, <a href="mailto:edzer.pebesma@uni-muenster.de">edzer.pebesma@uni-muenster.de</a> </p>


<h3>References</h3>

<p> http://www.jstatsoft.org/v51/i07/ </p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sp)
library(spacetime)
# t0 = as.POSIXct(as.Date("2013-09-30",tz="CET"))
t0 = as.POSIXct("2013-09-30 02:00:00", tz = "Europe/Berlin")
# person A, track 1:
x = c(7,6,5,5,4,3,3)
y = c(7,7,6,5,5,6,7)
n = length(x)
set.seed(131)
t = t0 + cumsum(runif(n) * 60)
crs = CRS("+proj=longlat +datum=WGS84") # longlat
stidf = STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n)))
A1 = Track(stidf)
# person A, track 2:
x = c(7,6,6,7,7)
y = c(6,5,4,4,3)
n = length(x)
t = max(t) + cumsum(runif(n) * 60)
stidf = STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n)))
A2 = Track(stidf)
# Tracks for person A:
A = Tracks(list(A1=A1,A2=A2))
# person B, track 1:
x = c(2,2,1,1,2,3)
y = c(5,4,3,2,2,3)
n = length(x)
t = max(t) + cumsum(runif(n) * 60)
stidf = STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n)))
B1 = Track(stidf)
# person B, track 2:
x = c(3,3,4,3,3,4)
y = c(5,4,3,2,1,1)
n = length(x)
t = max(t) + cumsum(runif(n) * 60)
stidf = STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n)))
B2 = Track(stidf)
# Tracks for person A:
B = Tracks(list(B1=B1,B2=B2))
Tr = TracksCollection(list(A=A,B=B))
stplot(Tr, scales = list(draw=TRUE))
stplot(Tr, attr = "direction", arrows=TRUE, lwd = 3, by = "direction")
stplot(Tr, attr = "direction", arrows=TRUE, lwd = 3, by = "IDs")
plot(Tr, col=2, axes=TRUE)
dim(Tr)
dim(Tr[2])
dim(Tr[2][1])
u = stack(Tr) # four IDs
dim(u)
dim(unstack(u, c(1,1,2,2))) # regroups to original
dim(unstack(u, c(1,1,2,3))) # regroups to three IDs
dim(unstack(u, c(1,2,2,1))) # regroups differently
as(Tr, "data.frame")[1:10,] # tracks separated by NA rows
as(Tr, "segments")[1:10,]   # track segments as records
Tr[["distance"]] = Tr[["distance"]] * 1000
Tr$distance = Tr$distance / 1000
Tr$distance
# work with custum TrackStats function:
MyStats = function(track) {
	df = apply(coordinates(track@sp), 2, diff) # requires sp
	data.frame(distance = apply(df, 1, function(x) sqrt(sum(x^2))))
}
crs = CRS(as.character(NA))
stidf = STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n)))
B2 = Track(stidf) # no longer longlat;
B3 = Track(stidf, fn = MyStats)
all.equal(B3$distance, B2$distance)

# approxTrack:
opar = par()
par(mfrow = c(1, 2))
plot(B2, ylim = c(.5, 6))
plot(B2, pch = 16, add = TRUE)
title("irregular time steps")
i = index(B2)
B3 = approxTrack(B2, seq(min(i), max(i), length.out = 50))
plot(B3, col = 'red', type = 'p', add = TRUE)
B4 = approxTrack(B2, seq(min(i), max(i), length.out = 50), FUN = spline)
plot(B4, col = 'blue', type = 'b', add = TRUE)
# regular time steps:
t = max(t) + (1:n) * 60 # regular
B2 = Track(STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n))))
plot(B2, ylim = c(.5, 6))
plot(B2, pch = 16, add = TRUE)
title("constant time steps")
i = index(B2)
B3 = approxTrack(B2)
plot(B3, type = 'p', col = 'red', add = TRUE)
B4 = approxTrack(B2, FUN = spline)
plot(B4, type = 'p', col = 'blue', add = TRUE)

# par(opar) # good to do, but would generate warnings
smth = function(x,y,xout,...) predict(smooth.spline(as.numeric(x), y), as.numeric(xout))
data(storms)
plot(storms, type = 'p')
storms.smooth = approxTracksCollection(storms, FUN = smth, n = 200)
plot(storms.smooth, add = TRUE, col = 'red')

</code></pre>

<hr>
<h2 id='Track.idw'>
Movement smoothing of trajectory pattern
</h2><span id='topic+Track.idw'></span>

<h3>Description</h3>

<p>Movement smoothing of trajectory pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Track.idw(X,timestamp,epsilon=epsilon,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Track.idw_+3A_x">X</code></td>
<td>

<p>a list of objects of class &quot;Track&quot;
</p>
</td></tr>
<tr><td><code id="Track.idw_+3A_timestamp">timestamp</code></td>
<td>

<p>based on secs,mins, ...
</p>
</td></tr>
<tr><td><code id="Track.idw_+3A_epsilon">epsilon</code></td>
<td>
<p>(optional) movements with length less than epsilon are not considered in the calculation</p>
</td></tr>
<tr><td><code id="Track.idw_+3A_...">...</code></td>
<td>
<p>passed to arguments of fucntion idw in spatstat</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Performs spatial smoothing to the movements of a list of tracks.
</p>


<h3>Value</h3>

<p>an image of class &quot;im&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+as.Track.arrow">as.Track.arrow</a>, <a href="spatstat.explore.html#topic+idw">idw</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(spatstat.geom)) {
X &lt;- list()
for(i in 1:10){
  m &lt;- matrix(c(0,10,0,10),nrow=2,byrow = TRUE)
  X[[i]] &lt;- rTrack(bbox = m,transform = TRUE)
}
Track.idw(X,timestamp="180 secs")
}
</code></pre>

<hr>
<h2 id='tsqTracks'>
tsqTracks
</h2><span id='topic+tsqTracks'></span>

<h3>Description</h3>

<p>tsqtracks returns a sequance of time based on a list of tracks (or a single object of class &quot;Track&quot;&quot;) and an argument timestamp.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsqTracks(X,timestamp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsqTracks_+3A_x">X</code></td>
<td>
<p>either an object of class &quot;Track&quot;&quot; or a list of some objects of class &quot;Track&quot;

</p>
</td></tr>
<tr><td><code id="tsqTracks_+3A_timestamp">timestamp</code></td>
<td>
<p>a timestamp to create the time sequence based on it</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This creates a sequence of time based on a track or a list of tracks.

</p>


<h3>Value</h3>

<p>An object of class &quot;POSIXct&quot; or &quot;POSIXt&quot;.
</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;</p>


<h3>See Also</h3>

<p>rTrack
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sp)
library(spacetime)
# t0 = as.POSIXct(as.Date("2013-09-30",tz="CET"))
t0 = as.POSIXct("2013-09-30 02:00:00", tz = "Europe/Berlin")
# person A, track 1:
x = c(7,6,5,5,4,3,3)
y = c(7,7,6,5,5,6,7)
n = length(x)
set.seed(131)
t = t0 + cumsum(runif(n) * 60)
crs = CRS("+proj=longlat +datum=WGS84") # longlat
stidf = STIDF(SpatialPoints(cbind(x,y),crs), t, data.frame(co2 = rnorm(n)))
A1 = Track(stidf)
tsqTracks(A1,timestamp = "1 sec")
</code></pre>

<hr>
<h2 id='unique.Track'>
unique.Track
</h2><span id='topic+unique.Track'></span>

<h3>Description</h3>

<p>Removing duplicated points in a track</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Track'
unique(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unique.Track_+3A_x">x</code></td>
<td>

<p>an object of class &quot;Track&quot;
</p>
</td></tr>
<tr><td><code id="unique.Track_+3A_...">...</code></td>
<td>
<p>passed to arguments of unique</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function removes duplicated points in an object of class &quot;Track&quot;.</p>


<h3>Value</h3>

<p>An object of class Track with  no duplicated point.</p>


<h3>Author(s)</h3>

<p>Mohammad Mehdi Moradi &lt;moradi@uji.es&gt;
</p>


<h3>See Also</h3>

<p><a href="#topic+rTrack">rTrack</a>, <a href="#topic+rTracks">rTracks</a>, <a href="#topic+rTracksCollection">rTracksCollection</a>, <a href="base.html#topic+unique">unique</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;-  rTrack()
unique(x)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

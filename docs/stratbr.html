<!DOCTYPE html><html><head><title>Help for package stratbr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stratbr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BSSM_FD'><p>Optimal Allocation - Minimum Coefficient of Variation</p></a></li>
<li><a href='#stratbr'><p>Optimization Algorithm to solve stratification problem</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Optimal Stratification in Stratified Sampling</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-05-19</td>
</tr>
<tr>
<td>Author:</td>
<td>Jose Brito, Pedro Silva and Tomas Veiga</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jose Brito &lt;jambrito@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An Optimization Algorithm Applied to
    Stratification Problem.This function aims
    at constructing optimal strata with an optimization algorithm
    based on a global optimisation technique called Biased
    Random Key Genetic Algorithms.</td>
</tr>
<tr>
<td>Depends:</td>
<td>Rglpk,snowfall,stratification</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-05-26 21:35:40 UTC; britom</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-05-26 21:44:59 UTC</td>
</tr>
</table>
<hr>
<h2 id='BSSM_FD'>Optimal Allocation - Minimum Coefficient of Variation</h2><span id='topic+BSSM_FD'></span>

<h3>Description</h3>

<p>Function that uses an integer programming formulation for allocation
of the overall sample size n to the strata,  for the following purpose:
Coefficient of Variation of the estimate of total for the survey variable is minimized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BSSM_FD(Nh, Sh2x, n, H, nmin = 2, X, takeall = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BSSM_FD_+3A_nh">Nh</code></td>
<td>
<p>Vector with number of population elements, or population size, in stratum h</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_sh2x">Sh2x</code></td>
<td>
<p>Vector with population variance of the variable X in stratum h.</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_n">n</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_h">H</code></td>
<td>
<p>Number of strata.</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_nmin">nmin</code></td>
<td>
<p>Minimum sample size (smallest possible sample size in any stratum). The default is 2.</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_x">X</code></td>
<td>
<p>Population Total</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_takeall">takeall</code></td>
<td>
<p>Take-all stratum (takeall=TRUE) =&gt;  nH=NH.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>solution</code></td>
<td>
<p>Vector with  sample of size by stratum and coefficient of variation
for the estimator of total of the stratification variable considered.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Brito (jambrito@gmail.com), Pedro Silva, Gustavo Semaan and Nelson Maculan.
</p>


<h3>References</h3>

<p>Brito, J.A.M, Silva, P.L.N.,Semaan, G.S. and Maculan, N. (2015).
Integer Programming Formulations Applied to Optimal Allocation in Stratified Sampling.
Survey Methodology, 41: 427-442.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X&lt;-round(100*runif(50))
Nh&lt;-c(10,20,20)
Sh2x&lt;-c(var(X[1:10]),var(X[11:30]),var(X[31:50]))
aloc1&lt;-BSSM_FD(Nh,Sh2x,n=40,H=3,nmin=2,sum(X),takeall=TRUE)
Nh&lt;-c(49,78,20,39,73,82,89)
X&lt;-542350
Sh2x&lt;-c(4436978,5581445,33454902,5763294,8689167,3716130,13938505)
aloc2&lt;-BSSM_FD(Nh,Sh2x,n=100,H=7,nmin=2,X)
</code></pre>

<hr>
<h2 id='stratbr'>Optimization Algorithm to solve stratification problem</h2><span id='topic+stratbr'></span>

<h3>Description</h3>

<p>This function aims at constructing optimal strata with an optimization algorithm
based on a global optimisation technique called Biased Random Key Genetic Algorithms(BRKGA).
The optimization algorithm is applied to solve the one dimensional case,
which reduces the stratification problem to just determining strata boundaries.
Assuming that the number H of strata and the total sample size n are fixed,
it is possible to produce the strata boundaries by taking into consideration
an objective function associated with the variance.
This function determines strata boundaries so that the elements in each
stratum are more homogeneous among themselves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stratbr(X, H = 3, n = 30, nmin = 2, takeall = FALSE, tampop = 100,
  totgen = 1500, pelite = 0.2, pmutant = 0.3, rc = 0.6, cores = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stratbr_+3A_x">X</code></td>
<td>
<p>Stratification variable.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_h">H</code></td>
<td>
<p>Number of strata.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_n">n</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_nmin">nmin</code></td>
<td>
<p>Minimum sample size (smallest possible sample size in any stratum).</p>
</td></tr>
<tr><td><code id="stratbr_+3A_takeall">takeall</code></td>
<td>
<p>Take-all stratum (takeall=TRUE) =&gt;  nH=NH.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_tampop">tampop</code></td>
<td>
<p>Number of chromosomes BRKGA.The default is 100.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_totgen">totgen</code></td>
<td>
<p>Maximum number of generations BRKGA.The default is 1500.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_pelite">pelite</code></td>
<td>
<p>Percentage elite solutions BRKGA.The default is 0.2.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_pmutant">pmutant</code></td>
<td>
<p>Percentage mutant solutions BRKGA.The default is 0.3.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_rc">rc</code></td>
<td>
<p>Crossover probability  BRKGA. The default is 0.6.</p>
</td></tr>
<tr><td><code id="stratbr_+3A_cores">cores</code></td>
<td>
<p>Numerical amount of CPUs requested for the cluster.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>cvtot</code></td>
<td>
<p>Coefficient of variation for the estimator of total of the stratification variable considered.</p>
</td></tr>
<tr><td><code>nh</code></td>
<td>
<p>Number of sample elements, or sample size, in stratum h.</p>
</td></tr>
<tr><td><code>Nh</code></td>
<td>
<p>Number of population elements, or population size, in stratum h.</p>
</td></tr>
<tr><td><code>Sh2</code></td>
<td>
<p>Population variance of the stratification variable x in stratum h.</p>
</td></tr>
<tr><td><code>bk</code></td>
<td>
<p>Strata boundaries</p>
</td></tr>
<tr><td><code>cputime</code></td>
<td>
<p>Time consumed by the algorithm in seconds.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Brito (jambrito@gmail.com), Pedro Luis and Tomas Veiga.
</p>


<h3>References</h3>

<p>Brito, J.A.M, Silva, P.L.N.,Semaan, G.S. and Maculan, N. (2015).
Integer Programming Formulations Applied to Optimal Allocation in Stratified Sampling.
Survey Methodology, 41: 427-442.
</p>
<p>Brito, J.A.M, Semaan, G.S., Fadel, A.C. and Brito, L.R.(2017).
An optimization approach applied to the optimal stratification problem,
Communications in Statistics - Simulation and Computation.
</p>
<p>Gon√ßalves, J.R. and Resende, M.G.C. (2011).
Biased random-key genetic algorithms for combinatorial optimization,
Journal of Heuristics, 17: 487-525.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Sweden)
REV84&lt;-Sweden[,9]
solution1&lt;-stratbr(REV84,H=3,n=50,nmin=10,totgen=2,cores=4)
data(USbanks)
solution2&lt;-stratbr(USbanks,H=3,n=50,totgen=2,cores=4,takeall=TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

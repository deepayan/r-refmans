<!DOCTYPE html><html><head><title>Help for package arrangements</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {arrangements}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#arrangements-package'><p>arrangements: Fast Generators and Iterators for Permutations, Combinations, Integer</p>
Partitions and Compositions</a></li>
<li><a href='#combinations'><p>Combinations generator</p></a></li>
<li><a href='#Combinations'><p>Combinations iterator</p></a></li>
<li><a href='#compositions'><p>Compositions generator</p></a></li>
<li><a href='#Compositions'><p>Compositions iterator</p></a></li>
<li><a href='#ncombinations'><p>Number of combinations</p></a></li>
<li><a href='#ncompositions'><p>Number of compositions</p></a></li>
<li><a href='#npartitions'><p>Number of partitions</p></a></li>
<li><a href='#npermutations'><p>Number of permutations</p></a></li>
<li><a href='#partitions'><p>Partitions generator</p></a></li>
<li><a href='#Partitions'><p>Partitions iterator</p></a></li>
<li><a href='#permutations'><p>Permutations generator</p></a></li>
<li><a href='#Permutations'><p>Permutations iterator</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fast Generators and Iterators for Permutations, Combinations,
Integer Partitions and Compositions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-09-12</td>
</tr>
<tr>
<td>Description:</td>
<td>Fast generators and iterators for permutations, combinations,
    integer partitions and compositions. The arrangements are in
    lexicographical order and generated iteratively in a memory efficient manner. 
    It has been demonstrated that 'arrangements' outperforms most existing
    packages of similar kind. Benchmarks could be found at
    <a href="https://randy3k.github.io/arrangements/articles/benchmark.html">https://randy3k.github.io/arrangements/articles/benchmark.html</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/randy3k/arrangements">https://github.com/randy3k/arrangements</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>gmp, methods, R6</td>
</tr>
<tr>
<td>Suggests:</td>
<td>foreach, knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>gmp (&gt;= 4.2.3)</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-09-13 01:18:55 UTC; Randy</td>
</tr>
<tr>
<td>Author:</td>
<td>Randy Lai [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Randy Lai &lt;randy.cs.lai@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-09-13 14:00:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='arrangements-package'>arrangements: Fast Generators and Iterators for Permutations, Combinations, Integer
Partitions and Compositions</h2><span id='topic+arrangements'></span><span id='topic+arrangements-package'></span>

<h3>Description</h3>

<p>Fast generators and iterators for permutations, combinations,
integer partitions and compositions. The arrangements are in
lexicographical order and generated iteratively in a memory efficient manner. 
It has been demonstrated that 'arrangements' outperforms most existing
packages of similar kind. Benchmarks could be found at
&lt;https://randy3k.github.io/arrangements/articles/benchmark.html&gt;.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Randy Lai <a href="mailto:randy.cs.lai@gmail.com">randy.cs.lai@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://randy3k.github.io/arrangements">https://randy3k.github.io/arrangements</a>
</p>
</li></ul>


<hr>
<h2 id='combinations'>Combinations generator</h2><span id='topic+combinations'></span>

<h3>Description</h3>

<p>This function generates all the combinations of selecting <code>k</code> items from <code>n</code> items.
The results are in lexicographical order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combinations(x = NULL, k = NULL, n = NULL, v = NULL, freq = NULL,
  replace = FALSE, layout = NULL, nitem = -1L, skip = NULL,
  index = NULL, nsample = NULL, drop = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combinations_+3A_x">x</code></td>
<td>
<p>an integer or a vector, will be treated as <code>n</code> if integer; otherwise, will be treated as <code>v</code>.
Should not be specified together with <code>n</code> and <code>v</code>.</p>
</td></tr>
<tr><td><code id="combinations_+3A_k">k</code></td>
<td>
<p>an integer, the number of items drawn, defaults to <code>n</code> if <code>freq</code> is <code>NULL</code> else <code>sum(freq)</code></p>
</td></tr>
<tr><td><code id="combinations_+3A_n">n</code></td>
<td>
<p>an integer, the total number of items, its value may be implicitly deduced from <code>length(v)</code> or <code>length(freq)</code></p>
</td></tr>
<tr><td><code id="combinations_+3A_v">v</code></td>
<td>
<p>a vector to be drawn, defaults to <code>1:n</code>.</p>
</td></tr>
<tr><td><code id="combinations_+3A_freq">freq</code></td>
<td>
<p>an integer vector of item repeat frequencies</p>
</td></tr>
<tr><td><code id="combinations_+3A_replace">replace</code></td>
<td>
<p>an logical to draw items with replacement</p>
</td></tr>
<tr><td><code id="combinations_+3A_layout">layout</code></td>
<td>
<p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</td></tr>
<tr><td><code id="combinations_+3A_nitem">nitem</code></td>
<td>
<p>number of combinations required, usually used with <code>skip</code></p>
</td></tr>
<tr><td><code id="combinations_+3A_skip">skip</code></td>
<td>
<p>the number of combinations skipped</p>
</td></tr>
<tr><td><code id="combinations_+3A_index">index</code></td>
<td>
<p>a vector of indices of the desired combinations</p>
</td></tr>
<tr><td><code id="combinations_+3A_nsample">nsample</code></td>
<td>
<p>sampling random combinations</p>
</td></tr>
<tr><td><code id="combinations_+3A_drop">drop</code></td>
<td>
<p>vectorize a matrix or unlist a list</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+icombinations">icombinations</a> for iterating combinations and <a href="#topic+ncombinations">ncombinations</a> to calculate number of combinations
</p>


<h3>Examples</h3>

<pre><code class='language-R'># choose 2 from 4
combinations(4, 2)
combinations(LETTERS[1:3], k = 2)

# multiset with frequencies c(2, 3)
combinations(k = 3, freq = c(2, 3))

# with replacement
combinations(4, 2, replace = TRUE)

# column major
combinations(4, 2, layout = "column")

# list output
combinations(4, 2, layout = "list")

# specifc range of combinations
combinations(4, 2, nitem = 2, skip = 3)

# specific combinations
combinations(4, 2, index = c(3, 5))

# random combinations
combinations(4, 2, nsample = 3)

# zero sized combinations
dim(combinations(5, 0))
dim(combinations(5, 6))
dim(combinations(0, 0))
dim(combinations(0, 1))

</code></pre>

<hr>
<h2 id='Combinations'>Combinations iterator</h2><span id='topic+Combinations'></span><span id='topic+icombinations'></span>

<h3>Description</h3>

<p>This function returns a <a href="#topic+Combinations">Combinations</a> iterator for iterating
combinations of <code>k</code> items from <code>n</code> items. The iterator allows users to fetch the next
combination(s) via the <code>getnext()</code> method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Combinations

icombinations(x = NULL, k = NULL, n = NULL, v = NULL,
  freq = NULL, replace = FALSE, skip = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Combinations_+3A_x">x</code></td>
<td>
<p>an integer or a vector, will be treated as <code>n</code> if integer; otherwise, will be treated as <code>v</code>.
Should not be specified together with <code>n</code> and <code>v</code>.</p>
</td></tr>
<tr><td><code id="Combinations_+3A_k">k</code></td>
<td>
<p>an integer, the number of items drawn, defaults to <code>n</code> if <code>freq</code> is <code>NULL</code> else <code>sum(freq)</code></p>
</td></tr>
<tr><td><code id="Combinations_+3A_n">n</code></td>
<td>
<p>an integer, the total number of items, its value may be implicitly deduced from <code>length(v)</code> or <code>length(freq)</code></p>
</td></tr>
<tr><td><code id="Combinations_+3A_v">v</code></td>
<td>
<p>a vector to be drawn, defaults to <code>1:n</code>.</p>
</td></tr>
<tr><td><code id="Combinations_+3A_freq">freq</code></td>
<td>
<p>an integer vector of item repeat frequencies</p>
</td></tr>
<tr><td><code id="Combinations_+3A_replace">replace</code></td>
<td>
<p>an logical to draw items with replacement</p>
</td></tr>
<tr><td><code id="Combinations_+3A_skip">skip</code></td>
<td>
<p>the number of combinations skipped</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>R6ClassGenerator</code> of length 25.</p>


<h3>Details</h3>

<p>The <code>Combinations</code> class can be initialized by using the convenient wrapper <code>icombinations</code> or
</p>
<pre>
Combinations$new(n, k, v = NULL, freq = NULL, replace = FALSE)
</pre>
<pre>
getnext(d = 1L, layout = NULL, drop = NULL)
collect(layout = "row")
reset()
</pre>

<dl>
<dt>d</dt><dd><p>number of fetched arrangements</p>
</dd>
<dt>layout</dt><dd><p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</dd>
<dt>drop</dt><dd><p>vectorize a matrix or unlist a list</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="#topic+combinations">combinations</a> for generating all combinations and <a href="#topic+ncombinations">ncombinations</a> to calculate number of combinations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>icomb &lt;- icombinations(5, 2)
icomb$getnext()
icomb$getnext(2)
icomb$getnext(layout = "column", drop = FALSE)
# collect remaining combinations
icomb$collect()

library(foreach)
foreach(x = icombinations(5, 2), .combine=c) %do% {
  sum(x)
}
</code></pre>

<hr>
<h2 id='compositions'>Compositions generator</h2><span id='topic+compositions'></span>

<h3>Description</h3>

<p>This function generates the compositions of an non-negative interger <code>n</code> into <code>k</code> parts or parts of any sizes.
The results are in lexicographical or reversed lexicographical order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compositions(n, k = NULL, descending = FALSE, layout = NULL,
  nitem = -1L, skip = NULL, index = NULL, nsample = NULL,
  drop = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compositions_+3A_n">n</code></td>
<td>
<p>an non-negative integer to be partitioned</p>
</td></tr>
<tr><td><code id="compositions_+3A_k">k</code></td>
<td>
<p>number of parts</p>
</td></tr>
<tr><td><code id="compositions_+3A_descending">descending</code></td>
<td>
<p>an logical to use reversed lexicographical order</p>
</td></tr>
<tr><td><code id="compositions_+3A_layout">layout</code></td>
<td>
<p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</td></tr>
<tr><td><code id="compositions_+3A_nitem">nitem</code></td>
<td>
<p>number of compositions required, usually used with <code>skip</code></p>
</td></tr>
<tr><td><code id="compositions_+3A_skip">skip</code></td>
<td>
<p>the number of compositions skipped</p>
</td></tr>
<tr><td><code id="compositions_+3A_index">index</code></td>
<td>
<p>a vector of indices of the desired compositions</p>
</td></tr>
<tr><td><code id="compositions_+3A_nsample">nsample</code></td>
<td>
<p>sampling random compositions</p>
</td></tr>
<tr><td><code id="compositions_+3A_drop">drop</code></td>
<td>
<p>vectorize a matrix or unlist a list</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+icompositions">icompositions</a> for iterating compositions and <a href="#topic+ncompositions">ncompositions</a> to calculate number of compositions
</p>


<h3>Examples</h3>

<pre><code class='language-R'># all compositions of 4
compositions(4)
# reversed lexicographical order
compositions(4, descending = TRUE)

# fixed number of parts
compositions(6, 3)
# reversed lexicographical order
compositions(6, 3, descending = TRUE)

# column major
compositions(4, layout = "column")
compositions(6, 3, layout = "column")

# list output
compositions(4, layout = "list")
compositions(6, 3, layout = "list")

# zero sized compositions
dim(compositions(0))
dim(compositions(5, 0))
dim(compositions(5, 6))
dim(compositions(0, 0))
dim(compositions(0, 1))

</code></pre>

<hr>
<h2 id='Compositions'>Compositions iterator</h2><span id='topic+Compositions'></span><span id='topic+icompositions'></span>

<h3>Description</h3>

<p>This function returns a <a href="#topic+Compositions">Compositions</a> iterator for iterating
compositions of an non-negative integer <code>n</code> into <code>k</code> parts or parts of any sizes.
The iterator allows users to fetch the next partition(s) via the <code>getnext()</code> method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Compositions

icompositions(n, k = NULL, descending = FALSE, skip = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Compositions_+3A_n">n</code></td>
<td>
<p>an non-negative integer to be partitioned</p>
</td></tr>
<tr><td><code id="Compositions_+3A_k">k</code></td>
<td>
<p>number of parts</p>
</td></tr>
<tr><td><code id="Compositions_+3A_descending">descending</code></td>
<td>
<p>an logical to use reversed lexicographical order</p>
</td></tr>
<tr><td><code id="Compositions_+3A_skip">skip</code></td>
<td>
<p>the number of compositions skipped</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>R6ClassGenerator</code> of length 25.</p>


<h3>Details</h3>

<p>The <code>Compositions</code> class can be initialized by using the convenient wrapper <code>icompositions</code> or
</p>
<pre>
Compositions$new(n, k = NULL, descending = FALSE)
</pre>
<pre>
getnext(d = 1L, layout = NULL, drop = NULL)
collect(layout = "row")
reset()
</pre>

<dl>
<dt>d</dt><dd><p>number of fetched arrangements</p>
</dd>
<dt>layout</dt><dd><p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</dd>
<dt>drop</dt><dd><p>vectorize a matrix or unlist a list</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="#topic+compositions">compositions</a> for generating all compositions and <a href="#topic+ncompositions">ncompositions</a> to calculate number of compositions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ipart &lt;- icompositions(4)
ipart$getnext()
ipart$getnext(2)
ipart$getnext(layout = "column", drop = FALSE)
# collect remaining compositions
ipart$collect()

library(foreach)
foreach(x = icompositions(6, 2), .combine=c) %do% {
  prod(x)
}
</code></pre>

<hr>
<h2 id='ncombinations'>Number of combinations</h2><span id='topic+ncombinations'></span>

<h3>Description</h3>

<p>Number of combinations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ncombinations(x = NULL, k = NULL, n = NULL, v = NULL,
  freq = NULL, replace = FALSE, bigz = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ncombinations_+3A_x">x</code></td>
<td>
<p>an integer or a vector, will be treated as <code>n</code> if integer; otherwise, will be treated as <code>v</code>.
Should not be specified together with <code>n</code> and <code>v</code>.</p>
</td></tr>
<tr><td><code id="ncombinations_+3A_k">k</code></td>
<td>
<p>an integer, the number of items drawn, defaults to <code>n</code> if <code>freq</code> is <code>NULL</code> else <code>sum(freq)</code></p>
</td></tr>
<tr><td><code id="ncombinations_+3A_n">n</code></td>
<td>
<p>an integer, the total number of items, its value may be implicitly deduced from <code>length(v)</code> or <code>length(freq)</code></p>
</td></tr>
<tr><td><code id="ncombinations_+3A_v">v</code></td>
<td>
<p>a vector to be drawn, defaults to <code>1:n</code>.</p>
</td></tr>
<tr><td><code id="ncombinations_+3A_freq">freq</code></td>
<td>
<p>an integer vector of item repeat frequencies</p>
</td></tr>
<tr><td><code id="ncombinations_+3A_replace">replace</code></td>
<td>
<p>an logical to draw items with replacement</p>
</td></tr>
<tr><td><code id="ncombinations_+3A_bigz">bigz</code></td>
<td>
<p>an logical to use <a href="gmp.html#topic+bigz">gmp::bigz</a></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+combinations">combinations</a> for generating all combinations and <a href="#topic+icombinations">icombinations</a> for iterating combinations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ncombinations(5, 2)
ncombinations(LETTERS, k = 5)

# integer overflow
## Not run: ncombinations(40, 15)
ncombinations(40, 15, bigz = TRUE)

# number of combinations of `c("a", "b", "b")`
# they are `c("a", "b")` and `c("b", "b")`
ncombinations(k = 2, freq = c(1, 2))

# zero sized combinations
ncombinations(5, 0)
ncombinations(5, 6)
ncombinations(0, 1)
ncombinations(0, 0)

</code></pre>

<hr>
<h2 id='ncompositions'>Number of compositions</h2><span id='topic+ncompositions'></span>

<h3>Description</h3>

<p>Number of compositions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ncompositions(n, k = NULL, bigz = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ncompositions_+3A_n">n</code></td>
<td>
<p>an non-negative integer to be partitioned</p>
</td></tr>
<tr><td><code id="ncompositions_+3A_k">k</code></td>
<td>
<p>number of parts</p>
</td></tr>
<tr><td><code id="ncompositions_+3A_bigz">bigz</code></td>
<td>
<p>an logical to use <a href="gmp.html#topic+bigz">gmp::bigz</a></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+compositions">compositions</a> for generating all compositions and <a href="#topic+icompositions">icompositions</a> for iterating compositions
</p>


<h3>Examples</h3>

<pre><code class='language-R'># number of compositions of 10
ncompositions(10)
# number of compositions of 10 into 5 parts
ncompositions(10, 5)

# integer overflow
## Not run: ncompositions(160)
ncompositions(160, bigz = TRUE)

# zero sized compositions
ncompositions(0)
ncompositions(5, 0)
ncompositions(5, 6)
ncompositions(0, 0)
ncompositions(0, 1)
</code></pre>

<hr>
<h2 id='npartitions'>Number of partitions</h2><span id='topic+npartitions'></span>

<h3>Description</h3>

<p>Number of partitions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npartitions(n, k = NULL, distinct = FALSE, bigz = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npartitions_+3A_n">n</code></td>
<td>
<p>an non-negative integer to be partitioned</p>
</td></tr>
<tr><td><code id="npartitions_+3A_k">k</code></td>
<td>
<p>number of parts</p>
</td></tr>
<tr><td><code id="npartitions_+3A_distinct">distinct</code></td>
<td>
<p>an logical to restrict distinct values</p>
</td></tr>
<tr><td><code id="npartitions_+3A_bigz">bigz</code></td>
<td>
<p>an logical to use <a href="gmp.html#topic+bigz">gmp::bigz</a></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+partitions">partitions</a> for generating all partitions and <a href="#topic+ipartitions">ipartitions</a> for iterating partitions
</p>


<h3>Examples</h3>

<pre><code class='language-R'># number of partitions of 10
npartitions(10)
# number of partitions of 10 into 5 parts
npartitions(10, 5)

# integer overflow
## Not run: npartitions(160)
npartitions(160, bigz = TRUE)

# zero sized partitions
npartitions(0)
npartitions(5, 0)
npartitions(5, 6)
npartitions(0, 0)
npartitions(0, 1)
</code></pre>

<hr>
<h2 id='npermutations'>Number of permutations</h2><span id='topic+npermutations'></span>

<h3>Description</h3>

<p>Number of permutations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npermutations(x = NULL, k = NULL, n = NULL, v = NULL,
  freq = NULL, replace = FALSE, bigz = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npermutations_+3A_x">x</code></td>
<td>
<p>an integer or a vector, will be treated as <code>n</code> if integer; otherwise, will be treated as <code>v</code>.
Should not be specified together with <code>n</code> and <code>v</code>.</p>
</td></tr>
<tr><td><code id="npermutations_+3A_k">k</code></td>
<td>
<p>an integer, the number of items drawn, defaults to <code>n</code> if <code>freq</code> is <code>NULL</code> else <code>sum(freq)</code></p>
</td></tr>
<tr><td><code id="npermutations_+3A_n">n</code></td>
<td>
<p>an integer, the total number of items, its value may be implicitly deduced from <code>length(v)</code> or <code>length(freq)</code></p>
</td></tr>
<tr><td><code id="npermutations_+3A_v">v</code></td>
<td>
<p>a vector to be drawn, defaults to <code>1:n</code>.</p>
</td></tr>
<tr><td><code id="npermutations_+3A_freq">freq</code></td>
<td>
<p>an integer vector of item repeat frequencies</p>
</td></tr>
<tr><td><code id="npermutations_+3A_replace">replace</code></td>
<td>
<p>an logical to draw items with replacement</p>
</td></tr>
<tr><td><code id="npermutations_+3A_bigz">bigz</code></td>
<td>
<p>an logical to use <a href="gmp.html#topic+bigz">gmp::bigz</a></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+permutations">permutations</a> for generating all permutations and <a href="#topic+ipermutations">ipermutations</a> for iterating permutations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>npermutations(7)
npermutations(LETTERS[1:5])
npermutations(5, 2)
npermutations(LETTERS, k = 5)

# integer overflow
## Not run: npermutations(14, 10)
npermutations(14, 10, bigz = TRUE)

# number of permutations of `c("a", "b", "b")`
# they are `c("a", "b")`, `c("b", "b")` and `c("b", "b")`
npermutations(k = 2, freq = c(1, 2))

# zero sized partitions
npermutations(0)
npermutations(5, 0)
npermutations(5, 6)
npermutations(0, 1)
npermutations(0, 0)
</code></pre>

<hr>
<h2 id='partitions'>Partitions generator</h2><span id='topic+partitions'></span>

<h3>Description</h3>

<p>This function partitions an non-negative interger <code>n</code> into <code>k</code> parts or parts of any sizes.
The results are in lexicographical or reversed lexicographical order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>partitions(n, k = NULL, distinct = FALSE, descending = FALSE,
  layout = NULL, nitem = -1L, skip = NULL, index = NULL,
  nsample = NULL, drop = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="partitions_+3A_n">n</code></td>
<td>
<p>an non-negative integer to be partitioned</p>
</td></tr>
<tr><td><code id="partitions_+3A_k">k</code></td>
<td>
<p>number of parts</p>
</td></tr>
<tr><td><code id="partitions_+3A_distinct">distinct</code></td>
<td>
<p>an logical to restrict distinct values</p>
</td></tr>
<tr><td><code id="partitions_+3A_descending">descending</code></td>
<td>
<p>an logical to use reversed lexicographical order</p>
</td></tr>
<tr><td><code id="partitions_+3A_layout">layout</code></td>
<td>
<p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</td></tr>
<tr><td><code id="partitions_+3A_nitem">nitem</code></td>
<td>
<p>number of partitions required, usually used with <code>skip</code></p>
</td></tr>
<tr><td><code id="partitions_+3A_skip">skip</code></td>
<td>
<p>the number of partitions skipped</p>
</td></tr>
<tr><td><code id="partitions_+3A_index">index</code></td>
<td>
<p>a vector of indices of the desired partitions</p>
</td></tr>
<tr><td><code id="partitions_+3A_nsample">nsample</code></td>
<td>
<p>sampling random partitions</p>
</td></tr>
<tr><td><code id="partitions_+3A_drop">drop</code></td>
<td>
<p>vectorize a matrix or unlist a list</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+ipartitions">ipartitions</a> for iterating partitions and <a href="#topic+npartitions">npartitions</a> to calculate number of partitions
</p>


<h3>Examples</h3>

<pre><code class='language-R'># all partitions of 6
partitions(6)
# reversed lexicographical order
partitions(6, descending = TRUE)

# fixed number of parts
partitions(10, 5)
# reversed lexicographical order
partitions(10, 5, descending = TRUE)

# column major
partitions(6, layout = "column")
partitions(6, 3, layout = "column")

# list output
partitions(6, layout = "list")
partitions(6, 3, layout = "list")

# zero sized partitions
dim(partitions(0))
dim(partitions(5, 0))
dim(partitions(5, 6))
dim(partitions(0, 0))
dim(partitions(0, 1))

</code></pre>

<hr>
<h2 id='Partitions'>Partitions iterator</h2><span id='topic+Partitions'></span><span id='topic+ipartitions'></span>

<h3>Description</h3>

<p>This function returns a <a href="#topic+Partitions">Partitions</a> iterator for iterating
partitions of an non-negative integer <code>n</code> into <code>k</code> parts or parts of any sizes.
The iterator allows users to fetch the next partition(s) via the <code>getnext()</code> method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Partitions

ipartitions(n, k = NULL, distinct = FALSE, descending = FALSE,
  skip = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Partitions_+3A_n">n</code></td>
<td>
<p>an non-negative integer to be partitioned</p>
</td></tr>
<tr><td><code id="Partitions_+3A_k">k</code></td>
<td>
<p>number of parts</p>
</td></tr>
<tr><td><code id="Partitions_+3A_distinct">distinct</code></td>
<td>
<p>an logical to restrict distinct values</p>
</td></tr>
<tr><td><code id="Partitions_+3A_descending">descending</code></td>
<td>
<p>an logical to use reversed lexicographical order</p>
</td></tr>
<tr><td><code id="Partitions_+3A_skip">skip</code></td>
<td>
<p>the number of partitions skipped</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>R6ClassGenerator</code> of length 25.</p>


<h3>Details</h3>

<p>The <code>Partitions</code> class can be initialized by using the convenient wrapper <code>ipartitions</code> or
</p>
<pre>
Partitions$new(n, k = NULL, descending = FALSE)
</pre>
<pre>
getnext(d = 1L, layout = NULL, drop = NULL)
collect(layout = "row")
reset()
</pre>

<dl>
<dt>d</dt><dd><p>number of fetched arrangements</p>
</dd>
<dt>layout</dt><dd><p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</dd>
<dt>drop</dt><dd><p>vectorize a matrix or unlist a list</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="#topic+partitions">partitions</a> for generating all partitions and <a href="#topic+npartitions">npartitions</a> to calculate number of partitions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ipart &lt;- ipartitions(10)
ipart$getnext()
ipart$getnext(2)
ipart$getnext(layout = "column", drop = FALSE)
# collect remaining partitions
ipart$collect()

library(foreach)
foreach(x = ipartitions(6, 2), .combine=c) %do% {
  prod(x)
}
</code></pre>

<hr>
<h2 id='permutations'>Permutations generator</h2><span id='topic+permutations'></span>

<h3>Description</h3>

<p>This function generates all the permutations of selecting <code>k</code> items from <code>n</code> items.
The results are in lexicographical order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>permutations(x = NULL, k = NULL, n = NULL, v = NULL, freq = NULL,
  replace = FALSE, layout = NULL, nitem = -1L, skip = NULL,
  index = NULL, nsample = NULL, drop = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="permutations_+3A_x">x</code></td>
<td>
<p>an integer or a vector, will be treated as <code>n</code> if integer; otherwise, will be treated as <code>v</code>.
Should not be specified together with <code>n</code> and <code>v</code>.</p>
</td></tr>
<tr><td><code id="permutations_+3A_k">k</code></td>
<td>
<p>an integer, the number of items drawn, defaults to <code>n</code> if <code>freq</code> is <code>NULL</code> else <code>sum(freq)</code></p>
</td></tr>
<tr><td><code id="permutations_+3A_n">n</code></td>
<td>
<p>an integer, the total number of items, its value may be implicitly deduced from <code>length(v)</code> or <code>length(freq)</code></p>
</td></tr>
<tr><td><code id="permutations_+3A_v">v</code></td>
<td>
<p>a vector to be drawn, defaults to <code>1:n</code>.</p>
</td></tr>
<tr><td><code id="permutations_+3A_freq">freq</code></td>
<td>
<p>an integer vector of item repeat frequencies</p>
</td></tr>
<tr><td><code id="permutations_+3A_replace">replace</code></td>
<td>
<p>an logical to draw items with replacement</p>
</td></tr>
<tr><td><code id="permutations_+3A_layout">layout</code></td>
<td>
<p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</td></tr>
<tr><td><code id="permutations_+3A_nitem">nitem</code></td>
<td>
<p>number of permutations required, usually used with <code>skip</code></p>
</td></tr>
<tr><td><code id="permutations_+3A_skip">skip</code></td>
<td>
<p>the number of permutations skipped</p>
</td></tr>
<tr><td><code id="permutations_+3A_index">index</code></td>
<td>
<p>a vector of indices of the desired permutations</p>
</td></tr>
<tr><td><code id="permutations_+3A_nsample">nsample</code></td>
<td>
<p>sampling random permutations</p>
</td></tr>
<tr><td><code id="permutations_+3A_drop">drop</code></td>
<td>
<p>vectorize a matrix or unlist a list</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+ipermutations">ipermutations</a> for iterating permutations and <a href="#topic+npermutations">npermutations</a> to calculate number of permutations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>permutations(3)
permutations(LETTERS[1:3])

# choose 2 from 4
permutations(4, 2)
permutations(LETTERS[1:3], k = 2)

# multiset with frequencies c(2, 3)
permutations(k = 3, freq = c(2, 3))

# with replacement
permutations(4, 2, replace = TRUE)

# column major
permutations(3, layout = "column")
permutations(4, 2, layout = "column")

# list output
permutations(3, layout = "list")
permutations(4, 2, layout = "list")

# specifc range of permutations
permutations(4, 2, nitem = 2, skip = 3)

# specific permutations
permutations(4, 2, index = c(3, 5))

# random permutations
permutations(4, 2, nsample = 3)

# zero sized permutations
dim(permutations(0))
dim(permutations(5, 0))
dim(permutations(5, 6))
dim(permutations(0, 0))
dim(permutations(0, 1))

</code></pre>

<hr>
<h2 id='Permutations'>Permutations iterator</h2><span id='topic+Permutations'></span><span id='topic+ipermutations'></span>

<h3>Description</h3>

<p>This function returns a <a href="#topic+Permutations">Permutations</a> iterator for iterating
permutations of <code>k</code> items from <code>n</code> items. The iterator allows users to fetch the next
permutation(s) via the <code>getnext()</code> method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Permutations

ipermutations(x = NULL, k = NULL, n = NULL, v = NULL,
  freq = NULL, replace = FALSE, skip = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Permutations_+3A_x">x</code></td>
<td>
<p>an integer or a vector, will be treated as <code>n</code> if integer; otherwise, will be treated as <code>v</code>.
Should not be specified together with <code>n</code> and <code>v</code>.</p>
</td></tr>
<tr><td><code id="Permutations_+3A_k">k</code></td>
<td>
<p>an integer, the number of items drawn, defaults to <code>n</code> if <code>freq</code> is <code>NULL</code> else <code>sum(freq)</code></p>
</td></tr>
<tr><td><code id="Permutations_+3A_n">n</code></td>
<td>
<p>an integer, the total number of items, its value may be implicitly deduced from <code>length(v)</code> or <code>length(freq)</code></p>
</td></tr>
<tr><td><code id="Permutations_+3A_v">v</code></td>
<td>
<p>a vector to be drawn, defaults to <code>1:n</code>.</p>
</td></tr>
<tr><td><code id="Permutations_+3A_freq">freq</code></td>
<td>
<p>an integer vector of item repeat frequencies</p>
</td></tr>
<tr><td><code id="Permutations_+3A_replace">replace</code></td>
<td>
<p>an logical to draw items with replacement</p>
</td></tr>
<tr><td><code id="Permutations_+3A_skip">skip</code></td>
<td>
<p>the number of combinations skipped</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>R6ClassGenerator</code> of length 25.</p>


<h3>Details</h3>

<p>The <code>Permutations</code> class can be initialized by using the convenient wrapper <code>ipermutations</code> or
</p>
<pre>
Permutations$new(n, k, v = NULL, freq = NULL, replace = FALSE)
</pre>
<pre>
getnext(d = 1L, layout = NULL, drop = NULL)
collect(layout = "row")
reset()
</pre>

<dl>
<dt>d</dt><dd><p>number of fetched arrangements</p>
</dd>
<dt>layout</dt><dd><p>if &quot;row&quot;, &quot;column&quot; or &quot;list&quot; is specified, the returned value would be a
&quot;row-major&quot; matrix, a &quot;column-major&quot; matrix or a list respectively</p>
</dd>
<dt>drop</dt><dd><p>vectorize a matrix or unlist a list</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="#topic+permutations">permutations</a> for generating all permutations and <a href="#topic+npermutations">npermutations</a> to calculate number of permutations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>iperm &lt;- ipermutations(5, 2)
iperm$getnext()
iperm$getnext(2)
iperm$getnext(layout = "column", drop = FALSE)
# collect remaining permutations
iperm$collect()

library(foreach)
foreach(x = ipermutations(5, 2), .combine=c) %do% {
  sum(x)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package genpathmox</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {genpathmox}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.path'><p>Path coefficient extraction</p></a></li>
<li><a href='#all_part'><p>Candidates to the bets partition for each of segmentation variables</p></a></li>
<li><a href='#bar_impvar'><p>Bar Plot of a ranking of categorical variables by importance</p></a></li>
<li><a href='#bar_terminal'><p>Comparative plot for the Pathmox terminal nodes</p></a></li>
<li><a href='#bin.levels'><p>Labels of a categorical variable a binary partions</p></a></li>
<li><a href='#blockdiag'><p>Bart matrix</p></a></li>
<li><a href='#build.block'><p>Linear relations between latent variables.</p></a></li>
<li><a href='#candidates.tree'><p>Posibble partions for each node of the tree</p></a></li>
<li><a href='#check_arg_mox'><p>Checks arguments</p></a></li>
<li><a href='#check_const'><p>Check consistence</p></a></li>
<li><a href='#climate'><p>climate</p></a></li>
<li><a href='#comb'><p>Combinations of a vector element</p></a></li>
<li><a href='#csibank'><p>csibank</p></a></li>
<li><a href='#element'><p>Path coefficient labels</p></a></li>
<li><a href='#F.data'><p>Data preprocessing for F-tests</p></a></li>
<li><a href='#f.min'><p>Vector minimum position</p></a></li>
<li><a href='#Fc.test'><p>F-coefficient test</p></a></li>
<li><a href='#fcoef.tree'><p>F-coefficients test results for each tree partition</p></a></li>
<li><a href='#Fg.test'><p>F-global test</p></a></li>
<li><a href='#fglobal.tree'><p>F-global test results for each tree partition</p></a></li>
<li><a href='#footdata'><p>footdata</p></a></li>
<li><a href='#info-class'><p>info class</p></a></li>
<li><a href='#info.mox'><p>General information about the pathmox algorithm</p></a></li>
<li><a href='#mox.tree'><p>General information about the tree</p></a></li>
<li><a href='#moxtree-class'><p>moxtree class</p></a></li>
<li><a href='#node-class'><p>node class</p></a></li>
<li><a href='#nodes.tree'><p>Observations belonging to the nodes</p></a></li>
<li><a href='#partition'><p>Binary partitions given a segmentation variable (factor).</p></a></li>
<li><a href='#partopt'><p>Best partition given a set of segmentation variables</p></a></li>
<li><a href='#percent.node'><p>Calculating size (numeber of individual of a node)</p></a></li>
<li><a href='#plot.plstree'><p>Plot function for the pathmox segmentation tree</p></a></li>
<li><a href='#pls.pathmox'><p>Pathmox Segmentation Trees in Partial Least Squares Structural Equation</p>
Modeling (PLS-SEM)</a></li>
<li><a href='#plstree'><p>create method plstree</p></a></li>
<li><a href='#print.plstree'><p>Print function for Pathmox Segmentation Trees</p></a></li>
<li><a href='#printTree'><p>printing the tree structure</p></a></li>
<li><a href='#root.tree'><p>Observations belonging to the root node</p></a></li>
<li><a href='#showDeepth'><p>Calculating Deepth stop criterion</p></a></li>
<li><a href='#splitopt'><p>Best partition for a specific segmentation variable</p></a></li>
<li><a href='#summary.plstree'><p>Summary function for Pathmox Segmentation Trees</p></a></li>
<li><a href='#terminal.tree'><p>Observations belonging to the terminal nodes</p></a></li>
<li><a href='#test.partition'><p>Cheking F-tests results</p></a></li>
<li><a href='#var_imp_mox'><p>Ranking of variables importance</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Pathmox Approach Segmentation Tree Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>It provides an interesting solution for handling a high number 
	of segmentation variables in partial least squares structural equation 
	modeling. The package implements the "Pathmox" algorithm (Lamberti, Sanchez, 
	and Aluja,(2016)&lt;<a href="https://doi.org/10.1002%2Fasmb.2168">doi:10.1002/asmb.2168</a>&gt;) including the F-coefficient 
	test (Lamberti, Sanchez, and Aluja,(2017)&lt;<a href="https://doi.org/10.1002%2Fasmb.2270">doi:10.1002/asmb.2270</a>&gt;) 
	to detect the path coefficients responsible for the identified differences). 
	The package also allows running the hybrid multi-group approach (Lamberti (2021) 
	&lt;<a href="https://doi.org/10.1007%2Fs11135-021-01096-9">doi:10.1007/s11135-021-01096-9</a>&gt;).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), stats, cSEM, diagram, methods, graphics,
grDevices, matrixcalc</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-26 08:58:56 UTC; giuseppelamberti</td>
</tr>
<tr>
<td>Author:</td>
<td>Giuseppe Lamberti [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Giuseppe Lamberti &lt;giuseppelamb@hotmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-26 09:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='.path'>Path coefficient extraction</h2><span id='topic+.path'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.path(x, l)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".path_+3A_x">x</code></td>
<td>
<p>matrix containing path coefficients</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a vector of path coefficients
</p>

<hr>
<h2 id='all_part'>Candidates to the bets partition for each of segmentation variables</h2><span id='topic+all_part'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_part(x, y, inner, .model, .scheme, .consistent, size_candidate, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="all_part_+3A_x">x</code></td>
<td>
<p>matrix or dataframe containing the dataset.</p>
</td></tr>
<tr><td><code id="all_part_+3A_y">y</code></td>
<td>
<p>matrix or dataframe or vector of the segmentation variables</p>
</td></tr>
<tr><td><code id="all_part_+3A_inner">inner</code></td>
<td>
<p>a square (lower triangular) boolean matrix representing
the inner model (i.e. the path relationships between latent variables)</p>
</td></tr>
<tr><td><code id="all_part_+3A_.model">.model</code></td>
<td>
<p>A description of the user-specified model.</p>
</td></tr>
<tr><td><code id="all_part_+3A_.scheme">.scheme</code></td>
<td>
<p>string indicating the type of inner weighting
scheme. Possible values are <code>"centroid"</code>, <code>"factorial"</code>, or
<code>"path"</code>.</p>
</td></tr>
<tr><td><code id="all_part_+3A_.consistent">.consistent</code></td>
<td>
<p>Logical. Should composite/proxy correlations be disattenuated
to yield consistent loadings and path estimates if at least one of the construct
is modeled as a common factor. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="all_part_+3A_size_candidate">size_candidate</code></td>
<td>
<p>number indicating the minimum threshold for a node.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list containing information of the candidates to the optimum partition
for each of segmentation variables
</p>

<hr>
<h2 id='bar_impvar'>Bar Plot of a ranking of categorical variables by importance</h2><span id='topic+bar_impvar'></span>

<h3>Description</h3>

<p><code>"bar_impvar"</code> returns a bar plot to  visualize the ranking
of variables by importance  in obtaining the terminal nodes of Pathmox.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bar_impvar(x, .cex.names = 1, .cex.axis = 1.2, .cex.main = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bar_impvar_+3A_x">x</code></td>
<td>
<p>An object of the class <code>"plstree"</code></p>
</td></tr>
<tr><td><code id="bar_impvar_+3A_.cex.names">.cex.names</code></td>
<td>
<p>Expansion factor for axis names (bar labels)</p>
</td></tr>
<tr><td><code id="bar_impvar_+3A_.cex.axis">.cex.axis</code></td>
<td>
<p>Expansion factor for numeric axis labels</p>
</td></tr>
<tr><td><code id="bar_impvar_+3A_.cex.main">.cex.main</code></td>
<td>
<p>Allows fixing the size of the main. Equal to 1 to default</p>
</td></tr>
<tr><td><code id="bar_impvar_+3A_...">...</code></td>
<td>
<p>Further arguments are ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The importance of each variable is determined by adding the F-statistic 
calculated for the variable in each split node of Pathmox.
</p>


<h3>Author(s)</h3>

<p>Giuseppe Lamberti
</p>


<h3>References</h3>

<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2016). The Pathmox approach for PLS path 
modeling segmentation. <em>Applied Stochastic Models in Business and Industry</em>, <b>32</b>(4), 453-468.
doi: <a href="https://doi.org/10.1002/asmb.2168">10.1002/asmb.2168</a>
</p>
<p>Lamberti, G. (2015). <em>Modeling with Heterogeneity</em>, PhD Dissertation.
</p>
<p>Sanchez, G. (2009). <em>PATHMOX Approach: Segmentation Trees in
Partial Least Squares Path Modeling</em>, PhD Dissertation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.plstree">summary.plstree</a></code>, <code><a href="#topic+print.plstree">print.plstree</a></code>, <code><a href="#topic+pls.pathmox">pls.pathmox</a></code>,  
<code><a href="#topic+bar_terminal">bar_terminal</a></code>, and <code><a href="#topic+plot.plstree">plot.plstree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
# Example of PATHMOX approach in customer satisfaction analysis 
# (Spanish financial company).
# Model with 5 LVs (4 common factor: Image (IMAG), Value (VAL), 
# Satisfaction (SAT), and Loyalty (LOY); and 1 composite construct: 
# Quality (QUAL)

# load library and dataset csibank
library(genpathmx)
data("csibank")

# Define the model using the lavaan syntax. Use a set of regression formulas to define
# first the structural model and then the measurement model

CSImodel &lt;- "
# Structural model
VAL  ~ QUAL
SAT  ~ IMAG  + QUAL + VAL
LOY  ~ IMAG + SAT

# Measurement model
# Composite
QUAL &lt;~ qual1 + qual2 + qual3 + qual4 + qual5 + qual6 + qual7 
     
# Common factor
IMAG =~ imag1 + imag2 + imag3 + imag4 + imag5 + imag6 
VAL  =~ val1  + val2  + val3  + val4
SAT  =~ sat1  + sat2  + sat3           
LOY  =~ loy1  + loy2  + loy3           

"

# Identify the categorical variable to be used as input variables 
in the split process
CSIcatvar = csibank[,1:5]

# Check if variables are well specified (they have to be factors 
# and/or ordered factors)
str(CSIcatvar)

# Transform age and education into ordered factors
CSIcatvar$Age = factor(CSIcatvar$Age, levels = c("&lt;=25", 
                                     "26-35", "36-45", "46-55", 
                                     "56-65", "&gt;=66"),ordered = T)

CSIcatvar$Education = factor(CSIcatvar$Education, 
                            levels = c("Unfinished","Elementary", "Highschool",
                            "Undergrad", "Graduated"),ordered = T)
       
# Run Pathmox analysis (Lamberti et al., 2016; 2017)
csi.pathmox = pls.pathmox(
 .model = CSImodel ,
 .data  = csibank,
 .catvar= CSIcatvar,
 .alpha = 0.05,
 .deep = 2
)                     
 
bar_impvar(csi.pathmox)


## End(Not run)

</code></pre>

<hr>
<h2 id='bar_terminal'>Comparative plot for the Pathmox terminal nodes</h2><span id='topic+bar_terminal'></span>

<h3>Description</h3>

<p><code>bar_terminal</code> returns the path coefficient bar plots of the Pathmox terminal 
nodes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bar_terminal(
  x,
  .LV,
  .bycoef = FALSE,
  .cex.names = 1,
  .cex.axis = 1.2,
  .cex.main = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bar_terminal_+3A_x">x</code></td>
<td>
<p>An object of the class <code>"plstree"</code>.</p>
</td></tr>
<tr><td><code id="bar_terminal_+3A_.lv">.LV</code></td>
<td>
<p>A string indicating the name of the dependent  latent variable. The label
must be the same as used to define the structural model in the (lavaan syntax).</p>
</td></tr>
<tr><td><code id="bar_terminal_+3A_.bycoef">.bycoef</code></td>
<td>
<p>Logical value indicating if the comparison is done by nodes or by path
coefficients. By default, <code>FALSE</code> means that the comparison is done 
by nodes.</p>
</td></tr>
<tr><td><code id="bar_terminal_+3A_.cex.names">.cex.names</code></td>
<td>
<p>Expansion factor for axis names (bar labels).</p>
</td></tr>
<tr><td><code id="bar_terminal_+3A_.cex.axis">.cex.axis</code></td>
<td>
<p>Expansion factor for numeric axis labels.</p>
</td></tr>
<tr><td><code id="bar_terminal_+3A_.cex.main">.cex.main</code></td>
<td>
<p>Allows fixing the size of the main. It is equal to 1 to default.</p>
</td></tr>
<tr><td><code id="bar_terminal_+3A_...">...</code></td>
<td>
<p>Further arguments are ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function aims to visualize, using bar plots, the path coefficients of
the dependnet latent construct associated with the terminal nodes. 
The user indicates the dependnet latent construct they want to visualize. 
This is done using the same label as used in the structural model definition
(lavaan syntax). The comparison is done by analyzing the path coefficient 
values for each node, or the values estimated in each node for each path coefficient. 
In the former, the plot also returns the R^2. In the latter, the bar corresponding to the 
node with the highest path coefficient value shows in a different color. 
By default the comparison is done by analyzing the path coefficient values for each node.
</p>


<h3>Author(s)</h3>

<p>Giuseppe Lamberti
</p>


<h3>References</h3>

<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2016). The Pathmox approach for PLS path 
modeling segmentation. <em>Applied Stochastic Models in Business and Industry</em>, <b>32</b>(4), 453-468.
doi: <a href="https://doi.org/10.1002/asmb.2168">10.1002/asmb.2168</a>
</p>
<p>Lamberti, G. (2015). <em>Modeling with Heterogeneity</em>, PhD Dissertation.
</p>
<p>Sanchez, G. (2009). <em>PATHMOX Approach: Segmentation Trees in
Partial Least Squares Path Modeling</em>, PhD Dissertation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.plstree">summary.plstree</a></code>, <code><a href="#topic+print.plstree">print.plstree</a></code>, <code><a href="#topic+pls.pathmox">pls.pathmox</a></code>,  
<code><a href="#topic+plot.plstree">plot.plstree</a></code>, and <code><a href="#topic+bar_impvar">bar_impvar</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
# Example of PATHMOX approach in customer satisfaction analysis 
# (Spanish financial company).
# Model with 5 LVs (4 common factor: Image (IMAG), Value (VAL), 
# Satisfaction (SAT), and Loyalty (LOY); and 1 composite construct: 
# Quality (QUAL)

# load library and dataset csibank
library(genpathmx)
data("csibank")

# Define the model using the lavaan syntax. Use a set of regression formulas to define 
# first the structural model and then the measurement model

CSImodel &lt;- "
# Structural model
VAL  ~ QUAL
SAT  ~ IMAG  + QUAL + VAL
LOY  ~ IMAG + SAT

# Measurement model
# Composite
QUAL &lt;~ qual1 + qual2 + qual3 + qual4 + qual5 + qual6 + qual7 
     
# Common factor
IMAG =~ imag1 + imag2 + imag3 + imag4 + imag5 + imag6 
VAL  =~ val1  + val2  + val3  + val4
SAT  =~ sat1  + sat2  + sat3           
LOY  =~ loy1  + loy2  + loy3           

"

# Run pathmox on one single variable 
age = csibank[,2]

# Transform age into an ordered factor
age = factor(age, levels = c("&lt;=25", "26-35", "36-45", "46-55",
                                      "56-65", "&gt;=66"),ordered = T)
                                     
csi.pathmox.age = pls.pathmox(
 .model = CSImodel ,
 .data  = csibank,
 .catvar= age,
 .alpha = 0.05,
 .deep = 1
)  

# Visualize the bar plot by comparing the nodes
bar_terminal(csi.pathmox.age, .LV = "SAT")

# Visualize the bar plot by comparing path coefficients
bar_terminal(csi.pathmox.age, .LV = "SAT", .bycoef = TRUE)


## End(Not run)

</code></pre>

<hr>
<h2 id='bin.levels'>Labels of a categorical variable a binary partions</h2><span id='topic+bin.levels'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bin.levels(z, spl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bin.levels_+3A_z">z</code></td>
<td>
<p>matrix containing the posible combination of levels of factor</p>
</td></tr>
<tr><td><code id="bin.levels_+3A_spl">spl</code></td>
<td>
<p>segmentation variables (factor)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list of labels
</p>

<hr>
<h2 id='blockdiag'>Bart matrix</h2><span id='topic+blockdiag'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blockdiag(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="blockdiag_+3A_x">x</code></td>
<td>
<p>list of matrices used to build the Bart matrix</p>
</td></tr>
<tr><td><code id="blockdiag_+3A_...">...</code></td>
<td>
<p>further arguments passed on to <code><a href="#topic+blockdiag">blockdiag</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the Bart matrix
</p>

<hr>
<h2 id='build.block'>Linear relations between latent variables.</h2><span id='topic+build.block'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build.block(inner, latent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build.block_+3A_inner">inner</code></td>
<td>
<p>a square (lower triangular) boolean matrix representing
the inner model (i.e. the path relationships between latent variables)</p>
</td></tr>
<tr><td><code id="build.block_+3A_latent">latent</code></td>
<td>
<p>matrix of the latent score</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function.
</p>


<h3>Value</h3>

<p>a list of matrices containing for each endogenous latent variable the
the own predictors
</p>

<hr>
<h2 id='candidates.tree'>Posibble partions for each node of the tree</h2><span id='topic+candidates.tree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>candidates.tree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="candidates.tree_+3A_moxtree">moxtree</code></td>
<td>
<p>class containing the moxtree elements</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the Posibble partions for each node of the tree
</p>

<hr>
<h2 id='check_arg_mox'>Checks arguments</h2><span id='topic+check_arg_mox'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_arg_mox(
  .model,
  .data,
  .catvar,
  .scheme,
  .consistent,
  .alpha,
  .deep,
  .size,
  .size_candidate,
  .tree
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_arg_mox_+3A_.model">.model</code></td>
<td>
<p>a model in lavaan model syntax</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.data">.data</code></td>
<td>
<p>a data.frame or a matrix of indicators</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.catvar">.catvar</code></td>
<td>
<p>a vector or dataframe containing the categorical variables</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.scheme">.scheme</code></td>
<td>
<p>Character string. Approach used to obtain composite weights</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.consistent">.consistent</code></td>
<td>
<p>Logical. Should composite/proxy correlations be disattenuated</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.alpha">.alpha</code></td>
<td>
<p>minimum threshold of f-test p-value</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.deep">.deep</code></td>
<td>
<p>minimum threshold of deep tree</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.size">.size</code></td>
<td>
<p>minimum threshold size node</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.size_candidate">.size_candidate</code></td>
<td>
<p>minimum size_candidate node threshold</p>
</td></tr>
<tr><td><code id="check_arg_mox_+3A_.tree">.tree</code></td>
<td>
<p>Logical.Should the tree plot printed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list checked arguments
</p>

<hr>
<h2 id='check_const'>Check consistence</h2><span id='topic+check_const'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_const(.model, .data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_const_+3A_.model">.model</code></td>
<td>
<p>a model in lavaan model syntax</p>
</td></tr>
<tr><td><code id="check_const_+3A_.data">.data</code></td>
<td>
<p>a data.frame or a matrix of indicators</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a logical value
</p>

<hr>
<h2 id='climate'>climate</h2><span id='topic+climate'></span>

<h3>Description</h3>

<p>climate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>climate
</code></pre>


<h3>Format</h3>

<p>climate data refers to the younger emplyees (&lt;=30) of an international bank organizational study. It
consists of 32 variables for 669 employees divided into 3 qualitative variables and 29 indicator (or manifest)
variables. The 3 categorical variables, reflecting specific employee characteristics
as potential observed sources of heterogeneity, gender, job level,
and seniority. The 31 indicator (or manifest)
variables were loyalty (3 indicators), satisfaction (6 indicators),
and the 5 work climate constructs of empowerment (5 indicators),
company reputation (3 indicators), pay (4 indicators), work conditions (3 indicators),
leadership (5 indicators)
</p>
<p>Latent variable description
</p>

<dl>
<dt><code>Loyalty</code>: </dt><dd><p>Employee commitment to the organization</p>
</dd>
<dt><code>Satisfaction</code>: </dt><dd><p>Employee contentedness with their job and aspects such as kind of work, supervision, etc</p>
</dd>
<dt><code>Empowerment</code>: </dt><dd><p>Employee perceptions of management vision (vertical or horizontal)</p>
</dd>
<dt><code>Reputation</code>: </dt><dd><p>Employee perceptions of the company’s reputation</p>
</dd>
<dt><code>Leadership</code>: </dt><dd><p>Employee perceptions of leadership practices such as feedback and appraisal</p>
</dd>
<dt><code>Pay</code>: </dt><dd><p>Employee perceptions of pay and of its equity</p>
</dd>
<dt><code>Conditions</code>: </dt><dd><p>Employee perceptions regarding the conditions in which they perform their work</p>
</dd>
</dl>

<p>Manifest variables description
</p>

<dl>
<dt><code>Emp1</code>: </dt><dd><p>Employee treatment as responsible</p>
</dd>
<dt><code>Emp2</code>: </dt><dd><p>Teamwork is empowered</p>
</dd>
<dt><code>Emp3</code>: </dt><dd><p>Autonomy is favored</p>
</dd>
<dt><code>Emp4</code>: </dt><dd><p>Confidence in performed tasks</p>
</dd>
<dt><code>Emp5</code>: </dt><dd><p>Creativity and initiative are endorsed</p>
</dd>
<dt><code>Imag1</code>: </dt><dd><p>Organization’s reputation</p>
</dd>
<dt><code>Imag2</code>: </dt><dd><p>Organization’s values</p>
</dd>
<dt><code>Imag3</code>: </dt><dd><p>Organization’s customer relationships</p>
</dd>
<dt><code>Pay1</code>: </dt><dd><p>Salary</p>
</dd>
<dt><code>Pay2</code>: </dt><dd><p>Social benefits</p>
</dd>
<dt><code>Pay3</code>: </dt><dd><p>My salary corresponds to my duties</p>
</dd>
<dt><code>Pay4</code>: </dt><dd><p>My salary corresponds to my effort</p>
</dd>
<dt><code>Work1</code>: </dt><dd><p>Enough personnel in the office</p>
</dd>
<dt><code>Work2</code>: </dt><dd><p>Enough time to perform the tasks</p>
</dd>
<dt><code>Work3</code>: </dt><dd><p>Conditions and tools for work</p>
</dd>
<dt><code>Lead1</code>: </dt><dd><p>Agenda and planning</p>
</dd>
<dt><code>Lead2</code>: </dt><dd><p>Receptiveness</p>
</dd>
<dt><code>Lead3</code>: </dt><dd><p>Encouraging</p>
</dd>
<dt><code>Lead4</code>: </dt><dd><p>Communication</p>
</dd>
<dt><code>Lead5</code>: </dt><dd><p>Celebrating success</p>
</dd>
<dt><code>Sat1</code>: </dt><dd><p>Overall rating of satisfaction</p>
</dd>
<dt><code>Sat2</code>: </dt><dd><p>Tasks in accordance with capabilities</p>
</dd>
<dt><code>Sat3</code>: </dt><dd><p>Possibility to know efficiency</p>
</dd>
<dt><code>Sat4</code>: </dt><dd><p>Possibility to learn new things</p>
</dd>
<dt><code>Sat5</code>: </dt><dd><p>Usefulness of performed job</p>
</dd>
<dt><code>Sat6</code>: </dt><dd><p>Fulfilment of expectations</p>
</dd>
<dt><code>Loy1</code>: </dt><dd><p>I am unwilling to leave in case of not finding alternative</p>
</dd>
<dt><code>Loy2</code>: </dt><dd><p>I am committed to the institution</p>
</dd>
<dt><code>Loy3</code>: </dt><dd><p>I trust in the proper direction of the management</p>
</dd>
</dl>

<p>Segmentation variables description
</p>

<dl>
<dt><code>Gender</code>: </dt><dd><p>Gender of the employees, a factor with levels: <code>male</code> and <code>female</code></p>
</dd>
<dt><code>Level</code>: </dt><dd><p>Level of the employees, a factor with levels: <code>low</code>, <code>medium</code>, and <code>high</code></p>
</dd>
<dt><code>Seniority</code>: </dt><dd><p>Time working in the bank, a factor with levels: <code>&lt;5y</code> and <code>15-5y</code></p>
</dd>
</dl>



<h3>References</h3>

<p>Lamberti, G., Aluja Banet, T., &amp; Rialp Criado, J. (2020).
Work climate drivers and employee heterogeneity.
<em>The International Journal of Human Resource Management</em>, 1-33.
doi: 10.1080/09585192.2020.1711798.
</p>
<p>Lamberti, G. (2021). Hybrid multigroup partial least squares structural equation
modelling: an application to bank employee satisfaction and loyalty. <em>Quality and Quantity</em>,
doi: 10.1007/s11135-021-01096-9.
</p>

<hr>
<h2 id='comb'>Combinations of a vector element</h2><span id='topic+comb'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>comb(n, r, v = 1:n, set = TRUE, repeats.allowed = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="comb_+3A_n">n</code></td>
<td>
<p>size of the source vector</p>
</td></tr>
<tr><td><code id="comb_+3A_r">r</code></td>
<td>
<p>size of the target vectors</p>
</td></tr>
<tr><td><code id="comb_+3A_v">v</code></td>
<td>
<p>source vector. Defaults to 1:n</p>
</td></tr>
<tr><td><code id="comb_+3A_set">set</code></td>
<td>
<p>logical flag indicating whether duplicates should be removed from the
source vector v</p>
</td></tr>
<tr><td><code id="comb_+3A_repeats.allowed">repeats.allowed</code></td>
<td>
<p>logical flag indicating whether the constructed vectors may include
duplicated values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a matrix of combinations
</p>

<hr>
<h2 id='csibank'>csibank</h2><span id='topic+csibank'></span>

<h3>Description</h3>

<p>csibank
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csibank
</code></pre>


<h3>Format</h3>

<p>csibank data refers to a 2008 marketing research study of a
leading Spanish firm providing retail financial services. For confidentiality reasons,
the complete details of the survey-based study will not be provided, only a description
of the variables. The data include a total of 32 variables, measured for
1707 clients. The 32 variables are divided into two groups: a group
formed of 27 indicator variables for the structural model, and a group
formed of 5 categorical variables. Each block of indicators refers to a specific construct.
</p>
<p>Latent variable description:
</p>

<dl>
<dt><code>IMAG</code>: </dt><dd><p>Includes variables such as reputation, trustworthiness, seriousness, solidness, and caring about customer's needs</p>
</dd>
<dt><code>EXPE</code>: </dt><dd><p>Includes variables such as products and services provided, customer service, solution provision, and expectations for overall quality</p>
</dd>
<dt><code>QUAL</code>: </dt><dd><p>Includes variables such as reliable products and services, range of products and services, personal advice, and overall perceived quality</p>
</dd>
<dt><code>VAL</code>: </dt><dd><p>Includes variables such as beneficial services and products, valuable investments, quality relative to price, and price relative to quality</p>
</dd>
<dt><code>SAT</code>: </dt><dd><p>Includes variables such as overall satisfaction rating, fulfillment of expectations, satisfaction relative to other banks, and performance relative to an ideal bank</p>
</dd>
<dt><code>LOY</code>: </dt><dd><p>Includes variables such as likelihood of choosing the same bank again,  likelihood of switching to another bank, intention to recommend the bank to friends, and feeling of loyalty</p>
</dd>
</dl>

<p>Manifest variables description:
</p>

<dl>
<dt><code>imag1</code>: </dt><dd><p>Bank's reputation</p>
</dd>
<dt><code>imag2</code>: </dt><dd><p>Trustworthiness</p>
</dd>
<dt><code>imag3</code>: </dt><dd><p>Bank's solidity</p>
</dd>
<dt><code>imag4</code>: </dt><dd><p>Innovation and forward looking</p>
</dd>
<dt><code>imag5</code>: </dt><dd><p>Bank's emphasis on public affairs</p>
</dd>
<dt><code>imag6</code>: </dt><dd><p>Caring about the customer’s needs</p>
</dd>
<dt><code>expe1</code>: </dt><dd><p>Providing products and services to meet the customer's needs</p>
</dd>
<dt><code>expe2</code>: </dt><dd><p>Providing customer service</p>
</dd>
<dt><code>expe3</code>: </dt><dd><p>Providing solutions to daily banking needs</p>
</dd>
<dt><code>expe4</code>: </dt><dd><p>Expectations of overall quality</p>
</dd>
<dt><code>qual1</code>: </dt><dd><p>Reliable products and services</p>
</dd>
<dt><code>qual2</code>: </dt><dd><p>Range of products and services</p>
</dd>
<dt><code>qual3</code>: </dt><dd><p>Degree to which customer feels well informed</p>
</dd>
<dt><code>qual4</code>: </dt><dd><p>Personal advice</p>
</dd>
<dt><code>qual5</code>: </dt><dd><p>Customer service</p>
</dd>
<dt><code>qual6</code>: </dt><dd><p>Overall rating of perceived quality</p>
</dd>
<dt><code>qual7</code>: </dt><dd><p>Overall rating of satisfaction</p>
</dd>
<dt><code>val1</code>: </dt><dd><p>Beneficial services and products</p>
</dd>
<dt><code>val2</code>: </dt><dd><p>Valuable investments</p>
</dd>
<dt><code>val3</code>: </dt><dd><p>Quality relative to price</p>
</dd>
<dt><code>val4</code>: </dt><dd><p>Price relative to quality</p>
</dd>
<dt><code>sat1</code>: </dt><dd><p>Overall rating of satisfaction</p>
</dd>
<dt><code>sat2</code>: </dt><dd><p>Fulfillment of expectations</p>
</dd>
<dt><code>sat3</code>: </dt><dd><p>Rating the performance relative to customer's ideal bank</p>
</dd>
<dt><code>loy1</code>: </dt><dd><p>Propensity to choose the same bank if the customer had to choose again</p>
</dd>
<dt><code>loy2</code>: </dt><dd><p>Propensity to switch to other banks if they offered better terms</p>
</dd>
<dt><code>loy3</code>: </dt><dd><p>Customer's intention to recommend the bank to friends or colleagues</p>
</dd>
</dl>

<p>Categorical variables description:
</p>

<dl>
<dt><code>Gender</code>: </dt><dd><p>Gender of the customers, a factor with levels: <code>Female</code> and <code>Male</code></p>
</dd>
<dt><code>Age</code>: </dt><dd><p>Age of the customers, a factor with levels: <code>&lt;=25</code>, <code>26-35</code>, <code>36-45</code>, <code>46-55</code>, <code>56-65</code>, and <code>&gt;=66</code></p>
</dd>
<dt><code>Education</code>: </dt><dd><p>Education of the customers, a factor with levels: <code>Elementary</code>, <code>Graduated</code>, <code>Highschool</code>, <code>Undergrad</code>, and <code>Unfinished</code></p>
</dd>
<dt><code>Occupation</code>: </dt><dd><p>Occupation of the customers, a factor with levels: <code>Manager</code>, <code>MediumEmplo</code>, <code>Notemploy</code>, <code>OwnFreelan</code>, and <code>Retired</code></p>
</dd>
<dt><code>Region</code>: </dt><dd><p>Region of residence of the customers, a factor with levels: <code>Center</code>, <code>East</code>, <code>North</code></p>
</dd>
</dl>



<h3>Source</h3>

<p>Laboratory of Information Analysis and Modeling (LIAM).
Facultat de Informatica de Barcelona, Universitat Politecnica de Catalunya.
</p>


<h3>References</h3>

<p>Lamberti, G. et al. (2017). The Pathmox approach for PLS path modeling: discovering
which constructs differentiate segments.<em>Applied Stochastic Models in Business and Industry</em>,
doi: 10.1002/asmb.2270.
</p>
<p>Lamberti, G. (2014) <em>Modeling with Heterogeneity.</em> PhD Dissertation.
</p>

<hr>
<h2 id='element'>Path coefficient labels</h2><span id='topic+element'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element(x, l)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_+3A_x">x</code></td>
<td>
<p>matrix containing information of casual relationship of latent variables</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a vector of path coefficients labels
</p>

<hr>
<h2 id='F.data'>Data preprocessing for F-tests</h2><span id='topic+F.data'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F.data(x, inner, .model, .scheme, .consistent, modtwo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="F.data_+3A_x">x</code></td>
<td>
<p>matrix or dataframe containing the data.</p>
</td></tr>
<tr><td><code id="F.data_+3A_inner">inner</code></td>
<td>
<p>a square (lower triangular) boolean matrix representing the inner model.</p>
</td></tr>
<tr><td><code id="F.data_+3A_.model">.model</code></td>
<td>
<p>A description of the user-specified model.</p>
</td></tr>
<tr><td><code id="F.data_+3A_.scheme">.scheme</code></td>
<td>
<p>string indicating the type of inner weighting
scheme. Possible values are <code>"centroid"</code>, <code>"factorial"</code>, or <code>"path"</code>.</p>
</td></tr>
<tr><td><code id="F.data_+3A_.consistent">.consistent</code></td>
<td>
<p>Logical. Should composite/proxy correlations be disattenuated 
to yield consistent loadings and path estimates if at least one of the construct 
is modeled as a common factor. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="F.data_+3A_modtwo">modtwo</code></td>
<td>
<p>vector indicating the binary partition.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>list containing matrices needed for the tests.
</p>

<hr>
<h2 id='f.min'>Vector minimum position</h2><span id='topic+f.min'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f.min(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f.min_+3A_x">x</code></td>
<td>
<p>vector of values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list containing minimun value, the position of the minimun and the
values different from NA of a vactor
</p>

<hr>
<h2 id='Fc.test'>F-coefficient test</h2><span id='topic+Fc.test'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Fc.test(Y1, X1, path.name, info.block)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Fc.test_+3A_y1">Y1</code></td>
<td>
<p>vector of the concatenate indipendent latent variables of H1 hypothesis 
of the F-coefficient test.</p>
</td></tr>
<tr><td><code id="Fc.test_+3A_x1">X1</code></td>
<td>
<p>matrix of the concatenate predictor latent variables of H1 hypothesis 
of the F-coefficient test.</p>
</td></tr>
<tr><td><code id="Fc.test_+3A_path.name">path.name</code></td>
<td>
<p>vector of path coefficients labels.</p>
</td></tr>
<tr><td><code id="Fc.test_+3A_info.block">info.block</code></td>
<td>
<p>list contaning information about the endogenous equations of the pls model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list containing the statistic and the p-value obtained by applying the F-coefficient. 
test
</p>

<hr>
<h2 id='fcoef.tree'>F-coefficients test results for each tree partition</h2><span id='topic+fcoef.tree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fcoef.tree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fcoef.tree_+3A_moxtree">moxtree</code></td>
<td>
<p>class containing the moxtree elements</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the F-coefficients test results for each tree partition
</p>

<hr>
<h2 id='Fg.test'>F-global test</h2><span id='topic+Fg.test'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Fg.test(Y0, X0, Y1, X1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Fg.test_+3A_y0">Y0</code></td>
<td>
<p>vector of the concatenate indipendent latent variables of H0 hypothesis global 
test</p>
</td></tr>
<tr><td><code id="Fg.test_+3A_x0">X0</code></td>
<td>
<p>matrix of the concatenate predictor latent variables of H0 hypothesis global test</p>
</td></tr>
<tr><td><code id="Fg.test_+3A_y1">Y1</code></td>
<td>
<p>vector of the concatenate indipendent latent variables of H1 hypothesis global 
test</p>
</td></tr>
<tr><td><code id="Fg.test_+3A_x1">X1</code></td>
<td>
<p>matrix of the concatenate predictor latent variables of H1 hypothesis global test</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list containing the statistic and the p-value obtained by applying F-global test
</p>

<hr>
<h2 id='fglobal.tree'>F-global test results for each tree partition</h2><span id='topic+fglobal.tree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fglobal.tree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fglobal.tree_+3A_moxtree">moxtree</code></td>
<td>
<p>class containing the moxtree elements</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the F-global test results for each tree partition
</p>

<hr>
<h2 id='footdata'>footdata</h2><span id='topic+footdata'></span>

<h3>Description</h3>

<p>footdata
</p>


<h3>Usage</h3>

<pre><code class='language-R'>footdata
</code></pre>


<h3>Format</h3>

<p>footdata data refers to a marketing research study from 2018 concerning
the experience of watching a football match in the stadium of a top Spanish football club.
For confidentiality reasons,
the complete details of the survey-based study will not be provided. Only the description
of the variables is given. The data consist of a total of 20 variables, measured for
362 spectators. The 20 variables are divided into two groups. One group is
formed of 15 indicator variables for the structural model, and the other group
is formed of 5 categorical variables. Each block of indicator refers to a specific construct.
</p>
<p>Latent variable description
</p>

<dl>
<dt><code>QUA</code>: </dt><dd><p>Spectators’ perception of service performance, based on evaluations of service dimensions</p>
</dd>
<dt><code>IMA</code>: </dt><dd><p>Spectators’ perception of the attributes, players, management and condition of the club</p>
</dd>
<dt><code>SAT</code>: </dt><dd><p>Spectators’ evaluation of the perceived benefits of attending a match</p>
</dd>
<dt><code>LOY</code>: </dt><dd><p>Spectators’ deeply held commitment to repeat and recommend assisting a match</p>
</dd>
</dl>

<p>Manifest variables description
</p>

<dl>
<dt><code>QUA1</code>: </dt><dd><p>Tickets (availability, information, and staff attitudes)</p>
</dd>
<dt><code>QUA2</code>: </dt><dd><p>Accessibility (accessibility, signposting, queue safety, and admission organization)</p>
</dd>
<dt><code>QUA3</code>: </dt><dd><p>Facilities (shops, restrooms, seating, restaurants)</p>
</dd>
<dt><code>QUA4</code>: </dt><dd><p>Stadium (loudspeakers, appearance, staff competence, cleanliness, Security/safety)</p>
</dd>
<dt><code>IMA1</code>: </dt><dd><p>It is a great club</p>
</dd>
<dt><code>IMA2</code>: </dt><dd><p>It has a good team</p>
</dd>
<dt><code>IMA3</code>: </dt><dd><p>It is an ambitious club</p>
</dd>
<dt><code>IMA4</code>: </dt><dd><p>It is a heroic club</p>
</dd>
<dt><code>SAT1</code>: </dt><dd><p>The stadium experience was satisfactory</p>
</dd>
<dt><code>SAT2</code>: </dt><dd><p>The time spent at the stadium was worth it</p>
</dd>
<dt><code>SAT3</code>: </dt><dd><p>The money spent at the stadium was worth it</p>
</dd>
<dt><code>SAT4</code>: </dt><dd><p>The experience met all my expectations</p>
</dd>
<dt><code>SAT5</code>: </dt><dd><p>Overall satisfaction</p>
</dd>
<dt><code>LOY1</code>: </dt><dd><p>I would recommend the experience at this stadium</p>
</dd>
<dt><code>LOY2</code>: </dt><dd><p>I intend to repeat the experience at this stadium</p>
</dd>
</dl>

<p>Categorical Variables description
</p>

<dl>
<dt><code>gender</code>: </dt><dd><p>Gender of the spectators, a factor with levels: <code>FEMALE</code> and <code>MALE</code></p>
</dd>
<dt><code>age</code>: </dt><dd><p>Age of the spectators, a factor with levels <code>&lt;=30</code>, <code>31-45</code>, and <code>&gt;=46</code></p>
</dd>
<dt><code>tourist</code>: </dt><dd><p>Whether the spectator was a tourist or not, a factor with levels: <code>YES</code> or <code>NO</code></p>
</dd>
<dt><code>companion</code>: </dt><dd><p>Who Accompanying the spectator, a factor with levels: <code>FRIENDS</code>, <code>FAMILY</code>, and <code>OTHERS</code></p>
</dd>
<dt><code>Involvement</code>: </dt><dd><p>Degree of involvement, a factor with levels: <code>FAN</code>, <code>MEMBER</code>, and <code>OTHERS</code></p>
</dd>
</dl>



<h3>Source</h3>

<p>Universitat Autonoma of Barcelona .
Business departament, Universitat Autonoma de Barcelona.
</p>


<h3>References</h3>

<p>Lamberti, G., Rialp, J., and Simon, A. (2021). Antecedents of satisfaction and
loyalty in different spectator tribes in a football context.
<em>International Journal of Sports Marketing and Sponsorship</em>,
doi: 10.1108/IJSMS-12-2020-0210;
</p>

<hr>
<h2 id='info-class'>info class</h2><span id='topic+info-class'></span>

<h3>Description</h3>

<p>info is an S4 class that contains info about the tree partition
and the the the Fischer statitistcs: F-global and F-coefficientes
</p>

<hr>
<h2 id='info.mox'>General information about the pathmox algorithm</h2><span id='topic+info.mox'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info.mox(signif, size, deep, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info.mox_+3A_signif">signif</code></td>
<td>
<p>stop condition 1: significance of the p-value</p>
</td></tr>
<tr><td><code id="info.mox_+3A_size">size</code></td>
<td>
<p>stop condition 2: minimum number of individuals in a node</p>
</td></tr>
<tr><td><code id="info.mox_+3A_deep">deep</code></td>
<td>
<p>stop condition 3: maximum tree depth level</p>
</td></tr>
<tr><td><code id="info.mox_+3A_y">y</code></td>
<td>
<p>set of segmentation variables</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>

<hr>
<h2 id='mox.tree'>General information about the tree</h2><span id='topic+mox.tree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mox.tree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mox.tree_+3A_moxtree">moxtree</code></td>
<td>
<p>class containing the tree elements</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a dataframe containing information about the tree and its nodes
</p>

<hr>
<h2 id='moxtree-class'>moxtree class</h2><span id='topic+moxtree-class'></span>

<h3>Description</h3>

<p>moxtree is an S4 class that contains info about moxtree
</p>

<hr>
<h2 id='node-class'>node class</h2><span id='topic+node-class'></span>

<h3>Description</h3>

<p>node is an S4 class that contains info about the node of the tree
</p>

<hr>
<h2 id='nodes.tree'>Observations belonging to the nodes</h2><span id='topic+nodes.tree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nodes.tree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nodes.tree_+3A_moxtree">moxtree</code></td>
<td>
<p>class containing the moxtree elements</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the observations belonging to the nodes
</p>

<hr>
<h2 id='partition'>Binary partitions given a segmentation variable (factor).</h2><span id='topic+partition'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>partition(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="partition_+3A_x">x</code></td>
<td>
<p>single factor or a data.frame of segmenation variables.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list of matrices containing  all possibiles binary partions given a
segmenation variable
</p>

<hr>
<h2 id='partopt'>Best partition given a set of segmentation variables</h2><span id='topic+partopt'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>partopt(x, y, inner, .model, .scheme, .consistent, size_candidate)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="partopt_+3A_x">x</code></td>
<td>
<p>matrix or dataframe containing the dataset</p>
</td></tr>
<tr><td><code id="partopt_+3A_y">y</code></td>
<td>
<p>matrix or dataframe or vector of the segmentation variables</p>
</td></tr>
<tr><td><code id="partopt_+3A_inner">inner</code></td>
<td>
<p>a square (lower triangular) boolean matrix representing
the inner model (i.e. the path relationships between latent variables)</p>
</td></tr>
<tr><td><code id="partopt_+3A_.model">.model</code></td>
<td>
<p>A description of the user-specified model.</p>
</td></tr>
<tr><td><code id="partopt_+3A_.scheme">.scheme</code></td>
<td>
<p>string indicating the type of inner weighting
scheme. Possible values are <code>"centroid"</code>, <code>"factorial"</code>, or
<code>"path"</code>.</p>
</td></tr>
<tr><td><code id="partopt_+3A_.consistent">.consistent</code></td>
<td>
<p>Logical. Should composite/proxy correlations be disattenuated
to yield consistent loadings and path estimates if at least one of the construct
is modeled as a common factor. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="partopt_+3A_size_candidate">size_candidate</code></td>
<td>
<p>number indicating the minimum threshold for a node</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list containing information of the best partition given a set of
segmentation variables
</p>

<hr>
<h2 id='percent.node'>Calculating size (numeber of individual of a node)</h2><span id='topic+percent.node'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>percent.node(x, size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="percent.node_+3A_x">x</code></td>
<td>
<p>matrix or dataframe with data.</p>
</td></tr>
<tr><td><code id="percent.node_+3A_size">size</code></td>
<td>
<p>value indicating the minimun threshold of number of observations for a node</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the number of observations in a node
</p>

<hr>
<h2 id='plot.plstree'>Plot function for the pathmox segmentation tree</h2><span id='topic+plot.plstree'></span>

<h3>Description</h3>

<p>The function <code>plot.plstree</code> allows to drow PATHMOX tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'plstree'
plot(
  x,
  .root.col = "#CCFFFF",
  .node.col = "#99CCCC",
  .leaf.col = "#009999",
  .shadow.size = 0.003,
  .node.shadow = "#669999",
  .leaf.shadow = "#006666",
  .cex = 0.7,
  .seg.col = "#003333",
  .lwd = 1,
  .show.pval = TRUE,
  .pval.col = "#009999",
  .main = NULL,
  .cex.main = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.plstree_+3A_x">x</code></td>
<td>
<p>An object of the class <code>"plstree"</code>.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.root.col">.root.col</code></td>
<td>
<p>Fill color of root node.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.node.col">.node.col</code></td>
<td>
<p>Fill color of child nodes.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.leaf.col">.leaf.col</code></td>
<td>
<p>Fill color of leaf.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.shadow.size">.shadow.size</code></td>
<td>
<p>Relative size of shadows.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.node.shadow">.node.shadow</code></td>
<td>
<p>Color of shadow of child nodes.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.leaf.shadow">.leaf.shadow</code></td>
<td>
<p>Color of shadow of leaf nodes.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.cex">.cex</code></td>
<td>
<p>A numerical value indicating the magnification to be used for
plotting text.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.seg.col">.seg.col</code></td>
<td>
<p>The color to be used for the labels of the segmentation
variables.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.lwd">.lwd</code></td>
<td>
<p>The line width, a positive number, defaulting to 1.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.show.pval">.show.pval</code></td>
<td>
<p>Logical value indicating whether the p-values should be
plotted.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.pval.col">.pval.col</code></td>
<td>
<p>The color to be used for the labels of the p-values.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.main">.main</code></td>
<td>
<p>A main title for the plot.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_.cex.main">.cex.main</code></td>
<td>
<p>The magnification to be used for the main title.</p>
</td></tr>
<tr><td><code id="plot.plstree_+3A_...">...</code></td>
<td>
<p>Further arguments passed on to <code><a href="#topic+plot.plstree">plot.plstree</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Giuseppe Lamberti
</p>


<h3>References</h3>

<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2016). The Pathmox approach for PLS path 
modeling segmentation. <em>Applied Stochastic Models in Business and Industry</em>, <b>32</b>(4), 453-468.
doi: <a href="https://doi.org/10.1002/asmb.2168">10.1002/asmb.2168</a>
</p>
<p>Lamberti, G. (2015). <em>Modeling with Heterogeneity</em>, PhD Dissertation.
</p>
<p>Sanchez, G. (2009). <em>PATHMOX Approach: Segmentation Trees in
Partial Least Squares Path Modeling</em>, PhD Dissertation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.plstree">summary.plstree</a></code>, <code><a href="#topic+print.plstree">print.plstree</a></code>, <code><a href="#topic+pls.pathmox">pls.pathmox</a></code>,  
<code><a href="#topic+bar_terminal">bar_terminal</a></code>, and <code><a href="#topic+bar_impvar">bar_impvar</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
# Example of PATHMOX approach in customer satisfaction analysis 
# (Spanish financial company).
# Model with 5 LVs (4 common factor: Image (IMAG), Value (VAL), 
# Satisfaction (SAT), and Loyalty (LOY); and 1 composite construct: 
# Quality (QUAL)

# load library and dataset csibank
library(genpathmx)
data("csibank")

# Define the model using the lavaan syntax. Use a set of regression formulas to define
# first the structural model and then the measurement model

CSImodel &lt;- "
# Structural model
VAL  ~ QUAL
SAT  ~ IMAG  + QUAL + VAL
LOY  ~ IMAG + SAT

# Measurement model
# Composite
QUAL &lt;~ qual1 + qual2 + qual3 + qual4 + qual5 + qual6 + qual7 
     
# Common factor
IMAG =~ imag1 + imag2 + imag3 + imag4 + imag5 + imag6 
VAL  =~ val1  + val2  + val3  + val4
SAT  =~ sat1  + sat2  + sat3           
LOY  =~ loy1  + loy2  + loy3           

"

# Identify the categorical variable to be used as input variables 
in the split process
CSIcatvar = csibank[,1:5]

# Check if variables are well specified (they have to be factors 
# and/or ordered factors)
str(CSIcatvar)

# Transform age and education into ordered factors
CSIcatvar$Age = factor(CSIcatvar$Age, levels = c("&lt;=25", 
                                     "26-35", "36-45", "46-55", 
                                     "56-65", "&gt;=66"),ordered = T)

CSIcatvar$Education = factor(CSIcatvar$Education, 
                            levels = c("Unfinished","Elementary", "Highschool",
                            "Undergrad", "Graduated"),ordered = T)
       
# Run Pathmox analysis (Lamberti et al., 2016; 2017)
csi.pathmox = pls.pathmox(
 .model = CSImodel ,
 .data  = csibank,
 .catvar= CSIcatvar,
 .alpha = 0.05,
 .deep = 2
)                     

Visualize the tree
plot(csi.pathmox)


## End(Not run)

</code></pre>

<hr>
<h2 id='pls.pathmox'>Pathmox Segmentation Trees in Partial Least Squares Structural Equation 
Modeling (PLS-SEM)</h2><span id='topic+pls.pathmox'></span>

<h3>Description</h3>

<p><code>pls.pathmox</code> calculates a binary segmentation tree in the context 
of partial least squares structural equation modeling (PLS-SEM) following the 
PATHMOX algorithm. It detects heterogeneity  
in PLS-SEM models when the segmentation variables (categorical 
variables), external to the model, are available, and when the objective 
of the research is exploratory. <code>pls.pathmox</code> function returns the 
most significant different models associated with the terminal nodes of the 
tree. It also returns a ranking according to importance of the categorical 
variables used in the split process. <code>pls.pathmox</code> also enables 
the hybrid multigroup analysis (Lamberti, 2021) to be run. In fact, the function 
returns an object, <code>.hybrid</code>, containing the datasets associated 
with the terminal nodes prepared to be treated with the <code>cSEM</code> package 
(Rademaker and Schuberth, 2020). It thus enables the MICOM and MGA procedures to be run 
(Hair et al., 2017; Henseler et al., 2016; Henseler et al., 2009).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pls.pathmox(
  .model,
  .data,
  .catvar,
  .scheme = "path",
  .consistent = TRUE,
  .alpha = 0.05,
  .deep = 2,
  .size = 0.1,
  .size_candidate = 50,
  .tree = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pls.pathmox_+3A_.model">.model</code></td>
<td>
<p>A description of the user-specified model. The model is described using 
the <a href="https://lavaan.ugent.be/tutorial/syntax1.html">lavaan syntax</a>. 
Structural and measurement models are defined by enclosure between double quotes. 
The directional link between constructs is defined using the (&quot;~&quot;) operator. 
On the left-hand side of the operator is the dependent construct and on the 
right-hand side are the explanatory constructs, separated by the (&quot;+&quot;) operator. As for 
the outer model, constructs are defined by listing their corresponding MVs after 
the operator (&quot;=~&quot;) if latent variable is modelled as a common factor, 
or the operator(&quot;&lt;~&quot;) if latent variable is modelled as a composite. On the left-hand side 
of the operator, is the construct and on the right-hand side are the MVs separated by the (&quot;+&quot;) operator. 
Variable labels cannot contain (&quot;.&quot;).</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.data">.data</code></td>
<td>
<p>A matrix or dataframe containing the manifest variables.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.catvar">.catvar</code></td>
<td>
<p>A single factor or set of factors organized as a dataframe containing
the categorical variables used as sources of heterogeneity.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.scheme">.scheme</code></td>
<td>
<p>A string indicating the type of inner weighting scheme. Possible 
values are <code>"centroid"</code>, <code>"factorial"</code>, or <code>"path"</code>. By default
<code>.scheme</code> is equal to <code>"path"</code>.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.consistent">.consistent</code></td>
<td>
<p>Logical. Should composite/proxy correlations be disattenuated 
to yield consistent loadings and path estimates if at least one of the construct 
is modeled as a common factor. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.alpha">.alpha</code></td>
<td>
<p>A decimal value indicating the minimum threshold significance 
for the partitioning algorithm. By default <code>.alpha</code> is equal to 0.05.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.deep">.deep</code></td>
<td>
<p>An integer indicating the maximum tree depth. Must be an integer equal to or 
greater than 1. By default <code>.deep</code> is equal to 2.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.size">.size</code></td>
<td>
<p>A decimal value indicating the minimum admissible sample size for a node. It is 
equal to 0.10 by default meaning that the minimum sample size of the  node is equal to the 10$
of the total number of observations.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.size_candidate">.size_candidate</code></td>
<td>
<p>An integer indicating the minimum admissible sample size for a candidate 
node. It is equal to <code>50</code> observations by default.</p>
</td></tr>
<tr><td><code id="pls.pathmox_+3A_.tree">.tree</code></td>
<td>
<p>A string indicating if the tree plot must be shown. By default, it is equal to 
<code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pls.pathmox</code> uses the classical lavaan syntax to define inner and outer 
models and mode. The user can choose to perform the analysis for a
single categorical variable or a set of factors. In the latter case, categorical 
variables must be organized as a dataframe. Scheme is equal to <code>path</code> by 
default following other PLS-SEM softwares (SMART-PLS (Ringle at al., 2015), 
cSEM R package (Rademaker and Schuberth, 2020)), but can be modified by the user to
<code>"centroid"</code> or <code>"factorial"</code>. Stops parameters (<code>.alpha</code> (threshold 
significance for the partitioning algorithm), <code>.deep</code> (maximum tree depth),
and <code>.size</code> (minimum admissible sample size for a node)) are fixed respectively to 
<code>.alpha</code> = 0.05, <code>.deep</code> = 2, and <code>.size</code> = 0.10 according to Lamberti et al. (2016). 
However, again the user can modify these parameters according to the specific 
objectives of the analysis. <code>pls.pathmox</code> also defines a minimum 
admissible size for a candidate node that restricts the search of the optimal split 
to that partitions that produce nodes with an adequate number of observations. 
This parameter (<code>.size_candidate</code>) is fixed to 50 observations by default. 
PLS-SEM model coefficients used in the split process are estimated by applying the 
consistent PLS-SEM algorithm proposed by Dijkstra and Henseler (2015). However, the user can choose 
to run the analysis by using the classical algorithm by setting to FASLE the paramenter  
<code>.consistent</code>. <code>pls.pathmox</code> also returns an object containing the datasets associated with 
the terminal nodes (<code>object$hybrid</code>) prepared to be treated with the <code>cSEM</code> package 
(Rademaker and Schuberth, 2020). This means that, once the pathmox finalizes the search for 
the most significant different groups associated with the most significant different PLS-SEM models, 
the user can perform a detailed analysis for each group using the <code>cSEM</code> package, or can 
run the MICOM and MGA procedures (Hair et al. 2017; Henseler et al. 2016) on the terminal nodes.
</p>


<h3>Value</h3>

<p>An object of class <code>"plstree"</code>. This is a list with the
following results:
</p>
<table>
<tr><td><code>MOX</code></td>
<td>
<p>dataframe containing the results of the segmentation tree.</p>
</td></tr>
<tr><td><code>terminal_paths</code></td>
<td>
<p>dataframe containing PLS-SEM model terminal nodes 
(path coeff. &amp; R^2).</p>
</td></tr>
<tr><td><code>var_imp</code></td>
<td>
<p>dataframe containing the categorical variable ranking by importance.</p>
</td></tr>
<tr><td><code>Fg.r</code></td>
<td>
<p>dataframe containing the results of the F-global test for each 
node partition.</p>
</td></tr>
<tr><td><code>Fc.r</code></td>
<td>
<p>list of dataframes containing the results of the F-coefficient test 
for each node.</p>
</td></tr>
<tr><td><code>hybrid</code></td>
<td>
<p>list of datasets associated with the terminal node prepared for MGA with 
cSEM R package.</p>
</td></tr>
<tr><td><code>other</code></td>
<td>
<p>Other parameters and results.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Giuseppe Lamberti
</p>


<h3>References</h3>

<p>Klesel, M., Schuberth, F., Niehaves, B., and Henseler, J. (2022). Multigroup analysis 
in information systems research using PLS-PM: A systematic investigation of approaches. 
<em>ACM SIGMIS Database: the DATABASE for Advances in Information Systems</em>, <b>53</b>(3), 26-48.
doi: <a href="https://doi.org/10.1145/3551783.3551787">10.1145/3551783.3551787</a>
</p>
<p>Hair, J. F., Risher, J. J., Sarstedt, M., and Ringle, C. M. (2019). When to use and 
how to report the results of PLS-SEM. <em>European business review</em>, <b>31</b>(1), 2-24.
doi: <a href="https://doi.org/10.1108/EBR-11-2018-0203">10.1108/EBR-11-2018-0203</a>
</p>
<p>Hair, J. F., Sarstedt, M., Ringle, C. M., and Gudergan, S. P. (2017). 
<em>Advanced issues in partial least squares structural equation modeling</em>. SAGE publications:
Los Angeles
</p>
<p>Henseler, J., Ringle, C. M., and Sarstedt, M. (2016). Testing measurement invariance of 
composites using partial least squares. <em>International marketing review</em>, <b>33</b>(3), 405-431.
doi: <a href="https://doi.org/10.1108/IMR-09-2014-0304">10.1108/IMR-09-2014-0304</a>
</p>
<p>Ringle, C. M., and Sinkovics, R. R. (2009). The use of partial least squares path modeling 
in international marketing. <em>Advances in International Marketing</em>, <b>20</b>, 277-319.
doi: <a href="https://doi.org/10.1108/S1474-7979(2009)0000020014">10.1108/S1474-7979(2009)0000020014</a>
</p>
<p>Dijkstra, T. K., and Henseler, J. (2015). Consistent partial least squares path modeling. 
<em>MIS quarterly</em>, <b>39</b>(2), 297-316. doi: <a href="https://doi.org/10.25300/MISQ/2015/39.2.02">10.25300/MISQ/2015/39.2.02</a>
</p>
<p>Lamberti, G. (2021). Hybrid multigroup partial least squares structural equation
modelling: an application to bank employee satisfaction and loyalty. <em>Quality and Quantity</em>,
doi: <a href="https://doi.org/10.1007/s11135-021-01096-9">10.1007/s11135-021-01096-9</a>
</p>
<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2017). The Pathmox approach for PLS path 
modeling: Discovering which constructs differentiate segments. <em>Applied Stochastic Models in 
Business and Industry</em>, <b>33</b>(6), 674-689. doi: <a href="https://doi.org/10.1007/s11135-021-01096-9">10.1007/s11135-021-01096-9</a>
</p>
<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2016). The Pathmox approach for PLS path 
modeling segmentation. <em>Applied Stochastic Models in Business and Industry</em>, <b>32</b>(4), 453-468.
doi: <a href="https://doi.org/10.1002/asmb.2168">10.1002/asmb.2168</a>
</p>
<p>Lamberti, G. (2015). <em>Modeling with Heterogeneity</em>, PhD Dissertation.
</p>
<p>Rademaker, M. E., and Schuberth, F. (2020). cSEM: Composite-Based Structural Equation Modeling.
Available at <a href="https://CRAN.R-project.org/package=cSEM">https://CRAN.R-project.org/package=cSEM</a>.
</p>
<p>Ringle, C.M., Wende, S. and Becker, J.M. (2015). SmartPLS 3. Boenningstedt: SmartPLS. Retrieved 
from  <a href="https://www.smartpls.com">https://www.smartpls.com</a>.
</p>
<p>Sanchez, G. (2009). <em>PATHMOX Approach: Segmentation Trees in
Partial Least Squares Path Modeling</em>, PhD Dissertation.
</p>
<p>Sanchez, G., and Aluja, T. B. (2006). PATHMOX: A PLS-PM Segmentation Algorithm, in
Proceedings of the IASC Symposium on Knowledge Extraction by Modelling,
International Association for Statistical Computing Island of Capri, Italy 4-6 September.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.plstree">print.plstree</a></code>, <code><a href="#topic+summary.plstree">summary.plstree</a></code>,  
<code><a href="#topic+bar_terminal">bar_terminal</a></code>, <code><a href="#topic+bar_impvar">bar_impvar</a></code> and <code><a href="#topic+plot.plstree">plot.plstree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
# Example of PATHMOX approach in customer satisfaction analysis 
# (Spanish financial company).
# Model with 5 LVs (4 common factor: Image (IMAG), Value (VAL), 
# Satisfaction (SAT), and Loyalty (LOY); and 1 composite construct: 
# Quality (QUAL)

# Load library and dataset csibank
library(genpathmx)
data("csibank")

# Define the model using the laavan syntax. Use a set of regression formulas that define 
# first the structural model and then the measurement model

CSImodel &lt;- "
# Structural model
VAL  ~ QUAL
SAT  ~ IMAG  + QUAL + VAL
LOY  ~ IMAG + SAT

# Measurement model
# composite
QUAL &lt;~ qual1 + qual2 + qual3 + qual4 + qual5 + qual6 + qual7 
     
# common factor
IMAG =~ imag1 + imag2 + imag3 + imag4 + imag5 + imag6 
VAL  =~ val1  + val2  + val3  + val4
SAT  =~ sat1  + sat2  + sat3           
LOY  =~ loy1  + loy2  + loy3          

"

# Identify the categorical variable to be used as input variables 
# in the split process
CSIcatvar = csibank[,1:5]

# Check if variables are well specified (they have to be factors 
# and/or ordered factors)
str(CSIcatvar)

# Transform Age and Education into ordered factors
CSIcatvar$Age = factor(CSIcatvar$Age, levels = c("&lt;=25", 
                                     "26-35", "36-45", "46-55", 
                                     "56-65", "&gt;=66"),ordered = T)

CSIcatvar$Education = factor(CSIcatvar$Education, 
                            levels = c("Unfinished","Elementary", "Highschool",
                            "Undergrad", "Graduated"),ordered = T)
       
# Run Pathmox analysis (Lamberti et al., 2016; 2017)
csi.pathmox = pls.pathmox(
 .model = CSImodel ,
 .data  = csibank,
 .catvar= CSIcatvar,
 .alpha = 0.05,
 .deep = 2
)                     
                      
# Visualize results by summary
# summary(csi.pathmox)

# Run pathmox on one single variable
age = csibank[,2]

#' # Transform Age into an ordered factor
age = factor(age, levels = c("&lt;=25", 
                                     "26-35", "36-45", "46-55", 
                                     "56-65", "&gt;=66"),ordered = T)
csi.pathmox.age = pls.pathmox(
 .model = CSImodel ,
 .data  = csibank,
 .catvar= age,
 .alpha = 0.05,
 .deep = 1
)  

# Run hybrid multigroup analysis (Lamberti, 2021) using 
# the cSEM package (Rademaker and Schuberth, 2020)
# Install and load cSEM library
# Install.packages("cSEM")
# library(cSEM)

# Run cSEM Model for Pathmox terminal nodes

csilocalmodel = csem(
 .model = CSImodel,
 .data = csi.pathmox.age$hybrid)

# Check invariance and run MGA analysis (Hair et al., 2019)

testMICOM(csilocalmodel, .R = 60)

to_compare &lt;- "
#' # Structural model
VAL  ~ QUAL
SAT  ~ IMAG  + QUAL + VAL
LOY  ~ IMAG + SAT
"

testMGD(csilocalmodel, .parameters_to_compare = to_compare, 
.R_bootstrap = 60,.approach_mgd = "Henseler")


## End(Not run)

</code></pre>

<hr>
<h2 id='plstree'>create method plstree</h2><span id='topic+plstree'></span>

<h3>Description</h3>

<p>create method plstree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plstree(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plstree_+3A_x">x</code></td>
<td>
<p>the element representing the method.</p>
</td></tr>
<tr><td><code id="plstree_+3A_...">...</code></td>
<td>
<p>Further arguments passed on to <code><a href="#topic+plstree">plstree</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function.
</p>


<h3>Value</h3>

<p>internal method
</p>

<hr>
<h2 id='print.plstree'>Print function for Pathmox Segmentation Trees</h2><span id='topic+print.plstree'></span>

<h3>Description</h3>

<p>The function <code>print.plstree</code> returns the <code>pls.pathmox</code> results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'plstree'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.plstree_+3A_x">x</code></td>
<td>
<p>An object of class <code>"plstree"</code>.</p>
</td></tr>
<tr><td><code id="print.plstree_+3A_...">...</code></td>
<td>
<p>Further arguments are ignored.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Giuseppe Lamberti
</p>


<h3>References</h3>

<p>Lamberti, G. (2021). Hybrid multigroup partial least squares structural equation
modelling: an application to bank employee satisfaction and loyalty. <em>Quality and Quantity</em>,
doi: <a href="https://doi.org/10.1007/s11135-021-01096-9">10.1007/s11135-021-01096-9</a>
</p>
<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2017). The Pathmox approach for PLS path 
modeling: Discovering which constructs differentiate segments. <em>Applied Stochastic Models in 
Business and Industry</em>, <b>33</b>(6), 674-689. doi: <a href="https://doi.org/10.1007/s11135-021-01096-9">10.1007/s11135-021-01096-9</a>
</p>
<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2016). The Pathmox approach for PLS path 
modeling segmentation. <em>Applied Stochastic Models in Business and Industry</em>, <b>32</b>(4), 453-468.
doi: <a href="https://doi.org/10.1002/asmb.2168">10.1002/asmb.2168</a>
</p>
<p>Lamberti, G. (2015). <em>Modeling with Heterogeneity</em>, PhD Dissertation.
</p>
<p>Sanchez, G. (2009). <em>PATHMOX Approach: Segmentation Trees in
Partial Least Squares Path Modeling</em>, PhD Dissertation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.plstree">summary.plstree</a></code>, <code><a href="#topic+pls.pathmox">pls.pathmox</a></code>,  
<code><a href="#topic+bar_terminal">bar_terminal</a></code>, <code><a href="#topic+bar_impvar">bar_impvar</a></code> and <code><a href="#topic+plot.plstree">plot.plstree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
# Example of PATHMOX approach in customer satisfaction analysis 
# (Spanish financial company).
# Model with 5 LVs (4 common factor: Image (IMAG), Value (VAL), 
# Satisfaction (SAT), and Loyalty (LOY); and 1 composite construct: 
# Quality (QUAL)

# load library and dataset csibank
library(genpathmx)
data("csibank")

# Define the model using the laavan syntax. Use a set of regression formulas to define 
# first the structural model and then the measurement model

CSImodel &lt;- "
# Structural model
VAL  ~ QUAL
SAT  ~ IMAG  + QUAL + VAL
LOY  ~ IMAG + SAT

# Measurement model
# Composite
QUAL &lt;~ qual1 + qual2 + qual3 + qual4 + qual5 + qual6 + qual7 
     
# Common factor
IMAG =~ imag1 + imag2 + imag3 + imag4 + imag5 + imag6 
VAL  =~ val1  + val2  + val3  + val4
SAT  =~ sat1  + sat2  + sat3           
LOY  =~ loy1  + loy2  + loy3           

"

# Run pathmox on one single variable
age = csibank[,2]

# Transform age into an ordered factor
age = factor(age, levels = c("&lt;=25", "26-35", "36-45", "46-55",
                                      "56-65", "&gt;=66"),ordered = T)
                                      
csi.pathmox.age = pls.pathmox(
 .model = CSImodel ,
 .data  = csibank,
 .catvar= age,
 .alpha = 0.05,
 .deep = 1
)  

# Visualize the Pathmox results
print(csi.pathmox.age)


## End(Not run)

</code></pre>

<hr>
<h2 id='printTree'>printing the tree structure</h2><span id='topic+printTree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>printTree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="printTree_+3A_moxtree">moxtree</code></td>
<td>
<p>moxtree object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function.
</p>


<h3>Value</h3>

<p>the tree structure
</p>

<hr>
<h2 id='root.tree'>Observations belonging to the root node</h2><span id='topic+root.tree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>root.tree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="root.tree_+3A_moxtree">moxtree</code></td>
<td>
<p>class containing the moxtree elements</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the observations belonging to the root node
</p>

<hr>
<h2 id='showDeepth'>Calculating Deepth stop criterion</h2><span id='topic+showDeepth'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showDeepth(node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showDeepth_+3A_node">node</code></td>
<td>
<p>id that identifies a specicif node</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>deepth of the tree
</p>

<hr>
<h2 id='splitopt'>Best partition for a specific segmentation variable</h2><span id='topic+splitopt'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitopt(x, inner, .model, .scheme, .consistent, splits, fact, size_candidate)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitopt_+3A_x">x</code></td>
<td>
<p>matrix or data frame containing the manifest variables.</p>
</td></tr>
<tr><td><code id="splitopt_+3A_inner">inner</code></td>
<td>
<p>a square (lower triangular) boolean matrix representing
the inner model (i.e. the path relationships between latent variables)</p>
</td></tr>
<tr><td><code id="splitopt_+3A_.model">.model</code></td>
<td>
<p>A description of the user-specified model.</p>
</td></tr>
<tr><td><code id="splitopt_+3A_.scheme">.scheme</code></td>
<td>
<p>string indicating the type of inner weighting
scheme. Possible values are <code>"centroid"</code>, <code>"factorial"</code>, or
<code>"path"</code>.</p>
</td></tr>
<tr><td><code id="splitopt_+3A_.consistent">.consistent</code></td>
<td>
<p>Logical. Should composite/proxy correlations be disattenuated
to yield consistent loadings and path estimates if at least one of the construct
is modeled as a common factor. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="splitopt_+3A_splits">splits</code></td>
<td>
<p>vector indicating the binary partition.</p>
</td></tr>
<tr><td><code id="splitopt_+3A_fact">fact</code></td>
<td>
<p>vector indicating the categorical variable.</p>
</td></tr>
<tr><td><code id="splitopt_+3A_size_candidate">size_candidate</code></td>
<td>
<p>number indicating the minimum threshold for a node.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a list containing information about the bets partition for a specific segmentation
variable.
</p>

<hr>
<h2 id='summary.plstree'>Summary function for Pathmox Segmentation Trees</h2><span id='topic+summary.plstree'></span>

<h3>Description</h3>

<p>The function <code>summary.plstrees</code> returns the most important results obtained 
by the function <code>pls.pathmox</code>. In order, it provides the parameters of the algorithm 
(threshold significance,  node size limit,  tree depth level and the method used for the 
split partition), the basic characteristics of the tree (depth and number of terminal 
nodes), the split results (F-global and F-coefficient). It also returns a ranking of the
categorical variables by importance and the terminal node results (path coefficients and R^2).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'plstree'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.plstree_+3A_object">object</code></td>
<td>
<p>An object of class <code>"plstree"</code>.</p>
</td></tr>
<tr><td><code id="summary.plstree_+3A_...">...</code></td>
<td>
<p>Further arguments are ignored.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Giuseppe Lamberti
</p>


<h3>References</h3>

<p>Lamberti, G. (2021). Hybrid multigroup partial least squares structural equation
modelling: an application to bank employee satisfaction and loyalty. <em>Quality and Quantity</em>,
doi: <a href="https://doi.org/10.1007/s11135-021-01096-9">10.1007/s11135-021-01096-9</a>
</p>
<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2017). The Pathmox approach for PLS path 
modeling: Discovering which constructs differentiate segments. <em>Applied Stochastic Models in 
Business and Industry</em>, <b>33</b>(6), 674-689. doi: <a href="https://doi.org/10.1007/s11135-021-01096-9">10.1007/s11135-021-01096-9</a>
</p>
<p>Lamberti, G., Aluja, T. B., and Sanchez, G. (2016). The Pathmox approach for PLS path 
modeling segmentation. <em>Applied Stochastic Models in Business and Industry</em>, <b>32</b>(4), 453-468.
doi: <a href="https://doi.org/10.1002/asmb.2168">10.1002/asmb.2168</a>
</p>
<p>Lamberti, G. (2015). <em>Modeling with Heterogeneity</em>, PhD Dissertation.
</p>
<p>Sanchez, G. (2009). <em>PATHMOX Approach: Segmentation Trees in
Partial Least Squares Path Modeling</em>, PhD Dissertation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.plstree">print.plstree</a></code>, <code><a href="#topic+pls.pathmox">pls.pathmox</a></code>,  
<code><a href="#topic+bar_terminal">bar_terminal</a></code>, <code><a href="#topic+bar_impvar">bar_impvar</a></code> and <code><a href="#topic+plot.plstree">plot.plstree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
# Example of PATHMOX approach in customer satisfaction analysis 
# (Spanish financial company).
# Model with 5 LVs (4 common factor: Image (IMAG), Value (VAL), 
# Satisfaction (SAT), and Loyalty (LOY); and 1 composite construct: 
# Quality (QUAL)

# load library and dataset csibank
library(genpathmx)
data("csibank")

# Define the model using the laavan syntax. Use a set of regression formulas to define 
# first the structural model and then the measurement model

CSImodel &lt;- "
# Structural model
VAL  ~ QUAL
SAT  ~ IMAG  + QUAL + VAL
LOY  ~ IMAG + SAT

# Measurement model
# Composite
QUAL &lt;~ qual1 + qual2 + qual3 + qual4 + qual5 + qual6 + qual7 
     
# common factor
IMAG =~ imag1 + imag2 + imag3 + imag4 + imag5 + imag6 
VAL  =~ val1  + val2  + val3  + val4
SAT  =~ sat1  + sat2  + sat3           
LOY  =~ loy1  + loy2  + loy3           

"

# Run pathmox on one single variable
age = csibank[,2]

# Transform age into an ordered factor
age = factor(age, levels = c("&lt;=25", "26-35", "36-45", "46-55",
                                      "56-65", "&gt;=66"),ordered = T)
                                      
csi.pathmox.age = pls.pathmox(
 .model = CSImodel ,
 .data  = csibank,
 .catvar= age,
 .alpha = 0.05,
 .deep = 1
)  

# Visualize the Pathmox results
summary(csi.pathmox.age)


## End(Not run)

</code></pre>

<hr>
<h2 id='terminal.tree'>Observations belonging to the terminal nodes</h2><span id='topic+terminal.tree'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>terminal.tree(moxtree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="terminal.tree_+3A_moxtree">moxtree</code></td>
<td>
<p>class containing the moxtree element.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>the observations belonging to the terminal nodes
</p>

<hr>
<h2 id='test.partition'>Cheking F-tests results</h2><span id='topic+test.partition'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test.partition(x, inner, .model, .scheme, .consistent, modtwo, alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="test.partition_+3A_x">x</code></td>
<td>
<p>matrix or dataframe containing the data.</p>
</td></tr>
<tr><td><code id="test.partition_+3A_inner">inner</code></td>
<td>
<p>a square (lower triangular) boolean matrix representing the inner model.</p>
</td></tr>
<tr><td><code id="test.partition_+3A_.model">.model</code></td>
<td>
<p>A description of the user-specified model.</p>
</td></tr>
<tr><td><code id="test.partition_+3A_.scheme">.scheme</code></td>
<td>
<p>string indicating the type of inner weighting
scheme. Possible values are <code>"centroid"</code>, <code>"factorial"</code>, or <code>"path"</code>.</p>
</td></tr>
<tr><td><code id="test.partition_+3A_.consistent">.consistent</code></td>
<td>
<p>Logical. Should composite/proxy correlations be disattenuated 
to yield consistent loadings and path estimates if at least one of the construct 
is modeled as a common factor. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="test.partition_+3A_modtwo">modtwo</code></td>
<td>
<p>vector indicating the binary partition.</p>
</td></tr>
<tr><td><code id="test.partition_+3A_alpha">alpha</code></td>
<td>
<p>value indicating the threshold a stop condition.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>list containing matrices needed for the comparison test.
</p>

<hr>
<h2 id='var_imp_mox'>Ranking of variables importance</h2><span id='topic+var_imp_mox'></span>

<h3>Description</h3>

<p>############################################################################################
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_imp_mox(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_imp_mox_+3A_x">x</code></td>
<td>
<p>matrix or dataframe containing the data</p>
</td></tr>
<tr><td><code id="var_imp_mox_+3A_y">y</code></td>
<td>
<p>vector or dataframe containing the categorical variables</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internal function
</p>


<h3>Value</h3>

<p>a dataframe containg the ranking of the categorical variable
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

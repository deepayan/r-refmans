<!DOCTYPE html><html><head><title>Help for package cli</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="/home/deepayan/Rinstall/R-devel/lib/R/doc/html/R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cli}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ansi_align'><p>Align an ANSI colored string</p></a></li>
<li><a href='#ansi_collapse'><p>Collapse a vector into a string scalar</p></a></li>
<li><a href='#ansi_columns'><p>Format a character vector in multiple columns</p></a></li>
<li><a href='#ansi_grep'><p>Like <code>base::grep()</code> and <code>base::grepl()</code>, but for ANSI strings</p></a></li>
<li><a href='#ansi_has_any'><p>Check if a string has some ANSI styling</p></a></li>
<li><a href='#ansi_hide_cursor'><p>Hide/show cursor in a terminal</p></a></li>
<li><a href='#ansi_html'><p>Convert ANSI styled text to HTML</p></a></li>
<li><a href='#ansi_html_style'><p>CSS styles for the output of <code>ansi_html()</code></p></a></li>
<li><a href='#ansi_nchar'><p>Count number of characters in an ANSI colored string</p></a></li>
<li><a href='#ansi_nzchar'><p>Like <code>base::nzchar()</code>, but for ANSI strings</p></a></li>
<li><a href='#ansi_regex'><p>Perl compatible regular expression that matches ANSI escape</p>
sequences</a></li>
<li><a href='#ansi_simplify'><p>Simplify ANSI styling tags</p></a></li>
<li><a href='#ansi_string'><p>Labels a character vector as containing ANSI control codes.</p></a></li>
<li><a href='#ansi_strip'><p>Remove ANSI escape sequences from a string</p></a></li>
<li><a href='#ansi_strsplit'><p>Split an ANSI colored string</p></a></li>
<li><a href='#ansi_strtrim'><p>Truncate an ANSI string</p></a></li>
<li><a href='#ansi_strwrap'><p>Wrap an ANSI styled string to a certain width</p></a></li>
<li><a href='#ansi_substr'><p>Substring(s) of an ANSI colored string</p></a></li>
<li><a href='#ansi_substring'><p>Substring(s) of an ANSI colored string</p></a></li>
<li><a href='#ansi_toupper'><p>ANSI character translation and case folding</p></a></li>
<li><a href='#ansi_trimws'><p>Remove leading and/or trailing whitespace from an ANSI string</p></a></li>
<li><a href='#ansi-styles'><p>ANSI colored text</p></a></li>
<li><a href='#builtin_theme'><p>The built-in CLI theme</p></a></li>
<li><a href='#cat_line'><p><code>cat()</code> helpers</p></a></li>
<li><a href='#cli'><p>Compose multiple cli functions</p></a></li>
<li><a href='#cli_abort'><p>Signal an error, warning or message with a cli formatted</p>
message</a></li>
<li><a href='#cli_alert'><p>CLI alerts</p></a></li>
<li><a href='#cli_blockquote'><p>CLI block quote</p></a></li>
<li><a href='#cli_bullets'><p>List of items</p></a></li>
<li><a href='#cli_bullets_raw'><p>List of verbatim items</p></a></li>
<li><a href='#cli_code'><p>A block of code</p></a></li>
<li><a href='#cli_debug_doc'><p>Debug cli internals</p></a></li>
<li><a href='#cli_div'><p>Generic CLI container</p></a></li>
<li><a href='#cli_dl'><p>Definition list</p></a></li>
<li><a href='#cli_end'><p>Close a CLI container</p></a></li>
<li><a href='#cli_fmt'><p>Capture the output of cli functions instead of printing it</p></a></li>
<li><a href='#cli_format'><p>Format a value for printing</p></a></li>
<li><a href='#cli_format_method'><p>Create a format method for an object using cli tools</p></a></li>
<li><a href='#cli_h1'><p>CLI headings</p></a></li>
<li><a href='#cli_li'><p>CLI list item(s)</p></a></li>
<li><a href='#cli_list_themes'><p>List the currently active themes</p></a></li>
<li><a href='#cli_ol'><p>Ordered CLI list</p></a></li>
<li><a href='#cli_output_connection'><p>The connection option that cli would use</p></a></li>
<li><a href='#cli_par'><p>CLI paragraph</p></a></li>
<li><a href='#cli_process_start'><p>Indicate the start and termination of some computation in the status bar</p>
(superseded)</a></li>
<li><a href='#cli_progress_along'><p>Add a progress bar to a mapping function or for loop</p></a></li>
<li><a href='#cli_progress_bar'><p>cli progress bars</p></a></li>
<li><a href='#cli_progress_builtin_handlers'><p>cli progress handlers</p></a></li>
<li><a href='#cli_progress_demo'><p>cli progress bar demo</p></a></li>
<li><a href='#cli_progress_message'><p>Simplified cli progress messages</p></a></li>
<li><a href='#cli_progress_num'><p>Progress bar utility functions.</p></a></li>
<li><a href='#cli_progress_output'><p>Add text output to a progress bar</p></a></li>
<li><a href='#cli_progress_step'><p>Simplified cli progress messages, with styling</p></a></li>
<li><a href='#cli_progress_styles'><p>List of built-in cli progress styles</p></a></li>
<li><a href='#cli_rule'><p>CLI horizontal rule</p></a></li>
<li><a href='#cli_sitrep'><p>cli situation report</p></a></li>
<li><a href='#cli_status'><p>Update the status bar (superseded)</p></a></li>
<li><a href='#cli_status_clear'><p>Clear the status bar (superseded)</p></a></li>
<li><a href='#cli_status_update'><p>Update the status bar (superseded)</p></a></li>
<li><a href='#cli_text'><p>CLI text</p></a></li>
<li><a href='#cli_ul'><p>Unordered CLI list</p></a></li>
<li><a href='#cli_vec'><p>Add custom cli style to a vector</p></a></li>
<li><a href='#cli_verbatim'><p>CLI verbatim text</p></a></li>
<li><a href='#cli-config'><p>cli environment variables and options</p></a></li>
<li><a href='#cli-package'><p>cli: Helpers for Developing Command Line Interfaces</p></a></li>
<li><a href='#code_highlight'><p>Syntax highlight R code</p></a></li>
<li><a href='#code_theme_list'><p>Syntax highlighting themes</p></a></li>
<li><a href='#combine_ansi_styles'><p>Combine two or more ANSI styles</p></a></li>
<li><a href='#console_width'><p>Determine the width of the console</p></a></li>
<li><a href='#containers'><p>About cli containers</p></a></li>
<li><a href='#demo_spinners'><p>Show a demo of some (by default all) spinners</p></a></li>
<li><a href='#diff_chr'><p>Compare two character vectors elementwise</p></a></li>
<li><a href='#diff_str'><p>Compare two character strings, character by character</p></a></li>
<li><a href='#faq'><p>Frequently Asked Questions</p></a></li>
<li><a href='#format_error'><p>Format an error, warning or diagnostic message</p></a></li>
<li><a href='#format_inline'><p>Format and returns a line of text</p></a></li>
<li><a href='#get_spinner'><p>Character vector to put a spinner on the screen</p></a></li>
<li><a href='#has_keypress_support'><p>Check if the current platform/terminal supports reading</p>
single keys.</a></li>
<li><a href='#hash_animal'><p>Adjective-animal hash</p></a></li>
<li><a href='#hash_emoji'><p>Emoji hash</p></a></li>
<li><a href='#hash_md5'><p>MD5 hash</p></a></li>
<li><a href='#hash_sha1'><p>SHA-1 hash</p></a></li>
<li><a href='#hash_sha256'><p>SHA-256 hash</p></a></li>
<li><a href='#inline-markup'><p>About inline markup in the semantic cli</p></a></li>
<li><a href='#is_ansi_tty'><p>Detect if a stream support ANSI escape characters</p></a></li>
<li><a href='#is_dynamic_tty'><p>Detect whether a stream supports <code style="white-space: pre;">&#8288;\\r&#8288;</code> (Carriage return)</p></a></li>
<li><a href='#is_utf8_output'><p>Whether cli is emitting UTF-8 characters</p></a></li>
<li><a href='#keypress'><p>Read a single keypress at the terminal</p></a></li>
<li><a href='#links'><p>cli hyperlinks</p></a></li>
<li><a href='#list_border_styles'><p>Draw a banner-like box in the console</p></a></li>
<li><a href='#list_spinners'><p>List all available spinners</p></a></li>
<li><a href='#make_ansi_style'><p>Create a new ANSI style</p></a></li>
<li><a href='#make_spinner'><p>Create a spinner</p></a></li>
<li><a href='#match_selector'><p>Match a selector to a container stack</p></a></li>
<li><a href='#match_selector_node'><p>Match a selector node to a container</p></a></li>
<li><a href='#no'><p>Pluralization helper functions</p></a></li>
<li><a href='#num_ansi_colors'><p>Detect the number of ANSI colors to use</p></a></li>
<li><a href='#parse_selector'><p>Parse a CSS3-like selector</p></a></li>
<li><a href='#pluralization'><p>About cli pluralization</p></a></li>
<li><a href='#pluralize'><p>String templating with pluralization</p></a></li>
<li><a href='#pretty_print_code'><p>Turn on pretty-printing functions at the R console</p></a></li>
<li><a href='#progress-c'><p>The cli progress C API</p></a></li>
<li><a href='#progress-variables'><p>Progress bar variables</p></a></li>
<li><a href='#rule'><p>Make a rule with one or two text labels</p></a></li>
<li><a href='#ruler'><p>Print the helpful ruler to the screen</p></a></li>
<li><a href='#simple_theme'><p>A simple CLI theme</p></a></li>
<li><a href='#spark_bar'><p>Draw a sparkline bar graph with unicode block characters</p></a></li>
<li><a href='#spark_line'><p>Draw a sparkline line graph with Braille characters.</p></a></li>
<li><a href='#start_app'><p>Start, stop, query the default cli application</p></a></li>
<li><a href='#style_hyperlink'><p>Terminal Hyperlinks</p></a></li>
<li><a href='#symbol'><p>Various handy symbols to use in a command line UI</p></a></li>
<li><a href='#test_that_cli'><p>Test cli output with testthat</p></a></li>
<li><a href='#themes'><p>About cli themes</p></a></li>
<li><a href='#tree'><p>Draw a tree</p></a></li>
<li><a href='#truecolor'><p>ANSI colors palettes</p></a></li>
<li><a href='#unicode-width-workaround'><p>Working around the bad Unicode character widths</p></a></li>
<li><a href='#utf8_graphemes'><p>Break an UTF-8 character vector into grapheme clusters</p></a></li>
<li><a href='#utf8_nchar'><p>Count the number of characters in a character vector</p></a></li>
<li><a href='#utf8_substr'><p>Substring of an UTF-8 string</p></a></li>
<li><a href='#vt_output'><p>Simulate (a subset of) a VT-5xx ANSI terminal</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Helpers for Developing Command Line Interfaces</td>
</tr>
<tr>
<td>Version:</td>
<td>3.6.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A suite of tools to build attractive command line interfaces
    ('CLIs'), from semantic elements: headings, lists, alerts, paragraphs,
    etc. Supports custom themes via a 'CSS'-like language. It also
    contains a number of lower level 'CLI' elements: rules, boxes, trees,
    and 'Unicode' symbols with 'ASCII' alternatives. It support ANSI
    colors and text styles as well.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cli.r-lib.org">https://cli.r-lib.org</a>, <a href="https://github.com/r-lib/cli">https://github.com/r-lib/cli</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/cli/issues">https://github.com/r-lib/cli/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>callr, covr, crayon, digest, glue (&ge; 1.6.0), grDevices,
htmltools, htmlwidgets, knitr, methods, mockery, processx, ps
(&ge; 1.3.4.9000), rlang (&ge; 1.0.2.9003), rmarkdown, rprojroot,
rstudioapi, testthat, tibble, whoami, withr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>r-lib/asciicast, bench, brio, cpp11, decor, desc,
fansi, prettyunits, sessioninfo, tidyverse/tidytemplate,
usethis, vctrs</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-10 22:38:10 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>Gábor Csárdi [aut, cre],
  Hadley Wickham [ctb],
  Kirill Müller [ctb],
  Salim Brüggemann <a href="https://orcid.org/0000-0002-5329-5987"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gábor Csárdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-11 07:40:13 UTC</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; x86_64-pc-linux-gnu; 2024-01-02 07:13:29 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='ansi_align'>Align an ANSI colored string</h2><span id='topic+ansi_align'></span>

<h3>Description</h3>

<p>Align an ANSI colored string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_align(
  text,
  width = console_width(),
  align = c("left", "center", "right"),
  type = "width"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_align_+3A_text">text</code></td>
<td>
<p>The character vector to align.</p>
</td></tr>
<tr><td><code id="ansi_align_+3A_width">width</code></td>
<td>
<p>Width of the field to align in.</p>
</td></tr>
<tr><td><code id="ansi_align_+3A_align">align</code></td>
<td>
<p>Whether to align <code>"left"</code>, <code>"center"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="ansi_align_+3A_type">type</code></td>
<td>
<p>Passed on to <code><a href="cli.html#topic+ansi_nchar">ansi_nchar()</a></code> and there to <code><a href="base.html#topic+nchar">nchar()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>str &lt;- c(
  col_red("This is red"),
  style_bold("This is bold")
)
astr &lt;- ansi_align(str, width = 30)
boxx(astr)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌────────────────────────────────────┐                                          
#> │                                    │                                          
#> │   <span style="color: #DC322F;">This is red</span>                      │                                          
#> │   <span style="font-weight: bold;">This is bold</span>                     │                                          
#> │                                    │                                          
#> └────────────────────────────────────┘                                          
</pre></div>

<div class="sourceCode r"><pre>str &lt;- c(
  col_red("This is red"),
  style_bold("This is bold")
)
astr &lt;- ansi_align(str, align = "center", width = 30)
boxx(astr)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌────────────────────────────────────┐                                          
#> │                                    │                                          
#> │             <span style="color: #DC322F;">This is red</span>            │                                          
#> │            <span style="font-weight: bold;">This is bold</span>            │                                          
#> │                                    │                                          
#> └────────────────────────────────────┘                                          
</pre></div>

<div class="sourceCode r"><pre>str &lt;- c(
  col_red("This is red"),
  style_bold("This is bold")
)
astr &lt;- ansi_align(str, align = "right", width = 30)
boxx(astr)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌────────────────────────────────────┐                                          
#> │                                    │                                          
#> │                      <span style="color: #DC322F;">This is red</span>   │                                          
#> │                     <span style="font-weight: bold;">This is bold</span>   │                                          
#> │                                    │                                          
#> └────────────────────────────────────┘                                          
</pre></div>



<h3>Value</h3>

<p>The aligned character vector.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>

<hr>
<h2 id='ansi_collapse'>Collapse a vector into a string scalar</h2><span id='topic+ansi_collapse'></span>

<h3>Description</h3>

<p>Features:
</p>

<ul>
<li><p> custom separator (<code>sep</code>),
</p>
</li>
<li><p> custom separator for length-two input (<code>sep2</code>),
</p>
</li>
<li><p> custom last separator (<code>last</code>),
</p>
</li>
<li><p> adds ellipsis to truncated strings,
</p>
</li>
<li><p> uses Unicode ellipsis character on UTF-8 console,
</p>
</li>
<li><p> can collapse &quot;from both ends&quot;, with <code>style = "both-ends"</code>,
</p>
</li>
<li><p> can consider a limit for the display width of the result, in characters,
</p>
</li>
<li><p> handles ANSI control sequences correctly when measuring display width.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>ansi_collapse(
  x,
  sep = ", ",
  sep2 = " and ",
  last = ", and ",
  trunc = Inf,
  width = Inf,
  ellipsis = symbol$ellipsis,
  style = c("both-ends", "head")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_collapse_+3A_x">x</code></td>
<td>
<p>Character vector, or an object with an <code>as.character()</code> method
to collapse.</p>
</td></tr>
<tr><td><code id="ansi_collapse_+3A_sep">sep</code></td>
<td>
<p>Separator. A character string.</p>
</td></tr>
<tr><td><code id="ansi_collapse_+3A_sep2">sep2</code></td>
<td>
<p>Separator for the special case that <code>x</code> contains only two
elements. A character string.</p>
</td></tr>
<tr><td><code id="ansi_collapse_+3A_last">last</code></td>
<td>
<p>Last separator, if there is no truncation. E.g. use
<code>", and "</code> for the <a href="https://en.wikipedia.org/wiki/Serial_comma">serial comma</a>. A character string.</p>
</td></tr>
<tr><td><code id="ansi_collapse_+3A_trunc">trunc</code></td>
<td>
<p>Maximum number of elements to show. For <code>style = "head"</code>
at least <code>trunc = 1</code> is used. For <code>style = "both-ends"</code> at least
<code>trunc = 5</code> is used, even if a smaller number is specified.</p>
</td></tr>
<tr><td><code id="ansi_collapse_+3A_width">width</code></td>
<td>
<p>Limit for the display width of the result, in characters.
This is a hard limit, and the output will never exceed it.
This argument is not implemented for the <code>"both-ends"</code> style, which
always uses <code>Inf</code>, with a warning if a finite <code>width</code> value is set.</p>
</td></tr>
<tr><td><code id="ansi_collapse_+3A_ellipsis">ellipsis</code></td>
<td>
<p>Character string to use at the place of the truncation.
By default, the Unicode ellipsis character is used if the console is
UTF-8, and three dots otherwise.</p>
</td></tr>
<tr><td><code id="ansi_collapse_+3A_style">style</code></td>
<td>
<p>Truncation style:
</p>

<ul>
<li> <p><code>both-ends</code>: the default, shows the beginning and end of the vector,
and skips elements in the middle if needed.
</p>
</li>
<li> <p><code>head</code>: shows the beginning of the vector, and skips elements at the
end, if needed.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>Character scalar. It is <code>NA_character_</code> if any elements in <code>x</code>
are <code>NA</code>.
</p>


<h3>See Also</h3>

<p><code>glue_collapse</code> in the glue package inspired this function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ansi_collapse(letters)

# truncate
ansi_collapse(letters, trunc = 5)

# head style
ansi_collapse(letters, trunc = 5, style = "head")
</code></pre>

<hr>
<h2 id='ansi_columns'>Format a character vector in multiple columns</h2><span id='topic+ansi_columns'></span>

<h3>Description</h3>

<p>This function helps with multi-column output of ANSI styles strings.
It works well together with <code><a href="cli.html#topic+boxx">boxx()</a></code>, see the example below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_columns(
  text,
  width = console_width(),
  sep = " ",
  fill = c("rows", "cols"),
  max_cols = 4,
  align = c("left", "center", "right"),
  type = "width",
  ellipsis = symbol$ellipsis
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_columns_+3A_text">text</code></td>
<td>
<p>Character vector to format. Each element will formatted
as a cell of a table.</p>
</td></tr>
<tr><td><code id="ansi_columns_+3A_width">width</code></td>
<td>
<p>Width of the screen.</p>
</td></tr>
<tr><td><code id="ansi_columns_+3A_sep">sep</code></td>
<td>
<p>Separator between the columns. It may have ANSI styles.</p>
</td></tr>
<tr><td><code id="ansi_columns_+3A_fill">fill</code></td>
<td>
<p>Whether to fill the columns row-wise or column-wise.</p>
</td></tr>
<tr><td><code id="ansi_columns_+3A_max_cols">max_cols</code></td>
<td>
<p>Maximum number of columns to use. Will not use more,
even if there is space for it.</p>
</td></tr>
<tr><td><code id="ansi_columns_+3A_align">align</code></td>
<td>
<p>Alignment within the columns.</p>
</td></tr>
<tr><td><code id="ansi_columns_+3A_type">type</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+ansi_nchar">ansi_nchar()</a></code> and <code><a href="cli.html#topic+ansi_align">ansi_align()</a></code>. Most probably
you want the default, <code>"width"</code>.</p>
</td></tr>
<tr><td><code id="ansi_columns_+3A_ellipsis">ellipsis</code></td>
<td>
<p>The string to append to truncated strings. Supply an
empty string if you don't want a marker.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a string does not fit into the specified <code>width</code>, it will be
truncated using <code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim()</a></code>.
</p>
<div class="sourceCode r"><pre>fmt &lt;- ansi_columns(
  paste(col_red("foo"), 1:10),
  width = 50,
  fill = "rows",
  max_cols=10,
  align = "center",
  sep = "   "
)
boxx(fmt, padding = c(0,1,0,1), header = col_cyan("Columns"))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌ <span style="color: #2AA198;">Columns</span> ───────────────────────────────────────────┐                          
#> │  <span style="color: #DC322F;">foo</span> 1     <span style="color: #DC322F;">foo</span> 2     <span style="color: #DC322F;">foo</span> 3     <span style="color: #DC322F;">foo</span> 4     <span style="color: #DC322F;">foo</span> 5     │                          
#> │  <span style="color: #DC322F;">foo</span> 6     <span style="color: #DC322F;">foo</span> 7     <span style="color: #DC322F;">foo</span> 8     <span style="color: #DC322F;">foo</span> 9     <span style="color: #DC322F;">foo</span> 10    │                          
#> └────────────────────────────────────────────────────┘                          
</pre></div>



<h3>Value</h3>

<p>ANSI string vector.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>

<hr>
<h2 id='ansi_grep'>Like <code><a href="base.html#topic+grep">base::grep()</a></code> and <code><a href="base.html#topic+grep">base::grepl()</a></code>, but for ANSI strings</h2><span id='topic+ansi_grep'></span><span id='topic+ansi_grepl'></span>

<h3>Description</h3>

<p>First ANSI sequences will be stripped with <code><a href="cli.html#topic+ansi_strip">ansi_strip()</a></code>, both
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_grep(pattern, x, ignore.case = FALSE, perl = FALSE, value = FALSE, ...)

ansi_grepl(pattern, x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_grep_+3A_pattern">pattern</code></td>
<td>
<p>Character scalar, regular expression or fixed string
(if <code>fixed = TRUE</code>), the pattern to search for. Other objects will be
coerced using <code><a href="base.html#topic+as.character">as.character()</a></code>.</p>
</td></tr>
<tr><td><code id="ansi_grep_+3A_x">x</code></td>
<td>
<p>Character vector to search in. Other objects will be coerced
using <code><a href="base.html#topic+as.character">as.character()</a></code>.</p>
</td></tr>
<tr><td><code id="ansi_grep_+3A_ignore.case">ignore.case</code>, <code id="ansi_grep_+3A_perl">perl</code>, <code id="ansi_grep_+3A_value">value</code></td>
<td>
<p>Passed to <code><a href="base.html#topic+grep">base::grep()</a></code>.</p>
</td></tr>
<tr><td><code id="ansi_grep_+3A_...">...</code></td>
<td>
<p>Extra arguments are passed to <code><a href="base.html#topic+grep">base::grep()</a></code> or <code><a href="base.html#topic+grep">base::grepl()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that these functions work on code points (or bytes if
<code>useBytes = TRUE</code>), and not graphemes.
</p>
<p>Unlike <code><a href="base.html#topic+grep">base::grep()</a></code> and <code><a href="base.html#topic+grep">base::grepl()</a></code> these functions do not special
case factors.
</p>
<p>Both <code>pattern</code> and <code>x</code> are converted to UTF-8.
</p>


<h3>Value</h3>

<p>The same as <code><a href="base.html#topic+grep">base::grep()</a></code> and <code><a href="base.html#topic+grep">base::grepl()</a></code>, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>red_needle &lt;- col_red("needle")
haystack &lt;- c("foo", "needle", "foo")
green_haystack &lt;- col_green(haystack)
ansi_grepl(red_needle, haystack)
ansi_grepl(red_needle, green_haystack)
</code></pre>

<hr>
<h2 id='ansi_has_any'>Check if a string has some ANSI styling</h2><span id='topic+ansi_has_any'></span>

<h3>Description</h3>

<p>Check if a string has some ANSI styling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_has_any(string, sgr = TRUE, csi = TRUE, link = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_has_any_+3A_string">string</code></td>
<td>
<p>The string to check. It can also be a character
vector.</p>
</td></tr>
<tr><td><code id="ansi_has_any_+3A_sgr">sgr</code></td>
<td>
<p>Whether to look for SGR (styling) control sequences.</p>
</td></tr>
<tr><td><code id="ansi_has_any_+3A_csi">csi</code></td>
<td>
<p>Whether to look for non-SGR control sequences.</p>
</td></tr>
<tr><td><code id="ansi_has_any_+3A_link">link</code></td>
<td>
<p>Whether to look for ANSI hyperlinks.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector, <code>TRUE</code> for the strings that have some
ANSI styling.
</p>


<h3>See Also</h3>

<p>Other low level ANSI functions: 
<code><a href="cli.html#topic+ansi_hide_cursor">ansi_hide_cursor</a>()</code>,
<code><a href="cli.html#topic+ansi_regex">ansi_regex</a>()</code>,
<code><a href="cli.html#topic+ansi_string">ansi_string</a>()</code>,
<code><a href="cli.html#topic+ansi_strip">ansi_strip</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## The second one has style if ANSI colors are supported
ansi_has_any("foobar")
ansi_has_any(col_red("foobar"))
</code></pre>

<hr>
<h2 id='ansi_hide_cursor'>Hide/show cursor in a terminal</h2><span id='topic+ansi_hide_cursor'></span><span id='topic+ansi_show_cursor'></span><span id='topic+ansi_with_hidden_cursor'></span>

<h3>Description</h3>

<p>This only works in terminal emulators. In other environments, it
does nothing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_hide_cursor(stream = "auto")

ansi_show_cursor(stream = "auto")

ansi_with_hidden_cursor(expr, stream = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_hide_cursor_+3A_stream">stream</code></td>
<td>
<p>The stream to inspect or manipulate, an R connection
object. It can also be a string, one of <code>"auto"</code>, <code>"message"</code>,
<code>"stdout"</code>, <code>"stderr"</code>. <code>"auto"</code> will select <code>stdout()</code> if the session is
interactive and there are no sinks, otherwise it will select <code>stderr()</code>.</p>
</td></tr>
<tr><td><code id="ansi_hide_cursor_+3A_expr">expr</code></td>
<td>
<p>R expression to evaluate.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ansi_hide_cursor()</code> hides the cursor.
</p>
<p><code>ansi_show_cursor()</code> shows the cursor.
</p>
<p><code>ansi_with_hidden_cursor()</code> temporarily hides the cursor for
evaluating an expression.
</p>


<h3>See Also</h3>

<p>Other terminal capabilities: 
<code><a href="cli.html#topic+is_ansi_tty">is_ansi_tty</a>()</code>,
<code><a href="cli.html#topic+is_dynamic_tty">is_dynamic_tty</a>()</code>
</p>
<p>Other low level ANSI functions: 
<code><a href="cli.html#topic+ansi_has_any">ansi_has_any</a>()</code>,
<code><a href="cli.html#topic+ansi_regex">ansi_regex</a>()</code>,
<code><a href="cli.html#topic+ansi_string">ansi_string</a>()</code>,
<code><a href="cli.html#topic+ansi_strip">ansi_strip</a>()</code>
</p>

<hr>
<h2 id='ansi_html'>Convert ANSI styled text to HTML</h2><span id='topic+ansi_html'></span>

<h3>Description</h3>

<p>Convert ANSI styled text to HTML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_html(x, escape_reserved = TRUE, csi = c("drop", "keep"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_html_+3A_x">x</code></td>
<td>
<p>Input character vector.</p>
</td></tr>
<tr><td><code id="ansi_html_+3A_escape_reserved">escape_reserved</code></td>
<td>
<p>Whether to escape characters that are reserved
in HTML (<code>&amp;</code>, <code>&lt;</code> and <code>&gt;</code>).</p>
</td></tr>
<tr><td><code id="ansi_html_+3A_csi">csi</code></td>
<td>
<p>What to do with non-SGR ANSI sequences, either <code>"keep"</code>,
or <code>"drop"</code> them.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of HTML.
</p>


<h3>See Also</h3>

<p>Other ANSI to HTML conversion: 
<code><a href="cli.html#topic+ansi_html_style">ansi_html_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Syntax highlight the source code of an R function with ANSI tags,
## and export it to a HTML file.
code &lt;- withr::with_options(
  list(ansi.num_colors = 256),
  code_highlight(format(ansi_html))
)
hcode &lt;- paste(ansi_html(code), collapse = "\n")
css &lt;- paste(format(ansi_html_style()), collapse=  "\n")
page &lt;- htmltools::tagList(
  htmltools::tags$head(htmltools::tags$style(css)),
  htmltools::tags$pre(htmltools::HTML(hcode))
)

if (interactive()) htmltools::html_print(page)

</code></pre>

<hr>
<h2 id='ansi_html_style'>CSS styles for the output of <code>ansi_html()</code></h2><span id='topic+ansi_html_style'></span>

<h3>Description</h3>

<p>CSS styles for the output of <code>ansi_html()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_html_style(
  colors = TRUE,
  palette = c("vscode", "dichro", "vga", "winxp", "win10", "macos", "putty", "mirc",
    "xterm", "ubuntu", "eclipse", "iterm", "iterm-pastel", "iterm-smoooooth",
    "iterm-snazzy", "iterm-solarized", "iterm-tango")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_html_style_+3A_colors">colors</code></td>
<td>
<p>Whether or not to include colors. <code>FALSE</code> will not include
colors, <code>TRUE</code> or <code>8</code> will include eight colors (plus their bright
variants), <code>256</code> will include 256 colors.</p>
</td></tr>
<tr><td><code id="ansi_html_style_+3A_palette">palette</code></td>
<td>
<p>Character scalar, palette to use for the first eight colors
plus their bright variants. Terminals define these colors differently,
and cli includes a couple of examples. Sources of palettes:
</p>

<ul>
<li><p> https://en.wikipedia.org/wiki/ANSI_escape_code#3-bit_and_4-bit
</p>
</li>
<li><p> iTerm2 builtin palettes
</p>
</li>
<li> <p><a href="https://github.com/sindresorhus/iterm2-snazzy">https://github.com/sindresorhus/iterm2-snazzy</a>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>Named list of CSS declaration blocks, where the names are
CSS selectors. It has a <code>format()</code> and <code>print()</code> methods, which you
can use to write the output to a CSS or HTML file.
</p>


<h3>See Also</h3>

<p>Other ANSI to HTML conversion: 
<code><a href="cli.html#topic+ansi_html">ansi_html</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ansi_html_style(colors = FALSE)
ansi_html_style(colors = 8, palette = "iterm-snazzy")
</code></pre>

<hr>
<h2 id='ansi_nchar'>Count number of characters in an ANSI colored string</h2><span id='topic+ansi_nchar'></span>

<h3>Description</h3>

<p>This is a color-aware counterpart of <code><a href="cli.html#topic+utf8_nchar">utf8_nchar()</a></code>. By default it
counts Unicode grapheme clusters, instead of code points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_nchar(x, type = c("chars", "bytes", "width", "graphemes", "codepoints"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_nchar_+3A_x">x</code></td>
<td>
<p>Character vector, potentially ANSI styled, or a vector to be
coerced to character. If it converted to UTF-8.</p>
</td></tr>
<tr><td><code id="ansi_nchar_+3A_type">type</code></td>
<td>
<p>Whether to count graphemes (characters), code points,
bytes, or calculate the display width of the string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector, the length of the strings in the character
vector.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- paste(
  col_red("red"),
  "default",
  col_green("green")
)

cat(str, "\n")
nchar(str)
ansi_nchar(str)
nchar(ansi_strip(str))
</code></pre>

<hr>
<h2 id='ansi_nzchar'>Like <code><a href="base.html#topic+nchar">base::nzchar()</a></code>, but for ANSI strings</h2><span id='topic+ansi_nzchar'></span>

<h3>Description</h3>

<p>Like <code><a href="base.html#topic+nchar">base::nzchar()</a></code>, but for ANSI strings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_nzchar(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_nzchar_+3A_x">x</code></td>
<td>
<p>Charcater vector. Other objects are coarced using
<code><a href="base.html#topic+character">base::as.character()</a></code>.</p>
</td></tr>
<tr><td><code id="ansi_nzchar_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="base.html#topic+nchar">base::nzchar()</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ansi_nzchar("")
ansi_nzchar(col_red(""))
</code></pre>

<hr>
<h2 id='ansi_regex'>Perl compatible regular expression that matches ANSI escape
sequences</h2><span id='topic+ansi_regex'></span>

<h3>Description</h3>

<p>Don't forget to use <code>perl = TRUE</code> when using this with <code><a href="base.html#topic+grepl">grepl()</a></code> and
friends.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_regex()
</code></pre>


<h3>Value</h3>

<p>String scalar, the regular expression.
</p>


<h3>See Also</h3>

<p>Other low level ANSI functions: 
<code><a href="cli.html#topic+ansi_has_any">ansi_has_any</a>()</code>,
<code><a href="cli.html#topic+ansi_hide_cursor">ansi_hide_cursor</a>()</code>,
<code><a href="cli.html#topic+ansi_string">ansi_string</a>()</code>,
<code><a href="cli.html#topic+ansi_strip">ansi_strip</a>()</code>
</p>

<hr>
<h2 id='ansi_simplify'>Simplify ANSI styling tags</h2><span id='topic+ansi_simplify'></span>

<h3>Description</h3>

<p>It creates an equivalent, but possibly shorter ANSI styled string, by
removing duplicate and empty tags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_simplify(x, csi = c("keep", "drop"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_simplify_+3A_x">x</code></td>
<td>
<p>Input string</p>
</td></tr>
<tr><td><code id="ansi_simplify_+3A_csi">csi</code></td>
<td>
<p>What to do with non-SGR ANSI sequences, either <code>"keep"</code>,
or <code>"drop"</code> them.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Simplified <code>cli_ansi_string</code> vector.
</p>

<hr>
<h2 id='ansi_string'>Labels a character vector as containing ANSI control codes.</h2><span id='topic+ansi_string'></span>

<h3>Description</h3>

<p>This function sets the class of its argument, activating
ANSI-string-specific methods such as for printing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_string(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_string_+3A_x">x</code></td>
<td>
<p>A character vector or something that can be
coerced into one.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>cli_ansi_string</code> object, a subclass of
<code>character</code>, with the same length and contents
as <code>x</code>.
</p>


<h3>See Also</h3>

<p>Other low level ANSI functions: 
<code><a href="cli.html#topic+ansi_has_any">ansi_has_any</a>()</code>,
<code><a href="cli.html#topic+ansi_hide_cursor">ansi_hide_cursor</a>()</code>,
<code><a href="cli.html#topic+ansi_regex">ansi_regex</a>()</code>,
<code><a href="cli.html#topic+ansi_strip">ansi_strip</a>()</code>
</p>

<hr>
<h2 id='ansi_strip'>Remove ANSI escape sequences from a string</h2><span id='topic+ansi_strip'></span>

<h3>Description</h3>

<p>The input may be of class <code>cli_ansi_string</code> class, this is also dropped
from the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_strip(string, sgr = TRUE, csi = TRUE, link = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_strip_+3A_string">string</code></td>
<td>
<p>The input string.</p>
</td></tr>
<tr><td><code id="ansi_strip_+3A_sgr">sgr</code></td>
<td>
<p>Whether to remove for SGR (styling) control sequences.</p>
</td></tr>
<tr><td><code id="ansi_strip_+3A_csi">csi</code></td>
<td>
<p>Whether to remove for non-SGR control sequences.</p>
</td></tr>
<tr><td><code id="ansi_strip_+3A_link">link</code></td>
<td>
<p>Whether to remove ANSI hyperlinks.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The cleaned up string. Note that <code>ansi_strip()</code> always drops
the <code>cli_ansi_string</code> class, even if <code>sgr</code> and sci<code>are</code>FALSE'.
</p>


<h3>See Also</h3>

<p>Other low level ANSI functions: 
<code><a href="cli.html#topic+ansi_has_any">ansi_has_any</a>()</code>,
<code><a href="cli.html#topic+ansi_hide_cursor">ansi_hide_cursor</a>()</code>,
<code><a href="cli.html#topic+ansi_regex">ansi_regex</a>()</code>,
<code><a href="cli.html#topic+ansi_string">ansi_string</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ansi_strip(col_red("foobar")) == "foobar"
</code></pre>

<hr>
<h2 id='ansi_strsplit'>Split an ANSI colored string</h2><span id='topic+ansi_strsplit'></span>

<h3>Description</h3>

<p>This is the color-aware counterpart of <code><a href="base.html#topic+strsplit">base::strsplit()</a></code>.
It works almost exactly like the original, but keeps the colors in the
substrings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_strsplit(x, split, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_strsplit_+3A_x">x</code></td>
<td>
<p>Character vector, potentially ANSI styled, or a vector to
coerced to character.</p>
</td></tr>
<tr><td><code id="ansi_strsplit_+3A_split">split</code></td>
<td>
<p>Character vector of length 1 (or object which can be coerced to
such) containing regular expression(s) (unless <code>fixed = TRUE</code>) to use
for splitting.  If empty matches occur, in particular if <code>split</code> has
zero characters, <code>x</code> is split into single characters.</p>
</td></tr>
<tr><td><code id="ansi_strsplit_+3A_...">...</code></td>
<td>
<p>Extra arguments are passed to <code>base::strsplit()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the same length as <code>x</code>, the <code>i</code>-th element of
which contains the vector of splits of <code>x[i]</code>. ANSI styles are
retained.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- paste0(
  col_red("I am red---"),
  col_green("and I am green-"),
  style_underline("I underlined")
)

cat(str, "\n")

# split at dashes, keep color
cat(ansi_strsplit(str, "[-]+")[[1]], sep = "\n")
strsplit(ansi_strip(str), "[-]+")

# split to characters, keep color
cat(ansi_strsplit(str, "")[[1]], "\n", sep = " ")
strsplit(ansi_strip(str), "")
</code></pre>

<hr>
<h2 id='ansi_strtrim'>Truncate an ANSI string</h2><span id='topic+ansi_strtrim'></span>

<h3>Description</h3>

<p>This function is similar to <code><a href="base.html#topic+strtrim">base::strtrim()</a></code>, but works correctly with
ANSI styled strings. It also adds <code>...</code> (or the corresponding Unicode
character if Unicode characters are allowed) to the end of truncated
strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_strtrim(x, width = console_width(), ellipsis = symbol$ellipsis)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_strtrim_+3A_x">x</code></td>
<td>
<p>Character vector of ANSI strings.</p>
</td></tr>
<tr><td><code id="ansi_strtrim_+3A_width">width</code></td>
<td>
<p>The width to truncate to.</p>
</td></tr>
<tr><td><code id="ansi_strtrim_+3A_ellipsis">ellipsis</code></td>
<td>
<p>The string to append to truncated strings. Supply an
empty string if you don't want a marker.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: <code>ansi_strtrim()</code> does not support NA values currently.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>text &lt;- cli::col_red(cli:::lorem_ipsum())
ansi_strtrim(c(text, "foobar"), 40)
</code></pre>

<hr>
<h2 id='ansi_strwrap'>Wrap an ANSI styled string to a certain width</h2><span id='topic+ansi_strwrap'></span>

<h3>Description</h3>

<p>This function is similar to <code><a href="base.html#topic+strwrap">base::strwrap()</a></code>, but works on ANSI
styled strings, and leaves the styling intact.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_strwrap(
  x,
  width = console_width(),
  indent = 0,
  exdent = 0,
  simplify = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_strwrap_+3A_x">x</code></td>
<td>
<p>ANSI string.</p>
</td></tr>
<tr><td><code id="ansi_strwrap_+3A_width">width</code></td>
<td>
<p>Width to wrap to.</p>
</td></tr>
<tr><td><code id="ansi_strwrap_+3A_indent">indent</code></td>
<td>
<p>Indentation of the first line of each paragraph.</p>
</td></tr>
<tr><td><code id="ansi_strwrap_+3A_exdent">exdent</code></td>
<td>
<p>Indentation of the subsequent lines of each paragraph.</p>
</td></tr>
<tr><td><code id="ansi_strwrap_+3A_simplify">simplify</code></td>
<td>
<p>Whether to return all wrapped strings in a single
character vector, or wrap each element of <code>x</code> independently and return
a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>simplify</code> is <code>FALSE</code>, then a list of character vectors,
each an ANSI string. Otherwise a single ANSI string vector.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>text &lt;- cli:::lorem_ipsum()
# Highlight some words, that start with 's'
rexp &lt;- gregexpr("\\b([sS][a-zA-Z]+)\\b", text)
regmatches(text, rexp) &lt;- lapply(regmatches(text, rexp), col_red)
cat(text)

wrp &lt;- ansi_strwrap(text, width = 40)
cat(wrp, sep = "\n")
</code></pre>

<hr>
<h2 id='ansi_substr'>Substring(s) of an ANSI colored string</h2><span id='topic+ansi_substr'></span>

<h3>Description</h3>

<p>This is a color-aware counterpart of <code><a href="base.html#topic+substr">base::substr()</a></code>.
It works exactly like the original, but keeps the colors
in the substrings. The ANSI escape sequences are ignored when
calculating the positions within the string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_substr(x, start, stop)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_substr_+3A_x">x</code></td>
<td>
<p>Character vector, potentially ANSI styled, or a vector to
coerced to character.</p>
</td></tr>
<tr><td><code id="ansi_substr_+3A_start">start</code></td>
<td>
<p>Starting index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
<tr><td><code id="ansi_substr_+3A_stop">stop</code></td>
<td>
<p>Ending index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the same length as <code>x</code>, containing
the requested substrings. ANSI styles are retained.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- paste(
  col_red("red"),
  "default",
  col_green("green")
)

cat(str, "\n")
cat(ansi_substr(str, 1, 5), "\n")
cat(ansi_substr(str, 1, 15), "\n")
cat(ansi_substr(str, 3, 7), "\n")

substr(ansi_strip(str), 1, 5)
substr(ansi_strip(str), 1, 15)
substr(ansi_strip(str), 3, 7)

str2 &lt;- paste(
  "another",
  col_red("multi-", style_underline("style")),
  "text"
)

cat(str2, "\n")
cat(ansi_substr(c(str, str2), c(3,5), c(7, 18)), sep = "\n")
substr(ansi_strip(c(str, str2)), c(3,5), c(7, 18))
</code></pre>

<hr>
<h2 id='ansi_substring'>Substring(s) of an ANSI colored string</h2><span id='topic+ansi_substring'></span>

<h3>Description</h3>

<p>This is the color-aware counterpart of <code><a href="base.html#topic+substr">base::substring()</a></code>.
It works exactly like the original, but keeps the colors in the
substrings. The ANSI escape sequences are ignored when
calculating the positions within the string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_substring(text, first, last = 1000000L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_substring_+3A_text">text</code></td>
<td>
<p>Character vector, potentially ANSI styled, or a vector to
coerced to character. It is recycled to the longest of <code>first</code>
and <code>last</code>.</p>
</td></tr>
<tr><td><code id="ansi_substring_+3A_first">first</code></td>
<td>
<p>Starting index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
<tr><td><code id="ansi_substring_+3A_last">last</code></td>
<td>
<p>Ending index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the same length as <code>x</code>, containing
the requested substrings. ANSI styles are retained.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- paste(
  col_red("red"),
  "default",
  col_green("green")
)

cat(str, "\n")
cat(ansi_substring(str, 1, 5), "\n")
cat(ansi_substring(str, 1, 15), "\n")
cat(ansi_substring(str, 3, 7), "\n")

substring(ansi_strip(str), 1, 5)
substring(ansi_strip(str), 1, 15)
substring(ansi_strip(str), 3, 7)

str2 &lt;- paste(
  "another",
  col_red("multi-", style_underline("style")),
  "text"
)

cat(str2, "\n")
cat(ansi_substring(str2, c(3,5), c(7, 18)), sep = "\n")
substring(ansi_strip(str2), c(3,5), c(7, 18))
</code></pre>

<hr>
<h2 id='ansi_toupper'>ANSI character translation and case folding</h2><span id='topic+ansi_toupper'></span><span id='topic+ansi_tolower'></span><span id='topic+ansi_chartr'></span>

<h3>Description</h3>

<p>There functions are similar to <code><a href="base.html#topic+toupper">toupper()</a></code>, <code><a href="base.html#topic+tolower">tolower()</a></code> and
<code><a href="base.html#topic+chartr">chartr()</a></code>, but they keep the ANSI colors of the string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_toupper(x)

ansi_tolower(x)

ansi_chartr(old, new, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_toupper_+3A_x">x</code></td>
<td>
<p>Input string. May have ANSI colors and styles.</p>
</td></tr>
<tr><td><code id="ansi_toupper_+3A_old">old</code></td>
<td>
<p>a character string specifying the characters to be
translated.  If a character vector of length 2 or more is supplied,
the first element is used with a warning.</p>
</td></tr>
<tr><td><code id="ansi_toupper_+3A_new">new</code></td>
<td>
<p>a character string specifying the translations. If a
character vector of length 2 or more is supplied, the first element
is used with a warning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the same length as <code>x</code>, containing
the translated strings. ANSI styles are retained.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>
<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>
<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_trimws">ansi_trimws</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ansi_toupper(col_red("Uppercase"))

ansi_tolower(col_red("LowerCase"))

x &lt;- paste0(col_green("MiXeD"), col_red(" cAsE 123"))
ansi_chartr("iXs", "why", x)
</code></pre>

<hr>
<h2 id='ansi_trimws'>Remove leading and/or trailing whitespace from an ANSI string</h2><span id='topic+ansi_trimws'></span>

<h3>Description</h3>

<p>This function is similar to <code><a href="base.html#topic+trimws">base::trimws()</a></code> but works on ANSI strings,
and keeps color and other styling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ansi_trimws(x, which = c("both", "left", "right"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi_trimws_+3A_x">x</code></td>
<td>
<p>ANSI string vector.</p>
</td></tr>
<tr><td><code id="ansi_trimws_+3A_which">which</code></td>
<td>
<p>Whether to remove leading or trailing whitespace or both.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ANSI string, with the whitespace removed.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="cli.html#topic+ansi_align">ansi_align</a>()</code>,
<code><a href="cli.html#topic+ansi_columns">ansi_columns</a>()</code>,
<code><a href="cli.html#topic+ansi_nchar">ansi_nchar</a>()</code>,
<code><a href="cli.html#topic+ansi_strsplit">ansi_strsplit</a>()</code>,
<code><a href="cli.html#topic+ansi_strtrim">ansi_strtrim</a>()</code>,
<code><a href="cli.html#topic+ansi_strwrap">ansi_strwrap</a>()</code>,
<code><a href="cli.html#topic+ansi_substring">ansi_substring</a>()</code>,
<code><a href="cli.html#topic+ansi_substr">ansi_substr</a>()</code>,
<code><a href="cli.html#topic+ansi_toupper">ansi_toupper</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trimws(paste0("   ", col_red("I am red"), "   "))
ansi_trimws(paste0("   ", col_red("I am red"), "   "))
trimws(col_red("   I am red   "))
ansi_trimws(col_red("   I am red   "))
</code></pre>

<hr>
<h2 id='ansi-styles'>ANSI colored text</h2><span id='topic+ansi-styles'></span><span id='topic+bg_black'></span><span id='topic+bg_blue'></span><span id='topic+bg_cyan'></span><span id='topic+bg_green'></span><span id='topic+bg_magenta'></span><span id='topic+bg_red'></span><span id='topic+bg_white'></span><span id='topic+bg_yellow'></span><span id='topic+bg_none'></span><span id='topic+bg_br_black'></span><span id='topic+bg_br_blue'></span><span id='topic+bg_br_cyan'></span><span id='topic+bg_br_green'></span><span id='topic+bg_br_magenta'></span><span id='topic+bg_br_red'></span><span id='topic+bg_br_white'></span><span id='topic+bg_br_yellow'></span><span id='topic+col_black'></span><span id='topic+col_blue'></span><span id='topic+col_cyan'></span><span id='topic+col_green'></span><span id='topic+col_magenta'></span><span id='topic+col_red'></span><span id='topic+col_white'></span><span id='topic+col_yellow'></span><span id='topic+col_grey'></span><span id='topic+col_silver'></span><span id='topic+col_none'></span><span id='topic+col_br_black'></span><span id='topic+col_br_blue'></span><span id='topic+col_br_cyan'></span><span id='topic+col_br_green'></span><span id='topic+col_br_magenta'></span><span id='topic+col_br_red'></span><span id='topic+col_br_white'></span><span id='topic+col_br_yellow'></span><span id='topic+style_dim'></span><span id='topic+style_blurred'></span><span id='topic+style_bold'></span><span id='topic+style_hidden'></span><span id='topic+style_inverse'></span><span id='topic+style_italic'></span><span id='topic+style_reset'></span><span id='topic+style_strikethrough'></span><span id='topic+style_underline'></span><span id='topic+style_no_bold'></span><span id='topic+style_no_blurred'></span><span id='topic+style_no_dim'></span><span id='topic+style_no_italic'></span><span id='topic+style_no_underline'></span><span id='topic+style_no_inverse'></span><span id='topic+style_no_hidden'></span><span id='topic+style_no_strikethrough'></span><span id='topic+style_no_color'></span><span id='topic+style_no_bg_color'></span>

<h3>Description</h3>

<p>cli has a number of functions to color and style text at the command
line. They provide a more modern interface than the crayon package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bg_black(...)

bg_blue(...)

bg_cyan(...)

bg_green(...)

bg_magenta(...)

bg_red(...)

bg_white(...)

bg_yellow(...)

bg_none(...)

bg_br_black(...)

bg_br_blue(...)

bg_br_cyan(...)

bg_br_green(...)

bg_br_magenta(...)

bg_br_red(...)

bg_br_white(...)

bg_br_yellow(...)

col_black(...)

col_blue(...)

col_cyan(...)

col_green(...)

col_magenta(...)

col_red(...)

col_white(...)

col_yellow(...)

col_grey(...)

col_silver(...)

col_none(...)

col_br_black(...)

col_br_blue(...)

col_br_cyan(...)

col_br_green(...)

col_br_magenta(...)

col_br_red(...)

col_br_white(...)

col_br_yellow(...)

style_dim(...)

style_blurred(...)

style_bold(...)

style_hidden(...)

style_inverse(...)

style_italic(...)

style_reset(...)

style_strikethrough(...)

style_underline(...)

style_no_bold(...)

style_no_blurred(...)

style_no_dim(...)

style_no_italic(...)

style_no_underline(...)

style_no_inverse(...)

style_no_hidden(...)

style_no_strikethrough(...)

style_no_color(...)

style_no_bg_color(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ansi-styles_+3A_...">...</code></td>
<td>
<p>Character strings, they will be pasted together with
<code>paste0()</code>, before applying the style function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code style="white-space: pre;">&#8288;col_*&#8288;</code> functions change the (foreground) color to the text.
These are the eight original ANSI colors. Note that in some terminals,
they might actually look differently, as terminals have their own
settings for how to show them. <code>col_none()</code> is the default color, this
is useful in a substring of a colored string.
</p>
<p>The <code style="white-space: pre;">&#8288;col_br_*&#8288;</code> functions are bright versions of the eight ANSI colors.
Note that on some terminal configurations and themes they might be the
same as the non-bright colors.
</p>
<p>The <code style="white-space: pre;">&#8288;bg_*&#8288;</code> functions change the background color of the text.
These are the eight original ANSI background colors. These, too, can
vary in appearance, depending on terminal settings. <code>bg_none()</code> the
the default background color, this is useful in a substring of a
background-colored string.
</p>
<p>The <code style="white-space: pre;">&#8288;bg_br_*&#8288;</code> functions are the bright versions of the eight ANSI
background colors. Note that on some terminal configurations and themes
they might be the same as the non-bright colors.
</p>
<p>The <code style="white-space: pre;">&#8288;style_*&#8288;</code> functions apply other styling to the text. The currently
supported styling functions are:
</p>

<ul>
<li> <p><code>style_reset()</code> to remove any style, including color,
</p>
</li>
<li> <p><code>style_bold()</code> for boldface / strong text, although some terminals
show a bright, high intensity text instead,
</p>
</li>
<li> <p><code>style_dim()</code> (or <code>style_blurred()</code> reduced intensity text.
</p>
</li>
<li> <p><code>style_italic()</code> (not widely supported).
</p>
</li>
<li> <p><code>style_underline()</code>,
</p>
</li>
<li> <p><code>style_inverse()</code>,
</p>
</li>
<li> <p><code>style_hidden()</code>,
</p>
</li>
<li> <p><code>style_strikethrough()</code> (not widely supported).
</p>
</li></ul>

<p>The style functions take any number of character vectors as arguments,
and they concatenate them using <code>paste0()</code> before adding the style.
</p>
<p>Styles can also be nested, and then inner style takes precedence, see
examples below.
</p>
<p>Sometimes you want to revert back to the default text color, in the
middle of colored text, or you want to have a normal font in the middle
of italic text. You can use the <code style="white-space: pre;">&#8288;style_no_*&#8288;</code> functions for this. Every
<code style="white-space: pre;">&#8288;style_*()&#8288;</code> function has a <code style="white-space: pre;">&#8288;style_no_*()&#8288;</code> pair, which defends its
argument from taking on the style. See examples below.
</p>


<h3>Value</h3>

<p>An ANSI string (class <code>cli_ansi_string</code>), that contains ANSI
sequences, if the current platform supports them. You can simply
use <code>cat()</code> to print them to the terminal.
</p>


<h3>See Also</h3>

<p>Other ANSI styling: 
<code><a href="cli.html#topic+combine_ansi_styles">combine_ansi_styles</a>()</code>,
<code><a href="cli.html#topic+make_ansi_style">make_ansi_style</a>()</code>,
<code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>col_blue("Hello ", "world!")
cat(col_blue("Hello ", "world!"))

cat("... to highlight the", col_red("search term"),
    "in a block of text\n")

## Style stack properly
cat(col_green(
 "I am a green line ",
 col_blue(style_underline(style_bold("with a blue substring"))),
 " that becomes green again!"
))

error &lt;- combine_ansi_styles("red", "bold")
warn &lt;- combine_ansi_styles("magenta", "underline")
note &lt;- col_cyan
cat(error("Error: subscript out of bounds!\n"))
cat(warn("Warning: shorter argument was recycled.\n"))
cat(note("Note: no such directory.\n"))

# style_no_* functions, note that the color is not removed
style_italic(col_green(paste0(
  "italic before, ",
  style_no_italic("normal here, "),
  "italic after"
)))

# avoiding  color for substring
style_italic(col_red(paste(
  "red before",
  col_none("not red between"),
  "red after"
)))
</code></pre>

<hr>
<h2 id='builtin_theme'>The built-in CLI theme</h2><span id='topic+builtin_theme'></span>

<h3>Description</h3>

<p>This theme is always active, and it is at the bottom of the theme
stack. See <a href="cli.html#topic+themes">themes</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>builtin_theme(dark = getOption("cli.theme_dark", "auto"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="builtin_theme_+3A_dark">dark</code></td>
<td>
<p>Whether to use a dark theme. The <code>cli.theme_dark</code> option
can be used to request a dark theme explicitly. If this is not set,
or set to <code>"auto"</code>, then cli tries to detect a dark theme, this
works in recent RStudio versions and in iTerm on macOS.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list, a CLI theme.
</p>


<h3>Showcase</h3>

<div class="sourceCode r"><pre>cli_h1("Heading 1")
cli_h2("Heading 2")
cli_h3("Heading 3")

cli_par()
cli_alert_danger("Danger alert")
cli_alert_warning("Warning alert")
cli_alert_info("Info alert")
cli_alert_success("Success alert")
cli_alert("Alert for starting a process or computation",
  class = "alert-start")
cli_end()

cli_text("Packages and versions: {.pkg cli} {.version 1.0.0}.")
cli_text("Time intervals: {.timestamp 3.4s}")

cli_text("{.emph Emphasis} and  {.strong strong emphasis}")

cli_text("This is a piece of code: {.code sum(x) / length(x)}")
cli_text("Function names: {.fn cli::simple_theme}")

cli_text("Files: {.file /usr/bin/env}")
cli_text("URLs: {.url https://r-project.org}")

cli_h2("Longer code chunk")
cli_par(class = "code R")
cli_verbatim(
  '# window functions are useful for grouped mutates',
  'mtcars %&gt;%',
  '  group_by(cyl) %&gt;%',
  '  mutate(rank = min_rank(desc(mpg)))')
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #2AA198;">──</span> <span style="font-weight: bold;">Heading 1</span> <span style="color: #2AA198;">─────────────────────────────────────────────────────────</span>          
#>                                                                                 
#> ── <span style="font-weight: bold;">Heading 2</span> ──                                                                 
#>                                                                                 
#> ── Heading 3                                                                    
#> <span style="color: #DC322F;">✖</span> Danger alert                                                                  
#> <span style="color: #B58900;">!</span> Warning alert                                                                 
#> <span style="color: #2AA198;">ℹ</span> Info alert                                                                    
#> <span style="color: #859900;">✔</span> Success alert                                                                 
#> → Alert for starting a process or computation                                   
#>                                                                                 
#> Packages and versions: <span style="color: #268BD2;">cli</span> 1.0.0.                                               
#> Time intervals: <span style="color: #b8b8b8;">[3.4s]</span>                                                          
#> <span style="font-style: italic;">Emphasis</span> and <span style="font-weight: bold;">strong emphasis</span>                                                    
#> This is a piece of code: `sum(x) / length(x)`                                   
#> Function names: `cli::simple_theme()`                                           
#> Files: <span style="color: #268BD2;">/usr/bin/env</span>                                                             
#> URLs: <span style="font-style: italic;color: #268BD2;">&lt;https://r-project.org&gt;</span>                                                   
#>                                                                                 
#> ── <span style="font-weight: bold;">Longer code chunk</span> ──                                                         
#>                                                                                 
#> <span style="font-style: italic;color: #a3a3a3;"># window functions are useful for grouped mutates</span>                               
#> mtcars <span style="color: #859900;">&#37;&gt;&#37;</span>                                                                      
#>   <span style="color: #2AA198;">group_by</span><span style="color: #B58900;">(</span>cyl<span style="color: #B58900;">)</span> <span style="color: #859900;">&#37;&gt;&#37;</span>                                                             
#>   <span style="color: #2AA198;">mutate</span><span style="color: #B58900;">(</span>rank = <span style="color: #2AA198;">min_rank</span><span style="color: #268BD2;">(</span><span style="color: #2AA198;">desc(</span>mpg<span style="color: #2AA198;">)</span><span style="color: #268BD2;">)</span><span style="color: #B58900;">)</span>                                            
</pre></div>



<h3>See Also</h3>

<p><a href="cli.html#topic+themes">themes</a>, <code><a href="cli.html#topic+simple_theme">simple_theme()</a></code>.
</p>

<hr>
<h2 id='cat_line'><code>cat()</code> helpers</h2><span id='topic+cat_line'></span><span id='topic+cat_bullet'></span><span id='topic+cat_boxx'></span><span id='topic+cat_rule'></span><span id='topic+cat_print'></span>

<h3>Description</h3>

<p>These helpers provide useful wrappers around <code><a href="base.html#topic+cat">cat()</a></code>: most importantly
they all set <code>sep = ""</code>, and <code>cat_line()</code> automatically adds a newline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat_line(..., col = NULL, background_col = NULL, file = stdout())

cat_bullet(
  ...,
  col = NULL,
  background_col = NULL,
  bullet = "bullet",
  bullet_col = NULL,
  file = stdout()
)

cat_boxx(..., file = stdout())

cat_rule(..., file = stdout())

cat_print(x, file = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat_line_+3A_...">...</code></td>
<td>
<p>For <code>cat_line()</code> and <code>cat_bullet()</code>, pasted together with
<code>collapse = "\n"</code>. For <code>cat_rule()</code> and <code>cat_boxx()</code> passed on to
<code><a href="cli.html#topic+rule">rule()</a></code> and <code><a href="cli.html#topic+boxx">boxx()</a></code> respectively.</p>
</td></tr>
<tr><td><code id="cat_line_+3A_col">col</code>, <code id="cat_line_+3A_background_col">background_col</code>, <code id="cat_line_+3A_bullet_col">bullet_col</code></td>
<td>
<p>Colors for text, background, and
bullets respectively.</p>
</td></tr>
<tr><td><code id="cat_line_+3A_file">file</code></td>
<td>
<p>Output destination. Defaults to standard output.</p>
</td></tr>
<tr><td><code id="cat_line_+3A_bullet">bullet</code></td>
<td>
<p>Name of bullet character. Indexes into <a href="grDevices.html#topic+symbol">symbol</a></p>
</td></tr>
<tr><td><code id="cat_line_+3A_x">x</code></td>
<td>
<p>An object to print.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cat_line("This is ", "a ", "line of text.", col = "red")
cat_bullet(letters[1:5])
cat_bullet(letters[1:5], bullet = "tick", bullet_col = "green")
cat_rule()
</code></pre>

<hr>
<h2 id='cli'>Compose multiple cli functions</h2><span id='topic+cli'></span>

<h3>Description</h3>

<p><code>cli()</code> will record all <code style="white-space: pre;">&#8288;cli_*&#8288;</code> calls in <code>expr</code>, and emit them together
in a single message. This is useful if you want to built a larger
piece of output from multiple <code style="white-space: pre;">&#8288;cli_*&#8288;</code> calls.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_+3A_expr">expr</code></td>
<td>
<p>Expression that contains <code style="white-space: pre;">&#8288;cli_*&#8288;</code> calls. Their output is
collected and sent as a single message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use this function to build a more complex piece of CLI that would not
make sense to show in pieces.
</p>
<div class="sourceCode r"><pre>cli({
  cli_h1("Title")
  cli_h2("Subtitle")
  cli_ul(c("this", "that", "end"))
})
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                                                                                 
#> <span style="color: #2AA198;">──</span> <span style="font-weight: bold;">Title</span> <span style="color: #2AA198;">─────────────────────────────────────────────────────────────</span>          
#>                                                                                 
#> ── <span style="font-weight: bold;">Subtitle</span> ──                                                                  
#>                                                                                 
#> • this                                                                          
#> • that                                                                          
#> • end                                                                           
</pre></div>



<h3>Value</h3>

<p>Nothing.
</p>

<hr>
<h2 id='cli_abort'>Signal an error, warning or message with a cli formatted
message</h2><span id='topic+cli_abort'></span><span id='topic+cli_warn'></span><span id='topic+cli_inform'></span>

<h3>Description</h3>

<p>These functions let you create error, warning or diagnostic
messages with cli formatting, including inline styling,
pluralization and glue substitutions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_abort(
  message,
  ...,
  call = .envir,
  .envir = parent.frame(),
  .frame = .envir
)

cli_warn(message, ..., .envir = parent.frame())

cli_inform(message, ..., .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_abort_+3A_message">message</code></td>
<td>
<p>It is formatted via a call to <code><a href="cli.html#topic+cli_bullets">cli_bullets()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_abort_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="rlang.html#topic+abort">rlang::abort()</a></code>, <code><a href="rlang.html#topic+abort">rlang::warn()</a></code> or
<code><a href="rlang.html#topic+abort">rlang::inform()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_abort_+3A_call">call</code></td>
<td>
<p>The execution environment of a currently running
function, e.g. <code>call = caller_env()</code>. The corresponding function
call is retrieved and mentioned in error messages as the source
of the error.
</p>
<p>You only need to supply <code>call</code> when throwing a condition from a
helper function which wouldn't be relevant to mention in the
message.
</p>
<p>Can also be <code>NULL</code> or a <a href="rlang.html#topic+topic-defuse">defused function call</a> to
respectively not display any call or hard-code a code to display.
</p>
<p>For more information about error calls, see <a href="rlang.html#topic+topic-error-call">Including function calls in error messages</a>.</p>
</td></tr>
<tr><td><code id="cli_abort_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
<tr><td><code id="cli_abort_+3A_.frame">.frame</code></td>
<td>
<p>The throwing context. Used as default for
<code>.trace_bottom</code>, and to determine the internal package to mention
in internal errors when <code>.internal</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>n &lt;- "boo"
cli_abort(c(
        "{.var n} must be a numeric vector",
  "x" = "You've supplied a {.cls {class(n)}} vector."
))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="font-weight: bold;color: #B58900;">Error</span><span style="font-weight: bold;">:</span>                                                                          
#> <span style="color: #B58900;">!</span> `n` must be a numeric vector                                                  
#> <span style="color: #DC322F;">✖</span> You've supplied a <span style="color: #268BD2;">&lt;character&gt;</span> vector.                                         
#> <span style="color: #002B36;">Run `rlang::last_error()` to see where the error occurred.</span>                      
</pre></div>

<div class="sourceCode r"><pre>len &lt;- 26
idx &lt;- 100
cli_abort(c(
        "Must index an existing element:",
  "i" = "There {?is/are} {len} element{?s}.",
  "x" = "You've tried to subset element {idx}."
))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="font-weight: bold;color: #B58900;">Error</span><span style="font-weight: bold;">:</span>                                                                          
#> <span style="color: #B58900;">!</span> Must index an existing element:                                               
#> <span style="color: #2AA198;">ℹ</span> There are 26 elements.                                                        
#> <span style="color: #DC322F;">✖</span> You've tried to subset element 100.                                           
#> <span style="color: #002B36;">Run `rlang::last_error()` to see where the error occurred.</span>                      
</pre></div>



<h3>See Also</h3>

<p>These functions support <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_alert'>CLI alerts</h2><span id='topic+cli_alert'></span><span id='topic+cli_alert_success'></span><span id='topic+cli_alert_danger'></span><span id='topic+cli_alert_warning'></span><span id='topic+cli_alert_info'></span>

<h3>Description</h3>

<p>Alerts are typically short status messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_alert(text, id = NULL, class = NULL, wrap = FALSE, .envir = parent.frame())

cli_alert_success(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)

cli_alert_danger(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)

cli_alert_warning(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)

cli_alert_info(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_alert_+3A_text">text</code></td>
<td>
<p>Text of the alert.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_id">id</code></td>
<td>
<p>Id of the alert element. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_class">class</code></td>
<td>
<p>Class of the alert element. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_wrap">wrap</code></td>
<td>
<p>Whether to auto-wrap the text of the alert.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Success</h4>

<div class="sourceCode r"><pre>nbld &lt;- 11
tbld &lt;- prettyunits::pretty_sec(5.6)
cli_alert_success("Built {.emph {nbld}} status report{?s} in {tbld}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">✔</span> Built <span style="font-style: italic;">11</span> status reports in 5.6s.                                              
</pre></div>




<h4>Info</h4>

<div class="sourceCode r"><pre>cfl &lt;- "~/.cache/files/latest.cache"
cli_alert_info("Updating cache file {.path {cfl}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #2AA198;">ℹ</span> Updating cache file <span style="color: #268BD2;">~/.cache/files/latest.cache</span>.                              
</pre></div>




<h4>Warning</h4>

<div class="sourceCode r"><pre>cfl &lt;- "~/.cache/files/latest.cache"
cli_alert_warning("Failed to update cache file {.path {cfl}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #B58900;">!</span> Failed to update cache file <span style="color: #268BD2;">~/.cache/files/latest.cache</span>.                      
</pre></div>




<h4>Danger</h4>

<div class="sourceCode r"><pre>cfl &lt;- "~/.config/report.yaml"
cli_alert_danger("Cannot validate config file at {.path {cfl}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #DC322F;">✖</span> Cannot validate config file at <span style="color: #268BD2;">~/.config/report.yaml</span>.                         
</pre></div>




<h4>Text wrapping</h4>

<p>Alerts are printed without wrapping, unless you set <code>wrap = TRUE</code>:
</p>
<div class="sourceCode r"><pre>cli_alert_info("Data columns: {.val {names(mtcars)}}.")
cli_alert_info("Data columns: {.val {names(mtcars)}}.", wrap = TRUE)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #2AA198;">ℹ</span> Data columns: <span style="color: #268BD2;">"mpg"</span>, <span style="color: #268BD2;">"cyl"</span>, <span style="color: #268BD2;">"disp"</span>, <span style="color: #268BD2;">"hp"</span>, <span style="color: #268BD2;">"drat"</span>, <span style="color: #268BD2;">"wt"</span>, <span style="color: #268BD2;">"qsec"</span>, <span style="color: #268BD2;">"vs"</span>, <span style="color: #268BD2;">"am"</span>, <span style="color: #268BD2;">"g</span>
#> <span style="color: #268BD2;">ear"</span>, and <span style="color: #268BD2;">"carb"</span>.                                                               
#> <span style="color: #2AA198;">ℹ</span> Data columns: <span style="color: #268BD2;">"mpg"</span>, <span style="color: #268BD2;">"cyl"</span>, <span style="color: #268BD2;">"disp"</span>, <span style="color: #268BD2;">"hp"</span>, <span style="color: #268BD2;">"drat"</span>, <span style="color: #268BD2;">"wt"</span>, <span style="color: #268BD2;">"qsec"</span>,               
#> <span style="color: #268BD2;">"vs"</span>, <span style="color: #268BD2;">"am"</span>, <span style="color: #268BD2;">"gear"</span>, and <span style="color: #268BD2;">"carb"</span>.                                                 
</pre></div>




<h3>See Also</h3>

<p>These functions supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_blockquote'>CLI block quote</h2><span id='topic+cli_blockquote'></span>

<h3>Description</h3>

<p>A section that is quoted from another source. It is typically indented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_blockquote(
  quote,
  citation = NULL,
  id = NULL,
  class = NULL,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_blockquote_+3A_quote">quote</code></td>
<td>
<p>Text of the quotation.</p>
</td></tr>
<tr><td><code id="cli_blockquote_+3A_citation">citation</code></td>
<td>
<p>Source of the quotation, typically a link or the name
of a person.</p>
</td></tr>
<tr><td><code id="cli_blockquote_+3A_id">id</code></td>
<td>
<p>Element id, a string. If <code>NULL</code>, then a new id is generated
and returned.</p>
</td></tr>
<tr><td><code id="cli_blockquote_+3A_class">class</code></td>
<td>
<p>Class name, sting. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_blockquote_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>evil &lt;- paste(
  "The real problem is that programmers have spent far too much time",
  "worrying about efficiency in the wrong places and at the wrong",
  "times; premature optimization is the root of all evil (or at least",
  "most of it) in programming.")
cli_blockquote(evil, citation = "Donald Ervin Knuth")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                                                                                 
#>     <span style="font-style: italic;">“The real problem is that programmers have spent far</span>                        
#>     <span style="font-style: italic;">too much time worrying about efficiency in the wrong</span>                        
#>     <span style="font-style: italic;">places and at the wrong times; premature optimization</span>                       
#>     <span style="font-style: italic;">is the root of all evil (or at least most of it) in</span>                         
#>     <span style="font-style: italic;">programming.”</span>                                                               
#>     <span style="font-weight: bold;font-style: italic;">— Donald Ervin Knuth</span>                                                        
#>                                                                                 
</pre></div>



<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_bullets'>List of items</h2><span id='topic+cli_bullets'></span>

<h3>Description</h3>

<p>It is often useful to print out a list of items, tasks a function or
package performs, or a list of notes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_bullets(text, id = NULL, class = NULL, .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_bullets_+3A_text">text</code></td>
<td>
<p>Character vector of items. See details below on how names
are interpreted.</p>
</td></tr>
<tr><td><code id="cli_bullets_+3A_id">id</code></td>
<td>
<p>Optional id of the <code>div.bullets</code> element, can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_bullets_+3A_class">class</code></td>
<td>
<p>Optional additional class(es) for the <code>div.bullets</code> element.</p>
</td></tr>
<tr><td><code id="cli_bullets_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Items may be formatted differently, e.g. they can have a prefix symbol.
Formatting is specified by the names of <code>text</code>, and can be themed.
cli creates a <code>div</code> element of class <code>bullets</code> for the whole bullet list.
Each item is another <code>div</code> element of class <code style="white-space: pre;">&#8288;bullet-&lt;name&gt;&#8288;</code>, where
<code style="white-space: pre;">&#8288;&lt;name&gt;&#8288;</code> is the name of the entry in <code>text</code>. Entries in <code>text</code> without
a name create a <code>div</code> element of class <code>bullet-empty</code>, and if the
name is a single space character, the class is <code>bullet-space</code>.
</p>
<p>The built-in theme defines the following item types:
</p>

<ul>
<li><p> No name: Item without a prefix.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288; &#8288;</code>: Indented item.
</p>
</li>
<li> <p><code>*</code>: Item with a bullet.
</p>
</li>
<li> <p><code>&gt;</code>: Item with an arrow or pointer.
</p>
</li>
<li> <p><code>v</code>: Item with a green &quot;tick&quot; symbol, like <code><a href="cli.html#topic+cli_alert_success">cli_alert_success()</a></code>.
</p>
</li>
<li> <p><code>x</code>: Item with a ref cross, like <code><a href="cli.html#topic+cli_alert_danger">cli_alert_danger()</a></code>.
</p>
</li>
<li> <p><code>!</code>: Item with a yellow exclamation mark, like <code><a href="cli.html#topic+cli_alert_warning">cli_alert_warning()</a></code>.
</p>
</li>
<li> <p><code>i</code>: Info item, like <code><a href="cli.html#topic+cli_alert_info">cli_alert_info()</a></code>.
</p>
</li></ul>

<p>You can define new item type by simply defining theming for the
corresponding <code style="white-space: pre;">&#8288;bullet-&lt;name&gt;&#8288;</code> classes.
</p>
<div class="sourceCode r"><pre>cli_bullets(c(
        "noindent",
  " " = "indent",
  "*" = "bullet",
  "&gt;" = "arrow",
  "v" = "success",
  "x" = "danger",
  "!" = "warning",
  "i" = "info"
))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> noindent                                                                        
#>   indent                                                                        
#> <span style="color: #2AA198;">•</span> bullet                                                                        
#> → arrow                                                                         
#> <span style="color: #859900;">✔</span> success                                                                       
#> <span style="color: #DC322F;">✖</span> danger                                                                        
#> <span style="color: #B58900;">!</span> warning                                                                       
#> <span style="color: #2AA198;">ℹ</span> info                                                                          
</pre></div>



<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_bullets_raw'>List of verbatim items</h2><span id='topic+cli_bullets_raw'></span><span id='topic+format_bullets_raw'></span>

<h3>Description</h3>

<p><code>cli_format_bullets_raw()</code> is similar to <code><a href="cli.html#topic+cli_bullets">cli_bullets()</a></code>, but it does
not perform any inline styling or glue substitutions in the input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_bullets_raw(text, id = NULL, class = NULL)

format_bullets_raw(text, id = NULL, class = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_bullets_raw_+3A_text">text</code></td>
<td>
<p>Character vector of items. See details below on how names
are interpreted.</p>
</td></tr>
<tr><td><code id="cli_bullets_raw_+3A_id">id</code></td>
<td>
<p>Optional id of the <code>div.bullets</code> element, can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_bullets_raw_+3A_class">class</code></td>
<td>
<p>Optional additional class(es) for the <code>div.bullets</code> element.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>format_bullets_raw()</code> returns the output instead of printing it.
</p>


<h3>See Also</h3>

<p>These functions support <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>See <code><a href="cli.html#topic+cli_bullets">cli_bullets()</a></code> for examples.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_code'>A block of code</h2><span id='topic+cli_code'></span>

<h3>Description</h3>

<p>A helper function that creates a <code>div</code> with class <code>code</code> and then calls
<code>cli_verbatim()</code> to output code lines. The builtin theme formats these
containers specially. In particular, it adds syntax highlighting to
valid R code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_code(
  lines = NULL,
  ...,
  language = "R",
  .auto_close = TRUE,
  .envir = environment()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_code_+3A_lines">lines</code></td>
<td>
<p>Character vector, each line will be a line of code, and
newline characters also create new lines. Note that <em>no</em> glue
substitution is performed on the code.</p>
</td></tr>
<tr><td><code id="cli_code_+3A_...">...</code></td>
<td>
<p>More character vectors, they are appended to <code>lines</code>.</p>
</td></tr>
<tr><td><code id="cli_code_+3A_language">language</code></td>
<td>
<p>Programming language. This is also added as a class,
in addition to <code>code</code>.</p>
</td></tr>
<tr><td><code id="cli_code_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Passed to <code>cli_div()</code> when creating the container of
the code. By default the code container is closed after emitting
<code>lines</code> and <code>...</code> via <code>cli_verbatim()</code>. You can keep that container
open with <code>.auto_close</code> and/or <code>.envir</code>, and then calling
<code>cli_verbatim()</code> to add (more) code. Note that the code will be
formatted and syntax highlighted separately for each <code>cli_verbatim()</code>
call.</p>
</td></tr>
<tr><td><code id="cli_code_+3A_.envir">.envir</code></td>
<td>
<p>Passed to <code>cli_div()</code> when creating the container of the
code.</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>myfun &lt;- function() {
  message("Just an example function")
  graphics::pairs(iris, col = 1:4)
}
cli_code(format(myfun))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #DC322F;">function</span> <span style="color: #B58900;">()</span>                                                                     
#> <span style="color: #B58900;">{</span>                                                                               
#>     <span style="color: #2AA198;">message</span><span style="color: #268BD2;">(</span><span style="color: #B58900;">"Just an example function"</span><span style="color: #268BD2;">)</span>                                         
#>     graphics::<span style="color: #2AA198;">pairs</span><span style="color: #268BD2;">(</span>iris, col = <span style="color: #268BD2;">1</span><span style="color: #859900;">:</span><span style="color: #268BD2;">4)</span>                                            
#> <span style="color: #B58900;">}</span>                                                                               
</pre></div>



<h3>Value</h3>

<p>The id of the container that contains the code.
</p>

<hr>
<h2 id='cli_debug_doc'>Debug cli internals</h2><span id='topic+cli_debug_doc'></span>

<h3>Description</h3>

<p>Return the current state of a cli app. It includes the currently
open tags, their ids, classes and their computed styles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_debug_doc(app = default_app() %||% start_app())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_debug_doc_+3A_app">app</code></td>
<td>
<p>The cli app to debug. Defaults to the current app.
if there is no app, then it creates one by calling <code><a href="cli.html#topic+start_app">start_app()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The returned data frame has a print method, and if you want to create
a plain data frame from it, index it with an empty bracket:
<code>cli_debug_doc()[]</code>.
</p>
<p>To see all currently active themes, use <code>app$themes</code>, e.g. for the
default app: <code>default_app()$themes</code>.
</p>


<h3>Value</h3>

<p>Data frame with columns: <code>tag</code>, <code>id</code>, <code>class</code> (space separated),
theme (id of the theme the element added), <code>styles</code> (computed styles
for the element).
</p>


<h3>See Also</h3>

<p><code><a href="cli.html#topic+cli_sitrep">cli_sitrep()</a></code>. To debug containers, you can set the
<code>CLI-DEBUG_BAD_END</code> environment variable to <code>true</code>, and then cli will
warn when it cannot find the specified container to close (or any
contained at all).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cli_debug_doc()

olid &lt;- cli_ol()
cli_li()
cli_debug_doc()
cli_debug_doc()[]

cli_end(olid)
cli_debug_doc()

## End(Not run)
</code></pre>

<hr>
<h2 id='cli_div'>Generic CLI container</h2><span id='topic+cli_div'></span>

<h3>Description</h3>

<p>See <a href="cli.html#topic+containers">containers</a>. A <code>cli_div</code> container is special, because it may
add new themes, that are valid within the container.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_div(
  id = NULL,
  class = NULL,
  theme = NULL,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_div_+3A_id">id</code></td>
<td>
<p>Element id, a string. If <code>NULL</code>, then a new id is generated
and returned.</p>
</td></tr>
<tr><td><code id="cli_div_+3A_class">class</code></td>
<td>
<p>Class name, sting. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_div_+3A_theme">theme</code></td>
<td>
<p>A custom theme for the container. See <a href="cli.html#topic+themes">themes</a>.</p>
</td></tr>
<tr><td><code id="cli_div_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_div_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Custom themes</h4>

<div class="sourceCode r"><pre>d &lt;- cli_div(theme = list(h1 = list(color = "cyan",
                                    "font-weight" = "bold")))
cli_h1("Custom title")
cli_end(d)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                                                                                 
#> <span style="font-weight: bold;color: #2AA198;">Custom title</span>                                                                    
</pre></div>




<h4>Auto-closing</h4>

<p>By default a <code>cli_div()</code> is closed automatically when the calling
frame exits.
</p>
<div class="sourceCode r"><pre>div &lt;- function() {
  cli_div(class = "tmp", theme = list(.tmp = list(color = "yellow")))
  cli_text("This is yellow")
}
div()
cli_text("This is not yellow any more")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #B58900;">This is yellow</span>                                                                  
#> This is not yellow any more                                                     
</pre></div>




<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>

<hr>
<h2 id='cli_dl'>Definition list</h2><span id='topic+cli_dl'></span>

<h3>Description</h3>

<p>A definition list is a container, see <a href="cli.html#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_dl(
  items = NULL,
  labels = names(items),
  id = NULL,
  class = NULL,
  .close = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_dl_+3A_items">items</code></td>
<td>
<p>Named character vector, or <code>NULL</code>. If not <code>NULL</code>, they
are used as list items.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_labels">labels</code></td>
<td>
<p>Item labels. Defaults the names in <code>items</code>.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_id">id</code></td>
<td>
<p>Id of the list container. Can be used for closing it with
<code><a href="cli.html#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
returned invisibly.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_class">class</code></td>
<td>
<p>Class of the list container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_.close">.close</code></td>
<td>
<p>Whether to close the list container if the <code>items</code> were
specified. If <code>FALSE</code> then new items can be added to the list.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>All items at once</h4>

<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_dl(c(foo = "one", bar = "two", baz = "three"))
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> foo: one                                                                        
#> bar: two                                                                        
#> baz: three                                                                      
</pre></div>




<h4>Items one by one</h4>

<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_dl()
  cli_li(c(foo = "{.emph one}"))
  cli_li(c(bar = "two"))
  cli_li(c(baz = "three"))
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> foo: <span style="font-style: italic;">one</span>                                                                        
#> bar: two                                                                        
#> baz: three                                                                      
</pre></div>




<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_end'>Close a CLI container</h2><span id='topic+cli_end'></span>

<h3>Description</h3>

<p>Containers aut0-close by default, but sometimes you need to explicitly
close them. Closing a container also closes all of its nested
containers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_end(id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_end_+3A_id">id</code></td>
<td>
<p>Id of the container to close. If missing, the current
container is closed, if any.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Explicit closing</h4>

<div class="sourceCode r"><pre>cnt &lt;- cli_par()
cli_text("First paragraph.")
cli_end(cnt)
cnt &lt;- cli_par()
cli_text("Second paragraph.")
cli_end(cnt)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> First paragraph.                                                                
#>                                                                                 
#> Second paragraph.                                                               
#>                                                                                 
</pre></div>




<h4>Closing a stack of containers</h4>

<div class="sourceCode r"><pre>list &lt;- cli_ul()
cli_li("Item one:")
cli_li("Item two:")
cli_par()
cli_text("Still item two.")
cli_end(list)
cli_text("Not in the list any more")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> • Item one:                                                                     
#> • Item two:                                                                     
#> Still item two.                                                                 
#>                                                                                 
#> Not in the list any more                                                        
</pre></div>




<h4>Omitting <code>id</code></h4>

<p>If <code>id</code> is omitted, the container that was opened last will be closed.
</p>
<div class="sourceCode r"><pre>cli_par()
cli_text("First paragraph")
cli_end()
cli_par()
cli_text("Second paragraph")
cli_end()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> First paragraph                                                                 
#>                                                                                 
#> Second paragraph                                                                
#>                                                                                 
</pre></div>




<h4>Debugging containers</h4>

<p>You can use the internal <code>cli:::cli_debug_doc()</code> function to see the
currently open containers.
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_div(id = "mydiv")
  cli_par(class = "myclass")
  cli:::cli_debug_doc()
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> &lt;cli document&gt;                                                                  
#> &lt;body id="body"&gt;                                                                
#> &lt;div id="mydiv"&gt; +theme                                                         
#> &lt;par id="cli-82040-64" class="myclass"&gt;                                         
</pre></div>



<hr>
<h2 id='cli_fmt'>Capture the output of cli functions instead of printing it</h2><span id='topic+cli_fmt'></span>

<h3>Description</h3>

<p>Capture the output of cli functions instead of printing it
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_fmt(expr, collapse = FALSE, strip_newline = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_fmt_+3A_expr">expr</code></td>
<td>
<p>Expression to evaluate, containing <code style="white-space: pre;">&#8288;cli_*()&#8288;</code> calls,
typically.</p>
</td></tr>
<tr><td><code id="cli_fmt_+3A_collapse">collapse</code></td>
<td>
<p>Whether to collapse the output into a single character
scalar, or return a character vector with one element for each line.</p>
</td></tr>
<tr><td><code id="cli_fmt_+3A_strip_newline">strip_newline</code></td>
<td>
<p>Whether to strip the trailing newline.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cli_fmt({
  cli_alert_info("Loading data file")
  cli_alert_success("Loaded data file")
})
</code></pre>

<hr>
<h2 id='cli_format'>Format a value for printing</h2><span id='topic+cli_format'></span><span id='topic+cli_format.default'></span><span id='topic+cli_format.character'></span><span id='topic+cli_format.numeric'></span>

<h3>Description</h3>

<p>This function can be used directly, or via the <code style="white-space: pre;">&#8288;{.val ...}&#8288;</code> inline
style. <code style="white-space: pre;">&#8288;{.val {expr}}&#8288;</code> calls <code>cli_format()</code> automatically on the value
of <code>expr</code>, before styling and collapsing it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_format(x, style = NULL, ...)

## Default S3 method:
cli_format(x, style = NULL, ...)

## S3 method for class 'character'
cli_format(x, style = NULL, ...)

## S3 method for class 'numeric'
cli_format(x, style = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_format_+3A_x">x</code></td>
<td>
<p>The object to format.</p>
</td></tr>
<tr><td><code id="cli_format_+3A_style">style</code></td>
<td>
<p>List of formatting options, see the individual methods
for the style options they support.</p>
</td></tr>
<tr><td><code id="cli_format_+3A_...">...</code></td>
<td>
<p>Additional arguments for methods.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Default style</h4>

<div class="sourceCode r"><pre>months &lt;- month.name[1:3]
cli_text("{.val {months}}")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #268BD2;">"January"</span>, <span style="color: #268BD2;">"February"</span>, and <span style="color: #268BD2;">"March"</span>                                              
</pre></div>

<div class="sourceCode r"><pre>nums &lt;- 1:5 / 7
cli_text("{.val {nums}}")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #268BD2;">0.142857142857143</span>, <span style="color: #268BD2;">0.285714285714286</span>, <span style="color: #268BD2;">0.428571428571429</span>,                        
#> <span style="color: #268BD2;">0.571428571428571</span>, and <span style="color: #268BD2;">0.714285714285714</span>                                        
</pre></div>




<h4>Styling with themes</h4>

<div class="sourceCode r"><pre>nums &lt;- 1:5 / 7
divid &lt;- cli_div(theme = list(.val = list(digits = 3)))
cli_text("{.val {nums}}")
cli_end(divid)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #268BD2;">0.143</span>, <span style="color: #268BD2;">0.286</span>, <span style="color: #268BD2;">0.429</span>, <span style="color: #268BD2;">0.571</span>, and <span style="color: #268BD2;">0.714</span>                                           
</pre></div>

<p>It is possible to define new S3 methods for <code>cli_format</code> and then
these will be used automatically for <code style="white-space: pre;">&#8288;{.val ...}&#8288;</code> expressions.
</p>
<div class="sourceCode r"><pre>cli_format.month &lt;- function(x, style = NULL, ...) {
  x &lt;- encodeString(substr(x, 1, 3), quote = "\"")
  NextMethod("cli_format")
}
registerS3method("cli_format", "month", cli_format.month)
months &lt;- structure(month.name[1:3], class = "month")
cli_text("{.val {months}}")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #268BD2;">"Jan"</span>, <span style="color: #268BD2;">"Feb"</span>, and <span style="color: #268BD2;">"Mar"</span>                                                         
</pre></div>




<h3>See Also</h3>

<p><code><a href="cli.html#topic+cli_vec">cli_vec()</a></code>
</p>

<hr>
<h2 id='cli_format_method'>Create a format method for an object using cli tools</h2><span id='topic+cli_format_method'></span>

<h3>Description</h3>

<p>This method can be typically used in <code>format()</code> S3 methods. Then the
<code>print()</code> method of the class can be easily defined in terms of such a
<code>format()</code> method. See examples below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_format_method(expr, theme = getOption("cli.theme"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_format_method_+3A_expr">expr</code></td>
<td>
<p>Expression that calls <code style="white-space: pre;">&#8288;cli_*&#8288;</code> methods, <code><a href="base.html#topic+cat">base::cat()</a></code> or
<code><a href="base.html#topic+print">base::print()</a></code> to format an object's printout.</p>
</td></tr>
<tr><td><code id="cli_format_method_+3A_theme">theme</code></td>
<td>
<p>Theme to use for the formatting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector, one element for each line of the printout.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Let's create format and print methods for a new S3 class that
# represents the an installed R package: `r_package`

# An `r_package` will contain the DESCRIPTION metadata of the package
# and also its installation path.
new_r_package &lt;- function(pkg) {
  tryCatch(
    desc &lt;- packageDescription(pkg),
    warning = function(e) stop("Cannot find R package `", pkg, "`")
  )
  file &lt;- dirname(attr(desc, "file"))
  if (basename(file) != pkg) file &lt;- dirname(file)
  structure(
    list(desc = unclass(desc), lib = dirname(file)),
    class = "r_package"
  )
}

format.r_package &lt;- function(x, ...) {
  cli_format_method({
    cli_h1("{.pkg {x$desc$Package}} {cli::symbol$line} {x$desc$Title}")
    cli_text("{x$desc$Description}")
    cli_ul(c(
      "Version: {x$desc$Version}",
      if (!is.null(x$desc$Maintainer)) "Maintainer: {x$desc$Maintainer}",
      "License: {x$desc$License}"
    ))
    if (!is.na(x$desc$URL)) cli_text("See more at {.url {x$desc$URL}}")
  })
}

# Now the print method is easy:
print.r_package &lt;- function(x, ...) {
  cat(format(x, ...), sep = "\n")
}

# Try it out
new_r_package("cli")

# The formatting of the output depends on the current theme:
opt &lt;- options(cli.theme = simple_theme())
print(new_r_package("cli"))
options(opt)  # &lt;- restore theme
</code></pre>

<hr>
<h2 id='cli_h1'>CLI headings</h2><span id='topic+cli_h1'></span><span id='topic+cli_h2'></span><span id='topic+cli_h3'></span>

<h3>Description</h3>

<p>cli has three levels of headings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_h1(text, id = NULL, class = NULL, .envir = parent.frame())

cli_h2(text, id = NULL, class = NULL, .envir = parent.frame())

cli_h3(text, id = NULL, class = NULL, .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_h1_+3A_text">text</code></td>
<td>
<p>Text of the heading. It can contain inline markup.</p>
</td></tr>
<tr><td><code id="cli_h1_+3A_id">id</code></td>
<td>
<p>Id of the heading element, string. It can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_h1_+3A_class">class</code></td>
<td>
<p>Class of the heading element, string. It can be used in
themes.</p>
</td></tr>
<tr><td><code id="cli_h1_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is how the headings look with the default builtin theme.
</p>
<div class="sourceCode r"><pre>cli_h1("Header {.emph 1}")
cli_h2("Header {.emph 2}")
cli_h3("Header {.emph 3}")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                                                                                 
#> <span style="color: #2AA198;">──</span> <span style="font-weight: bold;">Header </span><span style="font-weight: bold;font-style: italic;">1</span> <span style="color: #2AA198;">──────────────────────────────────────────────────────────</span>          
#>                                                                                 
#> ── <span style="font-weight: bold;">Header </span><span style="font-weight: bold;font-style: italic;">2</span> ──                                                                  
#>                                                                                 
#> ── Header <span style="font-style: italic;">3</span>                                                                     
</pre></div>



<h3>See Also</h3>

<p>These functions supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_li'>CLI list item(s)</h2><span id='topic+cli_li'></span>

<h3>Description</h3>

<p>A list item is a container, see <a href="cli.html#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_li(
  items = NULL,
  labels = names(items),
  id = NULL,
  class = NULL,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_li_+3A_items">items</code></td>
<td>
<p>Character vector of items, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="cli_li_+3A_labels">labels</code></td>
<td>
<p>For definition lists the item labels.</p>
</td></tr>
<tr><td><code id="cli_li_+3A_id">id</code></td>
<td>
<p>Id of the new container. Can be used for closing it with
<code><a href="cli.html#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
returned invisibly.</p>
</td></tr>
<tr><td><code id="cli_li_+3A_class">class</code></td>
<td>
<p>Class of the item container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_li_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_li_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Nested lists</h4>

<div class="sourceCode r"><pre>fun &lt;- function() {
  ul &lt;- cli_ul()
  cli_li("one:")
  cli_ol(letters[1:3])
  cli_li("two:")
  cli_li("three")
  cli_end(ul)
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> • one:                                                                          
#>   1. a                                                                          
#>   2. b                                                                          
#>   3. c                                                                          
#> • two:                                                                          
#> • three                                                                         
</pre></div>




<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_list_themes'>List the currently active themes</h2><span id='topic+cli_list_themes'></span>

<h3>Description</h3>

<p>If there is no active app, then it calls <code><a href="cli.html#topic+start_app">start_app()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_list_themes()
</code></pre>


<h3>Value</h3>

<p>A list of data frames with the active themes.
Each data frame row is a style that applies to selected CLI tree nodes.
Each data frame has columns:
</p>

<ul>
<li> <p><code>selector</code>: The original CSS-like selector string. See <a href="cli.html#topic+themes">themes</a>.
</p>
</li>
<li> <p><code>parsed</code>: The parsed selector, as used by cli for matching to nodes.
</p>
</li>
<li> <p><code>style</code>: The original style.
</p>
</li>
<li> <p><code>cnt</code>: The id of the container the style is currently applied to, or
<code>NA</code> if the style is not used.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="cli.html#topic+themes">themes</a>
</p>

<hr>
<h2 id='cli_ol'>Ordered CLI list</h2><span id='topic+cli_ol'></span>

<h3>Description</h3>

<p>An ordered list is a container, see <a href="cli.html#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_ol(
  items = NULL,
  id = NULL,
  class = NULL,
  .close = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_ol_+3A_items">items</code></td>
<td>
<p>If not <code>NULL</code>, then a character vector. Each element of
the vector will be one list item, and the list container will be
closed by default (see the <code>.close</code> argument).</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_id">id</code></td>
<td>
<p>Id of the list container. Can be used for closing it with
<code><a href="cli.html#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
returned invisibly.</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_class">class</code></td>
<td>
<p>Class of the list container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_.close">.close</code></td>
<td>
<p>Whether to close the list container if the <code>items</code> were
specified. If <code>FALSE</code> then new items can be added to the list.</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Adding all items at once</h4>

<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_ol(c("one", "two", "three"))
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> 1. one                                                                          
#> 2. two                                                                          
#> 3. three                                                                        
</pre></div>




<h4>Adding items one by one</h4>

<div class="sourceCode r"><pre>## Adding items one by one
fun &lt;- function() {
  cli_ol()
  cli_li("{.emph one}")
  cli_li("{.emph two}")
  cli_li("{.emph three}")
  cli_end()
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> 1. <span style="font-style: italic;">one</span>                                                                          
#> 2. <span style="font-style: italic;">two</span>                                                                          
#> 3. <span style="font-style: italic;">three</span>                                                                        
</pre></div>




<h4>Nested lists</h4>

<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_div(theme = list(ol = list("margin-left" = 2)))
  cli_ul()
  cli_li("one")
  cli_ol(c("foo", "bar", "foobar"))
  cli_li("two")
  cli_end()
  cli_end()
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> • one                                                                           
#>     1. foo                                                                      
#>     2. bar                                                                      
#>     3. foobar                                                                   
#> • two                                                                           
</pre></div>




<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_output_connection'>The connection option that cli would use</h2><span id='topic+cli_output_connection'></span>

<h3>Description</h3>

<p>Note that this only refers to the current R process. If the output
is produced in another process, then it is not relevant.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_output_connection()
</code></pre>


<h3>Details</h3>

<p>In interactive sessions the standard output is chosen, otherwise the
standard error is used. This is to avoid painting output messages red
in the R GUIs.
</p>


<h3>Value</h3>

<p>Connection object.
</p>

<hr>
<h2 id='cli_par'>CLI paragraph</h2><span id='topic+cli_par'></span>

<h3>Description</h3>

<p>The builtin theme leaves an empty line between paragraphs.
See also <a href="cli.html#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_par(id = NULL, class = NULL, .auto_close = TRUE, .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_par_+3A_id">id</code></td>
<td>
<p>Element id, a string. If <code>NULL</code>, then a new id is generated
and returned.</p>
</td></tr>
<tr><td><code id="cli_par_+3A_class">class</code></td>
<td>
<p>Class name, sting. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_par_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_par_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>clifun &lt;- function() {
  cli_par()
  cli_text(cli:::lorem_ipsum())
}
clifun()
clifun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Sunt anim ullamco Lorem qui mollit anim est in deserunt adipisicing.            
#> Enim deserunt laborum ad qui qui. Anim esse non anim magna Lorem                
#> consequat dolore labore cupidatat magna et. Esse nulla eiusmod Lorem            
#> exercitation cupidatat velit enim exercitation excepteur non officia            
#> incididunt. Id laborum dolore commodo Lorem esse ea sint proident.              
#>                                                                                 
#> Fugiat mollit in Lorem velit qui exercitation ipsum consectetur ad              
#> nisi ut eu do ullamco. Mollit officia reprehenderit culpa Lorem est             
#> reprehenderit excepteur enim magna incididunt ea. Irure nisi ad                 
#> exercitation deserunt enim anim excepteur quis minim laboris veniam             
#> nulla pariatur. Enim irure aute nulla irure qui non. Minim velit                
#> proident sunt sint. Proident sit occaecat ex aute.                              
#>                                                                                 
</pre></div>



<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>

<hr>
<h2 id='cli_process_start'>Indicate the start and termination of some computation in the status bar
(superseded)</h2><span id='topic+cli_process_start'></span><span id='topic+cli_process_done'></span><span id='topic+cli_process_failed'></span>

<h3>Description</h3>

<p><strong>The <code style="white-space: pre;">&#8288;cli_process_*()&#8288;</code> functions are superseded by
the <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code> functions,
because they have a better default behavior.</strong>
</p>
<p>Typically you call <code>cli_process_start()</code> to start the process, and then
<code>cli_process_done()</code> when it is done. If an error happens before
<code>cli_process_done()</code> is called, then cli automatically shows the message
for unsuccessful termination.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_process_start(
  msg,
  msg_done = paste(msg, "... done"),
  msg_failed = paste(msg, "... failed"),
  on_exit = c("auto", "failed", "done"),
  msg_class = "alert-info",
  done_class = "alert-success",
  failed_class = "alert-danger",
  .auto_close = TRUE,
  .envir = parent.frame()
)

cli_process_done(
  id = NULL,
  msg_done = NULL,
  .envir = parent.frame(),
  done_class = "alert-success"
)

cli_process_failed(
  id = NULL,
  msg = NULL,
  msg_failed = NULL,
  .envir = parent.frame(),
  failed_class = "alert-danger"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_process_start_+3A_msg">msg</code></td>
<td>
<p>The message to show to indicate the start of the process or
computation. It will be collapsed into a single string, and the first
line is kept and cut to <code><a href="cli.html#topic+console_width">console_width()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_msg_done">msg_done</code></td>
<td>
<p>The message to use for successful termination.</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_msg_failed">msg_failed</code></td>
<td>
<p>The message to use for unsuccessful termination.</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_on_exit">on_exit</code></td>
<td>
<p>Whether this process should fail or terminate
successfully when the calling function (or the environment in <code>.envir</code>)
exits.</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_msg_class">msg_class</code></td>
<td>
<p>The style class to add to the message. Use an empty
string to suppress styling.</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_done_class">done_class</code></td>
<td>
<p>The style class to add to the successful termination
message. Use an empty string to suppress styling.a</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_failed_class">failed_class</code></td>
<td>
<p>The style class to add to the unsuccessful
termination message. Use an empty string to suppress styling.a</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to clear the status bar when the calling
function finishes (or <code>.envir</code> is removed from the stack, if
specified).</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-clear the status bar if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="cli_process_start_+3A_id">id</code></td>
<td>
<p>Id of the status bar container to clear. If <code>id</code> is not the id
of the current status bar (because it was overwritten by another
status bar container), then the status bar is not cleared. If <code>NULL</code>
(the default) then the status bar is always cleared.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you handle the errors of the process or computation, then you can do
the opposite: call <code>cli_process_start()</code> with <code>on_exit = "done"</code>, and
in the error handler call <code>cli_process_failed()</code>. cli will automatically
call <code>cli_process_done()</code> on successful termination, when the calling
function finishes.
</p>
<p>See examples below.
</p>


<h3>Value</h3>

<p>Id of the status bar container.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>The <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code>
functions, for a superior API.
</p>
<p>Other status bar: 
<code><a href="cli.html#topic+cli_status_clear">cli_status_clear</a>()</code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Failure by default
fun &lt;- function() {
  cli_process_start("Calculating")
  if (interactive()) Sys.sleep(1)
  if (runif(1) &lt; 0.5) stop("Failed")
  cli_process_done()
}
tryCatch(fun(), error = function(err) err)

## Success by default
fun2 &lt;- function() {
  cli_process_start("Calculating", on_exit = "done")
  tryCatch({
    if (interactive()) Sys.sleep(1)
    if (runif(1) &lt; 0.5) stop("Failed")
  }, error = function(err) cli_process_failed())
}
fun2()
</code></pre>

<hr>
<h2 id='cli_progress_along'>Add a progress bar to a mapping function or for loop</h2><span id='topic+cli_progress_along'></span>

<h3>Description</h3>

<p>Note that this function is currently experimental!
</p>
<p>Use <code>cli_progress_along()</code> in a mapping function or in a for loop, to add a
progress bar. It uses <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code> internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_along(
  x,
  name = NULL,
  total = length(x),
  ...,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_progress_along_+3A_x">x</code></td>
<td>
<p>Sequence to add the progress bar to.</p>
</td></tr>
<tr><td><code id="cli_progress_along_+3A_name">name</code></td>
<td>
<p>Name of the progress bar, a label, passed to
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_along_+3A_total">total</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_along_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_along_+3A_.envir">.envir</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4><code>for</code> loop</h4>

<p>A <code>for</code> loop with <code>cli_progress_along()</code> looks like this:
</p>
<div class="sourceCode r"><pre>for (i in cli_progress_along(seq)) {
  ...
}
</pre></div>
<p>A complete example:
</p>
<div class="sourceCode r"><pre>clifun &lt;- function() {
  for (i in cli_progress_along(1:100, "Downloading")) {
     Sys.sleep(4/100)
  }
}
clifun()
</pre></div>
<p><img src="../help/figures/progress-along-1.svg" alt="progress-along-1.svg" />
</p>



<h4><code>lapply()</code> and other mapping functions</h4>

<p>They will look like this:
</p>
<div class="sourceCode r"><pre>lapply(cli_progress_along(X), function(i) ...)
</pre></div>
<p>A complete example:
</p>
<div class="sourceCode r"><pre>res &lt;- lapply(cli_progress_along(1:100, "Downloading"), function(i) {
  Sys.sleep(4/100)
})
</pre></div>
<p><img src="../help/figures/progress-along-2.svg" alt="progress-along-2.svg" />
</p>



<h4>Custom format string</h4>

<div class="sourceCode r"><pre>clifun &lt;- function() {
  for (i in cli_progress_along(1:100,
      format = "Downloading data file {cli::pb_current}")) {
     Sys.sleep(4/100)
  }
}
clifun()
</pre></div>
<p><img src="../help/figures/progress-along-3.svg" alt="progress-along-3.svg" />
</p>



<h4>Breaking out of loops</h4>

<p>Note that if you use <code>break</code> in the <code>for</code> loop, you probably want to
terminate the progress bar explicitly when breaking out of the loop,
or right after the loop:
</p>
<div class="sourceCode r"><pre>for (i in cli_progress_along(seq)) {
  ...
  if (cond) cli_progress_done() &amp;&amp; break
  ...
}
</pre></div>



<h3>Value</h3>

<p>An index vector from 1 to <code>length(x)</code> that triggers progress
updates as you iterate over it.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p><code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code> and the traditional progress bar API.
</p>
<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_progress_bar'>cli progress bars</h2><span id='topic+cli_progress_bar'></span><span id='topic+__cli_update_due'></span><span id='topic+cli_tick_reset'></span><span id='topic+ccli_tick_reset'></span><span id='topic+ticking'></span><span id='topic+cli_progress_update'></span><span id='topic+cli_progress_done'></span>

<h3>Description</h3>

<p>This is the reference manual of the three functions that create,
update and terminate progress bars. For a tutorial see the
<a href="https://cli.r-lib.org/articles/progress.html">cli progress bars</a>.
</p>
<p><code>cli_progress_bar()</code> creates a new progress bar.
</p>
<p><code>cli_progress_update()</code> updates the state of a progress bar, and
potentially the display as well.
</p>
<p><code>cli_progress_done()</code> terminates a progress bar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_bar(
  name = NULL,
  status = NULL,
  type = c("iterator", "tasks", "download", "custom"),
  total = NA,
  format = NULL,
  format_done = NULL,
  format_failed = NULL,
  clear = getOption("cli.progress_clear", TRUE),
  current = TRUE,
  auto_terminate = type != "download",
  extra = NULL,
  .auto_close = TRUE,
  .envir = parent.frame()
)

cli_progress_update(
  inc = NULL,
  set = NULL,
  total = NULL,
  status = NULL,
  extra = NULL,
  id = NULL,
  force = FALSE,
  .envir = parent.frame()
)

cli_progress_done(id = NULL, .envir = parent.frame(), result = "done")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_progress_bar_+3A_name">name</code></td>
<td>
<p>This is typically used as a label, and should be short,
at most 20 characters.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_status">status</code></td>
<td>
<p>New status string of the progress bar, if not <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_type">type</code></td>
<td>
<p>Type of the progress bar. It is used to select a default
display if <code>format</code> is not specified. Currently supported types:
</p>

<ul>
<li> <p><code>iterator</code>: e.g. a for loop or a mapping function,
</p>
</li>
<li> <p><code>tasks</code>: a (typically small) number of tasks,
</p>
</li>
<li> <p><code>download</code>: download of one file,
</p>
</li>
<li> <p><code>custom</code>: custom type, <code>format</code> must not be <code>NULL</code> for this type.
</p>
</li></ul>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_total">total</code></td>
<td>
<p>Total number of progress units, or <code>NA</code> if it is unknown.
<code>cli_progress_update()</code> can update the total number of units. This is
handy if you don't know the size of a download at the beginning, and
also in some other cases. If <code>format</code> is set to <code>NULL</code>, <code>format</code> (plus
<code>format_done</code> and <code>format_failed</code>) will be updated when you change
<code>total</code> from <code>NA</code> to a number. I.e. default format strings will be
updated, custom ones won't be.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_format">format</code></td>
<td>
<p>Format string. It has to be specified for custom progress
bars, otherwise it is optional, and a default display is selected
based on the progress bat type and whether the number of total units
is known. Format strings may contain glue substitution, the support
pluralization and cli styling. See <a href="cli.html#topic+progress-variables">progress-variables</a> for special
variables that you can use in the custom format.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_format_done">format_done</code></td>
<td>
<p>Format string for successful termination. By default
the same as <code>format</code>.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_format_failed">format_failed</code></td>
<td>
<p>Format string for unsuccessful termination. By
default the same as <code>format</code>.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_clear">clear</code></td>
<td>
<p>Whether to remove the progress bar from the screen after
it has terminated. Defaults to the <code>cli.progress_clear</code> option, or
<code>TRUE</code> if unset.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_current">current</code></td>
<td>
<p>Whether to use this progress bar as the current progress
bar of the calling function. See more at 'The current progress bar'
below.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_auto_terminate">auto_terminate</code></td>
<td>
<p>Whether to terminate the progress bar if the
number of current units reaches the number of total units.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_extra">extra</code></td>
<td>
<p>Extra data to add to the progress bar. This can be
used in custom format strings for example. It should be a named list.
<code>cli_progress_update()</code> can update the extra data. Often you can get
away with referring to local variables in the format string, and
then you don't need to use this argument. Explicitly including these
constants or variables in <code>extra</code> can result in cleaner code. In
the rare cases when you need to refer to the same progress bar from
multiple functions, and you can them to <code>extra</code>.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to terminate the progress bar when the
calling function (or the one with execution environment in <code>.envir</code>
exits. (Auto termination does not work for progress bars created
from the global environment, e.g. from a script.)</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_.envir">.envir</code></td>
<td>
<p>The environment to use for auto-termination and for glue
substitution. It is also used to find and set the current progress bar.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_inc">inc</code></td>
<td>
<p>Increment in progress units. This is ignored if <code>set</code> is
not <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_set">set</code></td>
<td>
<p>Set the current number of progress units to this value.
Ignored if <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_id">id</code></td>
<td>
<p>Progress bar to update or terminate. If <code>NULL</code>, then the
current progress bar of the calling function (or <code>.envir</code> if
specified) is updated or terminated.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_force">force</code></td>
<td>
<p>Whether to force a display update, even if no update is
due.</p>
</td></tr>
<tr><td><code id="cli_progress_bar_+3A_result">result</code></td>
<td>
<p>String to select successful or unsuccessful termination.
It is only used if the progress bar is not cleared from the screen.
It can be one of <code>"done"</code>, <code>"failed"</code>, <code>"clear"</code>, and <code>"auto"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Basic usage</h4>

<p><code>cli_progress_bar()</code> creates a progress bar, <code>cli_progress_update()</code>
updates an existing progress bar, and <code>cli_progress_done()</code> terminates
it.
</p>
<p>It is good practice to always set the <code>name</code> argument, to make the
progress bar more informative.
</p>
<div class="sourceCode r"><pre>clean &lt;- function() {
  cli_progress_bar("Cleaning data", total = 100)
  for (i in 1:100) {
    Sys.sleep(5/100)
    cli_progress_update()
  }
  cli_progress_done()
}
clean()
</pre></div>
<p><img src="../help/figures/progress-1.svg" alt="progress-1.svg" />
</p>



<h4>Progress bar types</h4>

<p>There are three builtin types of progress bars, and a custom type.
</p>
<div class="sourceCode r"><pre>tasks &lt;- function() {
  cli_progress_bar("Tasks", total = 3, type = "tasks")
  for (i in 1:3) {
    Sys.sleep(1)
    cli_progress_update()
  }
  cli_progress_done()
}
tasks()
</pre></div>
<p><img src="../help/figures/progress-tasks.svg" alt="progress-tasks.svg" />
</p>



<h4>Unknown <code>total</code></h4>

<p>If <code>total</code> is not known, then cli shows a different progress bar.
Note that you can also set <code>total</code> in <code>cli_progress_update()</code>, if it
not known when the progress bar is created, but you learn it later.
</p>
<div class="sourceCode r"><pre>nototal &lt;- function() {
  cli_progress_bar("Parameter tuning")
  for (i in 1:100) {
    Sys.sleep(3/100)
    cli_progress_update()
  }
  cli_progress_done()
}
nototal()
</pre></div>
<p><img src="../help/figures/progress-natotal.svg" alt="progress-natotal.svg" />
</p>



<h4>Clearing the progress bar</h4>

<p>By default cli removes terminated progress bars from the screen, if
the terminal supports this. If you want to change this, use the
<code>clear</code> argument of <code>cli_progress_bar()</code>, or the <code>cli.progress_clear</code>
global option (see <a href="cli.html#topic+cli-config">cli-config</a>) to change this.
</p>
<p>(In the cli documentation we usually set <code>cli.progress_clear</code> to <code>FALSE</code>,
so users can see how finished progress bars look.)
</p>
<p>In this example the first progress bar is cleared, the second is not.
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_progress_bar("Data cleaning", total = 100, clear = TRUE)
  for (i in 1:100) {
    Sys.sleep(3/100)
    cli_progress_update()
  }
  cli_progress_bar("Parameter tuning", total = 100, clear = FALSE)
  for (i in 1:100) {
    Sys.sleep(3/100)
    cli_progress_update()
  }
}
fun()
</pre></div>
<p><img src="../help/figures/progress-clear.svg" alt="progress-clear.svg" />
</p>



<h4>Initial delay</h4>

<p>Updating a progress bar on the screen is costly, so cli tries to avoid
it for quick loops. By default a progress bar is only shown after two
seconds, or after half of that if less than 50% of the iterations are
complete. You can change the two second default with the
<code>cli.progress_show_after</code> global option (see <a href="cli.html#topic+cli-config">cli-config</a>).
</p>
<p>(In the cli documentation we usually set <code>cli.progress_show_after</code> to
<code>0</code> (zero seconds), so progress bars are shown immediately.)
</p>
<p>In this example we only show the progress bar after one second, because
more than 50% of the iterations remain after one second.
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_alert("Starting now, at {Sys.time()}")
  cli_progress_bar(
    total = 100,
    format = "{cli::pb_bar} {pb_percent} @ {Sys.time()}"
  )
  for (i in 1:100) {
    Sys.sleep(4/100)
    cli_progress_update()
  }
}
options(cli.progress_show_after = 2)
fun()
</pre></div>
<p><img src="../help/figures/progress-after.svg" alt="progress-after.svg" />
</p>



<h4>The <em>current</em> progress bar</h4>

<p>By default cli sets the new progress bar as the <em>current</em> progress bar
of the calling function. The current progress bar is the default one
in cli progress bar operations. E.g. if no progress bar id is supplied
in <code>cli_progress_update()</code>, then the current progress bar is updated.
</p>
<p>Every function can only have a single <em>current</em> progress bar, and if a
new one is created, then the previous one (if any) is automatically
terminated. The current progress bar is also terminated when the function
that created it exits. Thanks to these rules, most often you don't need
to explicitly deal with progress bar ids, and you don't need to
explicitly call <code>cli_progress_done()</code>:
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_progress_bar("First step ", total = 100)
  for (i in 1:100) {
    Sys.sleep(2/100)
    cli_progress_update()
  }
  cli_progress_bar("Second step", total = 100)
  for (i in 1:100) {
    Sys.sleep(2/100)
    cli_progress_update()
  }
}
fun()
</pre></div>
<p><img src="../help/figures/progress-current.svg" alt="progress-current.svg" />
</p>



<h4>cli output while the progress bar is active</h4>

<p>cli allows emitting regular cli output (alerts, headers, lists, etc.)
while a progress bar is active. On terminals that support this, cli
will remove the progress bar temporarily, emit the output, and then
restores the progress bar.
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_alert_info("Before the progress bar")
  cli_progress_bar("Calculating", total = 100)
  for (i in 1:50) {
    Sys.sleep(4/100)
    cli_progress_update()
  }
  cli_alert_info("Already half way!")
  for (i in 1:50) {
    Sys.sleep(4/100)
    cli_progress_update()
  }
  cli_alert_info("All done")
}
fun()
</pre></div>
<p><img src="../help/figures/progress-output.svg" alt="progress-output.svg" />
</p>
<p>See also <code><a href="cli.html#topic+cli_progress_output">cli_progress_output()</a></code>, which sends text for the current
progress handler. E.g. in a Shiny app it will send the output to the
Shiny progress bar, as opposed to the <code>cli_alert()</code> etc. cli functions
which will print the text to the console.
</p>



<h4>Custom formats</h4>

<p>In addition to the builtin types, you can also specify a custom
format string. In this case <a href="cli.html#topic+progress-variables">progress variables</a>
are probably useful to avoid calculating some progress bar quantities
like the elapsed time, of the ETA manually. You can also use your own
variables in the calling function:
</p>
<div class="sourceCode r"><pre>fun &lt;- function(urls) {
  cli_progress_bar(
    format = paste0(
      "{pb_spin} Downloading {.path {basename(url)}} ",
      "[{pb_current}/{pb_total}]   ETA:{pb_eta}"
    ),
    format_done = paste0(
      "{col_green(symbol$tick)} Downloaded {pb_total} files ",
      "in {pb_elapsed}."
    ),,
    total = length(urls)
  )
  for (url in urls) {
    cli_progress_update()
    Sys.sleep(5/10)
  }
}
fun(paste0("https://acme.com/data-", 1:10, ".zip"))
</pre></div>
<p><img src="../help/figures/progress-format.svg" alt="progress-format.svg" />
</p>



<h3>Value</h3>

<p><code>cli_progress_bar()</code> returns the id of the new progress bar.
The id is a string constant.
</p>
<p><code>cli_progress_update()</code> returns the id of the progress bar,
invisibly.
</p>
<p><code>cli_progress_done()</code> returns <code>TRUE</code>, invisibly, always.
</p>


<h3>See Also</h3>

<p>These functions support <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p><code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code> for simpler
progress messages.
</p>
<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_progress_builtin_handlers'>cli progress handlers</h2><span id='topic+cli_progress_builtin_handlers'></span>

<h3>Description</h3>

<p>The progress handler(s) to use can be selected with global options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_builtin_handlers()
</code></pre>


<h3>Details</h3>

<p>There are three options that specify which handlers will be selected,
but most of the time you only need to use one of them. You can set these
options to a character vector, the names of the built-in cli handlers you
want to use:
</p>

<ul>
<li><p> If <code>cli.progress_handlers_only</code> is set, then these handlers are used,
without considering others and without checking if they are able to
handle a progress bar. This option is mainly intended for testing
purposes.
</p>
</li>
<li><p> The handlers named in <code>cli.progress_handlers</code> are checked if they are
able to handle the progress bar, and from the ones that are, the first
one is selected. This is usually the option that the end use would want
to set.
</p>
</li>
<li><p> The handlers named in <code>cli.progress_handlers_force</code> are always appended
to the ones selected via <code>cli.progress_handlers</code>. This option is useful
to add an additional handler, e.g. a logger that writes to a file.
</p>
</li></ul>



<h3>Value</h3>

<p><code>cli_progress_builtin_handlers()</code> returns the names of the
currently supported progress handlers.
</p>


<h3>The built-in progress handlers</h3>



<h4><code>cli</code></h4>

<p>Use cli's internal status bar, the last line of the screen, to show the
progress bar. This handler is always able to handle all progress bars.
</p>



<h4><code>logger</code></h4>

<p>Log progress updates to the screen, with one line for each update and with
time stamps. This handler is always able to handle all progress bars.
</p>



<h4><code>progressr</code></h4>

<p>Use the progressr package to create
progress bars. This handler is always able to handle all progress bars.
(The progressr package needs to be installed.)
</p>



<h4><code>rstudio</code></h4>

<p>Use <a href="https://posit.co/blog/rstudio-1-2-jobs/">RStudio's job panel</a>
to show the progress bars. This handler is available at the RStudio console,
in recent versions of RStudio.
</p>



<h4><code>say</code></h4>

<p>Use the macOS <code>say</code> command to announce progress events in speech (type
<code style="white-space: pre;">&#8288;man say&#8288;</code> on a terminal for more info). Set the <code>cli.progress_say_frequency</code>
option to set the minimum delay between <code>say</code> invocations, the default is
three seconds. This handler is available on macOS, if the <code>say</code> command is
on the path.
</p>
<p>The external command and its arguments can be configured with options:
</p>

<ul>
<li> <p><code>cli_progress_say_args</code>: command line arguments, e.g. you can use this
to select a voice on macOS,
</p>
</li>
<li> <p><code>cli_progress_say_command</code>: external command to run,
</p>
</li>
<li> <p><code>cli_progress_say_frequency</code>: wait at least this many seconds between
calling the external command.
</p>
</li></ul>




<h4><code>shiny</code></h4>

<p>Use <a href="https://shiny.rstudio.com/articles/progress.html">shiny's progress bars</a>.
This handler is available if a shiny app is running.
</p>



<h3>See Also</h3>

<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>

<hr>
<h2 id='cli_progress_demo'>cli progress bar demo</h2><span id='topic+cli_progress_demo'></span>

<h3>Description</h3>

<p>Useful for experimenting with format strings and for documentation.
It creates a progress bar, iterates it until it terminates and saves the
progress updates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_demo(
  name = NULL,
  status = NULL,
  type = c("iterator", "tasks", "download", "custom"),
  total = NA,
  .envir = parent.frame(),
  ...,
  at = if (is_interactive()) NULL else 50,
  show_after = 0,
  live = NULL,
  delay = 0,
  start = as.difftime(5, units = "secs")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_progress_demo_+3A_name">name</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_status">status</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_type">type</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_total">total</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_.envir">.envir</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_at">at</code></td>
<td>
<p>The number of progress units to show and capture the progress
bar at. If <code>NULL</code>, then a sequence of states is generated to show the
progress from beginning to end.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_show_after">show_after</code></td>
<td>
<p>Delay to show the progress bar. Overrides the
<code>cli.progress_show_after</code> option.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_live">live</code></td>
<td>
<p>Whether to show the progress bat on the screen, or just
return the recorded updates. Defaults to the value of the
<code>cli.progress_demo_live</code> options. If unset, then it is <code>TRUE</code> in
interactive sessions.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_delay">delay</code></td>
<td>
<p>Delay between progress bar updates.</p>
</td></tr>
<tr><td><code id="cli_progress_demo_+3A_start">start</code></td>
<td>
<p>Time to subtract from the start time, to simulate a
progress bar that takes longer to run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with class <code>cli_progress_demo</code>, which has a print and a
format method for pretty printing. The <code>lines</code> entry contains the
output lines, each corresponding to one update.
</p>

<hr>
<h2 id='cli_progress_message'>Simplified cli progress messages</h2><span id='topic+cli_progress_message'></span>

<h3>Description</h3>

<p>This is a simplified progress bar, a single (dynamic)
message, without progress units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_message(
  msg,
  current = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_progress_message_+3A_msg">msg</code></td>
<td>
<p>Message to show. It may contain glue substitution and cli
styling. It can be updated via <code><a href="cli.html#topic+cli_progress_update">cli_progress_update()</a></code>, as usual.</p>
</td></tr>
<tr><td><code id="cli_progress_message_+3A_current">current</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_message_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_message_+3A_.envir">.envir</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_message_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cli_progress_message()</code> always shows the message, even if no
update is due. When the progress message is terminated, it is removed
from the screen by default.
</p>
<p>Note that the message can be dynamic: if you update it with
<code><a href="cli.html#topic+cli_progress_update">cli_progress_update()</a></code>, then cli uses the current values in the string
substitutions.
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_progress_message("Task one is running...")
  Sys.sleep(2)

  cli_progress_message("Task two is running...")
  Sys.sleep(2)

  step &lt;- 1L
  cli_progress_message("Task three is underway: step {step}")
  for (step in 1:5) {
    Sys.sleep(0.5)
    cli_progress_update()
  }
}
fun()
</pre></div>
<p><img src="../help/figures/progress-message.svg" alt="progress-message.svg" />
</p>


<h3>Value</h3>

<p>The id of the new progress bar.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p><code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code> for the complete progress bar API.
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code> for a similar display that is styled by default.
</p>
<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_progress_num'>Progress bar utility functions.</h2><span id='topic+cli_progress_num'></span><span id='topic+cli_progress_cleanup'></span>

<h3>Description</h3>

<p>Progress bar utility functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_num()

cli_progress_cleanup()
</code></pre>


<h3>Details</h3>

<p><code>cli_progress_num()</code> returns the number of currently
active progress bars. (These do not currently include the progress
bars created in C/C++ code.)
</p>
<p><code>cli_progress_cleanup()</code> terminates all active progress bars.
(It currently ignores progress bars created in the C/C++ code.)
</p>


<h3>Value</h3>

<p><code>cli_progress_num()</code> returns an integer scalar.
</p>
<p>'cli_progress_cleanup() does not return anything.
</p>


<h3>See Also</h3>

<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>

<hr>
<h2 id='cli_progress_output'>Add text output to a progress bar</h2><span id='topic+cli_progress_output'></span>

<h3>Description</h3>

<p>The text is calculated via <code><a href="cli.html#topic+cli_text">cli_text()</a></code>, so all cli features can be
used here, including progress variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_output(text, id = NULL, .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_progress_output_+3A_text">text</code></td>
<td>
<p>Text to output. It is formatted via <code><a href="cli.html#topic+cli_text">cli_text()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_output_+3A_id">id</code></td>
<td>
<p>Progress bar id. The default is the current progress bar.</p>
</td></tr>
<tr><td><code id="cli_progress_output_+3A_.envir">.envir</code></td>
<td>
<p>Environment to use for glue interpolation of <code>text</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The text is passed to the progress handler(s), that may or may not be
able to print it.
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_alert_info("Before the progress bar")
  cli_progress_bar("Calculating", total = 100)
  for (i in 1:50) {
    Sys.sleep(4/100)
    cli_progress_update()
  }
  cli_progress_output("Already half way!")
  for (i in 1:50) {
    Sys.sleep(4/100)
    cli_progress_update()
  }
  cli_alert_info("All done")
}
fun()
</pre></div>
<p><img src="../help/figures/progress-output2.svg" alt="progress-output2.svg" />
</p>


<h3>Value</h3>

<p><code>TRUE</code>, always.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_progress_step'>Simplified cli progress messages, with styling</h2><span id='topic+cli_progress_step'></span>

<h3>Description</h3>

<p>This is a simplified progress bar, a single (dynamic)
message, without progress units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_step(
  msg,
  msg_done = msg,
  msg_failed = msg,
  spinner = FALSE,
  class = if (!spinner) ".alert-info",
  current = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_progress_step_+3A_msg">msg</code></td>
<td>
<p>Message to show. It may contain glue substitution and cli
styling. It can be updated via <code><a href="cli.html#topic+cli_progress_update">cli_progress_update()</a></code>, as usual.
It is style as a cli info alert (see <code><a href="cli.html#topic+cli_alert_info">cli_alert_info()</a></code>).</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_msg_done">msg_done</code></td>
<td>
<p>Message to show on successful termination. By default
this it is the same as <code>msg</code> and it is styled as a cli success alert
(see <code><a href="cli.html#topic+cli_alert_success">cli_alert_success()</a></code>).</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_msg_failed">msg_failed</code></td>
<td>
<p>Message to show on unsuccessful termination. By
default it is the same as <code>msg</code> and it is styled as a cli danger alert
(see <code><a href="cli.html#topic+cli_alert_danger">cli_alert_danger()</a></code>).</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_spinner">spinner</code></td>
<td>
<p>Whether to show a spinner at the beginning of the line.
To make the spinner spin, you'll need to call <code>cli_progress_update()</code>
regularly.</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_class">class</code></td>
<td>
<p>cli class to add to the message. By default there is no
class for steps with a spinner.</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_current">current</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_.envir">.envir</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
<tr><td><code id="cli_progress_step_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cli_progress_step()</code> always shows the progress message,
even if no update is due.
</p>


<h4>Basic use</h4>

<div class="sourceCode r"><pre>f &lt;- function() {
  cli_progress_step("Downloading data")
  Sys.sleep(2)
  cli_progress_step("Importing data")
  Sys.sleep(1)
  cli_progress_step("Cleaning data")
  Sys.sleep(2)
  cli_progress_step("Fitting model")
  Sys.sleep(3)
}
f()
</pre></div>
<p><img src="../help/figures/progress-step.svg" alt="progress-step.svg" />
</p>



<h4>Spinner</h4>

<p>You can add a spinner to some or all steps with <code>spinner = TRUE</code>,
but note that this will only work if you call <code><a href="cli.html#topic+cli_progress_update">cli_progress_update()</a></code>
regularly.
</p>
<div class="sourceCode r"><pre>f &lt;- function() {
  cli_progress_step("Downloading data", spinner = TRUE)
  for (i in 1:100) { Sys.sleep(2/100); cli_progress_update() }
  cli_progress_step("Importing data")
  Sys.sleep(1)
  cli_progress_step("Cleaning data")
  Sys.sleep(2)
  cli_progress_step("Fitting model", spinner = TRUE)
  for (i in 1:100) { Sys.sleep(3/100); cli_progress_update() }
}
f()
</pre></div>
<p><img src="../help/figures/progress-step-spin.svg" alt="progress-step-spin.svg" />
</p>



<h4>Dynamic messages</h4>

<p>You can make the step messages dynamic, using glue templates.
Since <code>cli_progress_step()</code> show that message immediately, we need
to initialize <code>msg</code> first.
</p>
<div class="sourceCode r"><pre>f &lt;- function() {
  msg &lt;- ""
  cli_progress_step("Downloading data{msg}", spinner = TRUE)
  for (i in 1:100) {
    Sys.sleep(2/100)
    msg &lt;- glue::glue(", got file {i}/100")
    cli_progress_update()
  }
  cli_progress_step("Importing data")
  Sys.sleep(1)
  cli_progress_step("Cleaning data")
  Sys.sleep(2)
  cli_progress_step("Fitting model", spinner = TRUE)
  for (i in 1:100) { Sys.sleep(3/100); cli_progress_update() }
}
f()
</pre></div>
<p><img src="../help/figures/progress-step-dynamic.svg" alt="progress-step-dynamic.svg" />
</p>



<h4>Termination messages</h4>

<p>You can specify a different message for successful and/or
unsuccessful termination:
</p>
<div class="sourceCode r"><pre>f &lt;- function() {
  size &lt;- 0L
  cli_progress_step(
    "Downloading data.",
    msg_done = "Downloaded {prettyunits::pretty_bytes(size)}.",
    spinner = TRUE
  )
  for (i in 1:100) {
    Sys.sleep(3/100)
    size &lt;- size + 8192
    cli_progress_update()
  }
}
f()
</pre></div>
<p><img src="../help/figures/progress-step-msg.svg" alt="progress-step-msg.svg" />
</p>



<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_progress_styles'>List of built-in cli progress styles</h2><span id='topic+cli_progress_styles'></span>

<h3>Description</h3>

<p>The following options are used to select a style:
</p>

<ul>
<li> <p><code>cli_progress_bar_style</code>
</p>
</li>
<li> <p><code>cli_progress_bar_style_ascii</code>
</p>
</li>
<li> <p><code>cli_progress_bar_style_unicode</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_styles()
</code></pre>


<h3>Details</h3>

<p>On Unicode terminals (if <code><a href="cli.html#topic+is_utf8_output">is_utf8_output()</a></code> is <code>TRUE</code>), the
<code>cli_progress_bar_style_unicode</code> and <code>cli_progress_bar_style</code>
options are used.
</p>
<p>On ASCII terminals (if <code><a href="cli.html#topic+is_utf8_output">is_utf8_output()</a></code> is <code>FALSE</code>), the
<code>cli_pgoress_bar_style_ascii</code> and <code>cli_progress_bar_style</code> options
are are used.
</p>
<div class="sourceCode r"><pre>for (style in names(cli_progress_styles())) {
  options(cli.progress_bar_style = style)
  label &lt;- ansi_align(paste0("Style '", style, "'"), 20)
  print(cli_progress_demo(label, live = FALSE, at = 66, total = 100))
}
options(cli.progress_var_style = NULL)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Style 'classic'      <span style="color: #859900;">#####################           </span>  66&#37; | ETA:  3s           
#> Style 'squares'      <span style="color: #859900;">■■■■■■■■■■■■■■■■■■■■■           </span>  66&#37; | ETA:  3s           
#> Style 'dot'          <span style="color: #002B36;">────────────────────</span><span style="color: #DC322F;">●</span><span style="color: #002B36;">──────────</span><span style="color: #859900;"> </span>  66&#37; | ETA:  3s           
#> Style 'fillsquares'  <span style="color: #859900;">■■■■■■■■■■■■■■■■■■■■■</span><span style="color: #002B36;">□□□□□□□□□□</span><span style="color: #859900;"> </span>  66&#37; | ETA:  3s           
#> Style 'bar'          <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; | ETA:  3s           
</pre></div>



<h3>Value</h3>

<p>A named list with sublists containing elements
<code>complete</code>, <code>incomplete</code> and potentially <code>current</code>.
</p>


<h3>See Also</h3>

<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+progress-variables">progress-variables</a></code>
</p>

<hr>
<h2 id='cli_rule'>CLI horizontal rule</h2><span id='topic+cli_rule'></span>

<h3>Description</h3>

<p>It can be used to separate parts of the output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_rule(
  left = "",
  center = "",
  right = "",
  id = NULL,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_rule_+3A_left">left</code></td>
<td>
<p>Label to show on the left. It interferes with the <code>center</code>
label, only at most one of them can be present.</p>
</td></tr>
<tr><td><code id="cli_rule_+3A_center">center</code></td>
<td>
<p>Label to show at the center. It interferes  with the
<code>left</code> and <code>right</code> labels.</p>
</td></tr>
<tr><td><code id="cli_rule_+3A_right">right</code></td>
<td>
<p>Label to show on the right. It interferes with the <code>center</code>
label, only at most one of them can be present.</p>
</td></tr>
<tr><td><code id="cli_rule_+3A_id">id</code></td>
<td>
<p>Element id, a string. If <code>NULL</code>, then a new id is generated
and returned.</p>
</td></tr>
<tr><td><code id="cli_rule_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Inline styling and interpolation</h4>

<div class="sourceCode r"><pre>pkg &lt;- "mypackage"
cli_rule(left = "{.pkg {pkg}} results")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ── <span style="color: #268BD2;">mypackage</span> results ─────────────────────────────────────────────────          
</pre></div>




<h4>Theming</h4>

<p>The line style of the rule can be changed via the the <code>line-type</code>
property. Possible values are:
</p>

<ul>
<li> <p><code>"single"</code>: (same as <code>1</code>), a single line,
</p>
</li>
<li> <p><code>"double"</code>: (same as <code>2</code>), a double line,
</p>
</li>
<li> <p><code>"bar1"</code>, <code>"bar2"</code>, <code>"bar3"</code>, etc., <code>"bar8"</code> uses varying height bars.
</p>
</li></ul>

<p>Colors and background colors can similarly changed via a theme.
</p>
<div class="sourceCode r"><pre>d &lt;- cli_div(theme = list(rule = list(
  color = "cyan",
  "line-type" = "double")))
cli_rule("Summary", right = "{.pkg mypackage}")
cli_end(d)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #2AA198;">══ Summary ══════════════════════════════════════════════ </span><span style="color: #268BD2;">mypackage</span><span style="color: #2AA198;"> ══</span>          
</pre></div>




<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_sitrep'>cli situation report</h2><span id='topic+cli_sitrep'></span>

<h3>Description</h3>

<p>Contains currently:
</p>

<ul>
<li> <p><code>cli_unicode_option</code>: whether the <code>cli.unicode</code> option is set and its
value. See <code><a href="cli.html#topic+is_utf8_output">is_utf8_output()</a></code>.
</p>
</li>
<li> <p><code>symbol_charset</code>: the selected character set for <a href="grDevices.html#topic+symbol">symbol</a>, UTF-8,
Windows, or ASCII.
</p>
</li>
<li> <p><code>console_utf8</code>: whether the console supports UTF-8. See
<code><a href="base.html#topic+l10n_info">base::l10n_info()</a></code>.
</p>
</li>
<li> <p><code>latex_active</code>: whether we are inside knitr, creating a LaTeX
document.
</p>
</li>
<li> <p><code>num_colors</code>: number of ANSI colors. See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>.
</p>
</li>
<li> <p><code>console_with</code>: detected console width.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>cli_sitrep()
</code></pre>


<h3>Value</h3>

<p>Named list with entries listed above. It has a <code>cli_sitrep</code>
class, with a <code>print()</code> and <code>format()</code> method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cli_sitrep()
</code></pre>

<hr>
<h2 id='cli_status'>Update the status bar (superseded)</h2><span id='topic+cli_status'></span>

<h3>Description</h3>

<p><strong>The <code style="white-space: pre;">&#8288;cli_status_*()&#8288;</code> functions are superseded by
the <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code> functions,
because they have a better default behavior.</strong>
</p>
<p>The status bar is the last line of the terminal. cli apps can use this
to show status information, progress bars, etc. The status bar is kept
intact by all semantic cli output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_status(
  msg,
  msg_done = paste(msg, "... done"),
  msg_failed = paste(msg, "... failed"),
  .keep = FALSE,
  .auto_close = TRUE,
  .envir = parent.frame(),
  .auto_result = c("clear", "done", "failed", "auto")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_status_+3A_msg">msg</code></td>
<td>
<p>The text to show, a character vector. It will be
collapsed into a single string, and the first line is kept and cut to
<code><a href="cli.html#topic+console_width">console_width()</a></code>. The message is often associated with the start of
a calculation.</p>
</td></tr>
<tr><td><code id="cli_status_+3A_msg_done">msg_done</code></td>
<td>
<p>The message to use when the message is cleared, when
the calculation finishes successfully. If <code>.auto_close</code> is <code>TRUE</code>
and <code>.auto_result</code> is <code>"done"</code>, then this is printed automatically
when the calling function (or <code>.envir</code>) finishes.</p>
</td></tr>
<tr><td><code id="cli_status_+3A_msg_failed">msg_failed</code></td>
<td>
<p>The message to use when the message is cleared, when
the calculation finishes unsuccessfully. If <code>.auto_close</code> is <code>TRUE</code>
and <code>.auto_result</code> is <code>"failed"</code>, then this is printed automatically
when the calling function (or <code>.envir</code>) finishes.</p>
</td></tr>
<tr><td><code id="cli_status_+3A_.keep">.keep</code></td>
<td>
<p>What to do when this status bar is cleared. If <code>TRUE</code> then
the content of this status bar is kept, as regular cli output (the
screen is scrolled up if needed). If <code>FALSE</code>, then this status bar
is deleted.</p>
</td></tr>
<tr><td><code id="cli_status_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to clear the status bar when the calling
function finishes (or <code>.envir</code> is removed from the stack, if
specified).</p>
</td></tr>
<tr><td><code id="cli_status_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-clear the status bar if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="cli_status_+3A_.auto_result">.auto_result</code></td>
<td>
<p>What to do when auto-closing the status bar.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code><a href="cli.html#topic+cli_status_clear">cli_status_clear()</a></code> to clear the status bar.
</p>
<p>Often status messages are associated with processes. E.g. the app starts
downloading a large file, so it sets the status bar accordingly. Once the
download is done (or has failed), the app typically updates the status bar
again. cli automates much of this, via the <code>msg_done</code>, <code>msg_failed</code>, and
<code>.auto_result</code> arguments. See examples below.
</p>


<h3>Value</h3>

<p>The id of the new status bar container element, invisibly.
</p>


<h3>See Also</h3>

<p>Status bars support <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>The <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code>
functions, for a superior API.
</p>
<p>Other status bar: 
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_status_clear">cli_status_clear</a>()</code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_status_clear'>Clear the status bar (superseded)</h2><span id='topic+cli_status_clear'></span>

<h3>Description</h3>

<p><strong>The <code style="white-space: pre;">&#8288;cli_status_*()&#8288;</code> functions are superseded by
the <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code> functions,
because they have a better default behavior.</strong>
</p>
<p>Clear the status bar
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_status_clear(
  id = NULL,
  result = c("clear", "done", "failed"),
  msg_done = NULL,
  msg_failed = NULL,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_status_clear_+3A_id">id</code></td>
<td>
<p>Id of the status bar container to clear. If <code>id</code> is not the id
of the current status bar (because it was overwritten by another
status bar container), then the status bar is not cleared. If <code>NULL</code>
(the default) then the status bar is always cleared.</p>
</td></tr>
<tr><td><code id="cli_status_clear_+3A_result">result</code></td>
<td>
<p>Whether to show a message for success or failure or just
clear the status bar.</p>
</td></tr>
<tr><td><code id="cli_status_clear_+3A_msg_done">msg_done</code></td>
<td>
<p>If not <code>NULL</code>, then the message to use for successful
process termination. This overrides the message given when the status
bar was created.</p>
</td></tr>
<tr><td><code id="cli_status_clear_+3A_msg_failed">msg_failed</code></td>
<td>
<p>If not <code>NULL</code>, then the message to use for failed
process termination. This overrides the message give when the status
bar was created.</p>
</td></tr>
<tr><td><code id="cli_status_clear_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-clear the status bar if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>The <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code>
functions, for a superior API.
</p>
<p>Other status bar: 
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>
</p>

<hr>
<h2 id='cli_status_update'>Update the status bar (superseded)</h2><span id='topic+cli_status_update'></span>

<h3>Description</h3>

<p><strong>The <code style="white-space: pre;">&#8288;cli_status_*()&#8288;</code> functions are superseded by
the <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code> functions,
because they have a better default behavior.</strong>
</p>
<p>Update the status bar
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_status_update(
  id = NULL,
  msg = NULL,
  msg_done = NULL,
  msg_failed = NULL,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_status_update_+3A_id">id</code></td>
<td>
<p>Id of the status bar to update. Defaults to the current
status bar container.</p>
</td></tr>
<tr><td><code id="cli_status_update_+3A_msg">msg</code></td>
<td>
<p>Text to update the status bar with. <code>NULL</code> if you don't want
to change it.</p>
</td></tr>
<tr><td><code id="cli_status_update_+3A_msg_done">msg_done</code></td>
<td>
<p>Updated &quot;done&quot; message. <code>NULL</code> if you don't want to
change it.</p>
</td></tr>
<tr><td><code id="cli_status_update_+3A_msg_failed">msg_failed</code></td>
<td>
<p>Updated &quot;failed&quot; message. <code>NULL</code> if you don't want to
change it.</p>
</td></tr>
<tr><td><code id="cli_status_update_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Id of the status bar container.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>The <code><a href="cli.html#topic+cli_progress_message">cli_progress_message()</a></code> and <code><a href="cli.html#topic+cli_progress_step">cli_progress_step()</a></code>
functions, for a superior API.
</p>
<p>Other status bar: 
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_status_clear">cli_status_clear</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_text'>CLI text</h2><span id='topic+cli_text'></span>

<h3>Description</h3>

<p>Write some text to the screen. This function is most appropriate for
longer paragraphs. See <code><a href="cli.html#topic+cli_alert">cli_alert()</a></code> for shorter status messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_text(..., .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_text_+3A_...">...</code></td>
<td>
<p>The text to show, in character vectors. They will be
concatenated into a single string. Newlines are <em>not</em> preserved.</p>
</td></tr>
<tr><td><code id="cli_text_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Text wrapping</h4>

<p>Text is wrapped to the console width, see <code><a href="cli.html#topic+console_width">console_width()</a></code>.
</p>
<div class="sourceCode r"><pre>cli_text(cli:::lorem_ipsum())
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Lorem ad ipsum veniam esse nisi deserunt duis. Qui incididunt elit              
#> elit mollit sint nulla consectetur aute commodo do elit laboris minim           
#> et. Laboris ipsum mollit voluptate et non do incididunt eiusmod. Anim           
#> consectetur mollit laborum occaecat eiusmod excepteur. Ullamco non              
#> tempor esse anim tempor magna non.                                              
</pre></div>




<h4>New lines</h4>

<p>A <code>cli_text()</code> call always appends a newline character to the end.
</p>
<div class="sourceCode r"><pre>cli_text("First line.")
cli_text("Second line.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> First line.                                                                     
#> Second line.                                                                    
</pre></div>




<h4>Styling</h4>

<p>You can use <a href="cli.html#topic+inline-markup">inline markup</a>, as usual.
</p>
<div class="sourceCode r"><pre>cli_text("The {.fn cli_text} function in the {.pkg cli} package.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> The `cli_text()` function in the <span style="color: #268BD2;">cli</span> package.                                   
</pre></div>




<h4>Interpolation</h4>

<p>String interpolation via glue works as usual. Interpolated vectors
are collapsed.
</p>
<div class="sourceCode r"><pre>pos &lt;- c(5, 14, 25, 26)
cli_text("We have {length(pos)} missing measurements: {pos}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> We have 4 missing measurements: 5, 14, 25, and 26.                              
</pre></div>




<h4>Styling and interpolation</h4>

<p>Use double braces to combine styling and string interpolation.
</p>
<div class="sourceCode r"><pre>fun &lt;- "cli-text"
pkg &lt;- "cli"
cli_text("The {.fn {fun}} function in the {.pkg {pkg}} package.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> The `cli-text()` function in the <span style="color: #268BD2;">cli</span> package.                                   
</pre></div>




<h4>Multiple arguments</h4>

<p>Arguments are concatenated.
</p>
<div class="sourceCode r"><pre>cli_text(c("This ", "will ", "all "), "be ", "one ", "sentence.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> This will all be one sentence.                                                  
</pre></div>




<h4>Containers</h4>

<p>You can use <code>cli_text()</code> within cli <a href="cli.html#topic+containers">containers</a>.
</p>
<div class="sourceCode r"><pre>ul &lt;- cli_ul()
cli_li("First item.")
cli_text("Still the {.emph first} item")
cli_li("Second item.")
cli_text("Still the {.emph second} item")
cli_end(ul)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> • First item.                                                                   
#> Still the <span style="font-style: italic;">first</span> item                                                            
#> • Second item.                                                                  
#> Still the <span style="font-style: italic;">second</span> item                                                           
</pre></div>




<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_ul'>Unordered CLI list</h2><span id='topic+cli_ul'></span>

<h3>Description</h3>

<p>An unordered list is a container, see <a href="cli.html#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_ul(
  items = NULL,
  id = NULL,
  class = NULL,
  .close = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_ul_+3A_items">items</code></td>
<td>
<p>If not <code>NULL</code>, then a character vector. Each element of
the vector will be one list item, and the list container will be
closed by default (see the <code>.close</code> argument).</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_id">id</code></td>
<td>
<p>Id of the list container. Can be used for closing it with
<code><a href="cli.html#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
returned invisibly.</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_class">class</code></td>
<td>
<p>Class of the list container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_.close">.close</code></td>
<td>
<p>Whether to close the list container if the <code>items</code> were
specified. If <code>FALSE</code> then new items can be added to the list.</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Adding all items at once</h4>

<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_ul(c("one", "two", "three"))
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> • one                                                                           
#> • two                                                                           
#> • three                                                                         
</pre></div>




<h4>Adding items one by one</h4>

<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_ul()
  cli_li("{.emph one}")
  cli_li("{.emph two}")
  cli_li("{.emph three}")
  cli_end()
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> • <span style="font-style: italic;">one</span>                                                                           
#> • <span style="font-style: italic;">two</span>                                                                           
#> • <span style="font-style: italic;">three</span>                                                                         
</pre></div>




<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='cli_vec'>Add custom cli style to a vector</h2><span id='topic+cli_vec'></span>

<h3>Description</h3>

<p>Add custom cli style to a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_vec(x, style = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_vec_+3A_x">x</code></td>
<td>
<p>Vector that will be collapsed by cli.</p>
</td></tr>
<tr><td><code id="cli_vec_+3A_style">style</code></td>
<td>
<p>Style to apply to the vector. It is used as a theme on
a <code>span</code> element that is created for the vector. You can set <code>vec-sep</code>
and <code>vec-last</code> to modify the separator and the last separator.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can use this function to change the default parameters of
collapsing the vector into a string, see an example below.
</p>
<p>The style is added as an attribute, so operations that remove
attributes will remove the style as well.
</p>


<h4>Custom collapsing separator</h4>

<div class="sourceCode r"><pre>v &lt;- cli_vec(
  c("foo", "bar", "foobar"),
  style = list("vec-sep" = " &amp; ", "vec-last" = " &amp; ")
)
cli_text("My list: {v}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> My list: foo &amp; bar &amp; foobar.                                                    
</pre></div>




<h4>Custom truncation</h4>

<div class="sourceCode r"><pre>x &lt;- cli_vec(names(mtcars), list("vec-trunc" = 3))
cli_text("Column names: {x}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Column names: mpg, cyl, disp, …, gear, and carb.                                
</pre></div>




<h3>See Also</h3>

<p><code><a href="cli.html#topic+cli_format">cli_format()</a></code>
</p>

<hr>
<h2 id='cli_verbatim'>CLI verbatim text</h2><span id='topic+cli_verbatim'></span>

<h3>Description</h3>

<p>It is not wrapped, but printed as is. Long lines will overflow.
No glue substitution is performed on verbatim text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_verbatim(..., .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_verbatim_+3A_...">...</code></td>
<td>
<p>The text to show, in character vectors. Each element is
printed on a new line.</p>
</td></tr>
<tr><td><code id="cli_verbatim_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Line breaks</h4>

<div class="sourceCode r"><pre>cli_verbatim("This has\nthree\nlines,")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> This has                                                                        
#> three                                                                           
#> lines,                                                                          
</pre></div>




<h4>Special characters</h4>

<p>No glue substitution happens here.
</p>
<div class="sourceCode r"><pre>cli_verbatim("No string {interpolation} or {.emph styling} here")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> No string {interpolation} or {.emph styling} here                               
</pre></div>




<h3>See Also</h3>

<p><code><a href="cli.html#topic+cli_code">cli_code()</a></code> for printing R or other source code.
</p>

<hr>
<h2 id='cli-config'>cli environment variables and options</h2><span id='topic+cli-config'></span>

<h3>Description</h3>

<p>cli environment variables and options
</p>


<h3>User facing configuration</h3>

<p>These are environment variables and options that uses may set, to modify
the behavior of cli.
</p>


<h4>User facing environment variables</h4>



<h5><code>R_CLI_HYPERLINK_MODE</code></h5>

<p>Set to <code>posix</code> to force generating POSIX compatible ANSI hyperlinks.
If not set, then RStudio compatible links are generated. This is a
temporary crutch until RStudio handles POSIX hyperlinks correctly, and
after that it will be removed.
</p>



<h5><code>NO_COLOR</code></h5>

<p>Set to a nonempty value to turn off ANSI colors.
See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>.
</p>



<h5><code>ESS_BACKGROUND_MODE</code></h5>

<p>Set this environment variable to <code>light</code> or <code>dark</code> to indicate dark mode
in Emacs. Once https://github.com/emacs-ess/ESS/pull/1178 is merged, ESS
will set this automatically.
</p>



<h5><code>R_CLI_DYNAMIC</code></h5>

<p>Set to <code>true</code>, <code>TRUE</code> or <code>True</code> to assume a dynamic terminal, that supports <code style="white-space: pre;">&#8288;\r&#8288;</code>.
Set to anything else to assume a non-dynamic terminal.
See <code><a href="cli.html#topic+is_dynamic_tty">is_dynamic_tty()</a></code>.
</p>



<h5><code>R_CLI_NUM_COLORS</code></h5>

<p>Set to a positive integer to assume a given number of colors.
See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>.
</p>



<h5><code>R_CLI_HYPERLINKS</code></h5>

<p>Set to <code>true</code>, <code>TRUE</code> or <code>True</code> to tell cli that the terminal supports
ANSI hyperlinks.
Set to anything else to assume no hyperlink support.
See <code><a href="cli.html#topic+style_hyperlink">style_hyperlink()</a></code>.
</p>




<h4>User facing options</h4>



<h5><code>cli.ansi</code></h5>

<p>Set to <code>true</code>, <code>TRUE</code> or <code>True</code> to assume a terminal that supports ANSI
control sequences.
Set to anything else to assume a non-ANSI terminal.
See <code><a href="cli.html#topic+is_ansi_tty">is_ansi_tty()</a></code>.
</p>



<h5><code>cli.condition_unicode_bullets</code></h5>

<p><code>TRUE</code> or <code>FALSE</code> to force turn on or off the Unicode symbols when printing
conditions. E.g. in <code>format_error()</code>, <code>format_warning()</code>, <code>format_message()</code> and
also in <code>cli_abort()</code>, <code>cli_warn()</code> and <code>cli_inform()</code>.
</p>



<h5><code>cli.condition_width</code></h5>

<p>Integer scalar (or <code>Inf</code>) to set the console width when cli is formatting
errors, warnings or messages in <code>format_error()</code>, <code>format_warning()</code> and
<code>format_message()</code>. When formatting conditions this option takes precedence
over <code>cli.width</code>.
</p>



<h5><code>cli.default_handler</code></h5>

<p>General handler function for all cli conditions.
See <a href="https://cli.r-lib.org/articles/semantic-cli.html#cli-messages-1">https://cli.r-lib.org/articles/semantic-cli.html#cli-messages-1</a>
</p>



<h5><code>cli.default_num_colors</code></h5>

<p>Default number of ANSI colors. This value is used if the number of colors
is not already set by
</p>

<ul>
<li><p> the <code>cli.num_colors</code> option,
</p>
</li>
<li><p> the <code>R_CLI_NUM_COLORS</code> environment variable,
</p>
</li>
<li><p> the <code>crayon.enabled</code> and <code>crayon.colors</code> options,
</p>
</li>
<li><p> the <code>NO_COLOR</code> environment variable,
</p>
</li>
<li><p> the <code>knitr.in.progress</code> option,
</p>
</li>
<li><p> a <code>sink()</code> call for the stream.
</p>
</li></ul>

<p>You can also use this option if color support is detected correctly, but
you want to adjust the number of colors. E.g.
</p>

<ul>
<li><p> if <code>crayon.enabled</code> is <code>TRUE</code>, but <code>crayon.colors</code> is not,
</p>
</li>
<li><p> in Emacs on Windows,
</p>
</li>
<li><p> in terminals.
</p>
</li></ul>

<p>See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>. See also the <code>cli.num_colors</code> option.
</p>



<h5><code>cli.dynamic</code></h5>

<p>Set to <code>TRUE</code> to assume a dynamic terminal, that supports <code style="white-space: pre;">&#8288;\r&#8288;</code>.
Set to anything else to assume a non-dynamic terminal.
See <code><a href="cli.html#topic+is_dynamic_tty">is_dynamic_tty()</a></code>.
</p>



<h5><code>cli.hide_cursor</code></h5>

<p>Whether the cli status bar should try to hide the cursor on terminals.
Set the <code>FALSE</code> if the hidden cursor causes issues.
</p>



<h5><code>cli.hyperlink</code></h5>

<p>Set to <code>true</code>, <code>TRUE</code> or <code>True</code> to tell cli that the terminal supports
ANSI hyperlinks.
Set to anything else to assume no hyperlink support.
See <code><a href="cli.html#topic+style_hyperlink">style_hyperlink()</a></code>.
</p>



<h5><code>cli.ignore_unknown_rstudio_theme</code></h5>

<p>Set to <code>TRUE</code> to omit a warning for an unknown RStudio theme in
<code>code_highlight()</code>.
</p>



<h5><code>cli.num_colors</code></h5>

<p>Number of ANSI colors. See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>. See also the
<code>cli.default_num_colors</code> option.
</p>



<h5><code>cli.message_class</code></h5>

<p>Character vector of classes to add to cli's conditions.
</p>



<h5><code>cli.progress_bar_style</code></h5>

<p>Progress bar style.
See <code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles()</a></code>.
</p>



<h5><code>cli.progress_bar_style_ascii</code></h5>

<p>Progress bar style on ASCII consoles.
See <code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles()</a></code>.
</p>



<h5><code>cli.progress_bar_style_unicode</code></h5>

<p>Progress bar style on Unicode (UTF-8) consoles;
See <code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles()</a></code>.
</p>



<h5><code>cli.progress_clear</code></h5>

<p>Whether to clear terminated progress bar from the screen on dynamic terminals.
See <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>.
</p>



<h5><code>cli.progress_demo_live</code></h5>

<p>Whether <code>cli_progress_demo()</code> should show a live demo, or just record the
progress bar frames.
</p>



<h5><code>cli.progress_format_download</code></h5>

<p>Default format string for <code>download</code> progress bars.
</p>



<h5><code>cli.progress_format_download_nototal</code></h5>

<p>Default format string for <code>download</code> progress bars with unknown totals.
</p>



<h5><code>cli.progress_format_iterator</code></h5>

<p>Default format string for <code>iterator</code> progress bars.
</p>



<h5><code>cli.progress_format_iterator_nototal</code></h5>

<p>Default format string for <code>iterator</code> progress bars with unknown total number
of progress units.
</p>



<h5><code>cli.progress_format_tasks</code></h5>

<p>Default format string for <code>tasks</code> progress bars.
</p>



<h5><code>cli.progress_format_tasks_nototal</code></h5>

<p>Default format string for <code>tasks</code> progress bars with unknown totals.
</p>



<h5><code>cli.progress_handlers</code></h5>

<p>Progress handlers to try.
See <code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers()</a></code>.
</p>



<h5><code>cli.progress_handlers_force</code></h5>

<p>Progress handlers that will always be used, even if another handler
was already selected.
See <code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers()</a></code>.
</p>



<h5><code>cli.progress_handlers_only</code></h5>

<p>Progress handlers to force, ignoring handlers set in
<code>cli.progress_handlers</code> and <code>cli.progress_handlers_force</code>.
See <code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers()</a></code>.
</p>



<h5><code>cli.progress_say_args</code></h5>

<p>Command line arguments for the <code>say</code> progress handlers.
See <code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers()</a></code>.
</p>



<h5><code>cli.progress_say_command</code></h5>

<p>External command to use in the <code>say</code> progress handler.
See <code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers()</a></code>.
</p>



<h5><code>cli.progress_say_frequency</code></h5>

<p>Minimum delay between <code>say</code> calls in the <code>say</code> progress handler.
<code>say</code> ignores very frequent updates, to keep the speech comprehensible.
See <code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers()</a></code>.
</p>



<h5><code>cli.progress_show_after</code></h5>

<p>Delay before showing a progress bar, in seconds.
Progress bars that finish before this delay are not shown at all.
cli also shows progress bars that have more than 50% to go after half of
this delay has passed.
</p>



<h5><code>cli.spinner</code></h5>

<p>Default spinner to use, see <code><a href="cli.html#topic+get_spinner">get_spinner()</a></code>.
</p>



<h5><code>cli.spinner_ascii</code></h5>

<p>Default spinner to use on ASCII terminals, see <code><a href="cli.html#topic+get_spinner">get_spinner()</a></code>.
</p>



<h5><code>cli.spinner_unicode</code></h5>

<p>Default spinner to use on Unicode terminals, see <code><a href="cli.html#topic+get_spinner">get_spinner()</a></code>.
</p>



<h5><code>cli.theme</code></h5>

<p>Default cli theme, in addition to the built-in theme.
This option in intended for the package developers.
See <a href="cli.html#topic+themes">themes</a> and <code><a href="cli.html#topic+start_app">start_app()</a></code>.
</p>



<h5><code>cli.theme_dark</code></h5>

<p>Whether cli should assume a dark theme for the builtin theme.
See <code><a href="cli.html#topic+builtin_theme">builtin_theme()</a></code>.
</p>



<h5><code>cli.unicode</code></h5>

<p>Whether to assume a Unicode terminal.
If not set, then it is auto-detected.
See <code><a href="cli.html#topic+is_utf8_output">is_utf8_output()</a></code>.
</p>



<h5><code>cli.user_theme</code></h5>

<p>cli user theme.
This option is intended for end users.
See <a href="cli.html#topic+themes">themes</a>.
</p>



<h5><code>cli.warn_inline_newlines</code></h5>

<p>Whether to emit a warning when cli replaces newline characters with
spaces within a <code>{.class }</code> inline style.
Defaults to <code>FALSE</code>.
</p>



<h5><code>cli.width</code></h5>

<p>Terminal width to assume.
If not set, then it is auto-detected.
See <code><a href="cli.html#topic+console_width">console_width()</a></code>.
</p>



<h5><code>rlib_interactive</code></h5>

<p>Whether to assume an interactive R session.
If not set, then it is auto-detected.
</p>



<h5><code>width</code></h5>

<p>Terminal width.
This is used on some platforms, if <code>cli.width</code> is not set.
</p>




<h3>Internal configuration</h3>

<p>These are environment variables and options are for cli developers, users
should not rely on them as they may change between cli releases.
</p>


<h4>Internal environment variables</h4>



<h5><code>ASCIICAST</code></h5>

<p>Used to detect an asciicast sub-process in RStudio.
</p>



<h5><code>ANSICON</code></h5>

<p>Used to detect ANSICON when detecting the number of ANSI colors.
</p>



<h5><code>CI</code></h5>

<p>Used to detect if the code is running on a CI.
If yes, we avoid ANSI hyperlinks.
</p>



<h5><code>CLI_DEBUG_BAD_END</code></h5>

<p>Whether to warn about <code>cli_end()</code> calls when there is no container to close.
</p>



<h5><code>CLI_NO_BUILTIN_THEME</code></h5>

<p>Set it to <code>true</code> to omit the builtin theme.
</p>



<h5><code>CLI_SPEED_TIME</code></h5>

<p>Can be used to speed up cli's timer.
It is a factor, e.g. setting it to 2 makes cli's time go twice as fast.
</p>



<h5><code>CLI_TICK_TIME</code></h5>

<p>How often the cli timer should alert, in milliseconds.
</p>



<h5><code>CMDER_ROOT</code></h5>

<p>Used to detect cmder when detecting the number of ANSI colors.
</p>



<h5><code>COLORTERM</code></h5>

<p>Used when detecting ANSI color support.
</p>



<h5><code>ConEmuANSI</code></h5>

<p>Used to detect ConEmu when detecting the number of ANSI colors.
</p>



<h5><code>EMACS</code></h5>

<p>Used to detect Emacs.
</p>



<h5><code>INSIDE_EMACS</code></h5>

<p>Used to detect Emacs.
</p>



<h5><code>NOT_CRAN</code></h5>

<p>Set to <code>true</code> to run tests / examples / checks, that do not run on CRAN.
</p>



<h5><code style="white-space: pre;">&#8288;_R_CHECK_PACKAGE_NAME_&#8288;</code></h5>

<p>Used to detect <code style="white-space: pre;">&#8288;R CMD check&#8288;</code>.
</p>



<h5><code>R_BROWSER</code></h5>

<p>Used to detect the RStudio build pane.
</p>



<h5><code>R_GUI_APP_VERSION</code></h5>

<p>Used to detect R.app on macOS, to decide if the console has ANSI control
sequences.
</p>



<h5><code>R_PACKAGE_DIR</code></h5>

<p>Used to detect if the code is running under <code style="white-space: pre;">&#8288;R CMD INSTALL&#8288;</code>.
</p>



<h5><code>R_PDFVIEWER</code></h5>

<p>Used to detect the RStudio build pane.
</p>



<h5><code>R_PROGRESS_NO_EXAMPLES</code></h5>

<p>Set to <code>true</code> to avoid running examples, outside of <code style="white-space: pre;">&#8288;R CMD check&#8288;</code>.
</p>



<h5><code>RSTUDIO</code></h5>

<p>Used to detect RStudio, in various functions.
</p>



<h5><code>RSTUDIO_CONSOLE_COLOR</code></h5>

<p>Used to detect the number of colors in RStudio.
See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>.
</p>



<h5><code>RSTUDIO_CONSOLE_WIDTH</code></h5>

<p>Used to auto-detect console width in RStudio.
</p>



<h5><code>RSTUDIO_TERM</code></h5>

<p>Used to detect the RStudio build pane.
</p>



<h5><code>TEAMCITY_VERSION</code></h5>

<p>Used to detect the TeamCity CI, to turn off ANSI hyperlinks.
</p>



<h5><code>TERM</code></h5>

<p>Used to detect if the console has ANSI control sequences, in a terminal.
</p>



<h5><code>TERM_PROGRAM</code></h5>

<p>Used to detect iTerm for the dark theme detection and the ANSI hyperlink
support detection.
</p>



<h5><code>TERM_PROGRAM_VERSION</code></h5>

<p>Used to detect a suitable iTerm version for ANSI hyperlink support.
</p>



<h5><code>TESTTHAT</code></h5>

<p>Used to detect running in testthat tests.
</p>



<h5><code>VTE_VERSION</code></h5>

<p>Used to detect a suitable VTE version for ANSI hyperlinks.
</p>




<h4>Internal options</h4>



<h5><code>cli__pb</code></h5>

<p>This option is set to the progress bar that is being updated, when
interpolating the format string.
</p>



<h5><code>cli.record</code></h5>

<p>Internal option to mark the state that cli is recording messages.
</p>



<h5><code>crayon.colors</code></h5>

<p>Deprecated option for the number of ANSI colors, that is still supported
by cli, when the new options are not set.
See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>.
</p>



<h5><code>crayon.enabled</code></h5>

<p>Deprecated option to turn ANSI colors on/off.
This is still supported by cli when the new options are not set.
See <code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors()</a></code>.
</p>



<h5><code>crayon.hyperlink</code></h5>

<p>Whether to assume ANSI hyperlink support.
See <code><a href="cli.html#topic+ansi_has_hyperlink_support">ansi_has_hyperlink_support()</a></code>.
</p>



<h5><code>knitr.in.progress</code></h5>

<p>Used to detect knitr when detecting interactive sessions and ANSI color
support.
</p>



<h5><code>rstudio.notebook.executing</code></h5>

<p>Used to detect knitr when detecting interactive sessions.
</p>



<hr>
<h2 id='cli-package'>cli: Helpers for Developing Command Line Interfaces</h2><span id='topic+cli-package'></span>

<h3>Description</h3>

<p>A suite of tools to build attractive command line interfaces ('CLIs'), from semantic elements: headings, lists, alerts, paragraphs, etc. Supports custom themes via a 'CSS'-like language. It also contains a number of lower level 'CLI' elements: rules, boxes, trees, and 'Unicode' symbols with 'ASCII' alternatives. It support ANSI colors and text styles as well.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gábor Csárdi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Hadley Wickham [contributor]
</p>
</li>
<li><p> Kirill Müller [contributor]
</p>
</li>
<li><p> Salim Brüggemann <a href="mailto:salim-b@pm.me">salim-b@pm.me</a> (<a href="https://orcid.org/0000-0002-5329-5987">ORCID</a>) [contributor]
</p>
</li>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://cli.r-lib.org">https://cli.r-lib.org</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/cli">https://github.com/r-lib/cli</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/cli/issues">https://github.com/r-lib/cli/issues</a>
</p>
</li></ul>


<hr>
<h2 id='code_highlight'>Syntax highlight R code</h2><span id='topic+code_highlight'></span>

<h3>Description</h3>

<p>Syntax highlight R code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>code_highlight(code, code_theme = NULL, envir = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="code_highlight_+3A_code">code</code></td>
<td>
<p>Character vector, each element is one line of code.</p>
</td></tr>
<tr><td><code id="code_highlight_+3A_code_theme">code_theme</code></td>
<td>
<p>Theme see <code><a href="cli.html#topic+code_theme_list">code_theme_list()</a></code>.</p>
</td></tr>
<tr><td><code id="code_highlight_+3A_envir">envir</code></td>
<td>
<p>Environment to look up function calls for hyperlinks.
If <code>NULL</code>, then the global search path is used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="cli.html#topic+code_theme_list">code_theme_list()</a></code> for the default syntax highlighting theme and
how to change it.
</p>
<p>If <code>code</code> does not parse, then it is returned unchanged and a
<code>cli_parse_failure</code> condition is thrown. Note that this is not an error,
and the condition is ignored, unless explicitly caught.
</p>


<h3>Value</h3>

<p>Character vector, the highlighted code.
</p>


<h3>See Also</h3>

<p>Other syntax highlighting: 
<code><a href="cli.html#topic+code_theme_list">code_theme_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>code_highlight(deparse(ls))
cat(code_highlight(deparse(ls)), sep = "\n")
</code></pre>

<hr>
<h2 id='code_theme_list'>Syntax highlighting themes</h2><span id='topic+code_theme_list'></span>

<h3>Description</h3>

<p><code>code_theme_list()</code> lists the built-in code themes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>code_theme_list()
</code></pre>


<h3>Value</h3>

<p>Character vector of the built-in code theme names.
</p>


<h3>Code themes</h3>

<p>A theme is a list of character vectors, except for <code>bracket</code>, see below.
Each character vector must contain RGB colors (e.g. <code>"#a9a9a9"</code>),
and cli styles, e.g. <code>"bold"</code>. Entries in the list:
</p>

<ul>
<li> <p><code>reserved</code>: reserved words
</p>
</li>
<li> <p><code>number</code>: numeric literals
</p>
</li>
<li> <p><code>null</code>: the <code>NULL</code> constant
</p>
</li>
<li> <p><code>operator</code>: operators, including assignment
</p>
</li>
<li> <p><code>call</code>: function calls
</p>
</li>
<li> <p><code>string</code>: character literals
</p>
</li>
<li> <p><code>comment</code>: comments
</p>
</li>
<li> <p><code>bracket</code>: brackets: <code>(){}[]</code> This is a list of character vectors,
to create &quot;rainbow&quot; brackets. It is recycled for deeply nested lists.
</p>
</li></ul>



<h3>The default code theme</h3>

<p>In RStudio, it matches the current theme of the IDE.
</p>
<p>You can use three options to customize the code theme:
</p>

<ul>
<li><p> If <code>cli.code_theme</code> is set, it is used.
</p>
</li>
<li><p> Otherwise if R is running in RStudio and <code>cli.code_theme_rstudio</code> is
set, then it is used.
</p>
</li>
<li><p> Otherwise if T is not running in RStudio and <code>cli.code_theme_terminal</code>
is set, then it is used.
</p>
</li></ul>

<p>You can set these options to the name of a built-in theme, or to list
that specifies a custom theme. See <code><a href="cli.html#topic+code_theme_list">code_theme_list()</a></code> for the list
of the built-in themes.
</p>


<h3>See Also</h3>

<p>Other syntax highlighting: 
<code><a href="cli.html#topic+code_highlight">code_highlight</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>code_theme_list()
code_highlight(deparse(get), code_theme = "Solarized Dark")
</code></pre>

<hr>
<h2 id='combine_ansi_styles'>Combine two or more ANSI styles</h2><span id='topic+combine_ansi_styles'></span>

<h3>Description</h3>

<p>Combine two or more styles or style functions into a new style function
that can be called on strings to style them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_ansi_styles(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_ansi_styles_+3A_...">...</code></td>
<td>
<p>The styles to combine. For character strings, the
<code><a href="cli.html#topic+make_ansi_style">make_ansi_style()</a></code> function is used to create a style first.
They will be applied from right to left.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It does not usually make sense to combine two foreground
colors (or two background colors), because only the first one
applied will be used.
</p>
<p>It does make sense to combine different kind of styles,
e.g. background color, foreground color, bold font.
</p>


<h3>Value</h3>

<p>The combined style function.
</p>


<h3>See Also</h3>

<p>Other ANSI styling: 
<code><a href="cli.html#topic+ansi-styles">ansi-styles</a></code>,
<code><a href="cli.html#topic+make_ansi_style">make_ansi_style</a>()</code>,
<code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use style names
alert &lt;- combine_ansi_styles("bold", "red4")
cat(alert("Warning!"), "\n")

## Or style functions
alert &lt;- combine_ansi_styles(style_bold, col_red, bg_cyan)
cat(alert("Warning!"), "\n")

## Combine a composite style
alert &lt;- combine_ansi_styles(
  "bold",
  combine_ansi_styles("red", bg_cyan))
cat(alert("Warning!"), "\n")
</code></pre>

<hr>
<h2 id='console_width'>Determine the width of the console</h2><span id='topic+console_width'></span>

<h3>Description</h3>

<p>It uses the <code>cli.width</code> option, if set. Otherwise it tries to
determine the size of the terminal or console window.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>console_width()
</code></pre>


<h3>Details</h3>

<p>These are the exact rules:
</p>

<ul>
<li><p> If the <code>cli.width</code> option is set to a positive integer, it is used.
</p>
</li>
<li><p> If the <code>cli.width</code> option is set, but it is not a positive integer,
and error is thrown.
</p>
</li></ul>

<p>Then we try to determine the size of the terminal or console window:
</p>

<ul>
<li><p> If we are not in RStudio, or we are in an RStudio terminal,
then we try to use the <code>tty_size()</code> function to query the
terminal size. This might fail if R is not running in a terminal,
but failures are ignored.
</p>
</li>
<li><p> If we are in the RStudio build pane, then the <code>RSTUDIO_CONSOLE_WIDTH</code>
environment variable is used. If the build pane is resized, then this
environment variable is not accurate any more, and the output might
get garbled.
</p>
</li>
<li><p> We are <em>not</em> using the <code>RSTUDIO_CONSOLE_WIDTH</code> environment variable
if we are in the RStudio console.
</p>
</li></ul>

<p>If we cannot determine the size of the terminal or console window, then
we use the <code>width</code> option. If the <code>width</code> option is not set, then
we return 80L.
</p>


<h3>Value</h3>

<p>Integer scalar, the console with, in number of characters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>console_width()
</code></pre>

<hr>
<h2 id='containers'>About cli containers</h2><span id='topic+containers'></span>

<h3>Description</h3>

<p>Container elements may contain other elements. Currently the following
commands create container elements: <code><a href="cli.html#topic+cli_div">cli_div()</a></code>, <code><a href="cli.html#topic+cli_par">cli_par()</a></code>, the list
elements: <code><a href="cli.html#topic+cli_ul">cli_ul()</a></code>, <code><a href="cli.html#topic+cli_ol">cli_ol()</a></code>, <code><a href="cli.html#topic+cli_dl">cli_dl()</a></code>, and list items are
containers as well: <code><a href="cli.html#topic+cli_li">cli_li()</a></code>.
</p>


<h3>Details</h3>



<h4>Themes</h4>

<p>A container can add a new theme, which is removed when the container
exits.
</p>
<div class="sourceCode r"><pre>d &lt;- cli_div(theme = list(h1 = list(color = "blue",
                                    "font-weight" = "bold")))
cli_h1("Custom title")
cli_end(d)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                                                                                 
#> <span style="font-weight: bold;color: #268BD2;">Custom title</span>                                                                    
</pre></div>




<h4>Auto-closing</h4>

<p>Container elements are closed with <code><a href="cli.html#topic+cli_end">cli_end()</a></code>. For convenience,
by default they are closed automatically when the function that created
them terminated (either regularly or with an error). The default
behavior can be changed with the <code>.auto_close</code> argument.
</p>
<div class="sourceCode r"><pre>div &lt;- function() {
  cli_div(class = "tmp", theme = list(.tmp = list(color = "yellow")))
  cli_text("This is yellow")
}
div()
cli_text("This is not yellow any more")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #B58900;">This is yellow</span>                                                                  
#> This is not yellow any more                                                     
</pre></div>




<h4>Debugging</h4>

<p>You can use the internal <code>cli:::cli_debug_doc()</code> function to see the
currently open containers.
</p>
<div class="sourceCode r"><pre>fun &lt;- function() {
  cli_div(id = "mydiv")
  cli_par(class = "myclass")
  cli:::cli_debug_doc()
}
fun()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                                                                                 
#> &lt;cli document&gt;                                                                  
#> &lt;body id="body"&gt;                                                                
#> &lt;div id="mydiv"&gt; +theme                                                         
#> &lt;par id="cli-82040-226" class="myclass"&gt;                                        
</pre></div>



<hr>
<h2 id='demo_spinners'>Show a demo of some (by default all) spinners</h2><span id='topic+demo_spinners'></span>

<h3>Description</h3>

<p>Each spinner is shown for about 2-3 seconds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>demo_spinners(which = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="demo_spinners_+3A_which">which</code></td>
<td>
<p>Character vector, which spinners to demo.</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>demo_spinners("clock")
</pre></div>
<p><img src="../help/figures/demo-spinners.svg" alt="demo-spinners.svg" />
</p>


<h3>See Also</h3>

<p>Other spinners: 
<code><a href="cli.html#topic+get_spinner">get_spinner</a>()</code>,
<code><a href="cli.html#topic+list_spinners">list_spinners</a>()</code>,
<code><a href="cli.html#topic+make_spinner">make_spinner</a>()</code>
</p>

<hr>
<h2 id='diff_chr'>Compare two character vectors elementwise</h2><span id='topic+diff_chr'></span>

<h3>Description</h3>

<p>Its printed output is similar to calling <code>diff -u</code> at the command
line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diff_chr(old, new, max_dist = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diff_chr_+3A_old">old</code></td>
<td>
<p>First character vector.</p>
</td></tr>
<tr><td><code id="diff_chr_+3A_new">new</code></td>
<td>
<p>Second character vector.</p>
</td></tr>
<tr><td><code id="diff_chr_+3A_max_dist">max_dist</code></td>
<td>
<p>Maximum distance to consider, or <code>Inf</code> for no limit.
If the LCS edit distance is larger than this, then the function
throws an error with class <code>"cli_diff_max_dist"</code>. (If you specify
<code>Inf</code> the real limit is <code>.Machine$integer.max</code> but to reach this the
function would have to run a very long time.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that is a <code>cli_diff_chr</code> object, with a <code>format()</code> and a
<code>print()</code> method. You can also access its members:
</p>

<ul>
<li> <p><code>old</code> and <code>new</code> are the original inputs,
</p>
</li>
<li> <p><code>lcs</code> is a data frame of LCS edit that transform <code>old</code> into <code>new</code>.
</p>
</li></ul>

<p>The <code>lcs</code> data frame has the following columns:
</p>

<ul>
<li> <p><code>operation</code>: one of <code>"match"</code>, <code>"delete"</code> or <code>"insert"</code>.
</p>
</li>
<li> <p><code>offset</code>: offset in <code>old</code> for matches and deletions, offset in <code>new</code>
for insertions.
</p>
</li>
<li> <p><code>length</code>: length of the operation, i.e. number of matching, deleted
or inserted elements.
</p>
</li>
<li> <p><code>old_offset</code>: offset in <code>old</code> <em>after</em> the operation.
</p>
</li>
<li> <p><code>new_offset</code>: offset in <code>new</code> <em>after</em> the operation.
</p>
</li></ul>



<h3>See Also</h3>

<p>The diffobj package for a much more comprehensive set of
<code>diff</code>-like tools.
</p>
<p>Other diff functions in cli: 
<code><a href="cli.html#topic+diff_str">diff_str</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>letters2 &lt;- c("P", "R", "E", letters, "P", "O", "S", "T")
letters2[11:16] &lt;- c("M", "I", "D", "D", "L", "E")
diff_chr(letters, letters2)
</code></pre>

<hr>
<h2 id='diff_str'>Compare two character strings, character by character</h2><span id='topic+diff_str'></span>

<h3>Description</h3>

<p>Characters are defined by UTF-8 graphemes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diff_str(old, new, max_dist = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diff_str_+3A_old">old</code></td>
<td>
<p>First string, must not be <code>NA</code>.</p>
</td></tr>
<tr><td><code id="diff_str_+3A_new">new</code></td>
<td>
<p>Second string, must not be <code>NA</code>.</p>
</td></tr>
<tr><td><code id="diff_str_+3A_max_dist">max_dist</code></td>
<td>
<p>Maximum distance to consider, or <code>Inf</code> for no limit.
If the LCS edit distance is larger than this, then the function
throws an error with class <code>"cli_diff_max_dist"</code>. (If you specify
<code>Inf</code> the real limit is <code>.Machine$integer.max</code> but to reach this the
function would have to run a very long time.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that is a <code>cli_diff_str</code> object and also a
<code>cli_diff_chr</code> object, see <a href="cli.html#topic+diff_str">diff_str</a> for the details about its
structure.
</p>


<h3>See Also</h3>

<p>The diffobj package for a much more comprehensive set of
<code>diff</code>-like tools.
</p>
<p>Other diff functions in cli: 
<code><a href="cli.html#topic+diff_chr">diff_chr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str1 &lt;- "abcdefghijklmnopqrstuvwxyz"
str2 &lt;- "PREabcdefgMIDDLEnopqrstuvwxyzPOST"
diff_str(str1, str2)
</code></pre>

<hr>
<h2 id='faq'>Frequently Asked Questions</h2><span id='topic+faq'></span>

<h3>Description</h3>

<p>Frequently Asked Questions
</p>


<h3>Details</h3>



<h4>My platform supports ANSI colors, why does cli not use them?</h4>

<p>It is probably a mistake in the ANSI support detection algorithm. Please
open an issue at <a href="https://github.com/r-lib/cli/issues">https://github.com/r-lib/cli/issues</a> and do not forget
to tell us the details of your platform and terminal or GUI.
</p>



<h4>How do I turn off ANSI colors and styles?</h4>

<p>Set the <code>NO_COLOR</code> environment variable to a non-empty value. You can do
this in your <code>.Renviron</code> file (use <code>usethis::edit_r_environ()</code>).
</p>
<p>If you want to do this for testthat tests, then consider using the 3rd
edition on testthat, which does turn off ANSI styling automatically
inside <code>test_that()</code>.
</p>



<h4>cli does not show the output before <code>file.choose()</code></h4>

<p>Try calling <code>flush.console()</code> to flush the console, before
<code>file.choose()</code>. If flushing does not work and you are in RStudio, then
it is probably this RStudio bug:
<a href="https://github.com/rstudio/rstudio/issues/8040">https://github.com/rstudio/rstudio/issues/8040</a> See more details at
<a href="https://github.com/r-lib/cli/issues/151">https://github.com/r-lib/cli/issues/151</a>
</p>



<h4>Why are heading separators wider than my screen in RStudio?</h4>

<p>The display width of some Unicode characters ambiguous in the Unicode
standard. Some software treats them as narrow (one column on the
screen), other as wide (two columns). In some terminal emulators (for
example iTerm2), you can configure the preferred behavior.
</p>
<p>Unfortunately the box drawing characters that cli uses also have
ambiguous width.
</p>
<p>In RStudio the behavior depends on the font. In particular, Consolas,
Courier and Inconsolata treats them as wide characters, so cli output
will not look great with these. Some good, modern fonts that look good
include Menlo, Fira Code and Source Code Pro.
</p>
<p>If you do not want to change your font, you can also turn off Unicode
output, by setting the <code>cli.unicode</code> option:
</p>
<div class="sourceCode r"><pre>options(cli.unicode = FALSE)
</pre></div>
<p>A related issue: <a href="https://github.com/r-lib/cli/issues/320">https://github.com/r-lib/cli/issues/320</a>
</p>



<h4>Is there a suggested font to use with cli?</h4>

<p>In modern terminals, cli output usually looks good.
</p>
<p>If you see too wide heading separators in RStudio, then see the previous
question: Why are heading separators wider than my screen in RStudio?.
</p>
<p>If some output is garbled, then cli probably misdetected Unicode support
for your terminal or font. You can try choosing a different font. In our
experience output looks good with Menlo, Fira Code and Source Code Pro.
Alternatively you can turn off Unicode output:
</p>
<div class="sourceCode r"><pre>options(cli.unicode = FALSE)
</pre></div>
<p>If you think this is our fault, then please also file an issue at
<a href="https://github.com/r-lib/cli/issues">https://github.com/r-lib/cli/issues</a>
</p>


<hr>
<h2 id='format_error'>Format an error, warning or diagnostic message</h2><span id='topic+format_error'></span><span id='topic+format_warning'></span><span id='topic+format_message'></span>

<h3>Description</h3>

<p>You can then throw this message with <code><a href="base.html#topic+stop">stop()</a></code> or <code>rlang::abort()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_error(message, .envir = parent.frame())

format_warning(message, .envir = parent.frame())

format_message(message, .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_error_+3A_message">message</code></td>
<td>
<p>It is formatted via a call to <code><a href="cli.html#topic+cli_bullets">cli_bullets()</a></code>.</p>
</td></tr>
<tr><td><code id="format_error_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The messages can use inline styling, pluralization and glue
substitutions.
</p>
<div class="sourceCode r"><pre>n &lt;- "boo"
stop(format_error(c(
        "{.var n} must be a numeric vector",
  "x" = "You've supplied a {.cls {class(n)}} vector."
)))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Error: `n` must be a numeric vector                                             
#> <span style="color: #DC322F;">✖</span> You've supplied a <span style="color: #268BD2;">&lt;character&gt;</span> vector.                                         
</pre></div>

<div class="sourceCode r"><pre>len &lt;- 26
idx &lt;- 100
stop(format_error(c(
        "Must index an existing element:",
  "i" = "There {?is/are} {len} element{?s}.",
  "x" = "You've tried to subset element {idx}."
)))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Error: Must index an existing element:                                          
#> <span style="color: #2AA198;">ℹ</span> There are 26 elements.                                                        
#> <span style="color: #DC322F;">✖</span> You've tried to subset element 100.                                           
</pre></div>



<h3>See Also</h3>

<p>These functions support <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_inline">format_inline</a>()</code>
</p>

<hr>
<h2 id='format_inline'>Format and returns a line of text</h2><span id='topic+format_inline'></span>

<h3>Description</h3>

<p>You can use this function to format a line of cli text, without emitting
it to the screen. It uses <code><a href="cli.html#topic+cli_text">cli_text()</a></code> internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_inline(
  ...,
  .envir = parent.frame(),
  collapse = TRUE,
  keep_whitespace = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_inline_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="cli.html#topic+cli_text">cli_text()</a></code>.</p>
</td></tr>
<tr><td><code id="format_inline_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the expressions in.</p>
</td></tr>
<tr><td><code id="format_inline_+3A_collapse">collapse</code></td>
<td>
<p>Whether to collapse the result if it has multiple
lines, e.g. because of <code style="white-space: pre;">&#8288;\f&#8288;</code> characters.</p>
</td></tr>
<tr><td><code id="format_inline_+3A_keep_whitespace">keep_whitespace</code></td>
<td>
<p>Whether to keep all whitepace (spaces, newlines
and form feeds) as is in the input.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>format_inline()</code> performs no width-wrapping.
</p>


<h3>Value</h3>

<p>Character scalar, the formatted string.
</p>


<h3>See Also</h3>

<p>This function supports <a href="cli.html#topic+inline-markup">inline markup</a>.
</p>
<p>Other functions supporting inline markup: 
<code><a href="cli.html#topic+cli_abort">cli_abort</a>()</code>,
<code><a href="cli.html#topic+cli_alert">cli_alert</a>()</code>,
<code><a href="cli.html#topic+cli_blockquote">cli_blockquote</a>()</code>,
<code><a href="cli.html#topic+cli_bullets_raw">cli_bullets_raw</a>()</code>,
<code><a href="cli.html#topic+cli_bullets">cli_bullets</a>()</code>,
<code><a href="cli.html#topic+cli_dl">cli_dl</a>()</code>,
<code><a href="cli.html#topic+cli_h1">cli_h1</a>()</code>,
<code><a href="cli.html#topic+cli_li">cli_li</a>()</code>,
<code><a href="cli.html#topic+cli_ol">cli_ol</a>()</code>,
<code><a href="cli.html#topic+cli_process_start">cli_process_start</a>()</code>,
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_rule">cli_rule</a></code>,
<code><a href="cli.html#topic+cli_status_update">cli_status_update</a>()</code>,
<code><a href="cli.html#topic+cli_status">cli_status</a>()</code>,
<code><a href="cli.html#topic+cli_text">cli_text</a>()</code>,
<code><a href="cli.html#topic+cli_ul">cli_ul</a>()</code>,
<code><a href="cli.html#topic+format_error">format_error</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>format_inline("A message for {.emph later}, thanks {.fn format_inline}.")
</code></pre>

<hr>
<h2 id='get_spinner'>Character vector to put a spinner on the screen</h2><span id='topic+get_spinner'></span>

<h3>Description</h3>

<p><code>cli</code> contains many different spinners, you choose one according to your
taste.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_spinner(which = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_spinner_+3A_which">which</code></td>
<td>
<p>The name of the chosen spinner. If <code>NULL</code>, then the default
is used, which can be customized via the <code>cli.spinner_unicode</code>,
<code>cli.spinner_ascii</code> and <code>cli.spinner</code> options. (The latter applies to
both Unicode and ASCII displays. These options can be set to the name
of a built-in spinner, or to a list that has an entry called <code>frames</code>,
a character vector of frames.</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>options(cli.spinner = "hearts")
fun &lt;- function() {
  cli_progress_bar("Spinning")
  for (i in 1:100) {
    Sys.sleep(4/100)
    cli_progress_update()
  }
}
fun()
options(cli.spinner = NULL)
</pre></div>
<p><img src="../help/figures/get-spinner.svg" alt="get-spinner.svg" />
</p>


<h3>Value</h3>

<p>A list with entries: <code>name</code>, <code>interval</code>: the suggested update
interval in milliseconds and <code>frames</code>: the character vector of the
spinner's frames.
</p>


<h3>See Also</h3>

<p>Other spinners: 
<code><a href="cli.html#topic+demo_spinners">demo_spinners</a>()</code>,
<code><a href="cli.html#topic+list_spinners">list_spinners</a>()</code>,
<code><a href="cli.html#topic+make_spinner">make_spinner</a>()</code>
</p>

<hr>
<h2 id='has_keypress_support'>Check if the current platform/terminal supports reading
single keys.</h2><span id='topic+has_keypress_support'></span>

<h3>Description</h3>

<p>Check if the current platform/terminal supports reading
single keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_keypress_support()
</code></pre>


<h3>Details</h3>

<p>Supported platforms:
</p>

<ul>
<li><p> Terminals in Windows and Unix.
</p>
</li>
<li><p> RStudio terminal.
</p>
</li></ul>

<p>Not supported:
</p>

<ul>
<li><p> RStudio (if not in the RStudio terminal).
</p>
</li>
<li><p> R.app on macOS.
</p>
</li>
<li><p> Rgui on Windows.
</p>
</li>
<li><p> Emacs ESS.
</p>
</li>
<li><p> Others.
</p>
</li></ul>



<h3>Value</h3>

<p>Whether there is support for waiting for individual
keypressses.
</p>


<h3>See Also</h3>

<p>Other keypress function: 
<code><a href="cli.html#topic+keypress">keypress</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>has_keypress_support()
</code></pre>

<hr>
<h2 id='hash_animal'>Adjective-animal hash</h2><span id='topic+hash_animal'></span><span id='topic+hash_raw_animal'></span><span id='topic+hash_obj_animal'></span>

<h3>Description</h3>

<p>Adjective-animal hash
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hash_animal(x, n_adj = 2)

hash_raw_animal(x, n_adj = 2)

hash_obj_animal(x, n_adj = 2, serialize_version = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hash_animal_+3A_x">x</code></td>
<td>
<p>Character vector. <code>NA</code> entries will have an <code>NA</code> hash.</p>
</td></tr>
<tr><td><code id="hash_animal_+3A_n_adj">n_adj</code></td>
<td>
<p>Number of adjectives to use. It must be from 0 through 3.</p>
</td></tr>
<tr><td><code id="hash_animal_+3A_serialize_version">serialize_version</code></td>
<td>
<p>Workspace format version to use, see
<code><a href="base.html#topic+serialize">base::serialize()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It uses the first 13 hexadecimal characters (out of the 32) of the MD5
hash of the input, and converts them into an adjective-animal form to
create a human readable hash.
</p>


<h4>Number of possible hash values</h4>

<p><code>hash_animal()</code> uses 1748 animal names and
8946 different adjectives. The number of
different hashes you can get for different values of <code>n_adj</code>:</p>

<table>
<tr>
 <td style="text-align: right;">
   <code>n_adj</code> </td><td style="text-align: right;"> size of the hash table space </td>
</tr>
<tr>
 <td style="text-align: right;">
   0 </td><td style="text-align: right;"> 1,748 </td>
</tr>
<tr>
 <td style="text-align: right;">
   1 </td><td style="text-align: right;"> 15,637,608 </td>
</tr>
<tr>
 <td style="text-align: right;">
   2 </td><td style="text-align: right;"> 139,894,041,168 </td>
</tr>
<tr>
 <td style="text-align: right;">
   3 </td><td style="text-align: right;"> 1,251,492,092,288,928 </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>




<h4>Source</h4>

<p>The list of adjectives and animals comes from the ids package,
and in turn from
<a href="https://github.com/a-type/adjective-adjective-animal">https://github.com/a-type/adjective-adjective-animal</a>, and
from <code style="white-space: pre;">&#8288;https://gfycat.com&#8288;</code> (now gone).
</p>

<p><code>hash_raw_animal()</code> calculates the adjective-animal hash of
the bytes of a raw vector.
</p>
<p><code>hash_obj_animal()</code> calculates the adjective-animal hash of
an R object. The object is serialized into a binary vector first.
</p>


<h3>Value</h3>

<p>A data frame with columns
</p>

<ul>
<li> <p><code>hash</code>: the hash value, a string.
</p>
</li>
<li> <p><code>words</code>: list column with the adjectives and the animal name in a
character vector.
</p>
</li></ul>

<p><code>hash_raw_animal()</code> and <code>hash_obj_animal()</code> return a list
with entries:
</p>

<ul>
<li> <p><code>hash</code>: the hash value, a string,
</p>
</li>
<li><p> 'words: the adjectives and the animal name in a character vector.
</p>
</li></ul>



<h3>See Also</h3>

<p>the ids package for generating random adjective-animal ids
</p>
<p>Other hash functions: 
<code><a href="cli.html#topic+hash_emoji">hash_emoji</a>()</code>,
<code><a href="cli.html#topic+hash_md5">hash_md5</a>()</code>,
<code><a href="cli.html#topic+hash_sha1">hash_sha1</a>()</code>,
<code><a href="cli.html#topic+hash_sha256">hash_sha256</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hash_animal(c("foo", "bar"))

# if you increase `n_adj`, the shorter hash is a suffix of the longer:
hash_animal("cli package", 0)$hash
hash_animal("cli package", 1)$hash
hash_animal("cli package", 2)$hash
hash_animal("cli package", 3)$hash
</code></pre>

<hr>
<h2 id='hash_emoji'>Emoji hash</h2><span id='topic+hash_emoji'></span><span id='topic+hash_raw_emoji'></span><span id='topic+hash_obj_emoji'></span>

<h3>Description</h3>

<p>Emoji hash
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hash_emoji(x, size = 3)

hash_raw_emoji(x, size = 3)

hash_obj_emoji(x, size = 3, serialize_version = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hash_emoji_+3A_x">x</code></td>
<td>
<p>Character vector. <code>NA</code> entries will have an <code>NA</code> hash.</p>
</td></tr>
<tr><td><code id="hash_emoji_+3A_size">size</code></td>
<td>
<p>Number of emojis to use in a hash. Currently it has to
be from 1 through 4.</p>
</td></tr>
<tr><td><code id="hash_emoji_+3A_serialize_version">serialize_version</code></td>
<td>
<p>Workspace format version to use, see
<code><a href="base.html#topic+serialize">base::serialize()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It uses the first 13 hexadecimal characters (out of the 32) of the MD5
hash of the input, and converts them into an emoji representation.
It uses a manually selected subset of all emojis, that tend to be
displayed correctly.
</p>


<h4>Number of possible hash values</h4>

<p>cli uses 2280 possible emojis. This is the number of
different hashes you can get for different values of <code>size</code>:</p>

<table>
<tr>
 <td style="text-align: right;">
   <code>size</code> </td><td style="text-align: right;"> size of hash table space </td>
</tr>
<tr>
 <td style="text-align: right;">
   1 </td><td style="text-align: right;"> 2,280 </td>
</tr>
<tr>
 <td style="text-align: right;">
   2 </td><td style="text-align: right;"> 5,198,400 </td>
</tr>
<tr>
 <td style="text-align: right;">
   3 </td><td style="text-align: right;"> 11,852,352,000 </td>
</tr>
<tr>
 <td style="text-align: right;">
   4 </td><td style="text-align: right;"> 27,023,362,560,000 </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<p><code>hash_raw_emoji()</code> calculates the emoji hash of the bytes
of a raw vector.
</p>
<p><code>hash_obj_emoji()</code> calculates the emoji hash of an R
object. The object is serialized into a binary vector first.
</p>


<h3>Value</h3>

<p><code>hash_emoji()</code> returns a data frame with columns
</p>

<ul>
<li> <p><code>hash</code>: the emoji hash, a string of the requested size.
</p>
</li>
<li> <p><code>emojis</code>: list column with the emoji characters in character
vectors. Note that an emoji might have multiple code points.
</p>
</li>
<li> <p><code>text</code>: text representation of <code>hash</code>, comma separated.
</p>
</li>
<li> <p><code>names</code>: list column with the text representations of <code>emojis</code>, in
character vectors.
</p>
</li></ul>

<p><code>hash_raw_emoji()</code> and <code>hash_obj_emoji()</code> return a list with
entries:
</p>

<ul>
<li> <p><code>hash</code>: the emoji hash, a string of requested size,
</p>
</li>
<li> <p><code>emojis</code>: the individual emoji characters in a character vector,
</p>
</li>
<li> <p><code>text</code>: text representation of <code>hash</code>, comma separated,
</p>
</li>
<li> <p><code>names</code>: names of the emojis, in a character vector.
</p>
</li></ul>



<h3>See Also</h3>

<p>the emoji package for a comprehensive list of emojis
</p>
<p>Other hash functions: 
<code><a href="cli.html#topic+hash_animal">hash_animal</a>()</code>,
<code><a href="cli.html#topic+hash_md5">hash_md5</a>()</code>,
<code><a href="cli.html#topic+hash_sha1">hash_sha1</a>()</code>,
<code><a href="cli.html#topic+hash_sha256">hash_sha256</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hash_emoji(c("foo", NA, "bar", ""))$text

# if you increase `size`, the shorter hash is a prefix of the longer:
hash_emoji("foobar", 1)$text
hash_emoji("foobar", 2)$text
hash_emoji("foobar", 3)$text
hash_emoji("foobar", 4)$text
</code></pre>

<hr>
<h2 id='hash_md5'>MD5 hash</h2><span id='topic+hash_md5'></span><span id='topic+hash_raw_md5'></span><span id='topic+hash_obj_md5'></span><span id='topic+hash_file_md5'></span>

<h3>Description</h3>

<p>Calculate the MD5 hash of each element of a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hash_md5(x)

hash_raw_md5(x)

hash_obj_md5(x, serialize_version = 2)

hash_file_md5(paths)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hash_md5_+3A_x">x</code></td>
<td>
<p>Character vector. If not a character vector, then
<code><a href="base.html#topic+as.character">as.character()</a></code> is used to try to coerce it into one. <code>NA</code> entries
will have an <code>NA</code> hash.</p>
</td></tr>
<tr><td><code id="hash_md5_+3A_serialize_version">serialize_version</code></td>
<td>
<p>Workspace format version to use, see
<code><a href="base.html#topic+serialize">base::serialize()</a></code>.</p>
</td></tr>
<tr><td><code id="hash_md5_+3A_paths">paths</code></td>
<td>
<p>Character vector of file names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hash_raw_md5()</code> calculates the MD5 hash of the bytes
of a raw vector.
</p>
<p><code>hash_obj_md5()</code> calculates the MD5 hash of an R
object. The object is serialized into a binary vector first.
</p>
<p><code>hash_file_md5()</code> calculates the MD5 hash of one or more
files.
</p>


<h3>Value</h3>

<p><code>hash_md5()</code> returns a character vector of hexadecimal MD5
hashes.
</p>
<p><code>hash_raw_md5()</code> returns a character scalar.
</p>
<p><code>hash_obj_md5()</code> returns a character scalar.
</p>


<h3>See Also</h3>

<p><code><a href="tools.html#topic+md5sum">tools::md5sum()</a></code> for a base R MD5 function that works on
files.
</p>
<p>Other hash functions: 
<code><a href="cli.html#topic+hash_animal">hash_animal</a>()</code>,
<code><a href="cli.html#topic+hash_emoji">hash_emoji</a>()</code>,
<code><a href="cli.html#topic+hash_sha1">hash_sha1</a>()</code>,
<code><a href="cli.html#topic+hash_sha256">hash_sha256</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hash_md5(c("foo", NA, "bar", ""))
</code></pre>

<hr>
<h2 id='hash_sha1'>SHA-1 hash</h2><span id='topic+hash_sha1'></span><span id='topic+hash_raw_sha1'></span><span id='topic+hash_obj_sha1'></span><span id='topic+hash_file_sha1'></span>

<h3>Description</h3>

<p>Calculate the SHA-1 hash of each element of a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hash_sha1(x)

hash_raw_sha1(x)

hash_obj_sha1(x, serialize_version = 2)

hash_file_sha1(paths)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hash_sha1_+3A_x">x</code></td>
<td>
<p>Character vector. If not a character vector, then
<code><a href="base.html#topic+as.character">as.character()</a></code> is used to try to coerce it into one. <code>NA</code> entries
will have an <code>NA</code> hash.</p>
</td></tr>
<tr><td><code id="hash_sha1_+3A_serialize_version">serialize_version</code></td>
<td>
<p>Workspace format version to use, see
<code><a href="base.html#topic+serialize">base::serialize()</a></code>.</p>
</td></tr>
<tr><td><code id="hash_sha1_+3A_paths">paths</code></td>
<td>
<p>Character vector of file names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hash_raw_sha1()</code> calculates the SHA-1 hash of the bytes
of a raw vector.
</p>
<p><code>hash_obj_sha1()</code> calculates the SHA-1 hash of an R
object. The object is serialized into a binary vector first.
</p>
<p><code>hash_file_sha1()</code> calculates the SHA-1 hash of one or
more files.
</p>


<h3>Value</h3>

<p><code>hash_sha1()</code> returns a character vector of hexadecimal
SHA-1 hashes.
</p>
<p><code>hash_raw_sha1()</code> returns a character scalar.
</p>
<p><code>hash_obj_sha1()</code> returns a character scalar.
</p>
<p><code>hash_file_sha1()</code> returns a character vector of SHA-1
hashes.
</p>


<h3>See Also</h3>

<p>Other hash functions: 
<code><a href="cli.html#topic+hash_animal">hash_animal</a>()</code>,
<code><a href="cli.html#topic+hash_emoji">hash_emoji</a>()</code>,
<code><a href="cli.html#topic+hash_md5">hash_md5</a>()</code>,
<code><a href="cli.html#topic+hash_sha256">hash_sha256</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hash_sha1(c("foo", NA, "bar", ""))
</code></pre>

<hr>
<h2 id='hash_sha256'>SHA-256 hash</h2><span id='topic+hash_sha256'></span><span id='topic+hash_raw_sha256'></span><span id='topic+hash_obj_sha256'></span><span id='topic+hash_file_sha256'></span>

<h3>Description</h3>

<p>Calculate the SHA-256 hash of each element of a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hash_sha256(x)

hash_raw_sha256(x)

hash_obj_sha256(x, serialize_version = 2)

hash_file_sha256(paths)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hash_sha256_+3A_x">x</code></td>
<td>
<p>Character vector. If not a character vector, then
<code><a href="base.html#topic+as.character">as.character()</a></code> is used to try to coerce it into one. <code>NA</code> entries
will have an <code>NA</code> hash.</p>
</td></tr>
<tr><td><code id="hash_sha256_+3A_serialize_version">serialize_version</code></td>
<td>
<p>Workspace format version to use, see
<code><a href="base.html#topic+serialize">base::serialize()</a></code>.</p>
</td></tr>
<tr><td><code id="hash_sha256_+3A_paths">paths</code></td>
<td>
<p>Character vector of file names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hash_raw_sha256()</code> calculates the SHA-256 hash of the bytes
of a raw vector.
</p>
<p><code>hash_obj_sha256()</code> calculates the SHA-256 hash of an R
object. The object is serialized into a binary vector first.
</p>
<p><code>hash_file_sha256()</code> calculates the SHA-256 hash of one or
more files.
</p>


<h3>Value</h3>

<p><code>hash_sha256()</code> returns a character vector of hexadecimal
SHA-256 hashes.
</p>
<p><code>hash_raw_sha256()</code> returns a character scalar.
</p>
<p><code>hash_obj_sha256()</code> returns a character scalar.
</p>
<p><code>hash_file_sha256()</code> returns a character vector of SHA-256
hashes.
</p>


<h3>See Also</h3>

<p>Other hash functions: 
<code><a href="cli.html#topic+hash_animal">hash_animal</a>()</code>,
<code><a href="cli.html#topic+hash_emoji">hash_emoji</a>()</code>,
<code><a href="cli.html#topic+hash_md5">hash_md5</a>()</code>,
<code><a href="cli.html#topic+hash_sha1">hash_sha1</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hash_sha256(c("foo", NA, "bar", ""))
</code></pre>

<hr>
<h2 id='inline-markup'>About inline markup in the semantic cli</h2><span id='topic+inline-markup'></span>

<h3>Description</h3>

<p>To learn how to use cli’s semantic markup, start with the ‘Building
a semantic CLI’ article at <a href="https://cli.r-lib.org">https://cli.r-lib.org</a>.
</p>


<h3>Command substitution</h3>

<p>All text emitted by cli supports glue interpolation. Expressions
enclosed by braces will be evaluated as R code. See <code><a href="glue.html#topic+glue">glue::glue()</a></code> for
details.
</p>
<p>In addition to regular glue interpolation, cli can also add classes
to parts of the text, and these classes can be used in themes. For
example
</p>
<div class="sourceCode r"><pre>cli_text("This is {.emph important}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> This is <span style="font-style: italic;">important</span>.                                                              
</pre></div>

<p>adds a class to the &quot;important&quot; word, class <code>"emph"</code>. Note that in this
case the string within the braces is usually not a valid R expression.
If you want to mix classes with interpolation, add another pair of
braces:
</p>
<div class="sourceCode r"><pre>adjective &lt;- "great"
cli_text("This is {.emph {adjective}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> This is <span style="font-style: italic;">great</span>.                                                                  
</pre></div>

<p>An inline class will always create a <code>span</code> element internally. So in
themes, you can use the <code>span.emph</code> CSS selector to change how inline
text is emphasized:
</p>
<div class="sourceCode r"><pre>cli_div(theme = list(span.emph = list(color = "red")))
adjective &lt;- "nice and red"
cli_text("This is {.emph {adjective}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> This is <span style="font-style: italic;color: #DC322F;">nice and red</span>.                                                           
</pre></div>



<h3>Classes</h3>

<p>The default theme defines the following inline classes:
</p>

<ul>
<li> <p><code>arg</code> for a function argument.
</p>
</li>
<li> <p><code>cls</code> for an S3, S4, R6 or other class name.
</p>
</li>
<li> <p><code>code</code> for a piece of code.
</p>
</li>
<li> <p><code>dt</code> is used for the terms in a definition list (<code><a href="cli.html#topic+cli_dl">cli_dl()</a></code>).
</p>
</li>
<li> <p><code>dd</code> is used for the descriptions in a definition list (<code><a href="cli.html#topic+cli_dl">cli_dl()</a></code>).
</p>
</li>
<li> <p><code>email</code> for an email address.
If the terminal supports ANSI hyperlinks (e.g. RStudio, iTerm2, etc.),
then cli creates a clickable link.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>emph</code> for emphasized text.
</p>
</li>
<li> <p><code>envvar</code> for the name of an environment variable.
</p>
</li>
<li> <p><code>field</code> for a generic field, e.g. in a named list.
</p>
</li>
<li> <p><code>file</code> for a file name. If the terminal supports ANSI hyperlinks (e.g.
RStudio, iTerm2, etc.), then cli creates a clickable link that opens
the file in RStudio or with the default app for the file type.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>fn</code> for a function name. If it is in the <code>package::function_name</code>
form, and the terminal supports ANSI hyperlinks (e.g. RStudio,
iTerm2, etc.), then cli creates a clickable link.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>fun</code> same as <code>fn</code>.
</p>
</li>
<li> <p><code>help</code> is a help page of a <em>function</em>.
If the terminal supports ANSI hyperlinks to help pages (e.g. RStudio),
then cli creates a clickable link. It supports link text.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>href</code> creates a hyperlink, potentially with a link text.
If the terminal supports ANSI hyperlinks (e.g. RStudio, iTerm2, etc.),
then cli creates a clickable link.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>kbd</code> for a keyboard key.
</p>
</li>
<li> <p><code>key</code> same as <code>kbd</code>.
</p>
</li>
<li> <p><code>obj_type_friendly</code> formats the type of an R object in a readable way,
and it should be used with <code>{}</code>, see an example below.
</p>
</li>
<li> <p><code>or</code> changes the string that separates the last two elements of
collapsed vectors (see below) from &quot;and&quot; to &quot;or&quot;.
</p>
</li>
<li> <p><code>path</code> for a path (the same as <code>file</code> in the default theme).
</p>
</li>
<li> <p><code>pkg</code> for a package name.
</p>
</li>
<li> <p><code>run</code> is an R expression, that is potentially clickable if the terminal
supports ANSI hyperlinks to runnable code (e.g. RStudio).
It supports link text. See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>str</code> for a double quoted string escaped by <code><a href="base.html#topic+encodeString">base::encodeString()</a></code>.#' * <code>strong</code> for strong importance.
</p>
</li>
<li> <p><code>topic</code> is a help page of a <em>topic</em>.
If the terminal supports ANSI hyperlinks to help pages (e.g. RStudio),
then cli creates a clickable link. It supports link text.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>type</code> formats the type of an R object in a readable way, and it
should be used with <code>{}</code>, see an example below.
</p>
</li>
<li> <p><code>url</code> for a URL. If the terminal supports ANSI hyperlinks (e.g.
RStudio, iTerm2, etc.), then cli creates a clickable link.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li>
<li> <p><code>var</code> for a variable name.
</p>
</li>
<li> <p><code>val</code> for a generic &quot;value&quot;.
</p>
</li>
<li> <p><code>vignette</code> is a vignette.
If the terminal supports ANSI hyperlinks to help pages (e.g. RStudio),
then cli creates a clickable link. It supports link text.
See <a href="cli.html#topic+links">links</a> for more information about cli hyperlinks.
</p>
</li></ul>

<div class="sourceCode r"><pre>ul &lt;- cli_ul()
cli_li("{.emph Emphasized} text.")
cli_li("{.strong Strong} importance.")
cli_li("A piece of code: {.code sum(a) / length(a)}.")
cli_li("A package name: {.pkg cli}.")
cli_li("A function name: {.fn cli_text}.")
cli_li("A keyboard key: press {.kbd ENTER}.")
cli_li("A file name: {.file /usr/bin/env}.")
cli_li("An email address: {.email bugs.bunny@acme.com}.")
cli_li("A URL: {.url https://example.com}.")
cli_li("An environment variable: {.envvar R_LIBS}.")
cli_li("`mtcars` is {.obj_type_friendly {mtcars}}")
cli_end(ul)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> • <span style="font-style: italic;">Emphasized</span> text.                                                              
#> • <span style="font-weight: bold;">Strong</span> importance.                                                            
#> • A piece of code: `sum(a) / length(a)`.                                        
#> • A package name: <span style="color: #268BD2;">cli</span>.                                                          
#> • A function name: `cli_text()`.                                                
#> • A keyboard key: press <span style="color: #268BD2;">[ENTER]</span>.                                                
#> • A file name: <span style="color: #268BD2;">/usr/bin/env</span>.                                                    
#> • An email address: <span style="color: #268BD2;">bugs.bunny@acme.com</span>.                                        
#> • A URL: <span style="font-style: italic;color: #268BD2;">&lt;https://example.com&gt;</span>.                                                 
#> • An environment variable: `R_LIBS`.                                            
#> • `mtcars` is a data frame                                                      
</pre></div>

<p>You can add new classes by defining them in the theme, and then using
them.
</p>
<div class="sourceCode r"><pre>cli_div(theme = list(
  span.myclass = list(color = "lightgrey"),
  "span.myclass" = list(before = "&lt;&lt;"),
  "span.myclass" = list(after = "&gt;&gt;")))
cli_text("This is {.myclass in angle brackets}.")
cli_end()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> This is <span style="color: #cccccc;">&lt;&lt;in angle brackets&gt;&gt;</span>.                                                  
</pre></div>



<h4>Highlighting weird-looking values</h4>

<p>Often it is useful to highlight a weird file or path name, e.g. one
that starts or ends with space characters. The built-in theme does this
for <code>.file</code>, <code>.path</code> and <code>.email</code> by default. You can highlight
any string inline by adding the <code>.q</code> class to it.
</p>
<p>The current highlighting algorithm
</p>

<ul>
<li><p> adds single quotes to the string if it does not start or end with an
alphanumeric character, underscore, dot or forward slash.
</p>
</li>
<li><p> Highlights the background colors of leading and trailing spaces on
terminals that support ANSI colors.
</p>
</li></ul>




<h3>Collapsing inline vectors</h3>

<p>When cli performs inline text formatting, it automatically collapses
glue substitutions, after formatting. This is handy to create lists of
files, packages, etc.
</p>
<div class="sourceCode r"><pre>pkgs &lt;- c("pkg1", "pkg2", "pkg3")
cli_text("Packages: {pkgs}.")
cli_text("Packages: {.pkg {pkgs}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Packages: pkg1, pkg2, and pkg3.                                                 
#> Packages: <span style="color: #268BD2;">pkg1</span>, <span style="color: #268BD2;">pkg2</span>, and <span style="color: #268BD2;">pkg3</span>.                                                 
</pre></div>

<p>Class names are collapsed differently by default
</p>
<div class="sourceCode r"><pre>x &lt;- Sys.time()
cli_text("Hey, {.var x} has class {.cls {class(x)}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Hey, `x` has class <span style="color: #268BD2;">&lt;POSIXct/POSIXt&gt;</span>.                                            
</pre></div>

<p>By default cli truncates long vectors. The truncation limit is by default
twenty elements, but you can change it with the <code>vec-trunc</code> style.
</p>
<div class="sourceCode r"><pre>nms &lt;- cli_vec(names(mtcars), list("vec-trunc" = 5))
cli_text("Column names: {nms}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Column names: mpg, cyl, disp, …, gear, and carb.                                
</pre></div>



<h3>Formatting values</h3>

<p>The <code>val</code> inline class formats values. By default (c.f. the built-in
theme), it calls the <code><a href="cli.html#topic+cli_format">cli_format()</a></code> generic function, with the current
style as the argument. See <code><a href="cli.html#topic+cli_format">cli_format()</a></code> for examples.
</p>
<p><code>str</code> is for formatting strings, it uses <code><a href="base.html#topic+encodeString">base::encodeString()</a></code> with
double quotes.
</p>


<h3>Escaping <code style="white-space: pre;">&#8288;{&#8288;</code> and <code style="white-space: pre;">&#8288;}&#8288;</code></h3>

<p>It might happen that you want to pass a string to <code style="white-space: pre;">&#8288;cli_*&#8288;</code> functions,
and you do <em>not</em> want command substitution in that string, because it
might contain <code style="white-space: pre;">&#8288;{&#8288;</code> and <code style="white-space: pre;">&#8288;}&#8288;</code> characters. The simplest solution for this is
to refer to the string from a template:
</p>
<div class="sourceCode r"><pre>msg &lt;- "Error in if (ncol(dat$y)) {: argument is of length zero"
cli_alert_warning("{msg}")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #B58900;">!</span> Error in if (ncol(dat$y)) {: argument is of length zero                       
</pre></div>

<p>If you want to explicitly escape <code style="white-space: pre;">&#8288;{&#8288;</code> and <code style="white-space: pre;">&#8288;}&#8288;</code> characters, just double
them:
</p>
<div class="sourceCode r"><pre>cli_alert_warning("A warning with {{ braces }}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #B58900;">!</span> A warning with { braces }.                                                    
</pre></div>

<p>See also examples below.
</p>


<h3>Pluralization</h3>

<p>All cli commands that emit text support pluralization. Some examples:
</p>
<div class="sourceCode r"><pre>ndirs &lt;- 1
nfiles &lt;- 13
pkgs &lt;- c("pkg1", "pkg2", "pkg3")
cli_alert_info("Found {ndirs} director{?y/ies} and {nfiles} file{?s}.")
cli_text("Will install {length(pkgs)} package{?s}: {.pkg {pkgs}}")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #2AA198;">ℹ</span> Found 1 directory and 13 files.                                               
#> Will install 3 packages: <span style="color: #268BD2;">pkg1</span>, <span style="color: #268BD2;">pkg2</span>, and <span style="color: #268BD2;">pkg3</span>                                   
</pre></div>

<p>See <a href="cli.html#topic+pluralization">pluralization</a> for details.
</p>


<h3>Wrapping</h3>

<p>Most cli containers wrap the text to width the container's width,
while observing margins requested by the theme.
</p>
<p>To avoid a line break, you can use the UTF_8 non-breaking space
character: <code style="white-space: pre;">&#8288;\u00a0&#8288;</code>. cli will not break a line here.
</p>
<p>To force a line break, insert a form feed character: <code style="white-space: pre;">&#8288;\f&#8288;</code> or
<code style="white-space: pre;">&#8288;\u000c&#8288;</code>. cli will insert a line break there.
</p>

<hr>
<h2 id='is_ansi_tty'>Detect if a stream support ANSI escape characters</h2><span id='topic+is_ansi_tty'></span>

<h3>Description</h3>

<p>We check that all of the following hold:
</p>

<ul>
<li><p> The stream is a terminal.
</p>
</li>
<li><p> The platform is Unix.
</p>
</li>
<li><p> R is not running inside R.app (the macOS GUI).
</p>
</li>
<li><p> R is not running inside RStudio.
</p>
</li>
<li><p> R is not running inside Emacs.
</p>
</li>
<li><p> The terminal is not &quot;dumb&quot;.
</p>
</li>
<li> <p><code>stream</code> is either the standard output or the standard error stream.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>is_ansi_tty(stream = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_ansi_tty_+3A_stream">stream</code></td>
<td>
<p>The stream to inspect or manipulate, an R connection
object. It can also be a string, one of <code>"auto"</code>, <code>"message"</code>,
<code>"stdout"</code>, <code>"stderr"</code>. <code>"auto"</code> will select <code>stdout()</code> if the session is
interactive and there are no sinks, otherwise it will select <code>stderr()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>See Also</h3>

<p>Other terminal capabilities: 
<code><a href="cli.html#topic+ansi_hide_cursor">ansi_hide_cursor</a>()</code>,
<code><a href="cli.html#topic+is_dynamic_tty">is_dynamic_tty</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_ansi_tty()
</code></pre>

<hr>
<h2 id='is_dynamic_tty'>Detect whether a stream supports <code style="white-space: pre;">&#8288;\\r&#8288;</code> (Carriage return)</h2><span id='topic+is_dynamic_tty'></span>

<h3>Description</h3>

<p>In a terminal, <code style="white-space: pre;">&#8288;\\r&#8288;</code> moves the cursor to the first position of the
same line. It is also supported by most R IDEs. <code style="white-space: pre;">&#8288;\\r&#8288;</code> is typically
used to achieve a more dynamic, less cluttered user interface, e.g.
to create progress bars.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dynamic_tty(stream = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dynamic_tty_+3A_stream">stream</code></td>
<td>
<p>The stream to inspect or manipulate, an R connection
object. It can also be a string, one of <code>"auto"</code>, <code>"message"</code>,
<code>"stdout"</code>, <code>"stderr"</code>. <code>"auto"</code> will select <code>stdout()</code> if the session is
interactive and there are no sinks, otherwise it will select <code>stderr()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the output is directed to a file, then <code style="white-space: pre;">&#8288;\\r&#8288;</code> characters are typically
unwanted. This function detects if <code style="white-space: pre;">&#8288;\\r&#8288;</code> can be used for the given
stream or not.
</p>
<p>The detection mechanism is as follows:
</p>

<ol>
<li><p> If the <code>cli.dynamic</code> option is set to <code>TRUE</code>, <code>TRUE</code> is returned.
</p>
</li>
<li><p> If the <code>cli.dynamic</code> option is set to anything else, <code>FALSE</code> is
returned.
</p>
</li>
<li><p> If the <code>R_CLI_DYNAMIC</code> environment variable is not empty and set to
the string <code>"true"</code>, <code>"TRUE"</code> or <code>"True"</code>, <code>TRUE</code> is returned.
</p>
</li>
<li><p> If <code>R_CLI_DYNAMIC</code> is not empty and set to anything else, <code>FALSE</code> is
returned.
</p>
</li>
<li><p> If the stream is a terminal, then <code>TRUE</code> is returned.
</p>
</li>
<li><p> If the stream is the standard output or error within RStudio,
the macOS R app, or RKWard IDE, <code>TRUE</code> is returned.
</p>
</li>
<li><p> Otherwise <code>FALSE</code> is returned.
</p>
</li></ol>



<h3>See Also</h3>

<p>Other terminal capabilities: 
<code><a href="cli.html#topic+ansi_hide_cursor">ansi_hide_cursor</a>()</code>,
<code><a href="cli.html#topic+is_ansi_tty">is_ansi_tty</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_dynamic_tty()
is_dynamic_tty(stdout())
</code></pre>

<hr>
<h2 id='is_utf8_output'>Whether cli is emitting UTF-8 characters</h2><span id='topic+is_utf8_output'></span>

<h3>Description</h3>

<p>UTF-8 cli characters can be turned on by setting the <code>cli.unicode</code>
option to <code>TRUE</code>. They can be turned off by setting if to <code>FALSE</code>.
If this option is not set, then <code><a href="base.html#topic+l10n_info">base::l10n_info()</a></code> is used to detect
UTF-8 support.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_utf8_output()
</code></pre>


<h3>Value</h3>

<p>Flag, whether cli uses UTF-8 characters.
</p>

<hr>
<h2 id='keypress'>Read a single keypress at the terminal</h2><span id='topic+keypress'></span>

<h3>Description</h3>

<p>It currently only works at Linux/Unix and OSX terminals,
and at the Windows command line. see <code><a href="cli.html#topic+has_keypress_support">has_keypress_support</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keypress(block = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keypress_+3A_block">block</code></td>
<td>
<p>Whether to wait for a key press, if there is none
available now.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following special keys are supported:
</p>

<ul>
<li><p> Arrow keys: 'up', 'down', 'right', 'left'.
</p>
</li>
<li><p> Function keys: from 'f1' to 'f12'.
</p>
</li>
<li><p> Others: 'home', 'end', 'insert', 'delete', 'pageup', 'pagedown',
'tab', 'enter', 'backspace' (same as 'delete' on OSX keyboards),
'escape'.
</p>
</li>
<li><p> Control with one of the following keys: 'a', 'b', 'c', 'd', 'e', 'f',
'h', 'k', 'l', 'n', 'p', 't', 'u', 'w'.
</p>
</li></ul>



<h3>Value</h3>

<p>The key pressed, a character scalar. For non-blocking reads
<code>NA</code> is returned if no keys are available.
</p>


<h3>See Also</h3>

<p>Other keypress function: 
<code><a href="cli.html#topic+has_keypress_support">has_keypress_support</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- keypress()
cat("You pressed key", x, "\n")

</code></pre>

<hr>
<h2 id='links'>cli hyperlinks</h2><span id='topic+links'></span>

<h3>Description</h3>

<p>Certain cli styles create clickable links, if your IDE or terminal
supports them.
</p>


<h3>Note: hyperlinks are currently experimental</h3>

<p>The details of the styles that create hyperlinks will prrobably change
in the near future, based on user feedback.
</p>


<h3>About the links in this manual page</h3>

<p>The hyperlinks that are included in this manual are demonstrative
only, except for the <code style="white-space: pre;">&#8288;https:&#8288;</code> links. They look like a hyperlink, and
you can click on them, but they do nothing. I.e. a <code>.run</code> link will
not run the linked expression if you click on it.
</p>


<h3>Hyperlink Support</h3>

<p>As of today, the latest release of RStudio (version v2022.07.0+548)
supports all hyperlink types discussed here. Certain terminals, e.g.
iTerm on macOS, Linux terminals based on VTE (GNOME terminal) support
<code>.href</code>, <code>.email</code> and <code>.file</code> links.
</p>
<p>You can use <code><a href="cli.html#topic+ansi_has_hyperlink_support">ansi_has_hyperlink_support()</a></code> to check if your terminal or
IDE has hyperlink support in general, and <code><a href="cli.html#topic+ansi_hyperlink_types">ansi_hyperlink_types()</a></code> to
check if various types of hyperlinks are supported.
</p>
<p>If your hyperlink support is not detected properly in your IDE or
terminal, please open a cli issue at
<a href="https://github.com/r-lib/cli/issues">https://github.com/r-lib/cli/issues</a>.
</p>


<h3>Link text</h3>

<p>Before we delve into the various types of hyperlinks, a general comment
about link texts. Some link styles support a custom link text:
</p>

<ul>
<li> <p><code>.href</code>
</p>
</li>
<li> <p><code>.help</code>
</p>
</li>
<li> <p><code>.topic</code>
</p>
</li>
<li> <p><code>.vignette</code>
</p>
</li>
<li> <p><code>.run</code>
</p>
</li></ul>

<p>Others, i.e. <code>.email</code>, <code>.file</code>, <code>.fun</code> and <code>.url</code> do not support custom
link text.
</p>
<p>The generic syntax for link text is the same as for Markdown hyperlinks:
</p>
<div class="sourceCode"><pre>{.style [link text](url)}
</pre></div>


<h4>Vectorization</h4>

<p>Note that it is not possible to add link text to a vector of URLs. E.g.
this will create a list of three URLs, all clickable:
</p>
<div class="sourceCode r"><pre>urls &lt;- paste0("https://httpbin.org/status/", c(200, 403, 404))
cli::cli_text("Some httpbin URLs: {.url {urls}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Some httpbin URLs: <span style="font-style: italic;color: #268BD2;">&lt;</span><span style="font-style: italic;color: #268BD2;"><a href="https://httpbin.org/status/200">https://httpbin.org/status/200</a></span><span style="font-style: italic;color: #268BD2;">&gt;</span>,                            
#> <span style="font-style: italic;color: #268BD2;">&lt;</span><span style="font-style: italic;color: #268BD2;"><a href="https://httpbin.org/status/403">https://httpbin.org/status/403</a></span><span style="font-style: italic;color: #268BD2;">&gt;</span>, and                                           
#> <span style="font-style: italic;color: #268BD2;">&lt;</span><span style="font-style: italic;color: #268BD2;"><a href="https://httpbin.org/status/404">https://httpbin.org/status/404</a></span><span style="font-style: italic;color: #268BD2;">&gt;</span>.                                               
</pre></div>
But it is not possible to use a different link text for them.




<h4>What if hyperlinks are not available?</h4>

<p>If ANSI hyperlinks are not available, then the link text for of these
styles outputs both the link text and the URL in a (hopefully) helpful
way. See examples below.
</p>



<h3>URLs</h3>

<p>There are two cli styles to link to generic URLs. <code>.url</code> does not
allow custom link text, but <code style="white-space: pre;">&#8288;\href&#8288;</code> does.
</p>
<div class="sourceCode r"><pre>cli_text(
  "See the cli homepage at {.url https://cli.r-lib.org} for details."
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> See the cli homepage at <span style="font-style: italic;color: #268BD2;">&lt;</span><span style="font-style: italic;color: #268BD2;"><a href="https://cli.r-lib.org">https://cli.r-lib.org</a></span><span style="font-style: italic;color: #268BD2;">&gt;</span> for details.                    
</pre></div>

<div class="sourceCode r"><pre>cli_text(
  "See the {.href [cli homepage](https://cli.r-lib.org)} for details."
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> See the <a href="https://cli.r-lib.org">cli homepage</a> for details.                                               
</pre></div>



<h4>Without hyperlink support</h4>

<p>This is how these links look without hyperlink support:
</p>
<div class="sourceCode r"><pre>local({
  withr::local_options(cli.hyperlink = FALSE)
  cli_text(
    "See the cli homepage at {.url https://cli.r-lib.org} for details."
  )
  cli_text(
    "See the {.href [cli homepage](https://cli.r-lib.org)} for details."
  )
})
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> See the cli homepage at <span style="font-style: italic;color: #268BD2;">&lt;https://cli.r-lib.org&gt;</span> for details.                    
#> See the cli homepage (<span style="font-style: italic;color: #268BD2;">&lt;https://cli.r-lib.org&gt;</span>) for details.                     
</pre></div>




<h4>URL encoding</h4>

<p>Note that cli does not encode the url, so you might need to call
<code>utils::URLencode()</code> on it, especially, if it is substituted in
via <code>{}</code>.
</p>
<div class="sourceCode r"><pre>weirdurl &lt;- utils::URLencode("https://example.com/has some spaces")
cli_text("See more at {.url {weirdurl}}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> See more at <span style="font-style: italic;color: #268BD2;">&lt;</span><span style="font-style: italic;color: #268BD2;"><a href="https://example.com/has&#37;20some&#37;20spaces">https://example.com/has&#37;20some&#37;20spaces</a></span><span style="font-style: italic;color: #268BD2;">&gt;</span>.                          
</pre></div>




<h3>Files</h3>

<p>The <code>.file</code> style now automatically creates a <code style="white-space: pre;">&#8288;file:&#8288;</code> hyperlink.
Because <code style="white-space: pre;">&#8288;file:&#8288;</code> hyperlinks must contain an absolute path, cli tries to
convert relative paths, and paths starting with <code>~</code> to aboslute path.
</p>
<div class="sourceCode r"><pre>cli_text("... edit your {.file ~/.Rprofile} file.}")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... edit your <span style="color: #268BD2;"><a href="file:///Users/gaborcsardi/.Rprofile">~/.Rprofile</a></span> file.}                                                
</pre></div>



<h4>Link text</h4>

<p><code>.file</code> cannot use a custom link text. If you custom link text, then
you can use <code>.href</code> with a <code style="white-space: pre;">&#8288;file:&#8288;</code> URL.
</p>
<div class="sourceCode r"><pre>prof &lt;- path.expand("~/.Rprofile")
cli_text("... edit your {.href [R profile](file://{prof})}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... edit your <a href="file:///Users/gaborcsardi/.Rprofile">R profile</a>.                                                        
</pre></div>




<h4>Line and column numbers</h4>

<p>You may add a line number to a file name, separated by <code>:</code>. Handlers
typically place the cursor at that line after opening the file.
You may also add a column number, after the line number, separated by
another <code>:</code>.
</p>
<div class="sourceCode r"><pre>cli_text("... see line 5 in {.file ~/.Rprofile:5}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... see line 5 in <span style="color: #268BD2;"><a href="file:///Users/gaborcsardi/.Rprofile">~/.Rprofile:5</a></span>.                                                
</pre></div>




<h4>Default handler</h4>

<p>In RStudio <code style="white-space: pre;">&#8288;file:&#8288;</code> URLs open within RStudio. If you click on a file
link outside of RStudio, typically the operating system is consulted
for the application to open it.
</p>



<h4>Without hyperlink support</h4>

<p>One issue with using <code>.href</code> file files is that it does not look great
if hyperlinks are not available. This will be improved in the future:
</p>
<div class="sourceCode r"><pre>local({
  withr::local_options(cli.hyperlink = FALSE)
  prof &lt;- path.expand("~/.Rprofile")
  cli_text("... edit your {.href [R profile](file://{prof})}.")
})
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... edit your R profile (<span style="font-style: italic;color: #268BD2;">&lt;file:///Users/gaborcsardi/.Rprofile&gt;</span>).                
</pre></div>




<h3>Links to the manual</h3>

<p><code>.fun</code> automatically creates links to the manual page of the function,
provided the function name is in the <code>packagename::functionname</code> form:
</p>
<div class="sourceCode r"><pre>cli::cli_text("... see {.fun stats::lm} to learn more.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... see `<a href="x-r-help:stats::lm">stats::lm</a>()` to learn more.                                            
</pre></div>



<h4>Link text</h4>

<p>For a custom link text, use <code>.help</code> instead of <code>.fun</code>.
</p>
<div class="sourceCode r"><pre>cli::cli_text("... see {.help [{.fun lm}](stats::lm)} to learn more.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... see <a href="x-r-help:stats::lm">`lm()`</a> to learn more.                                                   
</pre></div>




<h4>Without hyperlink support</h4>

<p>The same message without hyperlink support looks like this:
</p>
<div class="sourceCode r"><pre>local({
  withr::local_options(cli.hyperlink = FALSE)
  cli::cli_text("... see {.help [{.fun lm}](stats::lm)} to learn more.")
})
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... see `lm()` (`?stats::lm()`) to learn more.                                  
</pre></div>




<h4>Topics</h4>

<p>To link to a help topic that is not a function, use <code>.topic</code>:
</p>
<div class="sourceCode r"><pre>cli::cli_text("... the tibble options at {.topic tibble::tibble_options}.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... the tibble options at <a href="x-r-help:tibble::tibble_options">tibble::tibble_options</a>.                               
</pre></div>

<p><code>.topic</code> support link text.
</p>



<h4>Vignettes</h4>

<p>To link to a vignette, use <code>.vignette</code>:
</p>
<div class="sourceCode r"><pre>cli::cli_text("... see the {.vignette tibble::types} vignette.")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ... see the <a href="x-r-vignette:tibble::types">tibble::types</a> vignette.                                             
</pre></div>




<h3>Click to run code</h3>

<p>RStudio also supports a special link type that runs R code in the
current R session upon clicking.
</p>
<p>You can create these links with <code>.run</code>:
</p>
<div class="sourceCode r"><pre>cli::cli_text("Run {.run testthat::snapshot_review()} to review")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Run <a href="x-r-run:testthat::snapshot_review()">testthat::snapshot_review()</a> to review                                       
</pre></div>



<h4>Link text</h4>

<p>Sometimes you want to show a slightly different expression in the link,
than the one that is evaluated. E.g. the evaluated expression probably
needs to qualify packages with <code>::</code>, but you might not want to show this:
</p>
<div class="sourceCode r"><pre>cli::cli_text(
  "Run {.run [snapshot_review()](testthat::snapshot_review())} to review"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Run <a href="x-r-run:testthat::snapshot_review()">snapshot_review()</a> to review                                                 
</pre></div>




<h4>Security considerations</h4>

<p>To make <code>.run</code> hyperlinks more secure, RStudio will not run code
</p>

<ul>
<li><p> that is not in the <code>pkg::fun(args)</code> form,
</p>
</li>
<li><p> if <code>args</code> contains <code>(</code>, <code style="white-space: pre;">&#8288;)&#8288;</code> or <code style="white-space: pre;">&#8288;;&#8288;</code>,
</p>
</li>
<li><p> if it calls a core package (base, stats, etc.),
</p>
</li>
<li><p> if it calls a package that is not loaded, and it is not one of
testthat, devtools, usethis, rlang, pkgload, or pkgdown which are explicitly allowed.
</p>
</li></ul>

<p>When RStudio does not run a <code>.run</code> hyperlink, then it shows the code
and the user can copy and paste it to the console, if they consider
it safe to run.
</p>
<p>Note that depending on your version of RStudio, the behavior can change.
</p>


<hr>
<h2 id='list_border_styles'>Draw a banner-like box in the console</h2><span id='topic+list_border_styles'></span><span id='topic+boxx'></span>

<h3>Description</h3>

<p>Draw a banner-like box in the console
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_border_styles()

boxx(
  label,
  header = "",
  footer = "",
  border_style = "single",
  padding = 1,
  margin = 0,
  float = c("left", "center", "right"),
  col = NULL,
  background_col = NULL,
  border_col = col,
  align = c("left", "center", "right"),
  width = console_width()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_border_styles_+3A_label">label</code></td>
<td>
<p>Label to show, a character vector. Each element will be
in a new line. You can color it using the <code style="white-space: pre;">&#8288;col_*&#8288;</code>, <code style="white-space: pre;">&#8288;bg_*&#8288;</code> and
<code style="white-space: pre;">&#8288;style_*&#8288;</code> functions, see <a href="cli.html#topic+ansi-styles">ANSI styles</a> and the examples
below.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_header">header</code></td>
<td>
<p>Text to show on top border of the box. If too long,
it will be cut.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_footer">footer</code></td>
<td>
<p>Text to show on the bottom border of the box. If too long,
it will be cut.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_border_style">border_style</code></td>
<td>
<p>String that specifies the border style.
<code>list_border_styles</code> lists all current styles.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_padding">padding</code></td>
<td>
<p>Padding within the box. Either an integer vector of
four numbers (bottom, left, top, right), or a single number <code>x</code>, which
is interpreted as <code>c(x, 3*x, x, 3*x)</code>.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_margin">margin</code></td>
<td>
<p>Margin around the box. Either an integer vector of four
numbers (bottom, left, top, right), or a single number <code>x</code>, which is
interpreted as <code>c(x, 3*x, x, 3*x)</code>.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_float">float</code></td>
<td>
<p>Whether to display the box on the <code>"left"</code>, <code>"center"</code>, or
the <code>"right"</code> of the screen.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_col">col</code></td>
<td>
<p>Color of text, and default border color. Either a style
function (see <a href="cli.html#topic+ansi-styles">ANSI styles</a>) or a color name that is
passed to <code><a href="cli.html#topic+make_ansi_style">make_ansi_style()</a></code>.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_background_col">background_col</code></td>
<td>
<p>Background color of the inside of the box.
Either a style function (see <a href="cli.html#topic+ansi-styles">ANSI styles</a>), or a color
name which will be used in <code><a href="cli.html#topic+make_ansi_style">make_ansi_style()</a></code> to create a
<em>background</em> style (i.e. <code>bg = TRUE</code> is used).</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_border_col">border_col</code></td>
<td>
<p>Color of the border. Either a style function
(see <a href="cli.html#topic+ansi-styles">ANSI styles</a>) or a color name that is passed to
<code><a href="cli.html#topic+make_ansi_style">make_ansi_style()</a></code>.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_align">align</code></td>
<td>
<p>Alignment of the label within the box: <code>"left"</code>,
<code>"center"</code>, or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="list_border_styles_+3A_width">width</code></td>
<td>
<p>Width of the screen, defaults to <code><a href="cli.html#topic+console_width">console_width()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Defaults</h4>

<div class="sourceCode r"><pre>boxx("Hello there!")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌──────────────────┐                                                            
#> │                  │                                                            
#> │   Hello there!   │                                                            
#> │                  │                                                            
#> └──────────────────┘                                                            
</pre></div>




<h4>Change border style</h4>

<div class="sourceCode r"><pre>boxx("Hello there!", border_style = "double")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ╔══════════════════╗                                                            
#> ║                  ║                                                            
#> ║   Hello there!   ║                                                            
#> ║                  ║                                                            
#> ╚══════════════════╝                                                            
</pre></div>




<h4>Multiple lines</h4>

<div class="sourceCode r"><pre>boxx(c("Hello", "there!"), padding = 1)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌────────────┐                                                                  
#> │            │                                                                  
#> │   Hello    │                                                                  
#> │   there!   │                                                                  
#> │            │                                                                  
#> └────────────┘                                                                  
</pre></div>




<h4>Padding</h4>

<div class="sourceCode r"><pre>boxx("Hello there!", padding = 1)
boxx("Hello there!", padding = c(1, 5, 1, 5))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌──────────────────┐                                                            
#> │                  │                                                            
#> │   Hello there!   │                                                            
#> │                  │                                                            
#> └──────────────────┘                                                            
#> ┌──────────────────────┐                                                        
#> │                      │                                                        
#> │     Hello there!     │                                                        
#> │                      │                                                        
#> └──────────────────────┘                                                        
</pre></div>




<h4>Floating</h4>

<div class="sourceCode r"><pre>boxx("Hello there!", padding = 1, float = "center")
boxx("Hello there!", padding = 1, float = "right")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                           ┌──────────────────┐                                  
#>                           │                  │                                  
#>                           │   Hello there!   │                                  
#>                           │                  │                                  
#>                           └──────────────────┘                                  
#>                                                   ┌──────────────────┐          
#>                                                   │                  │          
#>                                                   │   Hello there!   │          
#>                                                   │                  │          
#>                                                   └──────────────────┘          
</pre></div>




<h4>Text color</h4>

<div class="sourceCode r"><pre>boxx(col_cyan("Hello there!"), padding = 1, float = "center")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                           ┌──────────────────┐                                  
#>                           │                  │                                  
#>                           │   <span style="color: #2AA198;">Hello there!</span>   │                                  
#>                           │                  │                                  
#>                           └──────────────────┘                                  
</pre></div>




<h4>Background color</h4>

<div class="sourceCode r"><pre>boxx("Hello there!", padding = 1, background_col = "brown")
boxx("Hello there!", padding = 1, background_col = bg_red)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌──────────────────┐                                                            
#> │<span style="background-color: #990000;">                  </span>│                                                            
#> │<span style="background-color: #990000;">   Hello there!   </span>│                                                            
#> │<span style="background-color: #990000;">                  </span>│                                                            
#> └──────────────────┘                                                            
#> ┌──────────────────┐                                                            
#> │<span style="background-color: #DC322F;">                  </span>│                                                            
#> │<span style="background-color: #DC322F;">   Hello there!   </span>│                                                            
#> │<span style="background-color: #DC322F;">                  </span>│                                                            
#> └──────────────────┘                                                            
</pre></div>




<h4>Border color</h4>

<div class="sourceCode r"><pre>boxx("Hello there!", padding = 1, border_col = "green")
boxx("Hello there!", padding = 1, border_col = col_red)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">┌──────────────────┐</span>                                                            
#> <span style="color: #859900;">│</span>                  <span style="color: #859900;">│</span>                                                            
#> <span style="color: #859900;">│</span>   Hello there!   <span style="color: #859900;">│</span>                                                            
#> <span style="color: #859900;">│</span>                  <span style="color: #859900;">│</span>                                                            
#> <span style="color: #859900;">└──────────────────┘</span>                                                            
#> <span style="color: #DC322F;">┌──────────────────┐</span>                                                            
#> <span style="color: #DC322F;">│</span>                  <span style="color: #DC322F;">│</span>                                                            
#> <span style="color: #DC322F;">│</span>   Hello there!   <span style="color: #DC322F;">│</span>                                                            
#> <span style="color: #DC322F;">│</span>                  <span style="color: #DC322F;">│</span>                                                            
#> <span style="color: #DC322F;">└──────────────────┘</span>                                                            
</pre></div>




<h4>Label alignment</h4>

<div class="sourceCode r"><pre>boxx(c("Hi", "there", "you!"), padding = 1, align = "left")
boxx(c("Hi", "there", "you!"), padding = 1, align = "center")
boxx(c("Hi", "there", "you!"), padding = 1, align = "right")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ┌───────────┐                                                                   
#> │           │                                                                   
#> │   Hi      │                                                                   
#> │   there   │                                                                   
#> │   you!    │                                                                   
#> │           │                                                                   
#> └───────────┘                                                                   
#> ┌───────────┐                                                                   
#> │           │                                                                   
#> │     Hi    │                                                                   
#> │   there   │                                                                   
#> │    you!   │                                                                   
#> │           │                                                                   
#> └───────────┘                                                                   
#> ┌───────────┐                                                                   
#> │           │                                                                   
#> │      Hi   │                                                                   
#> │   there   │                                                                   
#> │    you!   │                                                                   
#> │           │                                                                   
#> └───────────┘                                                                   
</pre></div>




<h4>A very customized box</h4>

<div class="sourceCode r"><pre>star &lt;- symbol$star
label &lt;- c(paste(star, "Hello", star), "  there!")
boxx(
  col_white(label),
  border_style="round",
  padding = 1,
  float = "center",
  border_col = "tomato3",
  background_col="darkolivegreen"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #cc3333;">                           ╭───────────────╮</span>                                    
#>                            <span style="color: #cc3333;">│</span><span style="background-color: #336633;">               </span><span style="color: #cc3333;">│</span>                                    
#>                            <span style="color: #cc3333;">│</span><span style="background-color: #336633;">   </span><span style="color: #EEE8D5;background-color: #336633;">★ Hello ★</span><span style="background-color: #336633;">   </span><span style="color: #cc3333;">│</span>                                    
#>                            <span style="color: #cc3333;">│</span><span style="background-color: #336633;">   </span><span style="color: #EEE8D5;background-color: #336633;">  there!</span><span style="background-color: #336633;">    </span><span style="color: #cc3333;">│</span>                                    
#>                            <span style="color: #cc3333;">│</span><span style="background-color: #336633;">               </span><span style="color: #cc3333;">│</span>                                    
#> <span style="color: #cc3333;">                           ╰───────────────╯</span>                                    
</pre></div>




<h3>About fonts and terminal settings</h3>

<p>The boxes might or might not look great in your terminal, depending
on the box style you use and the font the terminal uses. We found that
the Menlo font looks nice in most terminals an also in Emacs.
</p>
<p>RStudio currently has a line height greater than one for console output,
which makes the boxes ugly.
</p>

<hr>
<h2 id='list_spinners'>List all available spinners</h2><span id='topic+list_spinners'></span>

<h3>Description</h3>

<p>List all available spinners
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_spinners()
</code></pre>


<h3>Value</h3>

<p>Character vector of all available spinner names.
</p>


<h3>See Also</h3>

<p>Other spinners: 
<code><a href="cli.html#topic+demo_spinners">demo_spinners</a>()</code>,
<code><a href="cli.html#topic+get_spinner">get_spinner</a>()</code>,
<code><a href="cli.html#topic+make_spinner">make_spinner</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>list_spinners()
get_spinner(list_spinners()[1])
</code></pre>

<hr>
<h2 id='make_ansi_style'>Create a new ANSI style</h2><span id='topic+make_ansi_style'></span>

<h3>Description</h3>

<p>Create a function that can be used to add ANSI styles to text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_ansi_style(..., bg = FALSE, grey = FALSE, colors = num_ansi_colors())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_ansi_style_+3A_...">...</code></td>
<td>
<p>The style to create. See details and examples below.</p>
</td></tr>
<tr><td><code id="make_ansi_style_+3A_bg">bg</code></td>
<td>
<p>Whether the color applies to the background.</p>
</td></tr>
<tr><td><code id="make_ansi_style_+3A_grey">grey</code></td>
<td>
<p>Whether to specifically create a grey color.
This flag is included, because ANSI 256 has a finer color scale
for greys, then the usual 0:5 scale for red, green and blue components.
It is only used for RGB color specifications (either numerically
or via a hexadecimal string), and it is ignored on eight color ANSI
terminals.</p>
</td></tr>
<tr><td><code id="make_ansi_style_+3A_colors">colors</code></td>
<td>
<p>Number of colors, detected automatically
by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>...</code> style argument can be any of the following:
</p>

<ul>
<li><p> A cli ANSI style function of class <code>cli_ansi_style</code>. This is returned
as is, without looking at the other arguments.
</p>
</li>
<li><p> An R color name, see <code><a href="grDevices.html#topic+colors">grDevices::colors()</a></code>.
</p>
</li>
<li><p> A 6- or 8-digit hexadecimal color string, e.g. <code style="white-space: pre;">&#8288;#ff0000&#8288;</code> means
red. Transparency (alpha channel) values are ignored.
</p>
</li>
<li><p> A one-column matrix with three rows for the red, green
and blue channels, as returned by <code><a href="grDevices.html#topic+col2rgb">grDevices::col2rgb()</a></code>.
</p>
</li></ul>

<p><code>make_ansi_style()</code> detects the number of colors to use
automatically (this can be overridden using the <code>colors</code>
argument). If the number of colors is less than 256 (detected or given),
then it falls back to the color in the ANSI eight color mode that
is closest to the specified (RGB or R) color.
</p>


<h3>Value</h3>

<p>A function that can be used to color (style) strings.
</p>


<h3>See Also</h3>

<p>Other ANSI styling: 
<code><a href="cli.html#topic+ansi-styles">ansi-styles</a></code>,
<code><a href="cli.html#topic+combine_ansi_styles">combine_ansi_styles</a>()</code>,
<code><a href="cli.html#topic+num_ansi_colors">num_ansi_colors</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>make_ansi_style("orange")
make_ansi_style("#123456")
make_ansi_style("orange", bg = TRUE)

orange &lt;- make_ansi_style("orange")
orange("foobar")
cat(orange("foobar"))
</code></pre>

<hr>
<h2 id='make_spinner'>Create a spinner</h2><span id='topic+make_spinner'></span>

<h3>Description</h3>

<p>Create a spinner
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_spinner(
  which = NULL,
  stream = "auto",
  template = "{spin}",
  static = c("dots", "print", "print_line", "silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_spinner_+3A_which">which</code></td>
<td>
<p>The name of the chosen spinner. If <code>NULL</code>, then the default
is used, which can be customized via the <code>cli.spinner_unicode</code>,
<code>cli.spinner_ascii</code> and <code>cli.spinner</code> options. (The latter applies to
both Unicode and ASCII displays. These options can be set to the name
of a built-in spinner, or to a list that has an entry called <code>frames</code>,
a character vector of frames.</p>
</td></tr>
<tr><td><code id="make_spinner_+3A_stream">stream</code></td>
<td>
<p>The stream to use for the spinner. Typically this is
standard error, or maybe the standard output stream.
It can also be a string, one of <code>"auto"</code>, <code>"message"</code>, <code>"stdout"</code>,
<code>"stderr"</code>. <code>"auto"</code> will select <code>stdout()</code> if the session is
interactive and there are no sinks, otherwise it will select
<code>stderr()</code>.</p>
</td></tr>
<tr><td><code id="make_spinner_+3A_template">template</code></td>
<td>
<p>A template string, that will contain the spinner. The
spinner itself will be substituted for <code>{spin}</code>. See example below.</p>
</td></tr>
<tr><td><code id="make_spinner_+3A_static">static</code></td>
<td>
<p>What to do if the terminal does not support dynamic
displays:
</p>

<ul>
<li> <p><code>"dots"</code>: show a dot for each <code style="white-space: pre;">&#8288;$spin()&#8288;</code> call.
</p>
</li>
<li> <p><code>"print"</code>: just print the frames of the spinner, one after another.
</p>
</li>
<li> <p><code>"print_line"</code>: print the frames of the spinner, each on its own line.
</p>
</li>
<li> <p><code>"silent"</code> do not print anything, just the <code>template</code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>cli_spinner</code> object, which is a list of functions. See
its methods below.
</p>
<p><code>cli_spinner</code> methods:
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;$spin()&#8288;</code>: output the next frame of the spinner.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;$finish()&#8288;</code>: terminate the spinner. Depending on terminal capabilities
this removes the spinner from the screen. Spinners can be reused,
you can start calling the <code style="white-space: pre;">&#8288;$spin()&#8288;</code> method again.
</p>
</li></ul>

<p>All methods return the spinner object itself, invisibly.
</p>
<p>The spinner is automatically throttled to its ideal update frequency.
</p>


<h3>Examples</h3>



<h4>Default spinner</h4>

<div class="sourceCode r"><pre>sp1 &lt;- make_spinner()
fun_with_spinner &lt;- function() {
  lapply(1:100, function(x) { sp1$spin(); Sys.sleep(0.05) })
  sp1$finish()
}
ansi_with_hidden_cursor(fun_with_spinner())
</pre></div>
<p><img src="../help/figures/make-spinner-default.svg" alt="make-spinner-default.svg" />
</p>



<h4>Spinner with a template</h4>

<div class="sourceCode r"><pre>sp2 &lt;- make_spinner(template = "Computing {spin}")
fun_with_spinner2 &lt;- function() {
  lapply(1:100, function(x) { sp2$spin(); Sys.sleep(0.05) })
  sp2$finish()
}
ansi_with_hidden_cursor(fun_with_spinner2())
</pre></div>
<p><img src="../help/figures/make-spinner-template.svg" alt="make-spinner-template.svg" />
</p>



<h4>Custom spinner</h4>

<div class="sourceCode r"><pre>sp3 &lt;- make_spinner("simpleDotsScrolling", template = "Downloading {spin}")
fun_with_spinner3 &lt;- function() {
  lapply(1:100, function(x) { sp3$spin(); Sys.sleep(0.05) })
  sp3$finish()
}
ansi_with_hidden_cursor(fun_with_spinner3())
</pre></div>
<p><img src="../help/figures/make-spinner-custom.svg" alt="make-spinner-custom.svg" />
</p>



<h3>See Also</h3>

<p>Other spinners: 
<code><a href="cli.html#topic+demo_spinners">demo_spinners</a>()</code>,
<code><a href="cli.html#topic+get_spinner">get_spinner</a>()</code>,
<code><a href="cli.html#topic+list_spinners">list_spinners</a>()</code>
</p>

<hr>
<h2 id='match_selector'>Match a selector to a container stack</h2><span id='topic+match_selector'></span>

<h3>Description</h3>

<p>Match a selector to a container stack
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_selector(sels, cnts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="match_selector_+3A_sels">sels</code></td>
<td>
<p>A list of selector nodes.</p>
</td></tr>
<tr><td><code id="match_selector_+3A_cnts">cnts</code></td>
<td>
<p>A list of container nodes.
</p>
<p>The last selector in the list must match the last container, so we
do the matching from the back. This is because we use this function
to calculate the style of newly encountered containers.</p>
</td></tr>
</table>

<hr>
<h2 id='match_selector_node'>Match a selector node to a container</h2><span id='topic+match_selector_node'></span>

<h3>Description</h3>

<p>Match a selector node to a container
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_selector_node(node, cnt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="match_selector_node_+3A_node">node</code></td>
<td>
<p>Selector node, as parsed by <code>parse_selector_node()</code>.</p>
</td></tr>
<tr><td><code id="match_selector_node_+3A_cnt">cnt</code></td>
<td>
<p>Container node, has elements <code>tag</code>, <code>id</code>, <code>class</code>.
</p>
<p>The selector node matches the container, if all these hold:
</p>

<ul>
<li><p> The id of the selector is missing or unique.
</p>
</li>
<li><p> The tag of the selector is missing or unique.
</p>
</li>
<li><p> The id of the container is missing or unique.
</p>
</li>
<li><p> The tag of the container is unique.
</p>
</li>
<li><p> If the selector specifies an id, it matches the id of the container.
</p>
</li>
<li><p> If the selector specifies a tag, it matches the tag of the container.
</p>
</li>
<li><p> If the selector specifies class names, the container has all these
classes.
</p>
</li></ul>
</td></tr>
</table>

<hr>
<h2 id='no'>Pluralization helper functions</h2><span id='topic+no'></span><span id='topic+qty'></span>

<h3>Description</h3>

<p>Pluralization helper functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>no(expr)

qty(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="no_+3A_expr">expr</code></td>
<td>
<p>For <code>no()</code> it is an expression that is printed as &quot;no&quot; in
cli expressions, it is interpreted as a zero quantity. For <code>qty()</code>
an expression that sets the pluralization quantity without printing
anything. See examples below.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other pluralization: 
<code><a href="cli.html#topic+pluralization">pluralization</a></code>,
<code><a href="cli.html#topic+pluralize">pluralize</a>()</code>
</p>

<hr>
<h2 id='num_ansi_colors'>Detect the number of ANSI colors to use</h2><span id='topic+num_ansi_colors'></span><span id='topic+detect_tty_colors'></span>

<h3>Description</h3>

<p>Certain Unix and Windows terminals, and also certain R GUIs, e.g.
RStudio, support styling terminal output using special control
sequences (ANSI sequences).
</p>
<p><code>num_ansi_colors()</code> detects if the current R session supports ANSI
sequences, and if it does how many colors are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_ansi_colors(stream = "auto")

detect_tty_colors()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="num_ansi_colors_+3A_stream">stream</code></td>
<td>
<p>The stream that will be used for output, an R connection
object. It can also be a string, one of <code>"auto"</code>, <code>"message"</code>,
<code>"stdout"</code>, <code>"stderr"</code>. <code>"auto"</code> will select <code>stdout()</code> if the session is
interactive and there are no sinks, otherwise it will select <code>stderr()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The detection mechanism is quite involved and it is designed to work
out of the box on most systems. If it does not work on your system,
please report a bug. Setting options and environment variables to turn
on ANSI support is error prone, because they are inherited in other
environments, e.g. knitr, that might not have ANSI support.
</p>
<p>If you want to <em>turn off</em> ANSI colors, set the <code>NO_COLOR</code> environment
variable to a non-empty value.
</p>
<p>The exact detection mechanism is as follows:
</p>

<ol>
<li><p> If the <code>cli.num_colors</code> options is set, that is returned.
</p>
</li>
<li><p> If the <code>R_CLI_NUM_COLORS</code> environment variable is set to a
non-empty value, then it is used.
</p>
</li>
<li><p> If the <code>crayon.enabled</code> option is set to <code>FALSE</code>, 1L is returned.
(This is for compatibility with code that uses the crayon package.)
</p>
</li>
<li><p> If the <code>crayon.enabled</code> option is set to <code>TRUE</code> and the
<code>crayon.colors</code> option is not set, then the value of the
<code>cli.default_num_colors</code> option, or if it is unset, then 8L is
returned.
</p>
</li>
<li><p> If the <code>crayon.enabled</code> option is set to <code>TRUE</code> and the
<code>crayon.colors</code> option is also set, then the latter is returned.
(This is for compatibility with code that uses the crayon package.)
</p>
</li>
<li><p> If the <code>NO_COLOR</code> environment variable is set, then 1L is returned.
</p>
</li>
<li><p> If we are in knitr, then 1L is returned, to turn off colors in
<code>.Rmd</code> chunks.
</p>
</li>
<li><p> If <code>stream</code> is <code>"auto"</code> (the default) and there is an active
sink (either for <code>"output"</code> or <code>"message"</code>), then we return 1L.
(In theory we would only need to check the stream that will be
be actually used, but there is no easy way to tell that.)
</p>
</li>
<li><p> If <code>stream</code> is not <code>"auto"</code>, but it is <code>stderr()</code> and there is an
active sink for it, then 1L is returned.
(If a sink is active for &quot;output&quot;, then R changes the <code>stdout()</code>
stream, so this check is not needed.)
</p>
</li>
<li><p> If the <code>cli.default_num_colors</code> option is set, then we use that.
</p>
</li>
<li><p> If R is running inside RGui on Windows, or R.app on macOS, then we
return 1L.
</p>
</li>
<li><p> If R is running inside RStudio, with color support, then the
appropriate number of colors is returned, usually 256L.
</p>
</li>
<li><p> If R is running on Windows, inside an Emacs version that is recent
enough to support ANSI colors, then the value of the
<code>cli.default_num_colors</code> option, or if unset 8L is returned.
(On Windows, Emacs has <code>isatty(stdout()) == FALSE</code>, so we need to
check for this here before dealing with terminals.)
</p>
</li>
<li><p> If <code>stream</code> is not the standard output or standard error  in a
terminal, then 1L is returned.
</p>
</li>
<li><p> Otherwise we use and cache the result of the terminal color
detection (see below).
</p>
</li></ol>

<p>The terminal color detection algorithm:
</p>

<ol>
<li><p> If the <code>COLORTERM</code> environment variable is set to <code>truecolor</code> or
<code style="white-space: pre;">&#8288;24bit&#8288;</code>, then we return 16 million colors.
</p>
</li>
<li><p> If the <code>COLORTERM</code> environment variable is set to anything else,
then we return the value of the <code>cli.num_default_colors</code> option,
8L if unset.
</p>
</li>
<li><p> If R is running on Unix, inside an Emacs version that is recent
enough to support ANSI colors, then the value of the
<code>cli.default_num_colors</code> option is returned, or 8L if unset.
</p>
</li>
<li><p> If we are on Windows in an RStudio terminal, then apparently
we only have eight colors, but the <code>cli.default_num_colors</code> option
can be used to override this.
</p>
</li>
<li><p> If we are in a recent enough Windows 10 terminal, then there
is either true color (from build 14931) or 256 color (from
build 10586) support. You can also use the <code>cli.default_num_colors</code>
option to override these.
</p>
</li>
<li><p> If we are on Windows, under ConEmu or cmder, or ANSICON is loaded,
then the value of <code>cli.default_num_colors</code>, or 8L if unset, is
returned.
</p>
</li>
<li><p> Otherwise if we are on Windows, return 1L.
</p>
</li>
<li><p> Otherwise we are on Unix and try to run <code style="white-space: pre;">&#8288;tput colors&#8288;</code> to determine
the number of colors. If this succeeds, we return its return value.
If the <code>TERM</code> environment variable is <code>xterm</code> and <code>tput</code>
returned 8L, we return 256L, because xterm compatible terminals
tend to support 256 colors
(<a href="https://github.com/r-lib/crayon/issues/17">https://github.com/r-lib/crayon/issues/17</a>)
You can override this with the <code>cli.default_num_colors</code> option.
</p>
</li>
<li><p> If <code>TERM</code> is set to <code>dumb</code>, we return 1L.
</p>
</li>
<li><p> If <code>TERM</code> starts with <code>screen</code>, <code>xterm</code>, or <code>vt100</code>, we return 8L.
</p>
</li>
<li><p> If <code>TERM</code> contains <code>color</code>, <code>ansi</code>, <code>cygwin</code> or <code>linux</code>, we return 8L.
</p>
</li>
<li><p> Otherwise we return 1L.
</p>
</li></ol>



<h3>Value</h3>

<p>Integer, the number of ANSI colors the current R session
supports for <code>stream</code>.
</p>


<h3>See Also</h3>

<p>Other ANSI styling: 
<code><a href="cli.html#topic+ansi-styles">ansi-styles</a></code>,
<code><a href="cli.html#topic+combine_ansi_styles">combine_ansi_styles</a>()</code>,
<code><a href="cli.html#topic+make_ansi_style">make_ansi_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>num_ansi_colors()

</code></pre>

<hr>
<h2 id='parse_selector'>Parse a CSS3-like selector</h2><span id='topic+parse_selector'></span>

<h3>Description</h3>

<p>This is the rather small subset of CSS3 that is supported:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_selector(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_selector_+3A_x">x</code></td>
<td>
<p>CSS3-like selector string.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Selectors:
</p>

<ul>
<li><p> Type selectors, e.g. <code>input</code> selects all <code style="white-space: pre;">&#8288;&lt;input&gt;&#8288;</code> elements.
</p>
</li>
<li><p> Class selectors, e.g. <code>.index</code> selects any element that has a class
of &quot;index&quot;.
</p>
</li>
<li><p> ID selector. <code style="white-space: pre;">&#8288;#toc&#8288;</code> will match the element that has the ID <code>"toc"</code>.
</p>
</li></ul>

<p>Combinators:
</p>

<ul>
<li><p> Descendant combinator, i.e. the space, that combinator selects nodes
that are descendants of the first element. E.g. <code style="white-space: pre;">&#8288;div span&#8288;</code> will match
all <code style="white-space: pre;">&#8288;&lt;span&gt;&#8288;</code> elements that are inside a <code style="white-space: pre;">&#8288;&lt;div&gt;&#8288;</code> element.
</p>
</li></ul>


<hr>
<h2 id='pluralization'>About cli pluralization</h2><span id='topic+pluralization'></span>

<h3>Description</h3>

<p>About cli pluralization
</p>


<h3>Introduction</h3>

<p>cli has tools to create messages that are printed correctly in singular
and plural forms. This usually requires minimal extra work, and
increases the quality of the messages greatly. In this document we first
show some pluralization examples that you can use as guidelines.
Hopefully these are intuitive enough, so that they can be used without
knowing the exact cli pluralization rules.
</p>
<p>If you need pluralization without the semantic cli functions, see the
<code>pluralize()</code> function.
</p>


<h3>Examples</h3>



<h4>Pluralization markup</h4>

<p>In the simplest case the message contains a single <code>{}</code> glue
substitution, which specifies the quantity that is used to select
between the singular and plural forms. Pluralization uses markup that is
similar to glue, but uses the <code style="white-space: pre;">&#8288;{?&#8288;</code> and <code style="white-space: pre;">&#8288;}&#8288;</code> delimiters:
</p>
<div class="sourceCode r"><pre>library(cli)
nfile &lt;- 0; cli_text("Found {nfile} file{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 0 files.
</pre></div>
<div class="sourceCode r"><pre>nfile &lt;- 1; cli_text("Found {nfile} file{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 1 file.
</pre></div>
<div class="sourceCode r"><pre>nfile &lt;- 2; cli_text("Found {nfile} file{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 2 files.
</pre></div>
<p>Here the value of <code>nfile</code> is used to decide whether the singular or
plural form of <code>file</code> is used. This is the most common case for English
messages.
</p>



<h4>Irregular plurals</h4>

<p>If the plural form is more difficult than a simple <code>s</code> suffix, then the
singular and plural forms can be given, separated with a forward slash:
</p>
<div class="sourceCode r"><pre>ndir &lt;- 1; cli_text("Found {ndir} director{?y/ies}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 1 directory.
</pre></div>
<div class="sourceCode r"><pre>ndir &lt;- 5; cli_text("Found {ndir} director{?y/ies}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 5 directories.
</pre></div>



<h4>Use <code>"no"</code> instead of zero</h4>

<p>For readability, it is better to use the <code>no()</code> helper function to
include a count in a message. <code>no()</code> prints the word <code>"no"</code> if the count
is zero, and prints the numeric count otherwise:
</p>
<div class="sourceCode r"><pre>nfile &lt;- 0; cli_text("Found {no(nfile)} file{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found no files.
</pre></div>
<div class="sourceCode r"><pre>nfile &lt;- 1; cli_text("Found {no(nfile)} file{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 1 file.
</pre></div>
<div class="sourceCode r"><pre>nfile &lt;- 2; cli_text("Found {no(nfile)} file{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 2 files.
</pre></div>



<h4>Use the length of character vectors</h4>

<p>With the auto-collapsing feature of cli it is easy to include a list of
objects in a message. When cli interprets a character vector as a
pluralization quantity, it takes the length of the vector:
</p>
<div class="sourceCode r"><pre>pkgs &lt;- "pkg1"
cli_text("Will remove the {.pkg {pkgs}} package{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Will remove the pkg1 package.
</pre></div>
<div class="sourceCode r"><pre>pkgs &lt;- c("pkg1", "pkg2", "pkg3")
cli_text("Will remove the {.pkg {pkgs}} package{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Will remove the pkg1, pkg2, and pkg3 packages.
</pre></div>
<p>Note that the length is only used for non-numeric vectors (when
<code>is.numeric(x)</code> return <code>FALSE</code>). If you want to use the length of a
numeric vector, convert it to character via <code>as.character()</code>.
</p>
<p>You can combine collapsed vectors with <code>"no"</code>, like this:
</p>
<div class="sourceCode r"><pre>pkgs &lt;- character()
cli_text("Will remove {?no/the/the} {.pkg {pkgs}} package{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Will remove no packages.
</pre></div>
<div class="sourceCode r"><pre>pkgs &lt;- c("pkg1", "pkg2", "pkg3")
cli_text("Will remove {?no/the/the} {.pkg {pkgs}} package{?s}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; Will remove the pkg1, pkg2, and pkg3 packages.
</pre></div>
<p>When the pluralization markup contains three alternatives, like above,
the first one is used for zero, the second for one, and the third one
for larger quantities.
</p>



<h4>Choosing the right quantity</h4>

<p>When the text contains multiple glue <code>{}</code> substitutions, the one right
before the pluralization markup is used. For example:
</p>
<div class="sourceCode r"><pre>nfiles &lt;- 3; ndirs &lt;- 1
cli_text("Found {nfiles} file{?s} and {ndirs} director{?y/ies}")
</pre></div>
<div class="sourceCode"><pre>#&gt; Found 3 files and 1 directory
</pre></div>
<p>This is sometimes not the the correct one. You can explicitly specify
the correct quantity using the <code>qty()</code> function. This sets that quantity
without printing anything:
</p>
<div class="sourceCode r"><pre>nupd &lt;- 3; ntotal &lt;- 10
cli_text("{nupd}/{ntotal} {qty(nupd)} file{?s} {?needs/need} updates")
</pre></div>
<div class="sourceCode"><pre>#&gt; 3/10 files need updates
</pre></div>
<p>Note that if the message only contains a single <code>{}</code> substitution, then
this may appear before or after the pluralization markup. If the message
contains multiple <code>{}</code> substitutions <em>after</em> pluralization markup, an
error is thrown.
</p>
<p>Similarly, if the message contains no <code>{}</code> substitutions at all, but has
pluralization markup, an error is thrown.
</p>



<h3>Rules</h3>

<p>The exact rules of cli pluralization. There are two sets of rules. The
first set specifies how a quantity is associated with a <code style="white-space: pre;">&#8288;{?}&#8288;</code>
pluralization markup. The second set describes how the <code style="white-space: pre;">&#8288;{?}&#8288;</code> is parsed
and interpreted.
</p>


<h4>Quantities</h4>


<ol>
<li> <p><code>{}</code> substitutions define quantities. If the value of a <code>{}</code>
substitution is numeric (when <code>is.numeric(x)</code> holds), then it has to
have length one to define a quantity. This is only enforced if the
<code>{}</code> substitution is used for pluralization. The quantity is defined
as the value of <code>{}</code> then, rounded with <code>as.integer()</code>. If the value
of <code>{}</code> is not numeric, then its quantity is defined as its length.
</p>
</li>
<li><p> If a message has <code style="white-space: pre;">&#8288;{?}&#8288;</code> markup but no <code>{}</code> substitution, an error is
thrown.
</p>
</li>
<li><p> If a message has exactly one <code>{}</code> substitution, its value is used as
the pluralization quantity for all <code style="white-space: pre;">&#8288;{?}&#8288;</code> markup in the message.
</p>
</li>
<li><p> If a message has multiple <code>{}</code> substitutions, then for each <code style="white-space: pre;">&#8288;{?}&#8288;</code>
markup cli uses the quantity of the <code>{}</code> substitution that precedes
it.
</p>
</li>
<li><p> If a message has multiple <code>{}</code> substitutions and has pluralization
markup without a preceding <code>{}</code> substitution, an error is thrown.
</p>
</li></ol>




<h4>Pluralization markup</h4>


<ol>
<li><p> Pluralization markup starts with <code style="white-space: pre;">&#8288;{?&#8288;</code> and ends with <code style="white-space: pre;">&#8288;}&#8288;</code>. It may not
contain <code style="white-space: pre;">&#8288;{&#8288;</code> and <code style="white-space: pre;">&#8288;}&#8288;</code> characters, so it may not contain <code>{}</code>
substitutions either.
</p>
</li>
<li><p> Alternative words or suffixes are separated by <code>/</code>.
</p>
</li>
<li><p> If there is a single alternative, then <em>nothing</em> is used if
<code>quantity == 1</code> and this single alternative is used if
<code>quantity != 1</code>.
</p>
</li>
<li><p> If there are two alternatives, the first one is used for
<code>quantity == 1</code>, the second one for <code>quantity != 1</code> (including
'<code>quantity == 0</code>).
</p>
</li>
<li><p> If there are three alternatives, the first one is used for
<code>quantity == 0</code>, the second one for <code>quantity == 1</code>, and the third
one otherwise.
</p>
</li></ol>




<h3>See Also</h3>

<p>Other pluralization: 
<code><a href="cli.html#topic+no">no</a>()</code>,
<code><a href="cli.html#topic+pluralize">pluralize</a>()</code>
</p>

<hr>
<h2 id='pluralize'>String templating with pluralization</h2><span id='topic+pluralize'></span>

<h3>Description</h3>

<p><code>pluralize()</code> is similar to <code><a href="glue.html#topic+glue">glue::glue()</a></code>, with two differences:
</p>

<ul>
<li><p> It supports cli's <a href="cli.html#topic+pluralization">pluralization</a> syntax, using <code style="white-space: pre;">&#8288;{?}&#8288;</code> markers.
</p>
</li>
<li><p> It collapses substituted vectors into a comma separated string.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>pluralize(
  ...,
  .envir = parent.frame(),
  .transformer = glue::identity_transformer
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pluralize_+3A_...">...</code>, <code id="pluralize_+3A_.envir">.envir</code>, <code id="pluralize_+3A_.transformer">.transformer</code></td>
<td>
<p>All arguments are passed to <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="cli.html#topic+pluralization">pluralization</a> and some examples below.
</p>
<p>You need to install the glue package to use this function.
</p>


<h3>See Also</h3>

<p>Other pluralization: 
<code><a href="cli.html#topic+no">no</a>()</code>,
<code><a href="cli.html#topic+pluralization">pluralization</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Regular plurals
nfile &lt;- 0; pluralize("Found {nfile} file{?s}.")
nfile &lt;- 1; pluralize("Found {nfile} file{?s}.")
nfile &lt;- 2; pluralize("Found {nfile} file{?s}.")

# Irregular plurals
ndir &lt;- 1; pluralize("Found {ndir} director{?y/ies}.")
ndir &lt;- 5; pluralize("Found {ndir} director{?y/ies}.")

# Use 'no' instead of zero
nfile &lt;- 0; pluralize("Found {no(nfile)} file{?s}.")
nfile &lt;- 1; pluralize("Found {no(nfile)} file{?s}.")
nfile &lt;- 2; pluralize("Found {no(nfile)} file{?s}.")

# Use the length of character vectors
pkgs &lt;- "pkg1"
pluralize("Will remove the {pkgs} package{?s}.")
pkgs &lt;- c("pkg1", "pkg2", "pkg3")
pluralize("Will remove the {pkgs} package{?s}.")

pkgs &lt;- character()
pluralize("Will remove {?no/the/the} {pkgs} package{?s}.")
pkgs &lt;- c("pkg1", "pkg2", "pkg3")
pluralize("Will remove {?no/the/the} {pkgs} package{?s}.")

# Multiple quantities
nfiles &lt;- 3; ndirs &lt;- 1
pluralize("Found {nfiles} file{?s} and {ndirs} director{?y/ies}")

# Explicit quantities
nupd &lt;- 3; ntotal &lt;- 10
cli_text("{nupd}/{ntotal} {qty(nupd)} file{?s} {?needs/need} updates")

</code></pre>

<hr>
<h2 id='pretty_print_code'>Turn on pretty-printing functions at the R console</h2><span id='topic+pretty_print_code'></span>

<h3>Description</h3>

<p>Defines a print method for functions, in the current session, that supports
syntax highlighting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pretty_print_code()
</code></pre>


<h3>Details</h3>

<p>The new print method takes priority over the built-in one. Use
<code><a href="base.html#topic+message">base::suppressMessages()</a></code> to suppress the alert message.
</p>

<hr>
<h2 id='progress-c'>The cli progress C API</h2><span id='topic+progress-c'></span>

<h3>Description</h3>

<p>The cli progress C API
</p>


<h3>The cli progress C API</h3>



<h4><code>CLI_SHOULD_TICK</code></h4>

<p>A macro that evaluates to (int) 1 if a cli progress bar update is due,
and to (int) 0 otherwise. If the timer hasn't been initialized in this
compilation unit yet, then it is always 0. To initialize the timer,
call <code>cli_progress_init_timer()</code> or create a progress bar with
<code>cli_progress_bar()</code>.
</p>



<h4><code>cli_progress_add()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_add(SEXP bar, double inc);
</pre></div>
<p>Add a number of progress units to the progress bar. It will also
trigger an update if an update is due.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li>
<li> <p><code>inc</code>: progress increment.
</p>
</li></ul>




<h4><code>cli_progress_bar()</code></h4>

<div class="sourceCode c"><pre>SEXP cli_progress_bar(double total, SEXP config);
</pre></div>
<p>Create a new progress bar object. The returned progress bar object
must be <code>PROTECT()</code>-ed.
</p>

<ul>
<li> <p><code>total</code>: Total number of progress units. Use <code>NA_REAL</code> if it is not
known.
</p>
</li>
<li> <p><code>config</code>: R named list object of additional parameters. May be <code>NULL</code>
(the C <code style="white-space: pre;">&#8288;NULL~) or &#8288;</code>R_NilValue<code style="white-space: pre;">&#8288;(the R&#8288;</code>NULL') for the defaults.
</p>
</li></ul>

<p><code>config</code> may contain the following entries:
</p>

<ul>
<li> <p><code>name</code>: progress bar name.
</p>
</li>
<li> <p><code>status</code>: (initial) progress bar status.
</p>
</li>
<li> <p><code>type</code>: progress bar type.
</p>
</li>
<li> <p><code>total</code>: total number of progress units.
</p>
</li>
<li> <p><code>show_after</code>: show the progress bar after the specified number of
seconds. This overrides the global <code>show_after</code> option.
</p>
</li>
<li> <p><code>format</code>: format string, must be specified for custom progress bars.
</p>
</li>
<li> <p><code>format_done</code>: format string for successful termination.
</p>
</li>
<li> <p><code>format_failed</code>: format string for unsuccessful termination.
</p>
</li>
<li> <p><code>clear</code>: whether to remove the progress bar from the screen after
termination.
</p>
</li>
<li> <p><code>auto_terminate</code>: whether to terminate the progress bar when the
number of current units equals the number of total progress units.
</p>
</li></ul>



<h5>Example</h5>

<div class="sourceCode c"><pre>#include &lt;cli/progress.h&gt;
SEXP progress_test1() {
  int i;
  SEXP bar = PROTECT(cli_progress_bar(1000, NULL));
  for (i = 0; i &lt; 1000; i++) {
    cli_progress_sleep(0, 4 * 1000 * 1000);
    if (CLI_SHOULD_TICK) cli_progress_set(bar, i);
  }
  cli_progress_done(bar);
  UNPROTECT(1);
  return Rf_ScalarInteger(i);
}
</pre></div>




<h4><code>cli_progress_done()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_done(SEXP bar);
</pre></div>
<p>Terminate the progress bar.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li></ul>




<h4><code>cli_progress_init_timer()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_init_timer();
</pre></div>
<p>Initialize the cli timer without creating a progress bar.
</p>



<h4><code>cli_progress_num()</code></h4>

<div class="sourceCode c"><pre>int cli_progress_num();
</pre></div>
<p>Returns the number of currently active progress bars.
</p>



<h4><code>cli_progress_set()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_set(SEXP bar, double set);
</pre></div>
<p>Set the progress bar to the specified number of progress units.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li>
<li> <p><code>set</code>: number of current progress progress units.
</p>
</li></ul>




<h4><code>cli_progress_set_clear()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_set_clear(SEXP bar, int clear);
</pre></div>
<p>Set whether to remove the progress bar from the screen. You can call
this any time before <code>cli_progress_done()</code> is called.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li>
<li> <p><code>clear</code>: whether to remove the progress bar from the screen, zero or
one.
</p>
</li></ul>




<h4><code>cli_progress_set_format()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_set_format(SEXP bar, const char *format, ...);
</pre></div>
<p>Set a custom format string for the progress bar. This call does not
try to update the progress bar. If you want to request an update,
call <code>cli_progress_add()</code>, <code>cli_progress_set()</code> or
<code>cli_progress_update()</code>.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li>
<li> <p><code>format</code>: format string.
</p>
</li>
<li> <p><code>...</code>: values to substitute into <code>format</code>.
</p>
</li></ul>

<p><code>format</code> and <code>...</code> are passed to <code>vsnprintf()</code> to create a format
string.
</p>
<p>Format strings may contain glue substitutions, referring to
<a href="https://cli.r-lib.org/dev/reference/progress-variables.html">progress variables</a>, pluralization, and cli
styling.
</p>



<h4><code>cli_progress_set_name()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_set_name(SEXP bar, const char *name);
</pre></div>
<p>Set the name of the progress bar.
</p>

<ul>
<li> <p><code>bar</code>; progress bar object.
</p>
</li>
<li> <p><code>name</code>: progress bar name.
</p>
</li></ul>




<h4><code>cli_progress_set_status()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_set_status(SEXP bar, const char *status);
</pre></div>
<p>Set the status of the progress bar.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li>
<li> <p><code>status </code>: progress bar status.
</p>
</li></ul>




<h4><code>cli_progress_set_type()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_set_type(SEXP bar, const char *type);
</pre></div>
<p>Set the progress bar type. Call this function right after creating
the progress bar with <code>cli_progress_bar()</code>. Otherwise the behavior is
undefined.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li>
<li> <p><code>type</code>: progress bar type. Possible progress bar types:
<code>iterator</code>, <code>tasks</code>, <code>download</code> and <code>custom</code>.
</p>
</li></ul>




<h4><code>cli_progress_update()</code></h4>

<div class="sourceCode c"><pre>void cli_progress_update(SEXP bar, double set, double inc, int force);
</pre></div>
<p>Update the progress bar. Unlike the simpler <code>cli_progress_add()</code> and
<code>cli_progress_set()</code> function, it can force an update if <code>force</code> is
set to 1.
</p>

<ul>
<li> <p><code>bar</code>: progress bar object.
</p>
</li>
<li> <p><code>set</code>: the number of current progress units. It is ignored if
negative.
</p>
</li>
<li> <p><code>inc</code>: increment to add to the current number of progress units.
It is ignored if <code>set</code> is not negative.
</p>
</li>
<li> <p><code>force</code>: whether to force an update, even if no update is due.
</p>
</li></ul>

<p>To force an update without changing the current number of progress units,
supply <code>set = -1</code>, <code>inc = 0</code> and <code>force = 1</code>.
</p>


<hr>
<h2 id='progress-variables'>Progress bar variables</h2><span id='topic+progress-variables'></span><span id='topic+cli__pb_bar'></span><span id='topic+pb_bar'></span><span id='topic+cli__pb_current'></span><span id='topic+pb_current'></span><span id='topic+cli__pb_current_bytes'></span><span id='topic+pb_current_bytes'></span><span id='topic+cli__pb_elapsed'></span><span id='topic+pb_elapsed'></span><span id='topic+cli__pb_elapsed_clock'></span><span id='topic+pb_elapsed_clock'></span><span id='topic+cli__pb_elapsed_raw'></span><span id='topic+pb_elapsed_raw'></span><span id='topic+cli__pb_eta'></span><span id='topic+pb_eta'></span><span id='topic+cli__pb_eta_raw'></span><span id='topic+pb_eta_raw'></span><span id='topic+cli__pb_eta_str'></span><span id='topic+pb_eta_str'></span><span id='topic+cli__pb_extra'></span><span id='topic+pb_extra'></span><span id='topic+cli__pb_id'></span><span id='topic+pb_id'></span><span id='topic+cli__pb_name'></span><span id='topic+pb_name'></span><span id='topic+cli__pb_percent'></span><span id='topic+pb_percent'></span><span id='topic+cli__pb_pid'></span><span id='topic+pb_pid'></span><span id='topic+cli__pb_rate'></span><span id='topic+pb_rate'></span><span id='topic+cli__pb_rate_raw'></span><span id='topic+pb_rate_raw'></span><span id='topic+cli__pb_rate_bytes'></span><span id='topic+pb_rate_bytes'></span><span id='topic+cli__pb_spin'></span><span id='topic+pb_spin'></span><span id='topic+cli__pb_status'></span><span id='topic+pb_status'></span><span id='topic+cli__pb_timestamp'></span><span id='topic+pb_timestamp'></span><span id='topic+cli__pb_total'></span><span id='topic+pb_total'></span><span id='topic+cli__pb_total_bytes'></span><span id='topic+pb_total_bytes'></span>

<h3>Description</h3>

<p>Progress bar variables
</p>


<h3>Details</h3>

<p>These variables can be used in cli progress bar format
strings. They are calculated on demand. To use a variable, e.g. <code>pb_bar</code>
in a package, you either need to to import <code>pb_bar</code> from cli, or use
the qualified form in the format string: <code>cli::pb_bar</code>.
</p>
<p>Similarly, in R scripts, you can use <code>pb_bar</code> after <code>library(cli)</code>,
or <code>cli::pb_bar</code> if you do not attach the cli package.
</p>


<h4><code>pb_bar</code></h4>

<p>Creates a visual progress bar. If the number of total units
is unknown, then it will return an empty string.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "Fitting model {cli::pb_bar} {cli::pb_percent}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Fitting model <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37;                             
</pre></div>




<h4><code>pb_current</code></h4>

<p>The number of current progress units.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_spin} Reading file {cli::pb_current}/{cli::pb_total}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Reading file 66/100                                                           
</pre></div>




<h4><code>pb_current_bytes</code></h4>

<p>The number of current progress units formatted as bytes.
The output has a constant width of six characters.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  format = "Got {cli::pb_current_bytes} in {cli::pb_elapsed}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Got 524 kB in 5s                                                                
</pre></div>




<h4><code>pb_elapsed</code></h4>

<p>The elapsed time since the start of the progress bar. The time is
measured since the progress bar was created with <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>
or similar.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} [{cli::pb_elapsed}]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; [5s]                                      
</pre></div>




<h4><code>pb_elapsed_clock</code></h4>

<p>The elapsed time, in <code style="white-space: pre;">&#8288;hh::mm::ss&#8288;</code> format.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} [{cli::pb_elapsed_clock}]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; [00:00:05]                                
</pre></div>




<h4><code>pb_elapsed_raw</code></h4>

<p>The number of seconds since the start of the progress bar.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} [{round(cli::pb_elapsed_raw)}s]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; [5s]                                      
</pre></div>




<h4><code>pb_eta</code></h4>

<p>The estimated time until the end of the progress bar,
in human readable form.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} | ETA: {cli::pb_eta}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; | ETA:  3s                                
</pre></div>




<h4><code>pb_eta_raw</code></h4>

<p>The estimated time until the end of the progress
bar, in seconds. This is useful if you want to adjust the default
<code>pb_eta</code> display.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} | ETA: {round(cli::pb_eta_raw)}s"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; | ETA: 3s                                 
</pre></div>




<h4><code>pb_eta_str</code></h4>

<p>The estimated time until the end of the progress bar.
It includes the <code>"ETA:"</code> prefix. It is only shown if the time can be
estimated, otherwise it is the empty string.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} | {cli::pb_eta_str}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; | ETA:  3s                                
</pre></div>




<h4><code>pb_extra</code></h4>

<p><code>pb_extra</code> can be used to access extra data, see the <code>extra</code> argument
of <code>cli_progress_bar()</code> and <code>cli_progress_update()</code>.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  extra = list(user = whoami::username()),
  format = "Cleaning cache for user '{cli::pb_extra$user}': {cli::pb_current_bytes}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Cleaning cache for user 'gaborcsardi': 161 MB                                   
</pre></div>




<h4><code>pb_id</code></h4>

<p>The id of the progress bar. The id has the format
<code style="white-space: pre;">&#8288;cli-&lt;pid&gt;-&lt;counter&gt;&#8288;</code> where <code style="white-space: pre;">&#8288;&lt;pid&gt;&#8288;</code> is the process id, and
<code style="white-space: pre;">&#8288;&lt;counter&gt;&#8288;</code> is an integer counter that is incremented every time
cli needs a new unique id.
</p>
<p>This is useful for debugging progress bars.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  format = "Progress bar '{cli::pb_id}' is at {cli::pb_current}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Progress bar 'cli-82040-1814' is at 64                                          
</pre></div>




<h4><code>pb_name</code></h4>

<p>The name of the progress bar. This is supplied by the
developer, and it is by default the empty string. A space character
is added to non-empty names.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  name = "Loading training data",
  total = 100,
  format = "{cli::pb_name} {cli::pb_bar} {cli::pb_percent}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Loading training data  <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37;                    
</pre></div>




<h4><code>pb_percent</code></h4>

<p>The percentage of the progress bar, always formatted
in three characters plus the percentage sign. If the total number of
units is unknown, then it is <code>" NA%"</code>.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37;                                           
</pre></div>




<h4><code>pb_pid</code></h4>

<p>The integer process id of the progress bar. This is useful if you are
aggregating logging output or progress results from multiple processes.
</p>



<h4><code>pb_rate</code></h4>

<p>The progress rate, in number of units per second, formatted in a string.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 156,
  format = "Reading input files {pb_current}/{pb_total} [{pb_rate}]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading input files 68/156 [14/s]                                               
</pre></div>




<h4><code>pb_rate_raw</code></h4>

<p>The raw progress rate, in number of units per second.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 156,
  format = "Reading input files {pb_current}/{pb_total} [{round(pb_rate_raw)}/s]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading input files 68/156 [14/s]                                               
</pre></div>




<h4><code>pb_rate_bytes</code></h4>

<p>The progress rate, formatted as bytes per second, in human readable form.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 256 * 1024 * 1014,
  format = paste0(
    "Reading data {pb_current_bytes}/{pb_total_bytes} ",
    "[{ansi_trimws(pb_rate_bytes)}]"
  )
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading data  70 MB/266 MB [14 MB/s]                                            
</pre></div>




<h4><code>pb_spin</code></h4>

<p>A spinner. The default spinner is selected via a <code><a href="cli.html#topic+get_spinner">get_spinner()</a></code> call.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_spin} Reading file {cli::pb_current}/{cli::pb_total}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Reading file 66/100                                                           
</pre></div>




<h4><code>pb_status</code></h4>

<p>The status string of the progress bar. By default this is an empty
string, but it is possible to set it in <code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar()</a></code>
and 'cli_progress_update()].
</p>
<div class="sourceCode r"><pre>cli_progress_bar(status = "Connecting...")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Connecting... 0 done (0/s) | 1s                                               
</pre></div>




<h4><code>pb_timestamp</code></h4>

<p>A time stamp for the current time in ISO 8601 format.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  "Loading training data files",
  format = "{pb_timestamp} {pb_current} ({pb_rate})"
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> 2022-09-07T11:27:50+00:00 125 (25/s)                                            
</pre></div>




<h4><code>pb_total</code></h4>

<p>The total number of progress units, or <code>NA</code> if the number of units is
unknown.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_spin} Reading file {cli::pb_current}/{cli::pb_total}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Reading file 66/100                                                           
</pre></div>




<h4><code>pb_total_bytes</code></h4>

<p>The total number of progress units, formatted as
bytes, in a human readable format.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 256 * 1024 * 1014,
  format = paste0(
    "Reading data {pb_current_bytes}/{pb_total_bytes} ",
    "[{ansi_trimws(pb_rate_bytes)}]"
  )
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading data  70 MB/266 MB [14 MB/s]                                            
</pre></div>




<h3>See Also</h3>

<p>Other progress bar functions: 
<code><a href="cli.html#topic+cli_progress_along">cli_progress_along</a>()</code>,
<code><a href="cli.html#topic+cli_progress_bar">cli_progress_bar</a>()</code>,
<code><a href="cli.html#topic+cli_progress_builtin_handlers">cli_progress_builtin_handlers</a>()</code>,
<code><a href="cli.html#topic+cli_progress_message">cli_progress_message</a>()</code>,
<code><a href="cli.html#topic+cli_progress_num">cli_progress_num</a>()</code>,
<code><a href="cli.html#topic+cli_progress_output">cli_progress_output</a>()</code>,
<code><a href="cli.html#topic+cli_progress_step">cli_progress_step</a>()</code>,
<code><a href="cli.html#topic+cli_progress_styles">cli_progress_styles</a>()</code>
</p>

<hr>
<h2 id='rule'>Make a rule with one or two text labels</h2><span id='topic+rule'></span>

<h3>Description</h3>

<p>The rule can include either a centered text label, or labels on the
left and right side.
</p>
<p>To color the labels, use the functions <code style="white-space: pre;">&#8288;col_*&#8288;</code>, <code style="white-space: pre;">&#8288;bg_*&#8288;</code> and <code style="white-space: pre;">&#8288;style_*&#8288;</code>
functions, see <a href="cli.html#topic+ansi-styles">ANSI styles</a>, and the examples below.
To color the line, either these functions directly, or the <code>line_col</code>
option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rule(
  left = "",
  center = "",
  right = "",
  line = 1,
  col = NULL,
  line_col = col,
  background_col = NULL,
  width = console_width()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rule_+3A_left">left</code></td>
<td>
<p>Label to show on the left. It interferes with the <code>center</code>
label, only at most one of them can be present.</p>
</td></tr>
<tr><td><code id="rule_+3A_center">center</code></td>
<td>
<p>Label to show at the center. It interferes  with the
<code>left</code> and <code>right</code> labels.</p>
</td></tr>
<tr><td><code id="rule_+3A_right">right</code></td>
<td>
<p>Label to show on the right. It interferes with the <code>center</code>
label, only at most one of them can be present.</p>
</td></tr>
<tr><td><code id="rule_+3A_line">line</code></td>
<td>
<p>The character or string that is used to draw the line.
It can also <code>1</code> or <code>2</code>, to request a single line (Unicode, if
available), or a double line. Some strings are interpreted specially,
see <em>Line styles</em> below.</p>
</td></tr>
<tr><td><code id="rule_+3A_col">col</code></td>
<td>
<p>Color of text, and default line color. Either an ANSI style
function (see <a href="cli.html#topic+ansi-styles">ANSI styles</a>), or a color name that is
passed to <code><a href="cli.html#topic+make_ansi_style">make_ansi_style()</a></code>.</p>
</td></tr>
<tr><td><code id="rule_+3A_line_col">line_col</code>, <code id="rule_+3A_background_col">background_col</code></td>
<td>
<p>Either a color name (used in
<code><a href="cli.html#topic+make_ansi_style">make_ansi_style()</a></code>), or a style function (see
<a href="cli.html#topic+ansi-styles">ANSI styles</a>), to color the line and background.</p>
</td></tr>
<tr><td><code id="rule_+3A_width">width</code></td>
<td>
<p>Width of the rule. Defaults to the <code>width</code> option, see
<code><a href="base.html#topic+options">base::options()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Simple rule</h4>

<div class="sourceCode r"><pre>rule()
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ──────────────────────────────────────────────────────────────────────          
</pre></div>




<h4>Line styles</h4>

<p>Some strings for the <code>line</code> argument are interpreted specially:
</p>

<ul>
<li> <p><code>"single"</code>: (same as <code>1</code>), a single line,
</p>
</li>
<li> <p><code>"double"</code>: (same as <code>2</code>), a double line,
</p>
</li>
<li> <p><code>"bar1"</code>, <code>"bar2"</code>, <code>"bar3"</code>, etc., <code>"bar8"</code> uses varying height bars.
</p>
</li></ul>



<h5>Double rule</h5>

<div class="sourceCode r"><pre>rule(line = 2)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ══════════════════════════════════════════════════════════════════════          
</pre></div>




<h5>Bars</h5>

<div class="sourceCode r"><pre>rule(line = "bar2")
rule(line = "bar5")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂          
#> ▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅          
</pre></div>




<h5>Custom lines</h5>

<div class="sourceCode r"><pre>rule(center = "TITLE", line = "~")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ TITLE ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~          
</pre></div>

<div class="sourceCode r"><pre>rule(center = "TITLE", line = col_blue("~-"))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #268BD2;">~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-</span> TITLE <span style="color: #268BD2;">~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~</span>          
</pre></div>

<div class="sourceCode r"><pre>rule(center = bg_red(" ", symbol$star, "TITLE",
  symbol$star, " "),
  line = "\u2582",
  line_col = "orange")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #ff9900;">▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂</span> <span style="background-color: #DC322F;"> ★TITLE★ </span> <span style="color: #ff9900;">▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂</span>          
</pre></div>





<h4>Left label</h4>

<div class="sourceCode r"><pre>rule(left = "Results")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ── Results ───────────────────────────────────────────────────────────          
</pre></div>




<h4>Centered label</h4>

<div class="sourceCode r"><pre>rule(center = " * RESULTS * ")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ────────────────────────────  * RESULTS *  ───────────────────────────          
</pre></div>




<h4>Colored labels</h4>

<div class="sourceCode r"><pre>rule(center = col_red(" * RESULTS * "))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ──────────────────────────── <span style="color: #DC322F;"> * RESULTS * </span> ───────────────────────────          
</pre></div>




<h4>Colored line</h4>

<div class="sourceCode r"><pre>rule(center = col_red(" * RESULTS * "), line_col = "red")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #DC322F;">────────────────────────────</span> <span style="color: #DC322F;"> * RESULTS * </span> <span style="color: #DC322F;">───────────────────────────</span>          
</pre></div>




<h3>Value</h3>

<p>Character scalar, the rule.
</p>

<hr>
<h2 id='ruler'>Print the helpful ruler to the screen</h2><span id='topic+ruler'></span>

<h3>Description</h3>

<p>Print the helpful ruler to the screen
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ruler(width = console_width())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ruler_+3A_width">width</code></td>
<td>
<p>Ruler width.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ruler()
</code></pre>

<hr>
<h2 id='simple_theme'>A simple CLI theme</h2><span id='topic+simple_theme'></span>

<h3>Description</h3>

<p>To use this theme, you can set it as the <code>cli.theme</code> option.
Note that this is in addition to the builtin theme, which is still in
effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_theme(dark = getOption("cli.theme_dark", "auto"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_theme_+3A_dark">dark</code></td>
<td>
<p>Whether the theme should be optimized for a dark
background. If <code>"auto"</code>, then cli will try to detect this.
Detection usually works in recent RStudio versions, and in iTerm
on macOS, but not on other platforms.</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>options(cli.theme = cli::simple_theme())
</pre></div>
<p>and then CLI apps started after this will use it as the default theme.
You can also use it temporarily, in a div element:
</p>
<div class="sourceCode r"><pre>cli_div(theme = cli::simple_theme())
</pre></div>


<h3>Showcase</h3>

<div class="sourceCode r"><pre>show &lt;- cli_div(theme = cli::simple_theme())

cli_h1("Heading 1")
cli_h2("Heading 2")
cli_h3("Heading 3")

cli_par()
cli_alert_danger("Danger alert")
cli_alert_warning("Warning alert")
cli_alert_info("Info alert")
cli_alert_success("Success alert")
cli_alert("Alert for starting a process or computation",
  class = "alert-start")
cli_end()

cli_text("Packages and versions: {.pkg cli} {.version 1.0.0}.")
cli_text("Time intervals: {.timestamp 3.4s}")

cli_text("{.emph Emphasis} and  {.strong strong emphasis}")

cli_text("This is a piece of code: {.code sum(x) / length(x)}")
cli_text("Function names: {.fn cli::simple_theme}")

cli_text("Files: {.file /usr/bin/env}")
cli_text("URLs: {.url https://r-project.org}")

cli_h2("Longer code chunk")
cli_par(class = "code R")
cli_verbatim(
  '# window functions are useful for grouped mutates',
  'mtcars %&gt;%',
  '  group_by(cyl) %&gt;%',
  '  mutate(rank = min_rank(desc(mpg)))')

cli_end(show)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#>                                                                                 
#> <span style="color: #2AA198;">──</span> <span style="font-weight: bold;color: #2AA198;">Heading 1</span> <span style="color: #2AA198;">─────────────────────────────────────────────────────────</span>          
#>                                                                                 
#> ─ <span style="font-weight: bold;color: #2AA198;">Heading 2</span> ──                                                                  
#>                                                                                 
#> <span style="color: #2AA198;">Heading 3</span>                                                                       
#> <span style="color: #EEE8D5;background-color: #DC322F;">✖ Danger alert</span>                                                                  
#> <span style="font-weight: bold;color: #ff9900;">! Warning alert</span>                                                                 
#> <span style="color: #2AA198;">ℹ</span> Info alert                                                                    
#> <span style="color: #859900;">✔</span> Success alert                                                                 
#> → Alert for starting a process or computation                                   
#>                                                                                 
#> Packages and versions: <span style="font-weight: bold;color: #268BD2;">cli</span> <span style="color: #268BD2;">1.0.0</span>.                                               
#> Time intervals: <span style="color: #b8b8b8;">[3.4s]</span>                                                          
#> <span style="font-style: italic;">Emphasis</span> and <span style="font-weight: bold;font-style: italic;">strong emphasis</span>                                                    
#> This is a piece of code: `sum(x) / length(x)`                                   
#> Function names: <span style="color: #292929;background-color: #f5f5f5;">`cli::simple_theme()`()</span>                                         
#> Files: <span style="color: #268BD2;">/usr/bin/env</span>                                                             
#> URLs: <span style="font-style: italic;color: #268BD2;">&lt;https://r-project.org&gt;</span>                                                   
#>                                                                                 
#> ─ <span style="font-weight: bold;color: #2AA198;">Longer code chunk</span> ──                                                          
#> <span style="font-style: italic;color: #a3a3a3;"># window functions are useful for grouped mutates</span>                               
#> mtcars <span style="color: #859900;">&#37;&gt;&#37;</span>                                                                      
#>   <span style="color: #2AA198;">group_by</span><span style="color: #B58900;">(</span>cyl<span style="color: #B58900;">)</span> <span style="color: #859900;">&#37;&gt;&#37;</span>                                                             
#>   <span style="color: #2AA198;">mutate</span><span style="color: #B58900;">(</span>rank = <span style="color: #2AA198;">min_rank</span><span style="color: #268BD2;">(</span><span style="color: #2AA198;">desc(</span>mpg<span style="color: #2AA198;">)</span><span style="color: #268BD2;">)</span><span style="color: #B58900;">)</span>                                            
#>                                                                                 
</pre></div>



<h3>See Also</h3>

<p><a href="cli.html#topic+themes">themes</a>, <code><a href="cli.html#topic+builtin_theme">builtin_theme()</a></code>.
</p>

<hr>
<h2 id='spark_bar'>Draw a sparkline bar graph with unicode block characters</h2><span id='topic+spark_bar'></span>

<h3>Description</h3>

<p>Rendered using <a href="https://en.wikipedia.org/wiki/Block_Elements">block elements</a>.
In most common fixed width fonts these are rendered wider than regular
characters which means they are not suitable if you need precise alignment.
</p>
<p>You might want to avoid sparklines on non-UTF-8 systems, because they
do not look good. You can use <code><a href="cli.html#topic+is_utf8_output">is_utf8_output()</a></code> to test for support
for them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spark_bar(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spark_bar_+3A_x">x</code></td>
<td>
<p>A numeric vector between 0 and 1</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>x &lt;- seq(0, 1, length = 6)
spark_bar(x)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ▁▂▄▅▇█                                                                          
</pre></div>

<div class="sourceCode r"><pre>x &lt;- seq(0, 1, length = 6)
spark_bar(sample(x))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ▅▁█▄▇▂                                                                          
</pre></div>

<div class="sourceCode r"><pre>spark_bar(seq(0, 1, length = 8))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ▁▂▃▄▅▆▇█                                                                        
</pre></div>

<p><code>NA</code>s are left out:
</p>
<div class="sourceCode r"><pre>spark_bar(c(0, NA, 0.5, NA, 1))
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ▁ ▄ █                                                                           
</pre></div>



<h3>See Also</h3>

<p><code><a href="cli.html#topic+spark_line">spark_line()</a></code>
</p>

<hr>
<h2 id='spark_line'>Draw a sparkline line graph with Braille characters.</h2><span id='topic+spark_line'></span>

<h3>Description</h3>

<p>You might want to avoid sparklines on non-UTF-8 systems, because they
do not look good. You can use <code><a href="cli.html#topic+is_utf8_output">is_utf8_output()</a></code> to test for support
for them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spark_line(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spark_line_+3A_x">x</code></td>
<td>
<p>A numeric vector between 0 and 1</p>
</td></tr>
</table>


<h3>Details</h3>

<div class="sourceCode r"><pre>x &lt;- seq(0, 1, length = 10)
spark_line(x)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⣀⡠⠔⠊⠉                                                                           
</pre></div>



<h3>See Also</h3>

<p><code><a href="cli.html#topic+spark_bar">spark_bar()</a></code>
</p>

<hr>
<h2 id='start_app'>Start, stop, query the default cli application</h2><span id='topic+start_app'></span><span id='topic+stop_app'></span><span id='topic+default_app'></span>

<h3>Description</h3>

<p><code>start_app</code> creates an app, and places it on the top of the app stack.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>start_app(
  theme = getOption("cli.theme"),
  output = c("auto", "message", "stdout", "stderr"),
  .auto_close = TRUE,
  .envir = parent.frame()
)

stop_app(app = NULL)

default_app()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="start_app_+3A_theme">theme</code></td>
<td>
<p>Theme to use.</p>
</td></tr>
<tr><td><code id="start_app_+3A_output">output</code></td>
<td>
<p>How to print the output.</p>
</td></tr>
<tr><td><code id="start_app_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to stop the app, when the calling frame
is destroyed.</p>
</td></tr>
<tr><td><code id="start_app_+3A_.envir">.envir</code></td>
<td>
<p>The environment to use, instead of the calling frame,
to trigger the stop of the app.</p>
</td></tr>
<tr><td><code id="start_app_+3A_app">app</code></td>
<td>
<p>App to stop. If <code>NULL</code>, the current default app is stopped.
Otherwise we find the supplied app in the app stack, and remote it,
together with all the apps above it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>stop_app</code> removes the top app, or multiple apps from the app stack.
</p>
<p><code>default_app</code> returns the default app, the one on the top of the stack.
</p>


<h3>Value</h3>

<p><code>start_app</code> returns the new app, <code>default_app</code> returns the default app.
<code>stop_app</code> does not return anything.
</p>

<hr>
<h2 id='style_hyperlink'>Terminal Hyperlinks</h2><span id='topic+style_hyperlink'></span><span id='topic+ansi_has_hyperlink_support'></span><span id='topic+ansi_hyperlink_types'></span>

<h3>Description</h3>

<p><code>ansi_hyperlink()</code> creates an ANSI hyperlink.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style_hyperlink(text, url, params = NULL)

ansi_has_hyperlink_support()

ansi_hyperlink_types()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="style_hyperlink_+3A_text">text</code></td>
<td>
<p>Text to show. <code>text</code> and <code>url</code> are recycled to match their
length, via a <code>paste0()</code> call.</p>
</td></tr>
<tr><td><code id="style_hyperlink_+3A_url">url</code></td>
<td>
<p>URL to link to.</p>
</td></tr>
<tr><td><code id="style_hyperlink_+3A_params">params</code></td>
<td>
<p>A named character vector of additional parameters, or <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is currently experimental. In particular, many of the
<code style="white-space: pre;">&#8288;ansi_*()&#8288;</code> functions do not support it properly.
</p>
<p><code>ansi_has_hyperlink_support()</code> checks if the current <code>stdout()</code>
supports hyperlinks.
</p>
<p>See also
<a href="https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda">https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda</a>.
</p>
<p><code>ansi_hyperlink_types()</code> checks if current <code>stdout()</code> supports various
types of hyperlinks. It returns a list with entries <code>href</code>, <code>run</code>,
<code>help</code> and <code>vignettes</code>.
</p>


<h3>Value</h3>

<p>Styled <code>cli_ansi_string</code> for <code>style_hyperlink()</code>.
Logical scalar for <code>ansi_has_hyperlink_support()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat("This is an", style_hyperlink("R", "https://r-project.org"), "link.\n")
ansi_has_hyperlink_support()
</code></pre>

<hr>
<h2 id='symbol'>Various handy symbols to use in a command line UI</h2><span id='topic+symbol'></span><span id='topic+list_symbols'></span>

<h3>Description</h3>

<p>Various handy symbols to use in a command line UI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>symbol

list_symbols()
</code></pre>


<h3>Format</h3>

<p>A named list, see <code>names(symbol)</code> for all sign names.
</p>


<h3>Details</h3>

<p>On Windows they have a fallback to less fancy symbols.
</p>
<p><code>list_symbols()</code> prints a table with all symbols to the screen.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(symbol$tick, " SUCCESS\n", symbol$cross, " FAILURE\n", sep = "")

## All symbols
cat(paste(format(names(symbol), width = 20),
  unlist(symbol)), sep = "\n")
</code></pre>

<hr>
<h2 id='test_that_cli'>Test cli output with testthat</h2><span id='topic+test_that_cli'></span>

<h3>Description</h3>

<p>Use this function in your testthat test files, to test cli output.
It requires testthat edition 3, and works best with snapshot tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_that_cli(
  desc,
  code,
  configs = c("plain", "ansi", "unicode", "fancy"),
  links = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="test_that_cli_+3A_desc">desc</code></td>
<td>
<p>Test description, passed to <code><a href="testthat.html#topic+test_that">testthat::test_that()</a></code>, after
appending the name of the cli configuration to it.</p>
</td></tr>
<tr><td><code id="test_that_cli_+3A_code">code</code></td>
<td>
<p>Test code, it is modified to set up the cli config, and
then passed to <code><a href="testthat.html#topic+test_that">testthat::test_that()</a></code></p>
</td></tr>
<tr><td><code id="test_that_cli_+3A_configs">configs</code></td>
<td>
<p>cli configurations to test <code>code</code> with. The default is
<code>NULL</code>, which includes all possible configurations. It can also be a
character vector, to restrict the tests to some configurations only.
See available configurations below.</p>
</td></tr>
<tr><td><code id="test_that_cli_+3A_links">links</code></td>
<td>
<p>Whether to run the code with various hyperlinks allowed.
If <code>NULL</code> then hyperlinks are turned off. Otherwise it can be a character
vector with possible hyperlink configurations:
</p>

<ul>
<li> <p><code>"all"</code>: turn on all hyperlinks,
</p>
</li>
<li> <p><code>"none"</code>: turn off all hyperlinks.
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p><code>test_that_cli()</code> calls <code><a href="testthat.html#topic+test_that">testthat::test_that()</a></code> multiple times, with
different cli configurations. This makes it simple to test cli output
with and without ANSI colors, with and without Unicode characters.
</p>
<p>Currently available configurations:
</p>

<ul>
<li> <p><code>plain</code>: no ANSI colors, ASCII characters only.
</p>
</li>
<li> <p><code>ansi</code>: ANSI colors, ASCII characters only.
</p>
</li>
<li> <p><code>unicode</code>: no ANSI colors, Unicode characters.
</p>
</li>
<li> <p><code>fancy</code>; ANSI colors, Unicode characters.
</p>
</li></ul>

<p>See examples below and in cli's own tests, e.g. in
<a href="https://github.com/r-lib/cli/tree/main/tests/testthat">https://github.com/r-lib/cli/tree/main/tests/testthat</a>
and the corresponding snapshots at
<a href="https://github.com/r-lib/cli/tree/main/tests/testthat/_snaps">https://github.com/r-lib/cli/tree/main/tests/testthat/_snaps</a>
</p>


<h4>Important note regarding Windows</h4>

<p>Because of base R's limitation to record Unicode characters on Windows,
we suggest that you record your snapshots on Unix, or you restrict
your tests to ASCII configurations.
</p>
<p>Unicode tests on Windows are automatically skipped by testthat
currently.
</p>



<h3>Examples</h3>

<pre><code class='language-R'># testthat cannot record or compare snapshots when you run these
# examples interactively, so you might want to copy them into a test
# file

# Default configurations
cli::test_that_cli("success", {
  testthat::local_edition(3)
  testthat::expect_snapshot({
    cli::cli_alert_success("wow")
  })
})

# Only use two configurations, because this output does not have colors
cli::test_that_cli(configs = c("plain", "unicode"), "cat_bullet", {
  testthat::local_edition(3)
  testthat::expect_snapshot({
    cli::cat_bullet(letters[1:5])
  })
})

# You often need to evaluate all cli calls of a test case in the same
# environment. Use `local()` to do that:
cli::test_that_cli("theming", {
  testthat::local_edition(3)
  testthat::expect_snapshot(local({
    cli::cli_div(theme = list(".alert" = list(before = "!!! ")))
    cli::cli_alert("wow")
  }))
})
</code></pre>

<hr>
<h2 id='themes'>About cli themes</h2><span id='topic+themes'></span>

<h3>Description</h3>

<p>CLI elements can be styled via a CSS-like language of selectors and
properties. Only a small subset of CSS3 is supported, and
a lot visual properties cannot be implemented on a terminal, so these
will be ignored as well.
</p>


<h3>Adding themes</h3>

<p>The style of an element is calculated from themes from four sources.
These form a stack, and the themes on the top of the stack take
precedence, over themes in the bottom.
</p>

<ol>
<li><p> The cli package has a built-in theme. This is always active.
See <code><a href="cli.html#topic+builtin_theme">builtin_theme()</a></code>.
</p>
</li>
<li><p> When an app object is created via <code><a href="cli.html#topic+start_app">start_app()</a></code>, the caller can
specify a theme, that is added to theme stack. If no theme is
specified for <code><a href="cli.html#topic+start_app">start_app()</a></code>, the content of the <code>cli.theme</code> option
is used. Removed when the corresponding app stops.
</p>
</li>
<li><p> The user may specify a theme in the <code>cli.user_theme</code> option. This
is added to the stack <em>after</em> the app's theme (step 2.), so it can
override its settings. Removed when the app that added it stops.
</p>
</li>
<li><p> Themes specified explicitly in <code><a href="cli.html#topic+cli_div">cli_div()</a></code> elements. These are
removed from the theme stack, when the corresponding <code><a href="cli.html#topic+cli_div">cli_div()</a></code>
elements are closed.
</p>
</li></ol>



<h3>Writing themes</h3>

<p>A theme is a named list of lists. The name of each entry is a CSS
selector. Only a subset of CSS is supported:
</p>

<ul>
<li><p> Type selectors, e.g. <code>input</code> selects all <code style="white-space: pre;">&#8288;&lt;input&gt;&#8288;</code> elements.
</p>
</li>
<li><p> Class selectors, e.g. <code>.index</code> selects any element that has a class
of &quot;index&quot;.
</p>
</li>
<li><p> ID selector. <code style="white-space: pre;">&#8288;#toc&#8288;</code> will match the element that has the ID &quot;toc&quot;.
</p>
</li>
<li><p> The descendant combinator, i.e. the space, that selects nodes
that are descendants of the first element. E.g. <code style="white-space: pre;">&#8288;div span&#8288;</code> will match
all <code style="white-space: pre;">&#8288;&lt;span&gt;&#8288;</code> elements that are inside a <code style="white-space: pre;">&#8288;&lt;div&gt;&#8288;</code> element.
</p>
</li></ul>

<p>The content of a theme list entry is another named list, where the
names are CSS properties, e.g. <code>color</code>, or <code>font-weight</code> or
<code>margin-left</code>, and the list entries themselves define the values of
the properties. See <code><a href="cli.html#topic+builtin_theme">builtin_theme()</a></code> and <code><a href="cli.html#topic+simple_theme">simple_theme()</a></code> for examples.
</p>


<h3>Formatter callbacks</h3>

<p>For flexibility, themes may also define formatter functions, with
property name <code>fmt</code>. These will be called once the other styles are
applied to an element. They are only called on elements that produce
output, i.e. <em>not</em> on container elements.
</p>


<h3>Supported properties</h3>

<p>Right now only a limited set of properties are supported. These include
left, right, top and bottom margins, background and foreground colors,
bold and italic fonts, underlined text. The <code>before</code> and <code>after</code>
properties are supported to insert text before and after the
content of the element.
</p>
<p>The current list of properties:
</p>

<ul>
<li> <p><code>after</code>: A string literal to insert after the element. It can also be
a function that returns a string literal. Supported by all inline
elements, list items, alerts and rules.
</p>
</li>
<li> <p><code>background-color</code>: An R color name, or HTML hexadecimal color.
It can be applied to most elements (inline elements, rules, text,
etc.), but the background of containers is not colored properly
currently.
</p>
</li>
<li> <p><code>before</code>: A string literal to insert before the element. It can also be
a function that returns a string literal. Supported by all inline
elements, list items, alerts and rules.
</p>
</li>
<li> <p><code>class-map</code>: Its value can be a named list, and it specifies how
R (S3) class names are mapped to cli class names. E.g.
<code>list(fs_path = "file")</code> specifies that <code>fs_path</code> objects (from the fs
package) should always print as <code>.file</code> objects in cli.
</p>
</li>
<li> <p><code>color</code>: Text color, an R color name or a HTML hexadecimal color. It
can be applied to most elements that are printed.
</p>
</li>
<li> <p><code>collapse</code>: Specifies how to collapse a vector, before applying
styling. If a character string, then that is used as the separator.
If a function, then it is called, with the vector as the only
argument.
</p>
</li>
<li> <p><code>digits</code>: Number of digits after the decimal point for numeric inline
element of class <code>.val</code>.
</p>
</li>
<li> <p><code>fmt</code>: Generic formatter function that takes an input text and returns
formatted text. Can be applied to most elements. If colors are in use,
the input text provided to <code>fmt</code> already includes ANSI sequences.
</p>
</li>
<li> <p><code>font-style</code>: If <code>"italic"</code> then the text is printed as cursive.
</p>
</li>
<li> <p><code>font-weight</code>: If <code>"bold"</code>, then the text is printed in boldface.
</p>
</li>
<li> <p><code>line-type</code>: Line type for <code><a href="cli.html#topic+cli_rule">cli_rule()</a></code>.
</p>
</li>
<li> <p><code>list-style-type</code>: String literal or functions that returns a string
literal, to be used as a list item marker in un-ordered lists.
</p>
</li>
<li> <p><code>margin-bottom</code>, <code>margin-left</code>, <code>margin-right</code>, <code>margin-top</code>: Margins.
</p>
</li>
<li> <p><code>padding-left</code>, <code>padding-right</code>: This is currently used the same way
as the margins, but this might change later.
</p>
</li>
<li> <p><code>start</code>: Integer number, the first element in an ordered list.
</p>
</li>
<li> <p><code>string-quote</code>: Quoting character for inline elements of class <code>.val</code>.
</p>
</li>
<li> <p><code>text-decoration</code>: If <code>"underline"</code>, then underlined text is created.
</p>
</li>
<li> <p><code>text-exdent</code>: Amount of indentation from the second line of wrapped
text.
</p>
</li>
<li> <p><code>transform</code>: A function to call on glue substitutions, before
collapsing them. Note that <code>transform</code> is applied prior to
implementing color via ANSI sequences.
</p>
</li>
<li> <p><code>vec-last</code>: The last separator when collapsing vectors.
</p>
</li>
<li> <p><code>vec-sep</code>: The separator to use when collapsing vectors.
</p>
</li>
<li> <p><code>vec-sep2</code>: The separator to use for two elements when collapsing
vectors. If not set, then <code>vec-sep</code> is used for these as well.
</p>
</li>
<li> <p><code>vec-trunc</code>: Vectors longer than this will be truncated. Defaults to
100.
</p>
</li>
<li> <p><code>vec-trunc-style</code>: Select between two ways of collapsing vectors:
</p>

<ul>
<li> <p><code>"both-ends"</code> is the current default and it shows the beginning and
the end of the vector.
</p>
</li>
<li> <p><code>"head"</code> only shows the beginning of the vector.
</p>
</li></ul>

</li></ul>

<p>More properties might be added later. If you think that a property is
not applied properly to an element, please open an issue about it in
the cli issue tracker.
</p>


<h3>Examples</h3>

<p>Color of headings, that are only active in paragraphs with an
'output' class:
</p>
<div class="sourceCode"><pre>list(
  "par.output h1" = list("background-color" = "red", color = "#e0e0e0"),
  "par.output h2" = list("background-color" = "orange", color = "#e0e0e0"),
  "par.output h3" = list("background-color" = "blue", color = "#e0e0e0")
)
</pre></div>
<p>Create a custom alert type:
</p>
<div class="sourceCode"><pre>list(
  ".alert-start" = list(before = symbol$play),
  ".alert-stop"  = list(before = symbol$stop)
)
</pre></div>

<hr>
<h2 id='tree'>Draw a tree</h2><span id='topic+tree'></span>

<h3>Description</h3>

<p>Draw a tree using box drawing characters. Unicode characters are
used if available. (Set the <code>cli.unicode</code> option if auto-detection
fails.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tree(
  data,
  root = data[[1]][[1]],
  style = NULL,
  width = console_width(),
  trim = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tree_+3A_data">data</code></td>
<td>
<p>Data frame that contains the tree structure.
The first column is an id, and the second column is a list column,
that contains the ids of the child nodes. The optional third column
may contain the text to print to annotate the node.</p>
</td></tr>
<tr><td><code id="tree_+3A_root">root</code></td>
<td>
<p>The name of the root node.</p>
</td></tr>
<tr><td><code id="tree_+3A_style">style</code></td>
<td>
<p>Optional box style list.</p>
</td></tr>
<tr><td><code id="tree_+3A_width">width</code></td>
<td>
<p>Maximum width of the output. Defaults to the <code>width</code>
option, see <code><a href="base.html#topic+options">base::options()</a></code>.</p>
</td></tr>
<tr><td><code id="tree_+3A_trim">trim</code></td>
<td>
<p>Whether to avoid traversing the same nodes multiple times.
If <code>TRUE</code> and <code>data</code> has a <code>trimmed</code> column, then that is used for
printing repeated nodes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A node might appear multiple times in the tree, or might not appear
at all.
</p>
<div class="sourceCode r"><pre>data &lt;- data.frame(
  stringsAsFactors = FALSE,
  package = c("processx", "backports", "assertthat", "Matrix",
    "magrittr", "rprojroot", "clisymbols", "prettyunits", "withr",
    "desc", "igraph", "R6", "crayon", "debugme", "digest", "irlba",
    "rcmdcheck", "callr", "pkgconfig", "lattice"),
  dependencies = I(list(
    c("assertthat", "crayon", "debugme", "R6"), character(0),
    character(0), "lattice", character(0), "backports", character(0),
    c("magrittr", "assertthat"), character(0),
    c("assertthat", "R6", "crayon", "rprojroot"),
    c("irlba", "magrittr", "Matrix", "pkgconfig"), character(0),
    character(0), "crayon", character(0), "Matrix",
    c("callr", "clisymbols", "crayon", "desc", "digest", "prettyunits",
      "R6", "rprojroot", "withr"),
    c("processx", "R6"), character(0), character(0)
  ))
)
tree(data)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> processx                                                                        
#> ├─assertthat                                                                    
#> ├─crayon                                                                        
#> ├─debugme                                                                       
#> │ └─crayon                                                                      
#> └─R6                                                                            
</pre></div>

<div class="sourceCode r"><pre>tree(data, root = "rcmdcheck")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> rcmdcheck                                                                       
#> ├─callr                                                                         
#> │ ├─processx                                                                    
#> │ │ ├─assertthat                                                                
#> │ │ ├─crayon                                                                    
#> │ │ ├─debugme                                                                   
#> │ │ │ └─crayon                                                                  
#> │ │ └─R6                                                                        
#> │ └─R6                                                                          
#> ├─clisymbols                                                                    
#> ├─crayon                                                                        
#> ├─desc                                                                          
#> │ ├─assertthat                                                                  
#> │ ├─R6                                                                          
#> │ ├─crayon                                                                      
#> │ └─rprojroot                                                                   
#> │   └─backports                                                                 
#> ├─digest                                                                        
#> ├─prettyunits                                                                   
#> │ ├─magrittr                                                                    
#> │ └─assertthat                                                                  
#> ├─R6                                                                            
#> ├─rprojroot                                                                     
#> │ └─backports                                                                   
#> └─withr                                                                         
</pre></div>



<h4>Colored nodes</h4>

<div class="sourceCode r"><pre>data$label &lt;- paste(data$package,
  style_dim(paste0("(", c("2.0.0.1", "1.1.1", "0.2.0", "1.2-11",
    "1.5", "1.2", "1.2.0", "1.0.2", "2.0.0", "1.1.1.9000", "1.1.2",
    "2.2.2", "1.3.4", "1.0.2", "0.6.12", "2.2.1", "1.2.1.9002",
    "1.0.0.9000", "2.0.1", "0.20-35"), ")"))
  )
roots &lt;- ! data$package %in% unlist(data$dependencies)
data$label[roots] &lt;- col_cyan(style_italic(data$label[roots]))
tree(data, root = "rcmdcheck")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="font-style: italic;color: #2AA198;">rcmdcheck (1.2.1.9002)</span>                                                          
#> ├─callr (1.0.0.9000)                                                            
#> │ ├─processx (2.0.0.1)                                                          
#> │ │ ├─assertthat (0.2.0)                                                        
#> │ │ ├─crayon (1.3.4)                                                            
#> │ │ ├─debugme (1.0.2)                                                           
#> │ │ │ └─crayon (1.3.4)                                                          
#> │ │ └─R6 (2.2.2)                                                                
#> │ └─R6 (2.2.2)                                                                  
#> ├─clisymbols (1.2.0)                                                            
#> ├─crayon (1.3.4)                                                                
#> ├─desc (1.1.1.9000)                                                             
#> │ ├─assertthat (0.2.0)                                                          
#> │ ├─R6 (2.2.2)                                                                  
#> │ ├─crayon (1.3.4)                                                              
#> │ └─rprojroot (1.2)                                                             
#> │   └─backports (1.1.1)                                                         
#> ├─digest (0.6.12)                                                               
#> ├─prettyunits (1.0.2)                                                           
#> │ ├─magrittr (1.5)                                                              
#> │ └─assertthat (0.2.0)                                                          
#> ├─R6 (2.2.2)                                                                    
#> ├─rprojroot (1.2)                                                               
#> │ └─backports (1.1.1)                                                           
#> └─withr (2.0.0)                                                                 
</pre></div>




<h4>Trimming</h4>

<div class="sourceCode r"><pre>pkgdeps &lt;- list(
  "dplyr@0.8.3" = c("assertthat@0.2.1", "glue@1.3.1", "magrittr@1.5",
    "R6@2.4.0", "Rcpp@1.0.2", "rlang@0.4.0", "tibble@2.1.3",
    "tidyselect@0.2.5"),
  "assertthat@0.2.1" = character(),
  "glue@1.3.1" = character(),
  "magrittr@1.5" = character(),
  "pkgconfig@2.0.3" = character(),
  "R6@2.4.0" = character(),
  "Rcpp@1.0.2" = character(),
  "rlang@0.4.0" = character(),
  "tibble@2.1.3" = c("cli@1.1.0", "crayon@1.3.4", "fansi@0.4.0",
     "pillar@1.4.2", "pkgconfig@2.0.3", "rlang@0.4.0"),
  "cli@1.1.0" = c("assertthat@0.2.1", "crayon@1.3.4"),
  "crayon@1.3.4" = character(),
  "fansi@0.4.0" = character(),
  "pillar@1.4.2" = c("cli@1.1.0", "crayon@1.3.4", "fansi@0.4.0",
     "rlang@0.4.0", "utf8@1.1.4", "vctrs@0.2.0"),
  "utf8@1.1.4" = character(),
  "vctrs@0.2.0" = c("backports@1.1.5", "ellipsis@0.3.0",
     "digest@0.6.21", "glue@1.3.1", "rlang@0.4.0", "zeallot@0.1.0"),
  "backports@1.1.5" = character(),
  "ellipsis@0.3.0" = c("rlang@0.4.0"),
  "digest@0.6.21" = character(),
  "glue@1.3.1" = character(),
  "zeallot@0.1.0" = character(),
  "tidyselect@0.2.5" = c("glue@1.3.1", "purrr@1.3.1", "rlang@0.4.0",
     "Rcpp@1.0.2"),
  "purrr@0.3.3" = c("magrittr@1.5", "rlang@0.4.0")
)

pkgs &lt;- data.frame(
  stringsAsFactors = FALSE,
  name = names(pkgdeps),
  deps = I(unname(pkgdeps))
)

tree(pkgs, trim = TRUE)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> dplyr@0.8.3                                                                     
#> ├─assertthat@0.2.1                                                              
#> ├─glue@1.3.1                                                                    
#> ├─magrittr@1.5                                                                  
#> ├─R6@2.4.0                                                                      
#> ├─Rcpp@1.0.2                                                                    
#> ├─rlang@0.4.0                                                                   
#> ├─tibble@2.1.3                                                                  
#> │ ├─cli@1.1.0                                                                   
#> │ │ ├─assertthat@0.2.1                                                          
#> │ │ └─crayon@1.3.4                                                              
#> │ ├─crayon@1.3.4                                                                
#> │ ├─fansi@0.4.0                                                                 
#> │ ├─pillar@1.4.2                                                                
#> │ │ ├─cli@1.1.0                                                                 
#> │ │ ├─crayon@1.3.4                                                              
#> │ │ ├─fansi@0.4.0                                                               
#> │ │ ├─rlang@0.4.0                                                               
#> │ │ ├─utf8@1.1.4                                                                
#> │ │ └─vctrs@0.2.0                                                               
#> │ │   ├─backports@1.1.5                                                         
#> │ │   ├─ellipsis@0.3.0                                                          
#> │ │   │ └─rlang@0.4.0                                                           
#> │ │   ├─digest@0.6.21                                                           
#> │ │   ├─glue@1.3.1                                                              
#> │ │   ├─rlang@0.4.0                                                             
#> │ │   └─zeallot@0.1.0                                                           
#> │ ├─pkgconfig@2.0.3                                                             
#> │ └─rlang@0.4.0                                                                 
#> └─tidyselect@0.2.5                                                              
#>   ├─glue@1.3.1                                                                  
#>   ├─rlang@0.4.0                                                                 
#>   └─Rcpp@1.0.2                                                                  
</pre></div>

<div class="sourceCode r"><pre># Mark the trimmed nodes
pkgs$label &lt;- pkgs$name
pkgs$trimmed &lt;- paste(pkgs$name, " (trimmed)")
tree(pkgs, trim = TRUE)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> dplyr@0.8.3                                                                     
#> ├─assertthat@0.2.1                                                              
#> ├─glue@1.3.1                                                                    
#> ├─magrittr@1.5                                                                  
#> ├─R6@2.4.0                                                                      
#> ├─Rcpp@1.0.2                                                                    
#> ├─rlang@0.4.0                                                                   
#> ├─tibble@2.1.3                                                                  
#> │ ├─cli@1.1.0                                                                   
#> │ │ ├─assertthat@0.2.1  (trimmed)                                               
#> │ │ └─crayon@1.3.4                                                              
#> │ ├─crayon@1.3.4  (trimmed)                                                     
#> │ ├─fansi@0.4.0                                                                 
#> │ ├─pillar@1.4.2                                                                
#> │ │ ├─cli@1.1.0  (trimmed)                                                      
#> │ │ ├─crayon@1.3.4  (trimmed)                                                   
#> │ │ ├─fansi@0.4.0  (trimmed)                                                    
#> │ │ ├─rlang@0.4.0  (trimmed)                                                    
#> │ │ ├─utf8@1.1.4                                                                
#> │ │ └─vctrs@0.2.0                                                               
#> │ │   ├─backports@1.1.5                                                         
#> │ │   ├─ellipsis@0.3.0                                                          
#> │ │   │ └─rlang@0.4.0  (trimmed)                                                
#> │ │   ├─digest@0.6.21                                                           
#> │ │   ├─glue@1.3.1  (trimmed)                                                   
#> │ │   ├─rlang@0.4.0  (trimmed)                                                  
#> │ │   └─zeallot@0.1.0                                                           
#> │ ├─pkgconfig@2.0.3                                                             
#> │ └─rlang@0.4.0  (trimmed)                                                      
#> └─tidyselect@0.2.5                                                              
#>   ├─glue@1.3.1  (trimmed)                                                       
#>   ├─rlang@0.4.0  (trimmed)                                                      
#>   └─Rcpp@1.0.2  (trimmed)                                                       
</pre></div>




<h3>Value</h3>

<p>Character vector, the lines of the tree drawing.
</p>

<hr>
<h2 id='truecolor'>ANSI colors palettes</h2><span id='topic+truecolor'></span><span id='topic+ansi_palettes'></span><span id='topic+ansi_palette_show'></span>

<h3>Description</h3>

<p>If your platform supports at least 256 colors, then you can configure
the colors that cli uses for the eight base and the eight bright colors.
(I.e. the colors of <code><a href="cli.html#topic+col_black">col_black()</a></code>, <code><a href="cli.html#topic+col_red">col_red()</a></code>, and <code><a href="cli.html#topic+col_br_black">col_br_black()</a></code>,
<code><a href="cli.html#topic+col_br_red">col_br_red()</a></code>, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>truecolor

ansi_palettes

ansi_palette_show(palette = NULL, colors = num_ansi_colors(), rows = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="truecolor_+3A_palette">palette</code></td>
<td>
<p>The palette to show, in the same format as for the
<code>cli.palette</code> option, so it can be the name of a built-in palette,
of a list of 16 colors.</p>
</td></tr>
<tr><td><code id="truecolor_+3A_colors">colors</code></td>
<td>
<p>Number of ANSI colors to use the show the palette. If the
platform does not have sufficient support, the output might have
a lower color resolution. Without color support it will have no color
at all.</p>
</td></tr>
<tr><td><code id="truecolor_+3A_rows">rows</code></td>
<td>
<p>The number of colored rows to print.</p>
</td></tr>
</table>


<h3>Format</h3>

<p><code>truecolor</code> is an integer scalar.
</p>
<p><code>ansi_palettes</code> is a data frame with one row for each palette,
and one column for each base ANSI color. <code>attr(ansi_palettes, "info")</code>
contains a list with information about each palette.
</p>


<h3>Details</h3>

<p><code>truecolor</code> is an integer constant for the number of 24 bit ANSI colors.
</p>
<p>To customize the default palette, set the <code>cli.palette</code> option to the
name of a built-in palette (see <code>ansi_palettes()</code>), or the list of
16 colors. Colors can be specified with RGB colors strings:
<code style="white-space: pre;">&#8288;#rrggbb&#8288;</code> or R color names (see the output of <code><a href="grDevices.html#topic+colors">grDevices::colors()</a></code>).
</p>
<p>For example, you can put this in your R profile:
</p>
<div class="sourceCode r"><pre>options(cli.palette = "vscode")
</pre></div>
<p>It is currently not possible to configure the background colors
separately, these will be always the same as the foreground colors.
</p>
<p>If your platform only has 256 colors, then the colors specified in the
palette have to be interpolated. On true color platforms they RGB
values are used as-is.
</p>
<p><code>ansi_palettes</code> is a data frame of the built-in palettes, each row
is one palette.
</p>
<p><code>ansi_palette_show()</code> shows the colors of an ANSI palette on the screen.
</p>


<h3>Value</h3>

<p><code>ansi_palette_show</code> returns a character vector, the rows that
are printed to the screen, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ansi_palettes
ansi_palette_show("dichro", colors = truecolor)
</code></pre>

<hr>
<h2 id='unicode-width-workaround'>Working around the bad Unicode character widths</h2><span id='topic+unicode-width-workaround'></span>

<h3>Description</h3>

<p>R 3.6.2 and also the coming 3.6.3 and 4.0.0 versions use the Unicode 8
standard to calculate the display width of Unicode characters.
Unfortunately the widths of most emojis are incorrect in this standard,
and width 1 is reported instead of the correct 2 value.
</p>


<h3>Details</h3>

<p>cli implements a workaround for this. The package contains a table that
contains all Unicode ranges that have wide characters (display width 2).
</p>
<p>On first use of one of the workaround wrappers (in <code>ansi_nchar()</code>, etc.)
we check what the current version of R thinks about the width of these
characters, and then create a regex that matches the ones that R
is wrong about (<code>re_bad_char_width</code>).
</p>
<p>Then we use this regex to duplicate all of the problematic characters
in the input string to the wrapper function, before calling the real
string manipulation function (<code>nchar()</code>, <code>strwrap()</code>) etc. At end we
undo the duplication before we return the result.
</p>
<p>This workaround is fine for <code>nchar()</code> and <code>strwrap()</code>, and consequently
<code>ansi_align()</code> and <code>ansi_strtrim()</code> as well.
</p>
<p>The rest of the <code style="white-space: pre;">&#8288;ansi_*()&#8288;</code> functions work on characters, and do not
deal with character width.
</p>

<hr>
<h2 id='utf8_graphemes'>Break an UTF-8 character vector into grapheme clusters</h2><span id='topic+utf8_graphemes'></span>

<h3>Description</h3>

<p>Break an UTF-8 character vector into grapheme clusters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utf8_graphemes(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utf8_graphemes_+3A_x">x</code></td>
<td>
<p>Character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of characters vectors, the grapheme clusters of the input
string.
</p>


<h3>See Also</h3>

<p>Other UTF-8 string manipulation: 
<code><a href="cli.html#topic+utf8_nchar">utf8_nchar</a>()</code>,
<code><a href="cli.html#topic+utf8_substr">utf8_substr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Five grapheme clusters
str &lt;- paste0(
  "\U0001f477\U0001f3ff\u200d\u2640\ufe0f",
  "\U0001f477\U0001f3ff",
  "\U0001f477\u200d\u2640\ufe0f",
  "\U0001f477\U0001f3fb",
  "\U0001f477\U0001f3ff")
cat(str, "\n")
chrs &lt;- utf8_graphemes(str)
</code></pre>

<hr>
<h2 id='utf8_nchar'>Count the number of characters in a character vector</h2><span id='topic+utf8_nchar'></span>

<h3>Description</h3>

<p>By default it counts Unicode grapheme clusters, instead of code points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utf8_nchar(x, type = c("chars", "bytes", "width", "graphemes", "codepoints"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utf8_nchar_+3A_x">x</code></td>
<td>
<p>Character vector, it is converted to UTF-8.</p>
</td></tr>
<tr><td><code id="utf8_nchar_+3A_type">type</code></td>
<td>
<p>Whether to count graphemes (characters), code points,
bytes, or calculate the display width of the string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector, the length of the strings in the character
vector.
</p>


<h3>See Also</h3>

<p>Other UTF-8 string manipulation: 
<code><a href="cli.html#topic+utf8_graphemes">utf8_graphemes</a>()</code>,
<code><a href="cli.html#topic+utf8_substr">utf8_substr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Grapheme example, emoji with combining characters. This is a single
# grapheme, consisting of five Unicode code points:
# * `\U0001f477` is the construction worker emoji
# * `\U0001f3fb` is emoji modifier that changes the skin color
# * `\u200d` is the zero width joiner
# * `\u2640` is the female sign
# * `\ufe0f` is variation selector 16, requesting an emoji style glyph
emo &lt;- "\U0001f477\U0001f3fb\u200d\u2640\ufe0f"
cat(emo)

utf8_nchar(emo, "chars") # = graphemes
utf8_nchar(emo, "bytes")
utf8_nchar(emo, "width")
utf8_nchar(emo, "codepoints")

# For comparision, the output for width depends on the R version used:
nchar(emo, "chars")
nchar(emo, "bytes")
nchar(emo, "width")
</code></pre>

<hr>
<h2 id='utf8_substr'>Substring of an UTF-8 string</h2><span id='topic+utf8_substr'></span>

<h3>Description</h3>

<p>This function uses grapheme clusters instead of Unicode code points in
UTF-8 strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utf8_substr(x, start, stop)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utf8_substr_+3A_x">x</code></td>
<td>
<p>Character vector.</p>
</td></tr>
<tr><td><code id="utf8_substr_+3A_start">start</code></td>
<td>
<p>Starting index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
<tr><td><code id="utf8_substr_+3A_stop">stop</code></td>
<td>
<p>Ending index or indices, recycled to match the length of
<code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the same length as <code>x</code>, containing
the requested substrings.
</p>


<h3>See Also</h3>

<p>Other UTF-8 string manipulation: 
<code><a href="cli.html#topic+utf8_graphemes">utf8_graphemes</a>()</code>,
<code><a href="cli.html#topic+utf8_nchar">utf8_nchar</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Five grapheme clusters, select the middle three
str &lt;- paste0(
  "\U0001f477\U0001f3ff\u200d\u2640\ufe0f",
  "\U0001f477\U0001f3ff",
  "\U0001f477\u200d\u2640\ufe0f",
  "\U0001f477\U0001f3fb",
  "\U0001f477\U0001f3ff")
cat(str)
str24 &lt;- utf8_substr(str, 2, 4)
cat(str24)
</code></pre>

<hr>
<h2 id='vt_output'>Simulate (a subset of) a VT-5xx ANSI terminal</h2><span id='topic+vt_output'></span>

<h3>Description</h3>

<p>This is utility function that calculates the state of a VT-5xx screen
after a certain set of output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_output(output, width = 80L, height = 25L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vt_output_+3A_output">output</code></td>
<td>
<p>Character vector or raw vector. Character vectors are
collapsed (without a separater), and converted to a raw vector using
<code><a href="base.html#topic+rawConversion">base::charToRaw()</a></code>.</p>
</td></tr>
<tr><td><code id="vt_output_+3A_width">width</code></td>
<td>
<p>Terminal width.</p>
</td></tr>
<tr><td><code id="vt_output_+3A_height">height</code></td>
<td>
<p>Terminal height.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently it supports:
</p>

<ul>
<li><p> configurable terminal width and height
</p>
</li>
<li><p> ASCII printable characters.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;\n&#8288;</code>, <code style="white-space: pre;">&#8288;\r&#8288;</code>.
</p>
</li>
<li><p> ANSI SGR colors, 8 color mode, 256 color mode and true color mode.
</p>
</li>
<li><p> Other ANSI SGR features: bold, italic, underline, strikethrough,
blink, inverse.
</p>
</li></ul>

<p>It does <em>not</em> currently supports other features, mode notably:
</p>

<ul>
<li><p> Other ANSI control sequences and features. Other control sequences
are silently ignored.
</p>
</li>
<li><p> Wide Unicode characters. Their width is not taken into account
correctly.
</p>
</li>
<li><p> Unicode graphemes.
</p>
</li></ul>



<h3>Value</h3>

<p>Data frame with columns <code>lineno</code>, <code>segmentno</code>, <code>segment</code>,
<code>attributes</code>.
</p>


<h3>Note</h3>

<p>This function is experimental, and the virtual temrinal API will
likely change in future versions of cli.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

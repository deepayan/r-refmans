<!DOCTYPE html><html><head><title>Help for package karel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {karel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#acciones'><p>Acciones que Karel puede realizar</p></a></li>
<li><a href='#actions'><p>Available actions for Karel</p></a></li>
<li><a href='#cargar_super_karel'><p>Habilitar los superpoderes de Karel</p></a></li>
<li><a href='#check_user_world'><p>Check user's own world</p></a></li>
<li><a href='#check_walls'><p>Check the walls user's provided world</p></a></li>
<li><a href='#condiciones'><p>Condiciones que Karel puede verificar</p></a></li>
<li><a href='#conditions'><p>Conditions that Karel can test</p></a></li>
<li><a href='#create_beepers'><p>Create dataset about beepers</p></a></li>
<li><a href='#draw_karel_df'><p>Generate a dataset to plot Karel's figure in each time</p></a></li>
<li><a href='#ejecutar_acciones'><p>Ejecutar acciones</p></a></li>
<li><a href='#generar_mundo'><p>Generar el mundo de Karel</p></a></li>
<li><a href='#generate_open_moves'><p>Generate array which shows moves that Karel can and can't make</p></a></li>
<li><a href='#generate_world'><p>Create Karel's world</p></a></li>
<li><a href='#get_beepers_df_row'><p>Get row number in beepers dataset</p></a></li>
<li><a href='#get_pkg_env'><p>Get Karel's environment</p></a></li>
<li><a href='#global_env_set_hack'><p>This function lets me add objects to another environment</p></a></li>
<li><a href='#load_super_karel'><p>Turn on Karel's superpowers</p></a></li>
<li><a href='#plot_base_world'><p>Plot base world</p></a></li>
<li><a href='#plot_static_world'><p>Plot the world at a given time</p></a></li>
<li><a href='#put_hor_walls'><p>Put horizontal walls (streets)</p></a></li>
<li><a href='#put_ver_walls'><p>Put vertical walls (streets)</p></a></li>
<li><a href='#run_actions'><p>Run actions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Learning programming with Karel the robot</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>This is the R implementation of Karel the robot, a programming 
  language created by Dr. R. E. Pattis at Stanford University in 1981. Karel is 
  an useful tool to teach introductory concepts about general programming, such 
  as algorithmic decomposition, conditional statements, loops, etc., in an 
  interactive and fun way, by writing programs to make Karel the robot achieve 
  certain tasks in the world she lives in. Originally based on Pascal, Karel 
  was implemented in many languages through these decades, including 'Java', 'C++', 
  'Ruby' and 'Python'. This is the first package implementing Karel in R.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>purrr, dplyr, tidyr, ggplot2, magrittr, gganimate, gifski</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en, es</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://mpru.github.io/karel/">https://mpru.github.io/karel/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mpru/karel/issues/">https://github.com/mpru/karel/issues/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-26 21:42:58 UTC; marcos</td>
</tr>
<tr>
<td>Author:</td>
<td>Marcos Prunello <a href="https://orcid.org/0000-0002-9611-527X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marcos Prunello &lt;marcosprunello@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-26 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='acciones'>Acciones que Karel puede realizar</h2><span id='topic+acciones'></span><span id='topic+avanzar'></span><span id='topic+girar_izquierda'></span><span id='topic+poner_coso'></span><span id='topic+juntar_coso'></span><span id='topic+girar_derecha'></span><span id='topic+darse_vuelta'></span>

<h3>Description</h3>

<p><code>avanzar()</code>, <code>girar_izquierda()</code>, <code>juntar_coso()</code> y
<code>poner_coso()</code> son las cuatro actividades básicas que Karel sabe
realizar. Si se habilitan los superpoderes de Karel con
<code>cargar_super_karel()</code>, entonces también puede <code>girar_derecha()</code> y
<code>darse_vuelta()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avanzar()

girar_izquierda()

poner_coso()

juntar_coso()

girar_derecha()

darse_vuelta()
</code></pre>


<h3>Value</h3>

<p>Estas funciones no devuelven nada, pero realizan cambios en el mundo
de Karel que se ven cuando se ejecutan todas las acciones con
<code>ejecutar_acciones()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cargar_super_karel">cargar_super_karel</a></code> <code><a href="#topic+generar_mundo">generar_mundo</a></code>
<code><a href="#topic+ejecutar_acciones">ejecutar_acciones</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generar_mundo("mundo001")
avanzar()
juntar_coso()
girar_izquierda()
poner_coso()
ejecutar_acciones()

</code></pre>

<hr>
<h2 id='actions'>Available actions for Karel</h2><span id='topic+actions'></span><span id='topic+move'></span><span id='topic+turn_left'></span><span id='topic+put_beeper'></span><span id='topic+pick_beeper'></span><span id='topic+turn_right'></span><span id='topic+turn_around'></span>

<h3>Description</h3>

<p><code>move()</code>, <code>turn_left()</code>, <code>pick_beeper()</code> y <code>put_beeper()</code>
are the four basic activities that Karel can perform. If you turn on Karel's
superpowers with <code>load_super_karel()</code>, then she can also
<code>turn_right()</code> y <code>turn_around()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>move()

turn_left()

put_beeper()

pick_beeper()

turn_right()

turn_around()
</code></pre>


<h3>Value</h3>

<p>These functions don't return anything, but make changes in Karel's
world that are visible when all the actions are run through
<code>run_actions()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+load_super_karel">load_super_karel</a></code> <code><a href="#topic+generate_world">generate_world</a></code>
<code><a href="#topic+run_actions">run_actions</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generate_world("mundo001")
move()
pick_beeper()
turn_left()
put_beeper()
run_actions()

</code></pre>

<hr>
<h2 id='cargar_super_karel'>Habilitar los superpoderes de Karel</h2><span id='topic+cargar_super_karel'></span>

<h3>Description</h3>

<p>Luego de correr <code>cargar_super_karel()</code>, Karel también puede girar a la derecha y darse vuelta, a través de las acciones <code>girar_derecha()</code> y <code>darse_vuelta()</code>. Si no se cargan los superpoderes, estas dos funciones no están disponibles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cargar_super_karel()
</code></pre>


<h3>Value</h3>

<p>No devuelve ningún valor, pero adjuntan al Global Environment las funciones <code>girar_derecha()</code> y <code>darse_vuelta()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+acciones">acciones</a></code> <code><a href="#topic+generar_mundo">generar_mundo</a></code> <code><a href="#topic+ejecutar_acciones">ejecutar_acciones</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generar_mundo("mundo001")
cargar_super_karel()
darse_vuelta()
girar_derecha()
ejecutar_acciones()

</code></pre>

<hr>
<h2 id='check_user_world'>Check user's own world</h2><span id='topic+check_user_world'></span>

<h3>Description</h3>

<p>This function analyzes if a world provided by the user satisfies all
requirements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_user_world(world)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_user_world_+3A_world">world</code></td>
<td>
<p>The world provided by the user. It's a list. See details in
<code><a href="#topic+generar_mundo">generar_mundo</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is called by <code><a href="#topic+generar_mundo">generar_mundo</a></code>.
</p>


<h3>Value</h3>

<p>If a misespecification is found, this function produces a stop and
provides a descriptive error message.
</p>

<hr>
<h2 id='check_walls'>Check the walls user's provided world</h2><span id='topic+check_walls'></span>

<h3>Description</h3>

<p>This is a helper function to check ver_walls and hor_walls. It's called by check_user_world twice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_walls(dataset, name, nx, ny)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_walls_+3A_dataset">dataset</code></td>
<td>
<p>Either hor_walls or ver_walls</p>
</td></tr>
<tr><td><code id="check_walls_+3A_name">name</code></td>
<td>
<p>Character string: &quot;hor_walls&quot; or &quot;ver_walls&quot;</p>
</td></tr>
<tr><td><code id="check_walls_+3A_nx">nx</code></td>
<td>
<p>ny Size of the world</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If a misespecification is found, this function produces a stop and
provides a descriptive error message.
</p>

<hr>
<h2 id='condiciones'>Condiciones que Karel puede verificar</h2><span id='topic+condiciones'></span><span id='topic+frente_abierto'></span><span id='topic+frente_cerrado'></span><span id='topic+izquierda_abierto'></span><span id='topic+izquierda_cerrado'></span><span id='topic+derecha_abierto'></span><span id='topic+derecha_cerrado'></span><span id='topic+hay_cosos'></span><span id='topic+no_hay_cosos'></span><span id='topic+karel_tiene_cosos'></span><span id='topic+karel_no_tiene_cosos'></span><span id='topic+mira_al_este'></span><span id='topic+mira_al_norte'></span><span id='topic+mira_al_oeste'></span><span id='topic+mira_al_sur'></span>

<h3>Description</h3>

<p>Este conjunto de funciones devuelven un valor lógico <code>TRUE</code> o
<code>FALSE</code> según la evaluación que Karel puede hacer de su mundo.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frente_abierto()

frente_cerrado()

izquierda_abierto()

izquierda_cerrado()

derecha_abierto()

derecha_cerrado()

hay_cosos()

no_hay_cosos()

karel_tiene_cosos()

karel_no_tiene_cosos()

mira_al_este()

mira_al_norte()

mira_al_oeste()

mira_al_sur()
</code></pre>


<h3>Details</h3>

<p>Las funciones <code>frente_abierto()</code>, <code>frente_cerrado()</code>,
<code>izquierda_abierto()</code>, <code>izquierda_cerrado()</code>,
<code>derecha_abierto()</code> y <code>derecha_cerrado()</code> analizan si hay paredes
al frente, a la izquierda o a la derecha de Karel. Las funciones
<code>hay_cosos()</code> y <code>no_hay_cosos()</code> analizan si hay <code>cosos</code> en
la posición actual de Karel. Las funciones <code>karel_tiene_cosos()</code> y
<code>karel_no_tiene_cosos()</code> analizan si Karel tiene <code>cosos</code> en su
mochila (no visibles en la representación gráfica). Las funciones
<code>mira_al_este()</code>, <code>mira_al_oeste()</code>, <code>mira_al_norte()</code> y
<code>mira_al_sur()</code> analizan la dirección hacia la cual Karel está
mirando.
</p>


<h3>Value</h3>

<p>Valor lógico TRUE o FALSE.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+generar_mundo">generar_mundo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generar_mundo("mundo001")
frente_abierto()
frente_cerrado()
izquierda_abierto()
izquierda_cerrado()
derecha_abierto()
derecha_cerrado()
hay_cosos()
no_hay_cosos()
karel_tiene_cosos()
karel_no_tiene_cosos()
mira_al_este()
mira_al_oeste()
mira_al_norte()
mira_al_sur()

</code></pre>

<hr>
<h2 id='conditions'>Conditions that Karel can test</h2><span id='topic+conditions'></span><span id='topic+front_is_clear'></span><span id='topic+front_is_blocked'></span><span id='topic+left_is_clear'></span><span id='topic+left_is_blocked'></span><span id='topic+right_is_clear'></span><span id='topic+right_is_blocked'></span><span id='topic+beepers_present'></span><span id='topic+no_beepers_present'></span><span id='topic+karel_has_beepers'></span><span id='topic+karel_has_no_beepers'></span><span id='topic+facing_east'></span><span id='topic+facing_west'></span><span id='topic+facing_north'></span><span id='topic+facing_south'></span>

<h3>Description</h3>

<p>These group of functions return a logical value <code>TRUE</code> o <code>FALSE</code> according to Karel's evaluation of her world.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>front_is_clear()

front_is_blocked()

left_is_clear()

left_is_blocked()

right_is_clear()

right_is_blocked()

beepers_present()

no_beepers_present()

karel_has_beepers()

karel_has_no_beepers()

facing_east()

facing_west()

facing_north()

facing_south()
</code></pre>


<h3>Details</h3>

<p>The functions <code>front_is_clear()</code>, <code>front_is_blocked()</code>, <code>left_is_clear()</code>, <code>left_is_blocked()</code>, <code>right_is_clear()</code> y <code>right_is_blocked()</code> test if there is a wall in front of Karel, to her left or to her right, respectively. The functions <code>beepers_present()</code> y <code>no_beepers_present()</code> test if there are or there are not <code>beepers</code> at Karel's current position. The functions <code>karel_has_beepers()</code> y <code>karel_has_no_beepers()</code> test if Karel has or hasn't got  <code>beepers</code> in her bag (not visible in the plot). The functions <code>facing_east()</code>, <code>facing_west()</code>, <code>facing_north()</code> y <code>facing_south()</code> test the direction to which Karel is facing right now.
</p>


<h3>Value</h3>

<p>Logical value TRUE or FALSE.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+generate_world">generate_world</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generate_world("mundo001")
front_is_clear()
front_is_blocked()
left_is_clear()
left_is_blocked()
right_is_clear()
right_is_blocked()
beepers_present()
no_beepers_present()
karel_has_beepers()
karel_has_no_beepers()
facing_east()
facing_west()
facing_north()
facing_south()

</code></pre>

<hr>
<h2 id='create_beepers'>Create dataset about beepers</h2><span id='topic+create_beepers'></span>

<h3>Description</h3>

<p>Given the elements provided in the world, this function generates a dataset
with info about the beepers present in the world. This function is called
from <code>generar_mundo()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_beepers(nx = NULL, pos_x = NULL, pos_y = NULL, n = NULL, moment = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_beepers_+3A_nx">nx</code></td>
<td>
<p>horizontal size of the world</p>
</td></tr>
<tr><td><code id="create_beepers_+3A_pos_x">pos_x</code></td>
<td>
<p>pos_y vectors of coordinates of cells with non-zero amount of
beepers</p>
</td></tr>
<tr><td><code id="create_beepers_+3A_n">n</code></td>
<td>
<p>number of beepers in each cell indicated by coordinates in
<code>pos_x</code> and <code>pos_y</code></p>
</td></tr>
<tr><td><code id="create_beepers_+3A_moment">moment</code></td>
<td>
<p>time</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with as many rows as cells with beepers in the world and 5
columns: <code>x</code> and <code>y</code> for the coordinates of the cell, <code>cell</code>
is the number of the cell counting as cell number 1 the cell in the bottom
left corner and going upwards by row (meaning cell number 2 would be the
cell in coordinates x=2 and y=1), <code>n</code> the number of beepers in this
cell and <code>moment</code> the moment in which this state of the world
corresponds to.
</p>

<hr>
<h2 id='draw_karel_df'>Generate a dataset to plot Karel's figure in each time</h2><span id='topic+draw_karel_df'></span>

<h3>Description</h3>

<p>Karel is drawn with 6 squares (body, feet, eyes and mouth) using geom_rect(),
so we need arguments xmin, xmax, ymin and ymax for each of them. So this
function takes Karel's current position (x, y) and direction (1 east, 2
north, 3 west, 4 south) and generates the corresponding values of xmin, xmax,
ymin and ymax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_karel_df(x, y, direction, moment)
</code></pre>


<h3>Details</h3>

<p>This function is called repeatedly for each position of Karel through time.
</p>


<h3>Value</h3>

<p>A 6x7 tibble. First row is for the body, 2nd for the left foot, then
right foot, left eye, right eye and finally the mouth. Columns are xmin,
xmax, ymin, ymax, moment (time), a color (for fill) and a transparency
value (alpha)
</p>

<hr>
<h2 id='ejecutar_acciones'>Ejecutar acciones</h2><span id='topic+ejecutar_acciones'></span>

<h3>Description</h3>

<p>Esta función produce la animación que muestra todas las acciones realizadas
por Karel desde que su mundo fue generado con <code>generar_mundo</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ejecutar_acciones(repetir = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ejecutar_acciones_+3A_repetir">repetir</code></td>
<td>
<p>Valor lógico TRUE o FALSE que indica si la animación debe
repetirse una y otra vez luego de finalizada (por defecto: TRUE).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produce una animación con <code>gganimate</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+generar_mundo">generar_mundo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generar_mundo("mundo001")
avanzar()
juntar_coso()
girar_izquierda()
poner_coso()
ejecutar_acciones()

</code></pre>

<hr>
<h2 id='generar_mundo'>Generar el mundo de Karel</h2><span id='topic+generar_mundo'></span>

<h3>Description</h3>

<p>Esta función toma un &quot;mundo&quot; (es decir, una lista con información acerca de
su tamaño, paredes, &quot;cosos&quot; presentes y la ubicación y dirección de Karel),
lo grafica y prepara todo para que Karel pueda realizar sus acciones. Siempre
debe ser evaluada antes de que Karel empiece a cumplir sus
objetivos, en especial, si en algún momento hemos cometido un error, debemos
comenzar de nuevo corriendo primero esta función.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generar_mundo(mundo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generar_mundo_+3A_mundo">mundo</code></td>
<td>
<p>Un caracter de largo 1 indicando el nombre de uno de los mundos
que ya vienen en el paquete o un objeto de tipo lista con todos los
componentes que debe tener un mundo (ver más abajo en Detalles).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Luego de correr <code>generar_mundo()</code>, se ejecutan las acciones de Karel y
se pueden visualizar con la función <code>ejecutar_acciones()</code>.
</p>
<p>El argumento <code>mundo</code> puede consistir de un mundo creado (es
decir, inventado) por cualquiera. En este caso, <code>mundo</code> debe ser una
lista con los siguientes componentes:
</p>

<ol>
<li> <p><code>nx</code>: TODO
</p>
</li>
<li> <p><code>ny</code>:
</p>
</li>
<li> <p><code>hor_walls</code>:
</p>
</li>
<li> <p><code>ver_walls</code>:
</p>
</li>
<li> <p><code>karel_x</code>:
</p>
</li>
<li> <p><code>karel_y</code>:
</p>
</li>
<li> <p><code>karel_dir</code>:
</p>
</li>
<li> <p><code>beepers_x</code>:
</p>
</li>
<li> <p><code>beepers_y</code>:
</p>
</li>
<li> <p><code>beepers_n</code>:
</p>
</li>
<li> <p><code>beepers_bag</code>:
</p>
</li></ol>



<h3>Value</h3>

<p>Dibuja el estado inicial del mundo de Karel y deja todo preparado
para comenzar a registrar sus acciones.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+acciones">acciones</a></code> <code><a href="#topic+ejecutar_acciones">ejecutar_acciones</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generar_mundo("mundo001")

</code></pre>

<hr>
<h2 id='generate_open_moves'>Generate array which shows moves that Karel can and can't make</h2><span id='topic+generate_open_moves'></span>

<h3>Description</h3>

<p>This function creates <code>open_moves</code>, a nx x ny x 4 array of TRUE/FALSE
values indicating if Karel can move to each direction from a given position.
For example, if Karel is in the bottom left corner, which is cell [1, 1], it
can't go south or left, so we have both open_moves[1, 1, 3] and open_moves[1,
1, 4] set to FALSE. Depending on the existing walls it could move south or
north, so open_moves[1, 1, 1] and open_moves[1, 1, 2] could be TRUE or FALSE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_open_moves(nx, ny, hor_walls, ver_walls)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_open_moves_+3A_nx">nx</code></td>
<td>
<p>ny size of the world</p>
</td></tr>
<tr><td><code id="generate_open_moves_+3A_hor_walls">hor_walls</code></td>
<td>
<p>ver_walls dataset of horizontal and vertical walls as
described in the details for the function <code><a href="#topic+generar_mundo">generar_mundo</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Taking into account the size of the world and the walls, this function
properly defines the array open_moves.
</p>


<h3>Value</h3>

<p>A 6nx x ny x 4 array of TRUE/FALSE values
</p>

<hr>
<h2 id='generate_world'>Create Karel's world</h2><span id='topic+generate_world'></span>

<h3>Description</h3>

<p>This function takes a &quot;world&quot; (i.e. a list with data about its size, walls,
beepers and Karel's position and direction), plots it and prepares everything
so that Karel can start performing actions in it. It must be run always
before Karel starts working on her goals, especially if we have made a
mistake, we must start all over again by first running this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_world(world)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_world_+3A_world">world</code></td>
<td>
<p>Character vector of length 1 with the name of one of the
provided worlds in the package or a list provided by the user with all the
components that a world needs (see more below in details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>After running <code>generate_mundo()</code>, we can run Karel's actions and finally
visualize it all with the function <code>run_actions()</code>.
</p>
<p>Argument <code>world</code> can be create by the user. In this case, it
must be a list with the following components:
</p>

<ol>
<li> <p><code>nx</code>: TODO
</p>
</li>
<li> <p><code>ny</code>:
</p>
</li>
<li> <p><code>hor_walls</code>:
</p>
</li>
<li> <p><code>ver_walls</code>:
</p>
</li>
<li> <p><code>karel_x</code>:
</p>
</li>
<li> <p><code>karel_y</code>:
</p>
</li>
<li> <p><code>karel_dir</code>:
</p>
</li>
<li> <p><code>beepers_x</code>:
</p>
</li>
<li> <p><code>beepers_y</code>:
</p>
</li>
<li> <p><code>beepers_n</code>:
</p>
</li>
<li> <p><code>beepers_bag</code>:
</p>
</li></ol>



<h3>Value</h3>

<p>Plots the initial state of Karel's world and prepares everything to
start recording her actions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+actions">actions</a></code> <code><a href="#topic+run_actions">run_actions</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generate_world("mundo001")

</code></pre>

<hr>
<h2 id='get_beepers_df_row'>Get row number in beepers dataset</h2><span id='topic+get_beepers_df_row'></span>

<h3>Description</h3>

<p>Given current position of Karel, it calculates the cell id (<code>cell</code>) and
returns the row number of the respective cell in the beepers_now dataset.
It's used to add or remove beepers in this row when Karel picks or puts
beepers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_beepers_df_row()
</code></pre>


<h3>Value</h3>

<p>row number or numeric of length 0
</p>

<hr>
<h2 id='get_pkg_env'>Get Karel's environment</h2><span id='topic+get_pkg_env'></span>

<h3>Description</h3>

<p>This function returns the environment called pkg_env created by the package.
It's useful for debugging and checking. It's an internal function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pkg_env()
</code></pre>


<h3>Details</h3>

<p><code>pkg_env</code> is an environment created inside the package to store
and share between functions all the objects related to Karel's world and
its state. Since the functions that will be used by the students should be
simple and without arguments (for example, <code>move()</code>), these functions
modify internally <code>pkg_env</code>.
</p>
<p>The components of this environment are:
</p>

<ol>
<li> <p><code>nx</code>: TODO
</p>
</li>
<li> <p><code>ny</code>:
</p>
</li>
<li> <p><code>hor_walls</code>:
</p>
</li>
<li> <p><code>ver_walls</code>:
</p>
</li>
<li> <p><code>open_moves</code>:
</p>
</li>
<li> <p><code>karel</code>:
</p>
</li>
<li> <p><code>dir_now</code>:
</p>
</li>
<li> <p><code>x_now</code>:
</p>
</li>
<li> <p><code>y_now</code>:
</p>
</li>
<li> <p><code>moment</code>:
</p>
</li>
<li> <p><code>beepers_any</code>:
</p>
</li>
<li> <p><code>beepers_bag</code>:
</p>
</li>
<li> <p><code>beepers_now</code>:
</p>
</li>
<li> <p><code>beepers_all</code>:
</p>
</li>
<li> <p><code>base_plot</code>:
</p>
</li></ol>



<h3>Value</h3>

<p>An enviroment with objects that represent Karel's world.
</p>

<hr>
<h2 id='global_env_set_hack'>This function lets me add objects to another environment</h2><span id='topic+global_env_set_hack'></span>

<h3>Description</h3>

<p>This function lets me add objects to another environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>global_env_set_hack(key, val, pos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="global_env_set_hack_+3A_key">key</code></td>
<td>
<p>name for the new object</p>
</td></tr>
<tr><td><code id="global_env_set_hack_+3A_val">val</code></td>
<td>
<p>the object</p>
</td></tr>
<tr><td><code id="global_env_set_hack_+3A_pos">pos</code></td>
<td>
<p>the index for the environment</p>
</td></tr>
</table>

<hr>
<h2 id='load_super_karel'>Turn on Karel's superpowers</h2><span id='topic+load_super_karel'></span>

<h3>Description</h3>

<p>After running <code>load_super_karel()</code>, Karel can also turn right and turn
around with <code>turn_right()</code> and <code>turn_around()</code>. If these
superpowers aren't loaded, then these functions won't be available and Karel
can't use them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_super_karel()
</code></pre>


<h3>Value</h3>

<p>It doesn't return anything but attaches to the global environment the
functions <code>turn_right()</code> and <code>turn_around()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+actions">actions</a></code> <code><a href="#topic+generate_world">generate_world</a></code>
<code><a href="#topic+run_actions">run_actions</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generate_world("mundo001")
load_super_karel()
turn_around()
turn_right()
run_actions()

</code></pre>

<hr>
<h2 id='plot_base_world'>Plot base world</h2><span id='topic+plot_base_world'></span>

<h3>Description</h3>

<p>This functions produces the initial plot of the world, with its size and all
the walls if there are any. It doesn't plot Karel or the beepers, since those
things can change with time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_base_world()
</code></pre>


<h3>Value</h3>

<p>A ggplot with the world
</p>

<hr>
<h2 id='plot_static_world'>Plot the world at a given time</h2><span id='topic+plot_static_world'></span>

<h3>Description</h3>

<p>This function plots Karel'w wort at the requested time. Initially, time is 1
and with each action that Karel performs, time is incremented by one. Current
time is stored in <code>pkg_env$moment</code>. This function is useful for
debuggint and to get static images to be used in the examples in the handouts
for studentes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_static_world(time)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_static_world_+3A_time">time</code></td>
<td>
<p>The requested time</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints the plot.
</p>

<hr>
<h2 id='put_hor_walls'>Put horizontal walls (streets)</h2><span id='topic+put_hor_walls'></span>

<h3>Description</h3>

<p>Helper function for <code>generate_open_moves()</code>. It takes the available data
for a piece of horizontal wall (x and y coordinates of its beginning point
and its length) and produces a dataset with the positions and directions of
prohibited moves for Karel because of this wall.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>put_hor_walls(x, y, lgth)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="put_hor_walls_+3A_x">x</code></td>
<td>
<p>y x and y coordinates of the beginning point of the wall</p>
</td></tr>
<tr><td><code id="put_hor_walls_+3A_lgth">lgth</code></td>
<td>
<p>length of the wall</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A lgth x 3 dataset with coordinates where Karel can't move and the
direction (side) towards it can't move because of this piece of horizontal
wall.
</p>

<hr>
<h2 id='put_ver_walls'>Put vertical walls (streets)</h2><span id='topic+put_ver_walls'></span>

<h3>Description</h3>

<p>Helper function for <code>generate_open_moves()</code>. It takes the available data
for a piece of vertical wall (x and y coordinates of its beginning point and
its length) and produces a dataset with the positions and directions of
prohibited moves for Karel because of this wall.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>put_ver_walls(x, y, lgth)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="put_ver_walls_+3A_x">x</code></td>
<td>
<p>y x and y coordinates of the beginning point of the wall</p>
</td></tr>
<tr><td><code id="put_ver_walls_+3A_lgth">lgth</code></td>
<td>
<p>length of the wall</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A lgth x 3 dataset with coordinates where Karel can't move and the
direction (side) towards it can't move because of this piece of vertical
wall.
</p>

<hr>
<h2 id='run_actions'>Run actions</h2><span id='topic+run_actions'></span>

<h3>Description</h3>

<p>This function produces the animation that shows all actions performed by
Karel since its world was generated by <code>generate_world</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_actions(loop = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_actions_+3A_loop">loop</code></td>
<td>
<p>A logical value TRUE or FALSE indicating if the animation should
repeat itself after finished or not (defaults to TRUE).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces an animation with <code>gganimate</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+generate_world">generate_world</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generate_world("mundo001")
move()
pick_beeper()
turn_left()
put_beeper()
run_actions()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

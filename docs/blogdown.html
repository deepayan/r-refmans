<!DOCTYPE html><html><head><title>Help for package blogdown</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {blogdown}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#blogdown'><p>The <span class="pkg">blogdown</span> package</p></a></li>
<li><a href='#build_dir'><p>Build all Rmd files under a directory</p></a></li>
<li><a href='#build_site'><p>Build a website</p></a></li>
<li><a href='#bundle_site'><p>Convert post files to leaf bundles</p></a></li>
<li><a href='#check_site'><p>Provide diagnostics for a website project</p></a></li>
<li><a href='#clean_duplicates'><p>Clean duplicated output files</p></a></li>
<li><a href='#config_netlify'><p>Create the configuration (file) for Netlify</p></a></li>
<li><a href='#config_Rprofile'><p>Create or modify the &lsquo;<span class="file">.Rprofile</span>&rsquo; file for a website project</p></a></li>
<li><a href='#config_vercel'><p>Create the configuration file for Vercel</p></a></li>
<li><a href='#dep_path'><p>A helper function to return a dependency path name</p></a></li>
<li><a href='#edit_draft'><p>Open a list of draft posts</p></a></li>
<li><a href='#filter_newfile'><p>Look for files that have been possibly modified or out-of-date</p></a></li>
<li><a href='#find_hugo'><p>Find or remove the Hugo executable</p></a></li>
<li><a href='#find_yaml'><p>Find posts containing the specified metadata</p></a></li>
<li><a href='#html_page'><p>An R Markdown output format for <span class="pkg">blogdown</span> web pages</p></a></li>
<li><a href='#hugo_cmd'><p>Run Hugo commands</p></a></li>
<li><a href='#hugo_installers'><p>Available Hugo installers of a version</p></a></li>
<li><a href='#install_hugo'><p>Install Hugo</p></a></li>
<li><a href='#install_theme'><p>Install a Hugo theme from Github</p></a></li>
<li><a href='#read_toml'><p>Read and write TOML data (Tom's Obvious Markup Language)</p></a></li>
<li><a href='#serve_site'><p>Live preview a site</p></a></li>
<li><a href='#shortcode'><p>Helper functions to write Hugo shortcodes using the R syntax</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create Blogs and Websites with R Markdown</td>
</tr>
<tr>
<td>Version:</td>
<td>1.19</td>
</tr>
<tr>
<td>Description:</td>
<td>Write blog posts and web pages in R Markdown. This package
    supports the static site generator 'Hugo' (<a href="https://gohugo.io">https://gohugo.io</a>) best,
    and it also supports 'Jekyll' (<a href="https://jekyllrb.com">https://jekyllrb.com</a>) and 'Hexo'
    (<a href="https://hexo.io">https://hexo.io</a>).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rstudio/blogdown">https://github.com/rstudio/blogdown</a>,
<a href="https://pkgs.rstudio.com/blogdown/">https://pkgs.rstudio.com/blogdown/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/blogdown/issues">https://github.com/rstudio/blogdown/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>bookdown (&ge; 0.22), htmltools, httpuv (&ge; 1.4.0), jsonlite,
knitr (&ge; 1.25), later, rmarkdown (&ge; 2.8), servr (&ge; 0.21),
xfun (&ge; 0.34), yaml (&ge; 2.1.19)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>miniUI, processx, rstudioapi, shiny, stringr, testit, tools,
whoami</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>pkgdown, tidyverse/tidytemplate, rstudio/quillt,
rstudio/webshot2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Hugo (&lt;https://gohugo.io&gt;) and Pandoc
(&lt;https://pandoc.org&gt;)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-01 16:04:08 UTC; yihui</td>
</tr>
<tr>
<td>Author:</td>
<td>Yihui Xie <a href="https://orcid.org/0000-0003-0645-5666"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Christophe Dervieux
    <a href="https://orcid.org/0000-0003-4474-2498"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Alison Presmanes Hill
    <a href="https://orcid.org/0000-0002-8082-1890"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Amber Thomas [ctb],
  Beilei Bian [ctb],
  Brandon Greenwell [ctb],
  Brian Barkley [ctb],
  Deependra Dhakal [ctb],
  Eric Nantz [ctb],
  Forest Fang [ctb],
  Garrick Aden-Buie [ctb],
  Hiroaki Yutani [ctb],
  Ian Lyttle [ctb],
  Jake Barlow [ctb],
  James Balamuta [ctb],
  JJ Allaire [ctb],
  Jon Calder [ctb],
  Jozef Hajnala [ctb],
  Juan Manuel Vazquez [ctb],
  Kevin Ushey [ctb],
  Leonardo Collado-Torres [ctb],
  MaÃ«lle Salmon [ctb],
  Maria Paula Caldas [ctb],
  Nicolas Roelandt [ctb],
  Oliver Madsen [ctb],
  Raniere Silva [ctb],
  TC Zhang [ctb],
  Xianying Tan [ctb],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yihui Xie &lt;xie@yihui.name&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-01 16:20:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='blogdown'>The <span class="pkg">blogdown</span> package</h2><span id='topic+blogdown'></span><span id='topic+blogdown-package'></span>

<h3>Description</h3>

<p>The comprehensive documentation of this package is the book <b>blogdown:
Creating Websites with R Markdown</b>
(<a href="https://bookdown.org/yihui/blogdown/">https://bookdown.org/yihui/blogdown/</a>). You are expected to read at
least the first chapter. If you are really busy or do not care about an
introduction to <span class="pkg">blogdown</span> (e.g., you are very familiar with creating
websites), set your working directory to an empty directory, and run
<code>blogdown::<a href="#topic+new_site">new_site</a>()</code> to get started right away.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) blogdown::new_site()
</code></pre>

<hr>
<h2 id='build_dir'>Build all Rmd files under a directory</h2><span id='topic+build_dir'></span>

<h3>Description</h3>

<p>List all Rmd files recursively under a directory, and compile them using
<code>rmarkdown::<a href="rmarkdown.html#topic+render">render</a>()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_dir(dir = ".", force = FALSE, ignore = "[.]Rproj$")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_dir_+3A_dir">dir</code></td>
<td>
<p>A directory path.</p>
</td></tr>
<tr><td><code id="build_dir_+3A_force">force</code></td>
<td>
<p>Whether to force building all Rmd files. By default, an Rmd file
is built only if it is newer than its output file(s).</p>
</td></tr>
<tr><td><code id="build_dir_+3A_ignore">ignore</code></td>
<td>
<p>A regular expression to match output filenames that should be
ignored when testing if the modification time of the Rmd source file is
newer than its output files.</p>
</td></tr>
</table>

<hr>
<h2 id='build_site'>Build a website</h2><span id='topic+build_site'></span>

<h3>Description</h3>

<p>Build the site through Hugo, and optionally (re)build R Markdown files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_site(local = FALSE, run_hugo = TRUE, build_rmd = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_site_+3A_local">local</code></td>
<td>
<p>Whether to build the website locally. This argument is passed to
<code><a href="#topic+hugo_build">hugo_build</a>()</code>, and <code>local = TRUE</code> is mainly for serving
the site locally via <code><a href="#topic+serve_site">serve_site</a>()</code>.</p>
</td></tr>
<tr><td><code id="build_site_+3A_run_hugo">run_hugo</code></td>
<td>
<p>Whether to run <code>hugo_build()</code> after R Markdown files are
compiled.</p>
</td></tr>
<tr><td><code id="build_site_+3A_build_rmd">build_rmd</code></td>
<td>
<p>Whether to (re)build R Markdown files. By default, they are
not built. See &lsquo;Details&rsquo; for how <code>build_rmd = TRUE</code> works.
Alternatively, it can take a vector of file paths, which means these files
are to be (re)built. Or you can provide a function that takes a vector of
paths of all R Markdown files under the &lsquo;<span class="file">content/</span>&rsquo; directory, and
returns a vector of paths of files to be built, e.g., <code>build_rmd =
blogdown::filter_timestamp</code>. A few aliases are currently provided for such
functions: <code>build_rmd = 'newfile'</code> is equivalent to <code>build_rmd =
blogdown::filter_newfile</code>, <code>build_rmd = 'timestamp'</code> is equivalent to
<code>build_rmd = blogdown::filter_timestamp</code>, and <code>build_rmd =
'md5sum'</code> is equivalent to <code>build_rmd = blogdown::filter_md5sum</code>.</p>
</td></tr>
<tr><td><code id="build_site_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to <code><a href="#topic+hugo_build">hugo_build</a>()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can use <code><a href="#topic+serve_site">serve_site</a>()</code> to preview your website locally, and
<code>build_site()</code> to build the site for publishing. However, if you use a
web publishing service like Netlify, you do not need to build the site
locally, but can build it on the cloud. See Section 1.7 of the <span class="pkg">blogdown</span>
book for more information:
<a href="https://bookdown.org/yihui/blogdown/workflow.html">https://bookdown.org/yihui/blogdown/workflow.html</a>.
</p>
<p>For R Markdown posts, there are a few possible rendering methods: <code>html</code>
(the default), <code>markdown</code>, and <code>custom</code>. The method can be set in
the global option <code>blogdown.method</code> (usually in the
&lsquo;<span class="file"><a href="base.html#topic+.Rprofile">.Rprofile</a></span>&rsquo; file), e.g., <code>options(blogdown.method =
"custom")</code>.
</p>
<p>For the <code>html</code> method, &lsquo;<span class="file">.Rmd</span>&rsquo; posts are rendered to &lsquo;<span class="file">.html</span>&rsquo;
via <code>rmarkdown::<a href="rmarkdown.html#topic+render">render</a>()</code>, which means Markdown is
processed through Pandoc. For the <code>markdown</code> method, &lsquo;<span class="file">.Rmd</span>&rsquo; is
rendered to &lsquo;<span class="file">.md</span>&rsquo;, which will typically be rendered to HTML later by the
site generator such as Hugo.
</p>
<p>For all rendering methods, a custom R script &lsquo;<span class="file">R/build.R</span>&rsquo; will be
executed if you have provided it under the root directory of the website
(e.g. you can compile Rmd to Markdown through
<code>knitr::<a href="knitr.html#topic+knit">knit</a>()</code> and build the site via
<code><a href="#topic+hugo_cmd">hugo_cmd</a>()</code>). The <code>custom</code> method means it is entirely up
to this R script how a website is rendered. The script is executed via
command line <code>Rscript "R/build.R"</code>, which means it is executed in a
separate R session. The value of the argument <code>local</code> is passed to the
command line (you can retrieve the command-line arguments via
<code><a href="base.html#topic+commandArgs">commandArgs</a>(TRUE)</code>). For other rendering methods, the R script
&lsquo;<span class="file">R/build2.R</span>&rsquo; (if exists) will be executed after Hugo has built the site.
This can be useful if you want to post-process the site.
</p>
<p>When <code>build_rmd = TRUE</code>, all Rmd files will be (re)built. You can set
the global option <code>blogdown.files_filter</code> to a function to determine
which Rmd files to build when <code>build_rmd = TRUE</code>. This function takes a
vector of Rmd file paths, and should return a subset of these paths to be
built. By default, <code>options(blogdown.files_filter = <a href="base.html#topic+identity">identity</a></code>.
You can use <code>blogdown::<a href="#topic+filter_newfile">filter_newfile</a></code>, which means to build new
Rmd files that have not been built before, or
<code>blogdown::<a href="#topic+filter_timestamp">filter_timestamp</a></code> to build Rmd files if their time
stamps (modification time) are newer than their output files, or
<code>blogdown::<a href="#topic+filter_md5sum">filter_md5sum</a></code>, which is more robust in determining if
an Rmd file has been modified (hence needs to be rebuilt).
</p>

<hr>
<h2 id='bundle_site'>Convert post files to leaf bundles</h2><span id='topic+bundle_site'></span>

<h3>Description</h3>

<p>For a post with the path &lsquo;<span class="file">content/path/to/my-post.md</span>&rsquo;, it will be moved
to &lsquo;<span class="file">content/path/to/my-post/index.md</span>&rsquo;, so it becomes the index file of a
leaf bundle of Hugo. This also applies to files with extensions &lsquo;<span class="file">.Rmd</span>&rsquo;
and &lsquo;<span class="file">.Rmarkdown</span>&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bundle_site(dir = site_root(), output)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bundle_site_+3A_dir">dir</code></td>
<td>
<p>The root directory of the website project (should contain a
&lsquo;<span class="file">content/</span>&rsquo; folder).</p>
</td></tr>
<tr><td><code id="bundle_site_+3A_output">output</code></td>
<td>
<p>The output directory. If not provided, a suffix &lsquo;<span class="file">-bundle</span>&rsquo;
is added to the website root directory name. For example, the default
output directory for the site under &lsquo;<span class="file">~/Documents/test</span>&rsquo; is
&lsquo;<span class="file">~/Documents/test-bundle</span>&rsquo;. You can specify the output directory to be
identical to the website root directory, so files will be moved within the
same directory, but please remember that you will not be able to undo
<code>bundle_site()</code>. You should modify the website in place <em>only if
you have a backup for this directory or it is under version control</em>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This function only moves (R) Markdown source files. If these files use
resource files under the &lsquo;<span class="file">static/</span>&rsquo; folder, these resources will not be
moved into the &lsquo;<span class="file">content/</span>&rsquo; folder. You need to manually move them, and
adjust their paths in the (R) Markdown source files accordingly.
</p>


<h3>References</h3>

<p>Learn more about Hugo's leaf bundles at
<a href="https://gohugo.io/content-management/page-bundles/">https://gohugo.io/content-management/page-bundles/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
blogdown::bundle_site(".", "../new-site/")
blogdown::bundle_site(".", ".")  # move files within the current working directory

## End(Not run)
</code></pre>

<hr>
<h2 id='check_site'>Provide diagnostics for a website project</h2><span id='topic+check_site'></span><span id='topic+check_config'></span><span id='topic+check_gitignore'></span><span id='topic+check_hugo'></span><span id='topic+check_netlify'></span><span id='topic+check_vercel'></span><span id='topic+check_content'></span>

<h3>Description</h3>

<p>The function <code>check_site()</code> runs all <code>check_*()</code> functions on this
page against a website project. See &lsquo;Details&rsquo; for what each
<code>check_*()</code> function does.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_site()

check_config()

check_gitignore()

check_hugo()

check_netlify()

check_vercel()

check_content()
</code></pre>


<h3>Details</h3>

<p><code>check_config()</code> checks the configuration file
(&lsquo;<span class="file">config.yaml</span>&rsquo; or &lsquo;<span class="file">config.toml</span>&rsquo;) for settings such as
<code>baseURL</code> and <code>ignoreFiles</code>.
</p>
<p><code>check_gitignore()</code> checks if necessary files are incorrectly
ignored in GIT.
</p>
<p><code>check_hugo()</code> checks possible problems with the Hugo
installation and version.
</p>
<p><code>check_netlify()</code> checks the Hugo version specification and the
publish directory in the Netlify config file &lsquo;<span class="file">netlify.toml</span>&rsquo;.
Specifically, it will check if the local Hugo version matches the version
specified in &lsquo;<span class="file">netlify.toml</span>&rsquo; (in the environment variable
<var>HUGO_VERSION</var>), and if the <var>publish</var> setting in
&lsquo;<span class="file">netlify.toml</span>&rsquo; matches the <var>publishDir</var> setting in Hugo's config
file (if it is set).
</p>
<p><code>check_vercel()</code> checks if the Hugo version specified in
&lsquo;<span class="file">vercel.json</span>&rsquo; (if it exists) matches the Hugo version used in the
current system.
</p>
<p><code>check_content()</code> checks for possible problems in the content
files. First, it checks for the validity of YAML metadata of all posts.
Then it searches for posts with future dates and draft posts, and lists
them if found (such posts appear in the local preview by default, but will
be ignored by default when building the site). Then it checks for R
Markdown posts that have not been rendered, or have output files older than
the source files, and plain Markdown posts that have &lsquo;<span class="file">.html</span>&rsquo; output
files (which they should not have). At last, it detects &lsquo;<span class="file">.html</span>&rsquo; files
that seem to be generated by clicking the Knit button in RStudio with
<span class="pkg">blogdown</span> &lt; v0.21. Such &lsquo;<span class="file">.html</span>&rsquo; files should be deleted, since
the Knit button only works with <span class="pkg">blogdown</span> &gt;= v0.21.
</p>

<hr>
<h2 id='clean_duplicates'>Clean duplicated output files</h2><span id='topic+clean_duplicates'></span>

<h3>Description</h3>

<p>For an output file &lsquo;<span class="file">FOO.html</span>&rsquo;, &lsquo;<span class="file">FOO.md</span>&rsquo; should be deleted if
&lsquo;<span class="file">FOO.Rmd</span>&rsquo; exists, and &lsquo;<span class="file">FOO.html</span>&rsquo; should be deleted when
&lsquo;<span class="file">FOO.Rmarkdown</span>&rsquo; exists (because &lsquo;<span class="file">FOO.Rmarkdown</span>&rsquo; should generate
&lsquo;<span class="file">FOO.markdown</span>&rsquo; instead) or neither &lsquo;<span class="file">FOO.Rmarkdown</span>&rsquo; nor
&lsquo;<span class="file">FOO.Rmd</span>&rsquo; exists (because a plain Markdown file should not be knitted to
HTML).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_duplicates(preview = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_duplicates_+3A_preview">preview</code></td>
<td>
<p>Whether to preview the file list, or just delete the files. If
you are sure the files can be safely deleted, use <code>preview = FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>preview = TRUE</code>, a logical vector indicating if each file
was successfully deleted; for <code>preview = FALSE</code>, the file list is
printed.
</p>

<hr>
<h2 id='config_netlify'>Create the configuration (file) for Netlify</h2><span id='topic+config_netlify'></span>

<h3>Description</h3>

<p>This function provides some default configurations for a Huge website to be
built via Hugo and deployed on Netlify. It sets the build command for the
production and preview contexts, respectively (for preview contexts such as
&lsquo;<span class="samp">&#8288;deploy-preview&#8288;</span>&rsquo;, the command will build future posts). It also sets the
publish directory according to your setting in Hugo's config file (if it
exists, otherwise it will be the default &lsquo;<span class="file">public</span>&rsquo; directory). The Hugo
version is set to the current version of Hugo found on your computer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>config_netlify(output = "netlify.toml", new_config = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="config_netlify_+3A_output">output</code></td>
<td>
<p>Path to the output file, or <code>NULL</code>. If the file exists and
the R session is interactive, you will be prompted to decide whether to
overwrite the file.</p>
</td></tr>
<tr><td><code id="config_netlify_+3A_new_config">new_config</code></td>
<td>
<p>If any default configuration does not apply to your site,
you may provide a list of configurations to override the default. For
example, if you want to use Hugo v0.25.1, you may use <code>new_config =
list(build = list(environment = list(HUGO_VERSION = '0.25.1')))</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>output = NULL</code>, a character vector of TOML data representing
the configurations (which you can preview and decide whether to write it to
a file), otherwise the TOML data is written to a file.
</p>


<h3>References</h3>

<p>See Netlify's documentation on the configuration file
&lsquo;<span class="file">netlify.toml</span>&rsquo; for the possible settings:
<a href="https://docs.netlify.com/configure-builds/file-based-configuration/">https://docs.netlify.com/configure-builds/file-based-configuration/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>blogdown::config_netlify(output = NULL)  # default data

# change the publish dir to 'docs/'
blogdown::config_netlify(NULL, list(build = list(publish = "docs")))
</code></pre>

<hr>
<h2 id='config_Rprofile'>Create or modify the &lsquo;<span class="file">.Rprofile</span>&rsquo; file for a website project</h2><span id='topic+config_Rprofile'></span>

<h3>Description</h3>

<p>If the file &lsquo;<span class="file">.Rprofile</span>&rsquo; does not exist in the current directory, copy
the file from the &lsquo;<span class="file">resources</span>&rsquo; directory of <span class="pkg">blogdown</span>. If the option
<code>blogdown.hugo.version</code> is not found in this file, append
<code>options(blogdown.hugo.version = "VERSION")</code> to it, where <code>VERSION</code>
is obtained from <code><a href="#topic+hugo_version">hugo_version</a>()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>config_Rprofile()
</code></pre>


<h3>Value</h3>

<p>As a side-effect, the file &lsquo;<span class="file">.Rprofile</span>&rsquo; is created or modified.
</p>

<hr>
<h2 id='config_vercel'>Create the configuration file for Vercel</h2><span id='topic+config_vercel'></span>

<h3>Description</h3>

<p>Create &lsquo;<span class="file">vercel.json</span>&rsquo; that contains the Hugo version currently used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>config_vercel(output = "vercel.json")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="config_vercel_+3A_output">output</code></td>
<td>
<p>Path to the output file, or <code>NULL</code> to print the config.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Vercel: <a href="https://vercel.com">https://vercel.com</a>
</p>

<hr>
<h2 id='dep_path'>A helper function to return a dependency path name</h2><span id='topic+dep_path'></span>

<h3>Description</h3>

<p>In most cases, <span class="pkg">blogdown</span> can process images and HTML widgets
automatically generated from code chunks (they will be moved to the
<code>static/</code> folder by default), but it may fail to recognize dependency
files generated to other paths. This function returns a path that you can use
for your output files, so that <span class="pkg">blogdown</span> knows that they should be be
processed, too. It is designed to be used in a <span class="pkg">knitr</span> code chunk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dep_path(default = knitr::opts_chunk$get("fig.path"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dep_path_+3A_default">default</code></td>
<td>
<p>Return this default value when this function is called outside
of a <span class="pkg">knitr</span> code chunk.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string of the <code>default</code> value (outside <span class="pkg">knitr</span>),
or a path consisting of the <span class="pkg">knitr</span> figure path appended by the current
chunk label.
</p>

<hr>
<h2 id='edit_draft'>Open a list of draft posts</h2><span id='topic+edit_draft'></span>

<h3>Description</h3>

<p>If a file is opened in RStudio, this function will try to locate the
<code>draft</code> field in YAML automatically, so you can edit this field
immediately.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit_draft(files)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edit_draft_+3A_files">files</code></td>
<td>
<p>A vector of file paths.</p>
</td></tr>
</table>

<hr>
<h2 id='filter_newfile'>Look for files that have been possibly modified or out-of-date</h2><span id='topic+filter_newfile'></span><span id='topic+filter_timestamp'></span><span id='topic+filter_md5sum'></span>

<h3>Description</h3>

<p>Filter files by checking if their modification times or MD5 checksums have
changed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_newfile(files)

filter_timestamp(files)

filter_md5sum(files, db = "blogdown/md5sum.txt")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_newfile_+3A_files">files</code></td>
<td>
<p>A vector of file paths.</p>
</td></tr>
<tr><td><code id="filter_newfile_+3A_db">db</code></td>
<td>
<p>Path to the database file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>filter_newfile()</code> returns paths of source files that do
not have corresponding output files, e.g., an &lsquo;<span class="file">.Rmd</span>&rsquo; file that doesn't
have the &lsquo;<span class="file">.html</span>&rsquo; output file.
</p>
<p>The function <code>filter_timestamp()</code> compares the modification time of an
Rmd file with that of its output file, and returns the path of a file if it
is newer than its output file by <code>N</code> seconds (or if the output file does
not exist), where <code>N</code> is obtained from the R global option
<code>blogdown.time_diff</code>. By default, <code>N = 0</code>. You may change it via
<code>options()</code>, e.g., <code>options(blogdown.time_diff = 5)</code> means an Rmd
file will be returned when its modification time at least 5 seconds newer
than its output file's modification time.
</p>
<p>The function <code>filter_md5sum()</code> reads the MD5 checksums of files from a
database (a tab-separated text file), and returns the files of which the
checksums have changed. If the database does not exist, write the checksums
of files to it, otherwise update the checksums after the changed files have
been identified. When a file is modified, its MD5 checksum is very likely to
change.
</p>
<p>These functions can be used to determine which Rmd files to be rebuilt in a
<span class="pkg">blogdown</span> website. See <code><a href="#topic+build_site">build_site</a>()</code> for more information.
</p>


<h3>Value</h3>

<p>The filtered file paths.
</p>

<hr>
<h2 id='find_hugo'>Find or remove the Hugo executable</h2><span id='topic+find_hugo'></span><span id='topic+remove_hugo'></span>

<h3>Description</h3>

<p>Search for Hugo in a series of possible installation directories (see
<code><a href="#topic+install_hugo">install_hugo</a>()</code> for these directories) with <code>find_hugo()</code>,
or remove the Hugo executable(s) found with <code>remove_hugo()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_hugo(version = getOption("blogdown.hugo.version"), quiet = FALSE)

remove_hugo(version = getOption("blogdown.hugo.version"), force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_hugo_+3A_version">version</code></td>
<td>
<p>The expected version number, e.g., <code>'0.25.1'</code>. If
<code>NULL</code>, it will try to find/remove the maximum possible version. If
<code>'all'</code>, find/remove all possible versions. In an interactive R
session when <code>version</code> is not provided, <code>remove_hugo()</code> will list
all installed versions of Hugo, and you can select which versions to
remove.</p>
</td></tr>
<tr><td><code id="find_hugo_+3A_quiet">quiet</code></td>
<td>
<p>Whether to signal a message when two versions of Hugo are found:
one is found on the system <var>PATH</var> variable, and one is installed by
<code><a href="#topic+install_hugo">install_hugo</a>()</code>.</p>
</td></tr>
<tr><td><code id="find_hugo_+3A_force">force</code></td>
<td>
<p>By default, <code>remove_hugo()</code> only removes Hugo installed via
<code><a href="#topic+install_hugo">install_hugo</a>()</code>. For <code>force = TRUE</code>, it will try to
remove any Hugo executables found via <code>find_hugo()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If your website depends on a specific version of Hugo, we strongly recommend
that you set <code>options(blogdown.hugo.version = )</code> to the version number
you desire in the file <code>.Rprofile</code> in the root directory of the website
project, so that <span class="pkg">blogdown</span> can try to find the right version of Hugo
before it builds or serves the website. You can use the function
<code><a href="#topic+config_Rprofile">config_Rprofile</a>()</code> to do this automatically.
</p>


<h3>Value</h3>

<p>For <code>find_hugo()</code>, it returns the path to the Hugo executable if
found, otherwise it will signal an error, with a hint on how to install
(the required version of) Hugo. If Hugo is found via the environment
variable <var>PATH</var>, only the base name of the path is returned (you may
use <code><a href="base.html#topic+Sys.which">Sys.which</a>('hugo')</code> to obtain the full path).
</p>
<p>If <code>version = 'all'</code>, return the paths of all versions of Hugo
installed.
</p>

<hr>
<h2 id='find_yaml'>Find posts containing the specified metadata</h2><span id='topic+find_yaml'></span><span id='topic+find_tags'></span><span id='topic+find_categories'></span><span id='topic+count_yaml'></span>

<h3>Description</h3>

<p>Given a YAML field name, find the (R) Markdown files that contain this field
and its value contains any of the specified values. Functions
<code>find_tags()</code> and <code>find_categories()</code> are wrappers of
<code>find_yaml()</code> with <code>field = 'tags'</code> and <code>field =
'categories'</code>, respectively; <code>count_fields()</code> returns the frequency
tables of the specified YAML fields, such as the counts of tags and
categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_yaml(field = character(), value = character(), open = FALSE)

find_tags(value = character(), open = FALSE)

find_categories(value = character(), open = FALSE)

count_yaml(fields = c("categories", "tags"), sort_by_count = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_yaml_+3A_field">field</code>, <code id="find_yaml_+3A_fields">fields</code></td>
<td>
<p>A character vector of YAML field names.</p>
</td></tr>
<tr><td><code id="find_yaml_+3A_value">value</code></td>
<td>
<p>A vector of the field values to be matched.</p>
</td></tr>
<tr><td><code id="find_yaml_+3A_open">open</code></td>
<td>
<p>Whether to open the matched files automatically.</p>
</td></tr>
<tr><td><code id="find_yaml_+3A_sort_by_count">sort_by_count</code></td>
<td>
<p>Whether to sort the frequency tables by counts.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>find_yaml()</code> returns a character vector of filenames;
<code>count_yaml()</code> returns a list of frequency tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(blogdown)
find_tags(c("time-series", "support vector machine"))
find_categories("Statistics")

count_yaml(sort_by_count = FALSE)
</code></pre>

<hr>
<h2 id='html_page'>An R Markdown output format for <span class="pkg">blogdown</span> web pages</h2><span id='topic+html_page'></span>

<h3>Description</h3>

<p>This function is a simple wrapper of <code>bookdown::html_document2()</code>
with different default arguments, and more importantly, a special HTML
template designed only for <span class="pkg">blogdown</span> to render R Markdown to HTML pages
that can be processed by Hugo.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>html_page(
  ...,
  number_sections = FALSE,
  self_contained = FALSE,
  highlight = NULL,
  template = NULL,
  pandoc_args = c("-M", "link-citations=true", "--preserve-tabs"),
  keep_md = FALSE,
  pre_knit = NULL,
  post_processor = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="html_page_+3A_...">...</code>, <code id="html_page_+3A_number_sections">number_sections</code>, <code id="html_page_+3A_self_contained">self_contained</code>, <code id="html_page_+3A_highlight">highlight</code>, <code id="html_page_+3A_template">template</code>, <code id="html_page_+3A_pandoc_args">pandoc_args</code></td>
<td>
<p>Arguments passed to <code>bookdown::html_document2()</code> (note the option
<code>theme</code> is not supported and set to <code>NULL</code> internally, and when
<code>template = NULL</code>, a default template in <span class="pkg">blogdown</span> will be used).</p>
</td></tr>
<tr><td><code id="html_page_+3A_keep_md">keep_md</code>, <code id="html_page_+3A_pre_knit">pre_knit</code>, <code id="html_page_+3A_post_processor">post_processor</code></td>
<td>
<p>Passed to
<code>rmarkdown::<a href="rmarkdown.html#topic+output_format">output_format</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The HTML output is not a complete HTML document, and only meaningful to
<span class="pkg">blogdown</span> (it will be post-processed to render valid HTML pages). The
only purpose of this output format is for users to change options in YAML.
</p>
<p>The fact that it is based on <span class="pkg">bookdown</span> means most <span class="pkg">bookdown</span>
features are supported, such as numbering and cross-referencing
figures/tables.
</p>


<h3>Note</h3>

<p>Do not use a custom template unless you understand how the default
template actually works (see the <span class="pkg">blogdown</span> book).
</p>
<p>The argument <code>highlight</code> does not support the value <code>"textmate"</code>,
and the argument <code>template</code> does not support the value
<code>"default"</code>.
</p>


<h3>References</h3>

<p>See Chapter 2 of the <span class="pkg">bookdown</span> book for the Markdown syntax:
<a href="https://bookdown.org/yihui/bookdown">https://bookdown.org/yihui/bookdown</a>. See the <span class="pkg">blogdown</span> book for
full details: <a href="https://bookdown.org/yihui/blogdown">https://bookdown.org/yihui/blogdown</a>.
</p>

<hr>
<h2 id='hugo_cmd'>Run Hugo commands</h2><span id='topic+hugo_cmd'></span><span id='topic+hugo_version'></span><span id='topic+hugo_available'></span><span id='topic+hugo_build'></span><span id='topic+new_site'></span><span id='topic+new_content'></span><span id='topic+new_post'></span><span id='topic+hugo_convert'></span><span id='topic+hugo_server'></span>

<h3>Description</h3>

<p>Wrapper functions to run Hugo commands via <code><a href="base.html#topic+system2">system2</a>('hugo',
...)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hugo_cmd(...)

hugo_version()

hugo_available(version = "0.0.0", exact = FALSE)

hugo_build(
  local = FALSE,
  args = getOption("blogdown.hugo.args"),
  baseURL = NULL,
  relativeURLs = NULL
)

new_site(
  dir = ".",
  force = NA,
  install_hugo = TRUE,
  format = "yaml",
  sample = TRUE,
  theme = "yihui/hugo-lithium",
  hostname = "github.com",
  theme_example = TRUE,
  empty_dirs = FALSE,
  to_yaml = TRUE,
  netlify = TRUE,
  .Rprofile = TRUE,
  serve = if (interactive()) "ask" else FALSE
)

new_content(path, kind = "", open = interactive())

new_post(
  title,
  kind = "",
  open = interactive(),
  author = getOption("blogdown.author"),
  categories = NULL,
  tags = NULL,
  date = Sys.Date(),
  time = getOption("blogdown.time", FALSE),
  file = NULL,
  slug = NULL,
  title_case = getOption("blogdown.title_case"),
  subdir = getOption("blogdown.subdir", "post"),
  ext = getOption("blogdown.ext", ".md")
)

hugo_convert(to = c("YAML", "TOML", "JSON"), unsafe = FALSE, ...)

hugo_server(host, port)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hugo_cmd_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code>system2('hugo', ...)</code>, e.g.
<code>new_content(path)</code> is basically <code>hugo_cmd(c('new', path))</code> (i.e.
run the command <code>hugo new path</code>).</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_version">version</code></td>
<td>
<p>A version number.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_exact">exact</code></td>
<td>
<p>If <code>FALSE</code>, check if the current Hugo version is equal to
or higher than the specified <code>version</code>. If <code>TRUE</code>, check if the
exact version is available.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_local">local</code></td>
<td>
<p>Whether to build the site for local preview (if <code>TRUE</code>, all
drafts and future posts will also be built).</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_args">args</code></td>
<td>
<p>A character vector of command-line arguments to be passed to
<code>hugo</code>, e.g., <code>c("--minify", "--quiet")</code>.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_baseurl">baseURL</code>, <code id="hugo_cmd_+3A_relativeurls">relativeURLs</code></td>
<td>
<p>Custom values of <code>baseURL</code> and
<code>relativeURLs</code> to override Hugo's default and the settings in the
site's config file.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_dir">dir</code></td>
<td>
<p>The directory of the new site.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_force">force</code></td>
<td>
<p>Whether to create the site in a directory even if it is not
empty. By default, <code>force = TRUE</code> when the directory only contains
hidden, RStudio project (&lsquo;<span class="file">*.Rproj</span>&rsquo;), &lsquo;<span class="file">LICENSE</span>&rsquo;, and/or
&lsquo;<span class="file">README</span>&rsquo; files.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_install_hugo">install_hugo</code></td>
<td>
<p>Whether to install Hugo automatically if it is not found.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_format">format</code></td>
<td>
<p>The format of the configuration file, e.g., <code>'yaml'</code> or
<code>'toml'</code> (the value <code>TRUE</code> will be treated as <code>'yaml'</code>, and
<code>FALSE</code> means <code>'toml'</code>). Note that the frontmatter of the new (R)
Markdown file created by <code>new_content()</code> always uses YAML instead of
TOML or JSON.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_sample">sample</code></td>
<td>
<p>Whether to add sample content. Hugo creates an empty site by
default, but this function adds sample content by default.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_theme">theme</code></td>
<td>
<p>A Hugo theme on Github (a character string of the form
<code>user/repo</code>, and you can optionally specify a GIT branch or tag name
after <code>@</code>, i.e. <code>theme</code> can be of the form
<code>user/repo@branch</code>). You can also specify a full URL to the zip file
or tarball of the theme. If <code>theme = NA</code>, no themes will be installed,
and you have to manually install a theme.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_hostname">hostname</code></td>
<td>
<p>Where to find the theme. Defaults to <code>github.com</code>;
specify if you wish to use an instance of GitHub Enterprise. You can also
specify the full URL of the zip file or tarball in <code>theme</code>, in which
case this argument is ignored.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_theme_example">theme_example</code></td>
<td>
<p>Whether to copy the example in the &lsquo;<span class="file">exampleSite</span>&rsquo;
directory if it exists in the theme. Not all themes provide example sites.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_empty_dirs">empty_dirs</code></td>
<td>
<p>Whether to keep the empty directories generated by Hugo.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_to_yaml">to_yaml</code></td>
<td>
<p>Whether to convert the metadata of all posts to YAML.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_netlify">netlify</code></td>
<td>
<p>Whether to create a Netlify config file &lsquo;<span class="file">netlify.toml</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_.rprofile">.Rprofile</code></td>
<td>
<p>Whether to create a &lsquo;<span class="file">.Rprofile</span>&rsquo; file. If <code>TRUE</code>, a
sample &lsquo;<span class="file">.Rprofile</span>&rsquo; will be created. It contains some global options,
such as <code>options(blogdown.hugo.version)</code>, which makes sure you will
use a specific version of Hugo for this site in the future.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_serve">serve</code></td>
<td>
<p>Whether to start a local server to serve the site. By default,
this function will ask you in an interactive R session if you want to serve
the site.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_path">path</code></td>
<td>
<p>The path to the new file under the &lsquo;<span class="file">content</span>&rsquo; directory.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_kind">kind</code></td>
<td>
<p>The content type to create, i.e., the Hugo archetype. If the
archetype is a page bundle archetype, it should end with a slash, e.g.,
<code>post/</code>.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_open">open</code></td>
<td>
<p>Whether to open the new file after creating it. By default, it is
opened in an interactive R session.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_title">title</code></td>
<td>
<p>The title of the post.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_author">author</code></td>
<td>
<p>The author of the post.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_categories">categories</code></td>
<td>
<p>A character vector of category names.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_tags">tags</code></td>
<td>
<p>A character vector of tag names.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_date">date</code></td>
<td>
<p>The date of the post.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_time">time</code></td>
<td>
<p>Whether to include the time of the day in the <code>date</code> field
of the post. If <code>TRUE</code>, the <code>date</code> will be of the format
&lsquo;<span class="samp">&#8288;%Y-%m-%dT%H:%M:%S%z&#8288;</span>&rsquo; (e.g., &lsquo;<span class="samp">&#8288;2001-02-03T04:05:06-0700&#8288;</span>&rsquo;).
Alternatively, it can take a character string to be appended to the
<code>date</code>. It can be important and helpful to include the time in the
date of a post. For example, if your website is built on a server (such as
Netlify or Vercel) and your local timezone is ahead of UTC, your local date
may be a <em>future</em> date on the server, and Hugo will not build future
posts by default (unless you use the <code>-F</code> flag).</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_file">file</code></td>
<td>
<p>The filename of the post. By default, the filename will be
automatically generated from the title by replacing non-alphanumeric
characters with dashes, e.g. <code>title = 'Hello World'</code> may create a file
&lsquo;<span class="file">content/post/2016-12-28-hello-world.md</span>&rsquo;. The date of the form
<code>YYYY-mm-dd</code> will be prepended if the filename does not start with a
date.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_slug">slug</code></td>
<td>
<p>The slug of the post. By default (<code>NULL</code>), the slug is
generated from the filename by removing the date and filename extension,
e.g., if <code>file = 'post/2020-07-23-hi-there.md'</code>, <code>slug</code> will be
<code>hi-there</code>. Set <code>slug = ''</code> if you do not want it.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_title_case">title_case</code></td>
<td>
<p>A function to convert the title to title case. If
<code>TRUE</code>, the function is <code>tools::<a href="tools.html#topic+toTitleCase">toTitleCase</a>()</code>).
This argument is not limited to title case conversion. You can provide an
arbitrary R function to convert the title.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_subdir">subdir</code></td>
<td>
<p>If specified (not <code>NULL</code>), the post will be generated
under a subdirectory under &lsquo;<span class="file">content/</span>&rsquo;. It can be a nested subdirectory
like &lsquo;<span class="file">post/joe/</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_ext">ext</code></td>
<td>
<p>The filename extension (e.g., &lsquo;<span class="file">.md</span>&rsquo;, &lsquo;<span class="file">.Rmd</span>&rsquo;, or
&lsquo;<span class="file">.Rmarkdown</span>&rsquo;). Ignored if <code>file</code> has been specified.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_to">to</code></td>
<td>
<p>A format to convert to.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_unsafe">unsafe</code></td>
<td>
<p>Whether to enable unsafe operations, such as overwriting
Markdown source documents. If you have backed up the website, or the
website is under version control, you may try <code>unsafe = TRUE</code>.</p>
</td></tr>
<tr><td><code id="hugo_cmd_+3A_host">host</code>, <code id="hugo_cmd_+3A_port">port</code></td>
<td>
<p>The host IP address and port; see
<code>servr::server_config()</code>.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>hugo_cmd()</code>: Run an arbitrary Hugo command.
</p>
</li>
<li> <p><code>hugo_version()</code>: Return the version number of Hugo if possible, which is
extracted from the output of <code>hugo_cmd('version')</code>.
</p>
</li>
<li> <p><code>hugo_available()</code>: Check if Hugo of a certain version (or above if
<code>exact = FALSE</code>) is available.
</p>
</li>
<li> <p><code>hugo_build()</code>: Build a plain Hugo website. Note that the function
<code><a href="#topic+build_site">build_site</a>()</code> first compiles Rmd files, and then calls Hugo
via <code>hugo_build()</code> to build the site.
</p>
</li>
<li> <p><code>new_site()</code>: Create a new site (skeleton) via <code>hugo new
site</code>. The directory of the new site should be empty,
</p>
</li>
<li> <p><code>new_content()</code>: Create a new (R) Markdown file via <code>hugo new</code>
(e.g. a post or a page).
</p>
</li>
<li> <p><code>new_post()</code>: A wrapper function to create a new post under the
&lsquo;<span class="file">content/post/</span>&rsquo; directory via <code>new_content()</code>. If your post will
use R code chunks, you can set <code>ext = '.Rmd'</code> or the global option
<code>options(blogdown.ext = '.Rmd')</code> in your &lsquo;<span class="file">~/.Rprofile</span>&rsquo;.
Similarly, you can set <code>options(blogdown.author = 'Your Name')</code> so
that the author field is automatically filled out when creating a new post.
</p>
</li>
<li> <p><code>hugo_convert()</code>: A wrapper function to convert source content to
different formats via <code>hugo convert</code>.
</p>
</li>
<li> <p><code>hugo_server()</code>: Start a Hugo server.
</p>
</li></ul>


<h3>References</h3>

<p>The full list of Hugo commands: <a href="https://gohugo.io/commands">https://gohugo.io/commands</a>,
and themes: <a href="https://themes.gohugo.io">https://themes.gohugo.io</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>blogdown::hugo_available("1.2.3")
if (interactive()) blogdown::new_site()
</code></pre>

<hr>
<h2 id='hugo_installers'>Available Hugo installers of a version</h2><span id='topic+hugo_installers'></span>

<h3>Description</h3>

<p>Given a version number, return the information of available installers. If
<code><a href="#topic+install_hugo">install_hugo</a>()</code> fails, you may run this function to check the
available installers and obtain their <code>os</code>/<code>arch</code> info.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hugo_installers(version = "latest")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hugo_installers_+3A_version">version</code></td>
<td>
<p>A version number. The default is to automatically detect the
latest version. Versions before v0.17 are not supported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing columns <code>os</code> (operating system),
<code>arch</code> (architecture), and <code>extended</code> (extended version or not).
If your R version is lower than 4.1.0, a character vector of the installer
filenames will be returned instead.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
blogdown::hugo_installers()
blogdown::hugo_installers("0.89.0")
blogdown::hugo_installers("0.17")

</code></pre>

<hr>
<h2 id='install_hugo'>Install Hugo</h2><span id='topic+install_hugo'></span><span id='topic+update_hugo'></span>

<h3>Description</h3>

<p>Download the appropriate Hugo executable for your platform from Github and
try to copy it to a system directory so <span class="pkg">blogdown</span> can run the
<code>hugo</code> command to build a site.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_hugo(
  version = "latest",
  extended = TRUE,
  arch = "auto",
  os = "auto",
  force = FALSE,
  ...
)

update_hugo()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_hugo_+3A_version">version</code></td>
<td>
<p>The Hugo version number, e.g., <code>0.26</code>; the special value
<code>latest</code> means the latest version (fetched from Github releases).
Alternatively, this argument can take a file path of the zip archive or
tarball of the Hugo installer that has already been downloaded from Github,
in which case it will not be downloaded again.</p>
</td></tr>
<tr><td><code id="install_hugo_+3A_extended">extended</code></td>
<td>
<p>Whether to use extended version of Hugo that has SCSS/SASS
support. You only need the extended version if you want to edit SCSS/SASS.
Note that this feature is not available to Hugo version lower than v0.43.
It also requires a 64-bit system; if the system is based on the ARM
architecture, only macOS is supported at the moment.</p>
</td></tr>
<tr><td><code id="install_hugo_+3A_arch">arch</code>, <code id="install_hugo_+3A_os">os</code></td>
<td>
<p>The architecture and operating system name. These arguments,
along with <code>version</code> and <code>extended</code>, determines the filename of
the Hugo installer. See <a href="https://github.com/gohugoio/hugo/releases">https://github.com/gohugoio/hugo/releases</a> for
all of Hugo's installers. By default, the argument values are automatically
detected. In case the detection should fail, you can provide the values
manually, e.g., <code>extended = FALSE</code>, <code>arch = 'ARM64'</code>, and
<code>os = 'FreeBSD'</code> would install &lsquo;<span class="file">hugo_*_FreeBSD-ARM.tar.gz</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="install_hugo_+3A_force">force</code></td>
<td>
<p>Whether to reinstall Hugo if the specified version has been
installed.</p>
</td></tr>
<tr><td><code id="install_hugo_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function tries to install Hugo to <code>Sys.getenv('APPDATA')</code> on
Windows, &lsquo;<span class="file">~/Library/Application Support</span>&rsquo; on macOS, and
&lsquo;<span class="file">~/.local/share</span>&rsquo; on other platforms (such as Linux). The <code>hugo</code>
executable is installed to a subdirectory with the Hugo version number being
its name, e.g., &lsquo;<span class="file">~/Library/Application Support/Hugo/0.76.5</span>&rsquo;. If these
directories are not writable, the R package directory &lsquo;<span class="file">Hugo</span>&rsquo; of
<span class="pkg">blogdown</span> will be used. If it still fails, you have to install Hugo by
yourself and make sure it can be found via the environment variable
<code>PATH</code>.
</p>
<p>This is just a helper function and may fail to choose the correct Hugo
executable for your operating system, especially if you are not on Windows or
macOS or a major Linux distribution. When in doubt, read the Hugo
documentation and install it by yourself: <a href="https://gohugo.io">https://gohugo.io</a>.
</p>
<p>If you want to install Hugo to a custom path, you can set the global option
<code>blogdown.hugo.dir</code> to a directory to store the Hugo executable before
you call <code>install_hugo()</code>, e.g., <code>options(blogdown.hugo.dir =
'~/Downloads/Hugo')</code>. This may be useful for you to use a specific version of
Hugo for a specific website. You can set this option per project. See
<a href="https://bookdown.org/yihui/blogdown/global-options.html">Section 1.4
Global options</a> for details, or store a copy of Hugo on a USB Flash drive
along with your website.
</p>


<h3>Note</h3>

<p>For macOS users, you are not recommended to install Hugo via Homebrew,
because you may accidentally update it to the latest version, which might
break your existing sites.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+remove_hugo">remove_hugo</a>()</code> to remove Hugo.
</p>

<hr>
<h2 id='install_theme'>Install a Hugo theme from Github</h2><span id='topic+install_theme'></span>

<h3>Description</h3>

<p>Download the specified theme from Github and install to the &lsquo;<span class="file">themes</span>&rsquo;
directory. Available themes are listed at <a href="https://themes.gohugo.io">https://themes.gohugo.io</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_theme(
  theme,
  hostname = "github.com",
  theme_example = FALSE,
  update_config = TRUE,
  force = FALSE,
  update_hugo = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_theme_+3A_theme">theme</code></td>
<td>
<p>A Hugo theme on Github (a character string of the form
<code>user/repo</code>, and you can optionally specify a GIT branch or tag name
after <code>@</code>, i.e. <code>theme</code> can be of the form
<code>user/repo@branch</code>). You can also specify a full URL to the zip file
or tarball of the theme. If <code>theme = NA</code>, no themes will be installed,
and you have to manually install a theme.</p>
</td></tr>
<tr><td><code id="install_theme_+3A_hostname">hostname</code></td>
<td>
<p>Where to find the theme. Defaults to <code>github.com</code>;
specify if you wish to use an instance of GitHub Enterprise. You can also
specify the full URL of the zip file or tarball in <code>theme</code>, in which
case this argument is ignored.</p>
</td></tr>
<tr><td><code id="install_theme_+3A_theme_example">theme_example</code></td>
<td>
<p>Whether to copy the example in the &lsquo;<span class="file">exampleSite</span>&rsquo;
directory if it exists in the theme. Not all themes provide example sites.</p>
</td></tr>
<tr><td><code id="install_theme_+3A_update_config">update_config</code></td>
<td>
<p>Whether to update the <code>theme</code> option in the site
configurations.</p>
</td></tr>
<tr><td><code id="install_theme_+3A_force">force</code></td>
<td>
<p>Whether to override the existing theme of the same name. If you
have made changes to this existing theme, your changes will be lost when
<code>force = TRUE</code>! Please consider backing up the theme by renaming it
before you try <code>force = TRUE</code>.</p>
</td></tr>
<tr><td><code id="install_theme_+3A_update_hugo">update_hugo</code></td>
<td>
<p>Whether to automatically update Hugo if the theme requires
a higher version of Hugo than the existing version in your system.</p>
</td></tr>
</table>

<hr>
<h2 id='read_toml'>Read and write TOML data (Tom's Obvious Markup Language)</h2><span id='topic+read_toml'></span><span id='topic+write_toml'></span><span id='topic+toml2yaml'></span><span id='topic+yaml2toml'></span>

<h3>Description</h3>

<p>The function <code>read_toml()</code> reads TOML data from a file or a character
vector, and the function <code>write_toml()</code> converts an R object to TOML.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_toml(file, x = read_utf8(file), strict = TRUE)

write_toml(x, output = NULL)

toml2yaml(file, output = NULL)

yaml2toml(file, output = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_toml_+3A_file">file</code></td>
<td>
<p>Path to an input (TOML or YAML) file.</p>
</td></tr>
<tr><td><code id="read_toml_+3A_x">x</code></td>
<td>
<p>For <code>read_toml()</code>, the TOML data as a character vector (it is
read from <code>file</code> by default; if provided, <code>file</code> will be
ignored). For <code>write_toml()</code>, an R object to be converted to TOML.</p>
</td></tr>
<tr><td><code id="read_toml_+3A_strict">strict</code></td>
<td>
<p>Whether to try <span class="pkg">RcppTOML</span> and Hugo only (i.e., not to use
the naive parser). If <code>FALSE</code>, only the naive parser is used (this is
not recommended, unless you are sure your TOML data is really simple).</p>
</td></tr>
<tr><td><code id="read_toml_+3A_output">output</code></td>
<td>
<p>Path to an output file. If <code>NULL</code>, the TOML data is
returned, otherwise the data is written to the specified file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For <code>read_toml()</code>, it first tries to use the R package <span class="pkg">RcppTOML</span> to
read the TOML data. If <span class="pkg">RcppTOML</span> is not available, it uses Hugo to
convert the TOML data to YAML, and reads the YAML data via the R package
<span class="pkg">yaml</span>. If Hugo is not available, it falls back to a naive parser, which
is only able to parse top-level fields in the TOML data, and it only supports
character, logical, and numeric (including integer) scalars.
</p>
<p>For <code>write_toml()</code>, it converts an R object to YAML via the R package
<span class="pkg">yaml</span>, and uses Hugo to convert the YAML data to TOML.
</p>


<h3>Value</h3>

<p>For <code>read_toml()</code>, an R object. For <code>write_toml()</code>,
<code>toml2yaml()</code>, and <code>yaml2toml()</code>, a character vector (marked by
<code>xfun::<a href="xfun.html#topic+raw_string">raw_string</a>()</code>) of the TOML/YAML data if <code>output =
  NULL</code>, otherwise the TOML/YAML data is written to the output file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
v = blogdown::read_toml(x = c("a = 1", "b = true", "c = \"Hello\"", "d = [1, 2]"))
v
blogdown::write_toml(v)

## End(Not run)
</code></pre>

<hr>
<h2 id='serve_site'>Live preview a site</h2><span id='topic+serve_site'></span><span id='topic+stop_server'></span>

<h3>Description</h3>

<p>The function <code>serve_site()</code> executes the server command of a static site
generator (e.g., <code>hugo server</code> or <code>jekyll server</code>) to start a
local web server, which watches for changes in the site, rebuilds the site if
necessary, and refreshes the web page automatically; <code>stop_server()</code>
stops the web server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>serve_site(..., .site_dir = NULL)

stop_server()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="serve_site_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>servr::server_config()</code> (only
arguments <code>host</code>, <code>port</code>, <code>browser</code>, <code>daemon</code>, and
<code>interval</code> are supported).</p>
</td></tr>
<tr><td><code id="serve_site_+3A_.site_dir">.site_dir</code></td>
<td>
<p>Directory to search for site configuration file. It defaults
to <code>getwd()</code>, and can also be specified via the global option
<code>blogdown.site_root</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, the server also watches for changes in R Markdown files, and
recompile them automatically if they are modified. This means they will be
automatically recompiled once you save them. If you do not like this
behavior, you may set <code>options(blogdown.knit.on_save = FALSE)</code> (ideally
in your &lsquo;<span class="file">.Rprofile</span>&rsquo;). When this feature is disabled, you will have to
manually compile Rmd documents, e.g., by clicking the Knit button in RStudio.
</p>
<p>The site generator is defined by the global R option
<code>blogdown.generator</code>, with the default being <code>'hugo'</code>. You may use
other site generators including <code>jekyll</code> and <code>hexo</code>, e.g.,
<code>options(blogdown.generator = 'jekyll')</code>. You can define command-line
arguments to be passed to the server of the site generator via the global R
option <code>blogdown.X.server</code>, where <code>X</code> is <code>hugo</code>,
<code>jekyll</code>, or <code>hexo</code>. The default for Hugo is
<code>options(blogdown.hugo.server = c('-D', '-F', '--navigateToChanged'))</code>
(see the documentation of Hugo server at
<a href="https://gohugo.io/commands/hugo_server/">https://gohugo.io/commands/hugo_server/</a> for the meaning of these
arguments).
</p>


<h3>Note</h3>

<p>For the Hugo server, the argument <code>--navigateToChanged</code> is used
by default, which means when you edit and save a source file, Hugo will
automatically navigate the web browser to the page corresponding to this
source file (if the page exists). However, due to a Hugo bug
(<a href="https://github.com/gohugoio/hugo/issues/3811">https://github.com/gohugoio/hugo/issues/3811</a>), this automatic
navigation may not always work for R Markdown posts, and you may have to
manually refresh your browser. It should work reliably for pure Markdown
posts, though.
</p>

<hr>
<h2 id='shortcode'>Helper functions to write Hugo shortcodes using the R syntax</h2><span id='topic+shortcode'></span><span id='topic+shortcode_html'></span><span id='topic+shortcodes'></span><span id='topic+shortcode_open'></span><span id='topic+shortcode_close'></span>

<h3>Description</h3>

<p>These functions return Hugo shortcodes with the shortcode name and arguments
you specify. The closing shortcode will be added only if the inner content is
not empty. The function <code>shortcode_html()</code> is essentially
<code>shortcode(.type = 'html')</code>. The function <code>shortcodes()</code> is a
vectorized version of <code>shortcode()</code>. The paired functions
<code>shortcode_open()</code> and <code>shortcode_close()</code> provide an alternative
method to open and close shortcodes, which allows inner content be processed
safely by Pandoc (e.g., citation keys in the content).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shortcode(.name, ..., .content = NULL, .type = "markdown")

shortcode_html(...)

shortcodes(..., .sep = "\n")

shortcode_open(...)

shortcode_close(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shortcode_+3A_.name">.name</code></td>
<td>
<p>The name of the shortcode.</p>
</td></tr>
<tr><td><code id="shortcode_+3A_...">...</code></td>
<td>
<p>All arguments of the shortcode (either all named, or all unnamed).
The <code>...</code> arguments of all other functions are passed to
<code>shortcode()</code>.</p>
</td></tr>
<tr><td><code id="shortcode_+3A_.content">.content</code></td>
<td>
<p>The inner content for the shortcode.</p>
</td></tr>
<tr><td><code id="shortcode_+3A_.type">.type</code></td>
<td>
<p>The type of the shortcode: <code>markdown</code> or <code>html</code>.</p>
</td></tr>
<tr><td><code id="shortcode_+3A_.sep">.sep</code></td>
<td>
<p>The separator between two shortcodes (by default, a newline).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions can be used in either <span class="pkg">knitr</span> inline R expressions or
code chunks. The returned character string is wrapped in
<code>htmltools::<a href="htmltools.html#topic+HTML">HTML</a>()</code>, so  <span class="pkg">rmarkdown</span> will protect
it from the Pandoc conversion. You cannot simply write <code>{{&lt; shortcode
&gt;}}</code> in R Markdown, because Pandoc is not aware of Hugo shortcodes, and may
convert special characters so that Hugo can no longer recognize the
shortcodes (e.g. <code>&lt;</code> will be converted to <code>&amp;lt;</code>).
</p>
<p>If your document is pure Markdown, you can use the Hugo syntax to write
shortcodes, and there is no need to call these R functions.
</p>


<h3>Value</h3>

<p>A character string wrapped in <code>htmltools::HTML()</code>;
<code>shortcode()</code> returns a string of the form <code>{{% name args %}}</code>,
and <code>shortcode_html()</code> returns <code>{{&lt; name args &gt;}}</code>.
</p>


<h3>Note</h3>

<p>Since Hugo v0.60, Hugo has switched its default Markdown rendering
engine to Goldmark. One consequence is that shortcodes may fail to render.
You may enable the <code>unsafe</code> option in the configuration file:
<a href="https://gohugo.io/getting-started/configuration-markup/#goldmark">https://gohugo.io/getting-started/configuration-markup/#goldmark</a>.
</p>


<h3>References</h3>

<p><a href="https://gohugo.io/extras/shortcodes/">https://gohugo.io/extras/shortcodes/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(blogdown)

shortcode("tweet", user = "SanDiegoZoo", id = "1453110110599868418")
# multiple tweets (id's are fake)
shortcodes("tweet", user = "SanDiegoZoo", id = as.character(1:5))
shortcode("figure", src = "/images/foo.png", alt = "A nice figure")
shortcode("highlight", "bash", .content = "echo hello world;")

shortcode_html("myshortcode", .content = "My &lt;strong&gt;shortcode&lt;/strong&gt;.")

shortcode_open("figure", src = "/images/foo.png")
# This inner text will be *processed* by Pandoc, @Smith2006
shortcode_close("figure")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

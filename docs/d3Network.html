<!DOCTYPE html><html><head><title>Help for package d3Network</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {d3Network}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#d3ClusterDendro'><p>Create a D3 JavaScript Cluster Dendrogram graphs.</p></a></li>
<li><a href='#d3ForceNetwork'><p>Create a D3 JavaScript force directed network graph.</p></a></li>
<li><a href='#d3Network'><p>Function for creating simple D3 JavaScript force directed network graphs.</p>
DEPRICATED, USE d3SimpleNetwork</a></li>
<li><a href='#d3Sankey'><p>Create a D3 JavaScript Sankey diagram</p></a></li>
<li><a href='#d3SimpleNetwork'><p>Function for creating simple D3 JavaScript force directed network graphs.</p></a></li>
<li><a href='#d3Tree'><p>Creates a D3 JavaScript Reingold-Tilford Tree network graph.</p></a></li>
<li><a href='#energy'><p>JSON data file of a projection of UK energy production and consumption in 2050.</p></a></li>
<li><a href='#flare'><p>JSON data file of the Flare class hierarchy.</p></a></li>
<li><a href='#JSONtoDF'><p>Read a link-node structured JSON file into R as two data frames.</p></a></li>
<li><a href='#MisLinks'><p>A data file of links from Knuth's Les Miserables characters data base.</p></a></li>
<li><a href='#MisNodes'><p>A data file of nodes from Knuth's Les Miserables characters data base.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools for creating D3 JavaScript network, tree, dendrogram, and
Sankey graphs from R</td>
</tr>
<tr>
<td>Description:</td>
<td>This packages is intended to make it easy to create D3 JavaScript
    network, tree, dendrogram, and Sankey graphs from R using data frames.
    !!! NOTE: Active development has moved to the networkD3 package. !!!</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-01-31</td>
</tr>
<tr>
<td>Author:</td>
<td>Christopher Gandrud</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christopher Gandrud &lt;christopher.gandrud@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://christophergandrud.github.io/d3Network/">http://christophergandrud.github.io/d3Network/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/christophergandrud/d3Network/issues">https://github.com/christophergandrud/d3Network/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr, rjson, whisker</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RCurl</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-01-31 12:08:44 UTC; christophergandrud</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-01-31 17:29:42</td>
</tr>
</table>
<hr>
<h2 id='d3ClusterDendro'>Create a D3 JavaScript Cluster Dendrogram graphs.</h2><span id='topic+d3ClusterDendro'></span>

<h3>Description</h3>

<p>Create a D3 JavaScript Cluster Dendrogram graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3ClusterDendro(List, height = 2200, width = 900, heightCollapse = 0,
  widthCollapse = 0.5, fontsize = 10, linkColour = "#ccc",
  nodeColour = "#3182bd", textColour = "#3182bd", opacity = 0.8,
  diameter = 980, zoom = FALSE, parentElement = "body",
  standAlone = TRUE, file = NULL, iframe = FALSE,
  d3Script = "http://d3js.org/d3.v3.min.js")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3ClusterDendro_+3A_list">List</code></td>
<td>
<p>a hierarchical list object with a root node and children.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_heightcollapse">heightCollapse</code></td>
<td>
<p>numeric proportion of the overall graph <code>height</code>
to make the cluster dendrogram shorter by.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_widthcollapse">widthCollapse</code></td>
<td>
<p>numeric proportion of the overall graph <code>width</code> to
make the cluster dendrogram narrower by.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_fontsize">fontsize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_textcolour">textColour</code></td>
<td>
<p>character string specifying the colour you want the text
to be before they are clicked. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_diameter">diameter</code></td>
<td>
<p>numeric diameter for the network in pixels.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_zoom">zoom</code></td>
<td>
<p>logical, whether or not to enable the ability to use the mouse
scroll-wheel to zoom in and out of the graph.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_parentelement">parentElement</code></td>
<td>
<p>character string specifying the parent element for the
resulting svg network graph. This effectively allows the user to specify
where on the html page the graph will be placed. By default the parent
element is <code>body</code>.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_standalone">standAlone</code></td>
<td>
<p>logical, whether or not to return a complete HTML document
(with head and foot) or just the script.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_file">file</code></td>
<td>
<p>a character string of the file name to save the resulting graph.
If a file name is given a standalone webpage is created, i.e. with a header
and footer. If <code>file = NULL</code> then result is returned to the console.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_iframe">iframe</code></td>
<td>
<p>logical. If <code>iframe = TRUE</code> then the graph is saved to an
external file in the working directory and an HTML <code>iframe</code> linking to
the file is printed to the console. This is useful if you are using Slidify
and many other HTML slideshow framworks and want to include the graph in the
resulting page. If you set the knitr code chunk <code>results='asis'</code> then
the graph will be rendered in the output. Usually, you can use
<code>iframe = FALSE</code> if you are creating simple knitr Markdown or HTML
pages. Note: you do not need to specify the file name if
<code>iframe = TRUE</code>, however if you do, do not include the file path.</p>
</td></tr>
<tr><td><code id="d3ClusterDendro_+3A_d3script">d3Script</code></td>
<td>
<p>a character string that allows you to specify the location of
the d3.js script you would like to use. The default is
<a href="http://d3js.org/d3.v3.min.js">http://d3js.org/d3.v3.min.js</a>.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Mike Bostock <a href="http://bl.ocks.org/mbostock/4063570">http://bl.ocks.org/mbostock/4063570</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download JSON data
library(RCurl)
URL &lt;- "https://raw.github.com/christophergandrud/d3Network/master/JSONdata/flare.json"
Flare &lt;- getURL(URL)

# Convert to list format
Flare &lt;- rjson::fromJSON(Flare)

# Recreate Bostock example from http://bl.ocks.org/mbostock/4063570
d3ClusterDendro(List = Flare,
					file = "FlareCluster.html", zoom = TRUE,
     			fontsize = 10, opacity = 0.9,
     			widthCollapse = 0.8)

## End(Not run)
</code></pre>

<hr>
<h2 id='d3ForceNetwork'>Create a D3 JavaScript force directed network graph.</h2><span id='topic+d3ForceNetwork'></span>

<h3>Description</h3>

<p>Create a D3 JavaScript force directed network graph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3ForceNetwork(Links, Nodes, Source, Target, Value = NULL, NodeID, Group,
  height = 600, width = 900, fontsize = 7, linkDistance = 50,
  linkWidth = "function(d) { return Math.sqrt(d.value); }", charge = -120,
  linkColour = "#666", opacity = 0.6, zoom = FALSE,
  parentElement = "body", standAlone = TRUE, file = NULL,
  iframe = FALSE, d3Script = "http://d3js.org/d3.v3.min.js")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3ForceNetwork_+3A_links">Links</code></td>
<td>
<p>a data frame object with the links between the nodes. It should
include the <code>Source</code> and <code>Target</code> for each link. These should be
numbered starting from 0. An optional <code>Value</code> variable can be included
to specify how close the nodes are to one another.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_nodes">Nodes</code></td>
<td>
<p>a data frame containing the node id and properties of the nodes.
If no ID is specified then the nodes must be in the same order as the Source
variable column in the <code>Links</code> data frame. Currently only a grouping
variable is allowed.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_source">Source</code></td>
<td>
<p>character string naming the network source variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_target">Target</code></td>
<td>
<p>character string naming the network target variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_value">Value</code></td>
<td>
<p>character string naming the variable in the <code>Links</code> data
frame for how wide the links are.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_nodeid">NodeID</code></td>
<td>
<p>character string specifying the node IDs in the <code>Nodes</code>
data frame.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_group">Group</code></td>
<td>
<p>character string specifying the group of each node in the
<code>Nodes</code> data frame.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_fontsize">fontsize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_linkdistance">linkDistance</code></td>
<td>
<p>numeric or character string. Either numberic fixed
distance between the links in pixels (actually arbitrary relative to the
diagram's size). Or a JavaScript function, possibly to weight by
<code>Value</code>. For example:
<code>linkDistance = "function(d){return d.value * 10}"</code>.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_linkwidth">linkWidth</code></td>
<td>
<p>numeric or character string. Can be a numeric fixed width in
pixels (arbitrary relative to the diagram's size). Or a JavaScript function,
possibly to weight by <code>Value</code>. The default is
<code>linkWidth = "function(d) { return Math.sqrt(d.value); }"</code>.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_charge">charge</code></td>
<td>
<p>numeric value indicating either the strength of the node
repulsion (negative value) or attraction (positive value).</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_zoom">zoom</code></td>
<td>
<p>logical, whether or not to enable the ability to use the mouse
scroll-wheel to zoom in and out of the graph.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_parentelement">parentElement</code></td>
<td>
<p>character string specifying the parent element for the
resulting svg network graph. This effectively allows the user to specify
where on the html page the graph will be placed. By default the parent
element is <code>body</code>.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_standalone">standAlone</code></td>
<td>
<p>logical, whether or not to return a complete HTML document
(with head and foot) or just the script.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_file">file</code></td>
<td>
<p>a character string of the file name to save the resulting graph.
If a file name is given a standalone webpage is created, i.e. with a header
and footer. If <code>file = NULL</code> then result is returned to the console.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_iframe">iframe</code></td>
<td>
<p>logical. If <code>iframe = TRUE</code> then the graph is saved to an
external file in the working directory and an HTML <code>iframe</code> linking to
the file is printed to the console. This is useful if you are using Slidify
and many other HTML slideshow framworks and want to include the graph in the
resulting page. If you set the knitr code chunk <code>results='asis'</code> then
the graph will be rendered in the output. Usually, you can use
<code>iframe = FALSE</code> if you are creating simple knitr Markdown or HTML pages.
Note: you do not need to specify the file name if <code>iframe = TRUE</code>,
however if you do, do not include the file path.</p>
</td></tr>
<tr><td><code id="d3ForceNetwork_+3A_d3script">d3Script</code></td>
<td>
<p>a character string that allows you to specify the location of
the d3.js script you would like to use. The default is
<a href="http://d3js.org/d3.v3.min.js">http://d3js.org/d3.v3.min.js</a>.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>D3.js was created by Michael Bostock. See <a href="http://d3js.org/">http://d3js.org/</a> and, more
specifically for force directed networks
<a href="https://github.com/mbostock/d3/wiki/Force-Layout">https://github.com/mbostock/d3/wiki/Force-Layout</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### Tabular data example.
# Load data
data(MisLinks)
data(MisNodes)

# Create graph
d3ForceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
               Target = "target", Value = "value", NodeID = "name",
               Group = "group", opacity = 0.4)

## Not run: 
#### JSON Data Example
# Load data JSON formated data into two R data frames
library(RCurl)
MisJson &lt;- getURL("http://bit.ly/1cc3anB")
MisLinks &lt;- JSONtoDF(jsonStr = MisJson, array = "links")
MisNodes &lt;- JSONtoDF(jsonStr = MisJson, array = "nodes")

# Create graph
d3ForceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
               Target = "target", Value = "value", NodeID = "name",
               Group = "group", opacity = 0.4)

## End(Not run)
</code></pre>

<hr>
<h2 id='d3Network'>Function for creating simple D3 JavaScript force directed network graphs.
DEPRICATED, USE d3SimpleNetwork</h2><span id='topic+d3Network'></span>

<h3>Description</h3>

<p><code>d3Network</code> creates D3 JavaScript force directed network graphs. NOTE:
it is depricated. It is currently a direct copy of
<code><a href="#topic+d3SimpleNetwork">d3SimpleNetwork</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3Network(Data, Source = NULL, Target = NULL, height = 600, width = 900,
  fontsize = 7, linkDistance = 50, charge = -200, linkColour = "#666",
  nodeColour = "#3182bd", nodeClickColour = "#E34A33",
  textColour = "#3182bd", opacity = 0.6, parentElement = "body",
  standAlone = TRUE, file = NULL, iframe = FALSE,
  d3Script = "http://d3js.org/d3.v3.min.js")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3Network_+3A_data">Data</code></td>
<td>
<p>a data frame object with three columns. The first two are the
names of the linked units. The third records an edge value. (Currently the
third column doesn't affect the graph.)</p>
</td></tr>
<tr><td><code id="d3Network_+3A_source">Source</code></td>
<td>
<p>character string naming the network source variable in the
data frame. If <code>Source = NULL</code> then the first column of the data frame
is treated as the source.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_target">Target</code></td>
<td>
<p>character string naming the network target variable in the
data frame. If <code>Target = NULL</code> then the second column of the data frame
is treated as the target.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_fontsize">fontsize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_linkdistance">linkDistance</code></td>
<td>
<p>numeric distance between the links in pixels (actually
arbitrary relative to the diagram's size).</p>
</td></tr>
<tr><td><code id="d3Network_+3A_charge">charge</code></td>
<td>
<p>numeric value indicating either the strength of the node
repulsion (negative value) or attraction (positive value).</p>
</td></tr>
<tr><td><code id="d3Network_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3Network_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3Network_+3A_nodeclickcolour">nodeClickColour</code></td>
<td>
<p>character string specifying the colour you want the
node circles to be when they are clicked. Also changes the colour of the
text. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3Network_+3A_textcolour">textColour</code></td>
<td>
<p>character string specifying the colour you want the text to
be before they are clicked. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3Network_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_parentelement">parentElement</code></td>
<td>
<p>character string specifying the parent element for the
resulting svg network graph. This effectively allows the user to specify
where on the html page the graph will be placed. By default the parent
element is <code>body</code>.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_standalone">standAlone</code></td>
<td>
<p>logical, whether or not to return a complete HTML document
(with head and foot) or just the script.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_file">file</code></td>
<td>
<p>a character string of the file name to save the resulting graph.
If a file name is given a standalone webpage is created, i.e. with a header
and footer. If <code>file = NULL</code> then result is returned to the console.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_iframe">iframe</code></td>
<td>
<p>logical. If <code>iframe = TRUE</code> then the graph is saved to an
external file in the working directory and an HTML <code>iframe</code> linking to
the file is printed to the console. This is useful if you are using Slidify
and many other HTML slideshow framworks and want to include the graph in the
resulting page. If you set the knitr code chunk <code>results='asis'</code> then
the graph will be rendered in the output. Usually, you can use
<code>iframe = FALSE</code> if you are creating simple knitr Markdown or HTML
pages. Note: you do not need to specify the file name if
<code>iframe = TRUE</code>, however if you do, do not include the file path.</p>
</td></tr>
<tr><td><code id="d3Network_+3A_d3script">d3Script</code></td>
<td>
<p>a character string that allows you to specify the location of
the d3.js script you would like to use. The default is
<a href="http://d3js.org/d3.v3.min.js">http://d3js.org/d3.v3.min.js</a>.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>D3.js was created by Michael Bostock. See <a href="http://d3js.org/">http://d3js.org/</a> and,
more specifically for directed networks
<a href="https://github.com/mbostock/d3/wiki/Force-Layout">https://github.com/mbostock/d3/wiki/Force-Layout</a>
</p>

<hr>
<h2 id='d3Sankey'>Create a D3 JavaScript Sankey diagram</h2><span id='topic+d3Sankey'></span>

<h3>Description</h3>

<p>Create a D3 JavaScript Sankey diagram
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3Sankey(Links, Nodes, Source, Target, Value = NULL, NodeID, height = 600,
  width = 900, fontsize = 7, nodeWidth = 15, nodePadding = 10,
  parentElement = "body", standAlone = TRUE, file = NULL,
  iframe = FALSE, d3Script = "http://d3js.org/d3.v3.min.js")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3Sankey_+3A_links">Links</code></td>
<td>
<p>a data frame object with the links between the nodes. It should
have include the <code>Source</code> and <code>Target</code> for each link. An optional
<code>Value</code> variable can be included to specify how close the nodes are to
one another.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_nodes">Nodes</code></td>
<td>
<p>a data frame containing the node id and properties of the nodes.
If no ID is specified then the nodes must be in the same order as the
<code>Source</code> variable column in the <code>Links</code> data frame. Currently only
grouping variable is allowed.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_source">Source</code></td>
<td>
<p>character string naming the network source variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_target">Target</code></td>
<td>
<p>character string naming the network target variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_value">Value</code></td>
<td>
<p>character string naming the variable in the <code>Links</code> data
frame for how far away the nodes are from one another.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_nodeid">NodeID</code></td>
<td>
<p>character string specifying the node IDs in the <code>Nodes</code>
data frame.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_fontsize">fontsize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_nodewidth">nodeWidth</code></td>
<td>
<p>numeric width of each node.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_nodepadding">nodePadding</code></td>
<td>
<p>numeric essentially influences the width height.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_parentelement">parentElement</code></td>
<td>
<p>character string specifying the parent element for the
resulting svg network graph. This effectively allows the user to specify
where on the html page the graph will be placed. By default the parent
element is <code>body</code>.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_standalone">standAlone</code></td>
<td>
<p>logical, whether or not to return a complete HTML document
(with head and foot) or just the script.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_file">file</code></td>
<td>
<p>a character string of the file name to save the resulting graph.
If a file name is given a standalone webpage is created, i.e. with a header
and footer. If <code>file = NULL</code> then result is returned to the console.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_iframe">iframe</code></td>
<td>
<p>logical. If <code>iframe = TRUE</code> then the graph is saved to an
external file in the working directory and an HTML <code>iframe</code> linking to
the file is printed to the console. This is useful if you are using Slidify
and many other HTML slideshow framworks and want to include the graph in the
resulting page. If you set the knitr code chunk <code>results='asis'</code> then
the graph will be rendered in the output. Usually, you can use
<code>iframe = FALSE</code> if you are creating simple knitr Markdown or HTML
pages. Note: you do not need to specify the file name if
<code>iframe = TRUE</code>, however if you do, do not include the file path.</p>
</td></tr>
<tr><td><code id="d3Sankey_+3A_d3script">d3Script</code></td>
<td>
<p>a character string that allows you to specify the location of
the d3.js script you would like to use. The default is
<a href="http://d3js.org/d3.v3.min.js">http://d3js.org/d3.v3.min.js</a>.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>D3.js was created by Michael Bostock. See <a href="http://d3js.org/">http://d3js.org/</a> and, more specifically for Sankey diagrams <a href="http://bost.ocks.org/mike/sankey/">http://bost.ocks.org/mike/sankey/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Recreate Bostock Sankey diagram: http://bost.ocks.org/mike/sankey/
# Load energy projection data
library(RCurl)
URL &lt;- "https://raw.githubusercontent.com/christophergandrud/d3Network/sankey/JSONdata/energy.json"
Energy &lt;- getURL(URL, ssl.verifypeer = FALSE)
# Convert to data frame
EngLinks &lt;- JSONtoDF(jsonStr = Energy, array = "links")
EngNodes &lt;- JSONtoDF(jsonStr = Energy, array = "nodes")

# Plot
d3Sankey(Links = EngLinks, Nodes = EngNodes, Source = "source",
         Target = "target", Value = "value", NodeID = "name",
         fontsize = 12, nodeWidth = 30, file = "~/Desktop/TestSankey.html")

## End(Not run)
</code></pre>

<hr>
<h2 id='d3SimpleNetwork'>Function for creating simple D3 JavaScript force directed network graphs.</h2><span id='topic+d3SimpleNetwork'></span>

<h3>Description</h3>

<p><code>d3SimpleNetwork</code> creates simple D3 JavaScript force directed network
graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3SimpleNetwork(Data, Source = NULL, Target = NULL, height = 600,
  width = 900, fontsize = 7, linkDistance = 50, charge = -200,
  linkColour = "#666", nodeColour = "#3182bd",
  nodeClickColour = "#E34A33", textColour = "#3182bd", opacity = 0.6,
  parentElement = "body", standAlone = TRUE, file = NULL,
  iframe = FALSE, d3Script = "http://d3js.org/d3.v3.min.js")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3SimpleNetwork_+3A_data">Data</code></td>
<td>
<p>a data frame object with three columns. The first two are the
names of the linked units. The third records an edge value. (Currently the
third column doesn't affect the graph.)</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_source">Source</code></td>
<td>
<p>character string naming the network source variable in the data
frame. If <code>Source = NULL</code> then the first column of the data frame is
treated as the source.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_target">Target</code></td>
<td>
<p>character string naming the network target variable in the data
frame. If <code>Target = NULL</code> then the second column of the data frame is
treated as the target.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_fontsize">fontsize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_linkdistance">linkDistance</code></td>
<td>
<p>numeric distance between the links in pixels (actually
arbitrary relative to the diagram's size).</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_charge">charge</code></td>
<td>
<p>numeric value indicating either the strength of the node
repulsion (negative value) or attraction (positive value).</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_nodeclickcolour">nodeClickColour</code></td>
<td>
<p>character string specifying the colour you want the
node circles to be when they are clicked. Also changes the colour of the
text. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_textcolour">textColour</code></td>
<td>
<p>character string specifying the colour you want the text to
be before they are clicked. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_parentelement">parentElement</code></td>
<td>
<p>character string specifying the parent element for the
resulting svg network graph. This effectively allows the user to specify
where on the html page the graph will be placed. By default the parent
element is <code>body</code>.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_standalone">standAlone</code></td>
<td>
<p>logical, whether or not to return a complete HTML document
(with head and foot) or just the script.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_file">file</code></td>
<td>
<p>a character string of the file name to save the resulting graph.
If a file name is given a standalone webpage is created, i.e. with a header
and footer. If <code>file = NULL</code> then result is returned to the console.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_iframe">iframe</code></td>
<td>
<p>logical. If <code>iframe = TRUE</code> then the graph is saved to an
external file in the working directory and an HTML <code>iframe</code> linking to
the file is printed to the console. This is useful if you are using Slidify
and many other HTML slideshow framworks and want to include the graph in the
resulting page. If you set the knitr code chunk <code>results='asis'</code> then
the graph will be rendered in the output. Usually, you can use
<code>iframe = FALSE</code> if you are creating simple knitr Markdown or HTML
pages. Note: you do not
need to specify the file name if <code>iframe = TRUE</code>, however if you do, do
not include the file path.</p>
</td></tr>
<tr><td><code id="d3SimpleNetwork_+3A_d3script">d3Script</code></td>
<td>
<p>a character string that allows you to specify the location of
the d3.js script you would like to use. The default is
<a href="http://d3js.org/d3.v3.min.js">http://d3js.org/d3.v3.min.js</a>.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>D3.js was created by Michael Bostock. See <a href="http://d3js.org/">http://d3js.org/</a> and, more
specifically for directed networks
<a href="https://github.com/mbostock/d3/wiki/Force-Layout">https://github.com/mbostock/d3/wiki/Force-Layout</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Fake data
Source &lt;- c("A", "A", "A", "A", "B", "B", "C", "C", "D")
Target &lt;- c("B", "C", "D", "J", "E", "F", "G", "H", "I")
NetworkData &lt;- data.frame(Source, Target)

# Create graph
d3SimpleNetwork(NetworkData, height = 300, width = 700,
                 fontsize = 15)
</code></pre>

<hr>
<h2 id='d3Tree'>Creates a D3 JavaScript Reingold-Tilford Tree network graph.</h2><span id='topic+d3Tree'></span>

<h3>Description</h3>

<p>Creates a D3 JavaScript Reingold-Tilford Tree network graph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d3Tree(List, height = 600, width = 900, fontsize = 10,
  linkColour = "#ccc", nodeColour = "#3182bd", textColour = "#3182bd",
  opacity = 0.9, diameter = 980, zoom = FALSE, parentElement = "body",
  standAlone = TRUE, file = NULL, iframe = FALSE,
  d3Script = "http://d3js.org/d3.v3.min.js")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d3Tree_+3A_list">List</code></td>
<td>
<p>a hierarchical list object with a root node and children.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_fontsize">fontsize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_textcolour">textColour</code></td>
<td>
<p>character string specifying the colour you want the text to
be before they are clicked. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_diameter">diameter</code></td>
<td>
<p>numeric diameter for the network in pixels.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_zoom">zoom</code></td>
<td>
<p>logical, whether or not to enable the ability to use the mouse
scroll-wheel to zoom in and out of the graph.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_parentelement">parentElement</code></td>
<td>
<p>character string specifying the parent element for the
resulting svg network graph. This effectively allows the user to specify
where on the html page the graph will be placed. By default the parent
element is <code>body</code>.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_standalone">standAlone</code></td>
<td>
<p>logical, whether or not to return a complete HTML document
(with head and foot) or just the script.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_file">file</code></td>
<td>
<p>a character string of the file name to save the resulting graph.
If a file name is given a standalone webpage is created, i.e. with a header
and footer. If <code>file = NULL</code> then result is returned to the console.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_iframe">iframe</code></td>
<td>
<p>logical. If <code>iframe = TRUE</code> then the graph is saved to an
external file in the working directory and an HTML <code>iframe</code> linking to
the file is printed to the console. This is useful if you are using Slidify
and many other HTML slideshow framworks and want to include the graph in the
resulting page. If you set the knitr code chunk <code>results='asis'</code> then
the graph will be rendered in the output. Usually, you can use
<code>iframe = FALSE</code> if you are creating simple knitr Markdown or HTML
pages. Note: you do not need to specify the file name if
<code>iframe = TRUE</code>, however if you do, do not include the file path.</p>
</td></tr>
<tr><td><code id="d3Tree_+3A_d3script">d3Script</code></td>
<td>
<p>a character string that allows you to specify the location of
the d3.js script you would like to use. The default is
<a href="http://d3js.org/d3.v3.min.js">http://d3js.org/d3.v3.min.js</a>.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Reingold. E. M., and Tilford, J. S. (1981). Tidier Drawings of Trees.
IEEE Transactions on Software Engineering, SE-7(2), 223-228.
</p>
<p>Mike Bostock: <a href="http://bl.ocks.org/mbostock/4063550">http://bl.ocks.org/mbostock/4063550</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create tree from R list
# Create hierarchical list
CanadaPC &lt;- list(name = "Canada", children = list(list(name = "Newfoundland",
                    children = list(list(name = "St. John's"))),
               list(name = "PEI",
                    children = list(list(name = "Charlottetown"))),
               list(name = "Nova Scotia",
                    children = list(list(name = "Halifax"))),
               list(name = "New Brunswick",
                    children = list(list(name = "Fredericton"))),
               list(name = "Quebec",
                    children = list(list(name = "Montreal"),
                                    list(name = "Quebec City"))),
               list(name = "Ontario",
                    children = list(list(name = "Toronto"),
                                    list(name = "Ottawa"))),
               list(name = "Manitoba",
                    children = list(list(name = "Winnipeg"))),
               list(name = "Saskatchewan",
                    children = list(list(name = "Regina"))),
               list(name = "Nunavuet",
                    children = list(list(name = "Iqaluit"))),
               list(name = "NWT",
                    children = list(list(name = "Yellowknife"))),
               list(name = "Alberta",
                    children = list(list(name = "Edmonton"))),
               list(name = "British Columbia",
                    children = list(list(name = "Victoria"),
                                    list(name = "Vancouver"))),
               list(name = "Yukon",
                    children = list(list(name = "Whitehorse")))
))

# Create tree
d3Tree(List = CanadaPC, fontsize = 10, diameter = 500)

## Create tree from JSON formatted data
## dontrun
## Download JSON data
# library(RCurl)
# URL &lt;- "https://raw.github.com/christophergandrud/d3Network/master/JSONdata/flare.json"
# Flare &lt;- getURL(URL)

## Convert to list format
# Flare &lt;- rjson::fromJSON(Flare)

## Recreate Bostock example from http://bl.ocks.org/mbostock/4063550
# d3Tree(List = Flare, file = "Flare.html",
#        fontsize = 10, opacity = 0.9, diameter = 1000)
</code></pre>

<hr>
<h2 id='energy'>JSON data file of a projection of UK energy production and consumption in 2050.</h2><span id='topic+energy'></span>

<h3>Description</h3>

<p>JSON data file of a projection of UK energy production and consumption in 2050.
</p>


<h3>Format</h3>

<p>A JSON file with two arrays <code>nodes</code> and <code>links</code>.</p>


<h3>Source</h3>

<p>See Mike Bostock <a href="http://bost.ocks.org/mike/sankey/">http://bost.ocks.org/mike/sankey/</a>.
</p>

<hr>
<h2 id='flare'>JSON data file of the Flare class hierarchy.</h2><span id='topic+flare'></span>

<h3>Description</h3>

<p>JSON data file of the Flare class hierarchy.
</p>


<h3>Format</h3>

<p>A JSON file with two arrays <code>name</code> and <code>children</code>.</p>


<h3>Source</h3>

<p>See Mike Bostock <a href="http://bl.ocks.org/mbostock/4063550">http://bl.ocks.org/mbostock/4063550</a>.
</p>

<hr>
<h2 id='JSONtoDF'>Read a link-node structured JSON file into R as two data frames.</h2><span id='topic+JSONtoDF'></span>

<h3>Description</h3>

<p><code>JSONtoDF</code> reads a JSON data file into R and converts part of it to a
data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>JSONtoDF(jsonStr = NULL, file = NULL, array)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="JSONtoDF_+3A_jsonstr">jsonStr</code></td>
<td>
<p>a JSON object to convert. Note if <code>jsonStr</code> is specified,
then <code>file</code> must be <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="JSONtoDF_+3A_file">file</code></td>
<td>
<p>character string of the JSON file name. Note if <code>file</code> is
specified, then <code>jsonStr</code> must be <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="JSONtoDF_+3A_array">array</code></td>
<td>
<p>character string specifying the name of the JSON array to
extract. (JSON arrays are delimited by square brackets).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>JSONtoDF</code> is intended to load JSON files into R and convert
them to data frames that can be used to create network graphs. The command
converts the files into R lists and then extracts the JSON array the user
would like to make into a data frame.
</p>


<h3>Source</h3>

<p>Part of the idea for the command comes from mropa's comment on
StackExchange:
<a href="http://stackoverflow.com/questions/4227223/r-list-to-data-frame">http://stackoverflow.com/questions/4227223/r-list-to-data-frame</a>.
</p>

<hr>
<h2 id='MisLinks'>A data file of links from Knuth's Les Miserables characters data base.</h2><span id='topic+MisLinks'></span>

<h3>Description</h3>

<p>A data file of links from Knuth's Les Miserables characters data base.
</p>


<h3>Format</h3>

<p>A data set with 254 observations of 3 variables.</p>


<h3>Source</h3>

<p>See Mike Bostock <a href="http://bl.ocks.org/mbostock/4062045">http://bl.ocks.org/mbostock/4062045</a>.
</p>

<hr>
<h2 id='MisNodes'>A data file of nodes from Knuth's Les Miserables characters data base.</h2><span id='topic+MisNodes'></span>

<h3>Description</h3>

<p>A data file of nodes from Knuth's Les Miserables characters data base.
</p>


<h3>Format</h3>

<p>A data set with 77 observations of 2 variables.</p>


<h3>Source</h3>

<p>See Mike Bostock <a href="http://bl.ocks.org/mbostock/4062045">http://bl.ocks.org/mbostock/4062045</a>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

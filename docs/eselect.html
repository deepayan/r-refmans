<!DOCTYPE html><html><head><title>Help for package eselect</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {eselect}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#corr_rest_b'><p>corr_rest</p></a></li>
<li><a href='#corr_rest_ub'><p>corr_rest_ub: computes the correlation restrictions unblinded case</p></a></li>
<li><a href='#eselect'><p>Endpoint selection and sample size reassessment for composite endpoints based on blinded data</p></a></li>
<li><a href='#eselect_ub'><p>Endpoint selection and sample size reassessment for composite endpoints based on unblinded data</p></a></li>
<li><a href='#eselectsim'><p>Simulation trials with endpoint selection and sample size reassessment for composite endpoints based on blinded data</p></a></li>
<li><a href='#eselectsim_ub'><p>Simulation trials with endpoint selection and sample size reassessment for composite endpoints based on unblinded data</p></a></li>
<li><a href='#estimation_b'><p>Blinded estimation of the correlation</p></a></li>
<li><a href='#estimation_ub'><p>Unblinded estimation of the correlation</p></a></li>
<li><a href='#f_OR'><p>f_OR</p></a></li>
<li><a href='#f_sim'><p>Simulation 2x2 table binary endpoints</p></a></li>
<li><a href='#fun_p0'><p>fun_p0</p></a></li>
<li><a href='#OR_function'><p>OR_function</p></a></li>
<li><a href='#samplesize_OR'><p>samplesize_OR</p></a></li>
<li><a href='#test_f'><p>test_f</p></a></li>
<li><a href='#test_me'><p>test_me</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Adaptive Clinical Trial Designs with Endpoint Selection and
Sample Size Reassessment</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marta Bofill Roig &lt;marta.bofillroig@meduniwien.ac.at&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Endpoint selection and sample size reassessment for multiple binary endpoints based on blinded and/or unblinded data. Trial design that allows an adaptive modification of the primary endpoint based on blinded information obtained at an interim analysis. The decision rule chooses the endpoint with the lower estimated required sample size. Additionally, the sample size is reassessed using the estimated event probabilities and correlation between endpoints. The implemented design is proposed in Bofill Roig, M., Gómez Melis, G., Posch, M., and Koenig, F. (2022). &lt;<a href="https://doi.org/10.48550%2FarXiv.2206.09639">doi:10.48550/arXiv.2206.09639</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, CompAREdesign</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-02 13:22:06 UTC; marta.bofill</td>
</tr>
<tr>
<td>Author:</td>
<td>Marta Bofill Roig <a href="https://orcid.org/0000-0002-4400-7541"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Guadalupe Gomez Melis [ctb],
  Franz Koenig [ctb],
  Martin Posch [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-03 10:22:32 UTC</td>
</tr>
</table>
<hr>
<h2 id='corr_rest_b'>corr_rest</h2><span id='topic+corr_rest_b'></span>

<h3>Description</h3>

<p>computes the correlation restrictions
phat0_e1,phat0_e2: estimated probabilities
p0_e1,p0_e2,p1_e1,p1_e2: assumed probabilities (design)
OR1,OR2: expected effect sizes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corr_rest_b(phat0_e1, phat0_e2, p0_e1, p0_e2, p1_e1, p1_e2, OR1, OR2)
</code></pre>


<h3>Value</h3>

<p>Correlation bounds based on estimated and assumed probabilities
</p>

<hr>
<h2 id='corr_rest_ub'>corr_rest_ub: computes the correlation restrictions unblinded case</h2><span id='topic+corr_rest_ub'></span>

<h3>Description</h3>

<p>computes the correlation restrictions with unblinded data
phat0_e1,phat0_e2,phat1_e1,phat1_e2: estimated probabilities
p0_e1,p0_e2,p1_e1,p1_e2: assumed probabilities (design)
OR1,OR2: expected effect sizes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corr_rest_ub(
  phat0_e1,
  phat0_e2,
  phat1_e1,
  phat1_e2,
  p0_e1,
  p0_e2,
  p1_e1,
  p1_e2,
  OR1,
  OR2
)
</code></pre>


<h3>Value</h3>

<p>Correlation bounds based on estimated and assumed probabilities (unblinded case)
</p>

<hr>
<h2 id='eselect'>Endpoint selection and sample size reassessment for composite endpoints based on blinded data</h2><span id='topic+eselect'></span>

<h3>Description</h3>

<p>Endpoint selection and sample size reassessment for composite endpoints based on blinded data. The composite endpoint is assumed to be a binary endpoint formed by a combination of two events (E1 and E2). We assume that the endpoint 1 is more relevant for the clinical question than endpoint 2. This function selects between the composite endpoint or the relevant endpoint as the primary endpoint of the study and recalculate the sample size accordingly. The decision criteria to decide between the composite endpoint or the relevant endpoint might be the ratio of the corresponding sample sizes (&quot;SS&quot;) or the Asymptotic Relative Efficiency (&quot;ARE&quot;).
The algorithm of the function is the following: First, the probabilities of the composite components in the control group and the correlation between them are estimated based on blinded data. Second, using the estimated probabilities and the estimated correlation, the decision criteria is computed and the primary endpoint is selected.  Finally, the sample size is recalculated according to the decision.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eselect(db, p0_e1, OR1, p0_e2, OR2, criteria = "SS", alpha = 0.05, beta = 0.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eselect_+3A_db">db</code></td>
<td>
<p>matrix 2x2 table (pooled sample)</p>
</td></tr>
<tr><td><code id="eselect_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="eselect_+3A_or1">OR1</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 1</p>
</td></tr>
<tr><td><code id="eselect_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="eselect_+3A_or2">OR2</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 2</p>
</td></tr>
<tr><td><code id="eselect_+3A_criteria">criteria</code></td>
<td>
<p>decision criteria to choose between the composite endpoint or the endpoint 1 as primary endpoint (&quot;SS&quot;: Ratio sample sizes, &quot;ARE&quot;: Asymptotic Relative Efficiency).</p>
</td></tr>
<tr><td><code id="eselect_+3A_alpha">alpha</code></td>
<td>
<p>Type I error.</p>
</td></tr>
<tr><td><code id="eselect_+3A_beta">beta</code></td>
<td>
<p>Type II error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns the decision (Decision = 1, meaning the chosen endpoint is the composite endpoint; and Decision = 0, meaning the chosen endpoint is the relevant endpoint) and the sample size according to the decision.
</p>


<h3>References</h3>

<p>Bofill Roig, M., Gómez Melis, G., Posch, M., &amp; Koenig, F. (2022). Adaptive clinical trial designs with blinded selection of binary composite endpoints and sample size reassessment. Biostatistics (in press). arXiv e-prints, arXiv-2206 (https://doi.org/10.48550/arXiv.2206.09639).
Bofill Roig, M., &amp; Gómez Melis, G. &quot;Selection of composite binary endpoints in clinical trials.&quot; Biometrical Journal 60.2 (2018): 246-261.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Based on Bofill Roig, M., et al.
# (See supplementary material in https://doi.org/10.48550/arXiv.2206.09639)
p0_e1 = 0.173
p0_e2 = 0.055
p1_e1 = 0.121;
p1_e2 = 0.057;
n1 = 569
n0 = 576
n = n0+n1
p1 = (p0_e1*n0 + p1_e1*n1)/n
p2 = (p0_e2*n0 + p1_e2*n1)/n
p_ce = (0.203*n0 + 0.146*n1)/n
OR1 = 0.7
OR2 = 0.9
x11 = round((p1+p2-p_ce)*n)
x12 = round((p1)*n-x11)
x21 = round((p2)*n- x11)
x22 = round((1-p_ce)*n)
data = matrix(c(x11,x12,x21,x22), nrow = 2 , ncol = 2, byrow = FALSE)
eselect(db=data,p0_e1=0.18,OR1=0.70,p0_e2=0.05,OR2=0.9,criteria="SS",alpha=0.05,beta=0.2)


</code></pre>

<hr>
<h2 id='eselect_ub'>Endpoint selection and sample size reassessment for composite endpoints based on unblinded data</h2><span id='topic+eselect_ub'></span>

<h3>Description</h3>

<p>Endpoint selection and sample size reassessment for composite endpoints based on unblinded data. The composite endpoint is assumed to be a binary endpoint formed by a combination of two events (E1 and E2). We assume that the endpoint 1 is more relevant for the clinical question than endpoint 2. This function selects between the composite endpoint or the relevant endpoint as the primary endpoint of the study and recalculate the sample size accordingly. The decision criteria to decide between the composite endpoint or the relevant endpoint might be the ratio of the corresponding sample sizes (&quot;SS&quot;) or the Asymptotic Relative Efficiency (&quot;ARE&quot;).
The algorithm of the function is the following: First, the probabilities of the composite components in the control group and the correlation between them are estimated based on unblinded data. Second, using the estimated probabilities and the estimated correlation, the decision criteria is computed and the primary endpoint is selected.  Finally, the sample size is recalculated according to the decision.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eselect_ub(
  db0,
  db1,
  p0_e1,
  OR1,
  p0_e2,
  OR2,
  criteria = "SS",
  alpha = 0.05,
  beta = 0.2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eselect_ub_+3A_db0">db0</code></td>
<td>
<p>matrix</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_db1">db1</code></td>
<td>
<p>matrix</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_or1">OR1</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 1</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_or2">OR2</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 2</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_criteria">criteria</code></td>
<td>
<p>decision criteria to choose between the composite endpoint or the endpoint 1 as primary endpoint (&quot;SS&quot;: Ratio sample sizes, &quot;ARE&quot;: Asymptotic Relative Efficiency).</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_alpha">alpha</code></td>
<td>
<p>Type I error.</p>
</td></tr>
<tr><td><code id="eselect_ub_+3A_beta">beta</code></td>
<td>
<p>Type II error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns the decision (Decision = 1, meaning the chosen endpoint is the composite endpoint; and Decision = 0, meaning the chosen endpoint is the relevant endpoint) and the sample size according to the decision.
</p>

<hr>
<h2 id='eselectsim'>Simulation trials with endpoint selection and sample size reassessment for composite endpoints based on blinded data</h2><span id='topic+eselectsim'></span>

<h3>Description</h3>

<p>This function simulates trials with endpoint selection and sample size reassessment  for composite binary endpoints based on blinded data. The composite endpoint is assumed to be a binary endpoint formed by a combination of two events (E1 and E2). We assume that the endpoint 1 is more relevant for the clinical question than endpoint 2. This function simulates a trial based on the design parameters and use the algorithm implemented in eselect() to select the primary endpoint and recalculate the sample size accordingly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eselectsim(
  ss_arm,
  p0_e1,
  OR1,
  p0_e2,
  OR2,
  p0_ce,
  p_init = 1,
  criteria = "SS",
  H0_e1 = FALSE,
  H0_e2 = FALSE,
  SS_r = TRUE,
  alpha = 0.05,
  beta = 0.2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eselectsim_+3A_ss_arm">ss_arm</code></td>
<td>
<p>numeric parameter, sample size per arm</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_or1">OR1</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 1</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_or2">OR2</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 2</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_p0_ce">p0_ce</code></td>
<td>
<p>numeric parameter, probability of occurrence composite endpoint in the control group</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_p_init">p_init</code></td>
<td>
<p>numeric parameter, percentage of sample size used in the interim</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_criteria">criteria</code></td>
<td>
<p>decision criteria to choose between the composite endpoint or the endpoint 1 as primary endpoint (&quot;SS&quot;: Ratio sample sizes, &quot;ARE&quot;: Asymptotic Relative Efficiency).</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_h0_e1">H0_e1</code></td>
<td>
<p>Simulate under true null hypothesis for the endpoint E1 (TRUE/FALSE).</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_h0_e2">H0_e2</code></td>
<td>
<p>Simulate under true null hypothesis for the endpoint E2 (TRUE/FALSE).</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_ss_r">SS_r</code></td>
<td>
<p>Sample size reassessment (TRUE/FALSE). If TRUE, in those cases where the sample size is less than the needed for achieving the pre-specified power, additional subjects are added after recalculating the sample size. If FALSE, no more subjects are added in the study.</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_alpha">alpha</code></td>
<td>
<p>Type I error.</p>
</td></tr>
<tr><td><code id="eselectsim_+3A_beta">beta</code></td>
<td>
<p>Type II error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns the decision (Decision = 1, meaning the chosen endpoint is the composite endpoint; and Decision = 0, meaning the chosen endpoint is the relevant endpoint) and the statistic to test the primary hypothesis according to the decision.
</p>


<h3>References</h3>

<p>Bofill Roig, M., Gómez Melis, G., Posch, M., &amp; Koenig, F. (2022). Adaptive clinical trial designs with blinded selection of binary composite endpoints and sample size reassessment. Biostatistics (in press). arXiv e-prints, arXiv-2206 (https://doi.org/10.48550/arXiv.2206.09639).
</p>

<hr>
<h2 id='eselectsim_ub'>Simulation trials with endpoint selection and sample size reassessment for composite endpoints based on unblinded data</h2><span id='topic+eselectsim_ub'></span>

<h3>Description</h3>

<p>This function simulates trials with endpoint selection and sample size reassessment  for composite binary endpoints based on unblinded data. The composite endpoint is assumed to be a binary endpoint formed by a combination of two events (E1 and E2). We assume that the endpoint 1 is more relevant for the clinical question than endpoint 2. This function simulates a trial based on the design parameters and use the algorithm implemented in eselect() to select the primary endpoint and recalculate the sample size accordingly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eselectsim_ub(
  ss_arm,
  p0_e1,
  OR1,
  p0_e2,
  OR2,
  p0_ce,
  p_init = 1,
  criteria = "SS",
  H0_e1 = FALSE,
  H0_e2 = FALSE,
  SS_r = TRUE,
  alpha = 0.05,
  beta = 0.2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eselectsim_ub_+3A_ss_arm">ss_arm</code></td>
<td>
<p>numeric parameter, sample size per arm</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_or1">OR1</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 1</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_or2">OR2</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 2</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_p0_ce">p0_ce</code></td>
<td>
<p>numeric parameter, probability of composite endpoint in the control group</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_p_init">p_init</code></td>
<td>
<p>numeric parameter, percentage of sample size used in the interim</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_criteria">criteria</code></td>
<td>
<p>decision criteria to choose between the composite endpoint or the endpoint 1 as primary endpoint (&quot;SS&quot;: Ratio sample sizes, &quot;ARE&quot;: Asymptotic Relative Efficiency).</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_h0_e1">H0_e1</code></td>
<td>
<p>Simulate under true null hypothesis for the endpoint E1 (TRUE/FALSE).</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_h0_e2">H0_e2</code></td>
<td>
<p>Simulate under true null hypothesis for the endpoint E2 (TRUE/FALSE).</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_ss_r">SS_r</code></td>
<td>
<p>Sample size reassessment (TRUE/FALSE). If TRUE, in those cases where the sample size is less than the needed for achieving the pre-specified power, additional subjects are added after recalculating the sample size. If FALSE, no more subjects are added in the study.</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_alpha">alpha</code></td>
<td>
<p>Type I error.</p>
</td></tr>
<tr><td><code id="eselectsim_ub_+3A_beta">beta</code></td>
<td>
<p>Type II error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns the decision (Decision = 1, meaning the chosen endpoint is the composite endpoint; and Decision = 0, meaning the chosen endpoint is the relevant endpoint) and the statistic to test the primary hypothesis according to the decision.
</p>

<hr>
<h2 id='estimation_b'>Blinded estimation of the correlation</h2><span id='topic+estimation_b'></span>

<h3>Description</h3>

<p>This function estimates the correlation between two binary endpoints based on blinded data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimation_b(samplesize, p0_e1, p1_e1, OR1, p0_e2, p1_e2, OR2, p0_ce, p1_ce)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimation_b_+3A_samplesize">samplesize</code></td>
<td>
<p>numeric parameter, sample size per arm</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_p1_e1">p1_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the treatment group</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_or1">OR1</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 1 (design)</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_p1_e2">p1_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the treatment group</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_or2">OR2</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 2 (design)</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_p0_ce">p0_ce</code></td>
<td>
<p>numeric parameter, probability of occurrence composite endpoint in the control group</p>
</td></tr>
<tr><td><code id="estimation_b_+3A_p1_ce">p1_ce</code></td>
<td>
<p>numeric parameter, probability of occurrence composite endpoint in the treatment group</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns the estimated correlation and the truncated correlation within the possible margins.
</p>

<hr>
<h2 id='estimation_ub'>Unblinded estimation of the correlation</h2><span id='topic+estimation_ub'></span>

<h3>Description</h3>

<p>This function estimates the correlation between two binary endpoints based on unblinded data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimation_ub(samplesize, p0_e1, p1_e1, OR1, p0_e2, p1_e2, OR2, p0_ce, p1_ce)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimation_ub_+3A_samplesize">samplesize</code></td>
<td>
<p>numeric parameter, sample size per arm</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_p1_e1">p1_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the treatment group</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_or1">OR1</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 1 (design)</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_p1_e2">p1_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the treatment group</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_or2">OR2</code></td>
<td>
<p>numeric parameter, Odds ratio for the endpoint 2 (design)</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_p0_ce">p0_ce</code></td>
<td>
<p>numeric parameter, probability of occurrence composite endpoint in the control group</p>
</td></tr>
<tr><td><code id="estimation_ub_+3A_p1_ce">p1_ce</code></td>
<td>
<p>numeric parameter, probability of occurrence composite endpoint in the treatment group</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns the estimated correlation based on unblinded data and the truncated correlation within the possible margins.
</p>

<hr>
<h2 id='f_OR'>f_OR</h2><span id='topic+f_OR'></span>

<h3>Description</h3>

<p>simulates binary outcomes and computes the statistic
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_OR(samplesize, p0, p1)
</code></pre>


<h3>Value</h3>

<p>Two-sample test statistics using unpooled variance estimator
</p>

<hr>
<h2 id='f_sim'>Simulation 2x2 table binary endpoints</h2><span id='topic+f_sim'></span>

<h3>Description</h3>

<p>simulation binary data two outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_sim(samplesize, p_e1, p_e2, p_ce)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_sim_+3A_samplesize">samplesize</code></td>
<td>
<p>sample size simulated sample</p>
</td></tr>
<tr><td><code id="f_sim_+3A_p_e1">p_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1</p>
</td></tr>
<tr><td><code id="f_sim_+3A_p_e2">p_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2</p>
</td></tr>
<tr><td><code id="f_sim_+3A_p_ce">p_ce</code></td>
<td>
<p>numeric parameter, probability of occurrence composite endpoint</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Simlated data
</p>
<p>the function returns 2x2 table
s1+s2: num X1
s1+s3: num X2
</p>

<hr>
<h2 id='fun_p0'>fun_p0</h2><span id='topic+fun_p0'></span>

<h3>Description</h3>

<p>computes the probability under the control group
based on the pooled probability and the odds ratio
p: pooled probability
l: odds ratio
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fun_p0(p, l)
</code></pre>


<h3>Value</h3>

<p>Probability under the control group based on OR and pooled probability
</p>

<hr>
<h2 id='OR_function'>OR_function</h2><span id='topic+OR_function'></span>

<h3>Description</h3>

<p>computes the odds ratio
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OR_function(p0, p1)
</code></pre>


<h3>Value</h3>

<p>Odds ratio calculation based on marginal probabilities
</p>

<hr>
<h2 id='samplesize_OR'>samplesize_OR</h2><span id='topic+samplesize_OR'></span>

<h3>Description</h3>

<p>Sample size calculations in terms of odds ratio
</p>


<h3>Usage</h3>

<pre><code class='language-R'>samplesize_OR(p0, OR, alpha = 0.05, beta = 0.2, Unpooled = "Unpooled Variance")
</code></pre>


<h3>Value</h3>

<p>Sample size for odds ratios
</p>

<hr>
<h2 id='test_f'>test_f</h2><span id='topic+test_f'></span>

<h3>Description</h3>

<p>computes the statistical test (OR)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_f(OR, p0, n)
</code></pre>


<h3>Value</h3>

<p>Two-sample test statistics for a single endpoint
</p>

<hr>
<h2 id='test_me'>test_me</h2><span id='topic+test_me'></span>

<h3>Description</h3>

<p>computes the statistical tests (OR) for two endpoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_me(OR1, p0_e1, OR2, p0_e2, n)
</code></pre>


<h3>Value</h3>

<p>Two-sample test statistics for endpoint 1 and 2
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

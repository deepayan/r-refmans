<!DOCTYPE html><html lang="ru"><head><title>Help for package rym</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rym}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rym-package'>
<p>R Interface to Yandex Metrica API</p></a></li>
<li><a href='#rym_add_goal'>
<p>Create goal in 'Yandex Metrica'</p></a></li>
<li><a href='#rym_add_segment'>
<p>Create segment in 'Yandex Metrica'</p></a></li>
<li><a href='#rym_auth'>
<p>Authentication in Yandex Metrika API</p></a></li>
<li><a href='#rym_get_counters'><p>Load Yandex Metrica counters</p></a></li>
<li><a href='#rym_get_data'>
<p>Load data by compatible with the 'Google Analytics Core Reporting API'</p></a></li>
<li><a href='#rym_get_direct_clients'>
<p>Load Yandex.Direct clients</p></a></li>
<li><a href='#rym_get_filters'>
<p>List of filters</p></a></li>
<li><a href='#rym_get_ga'>
<p>Work with 'compatible with the Google Analytics Core Reporting API (v3)'</p></a></li>
<li><a href='#rym_get_goals'>
<p>List of goals</p></a></li>
<li><a href='#rym_get_logs'>
<p>Get raw data from yandex metrika.</p></a></li>
<li><a href='#rym_get_my_logins'>
<p>Show list of auth logins</p></a></li>
<li><a href='#rym_get_segments'>
<p>List of segments</p></a></li>
<li><a href='#rym_users_grants'>
<p>List of users permissions</p></a></li>
<li><a href='#rym-calls'>
<p>Manage callss</p></a></li>
<li><a href='#rym-expense-uploading'>
<p>Manage Cost Data Upload</p></a></li>
<li><a href='#rym-offline-conversion'>
<p>Manage offline conversions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Interface to Yandex Metrica API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.6</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexey Seleznev &lt;selesnow@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows work with 'Management API' for load counters, segments, filters,
	user permissions and goals list from Yandex Metrica, 'Reporting API' allows you to get 
	information about the statistics of site visits and other data without
	using the web interface, 'Logs API' allows to receive non-aggregated data and 
	'Compatible with Google Analytics Core Reporting API v3' allows 
	receive information about site traffic and other data using field names 
	from Google Analytics Core API.	For more information see official 
	documents <a href="https://yandex.ru/dev/metrika/doc/api2/concept/about-docpage">https://yandex.ru/dev/metrika/doc/api2/concept/about-docpage</a>.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/selesnow/rym/issues">https://github.com/selesnow/rym/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, stringr, utils, purrr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://selesnow.github.io/rym/">https://selesnow.github.io/rym/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>ru</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-17 11:38:57 UTC; SAMSUNG</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexey Seleznev <a href="https://orcid.org/0000-0003-0410-7385"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Netpeak [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-17 12:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rym-package'>
R Interface to Yandex Metrica API
</h2><span id='topic+rym-package'></span><span id='topic+rym'></span>

<h3>Description</h3>

<p>Allows work with 'Management API' for load counters, segments, filters,
	user permissions and goals list from Yandex Metrica, 'Reporting API' allows you to get 
	information about the statistics of site visits and other data without
	using the web interface, 'Logs API' allows to receive non-aggregated data and 
	'Compatible with Google Analytics Core Reporting API v3' allows 
	receive information about site traffic and other data using field names 
	from Google Analytics Core API.	For more information see official 
	documents &lt;https://yandex.ru/dev/metrika/doc/api2/concept/about-docpage&gt;.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> rym</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> R Interface to Yandex Metrica API</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.6</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> 
    c(person(given  = "Alexey",
             family = "Seleznev",
             role   = c("aut", "cre"),
             email  = "selesnow@gmail.com",
             comment = c(ORCID = "0000-0003-0410-7385")),
      person(given = "Netpeak",
             role = c("cph")))</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Alexey Seleznev &lt;selesnow@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Allows work with 'Management API' for load counters, segments, filters,
	user permissions and goals list from Yandex Metrica, 'Reporting API' allows you to get 
	information about the statistics of site visits and other data without
	using the web interface, 'Logs API' allows to receive non-aggregated data and 
	'Compatible with Google Analytics Core Reporting API v3' allows 
	receive information about site traffic and other data using field names 
	from Google Analytics Core API.	For more information see official 
	documents &lt;https://yandex.ru/dev/metrika/doc/api2/concept/about-docpage&gt;.</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.5.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/selesnow/rym/issues</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> knitr, rmarkdown</td>
</tr>
<tr>
 <td style="text-align: left;">
VignetteBuilder: </td><td style="text-align: left;"> knitr</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> httr, stringr, utils, purrr</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://selesnow.github.io/rym/</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
Language: </td><td style="text-align: left;"> ru</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Alexey Seleznev [aut, cre] (&lt;https://orcid.org/0000-0003-0410-7385&gt;),
  Netpeak [cph]</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
rym-calls               Manage callss
rym-expense-uploading   Manage Cost Data Upload
rym-offline-conversion
                        Manage offline conversions
rym-package             R Interface to Yandex Metrica API
rym_add_goal            Create goal in 'Yandex Metrica'
rym_add_segment         Create segment in 'Yandex Metrica'
rym_auth                Authentication in Yandex Metrika API
rym_get_counters        Load Yandex Metrica counters
rym_get_data            Load data by compatible with the 'Google
                        Analytics Core Reporting API'
rym_get_direct_clients
                        Load Yandex.Direct clients
rym_get_filters         List of filters
rym_get_ga              Work with 'compatible with the Google Analytics
                        Core Reporting API (v3)'
rym_get_goals           List of goals
rym_get_logs            Get raw data from yandex metrika.
rym_get_my_logins       Show list of auth logins
rym_get_segments        List of segments
rym_users_grants        List of users permissions
</pre>


<h3>Author(s)</h3>

<p>NA
</p>
<p>Maintainer: Alexey Seleznev &lt;selesnow@gmail.com&gt;
</p>


<h3>References</h3>

<p><a href="https://selesnow.github.io/rym/">Officialrym documents</a>
</p>
<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/intro-docpage">Management API Documents</a>
</p>
<p><a href="https://yandex.ru/dev/metrika/doc/api2/api_v1/intro-docpage">Reporting API Documents</a>
</p>
<p><a href="https://yandex.ru/dev/metrika/doc/api2/ga/intro-docpage">API Compatible with Google Analytics Core API v3</a>
</p>
<p><a href="https://yandex.ru/dev/metrika/doc/api2/logs/intro-docpage">Logs API Documentations</a>
</p>
<p>Or read vignettes:
</p>
<p><code>vignette("intro-to-rym", package = "rym")</code>
</p>
<p><code>vignette("rym-management-api", package = "rym")</code>
</p>
<p><code>vignette("rym-reporting-api", package = "rym")</code>
</p>
<p><code>vignette("rym-ga-api", package = "rym")</code>
</p>
<p><code>vignette("rym-logs-api", package = "rym")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rym)

# get counters list
my_counters &lt;- rym_get_counter()

# join all counters id in string format, like 1,2,3,4,5,...,n
counters_ids &lt;- paste0(my_counters$id, collapse = ",")

# get statistic from reporting API
reporting &lt;- rym_get_data(counters   = counters_ids,
                          date.from  = "2018-08-01",
                          date.to    = "yesterday",
                          dimensions = "ym:s:date,
				                        ym:s:lastTrafficSource",
                          metrics    = "ym:s:visits,
						                ym:s:pageviews,
						                ym:s:users",
                          sort       = "-ym:s:date")
						  
# get raw data
raw_data &lt;- rym_get_logs(counter = counters_ids[1],
                              date.from = "2016-12-01",
                              date.to = "2016-12-20",
                              fields = "ym:s:visitID,
							            ym:s:date,
										ym:s:bounce,
										ym:s:clientID,
										ym:s:networkType",
                              source = "visits")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_add_goal'>
Create goal in 'Yandex Metrica'
</h2><span id='topic+rym_add_goal'></span>

<h3>Description</h3>

<p>Create new goal in 'Yandex Metrica' counter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_add_goal(
    counter, 
    name,
    type = c("number","action","step","url"),
    is.retargeting = FALSE,
    flag = c(NA, "basket", "order"),
    conditions = NULL,
    login = getOption("rym.user"), 
    token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_add_goal_+3A_counter">counter</code></td>
<td>
<p>Yandex Metrika counter ID</p>
</td></tr>
<tr><td><code id="rym_add_goal_+3A_name">name</code></td>
<td>
<p>character, goal name</p>
</td></tr>
<tr><td><code id="rym_add_goal_+3A_type">type</code></td>
<td>
<p>character, goal type, one of &quot;number&quot;,&quot;action&quot;,&quot;step&quot;,&quot;url&quot;</p>
</td></tr>
<tr><td><code id="rym_add_goal_+3A_is.retargeting">is.retargeting</code></td>
<td>
<p>boolean, if TRUE the goal is retargeting</p>
</td></tr>
<tr><td><code id="rym_add_goal_+3A_flag">flag</code></td>
<td>
<p>character, target type for Yandex.Market customers</p>
</td></tr>
<tr><td><code id="rym_add_goal_+3A_conditions">conditions</code></td>
<td>
<p>list, the list of conditions, for example <code>list(type = 'exact', url = 'rym-first-goal')</code></p>
</td></tr>
<tr><td><code id="rym_add_goal_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_add_goal_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/goals/addgoal-docpage/">Official docs of 'Yandex Metrica Management API'</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rym_add_goal(123456789, 
             name = 'first_goal',
             type = 'action',
             conditions = list(type = 'exact', 
                               url = 'rym-first-goal'),
             login = 'your_login')

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_add_segment'>
Create segment in 'Yandex Metrica'
</h2><span id='topic+rym_add_segment'></span>

<h3>Description</h3>

<p>Create a new API segment in 'Yandex Metrica' counter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_add_segment(
     counter, 
     name,
     expression,
     login = getOption("rym.user"), 
     token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_add_segment_+3A_counter">counter</code></td>
<td>
<p>Yandex Metrika counter ID</p>
</td></tr>
<tr><td><code id="rym_add_segment_+3A_name">name</code></td>
<td>
<p>character, segment name</p>
</td></tr>
<tr><td><code id="rym_add_segment_+3A_expression">expression</code></td>
<td>
<p>character, filter expression, for example <code>"ym:s:trafficSource=='organic' AND ym:s:isNewUser=='Yes'"</code>, for more information go <a href="https://yandex.ru/dev/metrika/doc/api2/api_v1/segmentation-docpage/">link</a></p>
</td></tr>
<tr><td><code id="rym_add_segment_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_add_segment_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/segments/createsegment-docpage/">Official docs of 'Yandex Metrica Management API'</a>
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+rym_add_goal">rym_add_goal()</a></code> for create new goal in 'Yandex Metrica'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rym_add_segment(
     counter = 123456789, 
     name = "my_segment",
     expression = "ym:s:trafficSource=='organic' AND ym:s:isNewUser=='Yes'",
     login = "your_login")


## End(Not run)
</code></pre>

<hr>
<h2 id='rym_auth'>
Authentication in Yandex Metrika API
</h2><span id='topic+rym_auth'></span>

<h3>Description</h3>

<p>Actually you don't need call rym_auth since it will be called when you run any of the functions available in rym.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_auth(login = getOption("rym.user"), 
         new.user = FALSE, 
         token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_auth_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_auth_+3A_new.user">new.user</code></td>
<td>
<p>logical, If TRUE you reauth in Yandex Metrika API</p>
</td></tr>
<tr><td><code id="rym_auth_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All your credential save in directory specified in the argument token.path, after save every time you run any function from rym, rym_auth be load credentials from local file login.rymAuth.RData.
rym_auth create files for each your logins, which makes it possible use many yandex account in one script.
Every tokens expire after 1 year after authentication, but rym_auth automaticly refresh and save you credential 30 days before he expire.
</p>


<h3>Value</h3>

<p>List with credential data.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p>OAuth 2.0 in Yandex docs - https://tech.yandex.ru/oauth/doc/dg/concepts/about-docpage/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rym)
rym_auth(login = "my_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_counters'>Load Yandex Metrica counters</h2><span id='topic+rym_get_counters'></span>

<h3>Description</h3>

<p>Returns a list of existing counters available to the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_counters(login = getOption("rym.user"), 
                 token.path = getOption("rym.token_path"),
                 search.string = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_counters_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_counters_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
<tr><td><code id="rym_get_counters_+3A_search.string">search.string</code></td>
<td>
<p>character, Filter by line. Counters will be displayed, the identifier, name, site or mirrors of which contain the specified substring</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with list of yandex metrica counters.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p>Official docs - https://tech.yandex.ru/metrika/doc/api2/management/counters/counters-docpage/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
my_counters &lt;- rym_get_counters(login = "my_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_data'>
Load data by compatible with the 'Google Analytics Core Reporting API'
</h2><span id='topic+rym_get_data'></span>

<h3>Description</h3>

<p>The Reporting API allows you to obtain information about site visits statistics and other data without using the Yandex.Metrica interface.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_data(direct.client.logins = NULL, counters, 
  metrics = "ym:s:visits,ym:s:pageviews,ym:s:users", 
  dimensions = NULL, filters = NULL, 
  sort = NULL, date.from = "8daysAgo", 
  date.to = "yesterday", accuracy = "full", 
  include.undefined = TRUE, lang = "ru", 
  timezone = NULL, pretty = FALSE, 
  login = getOption("rym.user"), 
  token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_data_+3A_direct.client.logins">direct.client.logins</code></td>
<td>

<p>Logins of Yandex.Direct clients, separated by commas. Can be used to generate a Direct Expense report.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_counters">counters</code></td>
<td>

<p>Counter identifiers, separated by commas.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_metrics">metrics</code></td>
<td>

<p>A list of metrics, separated by a comma.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_dimensions">dimensions</code></td>
<td>

<p>A list of groupings, separated by a comma.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_filters">filters</code></td>
<td>

<p>A list of filtring data.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_sort">sort</code></td>
<td>

<p>A list of metrics and dimension for sorting result data, for desc sorting use -.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_date.from">date.from</code></td>
<td>

<p>Start date in YYYY-MM-DD.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_date.to">date.to</code></td>
<td>

<p>End date in YYYY-MM-DD.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_accuracy">accuracy</code></td>
<td>

<p>Sampling level, one of low, medium, high or full. Or numeric from 0 to 1, where 1 - no sampling.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_include.undefined">include.undefined</code></td>
<td>

<p>Includes in response rows for which grouping values are not defined.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_lang">lang</code></td>
<td>

<p>Language, by default ru
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_timezone">timezone</code></td>
<td>

<p>Timezone for time data.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_pretty">pretty</code></td>
<td>

<p>Specifies the formatting of the result.
</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_data_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This API have some limits.
1. 10 demensions in the query.
2. 20 metrics in one query.
3. Limit: the number of unique groupings and metrics is up to 10, the number of individual filters is up to 20, the length of the line in the filter is up to 10,000 characters.
</p>


<h3>Value</h3>

<p>Data frame with dimension and metrics.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/api_v1/intro-docpage">Reporting API docs</a>
</p>
<p>Run <code>vignette("rym-reporting-api", package = "rym")</code> to see the corresponding vignette.
</p>


<h3>See Also</h3>

<p>For load statics you also can use <code><a href="#topic+rym_get_ga">rym_get_ga</a></code> and <code><a href="#topic+rym_get_logs">rym_get_logs</a></code>	
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
test_data &lt;- rym_get_data(counters = 26841129,
                          dimensions = "ym:s:date,
                                        ym:s:lastsignTrafficSource", 
						  login = "my_login", 
						  sort = "ym:s:date")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_direct_clients'>
Load Yandex.Direct clients
</h2><span id='topic+rym_get_direct_clients'></span>

<h3>Description</h3>

<p>Returns data about Yandex.Direct clients for campaigns that the owner of the Metrics counter has access to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_direct_clients(counters, login = getOption("rym.user"), 
                       token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_direct_clients_+3A_counters">counters</code></td>
<td>
<p>Counter identifiers, separated by commas</p>
</td></tr>
<tr><td><code id="rym_get_direct_clients_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_direct_clients_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with Yandex Direct clients.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/direct_clients/getclients-docpage">Reporting API docs</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
my_clients &lt;- rym_get_direct_clients(counters="11111,22222",
                                     login = "my_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_filters'>
List of filters
</h2><span id='topic+rym_get_filters'></span>

<h3>Description</h3>

<p>Returns information about counter filters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_filters(counter, login = getOption("rym.user"), 
                token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_filters_+3A_counter">counter</code></td>
<td>

<p>Yandex Metrika counter ID, you can get ids of all your conters over rym_counters
</p>
</td></tr>
<tr><td><code id="rym_get_filters_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_filters_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential, by default is your work directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with list of yandex metrika counter filters
</p>
<table role = "presentation">
<tr><td><code>id</code></td>
<td>
<p>Filter id.</p>
</td></tr>
<tr><td><code>attr</code></td>
<td>
<p>The type of data to which the filter applies. One of referer, uniq_id, client_ip, title, url.</p>
</td></tr>
<tr><td><code>type</code></td>
<td>
<p>The relation or action for the filter, equal, contain, me, start, interval, only_mirrors.</p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>Filter value.</p>
</td></tr>
<tr><td><code>action</code></td>
<td>
<p>Type of filter, include or exclude.</p>
</td></tr>
<tr><td><code>status</code></td>
<td>
<p>Status of filter, active or disabled.</p>
</td></tr>
<tr><td><code>with_subdomains</code></td>
<td>
<p>Filter by subdomains.</p>
</td></tr>
<tr><td><code>start_ip</code></td>
<td>
<p>The first IP address of the range.</p>
</td></tr>
<tr><td><code>start_ip</code></td>
<td>
<p>The last IP address of the range.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/filters/filters-docpage">Official docs</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
filters &lt;- rym_get_filters(counter    = "your_counter_id",
                           login      = "your_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_ga'>
Work with 'compatible with the Google Analytics Core Reporting API (v3)'
</h2><span id='topic+rym_get_ga'></span>

<h3>Description</h3>

<p>Allows you to perform the following operations:
1. Obtain information about site traffic and other data.
2. Integrate Yandex.Metrica data with applications developed with the 'Google Analytics Core Reporting API (v3)' in mind.
3. Use the usual query parameters when collecting statistics, if you previously worked with the Google Analytics Core Reporting API (v3).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_ga(start.date = "10daysAgo", end.date = "today", 
  counter = NULL, dimensions = "ga:date,ga:sourceMedium", 
  metrics = "ga:sessions,ga:bounces,ga:users", 
  filters = NULL, sort = NULL, 
  sampling.level = "HIGHER_PRECISION", 
  login = getOption("rym.user"), 
  token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_ga_+3A_start.date">start.date</code></td>
<td>

<p>Start date in format YYYY-MM-DD
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_end.date">end.date</code></td>
<td>

<p>End date in format YYYY-MM-DD
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_counter">counter</code></td>
<td>

<p>Your yandex metrica counter
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_dimensions">dimensions</code></td>
<td>

<p>List of dimensions fields, for example &quot;ga:browser,ga:city&quot;, see <a href="https://yandex.ru/dev/metrika/doc/api2/ga/ga/implemented/metrika_dim-docpage">dictionary of available dimension</a>
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_metrics">metrics</code></td>
<td>

<p>List of metrics fields, for example &quot;ga:users,ga:sessions&quot;, see <a href="https://yandex.ru/dev/metrika/doc/api2/ga/ga/implemented/metrika_dim-docpage">dictionary of available metrics</a>
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_filters">filters</code></td>
<td>

<p>List of filtrind dimensions and metrics.
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_sort">sort</code></td>
<td>

<p>Sorting fields
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_sampling.level">sampling.level</code></td>
<td>

<p>One of &quot;HIGHER_PRECISION&quot;, &quot;FASTER&quot;, &quot;DEFAULT&quot;
</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_ga_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Limits:
10 metrics for one query.
7 dimensions for one query
</p>


<h3>Value</h3>

<p>Data frame with fields.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/ga/intro-docpage">Official compatible with the Google Analytics Core Reporting API (v3) docs</a>
</p>
<p>Run <code>vignette("rym-ga-api", package = "rym")</code> to see the corresponding vignette.
</p>


<h3>See Also</h3>

<p>For load statics you also can use <code><a href="#topic+rym_get_data">rym_get_data()</a></code> and <code><a href="#topic+rym_get_logs">rym_get_logs()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data &lt;- rym_get_ga(start.date = "2017-08-01",
                   end.date = "yesterday",
                   counter = "ga:26841129",
                   metrics = "ga:sessions,ga:bounces,ga:users",
                   dimensions = "ga:date,ga:sourceMedium", 
                   login      = "my_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_goals'>
List of goals
</h2><span id='topic+rym_get_goals'></span>

<h3>Description</h3>

<p>Returns information about the purpose of the yandex metrica counter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_goals(counter, login = getOption("rym.user"), 
          token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_goals_+3A_counter">counter</code></td>
<td>
<p>Yandex Metrika counter ID</p>
</td></tr>
<tr><td><code id="rym_get_goals_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_goals_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with list of yandex metrica counters
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/goals/goals-docpage">Official docs of 'Yandex Metrica Management API'</a>
</p>
<p><a href="https://selesnow.github.io/rym/">Docs on rym website</a>
</p>
<p>Run <code>vignette("rym-management-api", package = "rym")</code> to see the corresponding vignette.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
my_counters &lt;- rym_get_goals(login = "my_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_logs'>
Get raw data from yandex metrika.
</h2><span id='topic+rym_get_logs'></span>

<h3>Description</h3>

<p>'Logs API' allows you to receive non-aggregated data collected by Yandex.Metrica. 
This API is intended for service users who want to independently process 
statistical data and use them to solve unique analytical problems.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_logs(counter = NULL, date.from = Sys.Date() - 10, date.to =
    Sys.Date() - 1, fields =
    "ym:s:date,ym:s:counterID,ym:s:dateTime,
	ym:s:isNewUser,ym:s:startURL,ym:s:visitDuration,
	ym:s:ipAddress,ym:s:referer",
    source = "visits", login = getOption("rym.user"), 
	token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_logs_+3A_counter">counter</code></td>
<td>

<p>Yandex metrika counter id
</p>
</td></tr>
<tr><td><code id="rym_get_logs_+3A_date.from">date.from</code></td>
<td>

<p>Start date in format YYYY-MM-DD
</p>
</td></tr>
<tr><td><code id="rym_get_logs_+3A_date.to">date.to</code></td>
<td>

<p>End date in format YYYY-MM-DD
</p>
</td></tr>
<tr><td><code id="rym_get_logs_+3A_fields">fields</code></td>
<td>

<p>List of fields
</p>
</td></tr>
<tr><td><code id="rym_get_logs_+3A_source">source</code></td>
<td>

<p>Log source, one of &quot;hits&quot; or &quot;visits&quot;
</p>
</td></tr>
<tr><td><code id="rym_get_logs_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_logs_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with values and fields
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/logs/fields/visits-docpage">Visits fields</a>
</p>
<p><a href="https://yandex.ru/dev/metrika/doc/api2/logs/fields/hits-docpage">Hits fields</a>
</p>
<p><a href="https://yandex.ru/dev/metrika/doc/api2/logs/intro-docpage">Logs API docs</a>
</p>
<p><a href="https://selesnow.github.io/rym/">Docs on rym website</a>
</p>
<p>Run <code>vignette("rym-logs-api", package = "rym")</code> to see the corresponding vignette.
</p>


<h3>See Also</h3>

<p>For load statics you also can use <code><a href="#topic+rym_get_data">rym_get_data()</a></code> and <code><a href="#topic+rym_get_ga">rym_get_ga()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# where "00000000" is your counter id
rawmetrikdata &lt;- rym_get_logs(counter = "00000000",
                              date.from = "2016-12-01",
                              date.to = "2016-12-20",
                              fields = "ym:s:visitID,
							            ym:s:date,
										ym:s:bounce,
										ym:s:clientID,
										ym:s:networkType",
                              source = "visits")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_my_logins'>
Show list of auth logins
</h2><span id='topic+rym_get_my_logins'></span>

<h3>Description</h3>

<p>Get login list, chose and set default yandex login in current R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_my_logins(token.path = getOption("rym.token_path"), 
                  set.login = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_my_logins_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
<tr><td><code id="rym_get_my_logins_+3A_set.login">set.login</code></td>
<td>
<p>logical, if TRUE you set one of your account as session default</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rym_get_my_logins()

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_get_segments'>
List of segments
</h2><span id='topic+rym_get_segments'></span>

<h3>Description</h3>

<p>Returns a list of segments created using the API and related to the specified counter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_get_segments(counter, login = getOption("rym.user"), 
                 token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_get_segments_+3A_counter">counter</code></td>
<td>

<p>Yandex Metrika counter ID, you can get ids of all your conters over rym_counters
</p>
</td></tr>
<tr><td><code id="rym_get_segments_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_get_segments_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential, by default is your work directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with list of yandex metrica counter segments
</p>
<table role = "presentation">
<tr><td><code>id</code></td>
<td>
<p>Segment id.</p>
</td></tr>
<tr><td><code>counter_id</code></td>
<td>
<p>Yandex Metrica counter id.</p>
</td></tr>
<tr><td><code>name</code></td>
<td>
<p>Segment name.</p>
</td></tr>
<tr><td><code>expression</code></td>
<td>
<p>An expression that matches the value of the filters parameter.</p>
</td></tr>
<tr><td><code>is_retargeting</code></td>
<td>
<p>Logical, is retargeting segment or not.</p>
</td></tr>
<tr><td><code>segment_source</code></td>
<td>
<p>Source of the segment. Indicates how to create it. Accepts the value of api - segments that are created using the API are used.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/segments/getsegmentsforcounter-docpage">Official docs of Yandex Metrica Management API</a>
</p>
<p><a href="https://selesnow.github.io/rym/">Docs on rym website</a>
</p>
<p>Run <code>vignette("rym-management-api", package = "rym")</code> to see the corresponding vignette.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
segments &lt;- rym_get_segments(counter    = "your_counter_id",
                             login      = "your_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym_users_grants'>
List of users permissions
</h2><span id='topic+rym_users_grants'></span>

<h3>Description</h3>

<p>Returns information about the permissions to manage the counter and viewing statistics from 'management API'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_users_grants(counter, login = getOption("rym.user"), 
                 token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym_users_grants_+3A_counter">counter</code></td>
<td>

<p>Yandex Metrika counter ID, you can get ids of all your conters over rym_counters
</p>
</td></tr>
<tr><td><code id="rym_users_grants_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym_users_grants_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential, by default is your work directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with list of yandex metrika counter users
</p>
<table role = "presentation">
<tr><td><code>user_login</code></td>
<td>
<p>Login of the user who has been given permission to manage the counter.</p>
</td></tr>
<tr><td><code>perm</code></td>
<td>
<p>Access level, one of view, edit, public_stat.</p>
</td></tr>
<tr><td><code>created_at</code></td>
<td>
<p>Date of granting access in the format YYYY-MM-DD'T'hh: mm: ssZ.</p>
</td></tr>
<tr><td><code>comment</code></td>
<td>
<p>An arbitrary comment. The number of characters can not exceed 255.</p>
</td></tr>
<tr><td><code>partner_data_access</code></td>
<td>
<p>Logical, is partner access or not.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p><a href="https://yandex.ru/dev/metrika/doc/api2/management/grants/grants-docpage">Official docs</a>
</p>
<p>Run <code>vignette("rym-management-api", package = "rym")</code> to see the corresponding vignette.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
users &lt;- rym_users_grants(counter    = "your_counter_id",
                          login      = "your_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym-calls'>
Manage callss
</h2><span id='topic+rym-calls'></span><span id='topic+rym_upload_calls'></span><span id='topic+rym_enable_calls'></span><span id='topic+rym_disable_calls'></span><span id='topic+rym_allow_calls'></span><span id='topic+rym_get_uploadings_calls'></span>

<h3>Description</h3>

<p>calls Management:
</p>

<dl>
<dt>rym_enable_calls</dt><dd><p>Enable calls tracking for the specified counter.</p>
</dd>
<dt>rym_disable_calls</dt><dd><p>Disable calls tracking for the specified counter.</p>
</dd>
<dt>rym_upload_calls</dt><dd><p>Upload callss.</p>
</dd>
<dt>rym_allow_calls</dt><dd><p>Returns the date and time from which conversions can be linked to visits for the specified counter.</p>
</dd>
<dt>rym_get_uploadings_callss</dt><dd><p>Returns a list of calls downloads.</p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>rym_enable_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
           
rym_disable_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_allow_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_upload_calls(
   counter, 
   data,
   client.id.type = c("CLIENT_ID", "USER_ID"),
   new.goal.name  = NULL,
   comment        = paste0("Upload by rym at ", Sys.time()),
   login          = getOption("rym.user"), 
   token.path     = getOption("rym.token_path"))

rym_get_uploadings_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym-calls_+3A_counter">counter</code></td>
<td>
<p>Your yandex metrica counter</p>
</td></tr>
<tr><td><code id="rym-calls_+3A_data">data</code></td>
<td>
<p>data.frame, expense data for loading</p>
</td></tr>
<tr><td><code id="rym-calls_+3A_client.id.type">client.id.type</code></td>
<td>
<p>Type of visitor identifiers: CLIENT_ID or USER_ID</p>
</td></tr>
<tr><td><code id="rym-calls_+3A_comment">comment</code></td>
<td>
<p>Comment for data loading</p>
</td></tr>
<tr><td><code id="rym-calls_+3A_new.goal.name">new.goal.name</code></td>
<td>
<p>The name of the new goal for calls in the event that such a goal does not exist. If the target exists, this parameter is ignored</p>
</td></tr>
<tr><td><code id="rym-calls_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym-calls_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Loading data format.
</p>
<p>Require:
</p>

<dl>
<dt>UserId, ClientId, Yclid</dt><dd><p>Identifier of the visitor to the site or advertising campaign in Yandex.Direct, for example: 12345</p>
</dd>
</dl>

<p>Optional:
</p>

<dl>
<dt>StaticCall</dt><dd><p>whether the call is static (1 - static, 0 - dynamic)</p>
</dd>
<dt>Price</dt><dd><p>target price, the decimal separator is the dot (.)</p>
</dd>
<dt>Currency</dt><dd><p>currency in the three-letter format ISO 4217, for example: RUB</p>
</dd>
<dt>PhoneNumber</dt><dd><p>phone number without spaces (with country and city code). For example, +70123456789</p>
</dd>
<dt>TalkDuration</dt><dd><p>call duration in seconds</p>
</dd>
<dt>HoldDuration</dt><dd><p>call waiting time in seconds</p>
</dd>
<dt>CallMissed</dt><dd><p>whether the call is missed (1 - missed, 0 - answered)</p>
</dd>
<dt>Tag</dt><dd><p>custom label. It can be used to mark the quality of a call or its outcome, etc. For example, “the customer was not satisfied with the price”</p>
</dd>
<dt>FirstTimeCaller</dt><dd><p>primary (1 - primary call, 0 - secondary call)</p>
</dd>
<dt>URL</dt><dd><p>The URL from which the call came (the page associated with the event). For example, this could be the landing page for an ad campaign that has a phone number (PhoneNumber)</p>
</dd>
<dt>CallTrackerURL</dt><dd><p>The URL to go to the call tracker interface</p>
</dd>
</dl>

<p>Example of <a href="https://download.cdn.yandex.net/from/yandex.ru/support/ru/metrica/files/offline-conversions.csv">CSV file</a>.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p>See official dox:
<a href="https://yandex.ru/dev/metrika/doc/api2/practice/calls-docpage/">API documents</a>
<a href="https://yandex.ru/dev/metrika/doc/api2/management/offline_conversion/uploadcalls-docpage/">Upload calls info into Yandex Metrica</a>
<a href="https://yandex.ru/support/metrica/data/calls.html">Calls in Yandex Metrica</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read data for upload
data &lt;- read.csv("https://bit.ly/2CcsNyl")

# enable offline cnversion
rym_enable_calls(
   counter = 123456789, 
   login   = "your_login"
)

# upload data
rym_upload_calls(
   counter        = 123456789, 
   data           = data,
   client.id.type = "CLIENT_ID",
   login          = "your_login")
   
# check uploading
rym_allow_calls(
   counter = 123456789, 
   login   = "your_login")

## End(Not run)
</code></pre>

<hr>
<h2 id='rym-expense-uploading'>
Manage Cost Data Upload
</h2><span id='topic+rym-expense-uploading'></span><span id='topic+rym_upload_expense'></span><span id='topic+rym_delete_uploaded_expense'></span><span id='topic+rym_get_uploadings_expense'></span>

<h3>Description</h3>

<p>Upload, delete and get list of uploading expense data in 'Yandex Metrica'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rym_upload_expense(
    counter, 
    data,
    comment    = paste0("Upload bt rym at ", Sys.time()),
    login      = getOption("rym.user"), 
    token.path = getOption("rym.token_path"))

rym_delete_uploaded_expense(
    counter, 
    data,
    comment    = paste0("Upload bt rym at ", Sys.time()),
    login      = getOption("rym.user"), 
    token.path = getOption("rym.token_path"))
    
rym_get_uploadings_expense(
    counter, 
    login      = getOption("rym.user"), 
    token.path = getOption("rym.token_path"))

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym-expense-uploading_+3A_counter">counter</code></td>
<td>
<p>Your yandex metrica counter</p>
</td></tr>
<tr><td><code id="rym-expense-uploading_+3A_data">data</code></td>
<td>
<p>data.frame, expense data for loading</p>
</td></tr>
<tr><td><code id="rym-expense-uploading_+3A_comment">comment</code></td>
<td>
<p>Comment for data loading</p>
</td></tr>
<tr><td><code id="rym-expense-uploading_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym-expense-uploading_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Loading data format.
</p>
<p>Require:
</p>

<dl>
<dt>Date</dt><dd><p>Date in YYYY-MM-DD format</p>
</dd>
<dt>UTMSource</dt><dd><p>Source name, for example google</p>
</dd>
<dt>Expenses</dt><dd><p>Expense size, for example 12.34</p>
</dd>
</dl>

<p>Optional:
</p>

<dl>
<dt>UTMMedium</dt><dd><p>Medium name, for exmaple cpc</p>
</dd>
<dt>UTMCampaign</dt><dd><p>Campaign name, for example my campaing</p>
</dd>
<dt>UTMTerm</dt><dd><p>Term name, for example my term</p>
</dd>
<dt>UTMContent</dt><dd><p>Content name, for example my contant</p>
</dd>
<dt>Currency</dt><dd><p>Currency in <a href="https://www.iso.org/iso-4217-currency-codes.html">ISO 4217</a> code</p>
</dd>
<dt>Clicks</dt><dd><p>Clicks number, for example 23</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p>See official dox:
<a href="https://yandex.ru/dev/metrika/doc/api2/management/expenses/uploadbody-docpage/">API documents</a>
<a href="https://yandex.ru/support/metrica/ad/expenses.html#expences">Yandex Metrica documents</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# prepare data for loading
expense &lt;- data.frame(Date        = c("2020-06-01",
                                      "2020-06-02"),
                      UTMSource   = c("test_s_1",
                                      "test_s_2"),
                      Expenses    = c(88.12,
                                      92.11),
                      UTMMedium   = c("cpc",
                                      "cpm"),
                      UTMCampaign = c("camp1",
                                      "camp2"),
                      UTMTerm     = c("term1",
                                      "term2"),
                      UTMContent  = c("cont1",
                                      "cont2"),
                      Currency    = c("RUB", 
                                      "RUB"),
                      Clicks      = c(11, 15))

# upload data
rym_upload_expense(
                counter = 1111111, 
                data    = expense,
                login   = 'yandex_login')

# delete data
rym_delete_uploaded_expense(
                counter = 1111111, 
                data    = expense,
                login   = 'yandex_login')

# get list of expense uploadings
loaded &lt;- rym_get_uploadings_expense(
                counter = 1111111, 
                login   = 'yandex_login')


## End(Not run)
</code></pre>

<hr>
<h2 id='rym-offline-conversion'>
Manage offline conversions
</h2><span id='topic+rym-offline-conversion'></span><span id='topic+rym_upload_offline_conversion'></span><span id='topic+rym_enable_offline_conversion'></span><span id='topic+rym_disable_offline_conversion'></span><span id='topic+rym_allow_offline_conversion'></span><span id='topic+rym_get_uploadings_offline_conversions'></span>

<h3>Description</h3>

<p>Offline Conversion Management:
</p>

<dl>
<dt>rym_enable_offline_conversion</dt><dd><p>Enable offline conversion tracking for the specified counter.</p>
</dd>
<dt>rym_disable_offline_conversion</dt><dd><p>Disable offline conversion tracking for the specified counter.</p>
</dd>
<dt>rym_upload_offline_conversion</dt><dd><p>Upload offline conversions.</p>
</dd>
<dt>rym_allow_offline_conversion</dt><dd><p>Returns the date and time from which conversions can be linked to visits for the specified counter.</p>
</dd>
<dt>rym_get_uploadings_offline_conversions</dt><dd><p>Returns a list of offline conversion downloads.</p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>rym_enable_offline_conversion(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
           
rym_disable_offline_conversion(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_allow_offline_conversion(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_upload_offline_conversion(
   counter, 
   data,
   client.id.type = c("CLIENT_ID", "USER_ID"),
   comment        = paste0("Upload by rym at ", Sys.time()),
   login          = getOption("rym.user"), 
   token.path     = getOption("rym.token_path"))

rym_get_uploadings_offline_conversions(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rym-offline-conversion_+3A_counter">counter</code></td>
<td>
<p>Your yandex metrica counter</p>
</td></tr>
<tr><td><code id="rym-offline-conversion_+3A_data">data</code></td>
<td>
<p>data.frame, expense data for loading</p>
</td></tr>
<tr><td><code id="rym-offline-conversion_+3A_client.id.type">client.id.type</code></td>
<td>
<p>Type of visitor identifiers: CLIENT_ID or USER_ID</p>
</td></tr>
<tr><td><code id="rym-offline-conversion_+3A_comment">comment</code></td>
<td>
<p>Comment for data loading</p>
</td></tr>
<tr><td><code id="rym-offline-conversion_+3A_login">login</code></td>
<td>
<p>character, Your Yandex login</p>
</td></tr>
<tr><td><code id="rym-offline-conversion_+3A_token.path">token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Loading data format.
</p>
<p>Require:
</p>

<dl>
<dt>UserId, ClientId, Yclid</dt><dd><p>Identifier of the visitor to the site or advertising campaign in Yandex.Direct, for example: 12345</p>
</dd>
<dt>Target</dt><dd><p>Target ID specified when creating the target, for example order_confirmed</p>
</dd>
<dt>DateTime</dt><dd><p>The time at which the conversion occurred in Unix Time Stamp format. Indicate the time in the time zone UTC + 0, for example: 1481718166</p>
</dd>
</dl>

<p>Optional:
</p>

<dl>
<dt>Price</dt><dd><p>Goal Value, for example: 1000</p>
</dd>
<dt>Currency</dt><dd><p>Three-letter currency code according to ISO 4217, for example: RUB</p>
</dd>
</dl>

<p>Example of <a href="https://download.cdn.yandex.net/from/yandex.ru/support/ru/metrica/files/offline-conversions.csv">CSV file</a>.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p>See official dox:
<a href="https://yandex.ru/dev/metrika/doc/api2/practice/conversion-docpage/#offline">API documents</a>
<a href="https://yandex.ru/support/metrica/data/offline-conversion_data.html">Yandex Metrica documents</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read data for upload
data &lt;- read.csv("https://bit.ly/2CcsNyl")

# enable offline cnversion
rym_enable_offline_conversion(
   counter = 123456789, 
   login   = "your_login"
)

# upload data
rym_upload_offline_conversion(
   counter        = 123456789, 
   data           = data,
   client.id.type = "CLIENT_ID",
   login          = "your_login")
   
# check uploading
rym_allow_offline_conversion(
   counter = 123456789, 
   login   = "your_login")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

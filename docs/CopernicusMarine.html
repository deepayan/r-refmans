<!DOCTYPE html><html lang="en"><head><title>Help for package CopernicusMarine</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CopernicusMarine}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CopernicusMarine-package'><p>CopernicusMarine: Search Download and Handle Data from Copernicus Marine Service Information</p></a></li>
<li><a href='#cms_cite_product'><p>How to cite a Copernicus marine product</p></a></li>
<li><a href='#cms_download_stac'><p>List and get STAC files for a Copernicus marine product</p></a></li>
<li><a href='#cms_download_subset'><p>Subset and download a specific marine product from Copernicus</p></a></li>
<li><a href='#cms_login'><p>Contact Copernicus Marine login page</p></a></li>
<li><a href='#cms_product_details'><p>Obtain details for a specific Copernicus marine product</p></a></li>
<li><a href='#cms_product_metadata'><p>Obtain meta data for a specific Copernicus marine product</p></a></li>
<li><a href='#cms_product_services'><p>Obtain available services for a specific Copernicus marine product</p></a></li>
<li><a href='#cms_products_list'><p>List products available from data.marine.copernicus.eu</p></a></li>
<li><a href='#cms_wmts_details'><p>Obtain a WMTS entry for specific Copernicus marine products and add to a leaflet map</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Search Download and Handle Data from Copernicus Marine Service
Information</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.4</td>
</tr>
<tr>
<td>Author:</td>
<td>Pepijn de Vries <a href="https://orcid.org/0000-0002-7961-6646"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, dtc]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Pepijn de Vries &lt;pepijn.devries@outlook.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Subset and download data from EU Copernicus Marine
    Service Information: <a href="https://data.marine.copernicus.eu">https://data.marine.copernicus.eu</a>.
    Import data on the oceans physical and biogeochemical state
    from Copernicus into R without the need of external software.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>crayon, dplyr, httr2, leaflet, purrr, rlang, sf, stringr,
tidyr, utils, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>lifecycle, ncmeta, stars, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pepijn-devries/CopernicusMarine">https://github.com/pepijn-devries/CopernicusMarine</a>,
<a href="https://pepijn-devries.github.io/CopernicusMarine/">https://pepijn-devries.github.io/CopernicusMarine/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pepijn-devries/CopernicusMarine/issues">https://github.com/pepijn-devries/CopernicusMarine/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'CopernicusMarine-package.r' 'cms_cite_product.r'
'cms_download_stac.r' 'cms_login.r' 'cms_download_subset.r'
'cms_list_stac_files.r' 'cms_product_details.r'
'cms_product_metadata.r' 'cms_product_services.r'
'cms_products_list.r' 'cms_stac_properties.r' 'cms_wmts.r'
'generics.r' 'import.r'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-22 18:29:20 UTC; vries171</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-22 23:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='CopernicusMarine-package'>CopernicusMarine: Search Download and Handle Data from Copernicus Marine Service Information</h2><span id='topic+CopernicusMarine'></span><span id='topic+CopernicusMarine-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Subset and download data from EU Copernicus Marine Service Information: <a href="https://data.marine.copernicus.eu">https://data.marine.copernicus.eu</a>. Import data on the oceans physical and biogeochemical state from Copernicus into R without the need of external software.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Pepijn de Vries <a href="mailto:pepijn.devries@outlook.com">pepijn.devries@outlook.com</a> (<a href="https://orcid.org/0000-0002-7961-6646">ORCID</a>) [data contributor]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/pepijn-devries/CopernicusMarine">https://github.com/pepijn-devries/CopernicusMarine</a>
</p>
</li>
<li> <p><a href="https://pepijn-devries.github.io/CopernicusMarine/">https://pepijn-devries.github.io/CopernicusMarine/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/pepijn-devries/CopernicusMarine/issues">https://github.com/pepijn-devries/CopernicusMarine/issues</a>
</p>
</li></ul>


<hr>
<h2 id='cms_cite_product'>How to cite a Copernicus marine product</h2><span id='topic+cms_cite_product'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Get details for properly citing a Copernicus product.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_cite_product(product)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_cite_product_+3A_product">product</code></td>
<td>
<p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="#topic+cms_products_list">cms_products_list</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of character strings. The first element is always the product title, id and doi.
Remaining elements are other associated references. Note that the remaining references are returned as
listed at Copernicus. Note that the citing formatting does not appear to be standardised.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>See Also</h3>

<p>Other product-functions: 
<code><a href="#topic+cms_product_details">cms_product_details</a>()</code>,
<code><a href="#topic+cms_product_metadata">cms_product_metadata</a>()</code>,
<code><a href="#topic+cms_product_services">cms_product_services</a>()</code>,
<code><a href="#topic+cms_products_list">cms_products_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cms_cite_product("SST_MED_PHY_SUBSKIN_L4_NRT_010_036")
</code></pre>

<hr>
<h2 id='cms_download_stac'>List and get STAC files for a Copernicus marine product</h2><span id='topic+cms_download_stac'></span><span id='topic+cms_list_stac_files'></span><span id='topic+cms_stac_properties'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Full marine data sets can be downloaded using the
SpatioTemporal Asset Catalogs (STAC). Use these functions to list download locations and get
the files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_download_stac(
  file_tibble,
  destination,
  show_progress = TRUE,
  overwrite = FALSE
)

cms_list_stac_files(product, layer)

cms_stac_properties(product, layer)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_download_stac_+3A_file_tibble">file_tibble</code></td>
<td>
<p>A <code><a href="dplyr.html#topic+reexports">dplyr::tibble()</a></code> with in each row the files to be downloaded.
Should be created with <code><a href="#topic+cms_list_stac_files">cms_list_stac_files()</a></code>.</p>
</td></tr>
<tr><td><code id="cms_download_stac_+3A_destination">destination</code></td>
<td>
<p>A <code>character</code> string representing the path location where the downloaded
files should be stored.</p>
</td></tr>
<tr><td><code id="cms_download_stac_+3A_show_progress">show_progress</code></td>
<td>
<p>A <code>logical</code> value. When <code>TRUE</code> (default) the download progress will be shown.
This can be useful for large files.</p>
</td></tr>
<tr><td><code id="cms_download_stac_+3A_overwrite">overwrite</code></td>
<td>
<p>A <code>logical</code> value. When <code>FALSE</code> (default), files at the <code>destination</code> won't be
overwritten when the exist. Instead an error will be thrown if this is the case. When set to
<code>TRUE</code>, existing files will be overwritten.</p>
</td></tr>
<tr><td><code id="cms_download_stac_+3A_product">product</code></td>
<td>
<p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="#topic+cms_products_list">cms_products_list</a></code>.</p>
</td></tr>
<tr><td><code id="cms_download_stac_+3A_layer">layer</code></td>
<td>
<p>The name of a desired layer within a product (type <code>character</code>). Can be obtained with <code><a href="#topic+cms_product_details">cms_product_details</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>In case of <code>cms_stac_properties</code> a <code><a href="dplyr.html#topic+reexports">dplyr::tibble()</a></code> is returned with some
product properties, It is used as precursor for <code>cms_list_stac_files</code>.
In case of <code>cms_list_stac_files</code> a <code><a href="dplyr.html#topic+reexports">dplyr::tibble()</a></code> is returned containing
available URLs (for the specified <code>product</code> and <code>layer</code>) and some meta information is returned.
In case of <code>cms_download_stac</code> an invisible <code>logical</code> value is returned, indicating whether
all requested files are successfully stored at the <code>destination</code> path. A <code>list</code> of responses
(of class <code><a href="httr2.html#topic+response">httr2::response()</a></code>) for all requested download links is included as attribute
to the result.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## List some STAC properties for a specific product and layer
cms_stac_properties(
  product       = "GLOBAL_ANALYSISFORECAST_PHY_001_024",
  layer         = "cmems_mod_glo_phy-cur_anfc_0.083deg_P1D-m"
)

## Get the available files for a specific product and layer:
file_tibble &lt;-
  cms_list_stac_files("GLOBAL_ANALYSISFORECAST_PHY_001_024",
                      "cmems_mod_glo_phy-cur_anfc_0.083deg_P1D-m")

dest &lt;- tempdir()

## download the first file from the file_tibble to 'dest'
cms_download_stac(file_tibble[1,, drop = FALSE], dest)

## End(Not run)
</code></pre>

<hr>
<h2 id='cms_download_subset'>Subset and download a specific marine product from Copernicus</h2><span id='topic+cms_download_subset'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Subset and download a specific marine product from Copernicus.
You need to register an account
at <a href="https://data.marine.copernicus.eu">https://data.marine.copernicus.eu</a> before you can use this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_download_subset(
  username = getOption("CopernicusMarine_uid", ""),
  password = getOption("CopernicusMarine_pwd", ""),
  destination,
  product,
  layer,
  variable,
  region,
  timerange,
  verticalrange,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_download_subset_+3A_username">username</code></td>
<td>
<p>Your Copernicus marine user name. Can be provided as
<code>options(CopernicusMarine_uid = "my_user_name")</code>, or as argument here.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_password">password</code></td>
<td>
<p>Your Copernicus marine password. Can be provided as
<code>options(CopernicusMarine_pwd = "my_password")</code>, or as argument here.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_destination">destination</code></td>
<td>
<p>File or path where the requested file will be downloaded to.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_product">product</code></td>
<td>
<p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="#topic+cms_products_list">cms_products_list</a></code>.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_layer">layer</code></td>
<td>
<p>The name of a desired layer within a product (type <code>character</code>). Can be obtained with <code><a href="#topic+cms_product_details">cms_product_details</a></code>.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_variable">variable</code></td>
<td>
<p>The name of a desired variable in a specific layer of a product (type <code>character</code>).
Can be obtained with <code><a href="#topic+cms_product_details">cms_product_details</a></code>.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_region">region</code></td>
<td>
<p>Specification of the bounding box as a <code>vector</code> of <code>numeric</code>s WGS84 lat and lon coordinates.
Should be in the order of: xmin, ymin, xmax, ymax.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_timerange">timerange</code></td>
<td>
<p>A <code>vector</code> with two elements (lower and upper value)
for a requested time range. The <code>vector</code> should be coercible to <code>POSIXct</code>.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_verticalrange">verticalrange</code></td>
<td>
<p>A <code>vector</code> with two elements (minimum and maximum)
numerical values for the depth of the vertical layers (if any). Note that values below the
sea surface needs to be specified as negative values.</p>
</td></tr>
<tr><td><code id="cms_download_subset_+3A_overwrite">overwrite</code></td>
<td>
<p>A <code>logical</code> value. When <code>FALSE</code> (default), files at the <code>destination</code> won't be
overwritten when the exist. Instead an error will be thrown if this is the case. When set to
<code>TRUE</code>, existing files will be overwritten.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>logical</code> value invisibly indicating whether the requested file was
successfully stored at the <code>destination</code>.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
destination &lt;- tempfile("copernicus", fileext = ".nc")

## Assuming that Copernicus account details are provided as `options`
cms_download_subset(
  destination   = destination,
  product       = "GLOBAL_ANALYSISFORECAST_PHY_001_024",
  layer         = "cmems_mod_glo_phy-cur_anfc_0.083deg_P1D-m",
  variable      = "sea_water_velocity",
  region        = c(-1, 50, 10, 55),
  timerange     = c("2021-01-01 UTC", "2021-01-02 UTC"),
  verticalrange = c(0, -2)
)

mydata &lt;- stars::read_stars(destination)

plot(mydata["vo"])

## End(Not run)
</code></pre>

<hr>
<h2 id='cms_login'>Contact Copernicus Marine login page</h2><span id='topic+cms_login'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Contact Copernicus Marine login page
and check if login is successful.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_login(
  username = getOption("CopernicusMarine_uid", ""),
  password = getOption("CopernicusMarine_pwd", "")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_login_+3A_username">username</code></td>
<td>
<p>Your Copernicus marine user name. Can be provided as
<code>options(CopernicusMarine_uid = "my_user_name")</code>, or as argument here.</p>
</td></tr>
<tr><td><code id="cms_login_+3A_password">password</code></td>
<td>
<p>Your Copernicus marine password. Can be provided as
<code>options(CopernicusMarine_pwd = "my_password")</code>, or as argument here.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will return a logical value indicating if the login is successful.
It can be used to test your account details.
</p>


<h3>Value</h3>

<p>Returns a <code>logical</code> value indicating if the login is successful.
The response from the login page is returned as an attribute named <code>response</code>.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## This will return FALSE if you have not set your account details with 'options'.
## If you have specified your account details and there are no other problems,
## it will return TRUE.
cms_login()

## End(Not run)
</code></pre>

<hr>
<h2 id='cms_product_details'>Obtain details for a specific Copernicus marine product</h2><span id='topic+cms_product_details'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Obtain details for a specific Copernicus marine product. This can be
narrowed down to specific layers and/or variables within the product.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_product_details(
  product,
  layer,
  variable,
  variant = c("", "detailed-v2", "detailed-v3")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_product_details_+3A_product">product</code></td>
<td>
<p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="#topic+cms_products_list">cms_products_list</a></code>.</p>
</td></tr>
<tr><td><code id="cms_product_details_+3A_layer">layer</code></td>
<td>
<p>The name of a desired layer within a product (type <code>character</code>). Can be obtained with <code><a href="#topic+cms_product_details">cms_product_details</a></code>.</p>
</td></tr>
<tr><td><code id="cms_product_details_+3A_variable">variable</code></td>
<td>
<p>The name of a desired variable in a specific layer of a product (type <code>character</code>).
Can be obtained with <code><a href="#topic+cms_product_details">cms_product_details</a></code>.</p>
</td></tr>
<tr><td><code id="cms_product_details_+3A_variant">variant</code></td>
<td>
<p>A <code>character</code> string indicating the type of details that should be returned.
Should be one of <code>""</code> (default), <code>"detailed-v2"</code>, or <code>"detailed-v3"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a named <code>list</code> with properties of the requested product.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>See Also</h3>

<p>Other product-functions: 
<code><a href="#topic+cms_cite_product">cms_cite_product</a>()</code>,
<code><a href="#topic+cms_product_metadata">cms_product_metadata</a>()</code>,
<code><a href="#topic+cms_product_services">cms_product_services</a>()</code>,
<code><a href="#topic+cms_products_list">cms_products_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cms_product_details("GLOBAL_ANALYSISFORECAST_PHY_001_024")

cms_product_details(
  product  = "GLOBAL_ANALYSISFORECAST_PHY_001_024",
  layer    = "cmems_mod_glo_phy-thetao_anfc_0.083deg_P1D-m",
  variable = "thetao"
)
</code></pre>

<hr>
<h2 id='cms_product_metadata'>Obtain meta data for a specific Copernicus marine product</h2><span id='topic+cms_product_metadata'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Collect meta information, such as vocabularies used,
for specific Copernicus marine products
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_product_metadata(product, type = c("list", "xml"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_product_metadata_+3A_product">product</code></td>
<td>
<p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="#topic+cms_products_list">cms_products_list</a></code>.</p>
</td></tr>
<tr><td><code id="cms_product_metadata_+3A_type">type</code></td>
<td>
<p>A <code>character</code> string indicating how the data should be returned. Should be one of
<code>"list"</code> or <code>"xml"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a named <code>list</code> (when <code>type = "list"</code>) with info about the requested <code>product</code>.
Returns the same info as <code>xml_document</code> (see <code><a href="xml2.html#topic+xml_new_document">xml2::xml_new_document()</a></code>) when <code>type = "xml"</code>.
Returns <code>NULL</code> when contacting Copernicus fails.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>See Also</h3>

<p>Other product-functions: 
<code><a href="#topic+cms_cite_product">cms_cite_product</a>()</code>,
<code><a href="#topic+cms_product_details">cms_product_details</a>()</code>,
<code><a href="#topic+cms_product_services">cms_product_services</a>()</code>,
<code><a href="#topic+cms_products_list">cms_products_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cms_product_metadata("GLOBAL_ANALYSISFORECAST_PHY_001_024")
</code></pre>

<hr>
<h2 id='cms_product_services'>Obtain available services for a specific Copernicus marine product</h2><span id='topic+cms_product_services'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Obtain an overview of services provided by Copernicus
for a specific marine product.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_product_services(product)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_product_services_+3A_product">product</code></td>
<td>
<p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="#topic+cms_products_list">cms_products_list</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>tibble</code> with a list of available services for a
Copernicus marine <code>product</code>.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>See Also</h3>

<p>Other product-functions: 
<code><a href="#topic+cms_cite_product">cms_cite_product</a>()</code>,
<code><a href="#topic+cms_product_details">cms_product_details</a>()</code>,
<code><a href="#topic+cms_product_metadata">cms_product_metadata</a>()</code>,
<code><a href="#topic+cms_products_list">cms_products_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cms_product_services("GLOBAL_ANALYSISFORECAST_PHY_001_024")
</code></pre>

<hr>
<h2 id='cms_products_list'>List products available from data.marine.copernicus.eu</h2><span id='topic+cms_products_list'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Collect a list of products and some brief
descriptions for marine products available from Copernicus
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_products_list(..., info_type = c("list", "meta"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_products_list_+3A_...">...</code></td>
<td>
<p>Allows you to pass (search) query parameters to apply to the list.
When omitted, the full list of products is returned.</p>
</td></tr>
<tr><td><code id="cms_products_list_+3A_info_type">info_type</code></td>
<td>
<p>One of <code>"list"</code> (default) or <code>"meta"</code>. <code>"list"</code> returns the actual list
whereas <code>"meta"</code> returns meta information for the executed query (e.g. number of hits).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>tibble</code> of products available from <a href="https://data.marine.copernicus.eu">https://data.marine.copernicus.eu</a> or
a named <code>list</code> when <code>info_type = "meta"</code>. Returns <code>NULL</code> in case on-line services are
unavailable.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>See Also</h3>

<p>Other product-functions: 
<code><a href="#topic+cms_cite_product">cms_cite_product</a>()</code>,
<code><a href="#topic+cms_product_details">cms_product_details</a>()</code>,
<code><a href="#topic+cms_product_metadata">cms_product_metadata</a>()</code>,
<code><a href="#topic+cms_product_services">cms_product_services</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cms_products_list()

## Query a specific product:
cms_products_list(freeText = "GLOBAL_ANALYSISFORECAST_PHY_001_024")
</code></pre>

<hr>
<h2 id='cms_wmts_details'>Obtain a WMTS entry for specific Copernicus marine products and add to a leaflet map</h2><span id='topic+cms_wmts_details'></span><span id='topic+addCmsWMTSTiles'></span><span id='topic+cms_wmts_get_capabilities'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> Functions for retrieving Web Map Tile Services information for
specific products, layers and variables and add them to a <code>leaflet</code> map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cms_wmts_details(product, layer, variable)

addCmsWMTSTiles(
  map,
  product,
  layer,
  variable,
  tilematrixset = "EPSG:3857",
  options = leaflet::WMSTileOptions(format = "image/png", transparent = TRUE),
  ...
)

cms_wmts_get_capabilities(product, layer, variable, type = c("list", "xml"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cms_wmts_details_+3A_product">product</code></td>
<td>
<p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="#topic+cms_products_list">cms_products_list</a></code>.</p>
</td></tr>
<tr><td><code id="cms_wmts_details_+3A_layer">layer</code></td>
<td>
<p>The name of a desired layer within a product (type <code>character</code>). Can be obtained with <code><a href="#topic+cms_product_details">cms_product_details</a></code>.</p>
</td></tr>
<tr><td><code id="cms_wmts_details_+3A_variable">variable</code></td>
<td>
<p>The name of a desired variable in a specific layer of a product (type <code>character</code>).
Can be obtained with <code><a href="#topic+cms_product_details">cms_product_details</a></code>.</p>
</td></tr>
<tr><td><code id="cms_wmts_details_+3A_map">map</code></td>
<td>
<p>A map widget object created from <code><a href="leaflet.html#topic+leaflet">leaflet::leaflet()</a></code></p>
</td></tr>
<tr><td><code id="cms_wmts_details_+3A_tilematrixset">tilematrixset</code></td>
<td>
<p>A <code>character</code> string representing the tilematrixset to be used. In
many cases <code>"EPSG:3857"</code> (Pseudo-Mercator) or <code>"EPSG:4326"</code> (World Geodetic System 1984)
are available, but should be checked with <code>cms_wmts_details</code>.</p>
</td></tr>
<tr><td><code id="cms_wmts_details_+3A_options">options</code></td>
<td>
<p>Passed on to <code><a href="leaflet.html#topic+map-layers">leaflet::addWMSTiles()</a></code>.</p>
</td></tr>
<tr><td><code id="cms_wmts_details_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="leaflet.html#topic+map-layers">leaflet::addWMSTiles()</a></code>.</p>
</td></tr>
<tr><td><code id="cms_wmts_details_+3A_type">type</code></td>
<td>
<p>A <code>character</code> string indicating whether the capabilities should be returned
as <code>"list"</code> (default) or <code>"xml"</code> (<code><a href="xml2.html#topic+xml_new_document">xml2::xml_new_document()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>cms_wmts_details</code> returns a tibble with detains on the WMTS service.
<code>cms_wmts_getcapabilities</code> returns either a <code>list</code> or <code>xml_document</code> depending on the value
of <code>type</code>. <code>AddCmsWMTSTiles</code> returns a <code>leaflet</code> <code>map</code> updated with the requested tiles.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>wmts_details &lt;-
  cms_wmts_details(
    product  = "GLOBAL_ANALYSISFORECAST_PHY_001_024",
    layer    = "cmems_mod_glo_phy-thetao_anfc_0.083deg_P1D-m",
    variable = "thetao"
  )

cms_wmts_get_capabilities("GLOBAL_ANALYSISFORECAST_PHY_001_024")

if (interactive() &amp;&amp; nrow(wmts_details) &gt; 0) {
  leaflet::leaflet() |&gt;
    leaflet::setView(lng = 3, lat = 54, zoom = 4) |&gt;
    leaflet::addProviderTiles("Esri.WorldImagery") |&gt;
    addCmsWMTSTiles(
      product  = "GLOBAL_ANALYSISFORECAST_PHY_001_024",
      layer    = "cmems_mod_glo_phy-thetao_anfc_0.083deg_P1D-m",
      variable = "thetao")
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package log</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {log}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#checkInstalled'><p>Check Installed</p></a></li>
<li><a href='#inputLogger'><p>Input logger</p></a></li>
<li><a href='#is.log'><p>Log Check</p></a></li>
<li><a href='#Logger'><p>Logger</p></a></li>
<li><a href='#plumber'><p>Plumber</p></a></li>
<li><a href='#shiny'><p>Default Logger for Shiny.</p></a></li>
<li><a href='#templates'><p>Template Loggers</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Record Events and Issues</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Logger to keep track of informational events and errors useful for debugging.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6, cli, crayon</td>
</tr>
<tr>
<td>Suggests:</td>
<td>shiny, plumber, testthat (&ge; 3.0.0), covr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/devOpifex/log/issues/">https://github.com/devOpifex/log/issues/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-02-24 19:20:46 UTC; john</td>
</tr>
<tr>
<td>Author:</td>
<td>John Coene [aut, cre],
  Opifex [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Coene &lt;john@opifex.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-24 19:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='checkInstalled'>Check Installed</h2><span id='topic+checkInstalled'></span>

<h3>Description</h3>

<p>Check that package is installed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkInstalled(pkg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkInstalled_+3A_pkg">pkg</code></td>
<td>
<p>Package name.</p>
</td></tr>
</table>

<hr>
<h2 id='inputLogger'>Input logger</h2><span id='topic+inputLogger'></span>

<h3>Description</h3>

<p>Default logger used to log inputs in <code><a href="#topic+logApp">logApp()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inputLogger
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Logger</code> (inherits from <code>R6</code>) of length 13.
</p>

<hr>
<h2 id='is.log'>Log Check</h2><span id='topic+is.log'></span>

<h3>Description</h3>

<p>Log Check
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.log(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.log_+3A_obj">obj</code></td>
<td>
<p>Object to check.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if object is a logger,
and <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>info &lt;- Logger$new("INFO")
is.log(info)

</code></pre>

<hr>
<h2 id='Logger'>Logger</h2><span id='topic+Logger'></span>

<h3>Description</h3>

<p>Create a logger.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>printer</code></dt><dd><p>A callback function to write the message
to the console, must accept a single argument,
defaults to <code>cat</code>.</p>
</dd>
<dt><code>predicate</code></dt><dd><p>A predicate function that determines whether
to actually run the log, useful if you want to switch the
logger on and off for debugging.
</p>
<p>If the function returns <code>TRUE</code> the logger runs as normal,
if <code>FALSE</code> the logger does not actually print, write or
dump the messages.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>Logger$new()</code></a>
</p>
</li>
<li> <p><a href="#method-date"><code>Logger$date()</code></a>
</p>
</li>
<li> <p><a href="#method-time"><code>Logger$time()</code></a>
</p>
</li>
<li> <p><a href="#method-unix"><code>Logger$unix()</code></a>
</p>
</li>
<li> <p><a href="#method-hook"><code>Logger$hook()</code></a>
</p>
</li>
<li> <p><a href="#method-dir"><code>Logger$dir()</code></a>
</p>
</li>
<li> <p><a href="#method-flag"><code>Logger$flag()</code></a>
</p>
</li>
<li> <p><a href="#method-log"><code>Logger$log()</code></a>
</p>
</li>
<li> <p><a href="#method-dump"><code>Logger$dump()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>Logger$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$new(prefix = NULL, write = FALSE, file = "log.log", sep = "\t")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>prefix</code></dt><dd><p>String to prefix all log messages.</p>
</dd>
<dt><code>write</code></dt><dd><p>Whether to write the log to the <code>file</code>.</p>
</dd>
<dt><code>file</code></dt><dd><p>Name of the file to dump the logs to,
only used if <code>write</code> is <code>TRUE</code>.</p>
</dd>
<dt><code>sep</code></dt><dd><p>Separator between <code>prefix</code> and other flags
and messages.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Initialise
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>info &lt;- Logger$new("INFO")
info$log("hello")
</pre>
</div>


<hr>
<a id="method-date"></a>



<h4>Method <code>date()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$date(format = "%d-%m-%Y")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>format</code></dt><dd><p>Formatter for the item, passed
to <code><a href="base.html#topic+format">format()</a></code>.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Include the date in the log
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>info &lt;- Logger$new("INFO")$date()
info$log("today")
</pre>
</div>


<hr>
<a id="method-time"></a>



<h4>Method <code>time()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$time(format = "%H:%M:%S")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>format</code></dt><dd><p>Formatter for the item, passed
to <code><a href="base.html#topic+format">format()</a></code>.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Include the time in the log
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>info &lt;- Logger$new("INFO")$time()
info$log("now")
</pre>
</div>


<hr>
<a id="method-unix"></a>



<h4>Method <code>unix()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$unix()</pre></div>



<h5>Details</h5>

<p>Include the time in the log
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>info &lt;- Logger$new("INFO")$unix()
info$log("timestamp")
</pre>
</div>


<hr>
<a id="method-hook"></a>



<h4>Method <code>hook()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$hook(fn)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>fn</code></dt><dd><p>A function that accepts one argument (string)
and returns a modified version of that string.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Preprocess the prefix with a custom function
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>err &lt;- Logger$new("INFO")$hook(crayon::red)
err$log("hello")
</pre>
</div>


<hr>
<a id="method-dir"></a>



<h4>Method <code>dir()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$dir()</pre></div>



<h5>Details</h5>

<p>Include the directory in the log
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>info &lt;- Logger$new("INFO")$dir()
info$log("directory")
</pre>
</div>


<hr>
<a id="method-flag"></a>



<h4>Method <code>flag()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$flag(what)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>what</code></dt><dd><p>Function to run for every message logged
or string to include in log message.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Pass a custom flag
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>fl &lt;- function(){
 paste0(sample(letters, 4), collapse = "")
}

info &lt;- Logger$new("INFO")$flag(fl)
info$log("random")
</pre>
</div>


<hr>
<a id="method-log"></a>



<h4>Method <code>log()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$log(..., sep = " ", collapse = " ")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Elements to compose message.</p>
</dd>
<dt><code>sep, collapse</code></dt><dd><p>Separators passed to <code><a href="base.html#topic+paste">paste()</a></code>.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Log messages
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>info &lt;- Logger$new("INFO")
info$log("Logger")
</pre>
</div>


<hr>
<a id="method-dump"></a>



<h4>Method <code>dump()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Logger$dump(file = "dump.log")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>file</code></dt><dd><p>Name of the file to dump the logs to.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Dump the log to a file
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>info &lt;- Logger$new("INFO")
info$log("hello")
\dontrun{info$dump()}
</pre>
</div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>info &lt;- Logger$new("INFO")$
 date()$
 time()$
 hook(crayon::blue)

info$log("Hello")
Sys.sleep(.7)
info$log("World")


## ------------------------------------------------
## Method `Logger$new`
## ------------------------------------------------

info &lt;- Logger$new("INFO")
info$log("hello")

## ------------------------------------------------
## Method `Logger$date`
## ------------------------------------------------

info &lt;- Logger$new("INFO")$date()
info$log("today")

## ------------------------------------------------
## Method `Logger$time`
## ------------------------------------------------

info &lt;- Logger$new("INFO")$time()
info$log("now")

## ------------------------------------------------
## Method `Logger$unix`
## ------------------------------------------------

info &lt;- Logger$new("INFO")$unix()
info$log("timestamp")

## ------------------------------------------------
## Method `Logger$hook`
## ------------------------------------------------

err &lt;- Logger$new("INFO")$hook(crayon::red)
err$log("hello")

## ------------------------------------------------
## Method `Logger$dir`
## ------------------------------------------------

info &lt;- Logger$new("INFO")$dir()
info$log("directory")

## ------------------------------------------------
## Method `Logger$flag`
## ------------------------------------------------

fl &lt;- function(){
 paste0(sample(letters, 4), collapse = "")
}

info &lt;- Logger$new("INFO")$flag(fl)
info$log("random")

## ------------------------------------------------
## Method `Logger$log`
## ------------------------------------------------

info &lt;- Logger$new("INFO")
info$log("Logger")

## ------------------------------------------------
## Method `Logger$dump`
## ------------------------------------------------

info &lt;- Logger$new("INFO")
info$log("hello")
## Not run: info$dump()
</code></pre>

<hr>
<h2 id='plumber'>Plumber</h2><span id='topic+plumber'></span><span id='topic+prLog'></span><span id='topic+prWithLog'></span>

<h3>Description</h3>

<p>Serve a plumber API with metrics, use this function
like you would use <code><a href="plumber.html#topic+pr">plumber::pr()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prLog(file = NULL, ..., requests = requestLogger)

prWithLog(pr, requests = requestLogger)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plumber_+3A_file">file</code></td>
<td>
<p>Plumber file as passed to <code><a href="plumber.html#topic+pr">plumber::pr()</a></code>.</p>
</td></tr>
<tr><td><code id="plumber_+3A_...">...</code></td>
<td>
<p>Any other argument to pass to <code><a href="plumber.html#topic+pr">plumber::pr()</a></code>.</p>
</td></tr>
<tr><td><code id="plumber_+3A_requests">requests</code></td>
<td>
<p>Logger to log requests, set to <code>NULL</code> to not log.</p>
</td></tr>
<tr><td><code id="plumber_+3A_pr">pr</code></td>
<td>
<p>Plumber API as returned by <code><a href="plumber.html#topic+pr">plumber::pr()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='shiny'>Default Logger for Shiny.</h2><span id='topic+shiny'></span><span id='topic+logApp'></span><span id='topic+shinyWithLog'></span>

<h3>Description</h3>

<p>Serve a shiny application with default loggers,
useful for debugging.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logApp(ui, server, ..., inputs = inputLogger)

shinyWithLog(app, inputs = inputLogger)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shiny_+3A_ui">ui</code>, <code id="shiny_+3A_server">server</code></td>
<td>
<p>UI definition and server function
as passed to <code><a href="shiny.html#topic+shinyApp">shiny::shinyApp()</a></code>.</p>
</td></tr>
<tr><td><code id="shiny_+3A_...">...</code></td>
<td>
<p>Any other arguments passed to <code><a href="shiny.html#topic+shinyApp">shiny::shinyApp()</a></code>.</p>
</td></tr>
<tr><td><code id="shiny_+3A_inputs">inputs</code></td>
<td>
<p>Logger to log inputs, set to <code>NULL</code> to not log.</p>
</td></tr>
<tr><td><code id="shiny_+3A_app">app</code></td>
<td>
<p>Shiny application as returned by <code><a href="shiny.html#topic+shinyApp">shiny::shinyApp()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='templates'>Template Loggers</h2><span id='topic+templates'></span><span id='topic+infoLog'></span><span id='topic+errorLog'></span><span id='topic+warningLog'></span><span id='topic+successLog'></span>

<h3>Description</h3>

<p>Template loggers for convenience.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>infoLog(prefix = "INFO")

errorLog(prefix = "ERROR")

warningLog(prefix = "WARNING")

successLog(prefix = "SUCCESS")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="templates_+3A_prefix">prefix</code></td>
<td>
<p>The prefix to use, this is passed to <a href="#topic+Logger">Logger</a>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>info &lt;- infoLog()
info$log("Information")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

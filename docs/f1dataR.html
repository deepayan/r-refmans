<!DOCTYPE html><html><head><title>Help for package f1dataR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {f1dataR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_col_if_absent'><p>Add Column if Absent</p></a></li>
<li><a href='#change_cache'><p>Change Caching Settings</p></a></li>
<li><a href='#check_ff1_session_loaded'><p>Check FastF1 Session Loaded</p></a></li>
<li><a href='#check_ff1_version'><p>Check FastF1 Version</p></a></li>
<li><a href='#clear_f1_cache'><p>Clear f1dataR Cache</p></a></li>
<li><a href='#constructor_data'><p>Constructor Data</p></a></li>
<li><a href='#correct_track_ratio'><p>Correct Track Ratios</p></a></li>
<li><a href='#get_current_season'><p>Get Current Season</p></a></li>
<li><a href='#get_driver_telemetry'><p>Load Telemetry Data for a Driver</p></a></li>
<li><a href='#get_ergast_content'><p>Get Ergast Content</p></a></li>
<li><a href='#get_fastf1_version'><p>Get current FastF1 version</p></a></li>
<li><a href='#load_circuit_details'><p>Load Circuit Information</p></a></li>
<li><a href='#load_circuits'><p>Load Circuit Info</p></a></li>
<li><a href='#load_constructors'><p>Load Constructor Info</p></a></li>
<li><a href='#load_driver_telemetry'><p>Load Telemetry Data for a Driver</p></a></li>
<li><a href='#load_drivers'><p>Load Driver Info</p></a></li>
<li><a href='#load_laps'><p>Load Lap by Lap Time Data</p></a></li>
<li><a href='#load_pitstops'><p>Load Pitstop Data</p></a></li>
<li><a href='#load_quali'><p>Load Qualifying Results</p></a></li>
<li><a href='#load_race_session'><p>Load Session Data</p></a></li>
<li><a href='#load_results'><p>Load Results</p></a></li>
<li><a href='#load_schedule'><p>Load Schedule</p></a></li>
<li><a href='#load_session_laps'><p>Load Lapwise Data</p></a></li>
<li><a href='#load_sprint'><p>Load Sprint Results</p></a></li>
<li><a href='#load_standings'><p>Load Standings</p></a></li>
<li><a href='#plot_fastest'><p>Plot Fastest Lap</p></a></li>
<li><a href='#setup_fastf1'><p>Setup fastf1 connection</p></a></li>
<li><a href='#theme_dark_f1'><p>Dark F1-style Theme for ggplot</p></a></li>
<li><a href='#time_to_sec'><p>Convert Clock time to seconds</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Access Formula 1 Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Obtain Formula 1 data via the 'Ergast API' <a href="https://ergast.com/mrd/">https://ergast.com/mrd/</a> and the unofficial API <a href="https://www.formula1.com/en/f1-live.html">https://www.formula1.com/en/f1-live.html</a> via the 'fastf1' 'Python' library <a href="https://docs.fastf1.dev/">https://docs.fastf1.dev/</a>.</td>
</tr>
<tr>
<td>Config/reticulate:</td>
<td>list( packages = list( list(package = "fastf1", pip
= TRUE) ) )</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), reticulate (&ge; 1.14),</td>
</tr>
<tr>
<td>Imports:</td>
<td>glue, magrittr, tibble, jsonlite, httr2, memoise, janitor,
dplyr, tidyr, rlang, lifecycle, cli, rappdirs, cachem, withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, httptest2, knitr, rmarkdown, testthat (&ge; 3.0.0),
usethis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://scasanova.github.io/f1dataR/">https://scasanova.github.io/f1dataR/</a>,
<a href="https://github.com/SCasanova/f1dataR">https://github.com/SCasanova/f1dataR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/SCasanova/f1dataR/issues">https://github.com/SCasanova/f1dataR/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-12 02:34:22 UTC; santiagocasanova</td>
</tr>
<tr>
<td>Author:</td>
<td>Santiago Casanova [aut, cre, cph],
  Philip Bulsink <a href="https://orcid.org/0000-0001-9668-2429"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Santiago Casanova &lt;santiago.casanova@yahoo.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-12 04:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_col_if_absent'>Add Column if Absent</h2><span id='topic+add_col_if_absent'></span>

<h3>Description</h3>

<p>Adds a column (with the name specified in column_name) of NA values to a data.frame or tibble. If that
column already exists, no change will be made to data. NA value type (character, integer, real, logical)
may be specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_col_if_absent(data, column_name, na_type = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_col_if_absent_+3A_data">data</code></td>
<td>
<p>a data.frame or tibble to which a column may be added</p>
</td></tr>
<tr><td><code id="add_col_if_absent_+3A_column_name">column_name</code></td>
<td>
<p>the name of the column to be added if it doesn't exist</p>
</td></tr>
<tr><td><code id="add_col_if_absent_+3A_na_type">na_type</code></td>
<td>
<p>the type of NA value to use for the column values. Default to basic <code>NA</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>the data.frame as provided (converted to tibble)
</p>

<hr>
<h2 id='change_cache'>Change Caching Settings</h2><span id='topic+change_cache'></span>

<h3>Description</h3>

<p>Change caching settings for the package. By default, the cache will be
set to keep the results of function calls in memory to reduce the number of requests
made to online services for the same data. However, if preferred, the cache can be
set to a file directory to make the results persist between sessions.
</p>
<p>This is a particularly good idea if you're using functions like <code>load_driver_telemetry()</code>,
<code>load_session_laps()</code>, <code>load_race_session()</code> or <code>plot_fastest()</code> as they take
significant time and download large amounts of data each time you run the function.
</p>
<p>If preferred for testing or waiting for data updates on race weekends, you may wish to
set the cache to <code>'off'</code> instead.
</p>
<p>Changes to cache can be made for the session (mark the argument <code>persist</code> as <code>FALSE</code>)
or apply to the next session(s) by setting <code>persist</code> to <code>TRUE</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>change_cache(cache = "memory", create_dir = FALSE, persist = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="change_cache_+3A_cache">cache</code></td>
<td>
<p>One of <code>'memory'</code>, <code>'filesystem'</code>, <code>'off'</code> or a directory.
</p>
<p>If the selection is <code>'filesystem'</code> the package will automatically write the cache to
the operating system's default location for permanent or temporary caches (see <code>persist</code>)</p>
</td></tr>
<tr><td><code id="change_cache_+3A_create_dir">create_dir</code></td>
<td>
<p>Whether to create the directory if it doesn't already exist if
a path cache directory is provided. By default this doesn't occur for provided
cache paths, but will always happen if the cache choice is set to <code>'filesystem'</code>.</p>
</td></tr>
<tr><td><code id="change_cache_+3A_persist">persist</code></td>
<td>
<p>Whether to make this change permanent (<code>TRUE</code>) or a temporary cache
change only (default, <code>FALSE</code>). Note if you set <code>cache</code> to <code>'off'</code> and <code>persist</code> to
<code>TRUE</code> the existing cache will be cleared by calling <code>clear_cache()</code>.
</p>
<p>If <code>filesystem</code> is chosen for <code>cache</code> and <code>persist</code> is set to <code>TRUE</code>, then a cache
directory will be placed in the default location for the operating system. If instead
<code>persist</code> is set to <code>FALSE</code>, then a temporary directory will be used instead, and this
will be removed at the end of the session. This essentially has the same effect as
having <code>cache</code> set to <code>'memory'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
change_cache("~/f1dataRcache", create_dir = TRUE)

change_cache("off", persist = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='check_ff1_session_loaded'>Check FastF1 Session Loaded</h2><span id='topic+check_ff1_session_loaded'></span>

<h3>Description</h3>

<p>Used to verify that the fastf1 session is loaded before trying to work with it.
</p>
<p>Prevents errors in automated processing code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_ff1_session_loaded(session_name = "session")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_ff1_session_loaded_+3A_session_name">session_name</code></td>
<td>
<p>Name of the python session object. For internal functions, typically <code>session</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible TRUE, no real return, called for effect
</p>

<hr>
<h2 id='check_ff1_version'>Check FastF1 Version</h2><span id='topic+check_ff1_version'></span>

<h3>Description</h3>

<p>This function checks the version of <code>FastF1</code> and ensures it's at or above the minimum supported version for
<code>f1dataR</code> (currently requires 3.1.0 or better).
</p>
<p>This function is a light wrapper around get_fastf1_version()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_ff1_version()
</code></pre>


<h3>Value</h3>

<p>Invisibly <code>TRUE</code> if not raising an error for unsupported <code>FastF1</code> version.
</p>

<hr>
<h2 id='clear_f1_cache'>Clear f1dataR Cache</h2><span id='topic+clear_f1_cache'></span><span id='topic+clear_cache'></span>

<h3>Description</h3>

<p>Clears the cache for f1dataR telemetry and Ergast API results.
Note that the cache directory can be set by setting <code style="white-space: pre;">&#8288;option(f1dataR.cache = [cache dir])&#8288;</code>,
but the default is a temporary directory.
</p>
<p>You can also call the alias <code>clear_cache()</code> for the same result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_f1_cache()

clear_cache()
</code></pre>


<h3>Value</h3>

<p>No return value, called to erase cached data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
clear_f1_cache()

## End(Not run)
</code></pre>

<hr>
<h2 id='constructor_data'>Constructor Data</h2><span id='topic+constructor_data'></span>

<h3>Description</h3>

<p>This contains the following columns:
constructor_id, constructor_color, constructor_color2, constructor_logo
</p>


<h3>References</h3>

<p>derived from fastf1 data
</p>

<hr>
<h2 id='correct_track_ratio'>Correct Track Ratios</h2><span id='topic+correct_track_ratio'></span>

<h3>Description</h3>

<p>Correct Track Ratios helps ensure that ggplot objects are plotted with 1:1 unit ratio.
Without this function, plots have different x &amp; y ratios and the tracks come out misshapen.
This is particularly evident at long tracks like Saudi Arabia or Canada.
</p>
<p>Note that this leaves the plot object on a dark background, any plot borders will be maintained
</p>


<h3>Usage</h3>

<pre><code class='language-R'>correct_track_ratio(trackplot, x = "x", y = "y", background = "grey10")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="correct_track_ratio_+3A_trackplot">trackplot</code></td>
<td>
<p>A GGPlot object, ideally showing a track layout for ratio correction</p>
</td></tr>
<tr><td><code id="correct_track_ratio_+3A_x">x</code>, <code id="correct_track_ratio_+3A_y">y</code></td>
<td>
<p>Names of columns in the original data used for the plot's x and y values.
Defaults to 'x' and 'y'</p>
</td></tr>
<tr><td><code id="correct_track_ratio_+3A_background">background</code></td>
<td>
<p>Background colour to use for filling out the plot edges. Defaults to
<code>"grey10"</code> which is the default background colour if you use <code><a href="#topic+theme_dark_f1">theme_dark_f1</a>()</code>
to theme your plots.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object with <code>ggplot2::scale_x_continuous()</code> and <code>ggplot2::scale_y_continuous()</code> set to the
same limits to produce an image with shared x and y limits and with <code>ggplot2::coord_fixed()</code> set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Note that plot_fastest plots have already been ratio corrected
fast_plot &lt;- plot_fastest(season = 2022, round = 1, session = "Q", driver = V)
correct_track_ratio(fast_plot)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_current_season'>Get Current Season</h2><span id='topic+get_current_season'></span>

<h3>Description</h3>

<p>Determines current season by System Date. Note returns the season prior to the current year
in January and February
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_current_season()
</code></pre>


<h3>Value</h3>

<p>Year (four digit number) representation of current season, as numeric.
</p>

<hr>
<h2 id='get_driver_telemetry'>Load Telemetry Data for a Driver</h2><span id='topic+get_driver_telemetry'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p><code>get_driver_telemetry()</code> was renamed to <code>load_driver_telemetry()</code> to create a more
consistent API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_driver_telemetry(
  season = get_current_season(),
  round = 1,
  session = "R",
  driver,
  laps = "fastest",
  log_level = "WARNING",
  fastest_only = lifecycle::deprecated(),
  race = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_driver_telemetry_+3A_season">season</code></td>
<td>
<p>number from 2018 to current season (defaults to current season).</p>
</td></tr>
<tr><td><code id="get_driver_telemetry_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected). Also accepts race name.</p>
</td></tr>
<tr><td><code id="get_driver_telemetry_+3A_session">session</code></td>
<td>
<p>the code for the session to load Options are <code>'FP1'</code>, <code>'FP2'</code>, <code>'FP3'</code>,
<code>'Q'</code>, <code>'S'</code>, <code>'SS'</code>, and <code>'R'</code>. Default is <code>'R'</code>, which refers to Race.</p>
</td></tr>
<tr><td><code id="get_driver_telemetry_+3A_driver">driver</code></td>
<td>
<p>three letter driver code (see <code>load_drivers()</code> for a list)</p>
</td></tr>
<tr><td><code id="get_driver_telemetry_+3A_laps">laps</code></td>
<td>
<p>which lap's telemetry to return. One of an integer lap number (&lt;= total laps in the race), <code>fastest</code>,
or <code>all</code>. Note that integer lap choice requires <code>fastf1</code> version 3.0 or greater.</p>
</td></tr>
<tr><td><code id="get_driver_telemetry_+3A_log_level">log_level</code></td>
<td>
<p>Detail of logging from fastf1 to be displayed. Choice of:
<code>'DEBUG'</code>, <code>'INFO'</code>, <code>'WARNING'</code>, <code>'ERROR'</code> and <code>'CRITICAL'</code>. See <a href="https://docs.fastf1.dev/fastf1.html#configure-logging-verbosity">fastf1 documentation</a>.</p>
</td></tr>
<tr><td><code id="get_driver_telemetry_+3A_fastest_only">fastest_only</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>fastest_only</code> is no longer supported, indicated preferred
laps in <code>laps</code>.</p>
</td></tr>
<tr><td><code id="get_driver_telemetry_+3A_race">race</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>race</code> is no longer supported, use <code>round</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with telemetry data for selected driver/session.
</p>

<hr>
<h2 id='get_ergast_content'>Get Ergast Content</h2><span id='topic+get_ergast_content'></span>

<h3>Description</h3>

<p>Gets Ergast content and returns the processed json object if
no Ergast errors are found. This will automatically fall back from https://
to http:// if Ergast suffers errors, and will automatically retry up to 5
times by each protocol
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Note the Ergast Motor Racing Database API will shut down at the end of 2024.
This function willbe replaced with a new data-source when one is made available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_ergast_content(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_ergast_content_+3A_url">url</code></td>
<td>
<p>the Ergast URL tail to get from the API (for example,
<code>"{season}/circuits.json?limit=40"</code> is called from <code>load_circuits()</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the result of <code>jsonlite::fromJSON</code> called on Ergast's return content.
Further processing is performed by specific functions
</p>

<hr>
<h2 id='get_fastf1_version'>Get current FastF1 version</h2><span id='topic+get_fastf1_version'></span>

<h3>Description</h3>

<p>Gets the current installed FastF1 version available (via <code>reticulate</code>) to the function.
Displays a note if significantly out of date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fastf1_version()
</code></pre>


<h3>Value</h3>

<p>version as class <code>package_version</code>
</p>

<hr>
<h2 id='load_circuit_details'>Load Circuit Information</h2><span id='topic+load_circuit_details'></span>

<h3>Description</h3>

<p>Loads circuit details for a specific race session. Note that different track layouts are used at some
circuits depending on the year of the race.
</p>
<p>Useful for visualizing or annotating data. Contains information on corners, marshal_lights and marshal_sectors.
</p>
<p>Each set of these track marker types is returned as a tibble.
</p>
<p>Also returns an angle (in degrees) to indicate the amount of rotation of the telemetry to visually align the two.
</p>
<p>More information on the data provided (and uses) can be seen at https://docs.fastf1.dev/circuit_info.html#fastf1.mvapi.CircuitInfo.corners
</p>
<p>Note that this is an exposition of FastF1 data. As such, caching is recommended (and default behavior).
Cache directory can be set by setting <code style="white-space: pre;">&#8288;option(f1dataR.cache = [cache dir])&#8288;</code>,
default is the current working directory.
</p>
<p>If you have trouble with errors mentioning 'fastf1' or 'get_fastf1_version()' read the
'Setup FastF1 Connection vignette (run <code>vignette('setup_fastf1', 'f1dataR')</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_circuit_details(
  season = get_current_season(),
  round = 1,
  log_level = "WARNING"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_circuit_details_+3A_season">season</code></td>
<td>
<p>number from 2018 to current season. Defaults to current season.</p>
</td></tr>
<tr><td><code id="load_circuit_details_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected). Also accepts race name.</p>
</td></tr>
<tr><td><code id="load_circuit_details_+3A_log_level">log_level</code></td>
<td>
<p>Detail of logging from fastf1 to be displayed. Choice of:
<code>'DEBUG'</code>, <code>'INFO'</code>, <code>'WARNING'</code>, <code>'ERROR'</code> and <code>'CRITICAL'</code>. See
<a href="https://docs.fastf1.dev/fastf1.html#configure-logging-verbosity">fastf1 documentation</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tibbles containing corner number, marshall post number, or marshall segment, plus a numeric value for
rotational offset of the data compared to telemetry data.
</p>
<p>The tibbles all have the following structure:
<code>x</code> and <code>y</code> specify the position on the track map
<code>number</code> is the number of the corner. Letter is optionally used to differentiate corners with the same number on some circuits, e.g. “2A”.
<code>angle</code> is an angle in degrees, used to visually offset the marker’s placement on a track map in a logical direction (usually orthogonal to the track).
<code>distance</code> is the location of the marker as a distance from the start/finish line.
</p>

<hr>
<h2 id='load_circuits'>Load Circuit Info</h2><span id='topic+load_circuits'></span>

<h3>Description</h3>

<p>Loads circuit info for all circuits in a given season. Use <code>.load_circuits()</code>
for an uncached version of this function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_circuits(season = get_current_season())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_circuits_+3A_season">season</code></td>
<td>
<p>number from 1950 to current season (defaults to current season).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with one row per circuit
</p>

<hr>
<h2 id='load_constructors'>Load Constructor Info</h2><span id='topic+load_constructors'></span>

<h3>Description</h3>

<p>Loads constructor info for all participants in a given season.
Use <code>.load_constructors()</code>for an uncached version of this function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_constructors()
</code></pre>


<h3>Value</h3>

<p>A tibble with one row per constructor
</p>

<hr>
<h2 id='load_driver_telemetry'>Load Telemetry Data for a Driver</h2><span id='topic+load_driver_telemetry'></span>

<h3>Description</h3>

<p>Receives season, race number, driver code, and an optional fastest lap only
argument to output car telemetry for the selected situation.
Example usage of this code can be seen in the Introduction vignette (run
<code>vignette('introduction', 'f1dataR')</code> to read). Multiple drivers' telemetry can be appended
to one data frame by the user.
</p>
<p>If you have trouble with errors mentioning 'fastf1' or 'get_fastf1_version()' read the
&quot;Setup FastF1 Connection&quot; vignette (run <code>vignette('setup_fastf1', 'f1dataR')</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_driver_telemetry(
  season = get_current_season(),
  round = 1,
  session = "R",
  driver,
  laps = "fastest",
  log_level = "WARNING",
  race = lifecycle::deprecated(),
  fastest_only = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_driver_telemetry_+3A_season">season</code></td>
<td>
<p>number from 2018 to current season (defaults to current season).</p>
</td></tr>
<tr><td><code id="load_driver_telemetry_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected). Also accepts race name.</p>
</td></tr>
<tr><td><code id="load_driver_telemetry_+3A_session">session</code></td>
<td>
<p>the code for the session to load Options are <code>'FP1'</code>, <code>'FP2'</code>, <code>'FP3'</code>,
<code>'Q'</code>, <code>'S'</code>, <code>'SS'</code>, and <code>'R'</code>. Default is <code>'R'</code>, which refers to Race.</p>
</td></tr>
<tr><td><code id="load_driver_telemetry_+3A_driver">driver</code></td>
<td>
<p>three letter driver code (see <code>load_drivers()</code> for a list)</p>
</td></tr>
<tr><td><code id="load_driver_telemetry_+3A_laps">laps</code></td>
<td>
<p>which lap's telemetry to return. One of an integer lap number (&lt;= total laps in the race), <code>fastest</code>,
or <code>all</code>. Note that integer lap choice requires <code>fastf1</code> version 3.0 or greater.</p>
</td></tr>
<tr><td><code id="load_driver_telemetry_+3A_log_level">log_level</code></td>
<td>
<p>Detail of logging from fastf1 to be displayed. Choice of:
<code>'DEBUG'</code>, <code>'INFO'</code>, <code>'WARNING'</code>, <code>'ERROR'</code> and <code>'CRITICAL'</code>. See <a href="https://docs.fastf1.dev/fastf1.html#configure-logging-verbosity">fastf1 documentation</a>.</p>
</td></tr>
<tr><td><code id="load_driver_telemetry_+3A_race">race</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>race</code> is no longer supported, use <code>round</code>.</p>
</td></tr>
<tr><td><code id="load_driver_telemetry_+3A_fastest_only">fastest_only</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>fastest_only</code> is no longer supported, indicated preferred
laps in <code>laps</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with telemetry data for selected driver/session.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  telem &lt;- load_driver_telemetry(
    season = 2023,
    round = "Bahrain",
    session = "Q",
    driver = "HAM",
    laps = "fastest"
  )
}

</code></pre>

<hr>
<h2 id='load_drivers'>Load Driver Info</h2><span id='topic+load_drivers'></span>

<h3>Description</h3>

<p>Loads driver info for all participants in a given season.
Use <code>.load_drivers()</code> for an uncached version of this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_drivers(season = get_current_season())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_drivers_+3A_season">season</code></td>
<td>
<p>number from 1950 to current season (defaults to current season).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with columns driver_id (unique and recurring), first name,
last name, nationality, date of birth (yyyy-mm-dd format), driver code, and
permanent number (for post-2014 drivers).
</p>

<hr>
<h2 id='load_laps'>Load Lap by Lap Time Data</h2><span id='topic+load_laps'></span>

<h3>Description</h3>

<p>Loads basic lap-by-lap time data for all drivers in a given season
and round. Lap time data is available from 1996 onward. Use <code>.load_laps()</code> for a uncached version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_laps(
  season = get_current_season(),
  round = "last",
  race = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_laps_+3A_season">season</code></td>
<td>
<p>number from 1996 to current season (defaults to current season).</p>
</td></tr>
<tr><td><code id="load_laps_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected) and defaults
to most recent.  Also accepts <code>'last'</code>.</p>
</td></tr>
<tr><td><code id="load_laps_+3A_race">race</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>race</code> is no longer supported, use <code>round</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with columns driver_id (unique and recurring), position
during lap, time (in clock form), lap number, time (in seconds), and season.
</p>

<hr>
<h2 id='load_pitstops'>Load Pitstop Data</h2><span id='topic+load_pitstops'></span>

<h3>Description</h3>

<p>Loads pit stop info (number, lap, time elapsed) for a given race
in a season. Pit stop data is available from 2012 onward.
Call <code>.load_pitstops()</code> for an uncached version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_pitstops(
  season = get_current_season(),
  round = "last",
  race = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_pitstops_+3A_season">season</code></td>
<td>
<p>number from 2011 to current season (defaults to current season).</p>
</td></tr>
<tr><td><code id="load_pitstops_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected) and defaults
to most recent.Also accepts <code>'last'</code>.</p>
</td></tr>
<tr><td><code id="load_pitstops_+3A_race">race</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>race</code> is no longer supported, please use <code>round</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with columns driver_id, lap, stop (number), time (of day),
and stop duration
</p>

<hr>
<h2 id='load_quali'>Load Qualifying Results</h2><span id='topic+load_quali'></span>

<h3>Description</h3>

<p>Loads qualifying session results for a given season and round.
Use <code>.load_quali()</code> for an uncached version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_quali(season = get_current_season(), round = "last")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_quali_+3A_season">season</code></td>
<td>
<p>number from 2003 to current season (defaults to current season).</p>
</td></tr>
<tr><td><code id="load_quali_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season), and defaults
to most recent.  Also accepts <code>'last'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with one row per driver
</p>

<hr>
<h2 id='load_race_session'>Load Session Data</h2><span id='topic+load_race_session'></span>

<h3>Description</h3>

<p>Loads telemetry and general data from the official F1
data stream via the fastf1 python library. Data is available from
2018 onward.
</p>
<p>The data loaded can optionally be assigned to a R variable, and then interrogated for
session data streams. See the <a href="https://docs.fastf1.dev/">fastf1 documentation</a>
for more details on the data returned by the python API.
</p>
<p>If you have trouble with errors mentioning 'fastf1' or 'get_fastf1_version()' read the
'Setup FastF1 Connection vignette (run <code>vignette('setup_fastf1', 'f1dataR')</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_race_session(
  obj_name = "session",
  season = get_current_season(),
  round = 1,
  session = "R",
  log_level = "WARNING",
  race = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_race_session_+3A_obj_name">obj_name</code></td>
<td>
<p>name assigned to the loaded session to be referenced later.
Leave as <code>'session'</code> unless otherwise required.</p>
</td></tr>
<tr><td><code id="load_race_session_+3A_season">season</code></td>
<td>
<p>number from 2018 to current season. Defaults to current season.</p>
</td></tr>
<tr><td><code id="load_race_session_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected) and defaults
to most recent. Also accepts race name.</p>
</td></tr>
<tr><td><code id="load_race_session_+3A_session">session</code></td>
<td>
<p>the code for the session to load Options are <code>'FP1'</code>, <code>'FP2'</code>, <code>'FP3'</code>,
<code>'Q'</code>, <code>'S'</code>, <code>'SS'</code> and <code>'R'</code>. Default is <code>'R'</code>, which refers to Race.
Cache directory can be set by setting <code style="white-space: pre;">&#8288;option(f1dataR.cache = [cache dir])&#8288;</code>,
default is the current working directory.</p>
</td></tr>
<tr><td><code id="load_race_session_+3A_log_level">log_level</code></td>
<td>
<p>Detail of logging from fastf1 to be displayed. Choice of:
<code>'DEBUG'</code>, <code>'INFO'</code>, <code>'WARNING'</code>, <code>'ERROR'</code> and <code>'CRITICAL.'</code> See
<a href="https://docs.fastf1.dev/fastf1.html#configure-logging-verbosity">fastf1 documentation</a>.</p>
</td></tr>
<tr><td><code id="load_race_session_+3A_race">race</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>race</code> is no longer supported, use <code>round</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A session object to be used in other functions invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+load_session_laps">load_session_laps()</a></code> <code><a href="#topic+plot_fastest">plot_fastest()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the quali session from 2019 first round
if (interactive()) {
  session &lt;- load_race_session(season = 2019, round = 1, session = "Q")
}
</code></pre>

<hr>
<h2 id='load_results'>Load Results</h2><span id='topic+load_results'></span>

<h3>Description</h3>

<p>Loads final race results for a given year and round. Use <code>.load_results()</code>
for an uncached version
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_results(season = get_current_season(), round = "last")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_results_+3A_season">season</code></td>
<td>
<p>number from 1950 to current season (or the word 'current') (defaults to current season).</p>
</td></tr>
<tr><td><code id="load_results_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season), and defaults
to most recent. Also accepts <code>'last'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with one row per driver
</p>

<hr>
<h2 id='load_schedule'>Load Schedule</h2><span id='topic+load_schedule'></span>

<h3>Description</h3>

<p>Loads schedule information for a given F1 season.
Use <code>.load_schedule()</code> for an uncached version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_schedule(season = get_current_season())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_schedule_+3A_season">season</code></td>
<td>
<p>number from 1950 to current season (defaults to current season). <code>'current'</code> also accepted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with one row per round in season. Indicates in sprint_date if a specific round has a sprint race
</p>

<hr>
<h2 id='load_session_laps'>Load Lapwise Data</h2><span id='topic+load_session_laps'></span>

<h3>Description</h3>

<p>Loads lapwise data for a race session.
</p>
<p>Includes each driver's each lap's laptime, pit in/out time, tyre information, track status, and (optionally) weather information.
The resulting data frame contains a column for the session type. Note that quali sessions are labelled Q1, Q2 &amp; Q3.
</p>
<p>Cache directory can be set by setting <code style="white-space: pre;">&#8288;option(f1dataR.cache = [cache dir])&#8288;</code>,
default is the current working directory.
</p>
<p>If you have trouble with errors mentioning 'fastf1' or 'get_fastf1_version()' read the
'Setup FastF1 Connection vignette (run <code>vignette('setup_fastf1', 'f1dataR')</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_session_laps(
  season = get_current_season(),
  round = 1,
  session = "R",
  log_level = "WARNING",
  add_weather = FALSE,
  race = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_session_laps_+3A_season">season</code></td>
<td>
<p>number from 2018 to current season. Defaults to current season.</p>
</td></tr>
<tr><td><code id="load_session_laps_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected). Also accepts race name.</p>
</td></tr>
<tr><td><code id="load_session_laps_+3A_session">session</code></td>
<td>
<p>the code for the session to load Options are <code>'FP1'</code>, <code>'FP2'</code>, <code>'FP3'</code>,
<code>'Q'</code>, <code>'S'</code>, <code>'SS'</code> and <code>'R'</code> Default is <code>'R'</code>, which refers to Race.</p>
</td></tr>
<tr><td><code id="load_session_laps_+3A_log_level">log_level</code></td>
<td>
<p>Detail of logging from fastf1 to be displayed. Choice of:
<code>'DEBUG'</code>, <code>'INFO'</code>, <code>'WARNING'</code>, <code>'ERROR'</code> and <code>'CRITICAL'</code>. See
<a href="https://docs.fastf1.dev/fastf1.html#configure-logging-verbosity">fastf1 documentation</a>.</p>
</td></tr>
<tr><td><code id="load_session_laps_+3A_add_weather">add_weather</code></td>
<td>
<p>Whether to add weather information to the laps. See
<a href="https://docs.fastf1.dev/core.html#fastf1.core.Laps.get_weather_data">fastf1 documentation</a> for info on weather.</p>
</td></tr>
<tr><td><code id="load_session_laps_+3A_race">race</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>race</code> is no longer supported, use <code>round</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble. Note time information is in seconds, see <a href="https://docs.fastf1.dev/time_explanation.html">fastf1 documentation</a> for more information on timing.
</p>

<hr>
<h2 id='load_sprint'>Load Sprint Results</h2><span id='topic+load_sprint'></span>

<h3>Description</h3>

<p>Loads final race results for a given year and round. Note not all rounds have
sprint results. Use <code>.load_sprint()</code> for an uncached version of this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_sprint(season = get_current_season(), round = "last")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_sprint_+3A_season">season</code></td>
<td>
<p>number from 2021 to current season  (defaults to current season).</p>
</td></tr>
<tr><td><code id="load_sprint_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season), and defaults
to most recent. Also accepts <code>'last'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframetibble with columns driver_id, constructor_id, points awarded, finishing position,
grid position, laps completed, race status (finished or otherwise), gap to
first place, fastest lap, fastest lap time, fastest lap in seconds,
or NULL if no sprint exists for this season/round combo
</p>

<hr>
<h2 id='load_standings'>Load Standings</h2><span id='topic+load_standings'></span>

<h3>Description</h3>

<p>Loads standings at the end of a given season and round for drivers' or
constructors' championships. Use <code>.load_standings()</code> for an uncached version of this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_standings(season = get_current_season(), round = "last", type = "driver")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_standings_+3A_season">season</code></td>
<td>
<p>number from 2003 to current season (defaults to current season).</p>
</td></tr>
<tr><td><code id="load_standings_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season), and defaults
to most recent. Also accepts <code>'last'</code>.</p>
</td></tr>
<tr><td><code id="load_standings_+3A_type">type</code></td>
<td>
<p>select <code>'driver'</code> or <code>'constructor'</code> championship data. Defaults to
<code>'driver'</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with columns driver_id (or constructor_id), position,
points, wins (and constructors_id in the case of drivers championship).
</p>

<hr>
<h2 id='plot_fastest'>Plot Fastest Lap</h2><span id='topic+plot_fastest'></span>

<h3>Description</h3>

<p>Creates a ggplot graphic that details the fastest lap for a driver in a race.
Complete with a gearshift or speed analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_fastest(
  season = get_current_season(),
  round = 1,
  session = "R",
  driver,
  color = "gear",
  race = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_fastest_+3A_season">season</code></td>
<td>
<p>number from 2018 to current season (defaults to current season).</p>
</td></tr>
<tr><td><code id="plot_fastest_+3A_round">round</code></td>
<td>
<p>number from 1 to 23 (depending on season selected) and defaults
to most recent.</p>
</td></tr>
<tr><td><code id="plot_fastest_+3A_session">session</code></td>
<td>
<p>the code for the session to load Options are <code>'FP1'</code>, <code>'FP2'</code>, <code>'FP3'</code>,
<code>'Q'</code>, <code>'S'</code>, <code>'SS'</code>, and <code>'R'</code>. Default is <code>'R'</code>, which refers to Race.</p>
</td></tr>
<tr><td><code id="plot_fastest_+3A_driver">driver</code></td>
<td>
<p>three letter driver code (see load_drivers() for a list).</p>
</td></tr>
<tr><td><code id="plot_fastest_+3A_color">color</code></td>
<td>
<p>argument that indicates which variable to plot along the
circuit. Choice of <code>'gear'</code> or <code>'speed'</code>, default <code>'gear'</code>.</p>
</td></tr>
<tr><td><code id="plot_fastest_+3A_race">race</code></td>
<td>
<p>number from 1 to 23 (depending on season selected) and defaults
to most recent.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object that indicates grand prix, driver, time and selected
color variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Plot Verstappen's fastest lap (speed) from Bahrain 2023:
if (interactive()) {
  plot_fastest(2023, 1, "R", "VER", "speed")
}
</code></pre>

<hr>
<h2 id='setup_fastf1'>Setup fastf1 connection</h2><span id='topic+setup_fastf1'></span>

<h3>Description</h3>

<p>Installs or optionally updates <code>fastf1</code> Python package in the current active Python
environment/virtualenv/conda env.
</p>
<p>More information on how to manage complex environment needs can be read in the
<a href="https://rstudio.github.io/reticulate/articles/python_dependencies.html">reticulate docs</a>, and tools for
managing virtual environments are documented in  <a href="reticulate.html#topic+virtualenv-tools">virtualenv-tools</a> and
<a href="reticulate.html#topic+conda-tools">conda-tools</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_fastf1(
  ...,
  envname = "f1dataR_env",
  new_env = identical(envname, "f1dataR_env")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setup_fastf1_+3A_...">...</code></td>
<td>
<p>Additional parameters to pass to <a href="reticulate.html#topic+py_install">py_install</a></p>
</td></tr>
<tr><td><code id="setup_fastf1_+3A_envname">envname</code></td>
<td>
<p>Optionally pass an environment name used. Defaults to package default of <code>f1dataR_env</code>.</p>
</td></tr>
<tr><td><code id="setup_fastf1_+3A_new_env">new_env</code></td>
<td>
<p>Whether or not to completely remove and recreate the environment provided in <code>envname</code>. This will fix
any issues experienced by <code>fastf1</code> related to package dependencies.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to install or update <code>fastf1</code> Python package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Install fastf1 into the currently active Python environment
setup_fastf1()

# Reinstall fastf1 and recreate the environment.
setup_fastf1(envname = "f1dataR_env", new_env = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='theme_dark_f1'>Dark F1-style Theme for ggplot</h2><span id='topic+theme_dark_f1'></span>

<h3>Description</h3>

<p>Theme for all f1dataR plot functions. Mimics Formula 1 style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_dark_f1(axis_marks = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_dark_f1_+3A_axis_marks">axis_marks</code></td>
<td>
<p>True or false, whether axis line, ticks and title should
be shown or not. Defaults to false</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object that indicates grand prix, driver, time and selected
color variable.
</p>

<hr>
<h2 id='time_to_sec'>Convert Clock time to seconds</h2><span id='topic+time_to_sec'></span>

<h3>Description</h3>

<p>This function converts clock format time (0:00.000) to seconds (0.000s)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_to_sec(time)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_to_sec_+3A_time">time</code></td>
<td>
<p>character string with clock format (0:00.000)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric variable that represents that time in seconds
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

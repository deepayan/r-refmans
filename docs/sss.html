<!DOCTYPE html><html><head><title>Help for package sss</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sss}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sss-package'><p>sss: Import Files in the Triple-s (Standard Survey Structure) Format</p></a></li>
<li><a href='#addQtext'><p>Assigns question text to variable.labels attribute.</p></a></li>
<li><a href='#changeValues'><p>Applies coded values to asc data, as described in sss metadata.</p></a></li>
<li><a href='#fast.read.fwf'><p>Read fixed-width files quickly.</p></a></li>
<li><a href='#getSSScodes'><p>Reads all &quot;codes&quot; inside the triple-s &quot;record&quot;.</p></a></li>
<li><a href='#namesMultiple'><p>Reads all &quot;codes&quot; inside the triple-s &quot;record&quot;</p></a></li>
<li><a href='#parseSSSmetadata'><p>Parses a triple-s XML (sss) metadata file, as specified by the triple-s XML standard.</p></a></li>
<li><a href='#read.sss'><p>Reads a triple-s XML (asc) data file, as specified by the triple-s XML</p>
standard.</a></li>
<li><a href='#readSSSdata'><p>Reads a triple-s XML (asc) data file, as specified by the triple-s XML standard.</p></a></li>
<li><a href='#readSSSmetadata'><p>Reads a triple-s XML (sss) metadata file, as specified by the triple-s XML standard.</p></a></li>
<li><a href='#repN'><p>Repeats each element n times</p></a></li>
<li><a href='#splitMultiple'><p>Splits a data.frame into multiple lines</p></a></li>
<li><a href='#splitSSS'><p>Splits sss metadata into multiple lines</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Title:</td>
<td>Import Files in the Triple-s (Standard Survey Structure) Format</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to import survey files in the '.sss' (triple-s) format. 
    The package provides the function 'read.sss()' that reads the '.asc' 
    (or '.csv') and '.sss' files of a triple-s survey data file. 
    See also <a href="https://triple-s.org/">https://triple-s.org/</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://andrie.github.io/sss/">http://andrie.github.io/sss/</a>, <a href="https://andrie.github.io/sss/">https://andrie.github.io/sss/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/andrie/sss/issues">https://github.com/andrie/sss/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.11.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, xml2, methods, assertthat</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr, knitr, rmarkdown, dplyr, spelling, utf8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-26 10:00:53 UTC; apdev</td>
</tr>
<tr>
<td>Author:</td>
<td>Andrie de Vries [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andrie de Vries &lt;apdevries@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-26 10:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sss-package'>sss: Import Files in the Triple-s (Standard Survey Structure) Format</h2><span id='topic+sss'></span><span id='topic+sss-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Tools to import survey files in the '.sss' (triple-s) format. The package provides the function 'read.sss()' that reads the '.asc' (or '.csv') and '.sss' files of a triple-s survey data file. See also <a href="https://triple-s.org/">https://triple-s.org/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Andrie de Vries <a href="mailto:apdevries@gmail.com">apdevries@gmail.com</a>
</p>


<h3>References</h3>

<p>https://triple-s.org/
</p>
<p>The most important exported function is:
</p>

<ul>
<li> <p><code><a href="#topic+read.sss">read.sss()</a></code>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="http://andrie.github.io/sss/">http://andrie.github.io/sss/</a>
</p>
</li>
<li> <p><a href="https://andrie.github.io/sss/">https://andrie.github.io/sss/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/andrie/sss/issues">https://github.com/andrie/sss/issues</a>
</p>
</li></ul>


<hr>
<h2 id='addQtext'>Assigns question text to variable.labels attribute.</h2><span id='topic+addQtext'></span>

<h3>Description</h3>

<p>Assigns question text to variable.labels attribute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addQtext(sss, df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addQtext_+3A_sss">sss</code></td>
<td>
<p>Parsed .sss metadata information</p>
</td></tr>
<tr><td><code id="addQtext_+3A_df">df</code></td>
<td>
<p>Parsed .asc data</p>
</td></tr>
</table>

<hr>
<h2 id='changeValues'>Applies coded values to asc data, as described in sss metadata.</h2><span id='topic+changeValues'></span>

<h3>Description</h3>

<p>Applies coded values to asc data, as described in sss metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeValues(sss, df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeValues_+3A_sss">sss</code></td>
<td>
<p>Parsed .sss metadata information</p>
</td></tr>
<tr><td><code id="changeValues_+3A_df">df</code></td>
<td>
<p>Parsed .asc data</p>
</td></tr>
</table>

<hr>
<h2 id='fast.read.fwf'>Read fixed-width files quickly.</h2><span id='topic+fast.read.fwf'></span>

<h3>Description</h3>

<p>Experimental replacement for <a href="utils.html#topic+read.fwf">utils::read.fwf</a> that runs much faster.
However, it is much less flexible than <code>utils::read.fwf</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fast.read.fwf(
  file,
  widths,
  col.names = NULL,
  colClasses = NA,
  tz = "",
  dec = ".",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fast.read.fwf_+3A_file">file</code></td>
<td>
<p>Character vector: name of file</p>
</td></tr>
<tr><td><code id="fast.read.fwf_+3A_widths">widths</code></td>
<td>
<p>Numeric vector: column widths. Negative numbers mean &quot;skip this
many columns&quot;. Use an NA as the final element if there are likely to be
extra characters at the end of each row after the last one that you're
interested in.</p>
</td></tr>
<tr><td><code id="fast.read.fwf_+3A_col.names">col.names</code></td>
<td>
<p>names for the columns that are NOT skipped</p>
</td></tr>
<tr><td><code id="fast.read.fwf_+3A_colclasses">colClasses</code></td>
<td>
<p>can be used to control type conversion; see <code><a href="utils.html#topic+read.table">read.table()</a></code>.
It is an optional vector whose names must be part of <code>col.names</code>. There is
one extension of the <code><a href="utils.html#topic+read.table">read.table()</a></code> rules: a <code>colClasses</code> string starting
<code>POSIXct</code> will trigger automatic conversion to POSIXct, using the rest of
the string as the format specifier.</p>
</td></tr>
<tr><td><code id="fast.read.fwf_+3A_tz">tz</code></td>
<td>
<p>used in auto-conversion to <code><a href="base.html#topic+POSIXct">POSIXct()</a></code> when <code>colClasses</code> is set</p>
</td></tr>
<tr><td><code id="fast.read.fwf_+3A_dec">dec</code></td>
<td>
<p>the character to be assumed for decimal points. Passed to
<code><a href="utils.html#topic+type.convert">utils::type.convert()</a></code></p>
</td></tr>
<tr><td><code id="fast.read.fwf_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='getSSScodes'>Reads all &quot;codes&quot; inside the triple-s &quot;record&quot;.</h2><span id='topic+getSSScodes'></span>

<h3>Description</h3>

<p>This function parses the record node and extracts all &quot;codes&quot; nodes into a data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSSScodes(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSSScodes_+3A_x">x</code></td>
<td>
<p>XML node</p>
</td></tr>
</table>

<hr>
<h2 id='namesMultiple'>Reads all &quot;codes&quot; inside the triple-s &quot;record&quot;</h2><span id='topic+namesMultiple'></span>

<h3>Description</h3>

<p>This function parses the record node and extracts all &quot;codes&quot; nodes into a data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>namesMultiple(names, length, sep = "_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="namesMultiple_+3A_names">names</code></td>
<td>
<p>character vector defining the string that separates field and subfield names</p>
</td></tr>
<tr><td><code id="namesMultiple_+3A_length">length</code></td>
<td>
<p>Numeric vector that indicates the number of times each row must be repeated</p>
</td></tr>
<tr><td><code id="namesMultiple_+3A_sep">sep</code></td>
<td>
<p>Character vector defining the string that separates field and subfield names</p>
</td></tr>
</table>

<hr>
<h2 id='parseSSSmetadata'>Parses a triple-s XML (sss) metadata file, as specified by the triple-s XML standard.</h2><span id='topic+parseSSSmetadata'></span>

<h3>Description</h3>

<p>This function reads and parses a <code>.sss</code> XML metadata file as well as its associated <code>.asc</code> data file. The <code>.sss</code> standard defines a standard survey structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseSSSmetadata(x, XMLdoc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parseSSSmetadata_+3A_x">x</code></td>
<td>
<p>An XML document - as returned by <code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code>, or <code><a href="#topic+readSSSmetadata">readSSSmetadata()</a></code></p>
</td></tr>
<tr><td><code id="parseSSSmetadata_+3A_xmldoc">XMLdoc</code></td>
<td>
<p>No longer used. Use <code>x</code> instead.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>readSSSmetadata, read.sss, readSSSdata
</p>

<hr>
<h2 id='read.sss'>Reads a triple-s XML (asc) data file, as specified by the triple-s XML
standard.</h2><span id='topic+read.sss'></span>

<h3>Description</h3>

<p>This function reads and parses a <code>.sss</code> XML metadata file as well as its
associated <code>.asc</code> data file. The sss standard defines a standard survey
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.sss(
  sssFilename,
  ascFilename = guess_asc_filename(sssFilename),
  sep = "_",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.sss_+3A_sssfilename">sssFilename</code></td>
<td>
<p>Character string: name of .sss file containing the survey
metadata</p>
</td></tr>
<tr><td><code id="read.sss_+3A_ascfilename">ascFilename</code></td>
<td>
<p>Character string: name of .asc (or .csv) file containing survey data.  If this is not provided, guesses the filename using</p>
</td></tr>
<tr><td><code id="read.sss_+3A_sep">sep</code></td>
<td>
<p>Character vector defining the string that separates question and
subquestion labels, e.g. <code>c("Q_1", "Q_2")</code></p>
</td></tr>
<tr><td><code id="read.sss_+3A_verbose">verbose</code></td>
<td>
<p>If TRUE, prints messages when reading data files. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with one element (column) for each variable in the data
set.
</p>
<p>The resulting  data.frame contains several attributes:
</p>

<ul>
<li> <p><code>variable.labels</code>: a named list of value labels with one element per
variable, either NULL or a named character vector
</p>
</li>
<li> <p><code>label.table</code>: a named list with one element per question. Every element is
a named character string that contains the label codes for that question.
</p>
</li></ul>



<h3>References</h3>

<p>https://triple-s.org/
</p>


<h3>See Also</h3>

<p>Other read functions: 
<code><a href="#topic+readSSSdata">readSSSdata</a>()</code>,
<code><a href="#topic+readSSSmetadata">readSSSmetadata</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>example &lt;- system.file("sampledata/sample-1.sss", package = "sss")

# read.sss() automatically guesses the data file name
read.sss(system.file("sampledata/sample-1.sss", package = "sss"))

read.sss(system.file("sampledata/sample-2.sss", package = "sss"))

read.sss(system.file("sampledata/sample-3.sss", package = "sss"))
</code></pre>

<hr>
<h2 id='readSSSdata'>Reads a triple-s XML (asc) data file, as specified by the triple-s XML standard.</h2><span id='topic+readSSSdata'></span>

<h3>Description</h3>

<p>This function reads an '.asc&ldquo; data file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readSSSdata(x, ascFilename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readSSSdata_+3A_x">x</code></td>
<td>
<p>Name of .asc file containing the survey metadata</p>
</td></tr>
<tr><td><code id="readSSSdata_+3A_ascfilename">ascFilename</code></td>
<td>
<p>No longer used. Use <code>x</code> instead.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+read.sss">read.sss()</a></code>, <code><a href="#topic+readSSSmetadata">readSSSmetadata()</a></code>
</p>
<p>Other read functions: 
<code><a href="#topic+read.sss">read.sss</a>()</code>,
<code><a href="#topic+readSSSmetadata">readSSSmetadata</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sampleRoot &lt;- system.file("sampledata", package = "sss")
filenameSSS &lt;- file.path(sampleRoot, "sample-1.sss")
filenameASC &lt;- file.path(sampleRoot, "sample-1.asc")

readSSSdata(filenameSSS)
readSSSmetadata(filenameSSS)
</code></pre>

<hr>
<h2 id='readSSSmetadata'>Reads a triple-s XML (sss) metadata file, as specified by the triple-s XML standard.</h2><span id='topic+readSSSmetadata'></span>

<h3>Description</h3>

<p>This function reads a .sss XML metadata file.  The .sss standard defines a standard survey structure
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readSSSmetadata(x, SSSfilename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readSSSmetadata_+3A_x">x</code></td>
<td>
<p>Name of .sss file containing the survey metadata</p>
</td></tr>
<tr><td><code id="readSSSmetadata_+3A_sssfilename">SSSfilename</code></td>
<td>
<p>No longer used. Use <code>x</code> instead.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+parseSSSmetadata">parseSSSmetadata()</a></code>, <code><a href="#topic+read.sss">read.sss()</a></code>, <code><a href="#topic+readSSSdata">readSSSdata()</a></code>
</p>
<p>Other read functions: 
<code><a href="#topic+read.sss">read.sss</a>()</code>,
<code><a href="#topic+readSSSdata">readSSSdata</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sampleRoot &lt;- system.file("sampledata", package = "sss")
filenameSSS &lt;- file.path(sampleRoot, "sample-1.sss")
filenameASC &lt;- file.path(sampleRoot, "sample-1.asc")

readSSSdata(filenameSSS)
readSSSmetadata(filenameSSS)
</code></pre>

<hr>
<h2 id='repN'>Repeats each element n times</h2><span id='topic+repN'></span>

<h3>Description</h3>

<p>Each element is repeated n times.  This is used to construct a vector of the new length after accounting for fields of type multiple
</p>


<h3>Usage</h3>

<pre><code class='language-R'>repN(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="repN_+3A_n">n</code></td>
<td>
<p>Numeric vector that indicates the number of times each row must be repeated</p>
</td></tr>
</table>

<hr>
<h2 id='splitMultiple'>Splits a data.frame into multiple lines</h2><span id='topic+splitMultiple'></span>

<h3>Description</h3>

<p>When length is greater than 1, duplicates that row
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitMultiple(df, n, sep = "_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitMultiple_+3A_df">df</code></td>
<td>
<p>data.frame with .sss metadata</p>
</td></tr>
<tr><td><code id="splitMultiple_+3A_n">n</code></td>
<td>
<p>Numeric vector that indicates the number of times each row must be repeated</p>
</td></tr>
<tr><td><code id="splitMultiple_+3A_sep">sep</code></td>
<td>
<p>character vector defining the string that separates field and subfield names</p>
</td></tr>
</table>

<hr>
<h2 id='splitSSS'>Splits sss metadata into multiple lines</h2><span id='topic+splitSSS'></span>

<h3>Description</h3>

<p>This is necessary when the variable type is &quot;multiple&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitSSS(sss, sep = "_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitSSS_+3A_sss">sss</code></td>
<td>
<p>data.frame containing .sss metadata</p>
</td></tr>
<tr><td><code id="splitSSS_+3A_sep">sep</code></td>
<td>
<p>character vector defining the string that separates field and subfield names</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

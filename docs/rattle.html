<!DOCTYPE html><html><head><title>Help for package rattle</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rattle}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#acquireAuditData'><p>Generate the audit dataset.</p></a></li>
<li><a href='#asRules'>
<p>List the rules corresponding to the rpart decision tree</p></a></li>
<li><a href='#asRules.rpart'>
<p>List the rules corresponding to the rpart decision tree</p></a></li>
<li><a href='#audit'><p>Sample dataset to illustrate Rattle functionality.</p></a></li>
<li><a href='#binning'>
<p>Perform binning over numeric data</p></a></li>
<li><a href='#calcInitialDigitDistr'>
<p>Generate a frequency count of the initial digits</p></a></li>
<li><a href='#calculateAUC'>
<p>Determine area under a curve (e.g. a risk or recall curve) of a risk chart</p></a></li>
<li><a href='#centers.hclust'>
<p>List Cluster Centers for a Hierarchical Cluster</p></a></li>
<li><a href='#comcat'>
<p>Echo data in a human readable form.</p></a></li>
<li><a href='#drawTreeNodes'>
<p>Draw nodes of a decision tree</p></a></li>
<li><a href='#drawTreesAda'>
<p>Draw trees from an Ada model</p></a></li>
<li><a href='#errorMatrix'>
<p>Generate an error matrix from actua and predicted data.</p></a></li>
<li><a href='#evaluateRisk'>
<p>Summarise the performance of a data mining model</p></a></li>
<li><a href='#fancyRpartPlot'>
<p>A wrapper for plotting rpart trees using prp</p></a></li>
<li><a href='#genPlotTitleCmd'>
<p>Generate a string to add a title to a plot</p></a></li>
<li><a href='#ggVarImp'>
<p>Model.</p></a></li>
<li><a href='#listAdaVarsUsed'>
<p>List the variables used by an adaboost model</p></a></li>
<li><a href='#listTreesAda'>
<p>List trees from an Ada model</p></a></li>
<li><a href='#listVersions'>
<p>Versions of Installed Packages</p>
</p></a></li>
<li><a href='#modalvalue'>
<p>Calculate the mode of a vector, array or list.</p></a></li>
<li><a href='#plotOptimalLine'>
<p>Plot three lines on a risk chart, one vertical and two horizontal</p></a></li>
<li><a href='#plotRisk'>
<p>Plot a risk chart</p></a></li>
<li><a href='#printRandomForests'>
<p>Print a representation of the Random Forest models to the console</p></a></li>
<li><a href='#randomForest2Rules'>
<p>Generate accessible data structure of a randomForest model</p></a></li>
<li><a href='#rattle'><p>Display the Rattle User Interface</p></a></li>
<li><a href='#rattle_gui'><p>Interal Rattle user interface callbacks.</p></a></li>
<li><a href='#rattle.print.summary.multinom'>
<p>Print information about a multinomial model</p></a></li>
<li><a href='#rattleInfo'>
<p>Extract Rattle and related package information.</p>
</p></a></li>
<li><a href='#rescale.by.group'>
<p>Transform a numeric vector by grouping it according to the values of</p>
the supplied factor and then rescaling within the groups.
</p></a></li>
<li><a href='#riskchart'>
<p>Plot a risk chart</p></a></li>
<li><a href='#savePlotToFile'>
<p>Save a plot in some way</p></a></li>
<li><a href='#setupDataset'>
<p>Given specific contents of env add other dataset related variables.</p></a></li>
<li><a href='#treeset.randomForest'>
<p>Generate a representation of a tree in a Random Forest</p></a></li>
<li><a href='#weather'><p>Sample dataset of daily weather observations from Canberra</p>
airport in Australia.</a></li>
<li><a href='#weatherAUS'><p>Daily weather observations from multiple Australian weather stations.</p></a></li>
<li><a href='#whichNumerics'>
<p>Returns a list of the names of the numeric variables in a data frame.</p></a></li>
<li><a href='#wine'><p>The wine dataset from the UCI Machine Learning Repository.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Graphical User Interface for Data Science in R</td>
</tr>
<tr>
<td>Version:</td>
<td>5.5.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-03-20</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), tibble, bitops</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, ggplot2, grDevices, graphics, magrittr, methods,
stringi, stringr, tidyr, dplyr, XML, rpart.plot</td>
</tr>
<tr>
<td>Suggests:</td>
<td>pmml (&ge; 1.2.13), colorspace, ada, amap, arules, arulesViz,
biclust, cairoDevice, cba, cluster, corrplot, descr, doBy,
e1071, ellipse, fBasics, foreign, fpc, gdata, ggdendro, gplots,
grid, gridExtra, gtools, Hmisc, janitor, kernlab, Matrix, mice,
nnet, party, plyr, psych, RGtk2, randomForest, RColorBrewer,
readxl, reshape, ROCR, RODBC, rpart, scales, SnowballC,
survival, timeDate, tm, xgboost</td>
</tr>
<tr>
<td>Description:</td>
<td>The R Analytic Tool To Learn Easily (Rattle) provides a 
  collection of utilities functions for the data scientist. A
  Gnome (RGtk2) based graphical interface is included with 
  the aim to provide a simple and intuitive introduction to R 
  for data science, allowing a user to quickly load data from a CSV file 
  (or via ODBC), transform and explore the data, 
  build and evaluate models, and export models as PMML (predictive
  modelling markup language) or as scores. A key aspect of the GUI
  is that all R commands are logged and commented through the log tab.
  This can be saved as a standalone R script file and as
  an aid for the user to 
  learn R or to copy-and-paste directly into R itself.
  Note that RGtk2 and cairoDevice have been archived on CRAN.
  See <a href="https://rattle.togaware.com">https://rattle.togaware.com</a> for installation instructions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rattle.togaware.com/">https://rattle.togaware.com/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-20 00:54:54 UTC; gjw</td>
</tr>
<tr>
<td>Author:</td>
<td>Graham Williams [aut, cph, cre],
  Mark Vere Culp [cph],
  Ed Cox [ctb],
  Anthony Nolan [ctb],
  Denis White [cph],
  Daniele Medri [ctb],
  Akbar Waljee [ctb] (OOB AUC for Random Forest),
  Brian Ripley [cph] (print.summary.nnet),
  Jose Magana [ctb] (ggpairs plots),
  Surendra Tipparaju [ctb] (initial RevoScaleR/XDF),
  Durga Prasad Chappidi [ctb] (initial RevoScaleR/XDF),
  Dinesh Manyam Venkata [ctb] (initial RevoScaleR/XDF),
  Mrinal Chakraborty [ctb] (initial RevoScaleR/XDF),
  Fang Zhou [ctb] (initial xgboost),
  Cameron Chisholm [ctb] (risk plot on risk chart)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Graham Williams &lt;Graham.Williams@togaware.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-21 13:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='acquireAuditData'>Generate the audit dataset.</h2><span id='topic+acquireAuditData'></span>

<h3>Description</h3>

<p>Rattle uses an artificial dataset for demonstration purposes. This
function retrieves the source data
<a href="https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data">https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data</a>
and then transforms the data in a variety of ways.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acquireAuditData(write.to.file=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acquireAuditData_+3A_write.to.file">write.to.file</code></td>
<td>
<p>Whether to generate a colleciton of files based
on the data. The files generated include: audit.csv, audit.Rdata,
audit.arf, and audit\_missing.csv</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the function definition for details of the processing done on the
data downloaded from the UCI repository.
</p>


<h3>Value</h3>

<p>By default the function returns a data frame containing the audit
dataset. If write.to.file is TRUE then the data frame is returned
invisibly.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+audit">audit</a></code>, <code><a href="#topic+rattle">rattle</a></code>.
</p>

<hr>
<h2 id='asRules'>
List the rules corresponding to the rpart decision tree
</h2><span id='topic+asRules'></span>

<h3>Description</h3>

<p>Display a list of rules for an rpart decision tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asRules(model, compact=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="asRules_+3A_model">model</code></td>
<td>
<p>an rpart model.</p>
</td></tr>
<tr><td><code id="asRules_+3A_compact">compact</code></td>
<td>
<p>whether to list cateogricals compactly.</p>
</td></tr>
<tr><td><code id="asRules_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Traverse a decision tree to generate the equivalent set of rules, one
rule for each path from the root node to a leaf node.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: asRules.rpart(my.rpart)
</code></pre>

<hr>
<h2 id='asRules.rpart'>
List the rules corresponding to the rpart decision tree
</h2><span id='topic+asRules.rpart'></span>

<h3>Description</h3>

<p>Display a list of rules for an rpart decision tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpart'
asRules(model, compact=FALSE, classes=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="asRules.rpart_+3A_model">model</code></td>
<td>
<p>an rpart model.</p>
</td></tr>
<tr><td><code id="asRules.rpart_+3A_compact">compact</code></td>
<td>
<p>whether to list cateogricals compactly (default FALSE).</p>
</td></tr>
<tr><td><code id="asRules.rpart_+3A_classes">classes</code></td>
<td>
<p>which target classes should be listed (default all).</p>
</td></tr>
<tr><td><code id="asRules.rpart_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Traverse a decision tree to generate the equivalent set of rules, one
rule for each path from the root node to a leaf node.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: asRules.rpart(my.rpart)
</code></pre>

<hr>
<h2 id='audit'>Sample dataset to illustrate Rattle functionality.</h2><span id='topic+audit'></span>

<h3>Description</h3>

<p>The audit dataset is an artificially constructed dataset that has some
of the characteristics of a true financial audit dataset for modelling
productive and non-productive audits of a person's financial
statement. A productive audit is one which identifies errors or
inaccuracies in the information provided by a client. A non-productive
audit is usually an audit which found all supplied information to be
in order.
</p>
<p>The audit dataset is used to illustrate binary classification.  The
target variable is identified as <code>TARGET\_Adjusted</code>.
</p>
<p>The dataset is quite small, consisting of just 2000 entities. Its
primary purpose is to illustrate modelling in Rattle, so a minimally
sized dataset is suitable.
</p>
<p>The dataset itself is derived from publicly available data (which has
nothing to do with audits).
</p>


<h3>Format</h3>

<p>A data frame. In line with data mining terminology we refer to the
rows of the data frame (or the observations) as entities. The columns
are refered to as variables.  The entities represent people in this
case. We describe the variables here:
</p>

<dl>
<dt><code>ID</code></dt><dd><p>This is a unique identifier for each person.</p>
</dd>
<dt><code>Age</code></dt><dd><p>The age.</p>
</dd>
<dt><code>Employment</code></dt><dd><p>The type of employment.</p>
</dd>
<dt><code>Education</code></dt><dd><p>The highest level of education.</p>
</dd>
<dt><code>Marital</code></dt><dd><p>Current marital status.</p>
</dd>
<dt><code>Occupation</code></dt><dd><p>The type of occupation.</p>
</dd>
<dt><code>Income</code></dt><dd><p>The amount of income declared.</p>
</dd>
<dt><code>Gender</code></dt><dd><p>The persons gender.</p>
</dd>
<dt><code>Deductions</code></dt><dd><p>Total amount of expenses that a person
claims in their financial statement.</p>
</dd>
<dt><code>Hours</code></dt><dd><p>The average hours worked on a weekly basis.</p>
</dd>
<dt><code>IGNORE_Accounts</code></dt><dd><p>The main country in which the person
has most of their money banked. Note that the variable name is
prefixed with IGNORE. This is recognised by Rattle as the default
role for this variable.</p>
</dd>
<dt><code>RISK_Adjustment</code></dt><dd><p>This variable records the monetary
amount of any adjustment to the person's financial claims as a
result of a productive audit. This variable, which should not be
treated as an input variable, is thus a measure of the size of the
risk associated with the person.</p>
</dd>
<dt><code>TARGET_Adjusted</code></dt><dd><p>The target variable for modelling
(generally for classification modelling). This is a numeric field
of class integer, but limited to 0 and 1, indicating
non-productive and productive audits, respectively. Productive
audits are those that result in an adjustment being made to a
client's financial statement.</p>
</dd>
</dl>


<hr>
<h2 id='binning'>
Perform binning over numeric data
</h2><span id='topic+binning'></span>

<h3>Description</h3>

<p>Perform binning.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binning(x, bins=4, method=c("quantile", "wtd.quantile", "kmeans"),
                     labels=NULL, ordered=TRUE, weights=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="binning_+3A_x">x</code></td>
<td>
<p>the numeric data to bin.</p>
</td></tr>
<tr><td><code id="binning_+3A_bins">bins</code></td>
<td>
<p>the number of bins to use.</p>
</td></tr>
<tr><td><code id="binning_+3A_method">method</code></td>
<td>
<p>whether to use &quot;quantile&quot;, weighted quantile
&quot;wtd.quantile&quot; or &quot;kmeans&quot; binning.</p>
</td></tr>
<tr><td><code id="binning_+3A_labels">labels</code></td>
<td>
<p>the labels or names to use for each of the bins.</p>
</td></tr>
<tr><td><code id="binning_+3A_ordered">ordered</code></td>
<td>
<p>whether to build an ordered factor or not.</p>
</td></tr>
<tr><td><code id="binning_+3A_weights">weights</code></td>
<td>
<p>vector of numeric weights for each observation for
weighted quantile binning.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bin the provided nmeric data into the specified number of bins using
one of the supported methods. The bins will have the names specified
by labels, if supplied. The result can optionally be an ordered
factor.
</p>


<h3>Value</h3>

<p>A factor is returned.</p>


<h3>Author(s)</h3>

<p>Daniele Medri and Graham Williams</p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='calcInitialDigitDistr'>
Generate a frequency count of the initial digits
</h2><span id='topic+calcInitialDigitDistr'></span>

<h3>Description</h3>

<p>In the context of Benford's Law calculate the distribution of the
frequencies of the first digit of the numbers supplied as the
argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcInitialDigitDistr(l, digit=1, len=1,
 sp=c("none", "positive", "negative"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcInitialDigitDistr_+3A_l">l</code></td>
<td>
<p>a vector of numbers.</p>
</td></tr>
<tr><td><code id="calcInitialDigitDistr_+3A_digit">digit</code></td>
<td>
<p>the digit to generate frequencies for.</p>
</td></tr>
<tr><td><code id="calcInitialDigitDistr_+3A_len">len</code></td>
<td>
<p>The number of digits.</p>
</td></tr>
<tr><td><code id="calcInitialDigitDistr_+3A_sp">sp</code></td>
<td>
<p>whether and how to split the digits.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='calculateAUC'>
Determine area under a curve (e.g. a risk or recall curve) of a risk chart
</h2><span id='topic+calculateAUC'></span>

<h3>Description</h3>

<p>Given the evaluation returned by evaluateRisk, for example, calculate
the area under the risk or recall curves, to use as a metric to
compare the performance of a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateAUC(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculateAUC_+3A_x">x</code></td>
<td>
<p>a vector of values for the x points.</p>
</td></tr>
<tr><td><code id="calculateAUC_+3A_y">y</code></td>
<td>
<p>a vector of values for the y points.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The area is returned.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+evaluateRisk">evaluateRisk</a></code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## this is usually used in the context of the evaluateRisk function
## Not run: ev &lt;- evaluateRisk(predicted, actual, risk)

## imitate this output here
ev &lt;- data.frame(Caseload=c(1.0, 0.8, 0.6, 0.4, 0.2, 0),
                 Precision=c(0.15, 0.18, 0.21, 0.25, 0.28, 0.30),
                 Recall=c(1.0, 0.95, 0.80, 0.75, 0.5, 0.0),
                 Risk=c(1.0, 0.98, 0.90, 0.77, 0.30, 0.0))

## Calculate the areas unde the Risk and the Recall curves.
calculateAUC(ev$Caseload, ev$Risk)
calculateAUC(ev$Caseload, ev$Recall)

</code></pre>

<hr>
<h2 id='centers.hclust'>
List Cluster Centers for a Hierarchical Cluster
</h2><span id='topic+centers.hclust'></span>

<h3>Description</h3>

<p>Generate a matrix of centers from a hierarchical cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>centers.hclust(x, object, nclust=10, use.median=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="centers.hclust_+3A_x">x</code></td>
<td>
<p>The data used to build the cluster.</p>
</td></tr>
<tr><td><code id="centers.hclust_+3A_object">object</code></td>
<td>
<p>A hclust object.</p>
</td></tr>
<tr><td><code id="centers.hclust_+3A_nclust">nclust</code></td>
<td>
<p>Number of clusters.</p>
</td></tr>
<tr><td><code id="centers.hclust_+3A_use.median">use.median</code></td>
<td>
<p>Use meadion instead of mean.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the specified number of clusters, cut the hierarchical cluster
appropriately to that number of clusters, and return the mean (or
median) of each resulting cluster.
</p>


<h3>Author(s)</h3>

<p>Daniele Medri and <a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='comcat'>
Echo data in a human readable form.
</h2><span id='topic+comcat'></span>

<h3>Description</h3>

<p>Format data in the most appropriate human readable form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>comcat(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="comcat_+3A_x">x</code></td>
<td>
<p>object.</p>
</td></tr>
<tr><td><code id="comcat_+3A_...">...</code></td>
<td>
<p>additional arguments passed on to format.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>  comcat(dim(iris))
</code></pre>

<hr>
<h2 id='drawTreeNodes'>
Draw nodes of a decision tree
</h2><span id='topic+drawTreeNodes'></span>

<h3>Description</h3>

<p>Draw the nodes of a decision tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drawTreeNodes(tree, cex = par("cex"), pch = par("pch"),
                           size = 4 * cex, col = NULL, nodeinfo = FALSE,
                           units = "", cases = "obs", 
                           digits = getOption("digits"),
                           decimals = 2,
                           print.levels = TRUE, new = TRUE) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drawTreeNodes_+3A_tree">tree</code></td>
<td>
<p>an rpart decision tree.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_cex">cex</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_pch">pch</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_size">size</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_col">col</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_nodeinfo">nodeinfo</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_units">units</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_cases">cases</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_digits">digits</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_decimals">decimals</code></td>
<td>
<p>the number of decimal digits to include in numeric
split nodes.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_print.levels">print.levels</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="drawTreeNodes_+3A_new">new</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A variation of draw.tree() from the maptree package.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a>, Denis White</p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## this is usually used in the context of the plotRisk function
## Not run: drawTreeNodes(rpart(Species ~ ., iris))
</code></pre>

<hr>
<h2 id='drawTreesAda'>
Draw trees from an Ada model
</h2><span id='topic+drawTreesAda'></span>

<h3>Description</h3>

<p>Using the Rattle drawTreeNodes, draw a selection of Ada trees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drawTreesAda(model, trees=0, title="")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drawTreesAda_+3A_model">model</code></td>
<td>
<p>an ada model.</p>
</td></tr>
<tr><td><code id="drawTreesAda_+3A_trees">trees</code></td>
<td>
<p>The list of trees to draw. Use 0 to draw all trees.</p>
</td></tr>
<tr><td><code id="drawTreesAda_+3A_title">title</code></td>
<td>
<p>An option title to add.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using Rattle's drawTreeNodes underneath, a plot for each of the
specified trees from an Ada model will be displayed.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: drawTreesAda(ds.ada)
</code></pre>

<hr>
<h2 id='errorMatrix'>
Generate an error matrix from actua and predicted data.
</h2><span id='topic+errorMatrix'></span>

<h3>Description</h3>

<p>An error matrix reports the true/false potisitve/negative rates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>errorMatrix(actual,
                        predicted,
                        percentage=TRUE,
                        digits=ifelse(percentage,1,3),
                        count=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="errorMatrix_+3A_actual">actual</code></td>
<td>
<p>a vector of true values.</p>
</td></tr>
<tr><td><code id="errorMatrix_+3A_predicted">predicted</code></td>
<td>
<p>a vector of predicted values.</p>
</td></tr>
<tr><td><code id="errorMatrix_+3A_percentage">percentage</code></td>
<td>
<p>return percentages.</p>
</td></tr>
<tr><td><code id="errorMatrix_+3A_digits">digits</code></td>
<td>
<p>the number of digits to round results.</p>
</td></tr>
<tr><td><code id="errorMatrix_+3A_count">count</code></td>
<td>
<p>return counts.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## Not run: errorMatrix(model)
</code></pre>

<hr>
<h2 id='evaluateRisk'>
Summarise the performance of a data mining model
</h2><span id='topic+evaluateRisk'></span>

<h3>Description</h3>

<p>By taking predicted values, actual values, and measures of the risk
associated with each case, generate a summary that groups the distinct
predicted values, calculating the accumulative percentage Caseload,
Recall, Risk, Precision, and Measure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluateRisk(predicted, actual, risks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evaluateRisk_+3A_predicted">predicted</code></td>
<td>
<p>a numeric vector of probabilities (between 0 and 1)
representing the probability of each entity being a 1.</p>
</td></tr>
<tr><td><code id="evaluateRisk_+3A_actual">actual</code></td>
<td>
<p>a numeric vector of classes (0 or 1).</p>
</td></tr>
<tr><td><code id="evaluateRisk_+3A_risks">risks</code></td>
<td>
<p>a numeric vector of risk (e.g., dollar amounts)
associated with each entity that has a acutal of 1.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+plotRisk">plotRisk</a></code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## simulate the data that is typical in data mining

## we often have only a small number of positive known case
cases &lt;- 1000
actual &lt;- as.integer(rnorm(cases) &gt; 1)
adjusted &lt;- sum(actual)
nfa &lt;- cases - adjusted

## risks might be dollar values associated adjusted cases
risks &lt;- rep(0, cases)
risks[actual==1] &lt;- round(abs(rnorm(adjusted, 10000, 5000)), 2)

## our models will generated a probability of a case being a 1
predicted &lt;- rep(0.1, cases) 
predicted[actual==1] &lt;- predicted[actual==1] + rnorm(adjusted, 0.3, 0.1)
predicted[actual==0] &lt;- predicted[actual==0] + rnorm(nfa, 0.1, 0.08)
predicted &lt;- signif(predicted)

## call upon evaluateRisk to generate performance summary
ev &lt;- evaluateRisk(predicted, actual, risks)

## have a look at the first few and last few
head(ev)
tail(ev)

## the performance is usually presented as a Risk Chart
## under the CRAN MS/Windows this causes a problem, so don't run for now
## Not run: plotRisk(ev$Caseload, ev$Precision, ev$Recall, ev$Risk)
</code></pre>

<hr>
<h2 id='fancyRpartPlot'>
A wrapper for plotting rpart trees using prp
</h2><span id='topic+fancyRpartPlot'></span>

<h3>Description</h3>

<p>Plots a fancy RPart decision tree using the pretty rpart plotter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fancyRpartPlot(model, main="", sub, caption, palettes, type=2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fancyRpartPlot_+3A_model">model</code></td>
<td>
<p>an rpart object.</p>
</td></tr>
<tr><td><code id="fancyRpartPlot_+3A_main">main</code></td>
<td>
<p>title for the plot.</p>
</td></tr>
<tr><td><code id="fancyRpartPlot_+3A_sub">sub</code></td>
<td>
<p>sub title for the plot. The default is a Rattle string with
date, time and username.</p>
</td></tr>
<tr><td><code id="fancyRpartPlot_+3A_caption">caption</code></td>
<td>
<p>caption for bottom right of plot.</p>
</td></tr>
<tr><td><code id="fancyRpartPlot_+3A_palettes">palettes</code></td>
<td>
<p>a list of sequential palettes names. As supported by
RColorBrewer::brewer.pal the available names are Blues BuGn BuPu GnBu
Greens Greys Oranges OrRd PuBu PuBuGn PuRd Purples RdPu Reds YlGn
YlGnBu YlOrBr YlOrRd.</p>
</td></tr>
<tr><td><code id="fancyRpartPlot_+3A_type">type</code></td>
<td>
<p>the type of plot to generate (2).</p>
</td></tr>
<tr><td><code id="fancyRpartPlot_+3A_...">...</code></td>
<td>
<p>additional arguments passed on to prp.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use rpart to build a decision tree.

## Not run: library(rpart)

## Set up the data for modelling.

set.seed(42)
ds     &lt;- weather
target &lt;- "RainTomorrow"
risk   &lt;- "RISK_MM"
ignore &lt;- c("Date", "Location", risk)
vars   &lt;- setdiff(names(ds), ignore)
nobs   &lt;- nrow(ds)
form   &lt;- formula(paste(target, "~ ."))
train  &lt;- sample(nobs, 0.7*nobs)
test   &lt;- setdiff(seq_len(nobs), train)
actual &lt;- ds[test, target]
risks  &lt;- ds[test, risk]

# Fit the model.

fit &lt;- rpart(form, data=ds[train, vars])

## Plot the model.

fancyRpartPlot(fit)

## Choose different colours.

fancyRpartPlot(fit, palettes=c("Greys", "Oranges"))

## Add a main title to the plot.

fancyRpartPlot(fit, main=target) 


## End(Not run)</code></pre>

<hr>
<h2 id='genPlotTitleCmd'>
Generate a string to add a title to a plot
</h2><span id='topic+genPlotTitleCmd'></span>

<h3>Description</h3>

<p>Generate a string that is intended to be <code><a href="base.html#topic+eval">eval</a></code>'d that
will add a title and sub-title to a plot. The string is a call to
<code><a href="graphics.html#topic+title">title</a></code>, supplying the given arguments,
<code><a href="base.html#topic+paste">paste</a></code>d together, as the main title, and generating a
sub-title that begins with &lsquo;Rattle&rsquo; and continues with the current date
and time, and finishes with the current user's username. This is used
internally in Rattle to adorn a plot with relevant information, but
may be useful outside of Rattle.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genPlotTitleCmd(..., vector=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genPlotTitleCmd_+3A_...">...</code></td>
<td>
<p>one or more strings that will be pasted together to form
the main title.</p>
</td></tr>
<tr><td><code id="genPlotTitleCmd_+3A_vector">vector</code></td>
<td>
<p>whether to return a vector as the result.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+eval">eval</a></code>, <code><a href="graphics.html#topic+title">title</a></code>, <code><a href="#topic+plotRisk">plotRisk</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate some random plot
plot(rnorm(100))

# generate the string representing the command to add titles
tl &lt;- genPlotTitleCmd("Sample Plot of", "No Particular Importance")

# cause the string to be executed as an R command
eval(parse(text=tl))
</code></pre>

<hr>
<h2 id='ggVarImp'>
Model.
</h2><span id='topic+ggVarImp'></span>

<h3>Description</h3>

<p>Model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggVarImp(model, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggVarImp_+3A_model">model</code></td>
<td>
<p>object.</p>
</td></tr>
<tr><td><code id="ggVarImp_+3A_...">...</code></td>
<td>
<p>arguments passed on.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ggVarImp(model)
</code></pre>

<hr>
<h2 id='listAdaVarsUsed'>
List the variables used by an adaboost model
</h2><span id='topic+listAdaVarsUsed'></span>

<h3>Description</h3>

<p>Returns a list of the variables used and their frequencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listAdaVarsUsed(model)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listAdaVarsUsed_+3A_model">model</code></td>
<td>
<p>an rpart object.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='listTreesAda'>
List trees from an Ada model
</h2><span id='topic+listTreesAda'></span>

<h3>Description</h3>

<p>Display the textual representation of a selection of Ada trees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listTreesAda(model, trees=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listTreesAda_+3A_model">model</code></td>
<td>
<p>an ada model.</p>
</td></tr>
<tr><td><code id="listTreesAda_+3A_trees">trees</code></td>
<td>
<p>The list of trees to list. Use 0 to list all trees.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using rpart's print method display each of the specified trees from an
Ada model.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: listTreesAda(ds.ada)
</code></pre>

<hr>
<h2 id='listVersions'>
Versions of Installed Packages
</h2><span id='topic+listVersions'></span>

<h3>Description</h3>

<p>Generate a list of packages installed and their version number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
listVersions(file="", ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listVersions_+3A_file">file</code></td>
<td>
<p>a character string naming a file or a connection open for
writing. '&quot;&quot;' indicates output to the console.</p>
</td></tr>
<tr><td><code id="listVersions_+3A_...">...</code></td>
<td>
<p>arguments to <code><a href="utils.html#topic+write.csv">write.csv</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is useful in reporting problems or bugs, to ensure there
is a clear match of R package versions between the system exhibiting
the issue and the test system replicating the issue.
</p>
<p>By default the information is written to the console in a comma
separated form, that is ideally designed to be written to a CSV file
for emailing.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+write.csv">write.csv</a></code></p>

<hr>
<h2 id='modalvalue'>
Calculate the mode of a vector, array or list.
</h2><span id='topic+modalvalue'></span>

<h3>Description</h3>

<p>The mode is the most common or modal value of a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modalvalue(x, na.rm=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modalvalue_+3A_x">x</code></td>
<td>
<p>A vector, array or list.</p>
</td></tr>
<tr><td><code id="modalvalue_+3A_na.rm">na.rm</code></td>
<td>
<p>Whether to remove missing values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the mode of a vector, array or list (lists
are flattened). This code originated from an anonymous post on the R
Wiki.
</p>

<hr>
<h2 id='plotOptimalLine'>
Plot three lines on a risk chart, one vertical and two horizontal
</h2><span id='topic+plotOptimalLine'></span>

<h3>Description</h3>

<p>Plots a a vertical line at x up to max of y1 and y2, then horizontal
from this line at y1 and y2. Intended for plotting on a plotRisk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotOptimalLine(x, y1, y2, pr = NULL, colour = "plum", label = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotOptimalLine_+3A_x">x</code></td>
<td>
<p>location of vertical line.</p>
</td></tr>
<tr><td><code id="plotOptimalLine_+3A_y1">y1</code></td>
<td>
<p>location of one horizontal line.</p>
</td></tr>
<tr><td><code id="plotOptimalLine_+3A_y2">y2</code></td>
<td>
<p>location of other horizontal line.</p>
</td></tr>
<tr><td><code id="plotOptimalLine_+3A_pr">pr</code></td>
<td>
<p>Aprint a percentage at this point.</p>
</td></tr>
<tr><td><code id="plotOptimalLine_+3A_colour">colour</code></td>
<td>
<p>of the line.</p>
</td></tr>
<tr><td><code id="plotOptimalLine_+3A_label">label</code></td>
<td>
<p>at bottom of line.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Intended to plot an optimal line on a Risk Chart as plotted by
plotRisk.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+plotRisk">plotRisk</a></code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## this is usually used in the context of the plotRisk function
## Not run: ev &lt;- evaluateRisk(predicted, actual, risk)

## imitate this output here
ev &lt;- NULL
ev$Caseload  &lt;- c(1.0, 0.8, 0.6, 0.4, 0.2, 0)
ev$Precision &lt;- c(0.15, 0.18, 0.21, 0.25, 0.28, 0.30)
ev$Recall    &lt;- c(1.0, 0.95, 0.80, 0.75, 0.5, 0.0)
ev$Risk      &lt;- c(1.0, 0.98, 0.90, 0.77, 0.30, 0.0)

## plot the Risk Chart
plotRisk(ev$Caseload, ev$Precision, ev$Recall, ev$Risk,
         chosen=60, chosen.label="Pr=0.45")

## plot the optimal point
plotOptimalLine(40, 77, 75, colour="maroon")

</code></pre>

<hr>
<h2 id='plotRisk'>
Plot a risk chart
</h2><span id='topic+plotRisk'></span>

<h3>Description</h3>

<p>Plots a Rattle Risk Chart. Such a chart has been developed in a
practical context to present the performance of data mining models to
clients, plotting a caseload against performance, allowing a client to
see the tradeoff between coverage and performance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotRisk(cl, pr, re, ri = NULL, title = NULL,
    show.legend = TRUE, xleg = 60, yleg = 55,
    optimal = NULL, optimal.label = "", chosen = NULL, chosen.label = "",
    include.baseline = TRUE, dev = "", filename = "", show.knots = NULL,
    show.lift=TRUE, show.precision=TRUE,
    risk.name = "Risk", recall.name = "Recall",
    precision.name = "Precision")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotRisk_+3A_cl">cl</code></td>
<td>
<p>a vector of caseloads corresponding to different probability
cutoffs. Can be either percentages (between 0 and 100) or fractions
(between 0 and 1).</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_pr">pr</code></td>
<td>
<p>a vector of precision values for each probability
cutoff. Can be either percentages (between 0 and 100) or fractions
(between 0 and 1).</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_re">re</code></td>
<td>
<p>a vector of recall values for each probability cutoff. Can
be either percentages (between 0 and 100) or fractions (between 0
and 1).</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_ri">ri</code></td>
<td>
<p>a vector of risk values for each probability cutoff. Can be
either percentages (between 0 and 100) or fractions (between 0 and
1).</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_title">title</code></td>
<td>
<p>the main title to place at the top of the plot.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_show.legend">show.legend</code></td>
<td>
<p>whether to display the legend in the plot.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_xleg">xleg</code></td>
<td>
<p>the x coordinate for the placement of the legend.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_yleg">yleg</code></td>
<td>
<p>the y coordinate for the placement of the legend.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_optimal">optimal</code></td>
<td>
<p>a caseload (percentage or fraction) that represents an
optimal performance point which is also plotted. If instead the value
is <code>TRUE</code> then the optimal point is identified internally
(maximum valud for <code>(recall-casload)+(risk-caseload)</code>) and
plotted.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_optimal.label">optimal.label</code></td>
<td>
<p>a string which is added to label the line drawn
as the optimal point.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_chosen">chosen</code></td>
<td>
<p>a caseload (percentage or fraction) that represents a
user chosen optimal performance point which is also plotted.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_chosen.label">chosen.label</code></td>
<td>
<p>a string which is added to label the line drawn as
the chosen point.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_include.baseline">include.baseline</code></td>
<td>
<p>if TRUE (the default) then display the
diagonal baseline.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_dev">dev</code></td>
<td>
<p>a string which, if supplied, identifies a device type as
the target for the plot. This might be one of <code>wmf</code> (for
generating a Windows Metafile, but only available on MS/Windows),
<code>pdf</code>, or <code>png</code>.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_filename">filename</code></td>
<td>
<p>a string naming a file. If <code>dev</code> is not given
then the filename extension is used to identify the image format as
one of those recognised by the <code>dev</code> argument.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_show.knots">show.knots</code></td>
<td>
<p>a vector of caseload values at which a vertical line
should be drawn. These might correspond, for example, to individual
paths through a decision tree, illustrating the impact of each path on
the caseload and performance.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_show.lift">show.lift</code></td>
<td>
<p>whether to label the right axis with lift.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_show.precision">show.precision</code></td>
<td>
<p>whether to show the precision plot.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_risk.name">risk.name</code></td>
<td>
<p>a string used within the plot's legend that gives a
name to the risk. Often the risk is a dollar amount at risk from a
fraud or from a bank loan point of view, so the default is
<code>Revenue</code>.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_recall.name">recall.name</code></td>
<td>
<p>a string used within the plot's legend that gives a
name to the recall. The recall is often the percentage of cases that
are positive hits, and in practise these might correspond to known
cases of fraud or reviews where some adjustment to perhaps a incom tax
return or application for credit had to be made on reviewing the case,
and so the default is <code>Adjustments</code>.</p>
</td></tr>
<tr><td><code id="plotRisk_+3A_precision.name">precision.name</code></td>
<td>
<p>a string used within the plot's legend that gives a
name to the precision. A common name for precision is <code>Strike
  Rate</code>, which is the default here.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Caseload is the percentage of the entities in the dataset covered by
the model at a particular probability cutoff, so that with a cutoff of
0, all (100%) of the entities are covered by the model. With a cutoff
of 1 (0%) no entities are covered by the model. A diagonal line is
drawn to represent a baseline random performance. Then the percentage
of positive cases (the recall) covered for a particular caseload is
plotted, and optionally a measure of the percentage of the total risk
that is also covered for a particular caseload may be plotted. Such a
chart allows a user to select an appropriate tradeoff between caseload
and performance. The charts are similar to ROC curves. The precision
(i.e., strike rate) is also plotted.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+evaluateRisk">evaluateRisk</a></code>, <code><a href="#topic+genPlotTitleCmd">genPlotTitleCmd</a></code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## this is usually used in the context of the evaluateRisk function
## Not run: ev &lt;- evaluateRisk(predicted, actual, risk)

## imitate this output here
ev &lt;- NULL
ev$Caseload  &lt;- c(1.0, 0.8, 0.6, 0.4, 0.2, 0)
ev$Precision &lt;- c(0.15, 0.18, 0.21, 0.25, 0.28, 0.30)
ev$Recall    &lt;- c(1.0, 0.95, 0.80, 0.75, 0.5, 0.0)
ev$Risk      &lt;- c(1.0, 0.98, 0.90, 0.77, 0.30, 0.0)

## plot the Risk Chart
plotRisk(ev$Caseload, ev$Precision, ev$Recall, ev$Risk,
         chosen=60, chosen.label="Pr=0.45")

## Add a title
eval(parse(text=genPlotTitleCmd("Sample Risk Chart")))
</code></pre>

<hr>
<h2 id='printRandomForests'>
Print a representation of the Random Forest models to the console
</h2><span id='topic+printRandomForests'></span>

<h3>Description</h3>

<p>A randomForest model, by default, consists of 500 decision trees. This
function walks through each tree and generates a set of rules which
are printed to the console. This takes a considerable amount of time
and is provided for users to access the actual model, but it is not
yet used within the Rattle GUI. It may be used to display the output
of the RF (but it takes longer to generate than the model itself!). Or
it might only be used on export to PMML or SQL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>printRandomForests(model, models=NULL, include.class=NULL, format="")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="printRandomForests_+3A_model">model</code></td>
<td>
<p>a randomForest model.</p>
</td></tr>
<tr><td><code id="printRandomForests_+3A_models">models</code></td>
<td>
<p>a list of integers limiting the models in MODEL that are
displayed.</p>
</td></tr>
<tr><td><code id="printRandomForests_+3A_include.class">include.class</code></td>
<td>
<p>limit the output to the specific class.</p>
</td></tr>
<tr><td><code id="printRandomForests_+3A_format">format</code></td>
<td>
<p>possible values are &quot;VB&quot;.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Display a ruleset for a specific model amongst the 500.
## Not run: printRandomForests(rfmodel, 5)

## Display a ruleset for specific models amongst the 500.
## Not run: printRandomForests(rfmodel, c(5,10,15))

## Display a ruleset for each of the 500 models.
## Not run: printRandomForests(rfmodel)
</code></pre>

<hr>
<h2 id='randomForest2Rules'>
Generate accessible data structure of a randomForest model
</h2><span id='topic+randomForest2Rules'></span>

<h3>Description</h3>

<p>A randomForest model, by default, consists of 500 decision trees. This
function walks through each tree and generates a set of rules. This
takes a considerable amount of time and is provided for users to
access the actual model, but it is not yet used within the Rattle
GUI. It may be used to display the output of the RF (but it takes
longer to generate than the model itself!). Or it might only be used
on export to PMML or SQL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomForest2Rules(model, models=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="randomForest2Rules_+3A_model">model</code></td>
<td>
<p>a randomForest model.</p>
</td></tr>
<tr><td><code id="randomForest2Rules_+3A_models">models</code></td>
<td>
<p>a list of integers limiting the models in MODEL that are
converted.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Generate a ruleset for a specific model amongst the 500.
## Not run: randomForest2Rules(rfmodel, 5)

## Generate a ruleset for specific models amongst the 500.
## Not run: randomForest2Rules(rfmodel, c(5,10,15))

## Generate a ruleset for each of the 500 models.
## Not run: randomForest2Rules(rfmodel)
</code></pre>

<hr>
<h2 id='rattle'>Display the Rattle User Interface</h2><span id='topic+rattle'></span><span id='topic+crs'></span><span id='topic+crv'></span>

<h3>Description</h3>

<p>The Rattle user interface uses the RGtk2 package to present an
intuitive point and click interface for data mining, extensively
building on the excellent collection of R packages by very many
authors for data manipulation, exploration, analysis, and evaluation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rattle(csvname=NULL, dataset=NULL, useGtkBuilder=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rattle_+3A_csvname">csvname</code></td>
<td>
<p>the optional name of a CSV file to load into Rattle on
startup.</p>
</td></tr>
<tr><td><code id="rattle_+3A_dataset">dataset</code></td>
<td>
<p>The optional name as a character string of a dataset to
load into Rattle on startup.</p>
</td></tr>
<tr><td><code id="rattle_+3A_usegtkbuilder">useGtkBuilder</code></td>
<td>
<p>if not supplied then automatically determine whether to
use the new GtkBuilder rather than the deprecated libglade. A user
can override the heuristic choice with TRUE or FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Refer to the Rattle home page in the URL below for a growing reference
manual for using Rattle.
</p>
<p>Whilst the underlying functionality of Rattle is built upon a vast
collection of other R packages, Rattle itself provides a collection of
utility functions used within Rattle. These are made available through
loading the rattle package into your R library. The See Also section
lists these utility functions that may be useful outside of Rattle.
</p>
<p>Rattle can initialise some options using a .Rattle file if the folder
in which Rattle is started. The currently supported options are
.RATTLE.DATA, .RATTLE.SCORE.IN, and .RATTLE.SCORE.OUT.
</p>
<p>If the environment variable RATTLE\_DATA is defined then that is set
as the default CSV file name to load. Otherwise, if .RATTLE.DATA is
defined then that will be used as the CSV file to load. Otherwise, if
csvname is provided then that will be used.
</p>
<p>Two environments are exported by Rattle, capturing the current rattle
state (crs) and the current rattle variables (crv).
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+evaluateRisk">evaluateRisk</a></code>, <code><a href="#topic+genPlotTitleCmd">genPlotTitleCmd</a></code>,
<code><a href="#topic+plotRisk">plotRisk</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># You can start rattle with a path to a csv file to pre-specify the
# dataset. You then need to click Execute to load the data.

## Not run: rattle(system.file("csv", "weather.csv", package = "rattle"))

</code></pre>

<hr>
<h2 id='rattle_gui'>Interal Rattle user interface callbacks.</h2><span id='topic+on_help_ggraptr_activate'></span><span id='topic+on_help_hand_activate'></span><span id='topic+on_connectr_toolbutton_clicked'></span><span id='topic+on_pam_radiobutton_toggled'></span><span id='topic+on_aboutdialog_response'></span><span id='topic+on_rf_oob_roc_button_clicked'></span><span id='topic+on_associate_plot_button_clicked'></span><span id='topic+on_kmeans_weights_plot_button_clicked'></span><span id='topic+on_ewkm_radiobutton_toggled'></span><span id='topic+on_normalise_interval_radiobutton_toggled'></span><span id='topic+on_help_project_menuitem_activate'></span><span id='topic+on_help_associate_menuitem_activate'></span><span id='topic+on_svm_kernel_combobox_changed'></span><span id='topic+on_model_survival_plot_residual_button_clicked'></span><span id='topic+on_model_survival_plot_survival_button_clicked'></span><span id='topic+on_help_precision_activate'></span><span id='topic+on_help_prvob_activate'></span><span id='topic+on_help_roc_activate'></span><span id='topic+on_help_score_activate'></span><span id='topic+on_biclust_radiobutton_toggled'></span><span id='topic+on_clara_radiobutton_toggled'></span><span id='topic+on_model_rf_conditional_radiobutton_toggled'></span><span id='topic+on_model_rf_traditional_radiobutton_toggled'></span><span id='topic+print.summary.nnet.rattle'></span><span id='topic+on_data_target_survival_radiobutton_toggled'></span><span id='topic+on_help_model_nnet_activate'></span><span id='topic+on_help_model_survival_activate'></span><span id='topic+on_model_survival_coxph_radiobutton_toggled'></span><span id='topic+on_model_survival_plots_button_clicked'></span><span id='topic+toga'></span><span id='topic+interrupt_rattle'></span><span id='topic+on_explore_correlation_hier_checkbutton_toggled'></span><span id='topic+on_explore_correlation_radiobutton_toggled'></span><span id='topic+on_model_survival_radiobutton_toggled'></span><span id='topic+on_nnet_evaluate_checkbutton_toggled'></span><span id='topic+on_survival_evaluate_checkbutton_toggled'></span><span id='topic+on_log_export_rename_checkbutton_toggled'></span><span id='topic+on_close_activate'></span><span id='topic+on_rattle_window_delete_event'></span><span id='topic+on_explore_hiercor_checkbutton_toggled'></span><span id='topic+on_explore_interactive_radiobutton_toggled'></span><span id='topic+ISO_8601_to_POSIX_datetime_format'></span><span id='topic+ada.formula'></span><span id='topic+cat_toggled'></span><span id='topic+close_rattle'></span><span id='topic+con_toggled'></span><span id='topic+display_click_execute_message'></span><span id='topic+display_click_odbc_execute_message'></span><span id='topic+generateAprioriSummary'></span><span id='topic+gtkmain_handler'></span><span id='topic+gtkmainquit_handler'></span><span id='topic+imp_edited'></span><span id='topic+imp_toggled'></span><span id='topic+load_rdata_set_combo'></span><span id='topic+on_about_menu_activate'></span><span id='topic+on_ada_continue_button_clicked'></span><span id='topic+on_ada_defaults_button_clicked'></span><span id='topic+on_ada_draw_button_clicked'></span><span id='topic+on_ada_errors_button_clicked'></span><span id='topic+on_ada_importance_button_clicked'></span><span id='topic+on_ada_list_button_clicked'></span><span id='topic+on_ada_stumps_button_clicked'></span><span id='topic+on_ada_stumps_checkbutton_toggled'></span><span id='topic+on_arff_filechooserbutton_update_preview'></span><span id='topic+on_arff_radiobutton_toggled'></span><span id='topic+on_associate_plot_frequency_button_clicked'></span><span id='topic+on_associate_rules_button_clicked'></span><span id='topic+on_boost_radiobutton_toggled'></span><span id='topic+on_categorical_clear_button_clicked'></span><span id='topic+on_cleanup_radiobutton_toggled'></span><span id='topic+on_evaluate_confusion_radiobutton_toggled'></span><span id='topic+on_continuous_clear_button_clicked'></span><span id='topic+on_copy1_activate'></span><span id='topic+on_correlation_radiobutton_toggled'></span><span id='topic+on_evaluate_costcurve_radiobutton_toggled'></span><span id='topic+on_csv_filechooserbutton_update_preview'></span><span id='topic+on_csv_radiobutton_toggled'></span><span id='topic+on_ctivate'></span><span id='topic+on_cut1_activate'></span><span id='topic+on_data_arff_radiobutton_toggled'></span><span id='topic+on_data_corpus_radiobutton_toggled'></span><span id='topic+on_data_csv_radiobutton_toggled'></span><span id='topic+on_data_edit_button_clicked'></span><span id='topic+on_data_entry_radiobutton_toggled'></span><span id='topic+on_data_filechooserbutton_file_set'></span><span id='topic+on_data_library_radiobutton_toggled'></span><span id='topic+on_data_name_combobox_button_press_event'></span><span id='topic+on_data_name_combobox_enter_notify_event'></span><span id='topic+on_data_name_combobox_focus_in_event'></span><span id='topic+on_data_name_combobox_focus'></span><span id='topic+on_data_name_combobox_set_focus_child'></span><span id='topic+on_data_odbc_radiobutton_toggled'></span><span id='topic+on_data_rdata_radiobutton_toggled'></span><span id='topic+on_data_rdataset_radiobutton_toggled'></span><span id='topic+on_data_view_button_clicked'></span><span id='topic+on_delete_menu_activate'></span><span id='topic+on_dtree_radiobutton_toggled'></span><span id='topic+on_e1071_radiobutton_toggled'></span><span id='topic+on_editdata_button_clicked'></span><span id='topic+on_evaluate_csv_radiobutton_toggled'></span><span id='topic+on_evaluate_distributions_button_clicked'></span><span id='topic+on_evaluate_radiobutton_group_changed'></span><span id='topic+on_evaluate_rdataset_radiobutton_toggled'></span><span id='topic+on_execute_button_clicked'></span><span id='topic+on_explore_distr_radiobutton_toggled'></span><span id='topic+on_export_button_clicked'></span><span id='topic+on_export_pmml_activate'></span><span id='topic+on_gbm_importance_button_clicked'></span><span id='topic+on_ggobi_radiobutton_toggled'></span><span id='topic+on_glm_evaluate_checkbutton_toggled'></span><span id='topic+on_glm_gaussian_radiobutton_toggled'></span><span id='topic+on_glm_linear_radiobutton_toggled'></span><span id='topic+on_glm_logistic_radiobutton_toggled'></span><span id='topic+on_glm_multinomial_radiobutton_toggled'></span><span id='topic+on_hclust_data_plot_button_clicked'></span><span id='topic+on_hclust_dendrogram_button_clicked'></span><span id='topic+on_hclust_discriminant_plot_button_clicked'></span><span id='topic+on_hclust_evaluate_checkbutton_toggled'></span><span id='topic+on_hclust_plot_button_clicked'></span><span id='topic+on_hclust_radiobutton_toggled'></span><span id='topic+on_hclust_stats_button_clicked'></span><span id='topic+on_help_ada_activate'></span><span id='topic+on_help_arff_activate'></span><span id='topic+on_help_cluster_hclust_activate'></span><span id='topic+on_help_confusion_table_activate'></span><span id='topic+on_help_correlation_activate'></span><span id='topic+on_help_cost_curve_activate'></span><span id='topic+on_help_csv_activate'></span><span id='topic+on_help_data_corpus_activate'></span><span id='topic+on_help_data_fex_activate'></span><span id='topic+on_help_data_library_activate'></span><span id='topic+on_help_distributions_activate'></span><span id='topic+on_help_general_activate'></span><span id='topic+on_help_ggobi_activate'></span><span id='topic+on_help_glm_activate'></span><span id='topic+on_help_hierarchical_correlation_activate'></span><span id='topic+on_help_impute_activate'></span><span id='topic+on_help_kmeans_activate'></span><span id='topic+on_help_lift_activate'></span><span id='topic+on_help_log_activate'></span><span id='topic+on_help_nolan_activate'></span><span id='topic+on_help_nomenclature_data_activate'></span><span id='topic+on_help_normalise_activate'></span><span id='topic+on_help_odbc_activate'></span><span id='topic+on_help_principal_components_activate'></span><span id='topic+on_help_randomForest_activate'></span><span id='topic+on_help_rdata_file_activate'></span><span id='topic+on_help_rdataset_activate'></span><span id='topic+on_help_risk_chart_activate'></span><span id='topic+on_help_roles_activate'></span><span id='topic+on_help_rpart_activate'></span><span id='topic+on_help_sample_activate'></span><span id='topic+on_help_sensitivity_activate'></span><span id='topic+on_help_summary_activate'></span><span id='topic+on_help_support_vector_machine_activate'></span><span id='topic+on_help_test_correlation_activate'></span><span id='topic+on_help_test_f_activate'></span><span id='topic+on_help_test_kolmogorov_smirnov_activate'></span><span id='topic+on_help_test_t_activate'></span><span id='topic+on_help_test_wilcoxon_activate'></span><span id='topic+on_help_test_wilcoxon_signed_rank_activate'></span><span id='topic+on_help_transform_cleanup_emissing_activate'></span><span id='topic+on_help_transform_cleanup_ignored_activate'></span><span id='topic+on_help_transform_cleanup_missing_activate'></span><span id='topic+on_help_transform_cleanup_selected_activate'></span><span id='topic+on_help_transform_impute_constant_activate'></span><span id='topic+on_help_transform_impute_mean_activate'></span><span id='topic+on_help_transform_impute_median_activate'></span><span id='topic+on_help_transform_impute_mode_activate'></span><span id='topic+on_help_transform_impute_zero_activate'></span><span id='topic+on_help_transform_log_activate'></span><span id='topic+on_help_transform_matrix_activate'></span><span id='topic+on_help_transform_medianmad_activate'></span><span id='topic+on_help_transform_nolan_activate'></span><span id='topic+on_help_transform_rank_activate'></span><span id='topic+on_help_transform_recenter_activate'></span><span id='topic+on_help_transform_remap_ascat_activate'></span><span id='topic+on_help_transform_remap_asnum_activate'></span><span id='topic+on_help_transform_remap_equal_activate'></span><span id='topic+on_help_transform_remap_indicator_activate'></span><span id='topic+on_help_transform_remap_joincat_activate'></span><span id='topic+on_help_transform_remap_kmeans_activate'></span><span id='topic+on_help_transform_remap_quantiles_activate'></span><span id='topic+on_help_transform_scale01_activate'></span><span id='topic+on_help_weight_calculator_activate'></span><span id='topic+on_hiercor_radiobutton_toggled'></span><span id='topic+on_impute_constant_radiobutton_toggled'></span><span id='topic+on_impute_radiobutton_toggled'></span><span id='topic+on_kernlab_radiobutton_toggled'></span><span id='topic+on_kmeans_data_plot_button_clicked'></span><span id='topic+on_kmeans_discriminant_plot_button_clicked'></span><span id='topic+on_kmeans_evaluate_checkbutton_toggled'></span><span id='topic+on_kmeans_hclust_centers_checkbutton_toggled'></span><span id='topic+on_kmeans_iterate_checkbutton_toggled'></span><span id='topic+on_kmeans_plot_button_clicked'></span><span id='topic+on_kmeans_radiobutton_toggled'></span><span id='topic+on_kmeans_seed_button_clicked'></span><span id='topic+on_kmeans_stats_button_clicked'></span><span id='topic+on_libdata_combobox_changed'></span><span id='topic+on_libdata_radiobutton_toggled'></span><span id='topic+on_evaluate_lift_radiobutton_toggled'></span><span id='topic+on_evaluate_model_checkbutton_toggled'></span><span id='topic+on_model_linear_plot_button_clicked'></span><span id='topic+on_model_linear_poisson_radiobutton_toggled'></span><span id='topic+on_model_linear_probit_radiobutton_toggled'></span><span id='topic+on_model_linear_radiobutton_toggled'></span><span id='topic+on_model_tree_ctree_radiobutton_toggled'></span><span id='topic+on_model_tree_rpart_radiobutton_toggled'></span><span id='topic+on_new_activate'></span><span id='topic+on_new_button_clicked'></span><span id='topic+on_nnet_radiobutton_toggled'></span><span id='topic+on_normalise_radiobutton_toggled'></span><span id='topic+on_notebook_switch_page'></span><span id='topic+on_odbc_radiobutton_toggled'></span><span id='topic+on_open_activate'></span><span id='topic+on_open_button_clicked'></span><span id='topic+on_paste1_activate'></span><span id='topic+on_playwith_radiobutton_toggled'></span><span id='topic+on_plot_close_button_clicked'></span><span id='topic+on_plot_copy_button_clicked'></span><span id='topic+on_plot_print_button_clicked'></span><span id='topic+on_plot_save_button_clicked'></span><span id='topic+on_prcomp_radiobutton_toggled'></span><span id='topic+on_evaluate_precision_radiobutton_toggled'></span><span id='topic+on_priors_entry_changed'></span><span id='topic+on_evaluate_pvo_radiobutton_toggled'></span><span id='topic+on_rattle_menu_activate'></span><span id='topic+on_rdata_filechooserbutton_update_preview'></span><span id='topic+on_rdata_radiobutton_toggled'></span><span id='topic+on_rdataset_radiobutton_toggled'></span><span id='topic+on_regression_paradigm_radiobutton_toggled'></span><span id='topic+on_regression_radiobutton_toggled'></span><span id='topic+on_remap_radiobutton_toggled'></span><span id='topic+on_report_toolbutton_clicked'></span><span id='topic+on_rf_errors_button_clicked'></span><span id='topic+on_rf_importance_button_clicked'></span><span id='topic+on_rf_print_tree_button_clicked'></span><span id='topic+on_rf_radiobutton_toggled'></span><span id='topic+on_risk_comboboxentry_changed'></span><span id='topic+on_evaluate_risk_radiobutton_toggled'></span><span id='topic+on_evaluate_roc_radiobutton_toggled'></span><span id='topic+on_rpart_best_radiobutton_toggled'></span><span id='topic+on_rpart_build_radiobutton_toggled'></span><span id='topic+on_rpart_evaluate_checkbutton_toggled'></span><span id='topic+on_rpart_loss_comboboxentry_set_focus_child'></span><span id='topic+on_rpart_plot_button_clicked'></span><span id='topic+on_rpart_rules_button_clicked'></span><span id='topic+on_rpart_tune_radiobutton_toggled'></span><span id='topic+on_data_sample_checkbutton_toggled'></span><span id='topic+on_sample_count_spinbutton_changed'></span><span id='topic+on_sample_percentage_spinbutton_changed'></span><span id='topic+on_sample_radiobutton_toggled'></span><span id='topic+on_sample_seed_button_clicked'></span><span id='topic+on_save_as_activate'></span><span id='topic+on_save_button_clicked'></span><span id='topic+on_save_menu_activate'></span><span id='topic+on_evaluate_score_radiobutton_toggled'></span><span id='topic+on_evaluate_sensitivity_radiobutton_toggled'></span><span id='topic+on_summary_find_button_clicked'></span><span id='topic+on_summary_next_button_clicked'></span><span id='topic+on_summary_radiobutton_toggled'></span><span id='topic+on_svm_kernel_comboboxentry_changed'></span><span id='topic+on_svm_radiobutton_toggled'></span><span id='topic+on_test_correlation_radiobutton_toggled'></span><span id='topic+on_test_groupby_checkbutton_toggled'></span><span id='topic+on_test_wilcoxon_signed_radiobutton_toggled'></span><span id='topic+on_tools_associate_activate'></span><span id='topic+on_tools_cluster_activate'></span><span id='topic+on_tools_data_activate'></span><span id='topic+on_tools_evaluate_activate'></span><span id='topic+on_tools_explore_activate'></span><span id='topic+on_tools_log_activate'></span><span id='topic+on_tools_model_activate'></span><span id='topic+on_tools_sample_activate'></span><span id='topic+on_tools_test_activate'></span><span id='topic+on_tools_transform_activate'></span><span id='topic+on_tools_variables_activate'></span><span id='topic+on_tooltips_activate'></span><span id='topic+on_twoclass_radiobutton_toggled'></span><span id='topic+on_unsupervised_radiobutton_toggled'></span><span id='topic+on_variables_toggle_ignore_button_clicked'></span><span id='topic+on_variables_toggle_input_button_clicked'></span><span id='topic+on_verbose_menuitem_toggled'></span><span id='topic+on_viewdata_button_clicked'></span><span id='topic+on_viewdata_find_button_clicked'></span><span id='topic+on_viewdata_next_button_clicked'></span><span id='topic+open_odbc_set_combo'></span><span id='topic+predict.hclust'></span><span id='topic+predict.kmeans'></span><span id='topic+quit_rattle'></span><span id='topic+update_comboboxentry_with_dataframes'></span><span id='topic+update_libdata_combobox_entry'></span><span id='topic+benfordDistr'></span><span id='topic+digitDistr'></span><span id='topic+normVarNames'></span><span id='topic+on_help_cluster_stats_activate'></span><span id='topic+plotDigitFreq'></span><span id='topic+psfchart'></span><span id='topic+print.summary.nnet'></span><span id='topic+importance'></span><span id='topic+on_model_boost_ada_radiobutton_toggled'></span><span id='topic+on_model_boost_xgb_radiobutton_toggled'></span><span id='topic+rocChart'></span><span id='topic+sample_n.RxXdfData'></span><span id='topic+xgboost'></span>

<h3>Description</h3>

<p>These are exported from the package so that the GUI can
access the callbacks. They should otherwise be ignored.</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='rattle.print.summary.multinom'>
Print information about a multinomial model
</h2><span id='topic+rattle.print.summary.multinom'></span>

<h3>Description</h3>

<p>Displays a textual reveiw of the performance of a multinom model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rattle.print.summary.multinom(x, digits = x$digits, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rattle.print.summary.multinom_+3A_x">x</code></td>
<td>
<p>An rpart object.</p>
</td></tr>
<tr><td><code id="rattle.print.summary.multinom_+3A_digits">digits</code></td>
<td>
<p>Number of digist to print for numbers.</p>
</td></tr>
<tr><td><code id="rattle.print.summary.multinom_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Print a summary of a multinom model. This is sipmly a modification of
the print.summary.multinom function to add the number of entities!
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='rattleInfo'>
Extract Rattle and related package information.
</h2><span id='topic+rattleInfo'></span>

<h3>Description</h3>

<p>Display system information, including versions of Rattle and R,
operating system, and versions of other packages used by
Rattle. Useful for reporting bugs but also invisibly returns a list of
packages that have updates available and can be passed to
install.packages().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rattleInfo(all.dependencies=FALSE,
           include.not.installed=FALSE,
           include.not.available=FALSE,
           include.libpath=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rattleInfo_+3A_all.dependencies">all.dependencies</code></td>
<td>
<p>If TRUE then check the full dependency graph
for Rattle and list all of those packages (which may take quite a
few seconds to compute), or else just list those key packages that
Rattle Depends on and Suggests.</p>
</td></tr>
<tr><td><code id="rattleInfo_+3A_include.not.installed">include.not.installed</code></td>
<td>
<p>If TRUE then make mention of any packages
that are not installed, but are available.</p>
</td></tr>
<tr><td><code id="rattleInfo_+3A_include.not.available">include.not.available</code></td>
<td>
<p>If TRUE then make mention of any packages
that are not available from CRAN.</p>
</td></tr>
<tr><td><code id="rattleInfo_+3A_include.libpath">include.libpath</code></td>
<td>
<p>If TRUE then list the library location where
each package is installed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a support function to list useful information to provide the
developers with information about the system environment when running
Rattle. It is intended to provide the information that is useful in
reporting bugs.
</p>
<p>It also lists the currently installed version of a number of packages
that Rattle makes use of as well as checking for any updates available
for those packages.
</p>
<p>If updates are found then a command is generated and printed so that a
user can simply copy and paste the command to update the relevant
packages. The function also invisibly returns the list of packages
that can be updated, so that we can do something like:
install.packages(rattleInfo()).
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+rattle">rattle</a></code>.
</p>

<hr>
<h2 id='rescale.by.group'>
Transform a numeric vector by grouping it according to the values of
the supplied factor and then rescaling within the groups.
</h2><span id='topic+rescale.by.group'></span>

<h3>Description</h3>

<p>The numeric vector is remapped to integers from 0 to max-1, with any
missing values mapped to the midpoint. Original idea from Tony
Nolan. This will eventually be generalised to do the remapping using
any of the rescaling functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rescale.by.group(x, by=NULL, type = "irank", itop = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rescale.by.group_+3A_x">x</code></td>
<td>
<p>The numeric vector to rescale.</p>
</td></tr>
<tr><td><code id="rescale.by.group_+3A_by">by</code></td>
<td>
<p>A factor of the same length as x used to define the groups.</p>
</td></tr>
<tr><td><code id="rescale.by.group_+3A_type">type</code></td>
<td>
<p>The type of rescaling to perform.</p>
</td></tr>
<tr><td><code id="rescale.by.group_+3A_itop">itop</code></td>
<td>
<p>For an integer remapping this is the number of groups, so
that the numeric values are maped to the integers from 0 to (max-1).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This Rattle support function, which is also useful by itself, provides
a simple mechanism to rescale a numeric variable. Several rescalings
are possible. The rescaling is done by first grouping the observations
according to the by argument.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+rattle">rattle</a></code>.
</p>

<hr>
<h2 id='riskchart'>
Plot a risk chart
</h2><span id='topic+riskchart'></span>

<h3>Description</h3>

<p>Plots a Rattle Risk Chart for binary classification models using
ggplot2. Such a chart has been developed in a practical context to
present the performance of data mining models to clients, plotting a
caseload against performance, allowing a client to see the tradeoff
between coverage and performance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>riskchart(pr,
          ac,
          ri               = NULL,
          title            = "Risk Chart",
          title.size       = 10,
          subtitle         = NULL,
          caption          = TRUE,
          show.legend      = TRUE,
          optimal          = NULL,
          optimal.label    = "",
          chosen           = NULL,
          chosen.label     = "",
          include.baseline = TRUE,
          dev              = "",
          filename         = "",
          show.knots       = NULL,
          show.lift        = TRUE,
          show.precision   = TRUE,
          show.maximal     = TRUE,
          risk.name        = "Risk",
          recall.name      = "Recall",
          precision.name   = "Precision",
          thresholds       = NULL,
          legend.horiz     = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="riskchart_+3A_pr">pr</code></td>
<td>
<p>The predicted class for each observation.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_ac">ac</code></td>
<td>
<p>The actual class for each observation.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_ri">ri</code></td>
<td>
<p>The risk class for each observation.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_title">title</code></td>
<td>
<p>the main title to place at the top of the plot.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_title.size">title.size</code></td>
<td>
<p>font size for the main title.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_subtitle">subtitle</code></td>
<td>
<p>subtitle under the main title.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_caption">caption</code></td>
<td>
<p>caption for the bottom right of plot.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_show.legend">show.legend</code></td>
<td>
<p>whether to display the legend in the plot.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_optimal">optimal</code></td>
<td>
<p>a caseload (percentage or fraction) that represents an
optimal performance point which is also plotted. If instead the value
is <code>TRUE</code> then the optimal point is identified internally
(maximum valud for <code>(recall-casload)+(risk-caseload)</code>) and
plotted.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_optimal.label">optimal.label</code></td>
<td>
<p>a string which is added to label the line drawn
as the optimal point.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_chosen">chosen</code></td>
<td>
<p>a caseload (percentage or fraction) that represents a
user chosen optimal performance point which is also plotted.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_chosen.label">chosen.label</code></td>
<td>
<p>a string which is added to label the line drawn as
the chosen point.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_include.baseline">include.baseline</code></td>
<td>
<p>if TRUE (the default) then display the
diagonal baseline.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_dev">dev</code></td>
<td>
<p>a string which, if supplied, identifies a device type as
the target for the plot. This might be one of <code>wmf</code> (for
generating a Windows Metafile, but only available on MS/Windows),
<code>pdf</code>, or <code>png</code>.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_filename">filename</code></td>
<td>
<p>a string naming a file. If <code>dev</code> is not given
then the filename extension is used to identify the image format as
one of those recognised by the <code>dev</code> argument.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_show.knots">show.knots</code></td>
<td>
<p>a vector of caseload values at which a vertical line
should be drawn. These might correspond, for example, to individual
paths through a decision tree, illustrating the impact of each path on
the caseload and performance.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_show.lift">show.lift</code></td>
<td>
<p>whether to label the right axis with lift.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_show.precision">show.precision</code></td>
<td>
<p>whether to show the precision plot.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_show.maximal">show.maximal</code></td>
<td>
<p>whether to show the maximal performance line.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_risk.name">risk.name</code></td>
<td>
<p>a string used within the plot's legend that gives a
name to the risk. Often the risk is a dollar amount at risk from a
fraud or from a bank loan point of view, so the default is
<code>Revenue</code>.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_recall.name">recall.name</code></td>
<td>
<p>a string used within the plot's legend that gives a
name to the recall. The recall is often the percentage of cases that
are positive hits, and in practise these might correspond to known
cases of fraud or reviews where some adjustment to perhaps a incom tax
return or application for credit had to be made on reviewing the case,
and so the default is <code>Adjustments</code>.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_precision.name">precision.name</code></td>
<td>
<p>a string used within the plot's legend that gives
a name to the precision. A common name for precision is <code>Strike
  Rate</code>, which is the default here.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_thresholds">thresholds</code></td>
<td>
<p>whether to display scores along the top axis.</p>
</td></tr>
<tr><td><code id="riskchart_+3A_legend.horiz">legend.horiz</code></td>
<td>
<p>whether to display a horizontal legend.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Caseload is the percentage of the entities in the dataset covered by
the model at a particular probability cutoff, so that with a cutoff of
0, all (100%) of the entities are covered by the model. With a cutoff
of 1 (0%) no entities are covered by the model. A diagonal line is
drawn to represent a baseline random performance. Then the percentage
of positive cases (the recall) covered for a particular caseload is
plotted, and optionally a measure of the percentage of the total risk
that is also covered for a particular caseload may be plotted. Such a
chart allows a user to select an appropriate tradeoff between caseload
and performance. The charts are similar to ROC curves. The precision
(i.e., strike rate) is also plotted.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+evaluateRisk">evaluateRisk</a></code>, <code><a href="#topic+genPlotTitleCmd">genPlotTitleCmd</a></code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Use rpart to build a decision tree.

library(rpart)

## Set up the data for modelling.

set.seed(42)
ds     &lt;- weather
target &lt;- "RainTomorrow"
risk   &lt;- "RISK_MM"
ignore &lt;- c("Date", "Location", risk)
vars   &lt;- setdiff(names(ds), ignore)
nobs   &lt;- nrow(ds)
form   &lt;- formula(paste(target, "~ ."))
train  &lt;- sample(nobs, 0.7*nobs)
test   &lt;- setdiff(seq_len(nobs), train)
actual &lt;- ds[test, target]
risks  &lt;- ds[test, risk]

# Build the model.

model &lt;- rpart(form, data=ds[train, vars])

## Obtain predictions.

predicted &lt;- predict(model, ds[test, vars], type="prob")[,2]

## Plot the Risk Chart.

riskchart(predicted, actual, risks)

## End(Not run)
</code></pre>

<hr>
<h2 id='savePlotToFile'>
Save a plot in some way
</h2><span id='topic+savePlotToFile'></span><span id='topic+copyPlotToClipboard'></span><span id='topic+printPlot'></span>

<h3>Description</h3>

<p>For the current device, or for the device identified, save the plot
displayed there in some way. This is either saved to file, copied to
the clipboard for pasting into other applications, or sent to the
printer for saving a hard copy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>savePlotToFile(file.name, dev.num=dev.cur())
copyPlotToClipboard(dev.num=dev.cur())
printPlot(dev.num=dev.cur()) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="savePlotToFile_+3A_file.name">file.name</code></td>
<td>
<p>Character string naming the file including the file
name extension which is used to specify the type of file to save.</p>
</td></tr>
<tr><td><code id="savePlotToFile_+3A_dev.num">dev.num</code></td>
<td>
<p>A device number indicating which device to save.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='setupDataset'>
Given specific contents of env add other dataset related variables.
</h2><span id='topic+setupDataset'></span>

<h3>Description</h3>

<p>This rattle support function is used for encapsulating data mining
objects. The supplied environment is augmented with other data derived
from the supplied data, such as a sample trianing dataset, list of
numeric variables, and a formula for modelling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setupDataset(env, seed=NULL)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setupDataset_+3A_env">env</code></td>
<td>
<p>the environment to modify.</p>
</td></tr>
<tr><td><code id="setupDataset_+3A_seed">seed</code></td>
<td>
<p>optionally set the seed for repeatability.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The supplied object (an environment) is assumed to also contain the
variables data (a data frame), target (a character string naming the
target variable), risk (a character string naming the risk variable),
and inputs (a character vector naming all the input variables). This
function then adds in the variables vars (the variables used for
modelling), numerics (the numeric vars within inputs), nobs (the
number of observations), form (the formula for building models), train
(a 70% training dataset).
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='treeset.randomForest'>
Generate a representation of a tree in a Random Forest
</h2><span id='topic+treeset.randomForest'></span>

<h3>Description</h3>

<p>Often we want to view the actual trees built by a random
forest. Although reviewing all 500 trees might be a bit much, this
function allows us to at least list them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>treeset.randomForest(model, n=1, root=1, format="R")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="treeset.randomForest_+3A_model">model</code></td>
<td>
<p>a randomForest model.</p>
</td></tr>
<tr><td><code id="treeset.randomForest_+3A_n">n</code></td>
<td>
<p>a specific tree to list.</p>
</td></tr>
<tr><td><code id="treeset.randomForest_+3A_root">root</code></td>
<td>
<p>where to start the stree from, primarily for internal use.</p>
</td></tr>
<tr><td><code id="treeset.randomForest_+3A_format">format</code></td>
<td>
<p>one of &quot;R&quot;, &quot;VB&quot;.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Display a treeset for a specific model amongst the 500.
## Not run: treeset.randomForests(rfmodel, 5)
</code></pre>

<hr>
<h2 id='weather'>Sample dataset of daily weather observations from Canberra
airport in Australia.</h2><span id='topic+weather'></span>

<h3>Description</h3>

<p>One year of daily weather observations collected from the Canberra
airport in Australia was obtained from the Australian Commonwealth
Bureau of Meteorology and processed to create this sample dataset for
illustrating data mining using R and Rattle.
</p>
<p>The data has been processed to provide a target variable
<code>RainTomorrow</code> (whether there is rain on the following day -
No/Yes) and a risk variable <code>RISK_MM</code> (how much rain recorded in
millimetres). Various transformations were performed on the source
data. The dataset is quite small and is useful only for repeatable
demonstration of various data science operations. 
</p>
<p>The source dataset is Copyright by the Australian Commonwealth Bureau
of Meteorology and is provided as part of the rattle package with
permission.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weather</code></pre>


<h3>Format</h3>

<p>The <code>weather</code> dataset is a data frame containing one year of
daily observations from a single weather station (Canberra).
</p>

<dl>
<dt><code>Date</code></dt><dd><p>The date of observation (a Date object).</p>
</dd>
<dt><code>Location</code></dt><dd><p>The common name of the location of the
weather station.</p>
</dd>
<dt><code>MinTemp</code></dt><dd><p>The minimum temperature in degrees celsius. </p>
</dd>
<dt><code>MaxTemp</code></dt><dd><p>The maximum temperature in degrees celsius. </p>
</dd>
<dt><code>Rainfall</code></dt><dd><p>The amount of rainfall recorded for the day in mm. </p>
</dd>
<dt><code>Evaporation</code></dt><dd><p>The so-called Class A pan evaporation (mm)
in the 24 hours to 9am.</p>
</dd>
<dt><code>Sunshine</code></dt><dd><p>The number of hours of bright sunshine in the day.</p>
</dd>
<dt><code>WindGustDir</code></dt><dd><p>The direction of the strongest wind gust
in the 24 hours to midnight.</p>
</dd>
<dt><code>WindGustSpeed</code></dt><dd><p>The speed (km/h) of the strongest wind
gust in the 24 hours to midnight.</p>
</dd>
<dt><code>Temp9am</code></dt><dd><p> Temperature (degrees C) at 9am. </p>
</dd>
<dt><code>RelHumid9am</code></dt><dd><p> Relative humidity (percent) at 9am. </p>
</dd>
<dt><code>Cloud9am</code></dt><dd><p> Fraction of sky obscured by cloud at
9am. This is measured in &quot;oktas&quot;, which are a unit of eigths. It
records how many eigths of the sky are obscured by cloud. A 0
measure indicates completely clear sky whilst an 8 indicates that
it is completely overcast.  </p>
</dd>
<dt><code>WindSpeed9am</code></dt><dd>
<p>Wind speed (km/hr) averaged over 10 minutes prior to 9am.
</p>
</dd>
<dt><code>Pressure9am</code></dt><dd>
<p>Atmospheric pressure (hpa) reduced to mean sea level at 9am.
</p>
</dd>
<dt><code>Temp3pm</code></dt><dd><p> Temperature (degrees C) at 3pm. </p>
</dd>
<dt><code>RelHumid3pm</code></dt><dd><p> Relative humidity (percent) at 3pm. </p>
</dd>
<dt><code>Cloud3pm</code></dt><dd>
<p>Fraction of sky obscured by cloud (in &quot;oktas&quot;: eighths) at
3pm. See Cload9am for a description of the values.
</p>
</dd>
<dt><code>WindSpeed3pm</code></dt><dd>
<p>Wind speed (km/hr) averaged over 10 minutes prior to 3pm.
</p>
</dd>
<dt><code>Pressure3pm</code></dt><dd>
<p>Atmospheric pressure (hpa) reduced to mean sea level at 3pm.
</p>
</dd>
<dt><code>ChangeTemp</code></dt><dd>
<p>Change in temperature.
</p>
</dd>
<dt><code>ChangeTempDir</code></dt><dd>
<p>Direction of change in temperature.
</p>
</dd>
<dt><code>ChangeTempMag</code></dt><dd>
<p>Magnitude of change in temperature.
</p>
</dd>
<dt><code>ChangeWindDirect</code></dt><dd>
<p>Direction of wind change.
</p>
</dd>
<dt><code>MaxWindPeriod</code></dt><dd>
<p>Period of maximum wind.
</p>
</dd>
<dt><code>RainToday</code></dt><dd>
<p>Integer: 1 if precipitation (mm) in the 24 hours to 9am exceeds
1mm, otherwise 0.
</p>
</dd>
<dt><code>TempRange</code></dt><dd>
<p>Difference between minimum and maximum temperatures (degrees C) in
the 24 hours to 9am.
</p>
</dd>
<dt><code>PressureChange</code></dt><dd>
<p>Change in pressure.
</p>
</dd>
<dt><code>RISK_MM</code></dt><dd>
<p>The amount of rain. A kind of measure of the &quot;risk&quot;.
</p>
</dd>
<dt><code>RainTomorrow</code></dt><dd>
<p>The target variable. Did it rain tomorrow?
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>Source</h3>

<p>The daily observations are available from
<a href="https://www.bom.gov.au/climate/data">https://www.bom.gov.au/climate/data</a>.  Copyright Commonwealth of
Australia 2010, Bureau of Meteorology.
</p>
<p>Definitions adapted from
<a href="https://www.bom.gov.au/climate/dwo/IDCJDW0000.shtml">https://www.bom.gov.au/climate/dwo/IDCJDW0000.shtml</a>
</p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a>. Data source:
<a href="https://www.bom.gov.au/climate/dwo/">https://www.bom.gov.au/climate/dwo/</a> and
<a href="https://www.bom.gov.au/climate/data">https://www.bom.gov.au/climate/data</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+weatherAUS">weatherAUS</a></code>, <code><a href="#topic+audit">audit</a></code>.
</p>

<hr>
<h2 id='weatherAUS'>Daily weather observations from multiple Australian weather stations.</h2><span id='topic+weatherAUS'></span><span id='topic+locationsAUS'></span>

<h3>Description</h3>

<p>Daily weather observations from multiple locations around Australia,
obtained from the Australian Commonwealth Bureau of Meteorology and
processed to create this realtively large sample dataset for
illustrating analytics, data mining, and data science using R and
Rattle.
</p>
<p>The data has been processed to provide a target variable
<code>RainTomorrow</code> (whether there is rain on the following day -
No/Yes) and a risk variable <code>RISK_MM</code> (how much rain recorded in
millimeters). Various transformations are performed on the data.
</p>
<p>The <code>weatherAUS</code> dataset is regularly updated an updates of this
package usually correspond to updates to this dataset. The data is
updated from the Bureau of Meteorology web site.
</p>
<p>The <code>locationsAUS</code> dataset records the location of each weather
station.
</p>
<p>The source dataset comes from the Australian Commonwealth Bureau of
Meteorology. The Bureau provided permission to use the data with the
Bureau of Meteorology acknowledged as the source of the data, as per
email from Cathy Toby (C.Toby@bom.gov.au) of the Climate Information
Services of the National CLimate Centre, 17 Dec 2008.
</p>
<p>A CSV version of this dataset is available as
<a href="https://rattle.togaware.com/weatherAUS.csv">https://rattle.togaware.com/weatherAUS.csv</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weatherAUS</code></pre>


<h3>Format</h3>

<p>The <code>weatherAUS</code> dataset is a data frame containing over 140,000
daily observations from over 45 Australian weather stations.
</p>

<dl>
<dt><code>Date</code></dt><dd><p>The date of observation (a Date object).</p>
</dd>
<dt><code>Location</code></dt><dd><p>The common name of the location of the
weather station.</p>
</dd>
<dt><code>MinTemp</code></dt><dd><p>The minimum temperature in degrees celsius. </p>
</dd>
<dt><code>MaxTemp</code></dt><dd><p>The maximum temperature in degrees celsius. </p>
</dd>
<dt><code>Rainfall</code></dt><dd><p>The amount of rainfall recorded for the day in mm. </p>
</dd>
<dt><code>Evaporation</code></dt><dd><p>The so-called Class A pan evaporation (mm)
in the 24 hours to 9am.</p>
</dd>
<dt><code>Sunshine</code></dt><dd><p>The number of hours of bright sunshine in the day.</p>
</dd>
<dt><code>WindGustDir</code></dt><dd><p>The direction of the strongest wind gust
in the 24 hours to midnight.</p>
</dd>
<dt><code>WindGustSpeed</code></dt><dd><p>The speed (km/h) of the strongest wind
gust in the 24 hours to midnight.</p>
</dd>
<dt><code>Temp9am</code></dt><dd><p> Temperature (degrees C) at 9am. </p>
</dd>
<dt><code>RelHumid9am</code></dt><dd><p> Relative humidity (percent) at 9am. </p>
</dd>
<dt><code>Cloud9am</code></dt><dd><p> Fraction of sky obscured by cloud at
9am. This is measured in &quot;oktas&quot;, which are a unit of eigths. It
records how many eigths of the sky are obscured by cloud. A 0
measure indicates completely clear sky whilst an 8 indicates that
it is completely overcast.  </p>
</dd>
<dt><code>WindSpeed9am</code></dt><dd>
<p>Wind speed (km/hr) averaged over 10 minutes prior to 9am.
</p>
</dd>
<dt><code>Pressure9am</code></dt><dd>
<p>Atmospheric pressure (hpa) reduced to mean sea level at 9am.
</p>
</dd>
<dt><code>Temp3pm</code></dt><dd><p> Temperature (degrees C) at 3pm. </p>
</dd>
<dt><code>RelHumid3pm</code></dt><dd><p> Relative humidity (percent) at 3pm. </p>
</dd>
<dt><code>Cloud3pm</code></dt><dd>
<p>Fraction of sky obscured by cloud (in &quot;oktas&quot;: eighths) at
3pm. See Cload9am for a description of the values.
</p>
</dd>
<dt><code>WindSpeed3pm</code></dt><dd>
<p>Wind speed (km/hr) averaged over 10 minutes prior to 3pm.
</p>
</dd>
<dt><code>Pressure3pm</code></dt><dd>
<p>Atmospheric pressure (hpa) reduced to mean sea level at 3pm.
</p>
</dd>
<dt><code>ChangeTemp</code></dt><dd>
<p>Change in temperature.
</p>
</dd>
<dt><code>ChangeTempDir</code></dt><dd>
<p>Direction of change in temperature.
</p>
</dd>
<dt><code>ChangeTempMag</code></dt><dd>
<p>Magnitude of change in temperature.
</p>
</dd>
<dt><code>ChangeWindDirect</code></dt><dd>
<p>Direction of wind change.
</p>
</dd>
<dt><code>MaxWindPeriod</code></dt><dd>
<p>Period of maximum wind.
</p>
</dd>
<dt><code>RainToday</code></dt><dd>
<p>Integer: 1 if precipitation (mm) in the 24 hours to 9am exceeds
1mm, otherwise 0.
</p>
</dd>
<dt><code>TempRange</code></dt><dd>
<p>Difference between minimum and maximum temperatures (degrees C) in
the 24 hours to 9am.
</p>
</dd>
<dt><code>PressureChange</code></dt><dd>
<p>Change in pressure.
</p>
</dd>
<dt><code>RISK_MM</code></dt><dd>
<p>The amount of rain. A kind of measure of the &quot;risk&quot;.
</p>
</dd>
<dt><code>RainTomorrow</code></dt><dd>
<p>The target variable. Did it rain tomorrow?
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>Source</h3>

<p>Observations were drawn from numerous weather stations.  The daily
observations are available from
<a href="https://www.bom.gov.au/climate/data">https://www.bom.gov.au/climate/data</a>.  Copyright Commonwealth of
Australia 2010, Bureau of Meteorology.
</p>
<p>Definitions adapted from
<a href="https://www.bom.gov.au/climate/dwo/IDCJDW0000.shtml">https://www.bom.gov.au/climate/dwo/IDCJDW0000.shtml</a>
</p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a>. Data source:
<a href="https://www.bom.gov.au/climate/dwo/">https://www.bom.gov.au/climate/dwo/</a> and
<a href="https://www.bom.gov.au/climate/data">https://www.bom.gov.au/climate/data</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+weather">weather</a></code>, <code><a href="#topic+audit">audit</a></code>.
</p>

<hr>
<h2 id='whichNumerics'>
Returns a list of the names of the numeric variables in a data frame.
</h2><span id='topic+whichNumerics'></span>

<h3>Description</h3>

<p>A rattle support function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>whichNumerics(data)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="whichNumerics_+3A_data">data</code></td>
<td>
<p>a data frame.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p><a href="mailto:Graham.Williams@togaware.com">Graham.Williams@togaware.com</a></p>


<h3>References</h3>

<p>Package home page: <a href="https://rattle.togaware.com">https://rattle.togaware.com</a></p>

<hr>
<h2 id='wine'>The wine dataset from the UCI Machine Learning Repository.</h2><span id='topic+wine'></span>

<h3>Description</h3>

<p>The <code>wine</code> dataset contains the results of a chemical analysis of
wines grown in a specific area of Italy. Three types of wine are
represented in the 178 samples, with the results of 13 chemical
analyses recorded for each sample.  The <code>Type</code> variable has been
transformed into a categoric variable.
</p>
<p>The data contains no missing values and consits of only numeric data,
with a three class target variable (<code>Type</code>) for classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wine</code></pre>


<h3>Format</h3>

<p>A data frame containing 178 observations of 13 variables.
</p>

<dl>
<dt><code>Type</code></dt><dd><p> The type of wine, into one of three classes, 1
(59 obs), 2(71 obs), and 3 (48 obs).</p>
</dd>
<dt><code>Alcohol</code></dt><dd><p>Alcohol</p>
</dd>
<dt><code>Malic</code></dt><dd><p>Malic acid</p>
</dd>
<dt><code>Ash</code></dt><dd><p>Ash</p>
</dd>
<dt><code>Alcalinity</code></dt><dd><p>Alcalinity of ash</p>
</dd>
<dt><code>Magnesium</code></dt><dd><p>Magnesium</p>
</dd>
<dt><code>Phenols</code></dt><dd><p>Total phenols</p>
</dd>
<dt><code>Flavanoids</code></dt><dd><p>Flavanoids</p>
</dd>
<dt><code>Nonflavanoids</code></dt><dd><p>Nonflavanoid phenols</p>
</dd>
<dt><code>Proanthocyanins</code></dt><dd><p>Proanthocyanins</p>
</dd>
<dt><code>Color</code></dt><dd><p>Color intensity.</p>
</dd>
<dt><code>Hue</code></dt><dd><p>Hue</p>
</dd>
<dt><code>Dilution</code></dt><dd><p>D280/OD315 of diluted wines.</p>
</dd>
<dt><code>Proline</code></dt><dd><p>Proline</p>
</dd>
</dl>



<h3>Source</h3>

<p>The data was downloaded from the UCI Machine Learning Repository.
</p>
<p>It was read as a CSV file with no header using
<code><a href="utils.html#topic+read.csv">read.csv</a></code>. The columns were then given the appropriate
names using <code><a href="base.html#topic+colnames">colnames</a></code> and the Type was transformed into a
factor using <code><a href="base.html#topic+as.factor">as.factor</a></code>. The compressed R data file was
saved using <code><a href="base.html#topic+save">save</a></code>:
</p>
<pre>
  UCI &lt;- "https://archive.ics.uci.edu/ml"
  REPOS &lt;- "machine-learning-databases"
  wine.url &lt;- sprintf("
  wine &lt;- read.csv(wine.url, header=FALSE) 
  colnames(wine) &lt;- c('Type', 'Alcohol', 'Malic', 'Ash', 
                      'Alcalinity', 'Magnesium', 'Phenols', 
                      'Flavanoids', 'Nonflavanoids',
                      'Proanthocyanins', 'Color', 'Hue', 
                      'Dilution', 'Proline')
  wine$Type &lt;- as.factor(wine$Type)
  save(wine, file="wine.Rdata", compress=TRUE)
  </pre>


<h3>References</h3>

<p>Asuncion, A. &amp; Newman, D.J. (2007). <em>UCI Machine Learning
Repository</em>
[<a href="https://www.ics.uci.edu/~mlearn/MLRepository.html">https://www.ics.uci.edu/~mlearn/MLRepository.html</a>]. Irvine, CA:
University of California, School of Information and Computer Science.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package rcmdcheck</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rcmdcheck}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_details'><p>Query R CMD check results and parameters</p></a></li>
<li><a href='#compare_checks'><p>Compare a set of check results to another check result</p></a></li>
<li><a href='#compare_to_cran'><p>Compare a check result to CRAN check results</p></a></li>
<li><a href='#cran_check_flavours'><p>Download and show all CRAN check flavour platforms</p></a></li>
<li><a href='#cran_check_results'><p>Download and parse R CMD check results from CRAN</p></a></li>
<li><a href='#data_frame'><p>Alternative to data.frame</p></a></li>
<li><a href='#myrep'><p>Recycle a vector or a data frame (rows)</p></a></li>
<li><a href='#parse_check'><p>Parse <code>R CMD check</code> results from a file or string</p></a></li>
<li><a href='#parse_check_url'><p>Shorthand to parse R CMD check results from a URL</p></a></li>
<li><a href='#print.rcmdcheck'><p>Print R CMD check results</p></a></li>
<li><a href='#print.rcmdcheck_comparison'><p>Print R CMD check result comparisons</p></a></li>
<li><a href='#rcmdcheck'><p>Run R CMD check from R and Capture Results</p></a></li>
<li><a href='#rcmdcheck_process'><p>Run an <code style="white-space: pre;">&#8288;R CMD check&#8288;</code> process in the background</p></a></li>
<li><a href='#rcmdcheck-config'><p>rcmdcheck configuration</p></a></li>
<li><a href='#xopen.rcmdcheck'><p>Open the check directory in a file browser window</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Run 'R CMD check' from 'R' and Capture Results</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Run 'R CMD check' from 'R' and capture the results
    of the individual checks. Supports running checks in the background,
    timeouts, pretty printing and comparing check results.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-lib.github.io/rcmdcheck/">https://r-lib.github.io/rcmdcheck/</a>,
<a href="https://github.com/r-Lib/rcmdcheck#readme">https://github.com/r-Lib/rcmdcheck#readme</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-Lib/rcmdcheck/issues">https://github.com/r-Lib/rcmdcheck/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>callr (&ge; 3.1.1.9000), cli (&ge; 3.0.0), curl, desc (&ge; 1.2.0),
digest, pkgbuild, prettyunits, R6, rprojroot, sessioninfo (&ge;
1.1.1), utils, withr, xopen</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, mockery, processx, ps, rmarkdown, svglite,
testthat, webfakes</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-23 11:13:42 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>G치bor Cs치rdi [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>G치bor Cs치rdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-27 15:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_details'>Query R CMD check results and parameters</h2><span id='topic+check_details'></span>

<h3>Description</h3>

<p>Query R CMD check results and parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_details(check)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_details_+3A_check">check</code></td>
<td>
<p>A check result.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with elements:
</p>

<ul>
<li> <p><code>package</code>: package name.
</p>
</li>
<li> <p><code>version</code>: package version.
</p>
</li>
<li> <p><code>rversion</code>: R version.
</p>
</li>
<li> <p><code>notes</code>: character vector of check NOTEs, each NOTE is an
element.
</p>
</li>
<li> <p><code>warnings</code>: character vector of check WARNINGs, each WARNING is an
element.
</p>
</li>
<li> <p><code>errors</code>: character vector of check ERRORs, each ERROR is an element.
A check timeout adds an ERROR to this vector.
</p>
</li>
<li> <p><code>platform</code>: check platform
</p>
</li>
<li> <p><code>checkdir</code>: check directory.
</p>
</li>
<li> <p><code>install_out</code>: the output of the installation, contents of the
<code style="white-space: pre;">&#8288;00install.out&#8288;</code> file. A single string.
</p>
</li>
<li> <p><code>description</code>: the contents of the DESCRIPTION file of the package.
A single string.
</p>
</li>
<li> <p><code>session_info</code>: the output of <code><a href="sessioninfo.html#topic+session_info">sessioninfo::session_info()</a></code>,
from the R session performing the checks.
</p>
</li>
<li> <p><code>checkdir</code>: the path to the check directory, if it hasn't been
cleaned up yet, or <code>NA</code>. The check directory is automatically
cleaned up, when the check object is deleted (garbage collected).
</p>
</li>
<li> <p><code>cran</code>: whether it is a CRAN packaged package.
</p>
</li>
<li> <p><code>bioc</code>: whether it is a BioConductor package.
</p>
</li></ul>


<hr>
<h2 id='compare_checks'>Compare a set of check results to another check result</h2><span id='topic+compare_checks'></span>

<h3>Description</h3>

<p>Compare a set of check results to another check result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_checks(old, new)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compare_checks_+3A_old">old</code></td>
<td>
<p>A check result, or a list of check results.</p>
</td></tr>
<tr><td><code id="compare_checks_+3A_new">new</code></td>
<td>
<p>A check result.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>rcmdcheck_comparison</code> object with fields:
</p>

<ul>
<li> <p><code>package</code>: the name of the package, string,
</p>
</li>
<li> <p><code>versions</code>: package versions, length two character,
</p>
</li>
<li> <p><code>status</code>: comparison status, see below,
</p>
</li>
<li> <p><code>old</code>: list of <code>rcmdcheck</code> objects the old check(s),
</p>
</li>
<li> <p><code>new</code>: <code>rcmdcheck</code> object, the new check,
</p>
</li>
<li> <p><code>cmp</code>:
</p>
</li></ul>



<h3>See Also</h3>

<p>Other check comparisons: 
<code><a href="#topic+compare_to_cran">compare_to_cran</a>()</code>
</p>

<hr>
<h2 id='compare_to_cran'>Compare a check result to CRAN check results</h2><span id='topic+compare_to_cran'></span>

<h3>Description</h3>

<p>Compare a check result to CRAN check results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_to_cran(check, flavours = cran_check_flavours(check$package))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compare_to_cran_+3A_check">check</code></td>
<td>
<p>A check result.</p>
</td></tr>
<tr><td><code id="compare_to_cran_+3A_flavours">flavours</code></td>
<td>
<p>CRAN check flavour(s) to use. By default all
platforms are used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>rmdcheck_comparison</code> object.
</p>


<h3>See Also</h3>

<p>Other check comparisons: 
<code><a href="#topic+compare_checks">compare_checks</a>()</code>
</p>

<hr>
<h2 id='cran_check_flavours'>Download and show all CRAN check flavour platforms</h2><span id='topic+cran_check_flavours'></span>

<h3>Description</h3>

<p>If the <code>package</code> argument is <code>NULL</code>, then all current
platforms are downloaded. If the <code>package</code> argument is specified,
then all flavours used for the latest package checks for that
package, are downloaded and returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cran_check_flavours(package = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cran_check_flavours_+3A_package">package</code></td>
<td>
<p>CRAN package name or <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of platform ids.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cran_check_flavours()
cran_check_flavours("simplegraph")

## End(Not run)
</code></pre>

<hr>
<h2 id='cran_check_results'>Download and parse R CMD check results from CRAN</h2><span id='topic+cran_check_results'></span>

<h3>Description</h3>

<p>Download and parse R CMD check results from CRAN
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cran_check_results(
  package,
  flavours = cran_check_flavours(package),
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cran_check_results_+3A_package">package</code></td>
<td>
<p>Name of a single package to download the checks for.</p>
</td></tr>
<tr><td><code id="cran_check_results_+3A_flavours">flavours</code></td>
<td>
<p>CRAN check flavours to use. Defaults to all
flavours that were used to check the package.</p>
</td></tr>
<tr><td><code id="cran_check_results_+3A_quiet">quiet</code></td>
<td>
<p>Whether to omit the download progress bars.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>rcmdcheck</code> objects.
</p>

<hr>
<h2 id='data_frame'>Alternative to data.frame</h2><span id='topic+data_frame'></span>

<h3>Description</h3>


<ul>
<li><p> Sets stringsAsFactors to FALSE by default
</p>
</li>
<li><p> If any columns have zero length, the result will have
zero rows.
</p>
</li>
<li><p> If a column is a scalar, then it will be recycled.
</p>
</li>
<li><p> Non-matching number of rows gives an error, except for
lengths zero and one.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data_frame(..., stringsAsFactors = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="data_frame_+3A_...">...</code></td>
<td>
<p>Named data frame columns, or data frames.</p>
</td></tr>
<tr><td><code id="data_frame_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>Just leave it on <code>FALSE</code>. <code style="white-space: pre;">&#8288;:)&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.
</p>

<hr>
<h2 id='myrep'>Recycle a vector or a data frame (rows)</h2><span id='topic+myrep'></span>

<h3>Description</h3>

<p>Recycle a vector or a data frame (rows)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>myrep(x, len)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="myrep_+3A_x">x</code></td>
<td>
<p>Vector or data frame to replicate. Must be length 0, 1, or
len.</p>
</td></tr>
<tr><td><code id="myrep_+3A_len">len</code></td>
<td>
<p>Expected length.</p>
</td></tr>
</table>

<hr>
<h2 id='parse_check'>Parse <code>R CMD check</code> results from a file or string</h2><span id='topic+parse_check'></span>

<h3>Description</h3>

<p>At most one of <code>file</code> or <code>text</code> can be given.
If both are <code>NULL</code>, then the current working directory
is checked for a <code>00check.log</code> file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_check(file = NULL, text = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_check_+3A_file">file</code></td>
<td>
<p>The <code>00check.log</code> file, or a directory that
contains that file. It can also be a connection object.</p>
</td></tr>
<tr><td><code id="parse_check_+3A_text">text</code></td>
<td>
<p>The contents of a <code>00check.log</code> file.</p>
</td></tr>
<tr><td><code id="parse_check_+3A_...">...</code></td>
<td>
<p>Other arguments passed onto the constructor.
Used for testing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>rcmdcheck</code> object, the check results.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_check_url">parse_check_url</a></code>
</p>

<hr>
<h2 id='parse_check_url'>Shorthand to parse R CMD check results from a URL</h2><span id='topic+parse_check_url'></span>

<h3>Description</h3>

<p>Shorthand to parse R CMD check results from a URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_check_url(url, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_check_url_+3A_url">url</code></td>
<td>
<p>URL to parse the results from. Note that it should
not contain HTML markup, just the text output.</p>
</td></tr>
<tr><td><code id="parse_check_url_+3A_quiet">quiet</code></td>
<td>
<p>Passed to <code>download.file</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>rcmdcheck</code> object, the check results.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_check">parse_check</a></code>
</p>

<hr>
<h2 id='print.rcmdcheck'>Print R CMD check results</h2><span id='topic+print.rcmdcheck'></span>

<h3>Description</h3>

<p>Print R CMD check results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rcmdcheck'
print(
  x,
  header = TRUE,
  test_output = getOption("rcmdcheck.test_output", FALSE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rcmdcheck_+3A_x">x</code></td>
<td>
<p>Check result object to print.</p>
</td></tr>
<tr><td><code id="print.rcmdcheck_+3A_header">header</code></td>
<td>
<p>Whether to print a header.</p>
</td></tr>
<tr><td><code id="print.rcmdcheck_+3A_test_output">test_output</code></td>
<td>
<p>if <code>TRUE</code>, include the test output in the results,
if there are no test failures. If some tests fail, then only the
failures are printed.</p>
</td></tr>
<tr><td><code id="print.rcmdcheck_+3A_...">...</code></td>
<td>
<p>Additional arguments, currently ignored.</p>
</td></tr>
</table>

<hr>
<h2 id='print.rcmdcheck_comparison'>Print R CMD check result comparisons</h2><span id='topic+print.rcmdcheck_comparison'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+compare_checks">compare_checks()</a></code> and <code><a href="#topic+compare_to_cran">compare_to_cran()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rcmdcheck_comparison'
print(x, header = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rcmdcheck_comparison_+3A_x">x</code></td>
<td>
<p>R CMD check result comparison object.</p>
</td></tr>
<tr><td><code id="print.rcmdcheck_comparison_+3A_header">header</code></td>
<td>
<p>Whether to print the header. You can suppress the
header if you want to use the printout as part of another object's
printout.</p>
</td></tr>
<tr><td><code id="print.rcmdcheck_comparison_+3A_...">...</code></td>
<td>
<p>Additional arguments, currently ignored.</p>
</td></tr>
</table>

<hr>
<h2 id='rcmdcheck'>Run R CMD check from R and Capture Results</h2><span id='topic+rcmdcheck'></span>

<h3>Description</h3>

<p>Run R CMD check from R programmatically, and capture the results of the
individual checks.
</p>
<p>Runs <code style="white-space: pre;">&#8288;R CMD check&#8288;</code> as an external command, and parses its output and
returns the check failures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rcmdcheck(
  path = ".",
  quiet = FALSE,
  args = character(),
  build_args = character(),
  check_dir = NULL,
  libpath = .libPaths(),
  repos = getOption("repos"),
  timeout = Inf,
  error_on = Sys.getenv("RCMDCHECK_ERROR_ON", c("never", "error", "warning",
    "note")[1]),
  env = character()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rcmdcheck_+3A_path">path</code></td>
<td>
<p>Path to a package tarball or a directory.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_quiet">quiet</code></td>
<td>
<p>Whether to print check output during checking.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_args">args</code></td>
<td>
<p>Character vector of arguments to pass to <code style="white-space: pre;">&#8288;R CMD check&#8288;</code>. Pass each
argument as a single element of this character vector (do not use spaces to
delimit arguments like you would in the shell). For example, to skip
running of examples and tests, use <code>args = c("--no-examples", "--no-tests")</code> and not <code>args = "--no-examples --no-tests"</code>. (Note that
instead of the <code>--output</code> option you should use the <code>check_dir</code> argument,
because  <code>--output</code> cannot deal with spaces and other special characters on
Windows.)</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_build_args">build_args</code></td>
<td>
<p>Character vector of arguments to pass to <code style="white-space: pre;">&#8288;R CMD build&#8288;</code>.
Pass each argument as a single element of this character vector (do not use
spaces to delimit arguments like you would in the shell). For example,
<code>build_args = c("--force", "--keep-empty-dirs")</code> is a correct usage and
<code>build_args = "--force --keep-empty-dirs"</code> is incorrect.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_check_dir">check_dir</code></td>
<td>
<p>Path to a directory where the check is performed.
If this is not <code>NULL</code>, then the a temporary directory is used, that
is cleaned up when the returned object is garbage collected.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_libpath">libpath</code></td>
<td>
<p>The library path to set for the check.
The default uses the current library path.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_repos">repos</code></td>
<td>
<p>The <code>repos</code> option to set for the check.
This is needed for cyclic dependency checks if you use the
<code>--as-cran</code> argument. The default uses the current value.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_timeout">timeout</code></td>
<td>
<p>Timeout for the check, in seconds, or as a
<a href="base.html#topic+difftime">base::difftime</a> object. If it is not finished before this, it will be
killed. <code>Inf</code> means no timeout. If the check is timed out,
that is added as an extra error to the result object.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_error_on">error_on</code></td>
<td>
<p>Whether to throw an error on <code style="white-space: pre;">&#8288;R CMD check&#8288;</code> failures.
Note that the check is always completed (unless a timeout happens),
and the error is only thrown after completion. If <code>"never"</code>, then
no errors are thrown. If <code>"error"</code>, then only <code>ERROR</code> failures
generate errors. If <code>"warning"</code>, then <code>WARNING</code> failures generate
errors as well. If <code>"note"</code>, then any check failure generated an
error. Its default can be modified with the <code>RCMDCHECK_ERROR_ON</code>
environment variable. If that is not set, then <code>"never"</code> is used.</p>
</td></tr>
<tr><td><code id="rcmdcheck_+3A_env">env</code></td>
<td>
<p>A named character vector, extra environment variables to
set in the check process.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="#topic+rcmdcheck_process">rcmdcheck_process</a> if you need to run <code style="white-space: pre;">&#8288;R CMD check&#8288;</code> in a background
process.
</p>


<h3>Value</h3>

<p>An S3 object (list) with fields <code>errors</code>,
<code>warnings</code> and <code>notes</code>. These are all character
vectors containing the output for the failed check.
</p>


<h3>Turning off package checks</h3>

<p>Sometimes it is useful to programmatically turn off some checks that
may report check NOTEs.
rcmdcehck provides two ways to do this.
</p>
<p>First, you may declare in <code>DESCRIPTION</code> that you don't want to see
NOTEs that are accepted on CRAN, with this entry:</p>
<pre>Config/rcmdcheck/ignore-inconsequential-notes: true
</pre>
<p>Currently, this will make rcmdcheck ignore the following notes:
</p>

<ul>
<li><p> report large package sizes (<code style="white-space: pre;">&#8288;_R_CHECK_PKG_SIZES_ = FALSE&#8288;</code>),
</p>
</li>
<li><p> check cross-references in Rd files (<code style="white-space: pre;">&#8288;_R_CHECK_RD_XREFS_ = FALSE&#8288;</code>),
</p>
</li>
<li><p> NOTE if package requires GNU make (<code style="white-space: pre;">&#8288;_R_CHECK_CRAN_INCOMING_NOTE_GNU_MAKE_ = FALSE&#8288;</code>),
</p>
</li>
<li><p> report marked non-ASCII strings in datasets (<code style="white-space: pre;">&#8288;_R_CHECK_PACKAGE_DATASETS_SUPPRESS_NOTES_ = TRUE&#8288;</code>).
</p>
</li></ul>

<p>The second way is more flexible, and lets you turn off individual checks
via setting environment variables.
You may provide a <code>tools/check.env</code> <em>environment file</em> in your package
with the list of environment variable settings that rcmdcheck will
automatically use when checking the package.
See <a href="base.html#topic+Startup">Startup</a> for the format of this file.
</p>
<p>Here is an example <code>tools/check.env</code> file:</p>
<pre># Report if package size is larger than 10 megabytes
_R_CHECK_PKG_SIZES_THRESHOLD_=10

# Do not check Rd cross references
_R_CHECK_RD_XREFS_=false

# Do not report if package requires GNU make
_R_CHECK_CRAN_INCOMING_NOTE_GNU_MAKE_=false

# Do not check non-ASCII strings in datasets
_R_CHECK_PACKAGE_DATASETS_SUPPRESS_NOTES_=true
</pre>
<p>See the <a href="https://cran.r-project.org/doc/manuals/r-devel/R-ints.html">&quot;R internals&quot; manual</a>
and the <a href="https://github.com/wch/r-source">R source code</a> for the
environment variables that control the checks.
</p>
<p>Note that <code>Config/rcmdcheck/ignore-inconsequential-notes</code> and the
<code>check.env</code> file are only supported by rcmdcheck, and running
<code style="white-space: pre;">&#8288;R CMD check&#8288;</code> from a shell (or GUI) will not use them.
</p>

<hr>
<h2 id='rcmdcheck_process'>Run an <code style="white-space: pre;">&#8288;R CMD check&#8288;</code> process in the background</h2><span id='topic+rcmdcheck_process'></span>

<h3>Description</h3>

<p>rcmdcheck_process is an R6 class, that extends the
<a href="callr.html#topic+rcmd_process">callr::rcmd_process</a> class (which in turn extends <a href="processx.html#topic+process">processx::process</a>.
</p>


<h3>Usage</h3>

<pre>cp &lt;- rcmdcheck_process$new(path = ".", args = character(),
         build_args = character(), check_dir = NULL,
         libpath = .libPaths(), repos = getOption("repos"))

cp$parse_results()
</pre>
<p>Other methods are inherited from <a href="callr.html#topic+rcmd_process">callr::rcmd_process</a> and
<a href="processx.html#topic+process">processx::process</a>.
</p>
<p>Note that you calling the <code>get_output_connection</code> and
<code>get_error_connection</code> method on this is not a good idea, because
then the stdout and/or stderr of the process will not be collected
for <code>parse_results()</code>.
</p>
<p>You can still use the <code>read_output_lines()</code> and <code>read_error_lines()</code>
methods to read the standard output and error, <code>parse_results()</code> is
not affected by that.
</p>


<h3>Arguments</h3>


<ul>
<li> <p><code>cp</code>: A new rcmdcheck_process object.
</p>
</li>
<li> <p><code>path</code>: Path to a package tree or a package archive file. This is the
package to check.
</p>
</li>
<li> <p><code>args</code>: Command line arguments to <code style="white-space: pre;">&#8288;R CMD check&#8288;</code>.
</p>
</li>
<li> <p><code>build_args</code>: Command line arguments to <code style="white-space: pre;">&#8288;R CMD build&#8288;</code>.
</p>
</li>
<li> <p><code>check_dir</code>: Directory for the results.
</p>
</li>
<li> <p><code>libpath</code>: The library path to set for the check.
</p>
</li>
<li> <p><code>repos</code>: The <code>repos</code> option to set for the check.
This is needed for cyclic dependency checks if you use the
<code>--as-cran</code> argument. The default uses the current value.
</p>
</li>
<li> <p><code>env</code>: A named character vector, extra environment variables to
set in the check process.
</p>
</li></ul>



<h3>Details</h3>

<p>Most methods are inherited from <a href="callr.html#topic+rcmd_process">callr::rcmd_process</a> and
<a href="processx.html#topic+process">processx::process</a>.
</p>
<p><code>cp$parse_results()</code> parses the results, and returns an S3 object with
fields <code>errors</code>, <code>warnnigs</code> and <code>notes</code>, just like <code><a href="#topic+rcmdcheck">rcmdcheck()</a></code>. It
is an error to call it before the process has finished. Use the
<code>wait()</code> method to wait for the check to finish, or the <code>is_alive()</code>
method to check if it is still running.
</p>

<hr>
<h2 id='rcmdcheck-config'>rcmdcheck configuration</h2><span id='topic+rcmdcheck-config'></span>

<h3>Description</h3>

<p>Options take precedence over environment variables. E.g. if both
the <code>RCMDCHECK_NUM_COLORS</code> environment variables and the
<code>rcmdcheck.num_colors</code> option are set, then the latter is used.
</p>


<h3>Details</h3>

<p>rcmdcheck uses the cli package for much of its output, so you can
configure the output via cli, see <a href="cli.html#topic+cli-config">cli::cli-config</a>.
</p>
<p>Package configration is defined in the <code>DESCRIPTION</code> file of the checked
package. E.g.:</p>
<pre>Config/build/clean-inst-doc: FALSE
</pre>


<h3>Environment variables</h3>


<ul>
<li> <p><code>R_PROFILE_USER</code>: standard R environment variable to configure the
path to the user level R profile. See <a href="base.html#topic+Startup">base::R_PROFILE_USER</a>.
</p>
</li>
<li> <p><code>RCMDCHECK_BASE_URL</code>: URL to the root of the CRAN check web page.
You can use this to select an alternative CRAN mirror. Defaults to
<code style="white-space: pre;">&#8288;https://cran.r-project.org/web/checks/&#8288;</code>.
</p>
</li>
<li> <p><code>RCMDCHECK_DETAILS_URL</code>: URL to the root of the CRAN check output
page. Defaults to <code style="white-space: pre;">&#8288;https://www.r-project.org/nosvn/R.check/&#8288;</code>.
</p>
</li>
<li> <p><code>RCMDCHECK_ERROR_ON</code>: the default value for the <code>error_on</code> argument
of <code><a href="#topic+rcmdcheck">rcmdcheck()</a></code>.
</p>
</li>
<li> <p><code>RCMDCHECK_FLAVOURS_URL</code> URL to the CRAN check flavours page.
You can use this to select an alternative CRAN mirror. Defaults to
<code style="white-space: pre;">&#8288;https://cran.r-project.org/web/checks/check_flavors.html&#8288;</code>.
</p>
</li>
<li> <p><code>RCMDCHECK_NUM_COLORS</code>: the number of ANSI colors to use in the output.
It can be used to override the number of colors detected or configured
by the cli package. See <code><a href="cli.html#topic+num_ansi_colors">cli::num_ansi_colors()</a></code>. This configuration
is only used for the output of rcmdcheck and it does not affect the
examples and test cases (and other code) of the checked package.
It not set, then the default of cli is uesed. The corresponding
option is <code>rcmdcheck.num_colors</code>.
</p>
</li>
<li> <p><code>RCMDCHECK_TIMESTAMP_LIMIT</code>: lower limit is seconds, above which
rcmdcheck adds time stamps to the individual check steps. It may be
fractional. Defaults to 1/3 of a second. The corresponding option is
<code>rcmdcheck.timestamp_limit</code>.
</p>
</li>
<li> <p><code>RCMDCHECK_USE_RSTUDIO_PANDOC</code>: Flag (<code>true</code> or <code>false</code>). If <code>true</code>,
then rcmdcheck <em>always</em> puts RStudio's pandoc (if available) on the
path. If <code>false</code>, then it <em>never</em> does that. If not set, or set to a
different value, then pandoc is put on the path only if it is not
already available. RStudio's pandoc is detected via an <code>RSTUDIO_PANDOC</code>
environment variable.
</p>
</li>
<li> <p><code>RCMDCHECK_LOAD_CHECK_ENV</code>: you can use this environment variable
suppress loading environment variables from the <code>tools/check.env</code> file.
See <code><a href="#topic+rcmdcheck">rcmdcheck()</a></code> for details.
</p>
</li>
<li> <p><code>RSTUDIO_PANDOC</code>: if set, rcmdcheck adds this environment variable
to the PATH if pandoc is not on the PATH already. It is usually set
in RStudio. See also the <code>RCMDCHECK_USE_RSTUDIO_PANDOC</code> environment
variable.
</p>
</li></ul>



<h3>Options</h3>


<ul>
<li> <p><code>rcmdcheck.num_colors</code>: the number of ANSI colors to use in the output.
It can be used to override the number of colors detected or configured
by the cli package. See <code><a href="cli.html#topic+num_ansi_colors">cli::num_ansi_colors()</a></code>. This configuration
is only used for the output of rcmdcheck and it does not affect the
examples and test cases (and other code) of the checked package.
It not set, then the default of cli is uesed. The corresponding
environment variable is <code>RCMDCHECK_NUM_COLORS</code>.
</p>
</li>
<li> <p><code>rcmdcheck.test_output</code>: Flag (<code>TRUE</code> or <code>FALSE</code>), whether
<code><a href="#topic+print.rcmdcheck">print.rcmdcheck()</a></code> should print the full test output if there are
no test failures. If some tests fail, then only the failures are
printed, independently of this option.
</p>
</li>
<li> <p><code>rcmdcheck.timestamp_limit</code>: lower limit is seconds, above which
rcmdcheck adds time stamps to the individual check steps. It may be
fractional. Defaults to 1/3 of a second. The corresponding environment
variable is <code>RCMDCHECK_TIMESTAMP_LIMIT</code>.
</p>
</li></ul>



<h3>Package configuration:</h3>


<ul>
<li> <p><code>Config/build/clean-inst-doc</code>: Flag (<code>TRUE</code> or <code>FALSE</code>) to
specify if the <code>inst/doc</code> directory should be cleaned up when
building a package directory. If not specified, then <code>NULL</code> is used.
See the <code>clean_doc</code> option of <code><a href="pkgbuild.html#topic+build">pkgbuild::build()</a></code> for more details.
</p>
</li></ul>


<hr>
<h2 id='xopen.rcmdcheck'>Open the check directory in a file browser window</h2><span id='topic+xopen.rcmdcheck'></span>

<h3>Description</h3>

<p>Open the check directory in a file browser window
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rcmdcheck'
xopen(target, app = NULL, quiet = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xopen.rcmdcheck_+3A_target">target</code></td>
<td>
<p><code>rcmdcheck()</code> result.</p>
</td></tr>
<tr><td><code id="xopen.rcmdcheck_+3A_app">app</code></td>
<td>
<p>Specify the app to open <code>target</code> with, and its arguments,
in a character vector. Note that app names are platform dependent.</p>
</td></tr>
<tr><td><code id="xopen.rcmdcheck_+3A_quiet">quiet</code></td>
<td>
<p>Whether to echo the command to the screen, before
running it.</p>
</td></tr>
<tr><td><code id="xopen.rcmdcheck_+3A_...">...</code></td>
<td>
<p>Additional arguments, not used currently.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

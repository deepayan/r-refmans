<!DOCTYPE html><html><head><title>Help for package divvy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {divvy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bandit'><p>Rarefy localities within latitudinal bands</p></a></li>
<li><a href='#bivalves'><p>Paleobiology Database occurrences of Pliocene fossil bivalves</p></a></li>
<li><a href='#classRast'><p>Convert point environment data to a raster of majority-environment classes</p></a></li>
<li><a href='#clustr'><p>Cluster localities within regions of nearest neighbours</p></a></li>
<li><a href='#collSilur'><p>Paleobiology Database collections of Silurian marine fossils</p></a></li>
<li><a href='#cookies'><p>Rarefy localities within circular regions of standard area</p></a></li>
<li><a href='#occSilur'><p>Paleobiology Database occurrences of Silurian fossil brachiopods</p></a></li>
<li><a href='#rangeSize'><p>Calculate common metrics of spatial distribution</p></a></li>
<li><a href='#sdSumry'><p>Calculate basic spatial coverage and diversity metrics</p></a></li>
<li><a href='#uniqify'><p>Find unique (taxon) occurrence records</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Spatial Subsampling of Biodiversity Occurrence Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Description:</td>
<td>Divide taxonomic occurrence data into geographic regions of fair
    comparison, with three customisable methods to standardise area and extent.
    Calculate common biodiversity and range-size metrics on subsampled data.
    Background theory and practical considerations for the methods are described
    in Antell and others (2023) &lt;<a href="https://doi.org/10.31223%2FX5997Z">doi:10.31223/X5997Z</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>iNEXT (&ge; 3.0.0), Rdpack, sf, terra, units, vegan</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rnaturalearth, rnaturalearthdata, ggplot2, rmarkdown,
testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gawainantell.github.io/divvy/">https://gawainantell.github.io/divvy/</a>,
<a href="https://github.com/GawainAntell/divvy">https://github.com/GawainAntell/divvy</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/GawainAntell/divvy/issues">https://github.com/GawainAntell/divvy/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-25 21:39:15 UTC; antell</td>
</tr>
<tr>
<td>Author:</td>
<td>Gawain Antell <a href="https://orcid.org/0000-0002-1948-6624"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gawain Antell &lt;gawainantell@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-26 08:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='bandit'>Rarefy localities within latitudinal bands</h2><span id='topic+bandit'></span>

<h3>Description</h3>

<p><code>bandit</code> subsamples spatial point data to a specified number of sites
within bins of equal latitude
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bandit(
  dat,
  xy,
  iter,
  nSite,
  bin,
  centr = FALSE,
  absLat = FALSE,
  maxN = 90,
  maxS = -90,
  crs = "epsg:4326",
  output = "locs"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bandit_+3A_dat">dat</code></td>
<td>
<p>A <code>data.frame</code> or <code>matrix</code> containing the coordinate
columns <code>xy</code> and any associated variables, e.g. taxon names.</p>
</td></tr>
<tr><td><code id="bandit_+3A_xy">xy</code></td>
<td>
<p>A vector of two elements, specifying the name or numeric position
of columns in <code>dat</code> containing coordinates, e.g. longitude and latitude.
Coordinates for any shared sampling sites should be identical, and where sites
are raster cells, coordinates are usually expected to be cell centroids.</p>
</td></tr>
<tr><td><code id="bandit_+3A_iter">iter</code></td>
<td>
<p>The number of times to subsample localities within <strong>each</strong>
latitudinal band.</p>
</td></tr>
<tr><td><code id="bandit_+3A_nsite">nSite</code></td>
<td>
<p>The quota of unique locations to include in each subsample.</p>
</td></tr>
<tr><td><code id="bandit_+3A_bin">bin</code></td>
<td>
<p>A positive numeric value for latitudinal band width, in degrees.</p>
</td></tr>
<tr><td><code id="bandit_+3A_centr">centr</code></td>
<td>
<p>Logical: should a bin center on and cover the equator
(<code>TRUE</code>) or should the equator mark the boundary between the
lowest-latitude northern and southern bins (<code>FALSE</code>, default)?
Ignored if <code>absLat = TRUE</code>.</p>
</td></tr>
<tr><td><code id="bandit_+3A_abslat">absLat</code></td>
<td>
<p>Logical: should only the absolute values of latitude be
evaluated? If <code>absLat = TRUE</code>, <code>centr</code> argument is ignored.</p>
</td></tr>
<tr><td><code id="bandit_+3A_maxn">maxN</code></td>
<td>
<p>Optional argument to specify the northmost limit for subsampling,
if less than 90 degrees.</p>
</td></tr>
<tr><td><code id="bandit_+3A_maxs">maxS</code></td>
<td>
<p>Optional argument to specify the southmost limit for subsampling,
if not -90 degrees. Should be a negative value if in the southern hemisphere.</p>
</td></tr>
<tr><td><code id="bandit_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system as a GDAL text string, EPSG code,
or object of class <code>crs</code>. Default is latitude-longitude (<code>EPSG:4326</code>).</p>
</td></tr>
<tr><td><code id="bandit_+3A_output">output</code></td>
<td>
<p>Whether the returned data should be two columns of
subsample site coordinates (<code>output = 'locs'</code>) or the subset of rows
from <code>dat</code> associated with those coordinates (<code>output = 'full'</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bandit()</code> rarefies the number of spatial sites within latitudinal ranges
of specified bin width. (Compare with <code><a href="#topic+cookies">cookies()</a></code> and <code><a href="#topic+clustr">clustr()</a></code>, which spatially
subsample to a specified extent without regard to latitudinal position.)
Cases where it could be appropriate to control for latitudinal spread of localities
include characterisations of latitudinal diversity gradients (e.g. Marcot 2016)
or comparisons of ecosystem parameters that covary strongly with
latitude (e.g. diversity in reefal vs. non-reefal habitats). Note that
the total surface area of the Earth within equal-latitudinal increments
decreases from the equator towards the poles; <code>bandit()</code> standardises only
the amount of sites/area encompassed by each subsample, not the total area
that could have been available for species to inhabit.
</p>
<p>As with all <code>divvy</code> subsampling functions, sites within a given
regional/latitudinal subsample are selected without replacement.
</p>
<p>To calculate an integer number of degrees into which a given latitudinal
range divides evenly, the <code>palaeoverse</code> package (v 1.2.1) provides the
<code><a href="palaeoverse.html#topic+lat_bins">palaeoverse::lat_bins()</a></code> function with argument <code>fit = TRUE</code>.
</p>


<h3>Value</h3>

<p>A list of subsamples, each a <code>data.frame</code> containing
coordinates of subsampled localities (if <code>output = 'locs'</code>)
or the subset of occurrences from <code>dat</code> associated with those coordinates
(if <code>output = 'full'</code>). The latitudinal bounds of each subsample
are specified by its name in the list. If there are too few localities
in a given interval to draw a subsample, that interval is omitted from output.
</p>


<h3>References</h3>

<p>Allen BJ, Wignall PB, Hill DJ, Saupe EE, Dunhill AM (2020).
&ldquo;The latitudinal diversity gradient of tetrapods across the Permo&ndash;Triassic mass extinction and recovery interval.&rdquo;
<em>Proceedings of the Royal Society B</em>, <b>287</b>(1929), 20201125.
<a href="https://doi.org/10.1098/rspb.2020.1125">doi:10.1098/rspb.2020.1125</a>.
</p>
<p>Marcot JD, Fox DL, Niebuhr SR (2016).
&ldquo;Late Cenozoic onset of the latitudinal diversity gradient of North American mammals.&rdquo;
<em>Proceedings of the National Academy of Sciences</em>, <b>113</b>(26), 7189-7194.
<a href="https://doi.org/10.1073/pnas.1524750113">doi:10.1073/pnas.1524750113</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cookies">cookies()</a></code>
</p>
<p><code><a href="#topic+clustr">clustr()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load bivalve occurrences to rasterise
library(terra)
data(bivalves)

# initialise Equal Earth projected coordinates
rWorld &lt;- rast()
prj &lt;- 'EPSG:8857'
rPrj &lt;- project(rWorld, prj, res = 200000) # 200,000m is approximately 2 degrees

# coordinate column names for the current and target coordinate reference system
xyCartes &lt;- c('paleolng','paleolat')
xyCell   &lt;- c('centroidX','centroidY')

# project occurrences and retrieve cell centroids in new coordinate system
llOccs &lt;- vect(bivalves, geom = xyCartes, crs = 'epsg:4326')
prjOccs &lt;- project(llOccs, prj)
cellIds &lt;- cells(rPrj, prjOccs)[,'cell']
bivalves[, xyCell] &lt;- xyFromCell(rPrj, cellIds)

# subsample 20 equal-area sites within 10-degree bands of absolute latitude
n &lt;- 20
reps &lt;- 100
set.seed(11)
bandAbs &lt;- bandit(dat = bivalves, xy = xyCell,
                  iter = reps, nSite = n, output = 'full',
                  bin = 10, absLat = TRUE,
                  crs = prj
)
head(bandAbs[[1]]) # inspect first subsample
names(bandAbs)[1] # degree interval (absolute value) of first subsample
#&gt; [1] "[10,20)"
unique(names(bandAbs)) # all intervals containing sufficient data
#&gt; [1] "[10,20)" "[20,30)" "[30,40)" "[40,50)"
# note insufficient coverage to subsample at equator or above 50 degrees

# subsample 20-degree bands, where central band spans the equator
# (-10 S to 10 N latitude), as in Allen et al. (2020)
# (An alternative, finer-grain way to divide 180 degrees evenly into an
# odd number of bands would be to set 'bin' = 4.)
bandCent &lt;- bandit(dat = bivalves, xy = xyCell,
                   iter = reps, nSite = n, output = 'full',
                   bin = 20, centr = TRUE, absLat = FALSE,
                   crs = prj
)
unique(names(bandCent)) # all intervals containing sufficient data
#&gt; [1] "[-50,-30)" "[10,30)" "[30,50)"

</code></pre>

<hr>
<h2 id='bivalves'>Paleobiology Database occurrences of Pliocene fossil bivalves</h2><span id='topic+bivalves'></span>

<h3>Description</h3>

<p>A dataset containing the (palaeo)coordinates and genus identifications of
8,000 marine bivalves from the Pliocene (ca. 5.3-2.6 Ma). Records with
uncertain or unaccepted taxonomic names, non-marine palaeo-environments,
or missing coordinates are excluded from the original download
(24 June 2022).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bivalves
</code></pre>


<h3>Format</h3>

<p>A data frame with 8095 rows and 9 variables:
</p>

<dl>
<dt>genus</dt><dd><p>Latin genus identification. Subgenera are not elevated.</p>
</dd>
<dt>paleolng, paleolat</dt><dd><p>Coordinates of an occurrence, rotated to
its palaeogeographic location with the tectonic plate model of
<a href="https://www.earthbyte.org/">GPlates</a></p>
</dd>
<dt>collection_no, reference_no</dt><dd><p>Unique identifiers for the collection and published
reference containing the occurrence</p>
</dd>
<dt>environment</dt><dd><p>One of 23 marine environment categories</p>
</dd>
<dt>max_ma, min_ma</dt><dd><p>Bounds of the age estimate for an occurrence</p>
</dd>
<dt>accepted_name</dt><dd><p>Original identification, including subgenus and
species epithet if applicable, according to the latest PBDB
accepted taxonomy at time of download</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://paleobiodb.org/">https://paleobiodb.org/</a>
</p>

<hr>
<h2 id='classRast'>Convert point environment data to a raster of majority-environment classes</h2><span id='topic+classRast'></span>

<h3>Description</h3>

<p>Given point occurrences of environmental categories, <code>classRast</code> generates
a raster grid with cell values specifying the majority environment therein.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>classRast(grid, dat = NULL, xy, env, cutoff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="classRast_+3A_grid">grid</code></td>
<td>
<p>A <code>SpatRaster</code> to use as a template for the
resolution, extent, and coordinate reference system of the returned object.
Values can be empty.</p>
</td></tr>
<tr><td><code id="classRast_+3A_dat">dat</code></td>
<td>
<p>Either a <code>data.frame</code> or <code>matrix</code> for which <code>xy</code> and <code>env</code> are
column names, or an empty argument.</p>
</td></tr>
<tr><td><code id="classRast_+3A_xy">xy</code></td>
<td>
<p>A vector specifying the name or numeric position of columns
in <code>dat</code> containing coordinates, if <code>dat</code> is supplied, or a 2-column
<code>data.frame</code> or <code>matrix</code> of coordinate values.</p>
</td></tr>
<tr><td><code id="classRast_+3A_env">env</code></td>
<td>
<p>The name or numeric position of the column in <code>dat</code> containing a
categorical environmental variable, if <code>dat</code> is supplied, or a vector of
environmental values.</p>
</td></tr>
<tr><td><code id="classRast_+3A_cutoff">cutoff</code></td>
<td>
<p>The (decimal) proportion of incidences of an environmental
category above which a cell will be assigned as that category.
<code>cutoff</code> must be greater than 0.5.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>cutoff</code> threshold is an inclusive bound: environmental incidence
proportions greater than or equal to the <code>cutoff</code> will assign cell values
to the majority environmental class. For instance, if category A represents
65% of occurrences in a cell and <code>cutoff = 0.65</code>, the returned value for the
cell will be A. If no single category in a cell meets or exceeds the
representation necessary to reach the given <code>cutoff</code>, the value returned
for the cell is <code>indet.</code>, indeterminate.
Cells lacking environmental occurrences altogether return <code>NA</code> values.
</p>
<p>The <code>env</code> object can contain more than two classes, but in many cases it will
be less likely for any individual class to attain an absolute majority the
more finely divided classes are. For example, if there are three classes,
A, B, and C, with relative proportions of 20%, 31%, and 49%, the cell value
will be returned as <code>indet.</code> because no single class can attain a <code>cutoff</code>
above 50%, despite class C having the largest relative representation.
</p>
<p>Missing environment values in the point data should be coded as <code>NA</code>,
not e.g. <code>'unknown'</code>. <code>classRast()</code> ignores <code>NA</code> occurrences when tallying
environmental occurrences against the <code>cutoff</code>. However, <code>NA</code> occurrences
still count when determining <code>NA</code> status of cells in the raster: a cell
containing occurrences of only <code>NA</code> value is classified as <code>indet.</code>, not <code>NA</code>.
That is, any grid cell encompassing original point data is non-<code>NA</code>.
</p>
<p>Antell and others (2020) set a <code>cutoff</code> of 0.8, based on the same threshold
Nürnberg and Aberhan (2013) used to classify environmental preferences for taxa.
</p>
<p>The coordinates associated with points should be given with respect to the
same coordinate reference system (CRS) of the target raster grid, e.g. both
given in latitude-longitude, Equal Earth projected coordinates, or other CRS.
The CRS of a <code>SpatRaster</code> object can be retrieved with <code><a href="terra.html#topic+crs">terra::crs()</a></code>
(with the optional but helpful argument <code>describe = TRUE</code>).
</p>


<h3>Value</h3>

<p>A raster of class <code>SpatRaster</code> defined by the <code>terra</code> package
</p>


<h3>References</h3>

<p>Antell GT, Kiessling W, Aberhan M, Saupe EE (2020).
&ldquo;Marine biodiversity and geographic distributions are independent on large scales.&rdquo;
<em>Current Biology</em>, <b>30</b>(1), 115-121.
<a href="https://doi.org/10.1016/j.cub.2019.10.065">doi:10.1016/j.cub.2019.10.065</a>.
</p>
<p>Nürnberg S, Aberhan M (2013).
&ldquo;Habitat breadth and geographic range predict diversity dynamics in marine Mesozoic bivalves.&rdquo;
<em>Paleobiology</em>, <b>39</b>(3), 360-372.
<a href="https://doi.org/10.1666/12047">doi:10.1666/12047</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)
# work in Equal Earth projected coordinates
prj &lt;- 'EPSG:8857'
# generate point occurrences in a small area of Northern Africa
n &lt;- 100
set.seed(5)
x &lt;- runif(n,  0, 30)
y &lt;- runif(n, 10, 30)
# generate an environmental variable with a latitudinal gradient
# more habitat type 0 (e.g. rock) near equator, more 1 (e.g. grassland) to north
env &lt;- rbinom(n, 1, prob = (y-10)/20)
env[env == 0] &lt;- 'rock'
env[env == 1] &lt;- 'grass'
# units for Equal Earth are meters, so if we consider x and y as given in km,
x &lt;- x * 1000
y &lt;- y * 1000
ptsDf &lt;- data.frame(x, y, env)
# raster for study area at 5-km resolution
r &lt;- rast(resolution = 5*1000, crs = prj,
          xmin = 0, xmax = 30000, ymin = 10000, ymax = 30000)

binRast &lt;- classRast(grid = r, dat = ptsDf, xy = c('x', 'y'),
                     env = 'env', cutoff = 0.6)
binRast

# plot environment classification vs. original points
plot(binRast, col = c('lightgreen', 'grey60', 'white'))
points(ptsDf[env=='rock', ], pch = 16, cex = 1.2) # occurrences of given habitat
points(ptsDf[env=='grass',], pch =  1, cex = 1.2)

# classRast can also accept more than 2 environmental classes:

# add a 3rd environmental class with maximum occurrence in bottom-left grid cell
newEnv &lt;- data.frame('x' = rep(0,       10),
                     'y' = rep(10000,   10),
                     'env' = rep('new', 10))
ptsDf &lt;- rbind(ptsDf, newEnv)
binRast &lt;- classRast(grid = r, dat = ptsDf, xy = c('x', 'y'),
                     env = 'env', cutoff = 0.6)
plot(binRast, col = c('lightgreen', 'grey60', 'purple', 'white'))

</code></pre>

<hr>
<h2 id='clustr'>Cluster localities within regions of nearest neighbours</h2><span id='topic+clustr'></span>

<h3>Description</h3>

<p>Spatially subsample a dataset based on minimum spanning trees connecting
points within regions of set extent, with optional rarefaction to a site quota.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clustr(
  dat,
  xy,
  iter,
  nSite = NULL,
  distMax,
  nMin = 3,
  crs = "epsg:4326",
  output = "locs"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clustr_+3A_dat">dat</code></td>
<td>
<p>A <code>data.frame</code> or <code>matrix</code> containing the coordinate
columns <code>xy</code> and any associated variables, e.g. taxon names.</p>
</td></tr>
<tr><td><code id="clustr_+3A_xy">xy</code></td>
<td>
<p>A vector of two elements, specifying the name or numeric position
of columns in <code>dat</code> containing coordinates, e.g. longitude and latitude.
Coordinates for any shared sampling sites should be identical, and where sites
are raster cells, coordinates are usually expected to be cell centroids.</p>
</td></tr>
<tr><td><code id="clustr_+3A_iter">iter</code></td>
<td>
<p>The number of spatial subsamples to return</p>
</td></tr>
<tr><td><code id="clustr_+3A_nsite">nSite</code></td>
<td>
<p>The quota of unique locations to include in each subsample.</p>
</td></tr>
<tr><td><code id="clustr_+3A_distmax">distMax</code></td>
<td>
<p>Numeric value for maximum diameter (km) allowed across
locations in a subsample</p>
</td></tr>
<tr><td><code id="clustr_+3A_nmin">nMin</code></td>
<td>
<p>Numeric value for the minimum number of sites to be included in
every returned subsample. If <code>nSite</code> supplied, <code>nMin</code> ignored.</p>
</td></tr>
<tr><td><code id="clustr_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system as a GDAL text string, EPSG code,
or object of class <code>crs</code>. Default is latitude-longitude (<code>EPSG:4326</code>).</p>
</td></tr>
<tr><td><code id="clustr_+3A_output">output</code></td>
<td>
<p>Whether the returned data should be two columns of
subsample site coordinates (<code>output = 'locs'</code>) or the subset of rows
from <code>dat</code> associated with those coordinates (<code>output = 'full'</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Lagomarcino and Miller (2012) developed an iterative approach of aggregating
localities to build clusters based on convex hulls, inspired by species-area
curve analysis (Scheiner 2003). Close et al. (2017, 2020) refined the approach and
changed the proximity metric from minimum convex hull area to minimum spanning
tree length. The present implementation adapts code from Close et al. (2020)
to add an option for site rarefaction after cluster construction and to grow
trees at random starting points <code>iter</code> number of times (instead of a
deterministic, exhaustive iteration at every unique location).
</p>
<p>The function takes a single location as a starting (seed) point; the seed
and its nearest neighbour initiate a spatial cluster. The distance between
the two points is the first branch in a minimum spanning tree for the cluster.
The location that has the shortest distance to any points already within the
cluster is grouped in next, and its distance (branch) is added to the sum
tree length. This iterative process continues until the largest distance
between any two points in the cluster would exceed <code>distMax</code> km.
In the rare case multiple candidate points are tied for minimum distance
from the cluster, one point is selected at random as the next to include.
Any tree with fewer than <code>nMin</code> points is prohibited.
</p>
<p>In the case that <code>nSite</code> is supplied, <code>nMin</code> argument is ignored,
and any tree with fewer than <code>nSite</code> points is prohibited.
After building a tree as described above, a random set of <code>nSite</code> points
within the cluster is taken (without replacement).
The <code>nSite</code> argument makes <code>clustr()</code> comparable with <code><a href="#topic+cookies">cookies()</a></code>
in that it spatially standardises both extent and area/locality number.
</p>
<p>The performance of <code>clustr()</code> is designed on the assumption <code>iter</code>
is much larger than the number of unique localities. Internal code first
calculates the full minimum spanning tree at every viable starting point
before it then samples those trees (i.e. resamples and optionally rarefies)
for the specified number of iterations. This sequence means the total
run-time increases only marginally even as <code>iter</code> increases greatly.
However, if there are a large number of sites, particularly a large number
of densely-spaced sites, the calculations will be slow even for a
small number of iterations.
</p>


<h3>Value</h3>

<p>A list of length <code>iter</code>. Each element is a <code>data.frame</code>
(or <code>matrix</code>, if <code>dat</code> is a <code>matrix</code> and <code>output = 'full'</code>).
If <code>nSite</code> is supplied, each element contains <code>nSite</code> observations.
If <code>output = 'locs'</code> (default), only the coordinates of subsampling
locations are returned.
If <code>output = 'full'</code>, all <code>dat</code> columns are returned for the
rows associated with the subsampled locations.
</p>


<h3>References</h3>

<p>Antell GT, Kiessling W, Aberhan M, Saupe EE (2020).
&ldquo;Marine biodiversity and geographic distributions are independent on large scales.&rdquo;
<em>Current Biology</em>, <b>30</b>(1), 115-121.
<a href="https://doi.org/10.1016/j.cub.2019.10.065">doi:10.1016/j.cub.2019.10.065</a>.
</p>
<p>Close RA, Benson RB, Upchurch P, Butler RJ (2017).
&ldquo;Controlling for the species&ndash;area effect supports constrained long-term Mesozoic terrestrial vertebrate diversification.&rdquo;
<em>Nature Communications</em>, <b>8</b>(1), 1&ndash;11.
<a href="https://doi.org/10.1038/ncomms15381">doi:10.1038/ncomms15381</a>.
</p>
<p>Close RA, Benson RB, Saupe EE, Clapham ME, Butler RJ (2020).
&ldquo;The spatial structure of Phanerozoic marine animal diversity.&rdquo;
<em>Science</em>, <b>368</b>(6489), 420-424.
<a href="https://doi.org/10.1126/science.aay8309">doi:10.1126/science.aay8309</a>.
</p>
<p>Lagomarcino AJ, Miller AI (2012).
&ldquo;The relationship between genus richness and geographic area in Late Cretaceous marine biotas: Epicontinental sea versus open-ocean-facing settings.&rdquo;
<em>PloS One</em>, <b>7</b>(8), e40472.
<a href="https://doi.org/10.1371/journal.pone.0040472">doi:10.1371/journal.pone.0040472</a>.
</p>
<p>Scheiner SM (2003).
&ldquo;Six types of species&ndash;area curves.&rdquo;
<em>Global Ecology and Biogeography</em>, <b>12</b>(6), 441-447.
<a href="https://doi.org/10.1046/j.1466-822X.2003.00061.x">doi:10.1046/j.1466-822X.2003.00061.x</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cookies">cookies()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate occurrences: 10 lat-long points in modern Australia
n &lt;- 10
x &lt;- seq(from = 140, to = 145, length.out = n)
y &lt;- seq(from = -20, to = -25, length.out = n)
pts &lt;- data.frame(x, y)

# sample 5 sets of 4 locations no more than 400km across
clustr(dat = pts, xy = 1:2, iter = 5,
       nSite = 4, distMax = 400)

</code></pre>

<hr>
<h2 id='collSilur'>Paleobiology Database collections of Silurian marine fossils</h2><span id='topic+collSilur'></span>

<h3>Description</h3>

<p>A dataset containing the (palaeo)coordinates and recorded marine environment
of 8,000 PBDB fossil collections from the Silurian, formatted and downloaded
from the Paleobiology Database on 24 June 2022.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collSilur
</code></pre>


<h3>Format</h3>

<p>A data frame with 8345 rows and 7 variables:
</p>

<dl>
<dt>paleolng, paleolat</dt><dd><p>Coordinates of a collection, rotated to
its palaeogeographic location with the tectonic plate model of
<a href="https://www.earthbyte.org/">GPlates</a></p>
</dd>
<dt>collection_no, reference_no</dt><dd><p>Unique identifier for the collection
and its published reference</p>
</dd>
<dt>environment</dt><dd><p>One of 23 marine environment categories</p>
</dd>
<dt>max_ma, min_ma</dt><dd><p>Bounds of the age estimate for a collection</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://paleobiodb.org/">https://paleobiodb.org/</a>
</p>

<hr>
<h2 id='cookies'>Rarefy localities within circular regions of standard area</h2><span id='topic+cookies'></span>

<h3>Description</h3>

<p>Spatially subsample a dataset to produce samples of standard area and extent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cookies(
  dat,
  xy,
  iter,
  nSite,
  r,
  weight = FALSE,
  crs = "epsg:4326",
  output = "locs"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cookies_+3A_dat">dat</code></td>
<td>
<p>A <code>data.frame</code> or <code>matrix</code> containing the coordinate
columns <code>xy</code> and any associated variables, e.g. taxon names.</p>
</td></tr>
<tr><td><code id="cookies_+3A_xy">xy</code></td>
<td>
<p>A vector of two elements, specifying the name or numeric position
of columns in <code>dat</code> containing coordinates, e.g. longitude and latitude.
Coordinates for any shared sampling sites should be identical, and where sites
are raster cells, coordinates are usually expected to be cell centroids.</p>
</td></tr>
<tr><td><code id="cookies_+3A_iter">iter</code></td>
<td>
<p>The number of spatial subsamples to return</p>
</td></tr>
<tr><td><code id="cookies_+3A_nsite">nSite</code></td>
<td>
<p>The quota of unique locations to include in each subsample.</p>
</td></tr>
<tr><td><code id="cookies_+3A_r">r</code></td>
<td>
<p>Numeric value for the radius (km) defining the circular extent
of each spatial subsample.</p>
</td></tr>
<tr><td><code id="cookies_+3A_weight">weight</code></td>
<td>
<p>Whether sites within the subsample radius should be drawn
at random (<code>weight = FALSE</code>, default) or with probability inversely
proportional to the square of their distance from the centre of the
subsample region (<code>weight = TRUE</code>).</p>
</td></tr>
<tr><td><code id="cookies_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system as a GDAL text string, EPSG code,
or object of class <code>crs</code>. Default is latitude-longitude (<code>EPSG:4326</code>).</p>
</td></tr>
<tr><td><code id="cookies_+3A_output">output</code></td>
<td>
<p>Whether the returned data should be two columns of
subsample site coordinates (<code>output = 'locs'</code>) or the subset of rows
from <code>dat</code> associated with those coordinates (<code>output = 'full'</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes a single location as a starting (seed) point and
circumscribes a buffer of <code>r</code> km around it. Buffer circles that span
the antemeridian (180 degrees longitude) are wrapped as a multipolygon
to prevent artificial truncation. After standardising radial extent, sites
are drawn within the circular extent until a quota of <code>nSite</code> is met.
Sites are sampled without replacement, so a location is used as a seed point
only if it is within <code>r</code> km distance of at least <code>nSite-1</code> locations.
The method is introduced in Antell et al. (2020) and described in
detail in Methods S1 therein.
</p>
<p>The probability of drawing each site within the standardised extent is
either equal (<code>weight = FALSE</code>) or proportional to the inverse-square
of its distance from the seed point (<code>weight = TRUE</code>), which clusters
subsample locations more tightly.
</p>
<p>For geodetic coordinates (latitude-longitude), distances are calculated along
great circle arcs. For Cartesian coordinates, distances are calculated in
Euclidian space, in units associated with the projection CRS (e.g. metres).
</p>


<h3>Value</h3>

<p>A list of length <code>iter</code>. Each list element is a
<code>data.frame</code> or <code>matrix</code> (matching the class of <code>dat</code>)
with <code>nSite</code> observations. If <code>output = 'locs'</code>
(default), only the coordinates of subsampling locations are returned.
If <code>output = 'full'</code>, all <code>dat</code> columns are returned for the
rows associated with the subsampled locations.
</p>
<p>If <code>weight = TRUE</code>, the first observation in each returned subsample
<code>data.frame</code> corresponds to the seed point. If <code>weight = FALSE</code>,
observations are listed in the random order of which they were drawn.
</p>


<h3>References</h3>

<p>Antell GT, Kiessling W, Aberhan M, Saupe EE (2020).
&ldquo;Marine biodiversity and geographic distributions are independent on large scales.&rdquo;
<em>Current Biology</em>, <b>30</b>(1), 115-121.
<a href="https://doi.org/10.1016/j.cub.2019.10.065">doi:10.1016/j.cub.2019.10.065</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+clustr">clustr()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate occurrences: 10 lat-long points in modern Australia
n &lt;- 10
x &lt;- seq(from = 140, to = 145, length.out = n)
y &lt;- seq(from = -20, to = -25, length.out = n)
pts &lt;- data.frame(x, y)

# sample 5 sets of 3 occurrences within 200km radius
cookies(dat = pts, xy = 1:2, iter = 5,
        nSite = 3, r = 200)

</code></pre>

<hr>
<h2 id='occSilur'>Paleobiology Database occurrences of Silurian fossil brachiopods</h2><span id='topic+occSilur'></span>

<h3>Description</h3>

<p>A dataset containing the (palaeo)coordinates and genus identifications of
13,500 marine brachiopods from the Silurian (443.1-419 Ma). Records with
uncertain or unaccepted taxonomic names, non-marine palaeo-environments,
or missing coordinates are excluded from the original download (29 July 2022).
Taxonomic synonymisation and removal of stratigraphic outliers
follows the <code>fossilbrush</code> vignette example of cross-correlation with the
Sepkoski range-through database <code style="white-space: pre;">&#8288;[fossilbrush::sepkoski()]&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>occSilur
</code></pre>


<h3>Format</h3>

<p>A data frame with 13502 rows and 11 variables:
</p>

<dl>
<dt>order, family, genus</dt><dd><p>Latin order, family, and genus name,
as synonymised against Sepkoski database</p>
</dd>
<dt>paleolng, paleolat</dt><dd><p>Coordinates of an occurrence, rotated to
its palaeogeographic location with the tectonic plate model of
<a href="https://www.earthbyte.org/">GPlates</a></p>
</dd>
<dt>collection_no, reference_no</dt><dd><p>Unique identifiers for the collection
and published reference containing the occurrence</p>
</dd>
<dt>environment</dt><dd><p>One of 23 marine environment categories</p>
</dd>
<dt>max_ma, min_ma</dt><dd><p>Bounds of the age estimate for an occurrence,
according to the ICS 2013 geologic time scale.</p>
</dd>
<dt>accepted_name</dt><dd><p>Original identification, including subgenus and
species epithet if applicable, according to the latest PBDB
accepted taxonomy at time of download</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://paleobiodb.org/">https://paleobiodb.org/</a>
</p>

<hr>
<h2 id='rangeSize'>Calculate common metrics of spatial distribution</h2><span id='topic+rangeSize'></span>

<h3>Description</h3>

<p>Calculate occurrence count, centroid coordinates, latitudinal range
(degrees), great circle distance (km), mean pairwise distance (km), and
summed minimum spanning tree length (km) for spatial point coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rangeSize(coords, crs = "epsg:4326")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rangeSize_+3A_coords">coords</code></td>
<td>
<p>2-column <code>data.frame</code> or <code>matrix</code> containing
x- and y-coordinates, respectively (e.g. longitude and latitude).</p>
</td></tr>
<tr><td><code id="rangeSize_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system as a GDAL text string, EPSG code,
or object of class <code>crs</code>. Default is latitude-longitude (<code>EPSG:4326</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Coordinates and their distances are computed with respect to the original
coordinate reference system if supplied, except in calculation of latitudinal
range, for which projected coordinates are transformed to geodetic ones.
If <code>crs</code> is unspecified, by default points are assumed to be given in
latitude-longitude and distances are calculated with spherical geometry.
</p>
<p>Duplicate coordinates will be removed. If a single unique point is supplied,
all distance measures returned will be <code>NA</code>.
</p>


<h3>Value</h3>

<p>A 1-row, 7-column <code>matrix</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate 20 occurrences for a pseudo-species
# centred on Yellowstone National Park (latitude-longitude)
# normally distributed with a standard deviation ~110 km
set.seed(2)
x &lt;- rnorm(20, 110.5885, 2)
y &lt;- rnorm(20,  44.4280, 1)
pts &lt;- cbind(x,y)

rangeSize(pts)

</code></pre>

<hr>
<h2 id='sdSumry'>Calculate basic spatial coverage and diversity metrics</h2><span id='topic+sdSumry'></span>

<h3>Description</h3>

<p>Summarise the geographic scope and position of occurrence data, and
optionally estimate diversity and evenness
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sdSumry(
  dat,
  xy,
  taxVar,
  crs = "epsg:4326",
  collections = NULL,
  quotaQ = NULL,
  quotaN = NULL,
  omitDom = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sdSumry_+3A_dat">dat</code></td>
<td>
<p>A <code>data.frame</code> or <code>matrix</code> containing taxon names,
coordinates, and any associated variables; or a list of such structures.</p>
</td></tr>
<tr><td><code id="sdSumry_+3A_xy">xy</code></td>
<td>
<p>A vector of two elements, specifying the name or numeric position
of columns in <code>dat</code> containing coordinates, e.g. longitude and latitude.
Coordinates for any shared sampling sites should be identical, and where sites
are raster cells, coordinates are usually expected to be cell centroids.</p>
</td></tr>
<tr><td><code id="sdSumry_+3A_taxvar">taxVar</code></td>
<td>
<p>The name or numeric position of the column containing
taxonomic identifications. <code>taxVar</code> must be of same class as <code>xy</code>, e.g. a
numeric column position if <code>xy</code> is given as a vector of numeric positions.</p>
</td></tr>
<tr><td><code id="sdSumry_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system as a GDAL text string, EPSG code,
or object of class <code>crs</code>. Default is latitude-longitude (<code>EPSG:4326</code>).</p>
</td></tr>
<tr><td><code id="sdSumry_+3A_collections">collections</code></td>
<td>
<p>The name or numeric position of the column containing
unique collection IDs, e.g. 'collection_no' in PBDB data downloads.</p>
</td></tr>
<tr><td><code id="sdSumry_+3A_quotaq">quotaQ</code></td>
<td>
<p>A numeric value for the coverage (quorum) level at which to
perform coverage-based rarefaction (shareholder quorum subsampling).</p>
</td></tr>
<tr><td><code id="sdSumry_+3A_quotan">quotaN</code></td>
<td>
<p>A numeric value for the quota of taxon occurrences to subsample
in classical rarefaction.</p>
</td></tr>
<tr><td><code id="sdSumry_+3A_omitdom">omitDom</code></td>
<td>
<p>If <code>omitDom = TRUE</code> and <code>quotaQ</code> or <code>quotaN</code>
is supplied, remove the most common taxon prior to rarefaction. The <code>nTax</code>
and <code>evenness</code> returned are unaffected.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sdSumry()</code> compiles metadata about a sample or list of samples,
before or after spatial subsampling. The function counts the number
of collections (if requested), taxon presences (excluding repeat incidences
of a taxon at a given site), and unique spatial sites;
it also calculates site centroid coordinates, latitudinal range (degrees),
great circle distance (km), mean pairwise distance (km), and summed
minimum spanning tree length (km).
Coordinates and their distances are computed with respect to the original
coordinate reference system if supplied, except in calculation of latitudinal
range, for which projected coordinates are transformed to geodetic ones.
If <code>crs</code> is unspecified, by default points are assumed to be given in
latitude-longitude and distances are calculated with spherical geometry.
</p>
<p>The first two diversity variables returned are the raw count of observed taxa
and the Summed Common species/taxon Occurrence Rate (SCOR). SCOR reflects
the degree to which taxa are common/widespread and is decoupled from
richness or abundance (Hannisdal <em>et al.</em> 2012). SCOR is calculated as the
sum across taxa of the log probability of incidence, <code class="reqn">\lambda</code>.
For a given taxon, <code class="reqn">\lambda = -ln(1 - p)</code>,
where <code class="reqn">p</code> is estimated as the fraction of occupied sites.
Very widespread taxa make a large contribution to an assemblage SCOR,
while rare taxa have relatively little influence.
</p>
<p>If <code>quotaQ</code> is supplied, <code>sdSumry()</code> rarefies richness at the
given coverage value and returns the point estimate of richness (Hill number 0)
and its 95% confidence interval, as well as estimates of evenness (Pielou's J)
and frequency-distribution sample coverage (given by <code>iNEXT$DataInfo</code>).
If <code>quotaN</code> is supplied, <code>sdSumry()</code> rarefies richness to the given
number of occurrence counts and returns the point estimate of richness
and its 95% confidence interval.
Coverage-based and classical rarefaction are both calculated with
<code><a href="iNEXT.html#topic+estimateD">iNEXT::estimateD()</a></code> internally. For details, such as how diversity
is extrapolated if sample coverage is insufficient to achieve a specified
rarefaction level, consult Chao and Jost (2012) and Hsieh <em>et al.</em> (2016).
</p>


<h3>Value</h3>

<p>A <code>matrix</code> of spatial and optional diversity metrics. If <code>dat</code> is a
<code>list</code> of <code>data.frame</code> objects, output rows correspond to input elements.
</p>


<h3>References</h3>

<p>Chao A, Jost L (2012).
&ldquo;Coverage-based rarefaction and extrapolation: standardizing samples by completeness rather than size.&rdquo;
<em>Ecology</em>, <b>93</b>(12), 2533&ndash;2547.
<a href="https://doi.org/10.1890/11-1952.1">doi:10.1890/11-1952.1</a>.
</p>
<p>Hannisdal B, Henderiks J, Liow LH (2012).
&ldquo;Long-term evolutionary and ecological responses of calcifying phytoplankton to changes in atmospheric CO2.&rdquo;
<em>Global Change Biology</em>, <b>18</b>(12), 3504&ndash;3516.
<a href="https://doi.org/10.1111/gcb.12007">doi:10.1111/gcb.12007</a>.
</p>
<p>Hsieh TC, Ma KH, Chao A (2016).
&ldquo;iNEXT: an R package for rarefaction and extrapolation of species diversity (Hill numbers).&rdquo;
<em>Methods in Ecology and Evolution</em>, <b>7</b>(12), 1451&ndash;1456.
<a href="https://doi.org/10.1111/2041-210X.12613">doi:10.1111/2041-210X.12613</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rangeSize">rangeSize()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate occurrences
set.seed(9)
x  &lt;- sample(rep(1:5, 10))
y  &lt;- sample(rep(1:5, 10))
# make some species 2x or 4x as common
abund &lt;- c(rep(4, 5), rep(2, 5), rep(1, 10))
sp &lt;- sample(letters[1:20], 50, replace = TRUE, prob = abund)
obs &lt;- data.frame(x, y, sp)

# minimum sample data returned
sdSumry(obs, c('x','y'), 'sp')

# also calculate evenness and coverage-based rarefaction diversity estimates
sdSumry(obs, xy = c('x','y'), taxVar = 'sp', quotaQ = 0.7)

</code></pre>

<hr>
<h2 id='uniqify'>Find unique (taxon) occurrence records</h2><span id='topic+uniqify'></span>

<h3>Description</h3>

<p>Subset a dataset to unique spatial localities or locality-taxon combinations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uniqify(dat, xy, taxVar = NULL, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uniqify_+3A_dat">dat</code></td>
<td>
<p>A <code>data.frame</code> or <code>matrix</code> containing taxon names,
coordinates, and any associated variables; or a list of such structures.</p>
</td></tr>
<tr><td><code id="uniqify_+3A_xy">xy</code></td>
<td>
<p>A vector of two elements, specifying the name or numeric position
of columns in <code>dat</code> containing coordinates, e.g. longitude and latitude.
Coordinates for any shared sampling sites should be identical, and where sites
are raster cells, coordinates are usually expected to be cell centroids.</p>
</td></tr>
<tr><td><code id="uniqify_+3A_taxvar">taxVar</code></td>
<td>
<p>The name or numeric position of the column containing
taxonomic identifications. <code>taxVar</code> must be of same class as <code>xy</code>, e.g. a
numeric column position if <code>xy</code> is given as a vector of numeric positions.</p>
</td></tr>
<tr><td><code id="uniqify_+3A_na.rm">na.rm</code></td>
<td>
<p>Should records missing information be removed?
Default is yes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>na.rm</code> argument applies to coordinate values and, if <code>taxVar</code>
is supplied, to taxon values. If <code>na.rm = FALSE</code>, any <code>NA</code> values will be
retained and treated as their own value. Note that <code>divvy</code> ignores any rows
with missing coordinates for the subsampling functions <code><a href="#topic+cookies">cookies()</a></code>,
<code><a href="#topic+clustr">clustr()</a></code>, and <code><a href="#topic+bandit">bandit()</a></code>.
</p>


<h3>Value</h3>

<p>An object with the same class and columns as <code>dat</code>, containing the
subset of rows representing unique coordinates (if only <code>xy</code> supplied)
or unique taxon-site combinations (if <code>taxVar</code> is also supplied).
The first record at each spatial locality is retained,
or if <code>taxVar</code> is specified, the first record of each taxon at a locality.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate occurrence data
x  &lt;- rep(1, 10)
y  &lt;- c(rep(1, 5), 2:6)
sp &lt;- c(rep(letters[1:3], 2),
        rep(letters[4:5], 2))
obs &lt;- data.frame(x, y, sp)

# compare original and unique datasets:
# rows 4 and 5 removed as duplicates of rows 1 and 2, respectively
obs
uniqify(obs, taxVar = 3, xy = 1:2)

# using taxon identifications or other third variable is optional
uniqify(obs, xy = c('x', 'y'))

# caution - data outside the taxon and occurrence variables
# will be lost where associated with duplicate occurrences
obs$notes &lt;- letters[11:20]
uniqify(obs, 1:2, 3)
# the notes 'n' and 'o' are absent in the output data

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

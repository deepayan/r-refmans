<!DOCTYPE html><html><head><title>Help for package packDAMipd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {packDAMipd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_entries_sameuse_timepoint'><p>Function to get sum of  entries  of resource per individual at diff timepoints</p>
if same cateogry has listed multiple time for same id of participant , this
method comes in handy to get the sum</a></li>
<li><a href='#adl_scoring.df'><p>adl_scoring table</p></a></li>
<li><a href='#assign_parameters'><p>Function to assign the values of nested parameters from the parameter list</p></a></li>
<li><a href='#blank.df'><p>Parameter table created</p></a></li>
<li><a href='#calculate_icer_nmb'><p>Estimation of ICER and NMB</p></a></li>
<li><a href='#check_equal_columncontents_NAomitted'><p>Function to check the equality of column contents between two data sets</p>
with omitting NA</a></li>
<li><a href='#check_equal_sumcolumncontents_NAomitted'><p>Function to check the sum of column contents between two data sets</p>
with omitting NA</a></li>
<li><a href='#check_estimate_required_params'><p>Function to check if the parameters are sufficient to define a distribution</p>
and if not see if we can estimate the parameters from the given parameters,
e.g. for gamma distribution, shape and rate can be estimated from mean and sd</a></li>
<li><a href='#check_estimate_substitute_proper_params'><p>#######################################################################</p>
Function to get the expression, analyse it for what distribution it is,
then check if it has all parameters requires,
if not estimate the required parameters from given parameters,
and substitute it for actual expression that can
be used with R stats package</a></li>
<li><a href='#check_link_glm'><p>Function to find the keyword for family of distribution in glm</p></a></li>
<li><a href='#check_list_markov_models'><p>check the list of Markov models</p></a></li>
<li><a href='#check_null_na'><p>Function to check the variable null or NA</p></a></li>
<li><a href='#check_trans_prob'><p>Check the transition probabilities for numeric values and unity  row sum</p></a></li>
<li><a href='#check_treatment_arm'><p>Function to return treatment arm</p></a></li>
<li><a href='#check_values_states'><p>Check if the values of health states are provided</p></a></li>
<li><a href='#checks_markov_pick_method'><p>Checks the input to run the Markov cycles and picks correct method</p></a></li>
<li><a href='#checks_plot_dsa'><p>Function to do some checks before plotting sensitivity analysis results</p></a></li>
<li><a href='#combine_markov'><p>Join Markov model objects</p></a></li>
<li><a href='#combine_state'><p>Join health states</p></a></li>
<li><a href='#convert_freq_diff_basis'><p>Convert frequency medication to given basis</p></a></li>
<li><a href='#convert_to_given_timeperiod'><p>Convert period to given basis</p></a></li>
<li><a href='#convert_volume_basis'><p>Convert volume  to given basis</p></a></li>
<li><a href='#convert_weight_diff_basis'><p>Convert unit strength to given basis</p></a></li>
<li><a href='#convert_wtpertimediff_basis'><p>Convert weight per time  to given basis</p></a></li>
<li><a href='#convert_wtpervoldiff_basis'><p>Convert wt per unit volume  to given basis</p></a></li>
<li><a href='#cost_data.df'><p>cost matrix</p></a></li>
<li><a href='#costing_AandE_admission'><p>Function to estimate the cost of inpatient admission but taken from</p>
GP records where  code or description known</a></li>
<li><a href='#costing_inpatient_daycase_admission'><p>Function to estimate the cost of inpatient admission but taken from</p>
GP records where HRG code or description known</a></li>
<li><a href='#costing_opioid_liquids_averageMED_long'><p>Function to estimate the cost of liquids when IPD is in long format</p></a></li>
<li><a href='#costing_opioid_liquids_averageMED_wide'><p>Function to estimate the cost of liquids taken (from IPD)</p></a></li>
<li><a href='#costing_opioid_patches_averageMED_long'><p>#'###########################################################################</p>
Function to estimate the cost of patches when IPD is in long format
using a IPD data of long format</a></li>
<li><a href='#costing_opioid_patches_averageMED_wide'><p>Function to estimate the cost of patches taken (from IPD)</p></a></li>
<li><a href='#costing_opioid_tablets_averageMED_long'><p>Function to estimate the cost of tablets when IPD is in long format</p></a></li>
<li><a href='#costing_opioid_tablets_averageMED_wide'><p>Function to estimate the cost of tablets taken as an average cost per</p>
equivalent dose in the opioid scenario is the morphine equivalent dose
(from IPD)</a></li>
<li><a href='#costing_opioid_tablets_MED_wide'><p>Function to estimate the cost of tablets taken (from IPD)</p></a></li>
<li><a href='#costing_resource_use'><p>Function to estimate the cost of resource use taken (from IPD)</p></a></li>
<li><a href='#create_new_dataset'><p>create new dataset while keeping</p>
cox regression results and returned coefficients</a></li>
<li><a href='#create_shorttable_from_gtsummary_compare_twogroups_timpoints'><p>Create a table to compare the descriptive analysis (short) from gtsummary of</p>
two groups, but at different timepoints</a></li>
<li><a href='#create_table_from_gtsummary_compare_twogroups'><p>Create a table to compare the descriptive analysis from gtsummary of</p>
two groups</a></li>
<li><a href='#define_parameters'><p>Function to return a list of parameters given</p></a></li>
<li><a href='#define_parameters_psa'><p>Define parameter lists for deterministic sensitivity analysis</p></a></li>
<li><a href='#define_parameters_sens_anal'><p>ISLR flextable huxtable nlme tm</p>
Define parameter lists for deterministic sensitivity analysis</a></li>
<li><a href='#define_transition_table'><p>Define the table for transition</p></a></li>
<li><a href='#do_diagnostic_glm'><p>Do the diagnostic test for glm model assumption</p></a></li>
<li><a href='#do_diagnostic_linear_regression'><p>Do the diagnostic test for lm model assumption</p></a></li>
<li><a href='#do_psa'><p>Function to do probabilistic sensitivity analysis</p></a></li>
<li><a href='#do_sensitivity_analysis'><p>Function to do deterministic sensitivity analysis</p></a></li>
<li><a href='#encode_codes_data'><p>Function to get the codes and the corresponding entries</p></a></li>
<li><a href='#eval_assign_trans_prob'><p>Attribute parameters to probabilities of transition matrix</p></a></li>
<li><a href='#eval_assign_values_states'><p>Attribute values in health states</p></a></li>
<li><a href='#find_glm_distribution'><p>Function to find the keyword for family of distribution in glm</p></a></li>
<li><a href='#find_keyword_rand_generation'><p>Function to find the keyword for generating random numbers the  distribution</p></a></li>
<li><a href='#find_keyword_regression_method'><p>Function to find the keyword for regression methods</p></a></li>
<li><a href='#find_parameters_btn_operators'><p>Function to return parameters with in a expression containing operators</p></a></li>
<li><a href='#find_required_parameter_combs'><p>Function to find the parameters that determine the probability distribution</p></a></li>
<li><a href='#find_rowwise_sum_multiplecol'><p>Function to get sum of  multiple columns of observations</p></a></li>
<li><a href='#find_survreg_distribution'><p>Function to find the keyword for survreg distribution</p></a></li>
<li><a href='#form_expression_glm'><p>Form expression to use with glm()</p></a></li>
<li><a href='#form_expression_lm'><p>Form expression to use with lm()</p></a></li>
<li><a href='#form_expression_mixed_model_lme4'><p>Form expression to use with mixed models</p></a></li>
<li><a href='#generate_wt_time_units'><p>Function to get the weight and time units</p></a></li>
<li><a href='#generate_wt_vol_units'><p>Function to get the weight and volume units</p></a></li>
<li><a href='#get_age_details'><p>Function to get the details of the age column</p></a></li>
<li><a href='#get_colnames_codedvalues'><p>Function to keep the column name, coded values and non response code</p>
into a dataframe</a></li>
<li><a href='#get_cost_AandE_code'><p>Function to extract the unit hospital inpatient admission by</p>
matching code</a></li>
<li><a href='#get_cost_AandE_description'><p>Function to extract the unit cost by descirption of AandE att</p>
matching description</a></li>
<li><a href='#get_cost_ip_dc_description'><p>Function to extract the unit hospital inpatient admission by</p>
matching description</a></li>
<li><a href='#get_cost_ip_dc_hrg'><p>Function to extract the unit hospital inpatient admission by</p>
matching HRG code</a></li>
<li><a href='#get_doses_combination'><p>Convert the combined dose to its individual component numerical value</p>
or can be unit/unit</a></li>
<li><a href='#get_doses_combination_units'><p>Convert the combined dose to its individual component numerical value</p>
and units</a></li>
<li><a href='#get_eq5d_details'><p>Function to get the details of the EQ5D column</p></a></li>
<li><a href='#get_extension_file'><p>Function to get extension of a file name</p></a></li>
<li><a href='#get_gender_details'><p>Function to get the details of the gender column</p></a></li>
<li><a href='#get_mean_sd_age'><p>Function to return mean age from a data frame</p></a></li>
<li><a href='#get_mortality_from_file'><p>Get the mortality rate  values from reading a file</p></a></li>
<li><a href='#get_name_value_probdistrb_def'><p>Function to return the two parameters from a given expression separated</p>
by comma,</a></li>
<li><a href='#get_outcome_details'><p>Function to get the details of the outcome column</p></a></li>
<li><a href='#get_parameter_def_distribution'><p>Get the definition of given parameter distribution defined in a file</p></a></li>
<li><a href='#get_parameter_direct'><p>Get the parameter values from reading a file</p></a></li>
<li><a href='#get_parameter_estimated_regression'><p>Get the parameter values using the provided statistical regression methods</p></a></li>
<li><a href='#get_parameter_read'><p>Get the parameter values from reading a file</p></a></li>
<li><a href='#get_single_col_multiple_pattern'><p>Function to get cols for the pattern given</p></a></li>
<li><a href='#get_slope_intercept'><p>help function to keep slope and intercept portion ready in mixed model</p>
expression</a></li>
<li><a href='#get_slope_intercept_cross'><p>help function to keep slope and intercept portion ready in mixed model</p>
expression</a></li>
<li><a href='#get_slope_intercept_nested'><p>help function to keep slope and intercept portion ready in mixed</p>
model expression</a></li>
<li><a href='#get_timepoint_details'><p>Function to get the details of the time point column</p></a></li>
<li><a href='#get_trial_arm_details'><p>Function to get the details of the trial arm</p></a></li>
<li><a href='#get_var_state'><p>Get the attribute for the health state</p></a></li>
<li><a href='#health_state'><p>Definition of health state class or health state constructor</p></a></li>
<li><a href='#init_trace'><p>Define an all zero trace matrix</p></a></li>
<li><a href='#init_trace_sjtime'><p>Define an all zero trace matrix</p></a></li>
<li><a href='#keep_results_plot_dsa'><p>Function to do some checks before plotting sensitivity analysis results</p></a></li>
<li><a href='#list_paramwise_psa_result'><p>Function to list probabilistic sensitivity analysis results parameterwise</p></a></li>
<li><a href='#load_trial_data'><p>Function to load the file containing trial data and return it</p></a></li>
<li><a href='#make_string_covariates'><p>Make a string of covariates using addition sign</p></a></li>
<li><a href='#map_eq5d5Lto3L_VanHout'><p>Function to map EQ5D5L scores to EQ5D3L scores and then add to IPD data</p></a></li>
<li><a href='#map_resource_use_categories'><p>Function to to read the text form of resource use and replace it with</p>
standard texts of resoure use ie. some one can describe GP visit as GP surgery
visit, surgery visit or general practioners visit etc. Here all these texts
should be given in a excel or csv file and then corresponidng standard form
will be read from the file and will be replaced.</a></li>
<li><a href='#markov_model'><p>Definition of Markov model and trace</p></a></li>
<li><a href='#markov_model_sojourntime'><p>Definition of Markov model and trace</p></a></li>
<li><a href='#microcosting_liquids_long'><p>Function to estimate the cost of liquids when IPD is in long format</p></a></li>
<li><a href='#microcosting_liquids_wide'><p>Function to estimate the cost of liquids taken (from IPD)</p></a></li>
<li><a href='#microcosting_patches_long'><p>#'###########################################################################</p>
Function to estimate the cost of patches when IPD is in long format
using a IPD data of long format</a></li>
<li><a href='#microcosting_patches_wide'><p>Function to estimate the cost of patches taken (from IPD)</p></a></li>
<li><a href='#microcosting_tablets_long'><p>Function to estimate the cost of tablets when IPD is in long format</p></a></li>
<li><a href='#microcosting_tablets_wide'><p>Function to estimate the cost of tablets taken (from IPD)</p></a></li>
<li><a href='#plot_ceac_psa'><p>Function to plot CEAC</p></a></li>
<li><a href='#plot_dsa'><p>Function to plot results of sensitivity analysis do_sensitivity_analysis()</p></a></li>
<li><a href='#plot_dsa_difference'><p>Function to do some checks before plotting sensitivity analysis results</p></a></li>
<li><a href='#plot_dsa_icer_range'><p>Function to do some checks before plotting sensitivity analysis results</p></a></li>
<li><a href='#plot_dsa_nmb_range'><p>Function to do some checks before plotting sensitivity analysis results</p></a></li>
<li><a href='#plot_dsa_others_range'><p>Function to do some checks before plotting sensitivity analysis results</p></a></li>
<li><a href='#plot_efficiency_frontier'><p>Plot efficiency frontier</p></a></li>
<li><a href='#plot_histogram_onetimepoint_twogroups'><p>Function to plot mean and SE for longitudinal observations for twogroups compared</p></a></li>
<li><a href='#plot_meanSE_longitudinal_twogroups'><p>Function to plot mean and SE for longitudinal observations for twogroups compared</p></a></li>
<li><a href='#plot_model'><p>E1. Plot a Markov model</p></a></li>
<li><a href='#plot_nmb_lambda'><p>Plot cost effectiveness acceptability curve</p></a></li>
<li><a href='#plot_prediction_parametric_survival'><p>Plot the predicted survival curves for covariates keeping the others fixed</p></a></li>
<li><a href='#plot_return_residual_cox'><p>Plotting and return the residuals after cox proportional hazard model</p></a></li>
<li><a href='#plot_return_residual_survival'><p>Plotting and return the residuals after survival model</p></a></li>
<li><a href='#plot_return_survival_curve'><p>Plotting survival function for all covariates using survfit</p></a></li>
<li><a href='#plot_survival_cox_covariates'><p>Plotting survival function for all covariates  calculated from</p>
cox regression results and returned coefficients</a></li>
<li><a href='#populate_transition_matrix'><p>Populate transition matrix</p></a></li>
<li><a href='#predict_coxph'><p>Predict risk/hazard function for  cox ph regression</p></a></li>
<li><a href='#prediction_regression'><p>Do the prediction for regression</p></a></li>
<li><a href='#promis3a_scoring.df'><p>promis 3a scoring table</p></a></li>
<li><a href='#report_sensitivity_analysis'><p>Function to report deterministic sensitivity analysis</p></a></li>
<li><a href='#return_equal_liststring_col'><p>Function to get the subset of data compared to a string after</p>
trimming the white spaces</a></li>
<li><a href='#return_equal_liststring_listcol'><p>Function to get the subset of data compared to a string after</p>
trimming the white spaces</a></li>
<li><a href='#return_equal_str_col'><p>Function to get the subset of data compared to a string after</p>
trimming the white spaces</a></li>
<li><a href='#return0_if_not_null_na'><p>Function to return 0 if the param is not null or NA</p>
trimming the white spaces</a></li>
<li><a href='#set_var_state'><p>Set the attribute for the health state</p></a></li>
<li><a href='#strategy'><p>Definition of strategy - or arm</p></a></li>
<li><a href='#summary_plot_psa'><p>Function to summarise and plot probabilistic sensitivity analysis</p></a></li>
<li><a href='#table_param.df'><p>Parameter table created</p></a></li>
<li><a href='#trace_data.df'><p>Trace matrix</p></a></li>
<li><a href='#transition_cost_util'><p>Create the the values of cost and utility while transition</p></a></li>
<li><a href='#trial_data.df'><p>Example trial data</p></a></li>
<li><a href='#use_coxph_survival'><p>###########################################################################</p>
Get the parameter values using the survival analysis using cox
proportional hazard</a></li>
<li><a href='#use_fh_survival'><p>###########################################################################</p>
Get the parameter values using the survival analysis method FH</a></li>
<li><a href='#use_fh2_survival'><p>############################################################################</p>
Get the parameter values using the survival analysis using FH2 method</a></li>
<li><a href='#use_generalised_linear_mixed_model'><p>Function for generalised linear mixed model</p></a></li>
<li><a href='#use_generalised_linear_model'><p>############################################################################</p>
Get the parameter values using logistic regression</a></li>
<li><a href='#use_km_survival'><p>###########################################################################</p>
Get the parameter values using the Kaplan-Meier survival analysis</a></li>
<li><a href='#use_linear_mixed_model'><p>Function for mixed effect regression</p></a></li>
<li><a href='#use_linear_regression'><p>###########################################################################</p>
Get the parameter values using the linear regression</a></li>
<li><a href='#use_parametric_survival'><p>###########################################################################</p>
Get the parameter values using the survival analysis parametric survival</a></li>
<li><a href='#use_seemingly_unrelated_regression'><p>Bivariate regression for correlated observations</p></a></li>
<li><a href='#use_survival_analysis'><p>############################################################################</p>
Get the parameter values using the survival analysis</a></li>
<li><a href='#utility_data.df'><p>utility matrix</p></a></li>
<li><a href='#value_ADL_scores_IPD'><p>Function to convert ADL scores to a T score</p></a></li>
<li><a href='#value_eq5d3L_IPD'><p>Function to add EQ5D3L scores to IPD data</p></a></li>
<li><a href='#value_eq5d5L_IPD'><p>Function to add EQ5D5L scores to IPD data</p></a></li>
<li><a href='#value_promis3a_scores_IPD'><p>Function to convert promis3a scores to a T score</p></a></li>
<li><a href='#value_Shows_IPD'><p>Function to estimate the cost of tablets taken (from IPD)</p></a></li>
<li><a href='#word2num'><p>Function to check the variable null or NA</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Decision Analysis Modelling Package with Parameters Estimation
Ability from Individual Patient Level Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sheeja Manchira Krishnan &lt;sheejamk@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of functions to construct Markov model for model-based 
    cost-effectiveness analysis. This includes creating Markov model (both time
    homogenous and time dependent models), decision analysis, sensitivity 
    analysis (deterministic and probabilistic). The package allows estimation 
    of parameters for the Markov model from a given individual patient level 
    data, provided the data file follows some standard data entry rules. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>readxl, stringr, data.table, reshape2, rlang, stats, lme4,
survminer, SurvRegCensCov, survival, MASS, systemfit,
IPDFileCheck, valueEQ5D, car, ggplot2, grDevices, lmtest,
broom, effects, gvlma, methods, relaimpo, dplyr, tidyr, hash,
haven, flextable, ggpubr, labelled, purrr, ISLR</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, covr, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sheejamk/packDAMipd">https://github.com/sheejamk/packDAMipd</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sheejamk/packDAMipd/issues">https://github.com/sheejamk/packDAMipd/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-24 19:46:29 UTC; sheeja.krishnan</td>
</tr>
<tr>
<td>Author:</td>
<td>Sheeja Manchira Krishnan [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-24 21:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_entries_sameuse_timepoint'>Function to get sum of  entries  of resource per individual at diff timepoints
if same cateogry has listed multiple time for same id of participant , this
method comes in handy to get the sum</h2><span id='topic+add_entries_sameuse_timepoint'></span>

<h3>Description</h3>

<p>Function to get sum of  entries  of resource per individual at diff timepoints
if same cateogry has listed multiple time for same id of participant , this
method comes in handy to get the sum
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_entries_sameuse_timepoint(
  use_data,
  timepointcol,
  timepointval,
  idcolumn,
  result_col
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_entries_sameuse_timepoint_+3A_use_data">use_data</code></td>
<td>
<p>the data where the observations are held</p>
</td></tr>
<tr><td><code id="add_entries_sameuse_timepoint_+3A_timepointcol">timepointcol</code></td>
<td>
<p>columnname in the data where the timepoints are noted</p>
</td></tr>
<tr><td><code id="add_entries_sameuse_timepoint_+3A_timepointval">timepointval</code></td>
<td>
<p>which time point is considered now
at which the descriptive analysis is done</p>
</td></tr>
<tr><td><code id="add_entries_sameuse_timepoint_+3A_idcolumn">idcolumn</code></td>
<td>
<p>id for each participant</p>
</td></tr>
<tr><td><code id="add_entries_sameuse_timepoint_+3A_result_col">result_col</code></td>
<td>
<p>name of the column where the sum of entries to be saved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the data with added sum of resource use
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 7, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2"),
time = c(1,1,2,2), id = c(1, 1, 1, 2)))
add_entries_sameuse_timepoint(eg_data,  "time", 1, "id",
("mark_at_2"))
</code></pre>

<hr>
<h2 id='adl_scoring.df'>adl_scoring table</h2><span id='topic+adl_scoring.df'></span>

<h3>Description</h3>

<p>adl_scoring table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adl_scoring.df
</code></pre>


<h3>Format</h3>

<p>A 41 by 3 dataframe
</p>


<h3>Source</h3>

<p>created on Jan 15, 2020
</p>

<hr>
<h2 id='assign_parameters'>Function to assign the values of nested parameters from the parameter list</h2><span id='topic+assign_parameters'></span>

<h3>Description</h3>

<p>Function to assign the values of nested parameters from the parameter list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assign_parameters(param_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assign_parameters_+3A_param_list">param_list</code></td>
<td>
<p>list of parameters, can be nested,
or can be used the list returned from define_parameters()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The parameter list should be a list of parameters in the form
name value pairs. If the name value pairs is given as a string it throws
error as in assign_parameters(c(&quot;cost_A = 100&quot;, &quot;a = 10&quot;)) even if you
use assign_parameters(define_parameters(c(&quot;cost_A = 100&quot;,&quot;a = 10&quot;)))
but this will be ok if you use the below forms
assign_list2 &lt;- c(a = 10, cost_A = &quot;a + 100&quot;, cost_B = 10)
assign_parameters(assign_list2) OR
param_list &lt;- define_parameters(a = 10, cost_A = &quot;a + 100&quot;, cost_B = 10)
assign_list &lt;- assign_parameters(param_list)
Also for nested parameters, remember to give the parameters in order so
that at run time, the parameters can be evaluated
for example, assign_list = define_parameters(cost_A=&quot;a+100&quot;, a=10)
assign_parameters(assign_list) will throw an error, while
assign_list = define_parameters( a = 10, cost_A = &quot;a + 100&quot;)
assign_parameters(assign_list) will successfully assign parameters
as the parameters 'a' is visible before the calculation of 'cost_A'
Another thing to note is that while using define_parameters, just enumerate
them, no need to create as a list by using c() or list function
</p>


<h3>Value</h3>

<p>list of assigned parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>param_list &lt;- define_parameters(
  cost_direct_med_A = 1701, cost_comm_care_A = 1055,
  cost_direct_med_B = 1774, cost_comm_care_B = 1278,
  cost_direct_med_C = 6948,
  cost_comm_care_C = 2059, cost_zido = 2456, cost_health_A =
  "cost_direct_med_A + cost_comm_care_A",
  cost_health_B = "cost_direct_med_B + cost_comm_care_B",
  cost_health_C = "cost_direct_med_C + cost_comm_care_C",
  cost_drug = "cost_zido"
)
assign_parameters(param_list)
</code></pre>

<hr>
<h2 id='blank.df'>Parameter table created</h2><span id='topic+blank.df'></span>

<h3>Description</h3>

<p>Parameter table created
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blank.df
</code></pre>


<h3>Format</h3>

<p>A 2 column 1 observation
</p>


<h3>Source</h3>

<p>created on September 5, 2020
</p>

<hr>
<h2 id='calculate_icer_nmb'>Estimation of ICER and NMB</h2><span id='topic+calculate_icer_nmb'></span>

<h3>Description</h3>

<p>Estimation of ICER and NMB
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_icer_nmb(list_markov, threshold, comparator = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate_icer_nmb_+3A_list_markov">list_markov</code></td>
<td>
<p>list of Markov model objects with their Markov trace,
cost matrix and utility matrix</p>
</td></tr>
<tr><td><code id="calculate_icer_nmb_+3A_threshold">threshold</code></td>
<td>
<p>threshold value of WTP</p>
</td></tr>
<tr><td><code id="calculate_icer_nmb_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ICER and NMB for all the strategies compared to comparator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 100, utility = 1)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.6, 0.2, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "control")
this_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0), c(0,0))
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 10, utility = 0.5)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.4, 0.4, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "intervention")
sec_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0), c(0,0))
list_markov &lt;- combine_markov(this_markov, sec_markov)
calculate_icer_nmb(list_markov, 20000, comparator = "control")

</code></pre>

<hr>
<h2 id='check_equal_columncontents_NAomitted'>Function to check the equality of column contents between two data sets
with omitting NA</h2><span id='topic+check_equal_columncontents_NAomitted'></span>

<h3>Description</h3>

<p>Function to check the equality of column contents between two data sets
with omitting NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_equal_columncontents_NAomitted(
  data1,
  data2,
  samecol,
  column_data1,
  column_data2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_equal_columncontents_NAomitted_+3A_data1">data1</code></td>
<td>
<p>first data set</p>
</td></tr>
<tr><td><code id="check_equal_columncontents_NAomitted_+3A_data2">data2</code></td>
<td>
<p>second data set</p>
</td></tr>
<tr><td><code id="check_equal_columncontents_NAomitted_+3A_samecol">samecol</code></td>
<td>
<p>a unique col in both datasets, like tno or id</p>
</td></tr>
<tr><td><code id="check_equal_columncontents_NAomitted_+3A_column_data1">column_data1</code></td>
<td>
<p>column name in data 1 to be compared</p>
</td></tr>
<tr><td><code id="check_equal_columncontents_NAomitted_+3A_column_data2">column_data2</code></td>
<td>
<p>column name in data 2 to be compared</p>
</td></tr>
</table>


<h3>Value</h3>

<p>0 if they are equal else error message
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 7, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2"),
time = c(1,1,2,2), id = c(1, 1, 1, 2)))
eg_data2 &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 27, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2"),
time = c(1,1,2,2), id = c(1, 1, 1, 2)))
check_equal_columncontents_NAomitted(eg_data, eg_data2, "no",
"mark_at_1","mark_at_2")
</code></pre>

<hr>
<h2 id='check_equal_sumcolumncontents_NAomitted'>Function to check the sum of column contents between two data sets
with omitting NA</h2><span id='topic+check_equal_sumcolumncontents_NAomitted'></span>

<h3>Description</h3>

<p>Function to check the sum of column contents between two data sets
with omitting NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_equal_sumcolumncontents_NAomitted(
  data1,
  data2,
  samecol,
  column_data1,
  column_data2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_equal_sumcolumncontents_NAomitted_+3A_data1">data1</code></td>
<td>
<p>first data set</p>
</td></tr>
<tr><td><code id="check_equal_sumcolumncontents_NAomitted_+3A_data2">data2</code></td>
<td>
<p>second data set</p>
</td></tr>
<tr><td><code id="check_equal_sumcolumncontents_NAomitted_+3A_samecol">samecol</code></td>
<td>
<p>a unique col in both datasets, like tno or id</p>
</td></tr>
<tr><td><code id="check_equal_sumcolumncontents_NAomitted_+3A_column_data1">column_data1</code></td>
<td>
<p>column name in data 1 to be compared</p>
</td></tr>
<tr><td><code id="check_equal_sumcolumncontents_NAomitted_+3A_column_data2">column_data2</code></td>
<td>
<p>column name in data 2 to be compared</p>
</td></tr>
</table>


<h3>Value</h3>

<p>0 if they are equal else error message
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 7, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2"),
time = c(1,1,2,2), id = c(1, 1, 1, 2)))
eg_data2 &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 27, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2"),
time = c(1,1,2,2), id = c(1, 1, 1, 2)))
check_equal_sumcolumncontents_NAomitted(eg_data, eg_data2, "no",
"mark_at_1","mark_at_2")
</code></pre>

<hr>
<h2 id='check_estimate_required_params'>Function to check if the parameters are sufficient to define a distribution
and if not see if we can estimate the parameters from the given parameters,
e.g. for gamma distribution, shape and rate can be estimated from mean and sd</h2><span id='topic+check_estimate_required_params'></span>

<h3>Description</h3>

<p>Function to check if the parameters are sufficient to define a distribution
and if not see if we can estimate the parameters from the given parameters,
e.g. for gamma distribution, shape and rate can be estimated from mean and sd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_estimate_required_params(the_expr, distr_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_estimate_required_params_+3A_the_expr">the_expr</code></td>
<td>
<p>the expression that contain the definition</p>
</td></tr>
<tr><td><code id="check_estimate_required_params_+3A_distr_key">distr_key</code></td>
<td>
<p>the keyword used to generate random numbers in stats package</p>
</td></tr>
</table>


<h3>Details</h3>

<p>if the distribution is gamma and the parameters are mean and sd
we can estimate shape and rate from mean and sd.
This function is not usually needed by the user
</p>


<h3>Value</h3>

<p>the parameters required
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_estimate_required_params("gamma(mean = 10 ,sd = 1)", "gamma")
</code></pre>

<hr>
<h2 id='check_estimate_substitute_proper_params'>#######################################################################
Function to get the expression, analyse it for what distribution it is,
then check if it has all parameters requires,
if not estimate the required parameters from given parameters,
and substitute it for actual expression that can
be used with R stats package</h2><span id='topic+check_estimate_substitute_proper_params'></span>

<h3>Description</h3>

<p>#######################################################################
Function to get the expression, analyse it for what distribution it is,
then check if it has all parameters requires,
if not estimate the required parameters from given parameters,
and substitute it for actual expression that can
be used with R stats package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_estimate_substitute_proper_params(the_expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_estimate_substitute_proper_params_+3A_the_expr">the_expr</code></td>
<td>
<p>given parameters for generating ransom numbers</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Get the expression of probability distribution with parameters, get the
parameters that are found, then find the required params and if they are ok
if not try if they can be estimated. Then it will substitute for proper
parameters in the way R is expecting to perform
</p>


<h3>Value</h3>

<p>the keyword that should be used in R for generating random numbers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_estimate_substitute_proper_params("gamma(mean = 10 ,sd=1)")
</code></pre>

<hr>
<h2 id='check_link_glm'>Function to find the keyword for family of distribution in glm</h2><span id='topic+check_link_glm'></span>

<h3>Description</h3>

<p>Function to find the keyword for family of distribution in glm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_link_glm(family, link)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_link_glm_+3A_family">family</code></td>
<td>
<p>family of distribution</p>
</td></tr>
<tr><td><code id="check_link_glm_+3A_link">link</code></td>
<td>
<p>function to be used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Check and get the link function for the method glm
</p>


<h3>Value</h3>

<p>the link if they can be accepted else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_link_glm("gaussian", "identity")
</code></pre>

<hr>
<h2 id='check_list_markov_models'>check the list of Markov models</h2><span id='topic+check_list_markov_models'></span>

<h3>Description</h3>

<p>check the list of Markov models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_list_markov_models(list_markov)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_list_markov_models_+3A_list_markov">list_markov</code></td>
<td>
<p>list of Markov model objects with their Markov
trace, cost matrix and utility matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>0 if success else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 100, utility = 1)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.6, 0.2, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "example")
this_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0), c(0,0))
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 10, utility = 0.5)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.4, 0.4, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "example_two")
sec_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0), c(0, 0))
list_markov &lt;- combine_markov(this_markov, sec_markov)
check_list_markov_models(list_markov)

</code></pre>

<hr>
<h2 id='check_null_na'>Function to check the variable null or NA</h2><span id='topic+check_null_na'></span>

<h3>Description</h3>

<p>Function to check the variable null or NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_null_na(variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_null_na_+3A_variable">variable</code></td>
<td>
<p>name of variable or list of variable to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p>-1 or -2 as error, else return 0 as success
</p>


<h3>Examples</h3>

<pre><code class='language-R'>var = c("a")
check_null_na(var)
</code></pre>

<hr>
<h2 id='check_trans_prob'>Check the transition probabilities for numeric values and unity  row sum</h2><span id='topic+check_trans_prob'></span>

<h3>Description</h3>

<p>Check the transition probabilities for numeric values and unity  row sum
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_trans_prob(trans_mat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_trans_prob_+3A_trans_mat">trans_mat</code></td>
<td>
<p>transition matrix</p>
</td></tr>
</table>


<h3>Details</h3>

<p>checking for rowsum - checks for the class of transition matrix,
value of rowsum (to be 1) and numeric values
</p>


<h3>Value</h3>

<p>0 if they add to 1 else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
tm &lt;- populate_transition_matrix(2, tmat, list_prob = c(0.5, 0.5, 0, 1))
check_trans_prob(tm)
</code></pre>

<hr>
<h2 id='check_treatment_arm'>Function to return treatment arm</h2><span id='topic+check_treatment_arm'></span>

<h3>Description</h3>

<p>Function to return treatment arm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_treatment_arm(arm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_treatment_arm_+3A_arm">arm</code></td>
<td>
<p>the arm of the trial</p>
</td></tr>
</table>


<h3>Value</h3>

<p>0, if success -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_treatment_arm("control")
</code></pre>

<hr>
<h2 id='check_values_states'>Check if the values of health states are provided</h2><span id='topic+check_values_states'></span>

<h3>Description</h3>

<p>Check if the values of health states are provided
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_values_states(health_states)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_values_states_+3A_health_states">health_states</code></td>
<td>
<p>list of health_state objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is to check if the values are numeric during  the run time,
else to throw an error
</p>


<h3>Value</h3>

<p>true or false
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 100, utility = 1)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.6, 0.2, 0.2, 0.6, 0.4, 1))
health_states &lt;- combine_state(well, disabled, dead)
check_values_states(health_states)

</code></pre>

<hr>
<h2 id='checks_markov_pick_method'>Checks the input to run the Markov cycles and picks correct method</h2><span id='topic+checks_markov_pick_method'></span>

<h3>Description</h3>

<p>Checks the input to run the Markov cycles and picks correct method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checks_markov_pick_method(
  current_strategy,
  initial_state,
  discount,
  method,
  half_cycle_correction,
  startup_cost,
  startup_util,
  state_cost_only_prevalent,
  state_util_only_prevalent
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checks_markov_pick_method_+3A_current_strategy">current_strategy</code></td>
<td>
<p>strategy object</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_initial_state">initial_state</code></td>
<td>
<p>value of states initially</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_discount">discount</code></td>
<td>
<p>rate of discount for costs and qalys</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_method">method</code></td>
<td>
<p>what type of half cycle correction needed</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_half_cycle_correction">half_cycle_correction</code></td>
<td>
<p>boolean to indicate half cycle correction</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_startup_cost">startup_cost</code></td>
<td>
<p>cost of states initially</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_startup_util">startup_util</code></td>
<td>
<p>utility of states initially if any</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_state_cost_only_prevalent">state_cost_only_prevalent</code></td>
<td>
<p>boolean parameter to indicate
if the costs for state occupancy is only for those in the state excluding
those that transitioned new. This is relevant when the transition cost
is provided for eg. in a state with dialysis the cost of previous dialysis
is different from the newly dialysis cases.Then the
state_cost_only_prevalent should be TRUE</p>
</td></tr>
<tr><td><code id="checks_markov_pick_method_+3A_state_util_only_prevalent">state_util_only_prevalent</code></td>
<td>
<p>boolean parameter to indicate if the
utilities for state occupancy is only for those in the state excluding
those that transitioned new.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>changed method name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
tm &lt;- populate_transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state("Healthy", 1, 1, 0, FALSE)
b &lt;- health_state("Dead", 1, 0, 0, TRUE)
health_states &lt;- combine_state(a, b)
this.strategy &lt;- strategy(tm, health_states, "intervention")
checks_markov_pick_method(this.strategy, c(1, 0), c(0, 0),
"half cycle correction", TRUE,NULL,NULL)

</code></pre>

<hr>
<h2 id='checks_plot_dsa'>Function to do some checks before plotting sensitivity analysis results</h2><span id='topic+checks_plot_dsa'></span>

<h3>Description</h3>

<p>Function to do some checks before plotting sensitivity analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checks_plot_dsa(
  result_dsa_control,
  plotfor,
  type,
  result_dsa_treat,
  threshold,
  comparator
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checks_plot_dsa_+3A_result_dsa_control">result_dsa_control</code></td>
<td>
<p>result from deterministic sensitivity analysis
for first or control model</p>
</td></tr>
<tr><td><code id="checks_plot_dsa_+3A_plotfor">plotfor</code></td>
<td>
<p>the variable to plotfor e.g. cost, utility NMB etc</p>
</td></tr>
<tr><td><code id="checks_plot_dsa_+3A_type">type</code></td>
<td>
<p>type of analysis, range or difference</p>
</td></tr>
<tr><td><code id="checks_plot_dsa_+3A_result_dsa_treat">result_dsa_treat</code></td>
<td>
<p>result from deterministic sensitivity analysis
for the comparative Markov model</p>
</td></tr>
<tr><td><code id="checks_plot_dsa_+3A_threshold">threshold</code></td>
<td>
<p>threshold value of WTP</p>
</td></tr>
<tr><td><code id="checks_plot_dsa_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the plot variable
</p>

<hr>
<h2 id='combine_markov'>Join Markov model objects</h2><span id='topic+combine_markov'></span>

<h3>Description</h3>

<p>Join Markov model objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_markov(markov1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_markov_+3A_markov1">markov1</code></td>
<td>
<p>object 1 of class markov_model</p>
</td></tr>
<tr><td><code id="combine_markov_+3A_...">...</code></td>
<td>
<p>any additional objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Combining Markov models for easiness of comparison
</p>


<h3>Value</h3>

<p>joined objects of type markov_model
</p>


<h3>Examples</h3>

<pre><code class='language-R'>well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 100, utility = 1)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.6, 0.2, 0.2, 0.6, 0.4, 1))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "example")
this_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0))
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 10, utility = 0.5)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.4, 0.4, 0.2, 0.6, 0.4, 1))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "example")
sec_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0))
list_markov &lt;- combine_markov(this_markov, sec_markov)
</code></pre>

<hr>
<h2 id='combine_state'>Join health states</h2><span id='topic+combine_state'></span>

<h3>Description</h3>

<p>Join health states
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_state(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_state_+3A_...">...</code></td>
<td>
<p>any additional objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>checking each state is a health state and join them
</p>


<h3>Value</h3>

<p>joined health states
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- health_state("IT", 100, 0.4, 0, FALSE)
b &lt;- health_state("PT", 100, 0.4, 0, FALSE)
combine_state(a, b)
</code></pre>

<hr>
<h2 id='convert_freq_diff_basis'>Convert frequency medication to given basis</h2><span id='topic+convert_freq_diff_basis'></span>

<h3>Description</h3>

<p>Convert frequency medication to given basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_freq_diff_basis(freq_given, basis = "day")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_freq_diff_basis_+3A_freq_given">freq_given</code></td>
<td>
<p>given frequency</p>
</td></tr>
<tr><td><code id="convert_freq_diff_basis_+3A_basis">basis</code></td>
<td>
<p>given basis, default is daily</p>
</td></tr>
</table>


<h3>Value</h3>

<p>converted frequency
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_freq_diff_basis("once daily")
convert_freq_diff_basis("bd", "week")
convert_freq_diff_basis("Every 4 days", "day")
</code></pre>

<hr>
<h2 id='convert_to_given_timeperiod'>Convert period to given basis</h2><span id='topic+convert_to_given_timeperiod'></span>

<h3>Description</h3>

<p>Convert period to given basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_to_given_timeperiod(given_time, basis_time = "day")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_to_given_timeperiod_+3A_given_time">given_time</code></td>
<td>
<p>given time</p>
</td></tr>
<tr><td><code id="convert_to_given_timeperiod_+3A_basis_time">basis_time</code></td>
<td>
<p>given basis, default is &quot;day&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>converted unit
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_to_given_timeperiod("4 weeks")
convert_to_given_timeperiod("a month")
convert_to_given_timeperiod("1 week")
</code></pre>

<hr>
<h2 id='convert_volume_basis'>Convert volume  to given basis</h2><span id='topic+convert_volume_basis'></span>

<h3>Description</h3>

<p>Convert volume  to given basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_volume_basis(given_unit, basis = "ml")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_volume_basis_+3A_given_unit">given_unit</code></td>
<td>
<p>given unit</p>
</td></tr>
<tr><td><code id="convert_volume_basis_+3A_basis">basis</code></td>
<td>
<p>given basis, default is &quot;ml&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>converted unit
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_volume_basis("ml", "liter")
</code></pre>

<hr>
<h2 id='convert_weight_diff_basis'>Convert unit strength to given basis</h2><span id='topic+convert_weight_diff_basis'></span>

<h3>Description</h3>

<p>Convert unit strength to given basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_weight_diff_basis(given_unit, basis = "mg")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_weight_diff_basis_+3A_given_unit">given_unit</code></td>
<td>
<p>given unit</p>
</td></tr>
<tr><td><code id="convert_weight_diff_basis_+3A_basis">basis</code></td>
<td>
<p>given basis, default is &quot;mg&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>converted unit
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_weight_diff_basis("mg")
convert_weight_diff_basis("kilogram", "micro gram")
</code></pre>

<hr>
<h2 id='convert_wtpertimediff_basis'>Convert weight per time  to given basis</h2><span id='topic+convert_wtpertimediff_basis'></span>

<h3>Description</h3>

<p>Convert weight per time  to given basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_wtpertimediff_basis(given_unit, basis = "mcg/hour")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_wtpertimediff_basis_+3A_given_unit">given_unit</code></td>
<td>
<p>given unit</p>
</td></tr>
<tr><td><code id="convert_wtpertimediff_basis_+3A_basis">basis</code></td>
<td>
<p>given basis, default is &quot;mg&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>converted unit
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_wtpertimediff_basis("mg/day")
convert_wtpertimediff_basis("mcg/day")
convert_wtpertimediff_basis("mg/hour")
</code></pre>

<hr>
<h2 id='convert_wtpervoldiff_basis'>Convert wt per unit volume  to given basis</h2><span id='topic+convert_wtpervoldiff_basis'></span>

<h3>Description</h3>

<p>Convert wt per unit volume  to given basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_wtpervoldiff_basis(given_unit, basis = "mg/ml")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_wtpervoldiff_basis_+3A_given_unit">given_unit</code></td>
<td>
<p>given unit</p>
</td></tr>
<tr><td><code id="convert_wtpervoldiff_basis_+3A_basis">basis</code></td>
<td>
<p>given basis, default is &quot;mg/ml&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>converted unit
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_wtpervoldiff_basis("g/ml")
</code></pre>

<hr>
<h2 id='cost_data.df'>cost matrix</h2><span id='topic+cost_data.df'></span>

<h3>Description</h3>

<p>cost matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cost_data.df
</code></pre>


<h3>Format</h3>

<p>A 11 by 2 dataframe
</p>


<h3>Source</h3>

<p>created on Nov 26, 2019 from
tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c(&quot;Healthy&quot;, &quot;Dead&quot;)
tm &lt;- transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state(&quot;Healthy&quot;, 1, 1, FALSE)
b &lt;- health_state(&quot;Dead&quot;, 1, 0, TRUE)
health_states &lt;- combine_state(a, b)
this.strategy &lt;- strategy(tm, health_states, &quot;intervention&quot;)
</p>

<hr>
<h2 id='costing_AandE_admission'>Function to estimate the cost of inpatient admission but taken from
GP records where  code or description known</h2><span id='topic+costing_AandE_admission'></span>

<h3>Description</h3>

<p>Function to estimate the cost of inpatient admission but taken from
GP records where  code or description known
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_AandE_admission(
  ind_part_data,
  code_ae,
  descrip_ae,
  number_use_ae,
  type_admit_ae,
  unit_cost_data,
  code_col,
  type_admit_col,
  description_col,
  unit_cost_col,
  cost_calculated_in = "attendance",
  sheet = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_AandE_admission_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_code_ae">code_ae</code></td>
<td>
<p>column name of  code (for inpatient admission)</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_descrip_ae">descrip_ae</code></td>
<td>
<p>column name of description for inpatient admission</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_number_use_ae">number_use_ae</code></td>
<td>
<p>the number of days spent in each admission if that
is a criteria to be included. Otherwise each admission will be costed</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_type_admit_ae">type_admit_ae</code></td>
<td>
<p>term indicating admission and type of attendance</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit cost data file with  code/descriptions
and unit costs are listed for inpatient admission</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_code_col">code_col</code></td>
<td>
<p>code column name in unit cost data</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_type_admit_col">type_admit_col</code></td>
<td>
<p>colname that describes type of the attendance and</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_description_col">description_col</code></td>
<td>
<p>column name of description of inpatient admission in
the unit cost data</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_unit_cost_col">unit_cost_col</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_cost_calculated_in">cost_calculated_in</code></td>
<td>
<p>name of unit where the cost is calculated
assumed to be per admission</p>
</td></tr>
<tr><td><code id="costing_AandE_admission_+3A_sheet">sheet</code></td>
<td>
<p>sheet where the unit costs are listed in the unit costs data
file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of inpatient admission long with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>costs_file &lt;- system.file("extdata",
"National_schedule_of_NHS_costs_2019_AandE.csv", package = "packDAMipd")
datafile &lt;- system.file("extdata", "resource_use_ae_ip.csv",
package = "packDAMipd")
ind_part_data &lt;- packDAMipd::load_trial_data(datafile)
unit_cost_data &lt;- packDAMipd::load_trial_data(costs_file)
result &lt;- costing_AandE_admission(ind_part_data = ind_part_data,
code_ae = "code", descrip_ae = NULL, number_use_ae = "number_use",
type_admit_ae = "type_admit", unit_cost_data = unit_cost_data,
code_col = "Currency_Code", type_admit_col = "Service_Code",
description_col = NULL, unit_cost_col ="National_Average_Unit_Cost",
cost_calculated_in = "attendance")
</code></pre>

<hr>
<h2 id='costing_inpatient_daycase_admission'>Function to estimate the cost of inpatient admission but taken from
GP records where HRG code or description known</h2><span id='topic+costing_inpatient_daycase_admission'></span>

<h3>Description</h3>

<p>Function to estimate the cost of inpatient admission but taken from
GP records where HRG code or description known
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_inpatient_daycase_admission(
  ind_part_data,
  hrg_code_ip_admi,
  descrip_ip_admi,
  number_use_ip_admi,
  elective_col,
  unit_cost_data,
  hrg_code_col,
  description_col,
  unit_cost_col,
  cost_calculated_in = "admission"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_hrg_code_ip_admi">hrg_code_ip_admi</code></td>
<td>
<p>column name of hrg code (for inpatient admission)</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_descrip_ip_admi">descrip_ip_admi</code></td>
<td>
<p>column name of description for inpatient admission</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_number_use_ip_admi">number_use_ip_admi</code></td>
<td>
<p>the number of days spent in each admission if that
is a criteria to be included. Otherwise each admission will be costed</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_elective_col">elective_col</code></td>
<td>
<p>colname to say whether it is an elective admission or
non elective admission</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit cost data file with hrg code/descriptions
and unit costs are listed for inpatient admission</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_hrg_code_col">hrg_code_col</code></td>
<td>
<p>hrg code column name in unit cost data</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_description_col">description_col</code></td>
<td>
<p>column name of description of inpatient admission in
the unit cost data</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_unit_cost_col">unit_cost_col</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_inpatient_daycase_admission_+3A_cost_calculated_in">cost_calculated_in</code></td>
<td>
<p>name of unit where the cost is calculated
assumed to be per admission</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of inpatient admission long with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>costs_file &lt;- system.file("extdata",
 "National_schedule_of_NHS_costs_2019.csv",
 package = "packDAMipd")
 datafile &lt;- system.file("extdata", "resource_use_hc_ip.csv",
 package = "packDAMipd")
 ind_part_data &lt;- packDAMipd::load_trial_data(datafile)
 unit_cost_data &lt;- packDAMipd::load_trial_data(costs_file)
 result &lt;- costing_inpatient_daycase_admission(ind_part_data,
 hrg_code_ip_admi = "HRGcode", descrip_ip_admi = NULL,
number_use_ip_admi = "number_use", elective_col = "EL",
unit_cost_data, hrg_code_col = "Currency_Code", description_col = NULL,
 unit_cost_col ="National_Average_Unit_Cost",
 cost_calculated_in = "admission")
</code></pre>

<hr>
<h2 id='costing_opioid_liquids_averageMED_long'>Function to estimate the cost of liquids when IPD is in long format</h2><span id='topic+costing_opioid_liquids_averageMED_long'></span>

<h3>Description</h3>

<p>Function to estimate the cost of liquids when IPD is in long format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_opioid_liquids_averageMED_long(
  the_columns,
  ind_part_data_long,
  name_med,
  brand_med = NULL,
  bottle_size,
  bottle_size_unit = NULL,
  bottle_lasts,
  bottle_lasts_unit = NULL,
  preparation_dose,
  preparation_unit = NULL,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_brand = NULL,
  list_of_code_bottle_size_unit = NULL,
  list_of_code_bottle_lasts_unit = NULL,
  list_preparation_dose_unit = NULL,
  eqdose_covtab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_the_columns">the_columns</code></td>
<td>
<p>columns that are to be used to convert the data
from long to wide</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_ind_part_data_long">ind_part_data_long</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_bottle_size">bottle_size</code></td>
<td>
<p>size of the bottle used</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_bottle_size_unit">bottle_size_unit</code></td>
<td>
<p>unit of bottle volume</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_bottle_lasts">bottle_lasts</code></td>
<td>
<p>how long the bottle lasted</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_bottle_lasts_unit">bottle_lasts_unit</code></td>
<td>
<p>time unit of how long the bottle lasted</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_preparation_dose">preparation_dose</code></td>
<td>
<p>dose if preparation is given</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_preparation_unit">preparation_unit</code></td>
<td>
<p>unit of preparatio dose</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that has strength of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the
code:brand pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_list_of_code_bottle_size_unit">list_of_code_bottle_size_unit</code></td>
<td>
<p>list of bottle size units and codes</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_list_of_code_bottle_lasts_unit">list_of_code_bottle_lasts_unit</code></td>
<td>
<p>list of time of bottle lasts and codes</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_list_preparation_dose_unit">list_preparation_dose_unit</code></td>
<td>
<p>list of preparation dose units and codes</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_eqdose_covtab">eqdose_covtab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_long_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_liq_brand_empty.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",
package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- costing_opioid_liquids_averageMED_wide(
ind_part_data = ind_part_data, name_med = "liq_name",
brand_med =  "liq_brand", bottle_size = "liq_bottle_size",
bottle_size_unit = NULL, bottle_lasts = "liq_lasts",
bottle_lasts_unit = NULL, preparation_dose = "liq_strength",
preparation_unit = NULL, timeperiod = "1 day",
unit_cost_data = med_costs, unit_cost_column = "UnitCost",
cost_calculated_per = "Basis", strength_column = "Strength",
list_of_code_names = NULL, list_of_code_brand = NULL,
list_of_code_bottle_size_unit = NULL,
list_of_code_bottle_lasts_unit = NULL,
list_preparation_dose_unit = NULL, eqdose_covtab = table,
basis_strength_unit = NULL)
</code></pre>

<hr>
<h2 id='costing_opioid_liquids_averageMED_wide'>Function to estimate the cost of liquids taken (from IPD)</h2><span id='topic+costing_opioid_liquids_averageMED_wide'></span>

<h3>Description</h3>

<p>Function to estimate the cost of liquids taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_opioid_liquids_averageMED_wide(
  ind_part_data,
  name_med,
  brand_med = NULL,
  bottle_size,
  bottle_size_unit = NULL,
  bottle_lasts,
  bottle_lasts_unit = NULL,
  preparation_dose,
  preparation_unit = NULL,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_brand = NULL,
  list_of_code_bottle_size_unit = NULL,
  list_of_code_bottle_lasts_unit = NULL,
  list_preparation_dose_unit = NULL,
  eqdose_covtab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_bottle_size">bottle_size</code></td>
<td>
<p>size of the bottle used</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_bottle_size_unit">bottle_size_unit</code></td>
<td>
<p>unit of bottle volume</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_bottle_lasts">bottle_lasts</code></td>
<td>
<p>how long the bottle lasted</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_bottle_lasts_unit">bottle_lasts_unit</code></td>
<td>
<p>time unit of how long the bottle lasted</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_preparation_dose">preparation_dose</code></td>
<td>
<p>dose if preparation is given</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_preparation_unit">preparation_unit</code></td>
<td>
<p>unit of preparation dose</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that has strength of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the
code:brand pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_list_of_code_bottle_size_unit">list_of_code_bottle_size_unit</code></td>
<td>
<p>list of bottle size units and codes</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_list_of_code_bottle_lasts_unit">list_of_code_bottle_lasts_unit</code></td>
<td>
<p>list of time of bottle lasts and codes</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_list_preparation_dose_unit">list_preparation_dose_unit</code></td>
<td>
<p>list of preparation dose units and codes</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_eqdose_covtab">eqdose_covtab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional, but the column names have to unique
Similar to c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;factor&quot;) or
c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;conversion&quot;)</p>
</td></tr>
<tr><td><code id="costing_opioid_liquids_averageMED_wide_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_liq.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- microcosting_liquids_wide(
ind_part_data = ind_part_data, name_med = "liq_name", brand_med =  NULL,
dose_med = "liq_strength", unit_med = NULL, bottle_size = "liq_bottle_size",
bottle_size_unit = NULL, bottle_lasts = "liq_lasts",
bottle_lasts_unit = NULL, preparation_dose = NULL, preparation_unit = NULL,
timeperiod = "4 months", unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_brand = NULL, list_of_code_dose_unit = NULL,
list_of_code_bottle_size_unit = NULL, list_of_code_bottle_lasts_unit = NULL,
list_preparation_dose_unit = NULL, eqdose_covtab = table,
basis_strength_unit = NULL)
</code></pre>

<hr>
<h2 id='costing_opioid_patches_averageMED_long'>#'###########################################################################
Function to estimate the cost of patches when IPD is in long format
using a IPD data of long format</h2><span id='topic+costing_opioid_patches_averageMED_long'></span>

<h3>Description</h3>

<p>#'###########################################################################
Function to estimate the cost of patches when IPD is in long format
using a IPD data of long format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_opioid_patches_averageMED_long(
  the_columns,
  ind_part_data_long,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_the_columns">the_columns</code></td>
<td>
<p>columns that are to be used to convert the data
from long to wide</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_ind_part_data_long">ind_part_data_long</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit in the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_long_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
names &lt;- colnames(ind_part_data)
ending &lt;- length(names)
ind_part_data_long &lt;- tidyr::gather(ind_part_data, measurement, value,
names[2]:names[ending], factor_key = TRUE)
the_columns &lt;- c("measurement", "value")
res &lt;- costing_opioid_patches_averageMED_long(the_columns,
ind_part_data_long = ind_part_data_long, name_med = "patch_name",
brand_med = "patch_brand", dose_med = "patch_strength",unit_med = NULL,
no_taken = "patch_no_taken", freq_taken = "patch_frequency",
timeperiod = "4 months", unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per  = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_freq = NULL, list_of_code_dose_unit = NULL,
list_of_code_brand = NULL, eqdose_cov_tab = table,
basis_strength_unit = "mcg/hr")
</code></pre>

<hr>
<h2 id='costing_opioid_patches_averageMED_wide'>Function to estimate the cost of patches taken (from IPD)</h2><span id='topic+costing_opioid_patches_averageMED_wide'></span>

<h3>Description</h3>

<p>Function to estimate the cost of patches taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_opioid_patches_averageMED_wide(
  ind_part_data,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional, but the column names have to unique
Similar to c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;factor&quot;) or
c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;conversion&quot;)</p>
</td></tr>
<tr><td><code id="costing_opioid_patches_averageMED_wide_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes individual level data has name of medication, dose, dose unit,
number taken, frequency taken, and basis time
Assumes unit cost data contains the name of medication, form/type,
strength, unit of strength (or the unit in which the cost calculated),
preparation, unit cost, size and size unit
(in which name, forms, size, size unit, and preparation  are not passed on)
@importFrom dplyr %&gt;%
</p>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx", package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- costing_opioid_patches_averageMED_wide(
ind_part_data = ind_part_data, name_med = "patch_name",
brand_med = "patch_brand", dose_med = "patch_strength", unit_med = NULL,
no_taken = "patch_no_taken", freq_taken = "patch_frequency",
timeperiod = "4 months", unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per  = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_freq = NULL, list_of_code_dose_unit = NULL,
list_of_code_brand = NULL, eqdose_cov_tab = table,
basis_strength_unit = "mcg/hr")
</code></pre>

<hr>
<h2 id='costing_opioid_tablets_averageMED_long'>Function to estimate the cost of tablets when IPD is in long format</h2><span id='topic+costing_opioid_tablets_averageMED_long'></span>

<h3>Description</h3>

<p>Function to estimate the cost of tablets when IPD is in long format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_opioid_tablets_averageMED_long(
  the_columns,
  ind_part_data_long,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_the_columns">the_columns</code></td>
<td>
<p>columns that are to be used to convert the data
from long to wide</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_ind_part_data_long">ind_part_data_long</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_long_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_all.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx", package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
names &lt;- colnames(ind_part_data)
ending &lt;- length(names)
ind_part_data_long &lt;- tidyr::gather(ind_part_data, measurement, value,
names[2]:names[ending], factor_key = TRUE)
the_columns &lt;- c("measurement", "value")
res &lt;- microcosting_tablets_long(the_columns,
ind_part_data_long = ind_part_data_long, name_med = "tab_name",
brand_med = "tab_brand", dose_med = "tab_strength",
unit_med = "tab_str_unit",
no_taken = "tab_no_taken", freq_taken = "tab_frequency",
timeperiod = "2 months",unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per  = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_freq = NULL,list_of_code_dose_unit = NULL,
eqdose_cov_tab = table, basis_strength_unit = "mg")
</code></pre>

<hr>
<h2 id='costing_opioid_tablets_averageMED_wide'>Function to estimate the cost of tablets taken as an average cost per
equivalent dose in the opioid scenario is the morphine equivalent dose
(from IPD)</h2><span id='topic+costing_opioid_tablets_averageMED_wide'></span>

<h3>Description</h3>

<p>Function to estimate the cost of tablets taken as an average cost per
equivalent dose in the opioid scenario is the morphine equivalent dose
(from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_opioid_tablets_averageMED_wide(
  ind_part_data,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional, but the column names have to unique
Similar to c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;factor&quot;) or
c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;conversion&quot;)</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_averageMED_wide_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes individual level data has name of medication, dose, dose unit,
number taken, frequency taken, and basis time
Assumes unit cost data contains the name of medication, form/type,
strength, unit of strength (or the unit in which the cost calculated),
preparation, unit cost, size and size unit
(in which name, forms, size, size unit, and preparation  are not passed on)
@importFrom dplyr %&gt;%
</p>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_all_brandNull.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",
package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- costing_opioid_tablets_MED_wide(ind_part_data = ind_part_data,
name_med = "tab_name", brand_med = "tab_brand", dose_med = "tab_str",
unit_med = "tab_unit", no_taken = "tab_no_taken",
freq_taken = "tab_frequency", timeperiod = "one day",
unit_cost_data = med_costs, unit_cost_column = "UnitCost",
cost_calculated_per  = "Basis", strength_column = "Strength",
list_of_code_names = NULL, list_of_code_freq = NULL,
list_of_code_dose_unit = NULL, eqdose_cov_tab = table,
basis_strength_unit = "mg")
</code></pre>

<hr>
<h2 id='costing_opioid_tablets_MED_wide'>Function to estimate the cost of tablets taken (from IPD)</h2><span id='topic+costing_opioid_tablets_MED_wide'></span>

<h3>Description</h3>

<p>Function to estimate the cost of tablets taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_opioid_tablets_MED_wide(
  ind_part_data,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional, but the column names have to unique
Similar to c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;factor&quot;) or
c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;conversion&quot;)</p>
</td></tr>
<tr><td><code id="costing_opioid_tablets_MED_wide_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes individual level data has name of medication, dose, dose unit,
number taken, frequency taken, and basis time
Assumes unit cost data contains the name of medication, form/type,
strength, unit of strength (or the unit in which the cost calculated),
preparation, unit cost, size and size unit
(in which name, forms, size, size unit, and preparation  are not passed on)
@importFrom dplyr %&gt;%
</p>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_all_brandNull.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",
package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- costing_opioid_tablets_MED_wide(ind_part_data = ind_part_data,
name_med = "tab_name", brand_med = "tab_brand", dose_med = "tab_str",
unit_med = "tab_unit", no_taken = "tab_no_taken",
freq_taken = "tab_frequency", timeperiod = "one day",
unit_cost_data = med_costs, unit_cost_column = "UnitCost",
cost_calculated_per  = "Basis", strength_column = "Strength",
list_of_code_names = NULL, list_of_code_freq = NULL,
list_of_code_dose_unit = NULL, eqdose_cov_tab = table,
basis_strength_unit = "mg")
</code></pre>

<hr>
<h2 id='costing_resource_use'>Function to estimate the cost of resource use taken (from IPD)</h2><span id='topic+costing_resource_use'></span>

<h3>Description</h3>

<p>Function to estimate the cost of resource use taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>costing_resource_use(
  ind_part_data,
  name_use_col,
  each_length_num_use = NULL,
  each_use_provider_indicator = NULL,
  unit_length_use = "day",
  unit_cost_data,
  name_use_unit_cost,
  unit_cost_column,
  cost_calculated_in,
  list_code_use_indicator = NULL,
  list_code_provider_indicator = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="costing_resource_use_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_name_use_col">name_use_col</code></td>
<td>
<p>name of the column containing resource use</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_each_length_num_use">each_length_num_use</code></td>
<td>
<p>list of column names that shows
length/number of  repeated use eg. hospital admission</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_each_use_provider_indicator">each_use_provider_indicator</code></td>
<td>
<p>list of column names that shows the
bool indicators for the use of resource if this
is to be included for the particular provider, say an nhs hospital use</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_unit_length_use">unit_length_use</code></td>
<td>
<p>the column name that contains how many or
how long used</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data where the assumption is that
the unit cost for resources
such as hospital use, gp visit are listed in column resource/resource
use with unit costs in another
column and the units calculated as in another column</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_name_use_unit_cost">name_use_unit_cost</code></td>
<td>
<p>name of resource use (the column name in
the unit cost
data is assumed to be name/resource/type etc) in unit cost data</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_cost_calculated_in">cost_calculated_in</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_list_code_use_indicator">list_code_use_indicator</code></td>
<td>
<p>if the column name_use_col  shows codes
to indicate the resource use provide the list of codes and resource use
for eg., list(c(&quot;yes&quot;, &quot;no&quot;, c(1,2)))</p>
</td></tr>
<tr><td><code id="costing_resource_use_+3A_list_code_provider_indicator">list_code_provider_indicator</code></td>
<td>
<p>column each_use_provider_indicator
shows codes to indicate the resource use
provide the list of codes and resource use for eg.,
list(c(&quot;yes&quot;, &quot;no&quot;, c(1,2)))</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of resource uses along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>costs_file &lt;- system.file("extdata", "costs_resource_use.csv",
package = "packDAMipd")
datafile &lt;- system.file("extdata", "resource_use_hc_2.csv",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(datafile)
unit_cost_data &lt;- load_trial_data(costs_file)
res &lt;- costing_resource_use(
  ind_part_data[1, ],
  "hospital_admission_1",
  list("length_1", "length_2"),
  list("nhs_1", "nhs_2"),
  "day",
  unit_cost_data, "Inpatient hospital admissions", "UnitCost",
  "UnitUsed",
  NULL, NULL
)
</code></pre>

<hr>
<h2 id='create_new_dataset'>create new dataset while keeping
cox regression results and returned coefficients</h2><span id='topic+create_new_dataset'></span>

<h3>Description</h3>

<p>create new dataset while keeping
cox regression results and returned coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_new_dataset(var, covar, dataset, categorical)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_new_dataset_+3A_var">var</code></td>
<td>
<p>variable for which the levels have to be identified
usually indep variable</p>
</td></tr>
<tr><td><code id="create_new_dataset_+3A_covar">covar</code></td>
<td>
<p>the other covariates</p>
</td></tr>
<tr><td><code id="create_new_dataset_+3A_dataset">dataset</code></td>
<td>
<p>the dataset where these variables contain</p>
</td></tr>
<tr><td><code id="create_new_dataset_+3A_categorical">categorical</code></td>
<td>
<p>are these variables categorical? True of false</p>
</td></tr>
</table>


<h3>Value</h3>

<p>new data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dataset &lt;- survival::lung
new = create_new_dataset("status", c("age"), dataset, c(FALSE))
</code></pre>

<hr>
<h2 id='create_shorttable_from_gtsummary_compare_twogroups_timpoints'>Create a table to compare the descriptive analysis (short) from gtsummary of
two groups, but at different timepoints</h2><span id='topic+create_shorttable_from_gtsummary_compare_twogroups_timpoints'></span>

<h3>Description</h3>

<p>Create a table to compare the descriptive analysis (short) from gtsummary of
two groups, but at different timepoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_shorttable_from_gtsummary_compare_twogroups_timpoints(
  variables,
  gtsummary,
  name_use,
  timepoints
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_shorttable_from_gtsummary_compare_twogroups_timpoints_+3A_variables">variables</code></td>
<td>
<p>variables that interested</p>
</td></tr>
<tr><td><code id="create_shorttable_from_gtsummary_compare_twogroups_timpoints_+3A_gtsummary">gtsummary</code></td>
<td>
<p>a gtsummary object that contains summary parameters</p>
</td></tr>
<tr><td><code id="create_shorttable_from_gtsummary_compare_twogroups_timpoints_+3A_name_use">name_use</code></td>
<td>
<p>name of the variable or category</p>
</td></tr>
<tr><td><code id="create_shorttable_from_gtsummary_compare_twogroups_timpoints_+3A_timepoints">timepoints</code></td>
<td>
<p>the timepoints at which the descriptive analysis is done</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 34, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 23, 45)))
outcome_summary &lt;- IPDFileCheck::get_summary_gtsummary(eg_data,
c("gender", "mark_at_1", "mark_at_2"), byvar = "gender")
variables &lt;- "Mark"
k &lt;- create_shorttable_from_gtsummary_compare_twogroups_timpoints(variables,
outcome_summary, "Category", c(1, 2))
</code></pre>

<hr>
<h2 id='create_table_from_gtsummary_compare_twogroups'>Create a table to compare the descriptive analysis from gtsummary of
two groups</h2><span id='topic+create_table_from_gtsummary_compare_twogroups'></span>

<h3>Description</h3>

<p>Create a table to compare the descriptive analysis from gtsummary of
two groups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_table_from_gtsummary_compare_twogroups(variables, gtsummary, name_use)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_table_from_gtsummary_compare_twogroups_+3A_variables">variables</code></td>
<td>
<p>variables that interested</p>
</td></tr>
<tr><td><code id="create_table_from_gtsummary_compare_twogroups_+3A_gtsummary">gtsummary</code></td>
<td>
<p>a gtsummary object that contains summary parameters</p>
</td></tr>
<tr><td><code id="create_table_from_gtsummary_compare_twogroups_+3A_name_use">name_use</code></td>
<td>
<p>name of the variable or category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1,2,3,4), mark = c(12,34,23,45),
gender = c("M", "F", "M", "F")))
outcome_summary &lt;- IPDFileCheck::get_summary_gtsummary(eg_data,
c("gender", "mark"), byvar = "gender")
variables &lt;- "Mark"
create_table_from_gtsummary_compare_twogroups(variables,
outcome_summary, "Category")
</code></pre>

<hr>
<h2 id='define_parameters'>Function to return a list of parameters given</h2><span id='topic+define_parameters'></span>

<h3>Description</h3>

<p>Function to return a list of parameters given
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_parameters(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_parameters_+3A_...">...</code></td>
<td>
<p>any parameters set of name value pairs expected</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To return a list of parameters
For using with assign_parameters() just list or enumerate the
parameters, do not use c() or list() to create a data type list
</p>


<h3>Value</h3>

<p>a list of parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>define_parameters(rr = 1)
</code></pre>

<hr>
<h2 id='define_parameters_psa'>Define parameter lists for deterministic sensitivity analysis</h2><span id='topic+define_parameters_psa'></span>

<h3>Description</h3>

<p>Define parameter lists for deterministic sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_parameters_psa(base_param_list, sample_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_parameters_psa_+3A_base_param_list">base_param_list</code></td>
<td>
<p>list of parameters that used to define Markov model</p>
</td></tr>
<tr><td><code id="define_parameters_psa_+3A_sample_list">sample_list</code></td>
<td>
<p>list of parameter values with their sampling distributions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table for probability sensitivity analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>param_list &lt;- define_parameters(
  cost_zido = 2278, cost_direct_med_A = 1701,
  cost_comm_care_A = 1055, cost_direct_med_B = 1774,
  cost_comm_care_B = 1278,
  cost_direct_med_C = 6948, cost_comm_care_C = 2059,
  tpAtoA = 1251 / (1251 + 483),
  tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
  tpAtoD = 17 / (17 + 1717),
  tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
  tpBtoD = 15 / (15 + 1243),
  tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312), tpDtoD = 1,
  cost_health_A = "cost_direct_med_A+ cost_comm_care_A",
  cost_health_B = "cost_direct_med_B+ cost_comm_care_B",
  cost_health_C = "cost_direct_med_C+ cost_comm_care_C",
  cost_drug = "cost_zido"
)
sample_list &lt;- define_parameters(cost_zido = "gamma(mean = 2756,
sd = sqrt(2756))")
param_table &lt;- define_parameters_psa(param_list, sample_list)
</code></pre>

<hr>
<h2 id='define_parameters_sens_anal'>ISLR flextable huxtable nlme tm
Define parameter lists for deterministic sensitivity analysis</h2><span id='topic+define_parameters_sens_anal'></span>

<h3>Description</h3>

<p>ISLR flextable huxtable nlme tm
Define parameter lists for deterministic sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_parameters_sens_anal(param_list, low_values, upp_values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_parameters_sens_anal_+3A_param_list">param_list</code></td>
<td>
<p>list of parameters that used to define Markov model</p>
</td></tr>
<tr><td><code id="define_parameters_sens_anal_+3A_low_values">low_values</code></td>
<td>
<p>list of lower values of those parameters for whom the
sensitivity is to be estimated</p>
</td></tr>
<tr><td><code id="define_parameters_sens_anal_+3A_upp_values">upp_values</code></td>
<td>
<p>list of upper values of those parameters for whom the
sensitivity is to be estimated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Get the parameter list, min and maximum values of the parameters.
The min and max values should have same entries, but they should be
contained in param_list too. Copy the exact values of parameters that
are in param list but not in min and max values
</p>


<h3>Value</h3>

<p>table for sensitivity analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>param_list &lt;- define_parameters(
  cost_zido = 2278, cost_direct_med_A = 1701,
  cost_comm_care_A = 1055, cost_direct_med_B = 1774,
  cost_comm_care_B = 1278,
  cost_direct_med_C = 6948, cost_comm_care_C = 2059,
  tpAtoA = 1251 / (1251 + 483),
  tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
  tpAtoD = 17 / (17 + 1717),
  tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
  tpBtoD = 15 / (15 + 1243),
  tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312), tpDtoD = 1,
  cost_health_A = "cost_direct_med_A +  cost_comm_care_A",
  cost_health_B = "cost_direct_med_B +  cost_comm_care_B",
  cost_health_C = "cost_direct_med_C +  cost_comm_care_C",
  cost_drug = "cost_zido"
)
low_values &lt;- define_parameters(cost_direct_med_B = 177.4,
cost_comm_care_C = 205.9)
upp_values &lt;- define_parameters(cost_direct_med_B = 17740,
cost_comm_care_C = 20590)
param_table &lt;- define_parameters_sens_anal(param_list, low_values,
upp_values)
</code></pre>

<hr>
<h2 id='define_transition_table'>Define the table for transition</h2><span id='topic+define_transition_table'></span>

<h3>Description</h3>

<p>Define the table for transition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_transition_table(tmat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_transition_table_+3A_tmat">tmat</code></td>
<td>
<p>transition matrix in the format as in package 'mstate'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generating a table for transition matrix for efficient understanding and
checking
The transition matrix in the format as per 'mstate' package is
transformed to a table. if tmat is not a square matrix, it gives error
else it spells out the transition number, probability name and from state
to state
</p>


<h3>Value</h3>

<p>the transition table with the probabilities
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
define_transition_table(tmat)
</code></pre>

<hr>
<h2 id='do_diagnostic_glm'>Do the diagnostic test for glm model assumption</h2><span id='topic+do_diagnostic_glm'></span>

<h3>Description</h3>

<p>Do the diagnostic test for glm model assumption
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_diagnostic_glm(
  method = "glm",
  fit,
  expression_recreated,
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_diagnostic_glm_+3A_method">method</code></td>
<td>
<p>param describing the methods, expects glm</p>
</td></tr>
<tr><td><code id="do_diagnostic_glm_+3A_expression_recreated">expression_recreated</code></td>
<td>
<p>the expression recreated for calling lm</p>
</td></tr>
<tr><td><code id="do_diagnostic_glm_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="do_diagnostic_glm_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="do_diagnostic_glm_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="do_diagnostic_glm_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates - calculations to be done before
passing</p>
</td></tr>
<tr><td><code id="do_diagnostic_glm_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction in the case
of linear regression, false by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
datafile = system.file("extdata", "binary.csv", package = "packDAMipd")
mydata &lt;- read.csv(datafile)
results_logit &lt;- use_generalised_linear_model("admit",dataset = mydata,
indep_var = "gre", family = "binomial", covariates = NA,
interaction = FALSE,naaction = "na.omit", link = NA)
do_diagnostic_glm("glm", results_logit$fit, results_logit$fit$call,
"admit",mydata, "gre", covariates = NA, interaction = FALSE)

</code></pre>

<hr>
<h2 id='do_diagnostic_linear_regression'>Do the diagnostic test for lm model assumption</h2><span id='topic+do_diagnostic_linear_regression'></span>

<h3>Description</h3>

<p>Do the diagnostic test for lm model assumption
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_diagnostic_linear_regression(
  method,
  fit,
  expression_recreated,
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_diagnostic_linear_regression_+3A_method">method</code></td>
<td>
<p>param describing the methods, expects lm</p>
</td></tr>
<tr><td><code id="do_diagnostic_linear_regression_+3A_expression_recreated">expression_recreated</code></td>
<td>
<p>the expression recreated for calling lm</p>
</td></tr>
<tr><td><code id="do_diagnostic_linear_regression_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="do_diagnostic_linear_regression_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="do_diagnostic_linear_regression_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="do_diagnostic_linear_regression_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates - calculations to be done before
passing</p>
</td></tr>
<tr><td><code id="do_diagnostic_linear_regression_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction in the case of
linear regression, false by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
datafile = system.file("extdata", "binary.csv", package = "packDAMipd")
mydata &lt;- read.csv(datafile)
results_logit &lt;- use_linear_regression("admit",dataset = mydata,
indep_var = "gre",covariates = NA, interaction = FALSE)
do_diagnostic_linear_regression("lm", results_logit$fit,
results_logit$fit$call,
"admit", mydata, "gre", covariates = NA , interaction= FALSE)

</code></pre>

<hr>
<h2 id='do_psa'>Function to do probabilistic sensitivity analysis</h2><span id='topic+do_psa'></span>

<h3>Description</h3>

<p>Function to do probabilistic sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_psa(this_markov, psa_table, num_rep)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_psa_+3A_this_markov">this_markov</code></td>
<td>
<p>Markov model object</p>
</td></tr>
<tr><td><code id="do_psa_+3A_psa_table">psa_table</code></td>
<td>
<p>table object from define_parameters_psa</p>
</td></tr>
<tr><td><code id="do_psa_+3A_num_rep">num_rep</code></td>
<td>
<p>number of repetitions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>result after sensitivity analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
param_list &lt;- define_parameters(
  cost_zido = 2278, cost_direct_med_A = 1701,
  cost_comm_care_A = 1055, cost_direct_med_B = 1774,
  cost_comm_care_B = 1278,
  cost_direct_med_C = 6948, cost_comm_care_C = 2059,
  tpAtoA = 1251 / (1251 + 483),
  tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
  tpAtoD = 17 / (17 + 1717),
  tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
  tpBtoD = 15 / (15 + 1243),
  tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312), tpDtoD = 1,
  cost_health_A = "cost_direct_med_A+ cost_comm_care_A",
  cost_health_B = "cost_direct_med_B+ cost_comm_care_B",
  cost_health_C = "cost_direct_med_C+ cost_comm_care_C",
  cost_drug = "cost_zido"
)
A &lt;- health_state("A", cost = "cost_health_A+ cost_drug ", utility = 1)
B &lt;- health_state("B", cost = "cost_health_B + cost_drug", utility = 1)
C &lt;- health_state("C", cost = "cost_health_C + cost_drug", utility = 1)
D &lt;- health_state("D", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3, 4), c(NA, 5, 6, 7), c(NA, NA, 8, 9),
c(NA, NA, NA, 10))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("A", "B", "C", "D")
tm &lt;- populate_transition_matrix(4, tmat, c(
  "tpAtoA", "tpAtoB", "tpAtoC", "tpAtoD",
  "tpBtoB", "tpBtoC", "tpBtoD", "tpCtoC", "tpCtoD", "tpDtoD"
), colnames(tmat))
health_states &lt;- combine_state(A, B, C, D)
mono_strategy &lt;- strategy(tm, health_states, "mono")
mono_markov &lt;- markov_model(mono_strategy, 20, discount = c(0.06, 0),
initial_state =c(1,0,0,0),param_list)
sample_list &lt;- define_parameters(cost_zido = "gamma(mean = 2756,
sd = sqrt(2756))")
param_table &lt;- define_parameters_psa(param_list, sample_list)
result &lt;- do_psa(mono_markov, param_table, 10)

</code></pre>

<hr>
<h2 id='do_sensitivity_analysis'>Function to do deterministic sensitivity analysis</h2><span id='topic+do_sensitivity_analysis'></span>

<h3>Description</h3>

<p>Function to do deterministic sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_sensitivity_analysis(this_markov, param_table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_sensitivity_analysis_+3A_this_markov">this_markov</code></td>
<td>
<p>Markov model object</p>
</td></tr>
<tr><td><code id="do_sensitivity_analysis_+3A_param_table">param_table</code></td>
<td>
<p>table object from define_parameters_sens_anal()
with parameters (base case value, lower and upper)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>result after sensitivity analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
param_list &lt;- define_parameters(
cost_zido = 2278, cost_direct_med_A = 1701,
cost_comm_care_A = 1055, cost_direct_med_B = 1774,
cost_comm_care_B = 1278,
cost_direct_med_C = 6948, cost_comm_care_C = 2059,
tpAtoA = 1251 / (1251 + 483),
tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
tpAtoD = 17 / (17 + 1717),
tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
tpBtoD = 15 / (15 + 1243),
tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312),
tpDtoD = 1,
cost_health_A = "cost_direct_med_A +  cost_comm_care_A",
cost_health_B = "cost_direct_med_B +  cost_comm_care_B",
cost_health_C = "cost_direct_med_C +  cost_comm_care_C",
cost_drug = "cost_zido")
low_values &lt;- define_parameters(cost_direct_med_B = 177.4,
cost_comm_care_C = 205.9)
upp_values &lt;- define_parameters(cost_direct_med_B = 17740,
cost_comm_care_C = 20590)
A &lt;- health_state("A", cost = "cost_health_A +  cost_drug ", utility = 1)
B &lt;- health_state("B", cost = "cost_health_B + cost_drug", utility = 1)
C &lt;- health_state("C", cost = "cost_health_C + cost_drug", utility = 1)
D &lt;- health_state("D", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3, 4), c(NA, 5, 6, 7), c(NA, NA, 8, 9),
c(NA, NA, NA, 10))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("A", "B", "C", "D")
tm &lt;- populate_transition_matrix(4, tmat, c("tpAtoA", "tpAtoB", "tpAtoC",
"tpAtoD","tpBtoB", "tpBtoC", "tpBtoD", "tpCtoC", "tpCtoD", "tpDtoD"),
colnames(tmat))
health_states &lt;- combine_state(A, B, C, D)
mono_strategy &lt;- strategy(tm, health_states, "mono")
mono_markov &lt;- markov_model(mono_strategy, 20, c(1, 0, 0, 0),
discount = c(0.06, 0), param_list)
param_table &lt;- define_parameters_sens_anal(param_list, low_values,
upp_values)
result &lt;- do_sensitivity_analysis(mono_markov, param_table)

</code></pre>

<hr>
<h2 id='encode_codes_data'>Function to get the codes and the corresponding entries</h2><span id='topic+encode_codes_data'></span>

<h3>Description</h3>

<p>Function to get the codes and the corresponding entries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encode_codes_data(list_code_values, data_column_nos, the_data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="encode_codes_data_+3A_list_code_values">list_code_values</code></td>
<td>
<p>list of codes and values, given as list of lists</p>
</td></tr>
<tr><td><code id="encode_codes_data_+3A_data_column_nos">data_column_nos</code></td>
<td>
<p>the column numbers of data to look for the entries</p>
</td></tr>
<tr><td><code id="encode_codes_data_+3A_the_data">the_data</code></td>
<td>
<p>the data where to look for</p>
</td></tr>
</table>


<h3>Value</h3>

<p>weight and vol units
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_file &lt;- system.file("extdata", "medication_liq_codes.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
data_column_nos = c(2,12)
list_of_code_names = list(c(1, 2),c("Morphine", "Oxycodone"))
encode_codes_data(list_of_code_names, data_column_nos, ind_part_data)
</code></pre>

<hr>
<h2 id='eval_assign_trans_prob'>Attribute parameters to probabilities of transition matrix</h2><span id='topic+eval_assign_trans_prob'></span>

<h3>Description</h3>

<p>Attribute parameters to probabilities of transition matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_assign_trans_prob(tm, parameter_values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval_assign_trans_prob_+3A_tm">tm</code></td>
<td>
<p>A transition matrix in the format from the package 'mstate'</p>
</td></tr>
<tr><td><code id="eval_assign_trans_prob_+3A_parameter_values">parameter_values</code></td>
<td>
<p>name value pairs of parameter values in the
probability matrix</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Once the transition matrix is populated, the probabilities in
transition matrix gets evaluated and assigned in this function call
If the entry in transition matrix is NA, replaces it with zero
similarly to evaluate and assign health states, the parameter values
is excepted to be a list from assign_parameter() and define_parameter().
The exception is that if the parameters are defined directly and no nested
calculation is required. For eg.
assign_list = c(p1 = 0.2, p2 = 0.3, p3 = 0.4, p4 = 0.5)
prob &lt;- eval_assign_trans_prob(tmat, assign_list) will work
For those with nested calculations, this has to be defined as below
assign_list&lt;-assign_parameters(define_parameters(p1 = 0.2, p2 = 0.3,
p3 = 0.4, p4 = 0.5))
prob &lt;- eval_assign_trans_prob(tmat, assign_list)
The below will give error
assign_list &lt;- c(p1=0.1, p2 = &quot;p1 + 0.2&quot;, p3=0, p4=0.3)
prob &lt;- eval_assign_trans_prob(tmat, assign_list)
</p>


<h3>Value</h3>

<p>the transition table with the probabilities
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
tmat &lt;- populate_transition_matrix(2, tmat,
list_prob = c("p1", "p2", "p3", "p4"))
tmat_assigned &lt;- eval_assign_trans_prob(tmat,
c(p1 = 0.2, p2 = 0.3, p3 = 0.4, p4 = 0.5))
</code></pre>

<hr>
<h2 id='eval_assign_values_states'>Attribute values in health states</h2><span id='topic+eval_assign_values_states'></span>

<h3>Description</h3>

<p>Attribute values in health states
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_assign_values_states(health_states, assigned_param)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval_assign_values_states_+3A_health_states">health_states</code></td>
<td>
<p>list of health_state objects</p>
</td></tr>
<tr><td><code id="eval_assign_values_states_+3A_assigned_param">assigned_param</code></td>
<td>
<p>name value pairs of parameter values in the
probability matrix
expected created using function assign_parameters()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assigning the param is done for the cost and utility
if the param is not numeric, check if it can be evaluated at the run time
if yes, assign the evaluated numeric value
if not get the parameters between operators, and assign the values to
each individual parameters and then evaluate. only works for two levels.
For the example shown the cost is sum of cost_A and cost_B which will
only get added in the call eval_assign_values_states
While initialising the state &quot;well&quot; it will be only saved as
expression(cost_A + cost_B)
assigned_param (a list) can be expected to be created using
assign_parameters() the exception is if parameter is directly assigned
with no nested calculation and no missing parameters.
For example assigned_param = c(cost_a = 10, cost_b=10) will be ok
but not assigned_param = c(a=10, cost_A = &quot;a+100&quot;, cost_B =10) as it requires
a nested calculation then use define_parameters() with assign_parameters()
as in param_list &lt;- define_parameters(a = 10, cost_A = &quot;a + 100&quot;,
cost_B = 10)
assign_list &lt;- assign_parameters(param_list)
</p>


<h3>Value</h3>

<p>health states with assigned values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
well &lt;- health_state("well", cost = "cost_A + cost_B", utility = 1)
disabled &lt;- health_state("disabled", cost = 100, utility = 1)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.6, 0.2, 0.2, 0.6, 0.4, 1))
health_states &lt;- combine_state(well, disabled, dead)
eval_assign_values_states(health_states, c(cost_A = 100, cost_B = 11))

</code></pre>

<hr>
<h2 id='find_glm_distribution'>Function to find the keyword for family of distribution in glm</h2><span id='topic+find_glm_distribution'></span>

<h3>Description</h3>

<p>Function to find the keyword for family of distribution in glm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_glm_distribution(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_glm_distribution_+3A_text">text</code></td>
<td>
<p>distribution</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Find the family for glm method
</p>


<h3>Value</h3>

<p>the keyword - the name of distribution
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_glm_distribution("gamma")
</code></pre>

<hr>
<h2 id='find_keyword_rand_generation'>Function to find the keyword for generating random numbers the  distribution</h2><span id='topic+find_keyword_rand_generation'></span>

<h3>Description</h3>

<p>Function to find the keyword for generating random numbers the  distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_keyword_rand_generation(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_keyword_rand_generation_+3A_text">text</code></td>
<td>
<p>name of the probability distribution</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns the keyword for generating random number using
a keyword provided that is generally used for prob distribution
(but R might require a different keyword)
</p>


<h3>Value</h3>

<p>the keyword that should be used in R for generating random numbers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_keyword_rand_generation("gamma")
</code></pre>

<hr>
<h2 id='find_keyword_regression_method'>Function to find the keyword for regression methods</h2><span id='topic+find_keyword_regression_method'></span>

<h3>Description</h3>

<p>Function to find the keyword for regression methods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_keyword_regression_method(text, additional_info = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_keyword_regression_method_+3A_text">text</code></td>
<td>
<p>regression method</p>
</td></tr>
<tr><td><code id="find_keyword_regression_method_+3A_additional_info">additional_info</code></td>
<td>
<p>additional information required</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns the keyword to use in regression methods.
For example linear regression requires lm in R
some regression methods require additional info and it has to be
provided
</p>


<h3>Value</h3>

<p>the keyword that should be used in R for regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_keyword_regression_method("linear")
</code></pre>

<hr>
<h2 id='find_parameters_btn_operators'>Function to return parameters with in a expression containing operators</h2><span id='topic+find_parameters_btn_operators'></span>

<h3>Description</h3>

<p>Function to return parameters with in a expression containing operators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_parameters_btn_operators(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_parameters_btn_operators_+3A_expr">expr</code></td>
<td>
<p>an expression</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns the parameters between the operators
if the state value or probabilities are defined as expressions, we need
to extract the parameters and then assign
First the position of all operators are found and then return the parameters
separated by those operators
This happens only for one level
find_parameters_btn_operators(&quot;a+b&quot;) provides a and b
but  for find_parameters_btn_operators(&quot;mean(a,b)+b&quot;)
provides mean(a,b) and b
</p>


<h3>Value</h3>

<p>parameters in the expression expr
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_parameters_btn_operators("a+b")
</code></pre>

<hr>
<h2 id='find_required_parameter_combs'>Function to find the parameters that determine the probability distribution</h2><span id='topic+find_required_parameter_combs'></span>

<h3>Description</h3>

<p>Function to find the parameters that determine the probability distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_required_parameter_combs(name_distri)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_required_parameter_combs_+3A_name_distri">name_distri</code></td>
<td>
<p>name of the probability distribution</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For each of the probability distribution we require certain parameters
and this function provides that required list of parameters.
</p>


<h3>Value</h3>

<p>the parameters that determine the distribution
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_required_parameter_combs("gamma")
</code></pre>

<hr>
<h2 id='find_rowwise_sum_multiplecol'>Function to get sum of  multiple columns of observations</h2><span id='topic+find_rowwise_sum_multiplecol'></span>

<h3>Description</h3>

<p>Function to get sum of  multiple columns of observations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_rowwise_sum_multiplecol(the_data, colnames, sumcolname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_rowwise_sum_multiplecol_+3A_the_data">the_data</code></td>
<td>
<p>the data where the observations are held</p>
</td></tr>
<tr><td><code id="find_rowwise_sum_multiplecol_+3A_colnames">colnames</code></td>
<td>
<p>columnname in the data whose sum to be obtianed</p>
</td></tr>
<tr><td><code id="find_rowwise_sum_multiplecol_+3A_sumcolname">sumcolname</code></td>
<td>
<p>name of the new column where sum to be saved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the data with added sum
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 7, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2"),
time = c(1,1,2,2), id = c(1, 1, 1, 2)))
find_rowwise_sum_multiplecol(eg_data, c("mark_at_1","mark_at_2"),
"totalmarks")
</code></pre>

<hr>
<h2 id='find_survreg_distribution'>Function to find the keyword for survreg distribution</h2><span id='topic+find_survreg_distribution'></span>

<h3>Description</h3>

<p>Function to find the keyword for survreg distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_survreg_distribution(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_survreg_distribution_+3A_text">text</code></td>
<td>
<p>distribution</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For surveg method, find the distribution
</p>


<h3>Value</h3>

<p>the keyword - the name of distribution
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_survreg_distribution("weibull")
</code></pre>

<hr>
<h2 id='form_expression_glm'>Form expression to use with glm()</h2><span id='topic+form_expression_glm'></span>

<h3>Description</h3>

<p>Form expression to use with glm()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_expression_glm(
  param_to_be_estimated,
  indep_var,
  family,
  covariates,
  interaction,
  naaction,
  link
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_expression_glm_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="form_expression_glm_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="form_expression_glm_+3A_family">family</code></td>
<td>
<p>distribution name  eg. for logistic regression -binomial</p>
</td></tr>
<tr><td><code id="form_expression_glm_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates</p>
</td></tr>
<tr><td><code id="form_expression_glm_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction in the case of
generalised linear models, false by default</p>
</td></tr>
<tr><td><code id="form_expression_glm_+3A_naaction">naaction</code></td>
<td>
<p>action to be taken with the missing values</p>
</td></tr>
<tr><td><code id="form_expression_glm_+3A_link">link</code></td>
<td>
<p>link function if not the default for each family</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Form expression for the method glm
</p>


<h3>Value</h3>

<p>the formula for glm
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formula &lt;- form_expression_glm("admit",
  indep_var = "gre", family = "binomial",
  covariates = c("gpa", "rank"), interaction = FALSE, naaction = "na.omit",
  link = NA)
</code></pre>

<hr>
<h2 id='form_expression_lm'>Form expression to use with lm()</h2><span id='topic+form_expression_lm'></span>

<h3>Description</h3>

<p>Form expression to use with lm()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_expression_lm(param_to_be_estimated, indep_var, covariates, interaction)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_expression_lm_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="form_expression_lm_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="form_expression_lm_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates</p>
</td></tr>
<tr><td><code id="form_expression_lm_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction
in the case of linear regression, false by default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function helps to create the expression for liner regression model
it takes care of covariates and interaction
</p>


<h3>Value</h3>

<p>the formula for lm
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formula &lt;- form_expression_lm("gre", indep_var = "gpa", covariates = NA,
interaction = FALSE)
</code></pre>

<hr>
<h2 id='form_expression_mixed_model_lme4'>Form expression to use with mixed models</h2><span id='topic+form_expression_mixed_model_lme4'></span>

<h3>Description</h3>

<p>Form expression to use with mixed models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_expression_mixed_model_lme4(
  param_to_be_estimated,
  dataset,
  fix_eff,
  fix_eff_interact_vars,
  random_intercept_vars,
  nested_intercept_vars_pairs,
  cross_intercept_vars_pairs,
  uncorrel_slope_intercept_pairs,
  random_slope_intercept_pairs,
  family,
  link
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>column name of dependent variable</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_dataset">dataset</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_fix_eff">fix_eff</code></td>
<td>
<p>names of variables as fixed effect predictors</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_fix_eff_interact_vars">fix_eff_interact_vars</code></td>
<td>
<p>if interaction -true</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_random_intercept_vars">random_intercept_vars</code></td>
<td>
<p>names of variables for random intercept</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_nested_intercept_vars_pairs">nested_intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with nested effect</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_cross_intercept_vars_pairs">cross_intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with crossed effect</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_uncorrel_slope_intercept_pairs">uncorrel_slope_intercept_pairs</code></td>
<td>
<p>variables with correlated intercepts</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_random_slope_intercept_pairs">random_slope_intercept_pairs</code></td>
<td>
<p>random slopes intercept pairs -
this is a list of paired variables</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_family">family</code></td>
<td>
<p>family of distribution for non gaussian distribution of
predicted variable</p>
</td></tr>
<tr><td><code id="form_expression_mixed_model_lme4_+3A_link">link</code></td>
<td>
<p>link function for the variance</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Form the expression for mixed model
</p>


<h3>Value</h3>

<p>result regression result with plot if success and -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
datafile &lt;- system.file("extdata", "data_linear_mixed_model.csv",
package = "packDAMipd")
dt = utils::read.csv(datafile, header = TRUE)
formula &lt;- form_expression_mixed_model_lme4("extro",
  dataset = dt,
  fix_eff = c("open", "agree", "social"),
  fix_eff_interact_vars = NULL,
  random_intercept_vars = c("school", "class"),
  nested_intercept_vars_pairs = list(c("school", "class")),
  cross_intercept_vars_pairs = NULL,
  uncorrel_slope_intercept_pairs = NULL,
  random_slope_intercept_pairs = NULL, family = "binomial", link = NA
)

</code></pre>

<hr>
<h2 id='generate_wt_time_units'>Function to get the weight and time units</h2><span id='topic+generate_wt_time_units'></span>

<h3>Description</h3>

<p>Function to get the weight and time units
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_wt_time_units()
</code></pre>


<h3>Value</h3>

<p>weight and time units
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ans &lt;- generate_wt_time_units()
</code></pre>

<hr>
<h2 id='generate_wt_vol_units'>Function to get the weight and volume units</h2><span id='topic+generate_wt_vol_units'></span>

<h3>Description</h3>

<p>Function to get the weight and volume units
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_wt_vol_units()
</code></pre>


<h3>Value</h3>

<p>weight and vol units
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ans &lt;- generate_wt_vol_units()
</code></pre>

<hr>
<h2 id='get_age_details'>Function to get the details of the age column</h2><span id='topic+get_age_details'></span>

<h3>Description</h3>

<p>Function to get the details of the age column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_age_details(trialdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_age_details_+3A_trialdata">trialdata</code></td>
<td>
<p>data containing individual level trial data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>expecting the data contains the information on age
preferably  column names &quot;age&quot;, &quot;dob&quot; or &quot;yob&quot; or &quot;date of birth&quot;.
&quot;year of birth&quot;, &quot;birth year&quot;
If multiple column names match these, then first match will be chosen.
</p>


<h3>Value</h3>

<p>the name of the variable related to age and the unique contents
if success, else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_age_details(data.frame("Age" = c(21, 15),
"arm" = c("control", "intervention")))
</code></pre>

<hr>
<h2 id='get_colnames_codedvalues'>Function to keep the column name, coded values and non response code
into a dataframe</h2><span id='topic+get_colnames_codedvalues'></span>

<h3>Description</h3>

<p>Function to keep the column name, coded values and non response code
into a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_colnames_codedvalues(variable, name, code, nrcode = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_colnames_codedvalues_+3A_variable">variable</code></td>
<td>
<p>name of the variable in the column</p>
</td></tr>
<tr><td><code id="get_colnames_codedvalues_+3A_name">name</code></td>
<td>
<p>column name</p>
</td></tr>
<tr><td><code id="get_colnames_codedvalues_+3A_code">code</code></td>
<td>
<p>coded values</p>
</td></tr>
<tr><td><code id="get_colnames_codedvalues_+3A_nrcode">nrcode</code></td>
<td>
<p>code for non response</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with all the above information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_colnames_codedvalues("arm", "pat_trial_arm", c("Y", "N"))
</code></pre>

<hr>
<h2 id='get_cost_AandE_code'>Function to extract the unit hospital inpatient admission by
matching code</h2><span id='topic+get_cost_AandE_code'></span>

<h3>Description</h3>

<p>Function to extract the unit hospital inpatient admission by
matching code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cost_AandE_code(
  code,
  type_admit,
  ref_cost_data_file,
  col_name_code,
  unit_cost_col,
  type_admit_col,
  sheet = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cost_AandE_code_+3A_code">code</code></td>
<td>
<p>code for AE attendance</p>
</td></tr>
<tr><td><code id="get_cost_AandE_code_+3A_type_admit">type_admit</code></td>
<td>
<p>term indicating admission and type of attendance</p>
</td></tr>
<tr><td><code id="get_cost_AandE_code_+3A_ref_cost_data_file">ref_cost_data_file</code></td>
<td>
<p>file that has unit cost</p>
</td></tr>
<tr><td><code id="get_cost_AandE_code_+3A_col_name_code">col_name_code</code></td>
<td>
<p>name of the column that has the code</p>
</td></tr>
<tr><td><code id="get_cost_AandE_code_+3A_unit_cost_col">unit_cost_col</code></td>
<td>
<p>name of the column with the unit cost</p>
</td></tr>
<tr><td><code id="get_cost_AandE_code_+3A_type_admit_col">type_admit_col</code></td>
<td>
<p>colname that describes type of the attendance and
that indicates admitted or not</p>
</td></tr>
<tr><td><code id="get_cost_AandE_code_+3A_sheet">sheet</code></td>
<td>
<p>sheet if excel file is given</p>
</td></tr>
</table>


<h3>Value</h3>

<p>unit cost the unit cost matching the code
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ref_cost_data_file &lt;- system.file("extdata",
"National_schedule_of_NHS_costs_2019_AandE.csv", package = "packDAMipd")
re = get_cost_AandE_code("VB02Z", "T01A", ref_cost_data_file,
"Currency_Code","National_Average_Unit_Cost", "Service_Code")
</code></pre>

<hr>
<h2 id='get_cost_AandE_description'>Function to extract the unit cost by descirption of AandE att
matching description</h2><span id='topic+get_cost_AandE_description'></span>

<h3>Description</h3>

<p>Function to extract the unit cost by descirption of AandE att
matching description
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cost_AandE_description(
  description,
  type_admit,
  ref_cost_data_file,
  col_name_description,
  unit_cost_col,
  type_admit_col,
  sheet = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cost_AandE_description_+3A_description">description</code></td>
<td>
<p>description of the AE attendance</p>
</td></tr>
<tr><td><code id="get_cost_AandE_description_+3A_type_admit">type_admit</code></td>
<td>
<p>term indicating admission and type of attendance</p>
</td></tr>
<tr><td><code id="get_cost_AandE_description_+3A_ref_cost_data_file">ref_cost_data_file</code></td>
<td>
<p>file that has unit cost</p>
</td></tr>
<tr><td><code id="get_cost_AandE_description_+3A_col_name_description">col_name_description</code></td>
<td>
<p>name of the column that has the description</p>
</td></tr>
<tr><td><code id="get_cost_AandE_description_+3A_unit_cost_col">unit_cost_col</code></td>
<td>
<p>name of the column with the unit cost</p>
</td></tr>
<tr><td><code id="get_cost_AandE_description_+3A_type_admit_col">type_admit_col</code></td>
<td>
<p>colname that descirbes type of the attendance and</p>
</td></tr>
<tr><td><code id="get_cost_AandE_description_+3A_sheet">sheet</code></td>
<td>
<p>sheet if excel file is given</p>
</td></tr>
</table>


<h3>Value</h3>

<p>unit cost the unit cost matching the hrg code
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ref_cost_data_file &lt;- system.file("extdata",
"National_schedule_of_NHS_costs_2019_AandE.csv", package = "packDAMipd")
re = get_cost_AandE_description("Emergency Medicine", "T01A",
ref_cost_data_file, "Currency_Description", "National_Average_Unit_Cost",
"Service_Code")
</code></pre>

<hr>
<h2 id='get_cost_ip_dc_description'>Function to extract the unit hospital inpatient admission by
matching description</h2><span id='topic+get_cost_ip_dc_description'></span>

<h3>Description</h3>

<p>Function to extract the unit hospital inpatient admission by
matching description
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cost_ip_dc_description(
  description,
  ref_cost_data_file,
  col_name_description,
  unit_cost_col,
  sheet = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cost_ip_dc_description_+3A_description">description</code></td>
<td>
<p>description corresponding to the inpatient admission</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_description_+3A_ref_cost_data_file">ref_cost_data_file</code></td>
<td>
<p>file that has unit cost</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_description_+3A_col_name_description">col_name_description</code></td>
<td>
<p>name of the column that has the description</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_description_+3A_unit_cost_col">unit_cost_col</code></td>
<td>
<p>name of the column with the unit cost</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_description_+3A_sheet">sheet</code></td>
<td>
<p>sheet if excel file is given</p>
</td></tr>
</table>


<h3>Value</h3>

<p>unit cost the unit cost matching the hrg code
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ref_cost_data_file &lt;- system.file("extdata",
"National_schedule_of_NHS_costs_2019.csv", package = "packDAMipd")
result &lt;- get_cost_ip_dc_description("Cerebrovascular Accident",
ref_cost_data_file, "Currency_Description",
"National_Average_Unit_Cost")
</code></pre>

<hr>
<h2 id='get_cost_ip_dc_hrg'>Function to extract the unit hospital inpatient admission by
matching HRG code</h2><span id='topic+get_cost_ip_dc_hrg'></span>

<h3>Description</h3>

<p>Function to extract the unit hospital inpatient admission by
matching HRG code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cost_ip_dc_hrg(
  hrg,
  ref_cost_data_file,
  col_name_hrg_code,
  unit_cost_col,
  sheet = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cost_ip_dc_hrg_+3A_hrg">hrg</code></td>
<td>
<p>hrg code corresponding to the inpatient admission</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_hrg_+3A_ref_cost_data_file">ref_cost_data_file</code></td>
<td>
<p>file that has unit cost</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_hrg_+3A_col_name_hrg_code">col_name_hrg_code</code></td>
<td>
<p>name of the column that has the hrg code</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_hrg_+3A_unit_cost_col">unit_cost_col</code></td>
<td>
<p>name of the colum with the unit cost</p>
</td></tr>
<tr><td><code id="get_cost_ip_dc_hrg_+3A_sheet">sheet</code></td>
<td>
<p>sheet if excel file is given</p>
</td></tr>
</table>


<h3>Value</h3>

<p>unit cost the unit cost matching the hrg code
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ref_cost_data_file &lt;- system.file("extdata",
"National_schedule_of_NHS_costs_2019.csv", package = "packDAMipd")
get_cost_ip_dc_hrg("AA22C", ref_cost_data_file, "Currency_Code",
"National_Average_Unit_Cost")
</code></pre>

<hr>
<h2 id='get_doses_combination'>Convert the combined dose to its individual component numerical value
or can be unit/unit</h2><span id='topic+get_doses_combination'></span>

<h3>Description</h3>

<p>Convert the combined dose to its individual component numerical value
or can be unit/unit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_doses_combination(the_string, separator = "/")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_doses_combination_+3A_the_string">the_string</code></td>
<td>
<p>given combined unit</p>
</td></tr>
<tr><td><code id="get_doses_combination_+3A_separator">separator</code></td>
<td>
<p>given character for separation , default is &quot;/&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>separated texts
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_doses_combination("g/ml")
</code></pre>

<hr>
<h2 id='get_doses_combination_units'>Convert the combined dose to its individual component numerical value
and units</h2><span id='topic+get_doses_combination_units'></span>

<h3>Description</h3>

<p>Convert the combined dose to its individual component numerical value
and units
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_doses_combination_units(the_string, separator = "/")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_doses_combination_units_+3A_the_string">the_string</code></td>
<td>
<p>given combined unit</p>
</td></tr>
<tr><td><code id="get_doses_combination_units_+3A_separator">separator</code></td>
<td>
<p>given character for separation , default is &quot;/&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>separated numerical value and its units
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_doses_combination_units("10g/2ml")
</code></pre>

<hr>
<h2 id='get_eq5d_details'>Function to get the details of the EQ5D column</h2><span id='topic+get_eq5d_details'></span>

<h3>Description</h3>

<p>Function to get the details of the EQ5D column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_eq5d_details(trialdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_eq5d_details_+3A_trialdata">trialdata</code></td>
<td>
<p>data containing individual level trial data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specific to the EQ5D data - the column names are given as certain sets,
Tried to give 15 sets as the column names
</p>


<h3>Value</h3>

<p>the name of the variable related to EQ5D and the unique contents
if success, else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_eq5d_details(data.frame(
  "MO" = c(1, 2), "SC" = c(1, 2), "UA" = c(1, 2),
  "PD" = c(1, 2), "AD" = c(1, 2)
))
</code></pre>

<hr>
<h2 id='get_extension_file'>Function to get extension of a file name</h2><span id='topic+get_extension_file'></span>

<h3>Description</h3>

<p>Function to get extension of a file name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_extension_file(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_extension_file_+3A_filename">filename</code></td>
<td>
<p>name of a file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>if there is no &quot;.&quot; character returns error
else returns last characters those after string split using &quot;.&quot;
</p>


<h3>Value</h3>

<p>the extension
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_extension_file("data.txt")
</code></pre>

<hr>
<h2 id='get_gender_details'>Function to get the details of the gender column</h2><span id='topic+get_gender_details'></span>

<h3>Description</h3>

<p>Function to get the details of the gender column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_gender_details(trialdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_gender_details_+3A_trialdata">trialdata</code></td>
<td>
<p>data containing individual level trial data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>expecting the data contains the information on gender
preferably  column names &quot;gender&quot;, &quot;sex&quot; or &quot;male&quot; or &quot;female&quot;.
If multiple column names match these, then first match will be chosen.
</p>


<h3>Value</h3>

<p>the name of the variable related to gender and the unique contents
if success, else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_gender_details(data.frame("Age" = c(21, 15), "sex" = c("m", "f")))
</code></pre>

<hr>
<h2 id='get_mean_sd_age'>Function to return mean age from a data frame</h2><span id='topic+get_mean_sd_age'></span>

<h3>Description</h3>

<p>Function to return mean age from a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_mean_sd_age(this_data, age_nrcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_mean_sd_age_+3A_this_data">this_data</code></td>
<td>
<p>the data containing column with age</p>
</td></tr>
<tr><td><code id="get_mean_sd_age_+3A_age_nrcode">age_nrcode</code></td>
<td>
<p>non response code</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Age data is complete with the nr code given and get the mean and sd
</p>


<h3>Value</h3>

<p>mean and sd, if success -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>this_data &lt;- as.data.frame(cbind(num = c(1, 2, 3, 4),
age = c(14, 25, 26, 30)))
get_mean_sd_age(this_data, NA)
</code></pre>

<hr>
<h2 id='get_mortality_from_file'>Get the mortality rate  values from reading a file</h2><span id='topic+get_mortality_from_file'></span>

<h3>Description</h3>

<p>Get the mortality rate  values from reading a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_mortality_from_file(paramfile, age, mortality_colname, gender = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_mortality_from_file_+3A_paramfile">paramfile</code></td>
<td>
<p>parameter file to get the mortality eg.national life
table data</p>
</td></tr>
<tr><td><code id="get_mortality_from_file_+3A_age">age</code></td>
<td>
<p>age to get the age specific data</p>
</td></tr>
<tr><td><code id="get_mortality_from_file_+3A_mortality_colname">mortality_colname</code></td>
<td>
<p>column name with the mortality rates if it is not
gender specific</p>
</td></tr>
<tr><td><code id="get_mortality_from_file_+3A_gender">gender</code></td>
<td>
<p>gender details to get the gender specific mortality data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provides the mortality rates as age and gender dependent
Assumes the data contains mortality rate for single year and once
it extracted
per gender will retrieve single value
Age column can consists of range of values, or a particular value
also assumes that the mortality rate for each gender is listed under
the gender column for gender specific values. if the mortality
is not gender specific, the column name should be passed on to the function
if gender is not null, mortality_name will be ignored
</p>


<h3>Value</h3>

<p>the paramvalue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>paramfile &lt;- system.file("extdata", "LifeTable_USA_Mx_2015.csv",
  package = "packDAMipd"
)
a &lt;- get_mortality_from_file(paramfile, age = 10, mortality_colname =
"total", gender = NULL)
</code></pre>

<hr>
<h2 id='get_name_value_probdistrb_def'>Function to return the two parameters from a given expression separated
by comma,</h2><span id='topic+get_name_value_probdistrb_def'></span>

<h3>Description</h3>

<p>Function to return the two parameters from a given expression separated
by comma,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_name_value_probdistrb_def(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_name_value_probdistrb_def_+3A_expr">expr</code></td>
<td>
<p>an expression</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It will return the parameters of the distribution separated by commas
and given in usual notation as brackets. It will identify those in between
first occurrence of &quot;( &quot;and last occurrence of &quot;)&quot;
and from the characters in between search for comma to indicate different
parameters then it will extract (from those extracted parameters separated
by commas) that on the left side of &quot;equal&quot; sign
get_name_value_probdistrb_def(&quot;gamma(mean = sqrt(2), b =17)&quot;) will be ok
but get_name_value_probdistrb_def(&quot;gamma(shape, scale&quot;)) and
get_name_value_probdistrb_def(&quot;gamma(shape =1 &amp; scale =1&quot;)) will show error
</p>


<h3>Value</h3>

<p>parameters in the expression expr
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_name_value_probdistrb_def("gamma(mean = 10, sd =1)")
</code></pre>

<hr>
<h2 id='get_outcome_details'>Function to get the details of the outcome column</h2><span id='topic+get_outcome_details'></span>

<h3>Description</h3>

<p>Function to get the details of the outcome column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_outcome_details(trialdata, name, related_words, multiple = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_outcome_details_+3A_trialdata">trialdata</code></td>
<td>
<p>data containing individual level trial data</p>
</td></tr>
<tr><td><code id="get_outcome_details_+3A_name">name</code></td>
<td>
<p>name of the variable</p>
</td></tr>
<tr><td><code id="get_outcome_details_+3A_related_words">related_words</code></td>
<td>
<p>probable column names</p>
</td></tr>
<tr><td><code id="get_outcome_details_+3A_multiple">multiple</code></td>
<td>
<p>indicates true if there are multiple columns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>if the words related to outcome is given, the function will get the
columns and the codes used for the outcome, the difference here is that
certain outcomes can  be distributed in multiple columns
</p>


<h3>Value</h3>

<p>the name of the variable related to health outcome (any) and
the unique contents if success, else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_outcome_details(
  data.frame("qol.MO" = c(1, 2), "qol.PD" = c(1, 2), "qol.AD" = c(1, 2)),
  "eq5d", "qol", TRUE
)
</code></pre>

<hr>
<h2 id='get_parameter_def_distribution'>Get the definition of given parameter distribution defined in a file</h2><span id='topic+get_parameter_def_distribution'></span>

<h3>Description</h3>

<p>Get the definition of given parameter distribution defined in a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_parameter_def_distribution(
  parameter,
  paramfile,
  colnames_paramdistr,
  strategycol = NA,
  strategyname = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_parameter_def_distribution_+3A_parameter">parameter</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="get_parameter_def_distribution_+3A_paramfile">paramfile</code></td>
<td>
<p>data file to be provided</p>
</td></tr>
<tr><td><code id="get_parameter_def_distribution_+3A_colnames_paramdistr">colnames_paramdistr</code></td>
<td>
<p>list of column names for the parameters that
define the distribution</p>
</td></tr>
<tr><td><code id="get_parameter_def_distribution_+3A_strategycol">strategycol</code></td>
<td>
<p>treatment strategy column name</p>
</td></tr>
<tr><td><code id="get_parameter_def_distribution_+3A_strategyname">strategyname</code></td>
<td>
<p>treatment strategy name in the column strategycol</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function reads the parameter distribution from a file and return the
parameter obtained
This assumes that the file contains parameter, distribution
colnames for parameter values for the distribution are passed on
to the function assumes the name of each parameter and value are given
in the consecutive columns. Once the expression is created using the
parameters given in the file, it gets checked for correctness of
specifying the distribution in R context using the function
check_estimate_substitute_proper_params and then evaluated.
</p>


<h3>Value</h3>

<p>the definition of parameter from the given distribution
</p>


<h3>Examples</h3>

<pre><code class='language-R'>paramfile &lt;- system.file("extdata", "table_param.csv",
package = "packDAMipd")
a &lt;- get_parameter_def_distribution("rr", paramfile, c("Param1_name",
"Param1_value"))
</code></pre>

<hr>
<h2 id='get_parameter_direct'>Get the parameter values from reading a file</h2><span id='topic+get_parameter_direct'></span>

<h3>Description</h3>

<p>Get the parameter values from reading a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_parameter_direct(parameter, paramvalue)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_parameter_direct_+3A_parameter">parameter</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="get_parameter_direct_+3A_paramvalue">paramvalue</code></td>
<td>
<p>parameter value to be assigned</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Basic function to assign a parameter directly
</p>


<h3>Value</h3>

<p>the paramvalue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- get_parameter_direct("cost_IT", paramvalue = 100)
</code></pre>

<hr>
<h2 id='get_parameter_estimated_regression'>Get the parameter values using the provided statistical regression methods</h2><span id='topic+get_parameter_estimated_regression'></span>

<h3>Description</h3>

<p>Get the parameter values using the provided statistical regression methods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_parameter_estimated_regression(
  param_to_be_estimated,
  data,
  method,
  indep_var,
  info_get_method = NA,
  info_distribution = NA,
  covariates = NA,
  timevar_survival = NA,
  interaction = FALSE,
  fix_eff = NA,
  fix_eff_interact_vars = NA,
  random_intercept_vars = NA,
  nested_intercept_vars_pairs = NA,
  cross_intercept_vars_pairs = NA,
  uncorrel_slope_intercept_pairs = NA,
  random_slope_intercept_pairs = NA,
  naaction = "stats::na.omit",
  param2_to_be_estimated = NA,
  covariates2 = NA,
  interaction2 = FALSE,
  link = NA,
  cluster_var = NA,
  package_mixed_model = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_parameter_estimated_regression_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_data">data</code></td>
<td>
<p>data to be provided or the data file containing dataset</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_method">method</code></td>
<td>
<p>method of estimation (for example, linear,
logistic regression etc)</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_info_get_method">info_get_method</code></td>
<td>
<p>additional information on methods
e.g Kaplan-Meier ot hazard</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_info_distribution">info_distribution</code></td>
<td>
<p>distribution name  eg.
for logistic regression -binomial</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates-calculations to be done before passing</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction in the case of
linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_fix_eff">fix_eff</code></td>
<td>
<p>boolean value to indicate interaction in the case of
linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_fix_eff_interact_vars">fix_eff_interact_vars</code></td>
<td>
<p>boolean value to indicate interaction in the
case of linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_random_intercept_vars">random_intercept_vars</code></td>
<td>
<p>boolean value to indicate interaction in the
case of linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_nested_intercept_vars_pairs">nested_intercept_vars_pairs</code></td>
<td>
<p>boolean value to indicate interaction in
the case of linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_cross_intercept_vars_pairs">cross_intercept_vars_pairs</code></td>
<td>
<p>boolean value to indicate interaction in
the case of linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_uncorrel_slope_intercept_pairs">uncorrel_slope_intercept_pairs</code></td>
<td>
<p>boolean value to indicate interaction
in the case of linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_random_slope_intercept_pairs">random_slope_intercept_pairs</code></td>
<td>
<p>boolean value to indicate interaction
in the case of linear regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_naaction">naaction</code></td>
<td>
<p>what action to be taken for the missing values, default
is a missing value.</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_param2_to_be_estimated">param2_to_be_estimated</code></td>
<td>
<p>parameter of interest for equation 2 in
bivariate regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_covariates2">covariates2</code></td>
<td>
<p>list of covariates - for equation 2 in
bivariate regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_interaction2">interaction2</code></td>
<td>
<p>boolean value to indicate interaction for equation
2 in bivariate regression</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_link">link</code></td>
<td>
<p>link function to be provided if not using the default link
for each of the info_distribution</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_cluster_var">cluster_var</code></td>
<td>
<p>cluster variable if any</p>
</td></tr>
<tr><td><code id="get_parameter_estimated_regression_+3A_package_mixed_model">package_mixed_model</code></td>
<td>
<p>package to be used for mixed model
ie nlme or lme4</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is the top in the layer of functions used for regression
analysis Thus it contains many parameters to be passed on
The required ones are parameter to be estimated, data that contains
the observation, the method of regression to be used, the independent
variable and the information for the distribution and method.
if the data is given as a file name. it will load the data in that file
Then it calls the appropriate functions depending on the regression method
that specified. The methods that are considered : Survival analysis,
linear regression, logistic regression,generalised linear model,
linear multilevel or mixed model, and seemingly unrelated regression
</p>


<h3>Value</h3>

<p>results the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
result &lt;- get_parameter_estimated_regression(
  param_to_be_estimated = "Direction",
  data = ISLR::Smarket, method = "logistic", indep_var = "Lag1",
  info_get_method = NA, info_distribution = "binomial",
  covariates = c("Lag2", "Lag3"), interaction = FALSE,
  naaction = "na.omit", link = NA)
  
</code></pre>

<hr>
<h2 id='get_parameter_read'>Get the parameter values from reading a file</h2><span id='topic+get_parameter_read'></span>

<h3>Description</h3>

<p>Get the parameter values from reading a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_parameter_read(parameter, paramfile, strategycol = NA, strategyname = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_parameter_read_+3A_parameter">parameter</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="get_parameter_read_+3A_paramfile">paramfile</code></td>
<td>
<p>parameter file to be provided</p>
</td></tr>
<tr><td><code id="get_parameter_read_+3A_strategycol">strategycol</code></td>
<td>
<p>treatment strategy</p>
</td></tr>
<tr><td><code id="get_parameter_read_+3A_strategyname">strategyname</code></td>
<td>
<p>treatment strategy name in the column strategycol</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function read the parameter from a file given that
the file has these column names (at least) Parameter and Value
Strategy col and name are optional. Check if the data file contains
column names parameter and value and then get the results.
</p>


<h3>Value</h3>

<p>the paramvalue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- get_parameter_read("cost_IT", paramfile = system.file("extdata",
"table_param.csv", package = "packDAMipd"))
</code></pre>

<hr>
<h2 id='get_single_col_multiple_pattern'>Function to get cols for the pattern given</h2><span id='topic+get_single_col_multiple_pattern'></span>

<h3>Description</h3>

<p>Function to get cols for the pattern given
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_single_col_multiple_pattern(pattern, the_data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_single_col_multiple_pattern_+3A_pattern">pattern</code></td>
<td>
<p>the pattern to look for</p>
</td></tr>
<tr><td><code id="get_single_col_multiple_pattern_+3A_the_data">the_data</code></td>
<td>
<p>data where to look at</p>
</td></tr>
</table>


<h3>Value</h3>

<p>zero or -1
</p>


<h3>Examples</h3>

<pre><code class='language-R'>the_data &lt;- as.data.frame(cbind(c("one", "two"), c("a", "b"), c("aa", "bb")))
colnames(the_data) &lt;- c("name", "brand_one", "two")
get_single_col_multiple_pattern(c("brand", "trade"), the_data)
</code></pre>

<hr>
<h2 id='get_slope_intercept'>help function to keep slope and intercept portion ready in mixed model
expression</h2><span id='topic+get_slope_intercept'></span>

<h3>Description</h3>

<p>help function to keep slope and intercept portion ready in mixed model
expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_slope_intercept(
  expression,
  random_intercept_vars,
  random_slope_intercept_pairs,
  uncorrel_slope_intercept_pairs
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_slope_intercept_+3A_expression">expression</code></td>
<td>
<p>expression created so far</p>
</td></tr>
<tr><td><code id="get_slope_intercept_+3A_random_intercept_vars">random_intercept_vars</code></td>
<td>
<p>names of variables for random intercept</p>
</td></tr>
<tr><td><code id="get_slope_intercept_+3A_random_slope_intercept_pairs">random_slope_intercept_pairs</code></td>
<td>
<p>random slopes intercept pairs
this is a list of paired variables</p>
</td></tr>
<tr><td><code id="get_slope_intercept_+3A_uncorrel_slope_intercept_pairs">uncorrel_slope_intercept_pairs</code></td>
<td>
<p>variables with correlated intercepts</p>
</td></tr>
</table>


<h3>Value</h3>

<p>expression expression created
</p>

<hr>
<h2 id='get_slope_intercept_cross'>help function to keep slope and intercept portion ready in mixed model
expression</h2><span id='topic+get_slope_intercept_cross'></span>

<h3>Description</h3>

<p>help function to keep slope and intercept portion ready in mixed model
expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_slope_intercept_cross(
  expression,
  random_intercept_vars,
  intercept_vars_pairs,
  random_slope_intercept_pairs,
  uncorrel_slope_intercept_pairs
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_slope_intercept_cross_+3A_expression">expression</code></td>
<td>
<p>expression created so far</p>
</td></tr>
<tr><td><code id="get_slope_intercept_cross_+3A_random_intercept_vars">random_intercept_vars</code></td>
<td>
<p>names of variables for random intercept</p>
</td></tr>
<tr><td><code id="get_slope_intercept_cross_+3A_intercept_vars_pairs">intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with nested effect</p>
</td></tr>
<tr><td><code id="get_slope_intercept_cross_+3A_random_slope_intercept_pairs">random_slope_intercept_pairs</code></td>
<td>
<p>random slopes intercept pairs
this is a list of paired variables</p>
</td></tr>
<tr><td><code id="get_slope_intercept_cross_+3A_uncorrel_slope_intercept_pairs">uncorrel_slope_intercept_pairs</code></td>
<td>
<p>variables with correlated intercepts</p>
</td></tr>
</table>


<h3>Value</h3>

<p>expression expression created
</p>

<hr>
<h2 id='get_slope_intercept_nested'>help function to keep slope and intercept portion ready in mixed
model expression</h2><span id='topic+get_slope_intercept_nested'></span>

<h3>Description</h3>

<p>help function to keep slope and intercept portion ready in mixed
model expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_slope_intercept_nested(
  expression,
  random_intercept_vars,
  intercept_vars_pairs,
  random_slope_intercept_pairs,
  uncorrel_slope_intercept_pairs
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_slope_intercept_nested_+3A_expression">expression</code></td>
<td>
<p>expression created so far</p>
</td></tr>
<tr><td><code id="get_slope_intercept_nested_+3A_random_intercept_vars">random_intercept_vars</code></td>
<td>
<p>names of variables for random intercept</p>
</td></tr>
<tr><td><code id="get_slope_intercept_nested_+3A_intercept_vars_pairs">intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with nested effect</p>
</td></tr>
<tr><td><code id="get_slope_intercept_nested_+3A_random_slope_intercept_pairs">random_slope_intercept_pairs</code></td>
<td>
<p>random slopes intercept pairs
this is a list of paired variables</p>
</td></tr>
<tr><td><code id="get_slope_intercept_nested_+3A_uncorrel_slope_intercept_pairs">uncorrel_slope_intercept_pairs</code></td>
<td>
<p>variables with correlated intercepts</p>
</td></tr>
</table>


<h3>Value</h3>

<p>expression expression created
</p>

<hr>
<h2 id='get_timepoint_details'>Function to get the details of the time point column</h2><span id='topic+get_timepoint_details'></span>

<h3>Description</h3>

<p>Function to get the details of the time point column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_timepoint_details(trialdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_timepoint_details_+3A_trialdata">trialdata</code></td>
<td>
<p>data containing individual level trial data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>expecting the data contains the information on timepoints
preferably  column names &quot;time point&quot;, &quot;times&quot; or &quot;time&quot; or &quot;timepoint&quot;.
If multiple column names match these, then first match will be chosen.
</p>


<h3>Value</h3>

<p>the name of the variable related to time point and
the unique contents if success, else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_timepoint_details(data.frame("time" = c(21, 15),
"arm" = c("control", "intervention")))
</code></pre>

<hr>
<h2 id='get_trial_arm_details'>Function to get the details of the trial arm</h2><span id='topic+get_trial_arm_details'></span>

<h3>Description</h3>

<p>Function to get the details of the trial arm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_trial_arm_details(trialdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_trial_arm_details_+3A_trialdata">trialdata</code></td>
<td>
<p>data containing individual level trial data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>expecting the data contains the information on trial arm
preferably  column names &quot;arm&quot;, &quot;trial&quot; or &quot;trial arm&quot;. If
multiple column names
match these, then first match will be chosen.
</p>


<h3>Value</h3>

<p>the name of the variable related to trial arm and the unique contents
if success, else error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_trial_arm_details(data.frame(
  "Age" = c(21, 15),
  "arm" = c("control", "intervention")
))
</code></pre>

<hr>
<h2 id='get_var_state'>Get the attribute for the health state</h2><span id='topic+get_var_state'></span>

<h3>Description</h3>

<p>Get the attribute for the health state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_var_state(state, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_var_state_+3A_state">state</code></td>
<td>
<p>object of class health state</p>
</td></tr>
<tr><td><code id="get_var_state_+3A_var">var</code></td>
<td>
<p>attribute of the health state</p>
</td></tr>
</table>


<h3>Details</h3>

<p>After checking the given state is a health state and given variable
is defined in the health state, the value of the variable is returned
</p>


<h3>Value</h3>

<p>modified health state
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_var_state(health_state("IT", 100, 0.4, 0, FALSE), "cost")
</code></pre>

<hr>
<h2 id='health_state'>Definition of health state class or health state constructor</h2><span id='topic+health_state'></span>

<h3>Description</h3>

<p>Definition of health state class or health state constructor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>health_state(name, cost, utility, state_time = 0, absorb = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="health_state_+3A_name">name</code></td>
<td>
<p>name of the health state</p>
</td></tr>
<tr><td><code id="health_state_+3A_cost">cost</code></td>
<td>
<p>value or expression that represents cost of the health state</p>
</td></tr>
<tr><td><code id="health_state_+3A_utility">utility</code></td>
<td>
<p>value or expression that represents utility
of the health state</p>
</td></tr>
<tr><td><code id="health_state_+3A_state_time">state_time</code></td>
<td>
<p>time denoting how long in the state</p>
</td></tr>
<tr><td><code id="health_state_+3A_absorb">absorb</code></td>
<td>
<p>boolean indicating health state absorbing or not</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Initialising the name, cost, utility and time spent for the health state
name is the name of the health state
cost/utility can be defined as characters e.g. &quot;cost_A&quot;
if they are characters, the value is assigned after parsing the text.
state_time is integer and absorb is boolean
</p>


<h3>Value</h3>

<p>value of the state
</p>


<h3>Examples</h3>

<pre><code class='language-R'>st &lt;- health_state("IT", 100, 0.4, 0, FALSE)
st &lt;- health_state("IT", "cost_A", 0.4, 0, FALSE)
</code></pre>

<hr>
<h2 id='init_trace'>Define an all zero trace matrix</h2><span id='topic+init_trace'></span>

<h3>Description</h3>

<p>Define an all zero trace matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>init_trace(health_states, cycles)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="init_trace_+3A_health_states">health_states</code></td>
<td>
<p>health states</p>
</td></tr>
<tr><td><code id="init_trace_+3A_cycles">cycles</code></td>
<td>
<p>no of cycles</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Initialise the trace matrix with all zeros
trace matrix will be with no_cycles+1 by no_states matrix
</p>


<h3>Value</h3>

<p>trace matrix -all zero
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- health_state("Healthy", 1, 1, 0, FALSE)
b &lt;- health_state("Dead", 1, 0.5, 0, FALSE)
health_states &lt;- combine_state(a, b)
init_trace(health_states, 10)
</code></pre>

<hr>
<h2 id='init_trace_sjtime'>Define an all zero trace matrix</h2><span id='topic+init_trace_sjtime'></span>

<h3>Description</h3>

<p>Define an all zero trace matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>init_trace_sjtime(health_states, cycles)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="init_trace_sjtime_+3A_health_states">health_states</code></td>
<td>
<p>health states</p>
</td></tr>
<tr><td><code id="init_trace_sjtime_+3A_cycles">cycles</code></td>
<td>
<p>no of cycles</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Initialise the trace matrix with all zeros
trace matrix will be with no_cycles+1 by no_states matrix
</p>


<h3>Value</h3>

<p>trace matrix -all zero
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- health_state("Healthy", 1, 1, 0, FALSE)
b &lt;- health_state("Dead", 1, 0.5, 0, FALSE)
health_states &lt;- combine_state(a, b)
init_trace(health_states, 10)
</code></pre>

<hr>
<h2 id='keep_results_plot_dsa'>Function to do some checks before plotting sensitivity analysis results</h2><span id='topic+keep_results_plot_dsa'></span>

<h3>Description</h3>

<p>Function to do some checks before plotting sensitivity analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keep_results_plot_dsa(
  result_dsa_control,
  plotfor,
  result_dsa_treat,
  plot_variable,
  threshold,
  comparator
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keep_results_plot_dsa_+3A_result_dsa_control">result_dsa_control</code></td>
<td>
<p>result from deterministic sensitivity analysis
for first or control model</p>
</td></tr>
<tr><td><code id="keep_results_plot_dsa_+3A_plotfor">plotfor</code></td>
<td>
<p>the variable to plotfor e.g. cost, utility NMB etc</p>
</td></tr>
<tr><td><code id="keep_results_plot_dsa_+3A_result_dsa_treat">result_dsa_treat</code></td>
<td>
<p>result from deterministic sensitivity analysis
for the comparative Markov model</p>
</td></tr>
<tr><td><code id="keep_results_plot_dsa_+3A_plot_variable">plot_variable</code></td>
<td>
<p>variable for plotting</p>
</td></tr>
<tr><td><code id="keep_results_plot_dsa_+3A_threshold">threshold</code></td>
<td>
<p>threshold value of WTP</p>
</td></tr>
<tr><td><code id="keep_results_plot_dsa_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results to plot dsa
</p>

<hr>
<h2 id='list_paramwise_psa_result'>Function to list probabilistic sensitivity analysis results parameterwise</h2><span id='topic+list_paramwise_psa_result'></span>

<h3>Description</h3>

<p>Function to list probabilistic sensitivity analysis results parameterwise
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_paramwise_psa_result(
  result_psa_params_control,
  result_psa_params_treat,
  threshold,
  comparator
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_paramwise_psa_result_+3A_result_psa_params_control">result_psa_params_control</code></td>
<td>
<p>result from probabilistic
sensitivity analysis for first or control model</p>
</td></tr>
<tr><td><code id="list_paramwise_psa_result_+3A_result_psa_params_treat">result_psa_params_treat</code></td>
<td>
<p>result from probabilistic sensitivity
analysis for the comparative Markov model</p>
</td></tr>
<tr><td><code id="list_paramwise_psa_result_+3A_threshold">threshold</code></td>
<td>
<p>threshold value of WTP</p>
</td></tr>
<tr><td><code id="list_paramwise_psa_result_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot of  sensitivity analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
param_list &lt;- define_parameters(
  cost_zido = 2278, cost_direct_med_A = 1701,
  cost_comm_care_A = 1055, cost_direct_med_B = 1774,
  cost_comm_care_B = 1278,
  cost_direct_med_C = 6948, cost_comm_care_C = 2059,
  tpAtoA = 1251 / (1251 + 483),
  tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
  tpAtoD = 17 / (17 + 1717),
  tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
  tpBtoD = 15 / (15 + 1243),
  tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312), tpDtoD = 1,
  cost_health_A = "cost_direct_med_A + cost_comm_care_A",
  cost_health_B = "cost_direct_med_B + cost_comm_care_B",
  cost_health_C = "cost_direct_med_C + cost_comm_care_C",
  cost_drug = "cost_zido"
)
A &lt;- health_state("A", cost = "cost_health_A + cost_drug ", utility = 1)
B &lt;- health_state("B", cost = "cost_health_B + cost_drug", utility = 1)
C &lt;- health_state("C", cost = "cost_health_C + cost_drug", utility = 1)
D &lt;- health_state("D", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3, 4), c(NA, 5, 6, 7), c(NA, NA, 8, 9),
c(NA, NA, NA, 10))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("A", "B", "C", "D")
tm &lt;- populate_transition_matrix(4, tmat, c(
  "tpAtoA", "tpAtoB", "tpAtoC", "tpAtoD",
  "tpBtoB", "tpBtoC", "tpBtoD", "tpCtoC", "tpCtoD", "tpDtoD"
), colnames(tmat))
health_states &lt;- combine_state(A, B, C, D)
mono_strategy &lt;- strategy(tm, health_states, "mono")
mono_markov &lt;- markov_model(mono_strategy, 20, initial_state = c(1,0,0,0),
discount = c(0.06, 0),param_list)
sample_list &lt;- define_parameters(cost_zido = "gamma(mean = 2756,
sd = sqrt(2756))")
param_table &lt;- define_parameters_psa(param_list, sample_list)
result &lt;- do_psa(mono_markov, param_table, 10)
list_paramwise_psa_result(result, NULL, NULL, NULL)

</code></pre>

<hr>
<h2 id='load_trial_data'>Function to load the file containing trial data and return it</h2><span id='topic+load_trial_data'></span>

<h3>Description</h3>

<p>Function to load the file containing trial data and return it
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_trial_data(file = NULL, sheet = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_trial_data_+3A_file">file</code></td>
<td>
<p>name of the file in full</p>
</td></tr>
<tr><td><code id="load_trial_data_+3A_sheet">sheet</code></td>
<td>
<p>name of the sheet if excel work book is given</p>
</td></tr>
</table>


<h3>Value</h3>

<p>trial data if success, else -1
</p>


<h3>Examples</h3>

<pre><code class='language-R'>load_trial_data(system.file("extdata", "trial_data.csv",
  package = "packDAMipd"
))
</code></pre>

<hr>
<h2 id='make_string_covariates'>Make a string of covariates using addition sign</h2><span id='topic+make_string_covariates'></span>

<h3>Description</h3>

<p>Make a string of covariates using addition sign
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_string_covariates(covariates)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_string_covariates_+3A_covariates">covariates</code></td>
<td>
<p>covariates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>expression of covariates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>make_string_covariates(c("open", "grade"))
</code></pre>

<hr>
<h2 id='map_eq5d5Lto3L_VanHout'>Function to map EQ5D5L scores to EQ5D3L scores and then add to IPD data</h2><span id='topic+map_eq5d5Lto3L_VanHout'></span>

<h3>Description</h3>

<p>Function to map EQ5D5L scores to EQ5D3L scores and then add to IPD data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_eq5d5Lto3L_VanHout(ind_part_data, eq5d_nrcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="map_eq5d5Lto3L_VanHout_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="map_eq5d5Lto3L_VanHout_+3A_eq5d_nrcode">eq5d_nrcode</code></td>
<td>
<p>non response code for EQ5D5L, default is NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>qaly included modified data, if success -1, if failure
</p>


<h3>Source</h3>

<p>http://eprints.whiterose.ac.uk/121473/1/Devlin_et_al-2017-Health_Economics.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(valueEQ5D)
datafile &lt;- system.file("extdata", "trial_data.csv",
package = "packDAMipd")
trial_data &lt;- load_trial_data(datafile)
map_eq5d5Lto3L_VanHout(trial_data, NA)

</code></pre>

<hr>
<h2 id='map_resource_use_categories'>Function to to read the text form of resource use and replace it with
standard texts of resoure use ie. some one can describe GP visit as GP surgery
visit, surgery visit or general practioners visit etc. Here all these texts
should be given in a excel or csv file and then corresponidng standard form
will be read from the file and will be replaced.</h2><span id='topic+map_resource_use_categories'></span>

<h3>Description</h3>

<p>Function to to read the text form of resource use and replace it with
standard texts of resoure use ie. some one can describe GP visit as GP surgery
visit, surgery visit or general practioners visit etc. Here all these texts
should be given in a excel or csv file and then corresponidng standard form
will be read from the file and will be replaced.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_resource_use_categories(
  the_data,
  service_actual,
  new_column,
  mapped_data,
  mapped_use,
  analysis,
  replace_only,
  relevant_column = NULL,
  check_value_relevant = NULL,
  nhs_use_column = NULL,
  check_value_nhs_use = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="map_resource_use_categories_+3A_the_data">the_data</code></td>
<td>
<p>the data where the observations are held</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_service_actual">service_actual</code></td>
<td>
<p>columna name of the actual service use</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_new_column">new_column</code></td>
<td>
<p>the name of the column where the mapped resource use to be</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_mapped_data">mapped_data</code></td>
<td>
<p>data where the service name and mapped service name
has been stored</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_mapped_use">mapped_use</code></td>
<td>
<p>columan name of mapped resource use in mapped_data</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_analysis">analysis</code></td>
<td>
<p>base case or secondary</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_replace_only">replace_only</code></td>
<td>
<p>if we want to replace only certain resource use</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_relevant_column">relevant_column</code></td>
<td>
<p>the name of the column where the mapped resource use
is indicated as relevant or not</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_check_value_relevant">check_value_relevant</code></td>
<td>
<p>how is the mapped resource
is indicated as relevant by a value</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_nhs_use_column">nhs_use_column</code></td>
<td>
<p>the name of the column where the mapped resource use
comes under NHS or not</p>
</td></tr>
<tr><td><code id="map_resource_use_categories_+3A_check_value_nhs_use">check_value_nhs_use</code></td>
<td>
<p>value that is used to indicated the nhs use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the data with added sum
</p>

<hr>
<h2 id='markov_model'>Definition of Markov model and trace</h2><span id='topic+markov_model'></span>

<h3>Description</h3>

<p>Definition of Markov model and trace
</p>


<h3>Usage</h3>

<pre><code class='language-R'>markov_model(
  current_strategy,
  cycles,
  initial_state,
  discount = c(0, 0),
  parameter_values = NULL,
  half_cycle_correction = TRUE,
  state_cost_only_prevalent = FALSE,
  state_util_only_prevalent = FALSE,
  method = "half cycle correction",
  startup_cost = NULL,
  startup_util = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="markov_model_+3A_current_strategy">current_strategy</code></td>
<td>
<p>strategy object</p>
</td></tr>
<tr><td><code id="markov_model_+3A_cycles">cycles</code></td>
<td>
<p>no of cycles</p>
</td></tr>
<tr><td><code id="markov_model_+3A_initial_state">initial_state</code></td>
<td>
<p>value of states initially</p>
</td></tr>
<tr><td><code id="markov_model_+3A_discount">discount</code></td>
<td>
<p>rate of discount for costs and qalys</p>
</td></tr>
<tr><td><code id="markov_model_+3A_parameter_values">parameter_values</code></td>
<td>
<p>parameters for assigning health states and
probabilities</p>
</td></tr>
<tr><td><code id="markov_model_+3A_half_cycle_correction">half_cycle_correction</code></td>
<td>
<p>boolean to indicate half cycle correction</p>
</td></tr>
<tr><td><code id="markov_model_+3A_state_cost_only_prevalent">state_cost_only_prevalent</code></td>
<td>
<p>boolean parameter to indicate if the costs
for state occupancy is only for those in the state excluding those that
transitioned new. This is relevant when the transition cost is provided for
eg. in a state with dialysis the cost of previous dialysis is different from
the newly dialysis cases. Then the state_cost_only_prevalent should be TRUE</p>
</td></tr>
<tr><td><code id="markov_model_+3A_state_util_only_prevalent">state_util_only_prevalent</code></td>
<td>
<p>boolean parameter to indicate if the
utilities for state occupancy is only for those in the state excluding
those that transitioned new.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_method">method</code></td>
<td>
<p>what type of half cycle correction needed</p>
</td></tr>
<tr><td><code id="markov_model_+3A_startup_cost">startup_cost</code></td>
<td>
<p>cost of states initially</p>
</td></tr>
<tr><td><code id="markov_model_+3A_startup_util">startup_util</code></td>
<td>
<p>utility of states initially if any</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use the strategy, cycles, initial state values creating the markov model
and trace. As many probabilities /cost/utility value depend on age/time the
evaluation and assignment happens during each cycle. At the heart it does
a matrix multiplication using the previous row of the trace matrix and the
columns of the transition matrix. Also checks for population loss, calculates
cumulative costs and qalys (accounts for discounting
and half cycle correction)
</p>


<h3>Value</h3>

<p>Markov trace
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
tm &lt;- populate_transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state("Healthy", 1, 1, 0, FALSE)
b &lt;- health_state("Dead", 1, 0, 0, TRUE)
health_states &lt;- combine_state(a, b)
this.strategy &lt;- strategy(tm, health_states, "intervention")
markov_model(this.strategy, 10, c(1, 0))
</code></pre>

<hr>
<h2 id='markov_model_sojourntime'>Definition of Markov model and trace</h2><span id='topic+markov_model_sojourntime'></span>

<h3>Description</h3>

<p>Definition of Markov model and trace
</p>


<h3>Usage</h3>

<pre><code class='language-R'>markov_model_sojourntime(
  current_strategy,
  nCycles,
  initial_state,
  discount = c(0, 0),
  parameter_values = NULL,
  half_cycle_correction = TRUE,
  state_cost_only_prevalent = FALSE,
  state_util_only_prevalent = FALSE,
  method = "half cycle correction",
  startup_cost = NULL,
  startup_util = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="markov_model_sojourntime_+3A_current_strategy">current_strategy</code></td>
<td>
<p>strategy object</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_ncycles">nCycles</code></td>
<td>
<p>no of cycles</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_initial_state">initial_state</code></td>
<td>
<p>value of states initially</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_discount">discount</code></td>
<td>
<p>rate of discount for costs and qalys</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_parameter_values">parameter_values</code></td>
<td>
<p>parameters for assigning health states and
probabilities</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_half_cycle_correction">half_cycle_correction</code></td>
<td>
<p>boolean to indicate half cycle correction</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_state_cost_only_prevalent">state_cost_only_prevalent</code></td>
<td>
<p>boolean parameter to indicate if the costs
for state occupancy is only for those in the state excluding those that
transitioned new. This is relevant when the transition cost is provided for
eg. in a state with dialysis the cost of previous dialysis is different from
the newly dialysis cases. Then the state_cost_only_prevalent should be TRUE</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_state_util_only_prevalent">state_util_only_prevalent</code></td>
<td>
<p>boolean parameter to indicate if the
utilities for state occupancy is only for those in the state excluding
those that transitioned new.</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_method">method</code></td>
<td>
<p>what type of half cycle correction needed</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_startup_cost">startup_cost</code></td>
<td>
<p>cost of states initially</p>
</td></tr>
<tr><td><code id="markov_model_sojourntime_+3A_startup_util">startup_util</code></td>
<td>
<p>utility of states initially if any</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use the strategy, cycles, initial state values creating the markov model
and trace. As many probabilities /cost/utility value depend on age/time the
evaluation and assignment happens during each cycle. At the heart it does
a matrix multiplication using the previous row of the trace matrix and the
columns of the transition matrix. Also checks for population loss, calculates
cumulative costs and qalys (accounts for discounting
and half cycle correction)
</p>


<h3>Value</h3>

<p>Markov trace
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
tm &lt;- populate_transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state("Healthy", 1, 1, 0, FALSE)
b &lt;- health_state("Dead", 1, 0, 0, TRUE)
health_states &lt;- combine_state(a, b)
this.strategy &lt;- strategy(tm, health_states, "intervention")
markov_model(this.strategy, 10, c(1, 0))
</code></pre>

<hr>
<h2 id='microcosting_liquids_long'>Function to estimate the cost of liquids when IPD is in long format</h2><span id='topic+microcosting_liquids_long'></span>

<h3>Description</h3>

<p>Function to estimate the cost of liquids when IPD is in long format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>microcosting_liquids_long(
  the_columns,
  ind_part_data_long,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  bottle_size,
  bottle_size_unit = NULL,
  bottle_lasts,
  bottle_lasts_unit = NULL,
  preparation_dose = NULL,
  preparation_unit = NULL,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_brand = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_bottle_size_unit = NULL,
  list_of_code_bottle_lasts_unit = NULL,
  list_preparation_dose_unit = NULL,
  eqdose_covtab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="microcosting_liquids_long_+3A_the_columns">the_columns</code></td>
<td>
<p>columns that are to be used to convert the data
from long to wide</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_ind_part_data_long">ind_part_data_long</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_bottle_size">bottle_size</code></td>
<td>
<p>size of the bottle used</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_bottle_size_unit">bottle_size_unit</code></td>
<td>
<p>unit of bottle volume</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_bottle_lasts">bottle_lasts</code></td>
<td>
<p>how long the bottle lasted</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_bottle_lasts_unit">bottle_lasts_unit</code></td>
<td>
<p>time unit of how long the bottle lasted</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_preparation_dose">preparation_dose</code></td>
<td>
<p>dose if preparation is given</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_preparation_unit">preparation_unit</code></td>
<td>
<p>unit of preparatio dose</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that has strength of medication</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the
code:brand pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_list_of_code_bottle_size_unit">list_of_code_bottle_size_unit</code></td>
<td>
<p>list of bottle size units and codes</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_list_of_code_bottle_lasts_unit">list_of_code_bottle_lasts_unit</code></td>
<td>
<p>list of time of bottle lasts and codes</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_list_preparation_dose_unit">list_preparation_dose_unit</code></td>
<td>
<p>list of preparation dose units and codes</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_eqdose_covtab">eqdose_covtab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional</p>
</td></tr>
<tr><td><code id="microcosting_liquids_long_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_liq.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",
package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
names &lt;- colnames(ind_part_data)
ending &lt;- length(names)
ind_part_data_long &lt;- tidyr::gather(ind_part_data, measurement, value,
names[2]:names[ending], factor_key = TRUE)
the_columns &lt;- c("measurement", "value")
res &lt;- microcosting_liquids_long(the_columns,
ind_part_data_long = ind_part_data_long,
name_med = "liq_name", brand_med =  NULL, dose_med = "liq_strength",
unit_med = NULL, bottle_size = "liq_bottle_size",bottle_size_unit = NULL,
bottle_lasts = "liq_lasts",bottle_lasts_unit = NULL,preparation_dose = NULL,
preparation_unit = NULL,timeperiod = "4 months",unit_cost_data = med_costs,
unit_cost_column = "UnitCost",cost_calculated_per = "Basis",
strength_column = "Strength",list_of_code_names = NULL,
list_of_code_brand = NULL,list_of_code_dose_unit = NULL,
list_of_code_bottle_size_unit = NULL,list_of_code_bottle_lasts_unit = NULL,
list_preparation_dose_unit = NULL,eqdose_covtab = table,
basis_strength_unit = NULL)
</code></pre>

<hr>
<h2 id='microcosting_liquids_wide'>Function to estimate the cost of liquids taken (from IPD)</h2><span id='topic+microcosting_liquids_wide'></span>

<h3>Description</h3>

<p>Function to estimate the cost of liquids taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>microcosting_liquids_wide(
  ind_part_data,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  bottle_size,
  bottle_size_unit = NULL,
  bottle_lasts,
  bottle_lasts_unit = NULL,
  preparation_dose = NULL,
  preparation_unit = NULL,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_brand = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_bottle_size_unit = NULL,
  list_of_code_bottle_lasts_unit = NULL,
  list_preparation_dose_unit = NULL,
  eqdose_covtab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="microcosting_liquids_wide_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_bottle_size">bottle_size</code></td>
<td>
<p>size of the bottle used</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_bottle_size_unit">bottle_size_unit</code></td>
<td>
<p>unit of bottle volume</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_bottle_lasts">bottle_lasts</code></td>
<td>
<p>how long the bottle lasted</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_bottle_lasts_unit">bottle_lasts_unit</code></td>
<td>
<p>time unit of how long the bottle lasted</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_preparation_dose">preparation_dose</code></td>
<td>
<p>dose if preparation is given</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_preparation_unit">preparation_unit</code></td>
<td>
<p>unit of preparatio dose</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that has strength of medication</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the
code:brand pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_list_of_code_bottle_size_unit">list_of_code_bottle_size_unit</code></td>
<td>
<p>list of bottle size units and codes</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_list_of_code_bottle_lasts_unit">list_of_code_bottle_lasts_unit</code></td>
<td>
<p>list of time of bottle lasts and codes</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_list_preparation_dose_unit">list_preparation_dose_unit</code></td>
<td>
<p>list of preparation dose units and codes</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_eqdose_covtab">eqdose_covtab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional, but the column names have to unique
Similar to c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;factor&quot;) or
c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;conversion&quot;)</p>
</td></tr>
<tr><td><code id="microcosting_liquids_wide_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_liq.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- microcosting_liquids_wide(
ind_part_data = ind_part_data, name_med = "liq_name", brand_med =  NULL,
dose_med = "liq_strength", unit_med = NULL, bottle_size = "liq_bottle_size",
bottle_size_unit = NULL, bottle_lasts = "liq_lasts",
bottle_lasts_unit = NULL, preparation_dose = NULL, preparation_unit = NULL,
timeperiod = "4 months", unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_brand = NULL, list_of_code_dose_unit = NULL,
list_of_code_bottle_size_unit = NULL, list_of_code_bottle_lasts_unit = NULL,
list_preparation_dose_unit = NULL, eqdose_covtab = table,
basis_strength_unit = NULL)
</code></pre>

<hr>
<h2 id='microcosting_patches_long'>#'###########################################################################
Function to estimate the cost of patches when IPD is in long format
using a IPD data of long format</h2><span id='topic+microcosting_patches_long'></span>

<h3>Description</h3>

<p>#'###########################################################################
Function to estimate the cost of patches when IPD is in long format
using a IPD data of long format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>microcosting_patches_long(
  the_columns,
  ind_part_data_long,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="microcosting_patches_long_+3A_the_columns">the_columns</code></td>
<td>
<p>columns that are to be used to convert the data
from long to wide</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_ind_part_data_long">ind_part_data_long</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit in the cost is calculated</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_long_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
names &lt;- colnames(ind_part_data)
ending &lt;- length(names)
ind_part_data_long &lt;- tidyr::gather(ind_part_data, measurement, value,
names[2]:names[ending], factor_key = TRUE)
the_columns &lt;- c("measurement", "value")
res &lt;- microcosting_patches_long(the_columns,
ind_part_data_long = ind_part_data_long, name_med = "patch_name",
brand_med = "patch_brand", dose_med = "patch_strength",unit_med = NULL,
no_taken = "patch_no_taken", freq_taken = "patch_frequency",
timeperiod = "4 months", unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per  = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_freq = NULL, list_of_code_dose_unit = NULL,
list_of_code_brand = NULL, eqdose_cov_tab = table,
basis_strength_unit = "mcg/hr")
</code></pre>

<hr>
<h2 id='microcosting_patches_wide'>Function to estimate the cost of patches taken (from IPD)</h2><span id='topic+microcosting_patches_wide'></span>

<h3>Description</h3>

<p>Function to estimate the cost of patches taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>microcosting_patches_wide(
  ind_part_data,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="microcosting_patches_wide_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional, but the column names have to unique
Similar to c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;factor&quot;) or
c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;conversion&quot;)</p>
</td></tr>
<tr><td><code id="microcosting_patches_wide_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes individual level data has name of medication, dose, dose unit,
number taken, frequency taken, and basis time
Assumes unit cost data contains the name of medication, form/type,
strength, unit of strength (or the unit in which the cost calculated),
preparation, unit cost, size and size unit
(in which name, forms, size, size unit, and preparation  are not passed on)
@importFrom dplyr %&gt;%
a patient use 1 mg/hr patches 5 patches once a week
that patch comes in a pack of 4 with cost £2.50
we want to estimate the cost for 3 months
that means amount of medication
3 months = 21 weeks
number of patches taken = 21<em>5 = 105 patches
packs = (105/4) almost 27 packs
cost = 27</em>2.50
</p>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx", package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- microcosting_patches_wide(
ind_part_data = ind_part_data, name_med = "patch_name",
brand_med = "patch_brand", dose_med = "patch_strength", unit_med = NULL,
no_taken = "patch_no_taken", freq_taken = "patch_frequency",
timeperiod = "4 months", unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per  = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_freq = NULL, list_of_code_dose_unit = NULL,
list_of_code_brand = NULL, eqdose_cov_tab = table,
basis_strength_unit = "mcg/hr")
</code></pre>

<hr>
<h2 id='microcosting_tablets_long'>Function to estimate the cost of tablets when IPD is in long format</h2><span id='topic+microcosting_tablets_long'></span>

<h3>Description</h3>

<p>Function to estimate the cost of tablets when IPD is in long format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>microcosting_tablets_long(
  the_columns,
  ind_part_data_long,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="microcosting_tablets_long_+3A_the_columns">the_columns</code></td>
<td>
<p>columns that are to be used to convert the data
from long to wide</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_ind_part_data_long">ind_part_data_long</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_long_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_all.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx", package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
names &lt;- colnames(ind_part_data)
ending &lt;- length(names)
ind_part_data_long &lt;- tidyr::gather(ind_part_data, measurement, value,
names[2]:names[ending], factor_key = TRUE)
the_columns &lt;- c("measurement", "value")
res &lt;- microcosting_tablets_long(the_columns,
ind_part_data_long = ind_part_data_long, name_med = "tab_name",
brand_med = "tab_brand", dose_med = "tab_strength",
unit_med = "tab_str_unit",
no_taken = "tab_no_taken", freq_taken = "tab_frequency",
timeperiod = "2 months",unit_cost_data = med_costs,
unit_cost_column = "UnitCost", cost_calculated_per  = "Basis",
strength_column = "Strength", list_of_code_names = NULL,
list_of_code_freq = NULL,list_of_code_dose_unit = NULL,
eqdose_cov_tab = table, basis_strength_unit = "mg")
</code></pre>

<hr>
<h2 id='microcosting_tablets_wide'>Function to estimate the cost of tablets taken (from IPD)</h2><span id='topic+microcosting_tablets_wide'></span>

<h3>Description</h3>

<p>Function to estimate the cost of tablets taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>microcosting_tablets_wide(
  ind_part_data,
  name_med,
  brand_med = NULL,
  dose_med,
  unit_med = NULL,
  no_taken,
  freq_taken,
  timeperiod,
  unit_cost_data,
  unit_cost_column,
  cost_calculated_per,
  strength_column,
  list_of_code_names = NULL,
  list_of_code_freq = NULL,
  list_of_code_dose_unit = NULL,
  list_of_code_brand = NULL,
  eqdose_cov_tab = NULL,
  basis_strength_unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="microcosting_tablets_wide_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>IPD</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_name_med">name_med</code></td>
<td>
<p>name of medication</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_brand_med">brand_med</code></td>
<td>
<p>brand name of medication if revealed</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_dose_med">dose_med</code></td>
<td>
<p>dose of medication used</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_unit_med">unit_med</code></td>
<td>
<p>unit of medication ; use null if its along with the dose</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_no_taken">no_taken</code></td>
<td>
<p>how many taken</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_freq_taken">freq_taken</code></td>
<td>
<p>frequency of medication</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_timeperiod">timeperiod</code></td>
<td>
<p>time period for cost calculation</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_unit_cost_data">unit_cost_data</code></td>
<td>
<p>unit costs data</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_unit_cost_column">unit_cost_column</code></td>
<td>
<p>column name of unit cost in unit_cost_data</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_cost_calculated_per">cost_calculated_per</code></td>
<td>
<p>column name of unit where the cost is calculated</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_strength_column">strength_column</code></td>
<td>
<p>column column name that contain strength of
medication</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_list_of_code_names">list_of_code_names</code></td>
<td>
<p>if names is coded, give the code:name pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_list_of_code_freq">list_of_code_freq</code></td>
<td>
<p>if frequency is coded, give the
code:frequency pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_list_of_code_dose_unit">list_of_code_dose_unit</code></td>
<td>
<p>if unit is coded, give the code:unit pairs,
optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_list_of_code_brand">list_of_code_brand</code></td>
<td>
<p>if brand names  are coded, give the code:brand
pairs, optional</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_eqdose_cov_tab">eqdose_cov_tab</code></td>
<td>
<p>table to get the conversion factor for equivalent
doses, optional, but the column names have to unique
Similar to c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;factor&quot;) or
c(&quot;Drug&quot;,    &quot;form&quot;, &quot;unit&quot;,    &quot;conversion&quot;)</p>
</td></tr>
<tr><td><code id="microcosting_tablets_wide_+3A_basis_strength_unit">basis_strength_unit</code></td>
<td>
<p>strength unit to be taken as basis
required for total medication calculations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes individual level data has name of medication, dose, dose unit,
number taken, frequency taken, and basis time
Assumes unit cost data contains the name of medication, form/type,
strength, unit of strength (or the unit in which the cost calculated),
preparation, unit cost, size and size unit
(in which name, forms, size, size unit, and preparation  are not passed on)
@importFrom dplyr %&gt;%
</p>


<h3>Value</h3>

<p>the calculated cost of tablets along with original data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>med_costs_file &lt;- system.file("extdata", "medicaton_costs_all.xlsx",
package = "packDAMipd")
data_file &lt;- system.file("extdata", "medication_all.xlsx",
package = "packDAMipd")
ind_part_data &lt;- load_trial_data(data_file)
med_costs &lt;- load_trial_data(med_costs_file)
conv_file &lt;- system.file("extdata", "Med_calc.xlsx",package = "packDAMipd")
table &lt;- load_trial_data(conv_file)
res &lt;- microcosting_tablets_wide(ind_part_data = ind_part_data,
name_med = "tab_name", brand_med = "tab_brand", dose_med = "tab_strength",
unit_med = "tab_str_unit", no_taken = "tab_no_taken",
freq_taken = "tab_frequency",timeperiod = "2 months",
unit_cost_data = med_costs,unit_cost_column = "UnitCost",
cost_calculated_per  = "Basis", strength_column = "Strength",
list_of_code_names = NULL, list_of_code_freq = NULL,
list_of_code_dose_unit = NULL, eqdose_cov_tab = table,
basis_strength_unit = "mg")
</code></pre>

<hr>
<h2 id='plot_ceac_psa'>Function to plot CEAC</h2><span id='topic+plot_ceac_psa'></span>

<h3>Description</h3>

<p>Function to plot CEAC
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ceac_psa(
  control_markov,
  trt_markov,
  psa_table_ctrl,
  psa_table_trt,
  thresholds,
  num_rep,
  comparator
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_ceac_psa_+3A_control_markov">control_markov</code></td>
<td>
<p>markov model for control</p>
</td></tr>
<tr><td><code id="plot_ceac_psa_+3A_trt_markov">trt_markov</code></td>
<td>
<p>markov model for treatment</p>
</td></tr>
<tr><td><code id="plot_ceac_psa_+3A_psa_table_ctrl">psa_table_ctrl</code></td>
<td>
<p>param table for psa for control</p>
</td></tr>
<tr><td><code id="plot_ceac_psa_+3A_psa_table_trt">psa_table_trt</code></td>
<td>
<p>param table for psa for  treatment</p>
</td></tr>
<tr><td><code id="plot_ceac_psa_+3A_thresholds">thresholds</code></td>
<td>
<p>threshold values of WTP</p>
</td></tr>
<tr><td><code id="plot_ceac_psa_+3A_num_rep">num_rep</code></td>
<td>
<p>number of repetitions</p>
</td></tr>
<tr><td><code id="plot_ceac_psa_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot of  ceac
</p>

<hr>
<h2 id='plot_dsa'>Function to plot results of sensitivity analysis do_sensitivity_analysis()</h2><span id='topic+plot_dsa'></span>

<h3>Description</h3>

<p>Function to plot results of sensitivity analysis do_sensitivity_analysis()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_dsa(
  result_dsa_control,
  plotfor,
  type = "range",
  result_dsa_treat = NULL,
  threshold = NULL,
  comparator = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_dsa_+3A_result_dsa_control">result_dsa_control</code></td>
<td>
<p>result from deterministic sensitivity analysis
for first or control model</p>
</td></tr>
<tr><td><code id="plot_dsa_+3A_plotfor">plotfor</code></td>
<td>
<p>the variable to plotfor e.g. cost, utility NMB etc</p>
</td></tr>
<tr><td><code id="plot_dsa_+3A_type">type</code></td>
<td>
<p>type of analysis, range or difference</p>
</td></tr>
<tr><td><code id="plot_dsa_+3A_result_dsa_treat">result_dsa_treat</code></td>
<td>
<p>result from deterministic sensitivity analysis
for the comparative Markov model</p>
</td></tr>
<tr><td><code id="plot_dsa_+3A_threshold">threshold</code></td>
<td>
<p>threshold value of WTP</p>
</td></tr>
<tr><td><code id="plot_dsa_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot of  sensitivity analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
param_list &lt;- define_parameters(
cost_zido = 2278, cost_direct_med_A = 1701,
cost_comm_care_A = 1055, cost_direct_med_B = 1774,
cost_comm_care_B = 1278,
cost_direct_med_C = 6948, cost_comm_care_C = 2059,
tpAtoA = 1251 / (1251 + 483),
tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
tpAtoD = 17 / (17 + 1717),
tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
tpBtoD = 15 / (15 + 1243),
tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312),
tpDtoD = 1,
cost_health_A = "cost_direct_med_A +  cost_comm_care_A",
cost_health_B = "cost_direct_med_B +  cost_comm_care_B",
cost_health_C = "cost_direct_med_C +  cost_comm_care_C",
cost_drug = "cost_zido")
low_values &lt;- define_parameters(cost_direct_med_B = 177.4,
cost_comm_care_C = 205.9)
upp_values &lt;- define_parameters(cost_direct_med_B = 17740,
cost_comm_care_C = 20590)
A &lt;- health_state("A", cost = "cost_health_A +  cost_drug ",
utility = 1)
B &lt;- health_state("B", cost = "cost_health_B + cost_drug",
utility = 1)
C &lt;- health_state("C", cost = "cost_health_C + cost_drug",
utility = 1)
D &lt;- health_state("D", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3, 4), c(NA, 5, 6, 7), c(NA, NA, 8, 9),
c(NA, NA, NA, 10))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("A", "B", "C", "D")
tm &lt;- populate_transition_matrix(4, tmat, c("tpAtoA", "tpAtoB", "tpAtoC",
"tpAtoD","tpBtoB", "tpBtoC", "tpBtoD", "tpCtoC", "tpCtoD", "tpDtoD"),
colnames(tmat))
health_states &lt;- combine_state(A, B, C, D)
mono_strategy &lt;- strategy(tm, health_states, "mono")
mono_markov &lt;- markov_model(mono_strategy, 20, c(1, 0, 0, 0),
discount = c(0.06, 0), param_list)
param_table &lt;- define_parameters_sens_anal(param_list, low_values,
upp_values)
result &lt;- do_sensitivity_analysis(mono_markov, param_table)
param_list_treat &lt;- define_parameters(
cost_zido = 3000, cost_direct_med_A = 890,
cost_comm_care_A = 8976, cost_direct_med_B = 2345,
cost_comm_care_B = 1278,
cost_direct_med_C = 6948, cost_comm_care_C = 2059,
tpAtoA = 1251 / (1251 + 483),
tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
tpAtoD = 17 / (17 + 1717),
tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
tpBtoD = 15 / (15 + 1243),
tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312),
tpDtoD = 1,
cost_health_A = "cost_direct_med_A +  cost_comm_care_A",
cost_health_B = "cost_direct_med_B +  cost_comm_care_B",
cost_health_C = "cost_direct_med_C +  cost_comm_care_C",
cost_drug = "cost_zido")
treat_strategy &lt;- strategy(tm, health_states, "treat")
treat_markov &lt;- markov_model(treat_strategy, 20, c(1, 0, 0, 0),
discount = c(0.06, 0), param_list_treat)
treat_low_values &lt;- define_parameters(cost_direct_med_B = 234.5,
cost_comm_care_C = 694.8)
treat_upp_values &lt;- define_parameters(cost_direct_med_B = 23450,
 cost_comm_care_C = 69480)
param_table_treat &lt;- define_parameters_sens_anal(param_list_treat,
treat_low_values,treat_upp_values)
result_treat &lt;- do_sensitivity_analysis(treat_markov, param_table)
plot_dsa(result,"NMB","range",result_treat, 20000, "treat")

</code></pre>

<hr>
<h2 id='plot_dsa_difference'>Function to do some checks before plotting sensitivity analysis results</h2><span id='topic+plot_dsa_difference'></span>

<h3>Description</h3>

<p>Function to do some checks before plotting sensitivity analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_dsa_difference(ob_results, plotfor, plot_var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_dsa_difference_+3A_ob_results">ob_results</code></td>
<td>
<p>results from deterministic sensitivity analysis</p>
</td></tr>
<tr><td><code id="plot_dsa_difference_+3A_plotfor">plotfor</code></td>
<td>
<p>the quantity plotting</p>
</td></tr>
<tr><td><code id="plot_dsa_difference_+3A_plot_var">plot_var</code></td>
<td>
<p>the variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot
</p>

<hr>
<h2 id='plot_dsa_icer_range'>Function to do some checks before plotting sensitivity analysis results</h2><span id='topic+plot_dsa_icer_range'></span>

<h3>Description</h3>

<p>Function to do some checks before plotting sensitivity analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_dsa_icer_range(ob_results, plot_var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_dsa_icer_range_+3A_ob_results">ob_results</code></td>
<td>
<p>results from deterministic sensitivity analysis</p>
</td></tr>
<tr><td><code id="plot_dsa_icer_range_+3A_plot_var">plot_var</code></td>
<td>
<p>the variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot
</p>

<hr>
<h2 id='plot_dsa_nmb_range'>Function to do some checks before plotting sensitivity analysis results</h2><span id='topic+plot_dsa_nmb_range'></span>

<h3>Description</h3>

<p>Function to do some checks before plotting sensitivity analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_dsa_nmb_range(ob_results, plot_var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_dsa_nmb_range_+3A_ob_results">ob_results</code></td>
<td>
<p>results from deterministic sensitivity analysis</p>
</td></tr>
<tr><td><code id="plot_dsa_nmb_range_+3A_plot_var">plot_var</code></td>
<td>
<p>the variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot
</p>

<hr>
<h2 id='plot_dsa_others_range'>Function to do some checks before plotting sensitivity analysis results</h2><span id='topic+plot_dsa_others_range'></span>

<h3>Description</h3>

<p>Function to do some checks before plotting sensitivity analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_dsa_others_range(ob_results, plot_var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_dsa_others_range_+3A_ob_results">ob_results</code></td>
<td>
<p>results from deterministic sensitivity analysis</p>
</td></tr>
<tr><td><code id="plot_dsa_others_range_+3A_plot_var">plot_var</code></td>
<td>
<p>the variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot
</p>

<hr>
<h2 id='plot_efficiency_frontier'>Plot efficiency frontier</h2><span id='topic+plot_efficiency_frontier'></span>

<h3>Description</h3>

<p>Plot efficiency frontier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_efficiency_frontier(results_calculate_icer_nmb, threshold)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_efficiency_frontier_+3A_results_calculate_icer_nmb">results_calculate_icer_nmb</code></td>
<td>
<p>results from cea
(from calculate_icer_nmb method)</p>
</td></tr>
<tr><td><code id="plot_efficiency_frontier_+3A_threshold">threshold</code></td>
<td>
<p>threshold value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot
well &lt;- health_state(&quot;well&quot;, cost = 0, utility = 1)
disabled &lt;- health_state(&quot;disabled&quot;, cost = 100, utility = 1)
dead &lt;- health_state(&quot;dead&quot;, cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c(&quot;well&quot;, &quot;disabled&quot;, &quot;dead&quot;)
tm &lt;- populate_transition_matrix(3, tmat, c(0.6, 0.2, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, &quot;control&quot;)
this_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0), c(0,0))
well &lt;- health_state(&quot;well&quot;, cost = 0, utility = 1)
disabled &lt;- health_state(&quot;disabled&quot;, cost = 10, utility = 0.5)
dead &lt;- health_state(&quot;dead&quot;, cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c(&quot;well&quot;, &quot;disabled&quot;, &quot;dead&quot;)
tm &lt;- populate_transition_matrix(3, tmat, c(0.4, 0.4, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, &quot;intervention&quot;)
sec_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0), c(0,0))
list_markov &lt;- combine_markov(this_markov, sec_markov)
results_cea &lt;- calculate_icer_nmb(list_markov, 20000, comparator = &quot;control&quot;)
plot_efficiency_frontier(results_cea, c(1000, 2000))
</p>

<hr>
<h2 id='plot_histogram_onetimepoint_twogroups'>Function to plot mean and SE for longitudinal observations for twogroups compared</h2><span id='topic+plot_histogram_onetimepoint_twogroups'></span>

<h3>Description</h3>

<p>Function to plot mean and SE for longitudinal observations for twogroups compared
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_histogram_onetimepoint_twogroups(
  thedata,
  colname,
  timepointstring,
  xstring,
  ylimits = NULL,
  nbins = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_histogram_onetimepoint_twogroups_+3A_thedata">thedata</code></td>
<td>
<p>the data where the observations are held</p>
</td></tr>
<tr><td><code id="plot_histogram_onetimepoint_twogroups_+3A_colname">colname</code></td>
<td>
<p>columnname in the data where the intersted observations</p>
</td></tr>
<tr><td><code id="plot_histogram_onetimepoint_twogroups_+3A_timepointstring">timepointstring</code></td>
<td>
<p>the text that correspond to timepoints
at which the descriptive analysis is done</p>
</td></tr>
<tr><td><code id="plot_histogram_onetimepoint_twogroups_+3A_xstring">xstring</code></td>
<td>
<p>xlable text</p>
</td></tr>
<tr><td><code id="plot_histogram_onetimepoint_twogroups_+3A_ylimits">ylimits</code></td>
<td>
<p>on hsitogram plot</p>
</td></tr>
<tr><td><code id="plot_histogram_onetimepoint_twogroups_+3A_nbins">nbins</code></td>
<td>
<p>nbins the number of bins to plot histogram</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the historgram plot at a timepoint for two groups
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 7, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2")))
plot_histogram_onetimepoint_twogroups(eg_data,  c("mark_at_2"), c("1","2"),
 "mark")
</code></pre>

<hr>
<h2 id='plot_meanSE_longitudinal_twogroups'>Function to plot mean and SE for longitudinal observations for twogroups compared</h2><span id='topic+plot_meanSE_longitudinal_twogroups'></span>

<h3>Description</h3>

<p>Function to plot mean and SE for longitudinal observations for twogroups compared
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_meanSE_longitudinal_twogroups(
  thedata,
  columnnames,
  timepoints,
  observation
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_meanSE_longitudinal_twogroups_+3A_thedata">thedata</code></td>
<td>
<p>the data where the observations are held</p>
</td></tr>
<tr><td><code id="plot_meanSE_longitudinal_twogroups_+3A_columnnames">columnnames</code></td>
<td>
<p>columnnames in the data where the intersted observations</p>
</td></tr>
<tr><td><code id="plot_meanSE_longitudinal_twogroups_+3A_timepoints">timepoints</code></td>
<td>
<p>the timepoints at which the descriptive analysis is done</p>
</td></tr>
<tr><td><code id="plot_meanSE_longitudinal_twogroups_+3A_observation">observation</code></td>
<td>
<p>name of the observations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the plot that shows mean and SE
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eg_data &lt;- as.data.frame(list(no = c(1, 2, 3, 4),
mark_at_1 = c(12, 7, 23, 45), gender = c("M", "F", "M", "F"),
mark_at_2 = c(12, 34, 89, 45), trialarm = c("1","1","2","2")))
plot_meanSE_longitudinal_twogroups(eg_data,  c("mark_at_1", "mark_at_2"),
c("1","2"), "mark")
</code></pre>

<hr>
<h2 id='plot_model'>E1. Plot a Markov model</h2><span id='topic+plot_model'></span>

<h3>Description</h3>

<p>E1. Plot a Markov model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_model(markov)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_model_+3A_markov">markov</code></td>
<td>
<p>markov_model object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
tm &lt;- populate_transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state("Healthy", 1, 1, 0, FALSE)
b &lt;- health_state("Dead", 1, 0, 0, TRUE)
health_states &lt;- combine_state(a, b)
this.strategy &lt;- strategy(tm, health_states, "intervention")
this_markov &lt;- markov_model(this.strategy, 10, c(1, 0), c(0, 0))
p &lt;- plot_model(this_markov)

</code></pre>

<hr>
<h2 id='plot_nmb_lambda'>Plot cost effectiveness acceptability curve</h2><span id='topic+plot_nmb_lambda'></span>

<h3>Description</h3>

<p>Plot cost effectiveness acceptability curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_nmb_lambda(list_markov, threshold_values, comparator, currency = "GBP")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_nmb_lambda_+3A_list_markov">list_markov</code></td>
<td>
<p>markov_model objects</p>
</td></tr>
<tr><td><code id="plot_nmb_lambda_+3A_threshold_values">threshold_values</code></td>
<td>
<p>list of threshold values</p>
</td></tr>
<tr><td><code id="plot_nmb_lambda_+3A_comparator">comparator</code></td>
<td>
<p>the comparator</p>
</td></tr>
<tr><td><code id="plot_nmb_lambda_+3A_currency">currency</code></td>
<td>
<p>currency</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 100, utility = 1)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.6, 0.2, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "control")
this_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0),c(0, 0))
well &lt;- health_state("well", cost = 0, utility = 1)
disabled &lt;- health_state("disabled", cost = 10, utility = 0.5)
dead &lt;- health_state("dead", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("well", "disabled", "dead")
tm &lt;- populate_transition_matrix(3, tmat, c(0.4, 0.4, 0.2, 0.6, 0.4, 1),
colnames(tmat))
health_states &lt;- combine_state(well, disabled, dead)
this.strategy &lt;- strategy(tm, health_states, "intervention")
sec_markov &lt;- markov_model(this.strategy, 24, c(1000, 0, 0), c(0, 0))
list_markov &lt;- combine_markov(this_markov, sec_markov)
plot_nmb_lambda(list_markov, c(1000, 2000, 3000), comparator = "control")

</code></pre>

<hr>
<h2 id='plot_prediction_parametric_survival'>Plot the predicted survival curves for covariates keeping the others fixed</h2><span id='topic+plot_prediction_parametric_survival'></span>

<h3>Description</h3>

<p>Plot the predicted survival curves for covariates keeping the others fixed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_prediction_parametric_survival(
  param_to_be_estimated,
  indep_var,
  covariates,
  dataset,
  fit,
  timevar_survival
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_prediction_parametric_survival_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter to be estimated</p>
</td></tr>
<tr><td><code id="plot_prediction_parametric_survival_+3A_indep_var">indep_var</code></td>
<td>
<p>variable for which the levels have to be identified</p>
</td></tr>
<tr><td><code id="plot_prediction_parametric_survival_+3A_covariates">covariates</code></td>
<td>
<p>the  covariates</p>
</td></tr>
<tr><td><code id="plot_prediction_parametric_survival_+3A_dataset">dataset</code></td>
<td>
<p>the dataset where these variables contain</p>
</td></tr>
<tr><td><code id="plot_prediction_parametric_survival_+3A_fit">fit</code></td>
<td>
<p>the fit result survreg</p>
</td></tr>
<tr><td><code id="plot_prediction_parametric_survival_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable from the dataset</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::lung
surv_estimated &lt;- use_parametric_survival("status", data_for_survival,
"sex",
info_distribution = "weibull",covariates = c("ph.ecog"),"time")
plot_prediction_parametric_survival("status", "sex",
covariates = c("ph.ecog"),data_for_survival, surv_estimated$fit, "time")

</code></pre>

<hr>
<h2 id='plot_return_residual_cox'>Plotting and return the residuals after cox proportional hazard model</h2><span id='topic+plot_return_residual_cox'></span>

<h3>Description</h3>

<p>Plotting and return the residuals after cox proportional hazard model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_return_residual_cox(
  param_to_be_estimated,
  indep_var,
  covariates,
  fit,
  dataset
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_return_residual_cox_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter to be estimated</p>
</td></tr>
<tr><td><code id="plot_return_residual_cox_+3A_indep_var">indep_var</code></td>
<td>
<p>independent variable</p>
</td></tr>
<tr><td><code id="plot_return_residual_cox_+3A_covariates">covariates</code></td>
<td>
<p>covariates</p>
</td></tr>
<tr><td><code id="plot_return_residual_cox_+3A_fit">fit</code></td>
<td>
<p>fit object from coxph method</p>
</td></tr>
<tr><td><code id="plot_return_residual_cox_+3A_dataset">dataset</code></td>
<td>
<p>data used for cox ph model</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot and the residuals
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data_for_survival &lt;- survival::lung
  surv_estimated &lt;- use_coxph_survival("status", data_for_survival, "sex",
  covariates = c("ph.ecog"), "time")
  plot_return_residual_cox("status", "sex", covariates = c("ph.ecog"),
  surv_estimated$fit,data_for_survival )
  
</code></pre>

<hr>
<h2 id='plot_return_residual_survival'>Plotting and return the residuals after survival model</h2><span id='topic+plot_return_residual_survival'></span>

<h3>Description</h3>

<p>Plotting and return the residuals after survival model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_return_residual_survival(
  param_to_be_estimated,
  indep_var,
  covariates,
  fit
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_return_residual_survival_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter to be estimated</p>
</td></tr>
<tr><td><code id="plot_return_residual_survival_+3A_indep_var">indep_var</code></td>
<td>
<p>independent variable</p>
</td></tr>
<tr><td><code id="plot_return_residual_survival_+3A_covariates">covariates</code></td>
<td>
<p>covariates</p>
</td></tr>
<tr><td><code id="plot_return_residual_survival_+3A_fit">fit</code></td>
<td>
<p>fit object from survreg method</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot and the residuals
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::lung
surv_estimated &lt;- use_parametric_survival("status", data_for_survival,
"sex",
info_distribution = "weibull",covariates = c("ph.ecog"), "time")
plot_return_residual_survival("status", "sex",
covariates = c("ph.ecog"),surv_estimated$fit)

</code></pre>

<hr>
<h2 id='plot_return_survival_curve'>Plotting survival function for all covariates using survfit</h2><span id='topic+plot_return_survival_curve'></span>

<h3>Description</h3>

<p>Plotting survival function for all covariates using survfit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_return_survival_curve(
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  timevar_survival
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_return_survival_curve_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter to be estimated</p>
</td></tr>
<tr><td><code id="plot_return_survival_curve_+3A_dataset">dataset</code></td>
<td>
<p>param describing the methods</p>
</td></tr>
<tr><td><code id="plot_return_survival_curve_+3A_indep_var">indep_var</code></td>
<td>
<p>independent variable</p>
</td></tr>
<tr><td><code id="plot_return_survival_curve_+3A_covariates">covariates</code></td>
<td>
<p>covariates</p>
</td></tr>
<tr><td><code id="plot_return_survival_curve_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot and the survival function values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data_for_survival &lt;- survival::lung
 plot_return_survival_curve(param_to_be_estimated = "status",
 dataset = data_for_survival,indep_var = "sex",covariates = c("ph.ecog"),
 timevar_survival = "time")
 
</code></pre>

<hr>
<h2 id='plot_survival_cox_covariates'>Plotting survival function for all covariates  calculated from
cox regression results and returned coefficients</h2><span id='topic+plot_survival_cox_covariates'></span>

<h3>Description</h3>

<p>Plotting survival function for all covariates  calculated from
cox regression results and returned coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_survival_cox_covariates(
  coxfit,
  dataset,
  param_to_be_estimated,
  covariates,
  indep_var
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_survival_cox_covariates_+3A_coxfit">coxfit</code></td>
<td>
<p>cox regression fit result</p>
</td></tr>
<tr><td><code id="plot_survival_cox_covariates_+3A_dataset">dataset</code></td>
<td>
<p>param describing the methods</p>
</td></tr>
<tr><td><code id="plot_survival_cox_covariates_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter to be estimated</p>
</td></tr>
<tr><td><code id="plot_survival_cox_covariates_+3A_covariates">covariates</code></td>
<td>
<p>covariates</p>
</td></tr>
<tr><td><code id="plot_survival_cox_covariates_+3A_indep_var">indep_var</code></td>
<td>
<p>independent variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot and the survival function values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data_for_survival &lt;- survival::lung
 surv_estimated &lt;- use_coxph_survival("status", data_for_survival, "sex",
 covariates = c("ph.ecog"), "time")
 plot_survival_cox_covariates(surv_estimated$fit,data_for_survival,
 "status", covariates = c("ph.ecog"), "sex")
 
</code></pre>

<hr>
<h2 id='populate_transition_matrix'>Populate transition matrix</h2><span id='topic+populate_transition_matrix'></span>

<h3>Description</h3>

<p>Populate transition matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>populate_transition_matrix(no_states, tmat, list_prob, name_states = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="populate_transition_matrix_+3A_no_states">no_states</code></td>
<td>
<p>number of the health states</p>
</td></tr>
<tr><td><code id="populate_transition_matrix_+3A_tmat">tmat</code></td>
<td>
<p>A transition matrix in the format from the package 'mstate'</p>
</td></tr>
<tr><td><code id="populate_transition_matrix_+3A_list_prob">list_prob</code></td>
<td>
<p>list of probabilities as in the order of
transitions (row wise)</p>
</td></tr>
<tr><td><code id="populate_transition_matrix_+3A_name_states">name_states</code></td>
<td>
<p>names of the health states</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the state names are null, they are replaced with numbers starting from 1
First find those missing probabilities, and fill a list from the given
list of probabilities and fill those are not NA in the matrix
Note that the probabilities need not be numeric here and no checks are
needed for sum
</p>


<h3>Value</h3>

<p>value of the transition matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
populate_transition_matrix(2, tmat, list_prob = c(0.2, 0.5, 0, 0.3))
</code></pre>

<hr>
<h2 id='predict_coxph'>Predict risk/hazard function for  cox ph regression</h2><span id='topic+predict_coxph'></span>

<h3>Description</h3>

<p>Predict risk/hazard function for  cox ph regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_coxph(
  coxfit,
  dataset,
  param_to_be_estimated,
  covariates,
  indep_var,
  timevar_survival
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_coxph_+3A_coxfit">coxfit</code></td>
<td>
<p>cox regression fit result</p>
</td></tr>
<tr><td><code id="predict_coxph_+3A_dataset">dataset</code></td>
<td>
<p>param describing the methods</p>
</td></tr>
<tr><td><code id="predict_coxph_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter to be estimated</p>
</td></tr>
<tr><td><code id="predict_coxph_+3A_covariates">covariates</code></td>
<td>
<p>covariates</p>
</td></tr>
<tr><td><code id="predict_coxph_+3A_indep_var">indep_var</code></td>
<td>
<p>independent variable</p>
</td></tr>
<tr><td><code id="predict_coxph_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&quot;risk&quot; option for &quot;type&quot; returns the hazard ratio relative to mean
e.g given below For lung data with
data_for_survival &lt;- survival::lung
fit &lt;- use_coxph_survival(&quot;status&quot;, data_for_survival, &quot;sex&quot;,
covariates = c(&quot;ph.ecog&quot;), &quot;time&quot;)
coeffit = fit$coefficients
r1234 &lt;- exp(coeffit(&quot;sex&quot;)lung$sex+ coeffit(&quot;ph.ecog&quot;)lung$ph.ecog)
rMean &lt;- exp(sum(coef(fit) * fit$means, na.rm=TRUE))
rr &lt;- r1234/rMean
</p>


<h3>Value</h3>

<p>plot and the survival function values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::lung
surv_estimated &lt;- use_coxph_survival("status", data_for_survival,
"sex",covariates = c("ph.ecog"), "time")
predict_coxph(surv_estimated$fit,data_for_survival, "status","sex",
covariates = c("ph.ecog"), "time")

</code></pre>

<hr>
<h2 id='prediction_regression'>Do the prediction for regression</h2><span id='topic+prediction_regression'></span>

<h3>Description</h3>

<p>Do the prediction for regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prediction_regression(
  method,
  fit,
  expression_recreated,
  param_to_be_estimated,
  indep_var,
  covariates,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prediction_regression_+3A_method">method</code></td>
<td>
<p>param describing the methods, expects lm</p>
</td></tr>
<tr><td><code id="prediction_regression_+3A_fit">fit</code></td>
<td>
<p>results of the regression fit</p>
</td></tr>
<tr><td><code id="prediction_regression_+3A_expression_recreated">expression_recreated</code></td>
<td>
<p>the expression recreated for calling lm</p>
</td></tr>
<tr><td><code id="prediction_regression_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="prediction_regression_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="prediction_regression_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates - calculations to be done before
passing</p>
</td></tr>
<tr><td><code id="prediction_regression_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction in the case of
linear regression, false by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
datafile = system.file("extdata", "binary.csv", package = "packDAMipd")
mydata &lt;- read.csv(datafile)
results_logit &lt;- use_linear_regression("admit", dataset = mydata,
indep_var = "gre",covariates = NA,interaction = FALSE)
predict = prediction_regression("lm",results_logit$fit,
results_logit$fit$call, "admit",covariates = NA,"gre", FALSE )

</code></pre>

<hr>
<h2 id='promis3a_scoring.df'>promis 3a scoring table</h2><span id='topic+promis3a_scoring.df'></span>

<h3>Description</h3>

<p>promis 3a scoring table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>promis3a_scoring.df
</code></pre>


<h3>Format</h3>

<p>A 14 by 3 dataframe
</p>


<h3>Source</h3>

<p>created on April 08, 2021
</p>

<hr>
<h2 id='report_sensitivity_analysis'>Function to report deterministic sensitivity analysis</h2><span id='topic+report_sensitivity_analysis'></span>

<h3>Description</h3>

<p>Function to report deterministic sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report_sensitivity_analysis(
  result_dsa_control,
  result_dsa_treat = NULL,
  threshold = NULL,
  comparator = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="report_sensitivity_analysis_+3A_result_dsa_control">result_dsa_control</code></td>
<td>
<p>result from deterministic sensitivity analysis
for first or control model</p>
</td></tr>
<tr><td><code id="report_sensitivity_analysis_+3A_result_dsa_treat">result_dsa_treat</code></td>
<td>
<p>result from deterministic sensitivity analysis
for the comparative Markov model</p>
</td></tr>
<tr><td><code id="report_sensitivity_analysis_+3A_threshold">threshold</code></td>
<td>
<p>threshold value of WTP</p>
</td></tr>
<tr><td><code id="report_sensitivity_analysis_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>report in the form of a table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
param_list &lt;- define_parameters(
cost_zido = 2278, cost_direct_med_A = 1701,
cost_comm_care_A = 1055, cost_direct_med_B = 1774,
cost_comm_care_B = 1278,
cost_direct_med_C = 6948, cost_comm_care_C = 2059,
tpAtoA = 1251 / (1251 + 483),
tpAtoB = 350 / (350 + 1384), tpAtoC = 116 / (116 + 1618),
tpAtoD = 17 / (17 + 1717),
tpBtoB = 731 / (731 + 527), tpBtoC = 512 / (512 + 746),
tpBtoD = 15 / (15 + 1243),
tpCtoC = 1312 / (1312 + 437), tpCtoD = 437 / (437 + 1312),
tpDtoD = 1,
cost_health_A = "cost_direct_med_A +  cost_comm_care_A",
cost_health_B = "cost_direct_med_B +  cost_comm_care_B",
cost_health_C = "cost_direct_med_C +  cost_comm_care_C",
cost_drug = "cost_zido")
low_values &lt;- define_parameters(cost_direct_med_B = 177.4,
cost_comm_care_C = 205.9)
upp_values &lt;- define_parameters(cost_direct_med_B = 17740,
cost_comm_care_C = 20590)
A &lt;- health_state("A", cost = "cost_health_A +  cost_drug ", utility = 1)
B &lt;- health_state("B", cost = "cost_health_B + cost_drug", utility = 1)
C &lt;- health_state("C", cost = "cost_health_C + cost_drug", utility = 1)
D &lt;- health_state("D", cost = 0, utility = 0)
tmat &lt;- rbind(c(1, 2, 3, 4), c(NA, 5, 6, 7), c(NA, NA, 8, 9),
c(NA, NA, NA, 10))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("A", "B", "C", "D")
tm &lt;- populate_transition_matrix(4, tmat, c("tpAtoA", "tpAtoB", "tpAtoC",
"tpAtoD","tpBtoB", "tpBtoC", "tpBtoD", "tpCtoC", "tpCtoD", "tpDtoD"),
colnames(tmat))
health_states &lt;- combine_state(A, B, C, D)
mono_strategy &lt;- strategy(tm, health_states, "mono")
mono_markov &lt;- markov_model(mono_strategy, 20, c(1, 0, 0, 0),
discount = c(0.06, 0), param_list)
param_table &lt;- define_parameters_sens_anal(param_list, low_values,
upp_values)
result &lt;- do_sensitivity_analysis(mono_markov, param_table)
 reporting &lt;- report_sensitivity_analysis(result)
 
</code></pre>

<hr>
<h2 id='return_equal_liststring_col'>Function to get the subset of data compared to a string after
trimming the white spaces</h2><span id='topic+return_equal_liststring_col'></span>

<h3>Description</h3>

<p>Function to get the subset of data compared to a string after
trimming the white spaces
</p>


<h3>Usage</h3>

<pre><code class='language-R'>return_equal_liststring_col(col, the_data, list_str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="return_equal_liststring_col_+3A_col">col</code></td>
<td>
<p>the form of medication either tablet or patch</p>
</td></tr>
<tr><td><code id="return_equal_liststring_col_+3A_the_data">the_data</code></td>
<td>
<p>the data to be get the subset from</p>
</td></tr>
<tr><td><code id="return_equal_liststring_col_+3A_list_str">list_str</code></td>
<td>
<p>list of strings to be compared</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the subset data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>the_data &lt;- as.data.frame(cbind(c("one", "two"), c("a", "b")))
colnames(the_data) &lt;- c("name", "brand")
ans &lt;- return_equal_liststring_col(2, the_data, c("a", "cc"))
</code></pre>

<hr>
<h2 id='return_equal_liststring_listcol'>Function to get the subset of data compared to a string after
trimming the white spaces</h2><span id='topic+return_equal_liststring_listcol'></span>

<h3>Description</h3>

<p>Function to get the subset of data compared to a string after
trimming the white spaces
</p>


<h3>Usage</h3>

<pre><code class='language-R'>return_equal_liststring_listcol(col, the_data, list_str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="return_equal_liststring_listcol_+3A_col">col</code></td>
<td>
<p>the form of medication either tablet or patch</p>
</td></tr>
<tr><td><code id="return_equal_liststring_listcol_+3A_the_data">the_data</code></td>
<td>
<p>the data to be get the subset from</p>
</td></tr>
<tr><td><code id="return_equal_liststring_listcol_+3A_list_str">list_str</code></td>
<td>
<p>list of strings to be compared</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the subset data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>the_data &lt;- as.data.frame(cbind(c("one", "two"), c("tablet", "tablets"),
c("aa", "bb")))
colnames(the_data) &lt;- c("name", "brand_a", "xx")
ans &lt;- return_equal_liststring_listcol(2, the_data, c("tablet", "tablets"))
</code></pre>

<hr>
<h2 id='return_equal_str_col'>Function to get the subset of data compared to a string after
trimming the white spaces</h2><span id='topic+return_equal_str_col'></span>

<h3>Description</h3>

<p>Function to get the subset of data compared to a string after
trimming the white spaces
</p>


<h3>Usage</h3>

<pre><code class='language-R'>return_equal_str_col(col, the_data, the_str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="return_equal_str_col_+3A_col">col</code></td>
<td>
<p>the form of medication either tablet or patch</p>
</td></tr>
<tr><td><code id="return_equal_str_col_+3A_the_data">the_data</code></td>
<td>
<p>the data to be get the subset from</p>
</td></tr>
<tr><td><code id="return_equal_str_col_+3A_the_str">the_str</code></td>
<td>
<p>the string to be compared</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the subset data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>the_data &lt;- as.data.frame(cbind(c("one", "two"), c("a", "b")))
colnames(the_data) &lt;- c("name", "brand")
ans &lt;- return_equal_str_col(2, the_data, "a")
</code></pre>

<hr>
<h2 id='return0_if_not_null_na'>Function to return 0 if the param is not null or NA
trimming the white spaces</h2><span id='topic+return0_if_not_null_na'></span>

<h3>Description</h3>

<p>Function to return 0 if the param is not null or NA
trimming the white spaces
</p>


<h3>Usage</h3>

<pre><code class='language-R'>return0_if_not_null_na(param)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="return0_if_not_null_na_+3A_param">param</code></td>
<td>
<p>the form of medication either tablet or patch</p>
</td></tr>
</table>


<h3>Value</h3>

<p>zero or -1
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parame = NULL
ans &lt;- return0_if_not_null_na(parame)
parame = 1
ans &lt;- return0_if_not_null_na(parame)
</code></pre>

<hr>
<h2 id='set_var_state'>Set the attribute for the health state</h2><span id='topic+set_var_state'></span>

<h3>Description</h3>

<p>Set the attribute for the health state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_var_state(state, var, new_value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_var_state_+3A_state">state</code></td>
<td>
<p>object of class health state</p>
</td></tr>
<tr><td><code id="set_var_state_+3A_var">var</code></td>
<td>
<p>attribute of the health state</p>
</td></tr>
<tr><td><code id="set_var_state_+3A_new_value">new_value</code></td>
<td>
<p>new value to be assigned</p>
</td></tr>
</table>


<h3>Details</h3>

<p>After checking the given state is a health state
the value of the variable is set
if the value is not numeric, it is being parsed to form an expression
</p>


<h3>Value</h3>

<p>modified health state
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_var_state(health_state("IT", 100, 0.4, 0, FALSE), "cost", 1)
</code></pre>

<hr>
<h2 id='strategy'>Definition of strategy - or arm</h2><span id='topic+strategy'></span>

<h3>Description</h3>

<p>Definition of strategy - or arm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strategy(trans_mat, states, name, trans_cost = NULL, trans_util = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strategy_+3A_trans_mat">trans_mat</code></td>
<td>
<p>transition matrix</p>
</td></tr>
<tr><td><code id="strategy_+3A_states">states</code></td>
<td>
<p>health states</p>
</td></tr>
<tr><td><code id="strategy_+3A_name">name</code></td>
<td>
<p>name of the strategy</p>
</td></tr>
<tr><td><code id="strategy_+3A_trans_cost">trans_cost</code></td>
<td>
<p>values of costs if these are attached to transitions</p>
</td></tr>
<tr><td><code id="strategy_+3A_trans_util">trans_util</code></td>
<td>
<p>values of utility if these are attached to transitions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Defining strategy keeping all transition matrix, states and names
together to use in defining Markov model
</p>


<h3>Value</h3>

<p>object strategy
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c("Healthy", "Dead")
tm &lt;- populate_transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state("Healthy", 1, 1, 0, FALSE)
b &lt;- health_state("Dead", 1, 0.5, 0, FALSE)
states &lt;- combine_state(a, b)
strategy(tm, states, "intervention")
</code></pre>

<hr>
<h2 id='summary_plot_psa'>Function to summarise and plot probabilistic sensitivity analysis</h2><span id='topic+summary_plot_psa'></span>

<h3>Description</h3>

<p>Function to summarise and plot probabilistic sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_plot_psa(
  result_psa_params_control,
  result_psa_params_treat = NULL,
  threshold = NULL,
  comparator = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_plot_psa_+3A_result_psa_params_control">result_psa_params_control</code></td>
<td>
<p>result from probabilistic
sensitivity analysis for first or control model</p>
</td></tr>
<tr><td><code id="summary_plot_psa_+3A_result_psa_params_treat">result_psa_params_treat</code></td>
<td>
<p>result from probabilistic sensitivity
analysis for the comparative Markov model</p>
</td></tr>
<tr><td><code id="summary_plot_psa_+3A_threshold">threshold</code></td>
<td>
<p>threshold value of WTP</p>
</td></tr>
<tr><td><code id="summary_plot_psa_+3A_comparator">comparator</code></td>
<td>
<p>the strategy to be compared with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot of  sensitivity analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
param_list &lt;- define_parameters(
cost_direct_med_A = 1701,
cost_direct_med_B = 1774, tpAtoA = 0.2,
 tpAtoB = 0.5, tpAtoC = 0.3,
 tpBtoB = 0.3, tpBtoC = 0.7,
 tpCtoC = 1,cost_health_A = "cost_direct_med_A",
 cost_health_B = "cost_direct_med_B")
 sample_list &lt;- define_parameters(cost_direct_med_A = "gamma(mean = 1701,
 sd = sqrt(1701))")
 A &lt;- health_state("A", cost = "cost_health_A ", utility = 1)
 B &lt;- health_state("B", cost = "cost_health_B", utility = 1)
 C &lt;- health_state("C", cost = 0, utility = 0, absorb = "TRUE")
 tmat &lt;- rbind(c(1, 2, 3), c(NA, 4, 5), c(NA, NA, 6))
 colnames(tmat) &lt;- rownames(tmat) &lt;- c("A", "B", "C")
 tm &lt;- populate_transition_matrix(3, tmat, c(
 "tpAtoA", "tpAtoB", "tpAtoC",  "tpBtoB", "tpBtoC", "tpCtoC"),
 colnames(tmat))
 health_states &lt;- combine_state(A, B, C)
 mono_strategy &lt;- strategy(tm, health_states, "mono")
 mono_markov &lt;- markov_model(mono_strategy, 20, initial_state =c(1,0,0),
 discount = c(0.06, 0),param_list)
 param_table &lt;- define_parameters_psa(param_list, sample_list)
 result &lt;- do_psa(mono_markov, param_table, 3)
 result_plot &lt;- summary_plot_psa(result, NULL, NULL, NULL)
 param_list_comb &lt;- define_parameters(
 cost_direct_med_A = 1800, cost_direct_med_B = 1774, tpAtoA = 0.6,
 tpAtoB = 0.1, tpAtoC = 0.3,tpBtoB = 0.3, tpBtoC = 0.7,tpCtoC = 1,
 cost_health_A = "cost_direct_med_A",cost_health_B = "cost_direct_med_B")
 comb_strategy &lt;- strategy(tm, health_states, "comb")
 comb_markov &lt;- markov_model(comb_strategy, 20, c(1, 0, 0),
 discount = c(0.06, 0), param_list)
 param_table_comb &lt;- define_parameters_psa(param_list_comb, sample_list)
 result_comb &lt;- do_psa(comb_markov, param_table_comb, 3)
 summary_plot_psa(result, result_comb, 2000, "mono")
 
</code></pre>

<hr>
<h2 id='table_param.df'>Parameter table created</h2><span id='topic+table_param.df'></span>

<h3>Description</h3>

<p>Parameter table created
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_param.df
</code></pre>


<h3>Format</h3>

<p>A 11 by 2 dataframe
</p>


<h3>Source</h3>

<p>created on Jan 15, 2020
</p>

<hr>
<h2 id='trace_data.df'>Trace matrix</h2><span id='topic+trace_data.df'></span>

<h3>Description</h3>

<p>Trace matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trace_data.df
</code></pre>


<h3>Format</h3>

<p>A 11 by 2 dataframe
</p>


<h3>Source</h3>

<p>created on Nov 26, 2019 from
tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c(&quot;Healthy&quot;, &quot;Dead&quot;)
tm &lt;- transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state(&quot;Healthy&quot;, 1, 1, FALSE)
b &lt;- health_state(&quot;Dead&quot;, 1, 0, TRUE)
health_states &lt;- combine_state(a, b)
this.strategy &lt;- strategy(tm, health_states, &quot;intervention&quot;)
</p>

<hr>
<h2 id='transition_cost_util'>Create the the values of cost and utility while transition</h2><span id='topic+transition_cost_util'></span>

<h3>Description</h3>

<p>Create the the values of cost and utility while transition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transition_cost_util(
  no_states,
  tmat_cost_util,
  list_values,
  name_states = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transition_cost_util_+3A_no_states">no_states</code></td>
<td>
<p>number of the health states</p>
</td></tr>
<tr><td><code id="transition_cost_util_+3A_tmat_cost_util">tmat_cost_util</code></td>
<td>
<p>A transition matrix for the cost/utility
values in the format from the package 'mstate' use NA to indicate
if the value is zero</p>
</td></tr>
<tr><td><code id="transition_cost_util_+3A_list_values">list_values</code></td>
<td>
<p>list of probabilities as in the order of transitions
(row wise)</p>
</td></tr>
<tr><td><code id="transition_cost_util_+3A_name_states">name_states</code></td>
<td>
<p>names of the health states</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Similar to transition matrix but for denoting one time change
during transitions
</p>


<h3>Value</h3>

<p>value of the transition matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmat_cost &lt;- rbind(c(NA, 1), c(NA, NA))
colnames(tmat_cost) &lt;- rownames(tmat_cost) &lt;- c("Healthy", "Dead")
transition_cost_util(2, tmat_cost, list_values = c(500))
</code></pre>

<hr>
<h2 id='trial_data.df'>Example trial data</h2><span id='topic+trial_data.df'></span>

<h3>Description</h3>

<p>Example trial data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trial_data.df
</code></pre>


<h3>Format</h3>

<p>A 31 by 33 dataframe
</p>


<h3>Source</h3>

<p>created on Jan 15, 2020
</p>

<hr>
<h2 id='use_coxph_survival'>###########################################################################
Get the parameter values using the survival analysis using cox
proportional hazard</h2><span id='topic+use_coxph_survival'></span>

<h3>Description</h3>

<p>###########################################################################
Get the parameter values using the survival analysis using cox
proportional hazard
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_coxph_survival(
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  timevar_survival
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_coxph_survival_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_coxph_survival_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_coxph_survival_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_coxph_survival_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates - calculations to be done before passing</p>
</td></tr>
<tr><td><code id="use_coxph_survival_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis, default is NA
false by default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>plots baseline cumulative hazard function, survival function for
each covariate
while keeping the other fixed at the mean value
(using plot_survival_cox_covariates),
survival function for each combination of covariate using survfit (using
plot_return_survival_curve) and test for cox regression results
It also returns  risk relative to mean (predicted at mean value
of each covariate) along with the fit results coefficients,
SE of coefficients, summary, and analysis of deviance
</p>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::aml
surv_estimated &lt;- use_coxph_survival("status", data_for_survival, "x",
  covariates = NA, "time")


data_for_survival &lt;- survival::lung
surv_estimated &lt;- use_coxph_survival("status", data_for_survival, "sex",
  covariates = c("ph.ecog"), "time")

</code></pre>

<hr>
<h2 id='use_fh_survival'>###########################################################################
Get the parameter values using the survival analysis method FH</h2><span id='topic+use_fh_survival'></span>

<h3>Description</h3>

<p>###########################################################################
Get the parameter values using the survival analysis method FH
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_fh_survival(
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  timevar_survival
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_fh_survival_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_fh_survival_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_fh_survival_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_fh_survival_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates</p>
</td></tr>
<tr><td><code id="use_fh_survival_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis, default is NA</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is for survival analysis using FH.
This plots the cumulative survival function for each combination of covariate
If the covariate is numeric, R takes it as different levels.
The plot uses the returned list of survfit and extracts the time and the
strata from summary of the fit
(implemented in plot_return_survival_curve function)
</p>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::aml
surv_estimated &lt;- use_fh_survival("status", data_for_survival, "x",
  covariates = NA, "time"
)

</code></pre>

<hr>
<h2 id='use_fh2_survival'>############################################################################
Get the parameter values using the survival analysis using FH2 method</h2><span id='topic+use_fh2_survival'></span>

<h3>Description</h3>

<p>############################################################################
Get the parameter values using the survival analysis using FH2 method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_fh2_survival(
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  timevar_survival
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_fh2_survival_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_fh2_survival_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_fh2_survival_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_fh2_survival_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates</p>
</td></tr>
<tr><td><code id="use_fh2_survival_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis, default is NA
false by default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is for survival analysis using FH2.
This plots the cumulative survival function for each combination of covariate
If the covariate is numeric, R takes it as different levels.
The plot uses the returned list of survfit and extracts the time and
the strata from summary of the fit
(implemented in plot_return_survival_curve function)
</p>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::aml
surv_estimated &lt;- use_fh2_survival("status", data_for_survival, "x",
  covariates = NA, "time")

</code></pre>

<hr>
<h2 id='use_generalised_linear_mixed_model'>Function for generalised linear mixed model</h2><span id='topic+use_generalised_linear_mixed_model'></span>

<h3>Description</h3>

<p>Function for generalised linear mixed model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_generalised_linear_mixed_model(
  param_to_be_estimated,
  dataset,
  fix_eff,
  fix_eff_interact_vars,
  random_intercept_vars,
  nested_intercept_vars_pairs,
  cross_intercept_vars_pairs,
  uncorrel_slope_intercept_pairs,
  random_slope_intercept_pairs,
  family,
  link,
  package_mixed_model
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>column name of dependent variable</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_dataset">dataset</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_fix_eff">fix_eff</code></td>
<td>
<p>names of variables as fixed effect predictors</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_fix_eff_interact_vars">fix_eff_interact_vars</code></td>
<td>
<p>those of the fixed effect predictors that
show interaction</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_random_intercept_vars">random_intercept_vars</code></td>
<td>
<p>names of variables for random intercept</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_nested_intercept_vars_pairs">nested_intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with nested effect</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_cross_intercept_vars_pairs">cross_intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with crossed effect</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_uncorrel_slope_intercept_pairs">uncorrel_slope_intercept_pairs</code></td>
<td>
<p>variables with no
correlated intercepts</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_random_slope_intercept_pairs">random_slope_intercept_pairs</code></td>
<td>
<p>random slopes intercept pairs -
this is a list of paired variables</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_family">family</code></td>
<td>
<p>family of distributions for the response variable</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_link">link</code></td>
<td>
<p>link function for the variances</p>
</td></tr>
<tr><td><code id="use_generalised_linear_mixed_model_+3A_package_mixed_model">package_mixed_model</code></td>
<td>
<p>package to be used for mixed model</p>
</td></tr>
</table>


<h3>Value</h3>

<p>result regression result with plot if success and -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
datafile &lt;- system.file("extdata", "culcita_data.csv",
package = "packDAMipd")
dataset &lt;- read.csv(datafile)
results1 = use_generalised_linear_mixed_model("predation",
dataset = datafile,fix_eff = c("ttt"), family = "binomial",
fix_eff_interact_vars = NULL, random_intercept_vars = c("block"),
nested_intercept_vars_pairs = NULL, cross_intercept_vars_pairs = NULL,
uncorrel_slope_intercept_pairs = NULL, random_slope_intercept_pairs = NULL,
 link = NA, package_mixed_model = NA)
 
</code></pre>

<hr>
<h2 id='use_generalised_linear_model'>############################################################################
Get the parameter values using logistic regression</h2><span id='topic+use_generalised_linear_model'></span>

<h3>Description</h3>

<p>############################################################################
Get the parameter values using logistic regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_generalised_linear_model(
  param_to_be_estimated,
  dataset,
  indep_var,
  family,
  covariates,
  interaction,
  naaction,
  link = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_generalised_linear_model_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_generalised_linear_model_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_generalised_linear_model_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_generalised_linear_model_+3A_family">family</code></td>
<td>
<p>distribution name  eg. for logistic regression -binomial</p>
</td></tr>
<tr><td><code id="use_generalised_linear_model_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates-calculations to be done before passing</p>
</td></tr>
<tr><td><code id="use_generalised_linear_model_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction in the case of
linear regression</p>
</td></tr>
<tr><td><code id="use_generalised_linear_model_+3A_naaction">naaction</code></td>
<td>
<p>action to be taken with the missing values</p>
</td></tr>
<tr><td><code id="use_generalised_linear_model_+3A_link">link</code></td>
<td>
<p>link function if not the default for each family</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns the results and plots after doing linear regression
Requires param to be estimated, dataset, independent variables and
information on covariates, and interaction variables if there are
Uses form_expression_glm to create the expression as per R standard for
e.g glm(y ~ x ). Returns the fit result,s summary results as returned by
summary(), confidence interval for
fit coefficients (ci_coeff), variance covariance matrix, cholesky
decomposition matrix, results from correlation test, plot of diagnostic
tests and model fit  assumptions, plot of model prediction
diagnostic include AIC, R2, and BIC. The results of the prediction
ie predicted values for fixed other variables will be returned in
prediction matrix
</p>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gm_result &lt;- use_generalised_linear_model(
  param_to_be_estimated = "Direction",
  dataset = ISLR::Smarket, indep_var = "Lag1", family = "binomial",
  covariates = c("Lag2", "Lag3"),
  interaction = FALSE, naaction = "na.omit", link = NA)

</code></pre>

<hr>
<h2 id='use_km_survival'>###########################################################################
Get the parameter values using the Kaplan-Meier survival analysis</h2><span id='topic+use_km_survival'></span>

<h3>Description</h3>

<p>###########################################################################
Get the parameter values using the Kaplan-Meier survival analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_km_survival(
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  timevar_survival
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_km_survival_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_km_survival_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_km_survival_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_km_survival_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates</p>
</td></tr>
<tr><td><code id="use_km_survival_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis, default is NA</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is for survival analysis using Kaplan Meier.
This plots the cumulative survival function for each combination of covariate
If the covariate is numeric, R takes it as different levels.
The plot uses the returned list of survfit and extracts the time
and the strata from summary of the fit (implemented in
plot_return_survival_curve function)
</p>


<h3>Value</h3>

<p>the results of the regression analysis, fit results, summary and plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::aml
surv_estimated &lt;- use_km_survival("status", data_for_survival, "x",
  covariates = NA, "time")
  

data_for_survival &lt;- survival::lung
surv_estimated &lt;- use_km_survival("status", data_for_survival, "sex",
  covariates = c("ph.ecog"), "time")

</code></pre>

<hr>
<h2 id='use_linear_mixed_model'>Function for mixed effect regression</h2><span id='topic+use_linear_mixed_model'></span>

<h3>Description</h3>

<p>Function for mixed effect regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_linear_mixed_model(
  param_to_be_estimated,
  dataset,
  fix_eff,
  fix_eff_interact_vars,
  random_intercept_vars,
  nested_intercept_vars_pairs,
  cross_intercept_vars_pairs,
  uncorrel_slope_intercept_pairs,
  random_slope_intercept_pairs,
  package_mixed_model
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_linear_mixed_model_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>column name of dependent variable</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_dataset">dataset</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_fix_eff">fix_eff</code></td>
<td>
<p>names of variables as fixed effect predictors</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_fix_eff_interact_vars">fix_eff_interact_vars</code></td>
<td>
<p>those of the fixed effect predictors that
show interaction</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_random_intercept_vars">random_intercept_vars</code></td>
<td>
<p>names of variables for random intercept</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_nested_intercept_vars_pairs">nested_intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with nested effect</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_cross_intercept_vars_pairs">cross_intercept_vars_pairs</code></td>
<td>
<p>those of the random intercept variables
with crossed effect</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_uncorrel_slope_intercept_pairs">uncorrel_slope_intercept_pairs</code></td>
<td>
<p>variables with no correlated
intercepts</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_random_slope_intercept_pairs">random_slope_intercept_pairs</code></td>
<td>
<p>random slopes intercept pairs - this
is a list of paired variables</p>
</td></tr>
<tr><td><code id="use_linear_mixed_model_+3A_package_mixed_model">package_mixed_model</code></td>
<td>
<p>package to be used for mixed model</p>
</td></tr>
</table>


<h3>Value</h3>

<p>result regression result with plot if success and -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
datafile &lt;- system.file("extdata", "data_linear_mixed_model.csv",
package = "packDAMipd")
dataset = utils::read.table(datafile, header = TRUE, sep = ",",
na.strings = "NA",
dec = ".", strip.white = TRUE)
result &lt;- use_linear_mixed_model("extro",
  dataset = dataset,
  fix_eff = c("open", "agree", "social"), fix_eff_interact_vars = NULL,
  random_intercept_vars = c("school", "class"),
  nested_intercept_vars_pairs = list(c("school", "class")),
  cross_intercept_vars_pairs = NULL, uncorrel_slope_intercept_pairs = NULL,
  random_slope_intercept_pairs = NULL, package_mixed_model = NA)

</code></pre>

<hr>
<h2 id='use_linear_regression'>###########################################################################
Get the parameter values using the linear regression</h2><span id='topic+use_linear_regression'></span>

<h3>Description</h3>

<p>###########################################################################
Get the parameter values using the linear regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_linear_regression(
  param_to_be_estimated,
  dataset,
  indep_var,
  covariates,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_linear_regression_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_linear_regression_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_linear_regression_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_linear_regression_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates-calculations to be done before passing</p>
</td></tr>
<tr><td><code id="use_linear_regression_+3A_interaction">interaction</code></td>
<td>
<p>boolean value to indicate interaction in the case of
linear regression, false by default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns the results and plots after doing linear regression
Requires param to be estimated, dataset, independent variables and
information on covariates, and interaction variables if there are
Uses form_expression_lm to create the expression as per R standard
for e.g lm(y ~ x ). Returns the fit result,s summary results as returned by
summary(), confidence interval for fit coefficients (ci_coeff), variance
covariance matrix, cholesky decomposition matrix, Results from correlation
test, plot of diagnostic tests and model fit  assumptions, plot of model
prediction diagnostic include AIC, R2, and BIC. The results of the
prediction ie predicted values when each of covariate is fixed will be
returned in prediction matrix predicted values will provide the mean value
of param_to_to_estimated as calculated by the linear regression formula.
ref:https://www.statmethods.net/stats/regression.html
</p>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
results_lm &lt;- use_linear_regression("dist",
  dataset = cars,
  indep_var = "speed", covariates = NA, interaction = FALSE)


library(car)
results_lm &lt;- use_linear_regression("mpg",
  dataset = mtcars,
  indep_var = "disp", covariates = c("hp", "wt", "drat"),
  interaction = FALSE)

</code></pre>

<hr>
<h2 id='use_parametric_survival'>###########################################################################
Get the parameter values using the survival analysis parametric survival</h2><span id='topic+use_parametric_survival'></span>

<h3>Description</h3>

<p>###########################################################################
Get the parameter values using the survival analysis parametric survival
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_parametric_survival(
  param_to_be_estimated,
  dataset,
  indep_var,
  info_distribution,
  covariates,
  timevar_survival,
  cluster_var = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_parametric_survival_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_parametric_survival_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_parametric_survival_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_parametric_survival_+3A_info_distribution">info_distribution</code></td>
<td>
<p>distribution name  eg. for logistic
regression -binomial</p>
</td></tr>
<tr><td><code id="use_parametric_survival_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates</p>
</td></tr>
<tr><td><code id="use_parametric_survival_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis,
default is NA</p>
</td></tr>
<tr><td><code id="use_parametric_survival_+3A_cluster_var">cluster_var</code></td>
<td>
<p>cluster variable for survival analysis</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is the last in the layer of function for parametric
survival analysis. This then returns the parameters of interest, plots
the results etc if the distribution is weibull it uses the package
SurvRegCensCov for easy interpretation of results
Returns the fit result, summary of regression, variance-covariance
matrix of coeff, cholesky decomposition, the parameters that define the
assumed distribution and the plot of model prediction
Using survfit from survival package to plot the survival curve
R's weibull distribution is defined as std weibull in terms of a and b
as (a/b) (x/b)^ (a-1) exp((-x/b)^a) where a is the shape and b is the scale
In HE the weibull distribution is parameterised as bit different
it is like gamma.lambda. t^(gamma-1) .exp(-lambda*t^gamma) where
gamma is the shape and lambda is the scale. The relationship is as below.
HE_shape = rweibull_shape
HE_scale = rweibull_scale ^(-rweibull_shape)
The survreg shape and scale are again bit different and they are
rweibull's shape and scale as below.
rweibull_shape = 1/fit$scale
rweibull_scale = exp(fit intercept)= exp(fit$coefficients)
remember to use 1st of coefficients
This has been utilised in SurvRegCensCov::ConvertWeibull
predict() for survreg object with type =quantile will provide
the failure times as survival function is 1-CDF of failure time.
</p>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::lung
surv_estimated &lt;- use_parametric_survival("status",
data_for_survival, "sex", info_distribution = "weibull",
covariates = c("ph.ecog"), "time")

</code></pre>

<hr>
<h2 id='use_seemingly_unrelated_regression'>Bivariate regression for correlated observations</h2><span id='topic+use_seemingly_unrelated_regression'></span>

<h3>Description</h3>

<p>Bivariate regression for correlated observations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_seemingly_unrelated_regression(
  param1_to_be_estimated,
  param2_to_be_estimated,
  dataset,
  indep_var,
  covariates1,
  covariates2,
  interaction1,
  interaction2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_param1_to_be_estimated">param1_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_param2_to_be_estimated">param2_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_covariates1">covariates1</code></td>
<td>
<p>list of covariates - for equation 1</p>
</td></tr>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_covariates2">covariates2</code></td>
<td>
<p>list of covariates - for equation 2</p>
</td></tr>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_interaction1">interaction1</code></td>
<td>
<p>boolean value to indicate interaction - for equation 1</p>
</td></tr>
<tr><td><code id="use_seemingly_unrelated_regression_+3A_interaction2">interaction2</code></td>
<td>
<p>boolean value to indicate interaction - for equation 2
false by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
datafile &lt;- system.file("extdata", "sureg_data.csv", package = "packDAMipd")
dataset &lt;- read.csv(datafile, stringsAsFactors = TRUE)
results_sureg &lt;- use_seemingly_unrelated_regression("read", "math",
  dataset = dataset,
  indep_var = "female", covariates1 = c("as.numeric(ses)", "socst"),
  covariates2 = c("as.numeric(ses)", "science"), interaction1 = FALSE,
  interaction2 = FALSE
)

</code></pre>

<hr>
<h2 id='use_survival_analysis'>############################################################################
Get the parameter values using the survival analysis</h2><span id='topic+use_survival_analysis'></span>

<h3>Description</h3>

<p>############################################################################
Get the parameter values using the survival analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_survival_analysis(
  param_to_be_estimated,
  dataset,
  indep_var,
  info_get_method,
  info_distribution,
  covariates,
  timevar_survival,
  cluster_var = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_survival_analysis_+3A_param_to_be_estimated">param_to_be_estimated</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="use_survival_analysis_+3A_dataset">dataset</code></td>
<td>
<p>data set to be provided</p>
</td></tr>
<tr><td><code id="use_survival_analysis_+3A_indep_var">indep_var</code></td>
<td>
<p>the independent variable (column name in data file)</p>
</td></tr>
<tr><td><code id="use_survival_analysis_+3A_info_get_method">info_get_method</code></td>
<td>
<p>additional information on methods e.g
Kaplan-Meier ot hazard</p>
</td></tr>
<tr><td><code id="use_survival_analysis_+3A_info_distribution">info_distribution</code></td>
<td>
<p>distribution name  eg. for logistic
regression -binomial</p>
</td></tr>
<tr><td><code id="use_survival_analysis_+3A_covariates">covariates</code></td>
<td>
<p>list of covariates - calculations to be done
before passing</p>
</td></tr>
<tr><td><code id="use_survival_analysis_+3A_timevar_survival">timevar_survival</code></td>
<td>
<p>time variable for survival analysis,
default is NA</p>
</td></tr>
<tr><td><code id="use_survival_analysis_+3A_cluster_var">cluster_var</code></td>
<td>
<p>cluster variable for survival analysis</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function helps to get the parameter values after the survival analysis
Takes into account many different methods like KM.FH, Cox proportional etc.
and then calls appropriate functions to do the survival analysis
</p>


<h3>Value</h3>

<p>the results of the regression analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data_for_survival &lt;- survival::aml
surv_estimated_aml &lt;- use_survival_analysis("status", data_for_survival,
  "x",
  info_get_method = "parametric", info_distribution = "weibull",
  covariates = NA, "time")

</code></pre>

<hr>
<h2 id='utility_data.df'>utility matrix</h2><span id='topic+utility_data.df'></span>

<h3>Description</h3>

<p>utility matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utility_data.df
</code></pre>


<h3>Format</h3>

<p>A 11 by 2 dataframe
</p>


<h3>Source</h3>

<p>created on Nov 26, 2019 from
tmat &lt;- rbind(c(1, 2), c(3, 4))
colnames(tmat) &lt;- rownames(tmat) &lt;- c(&quot;Healthy&quot;, &quot;Dead&quot;)
tm &lt;- transition_matrix(2, tmat, c(0.5, 0.5, 0, 1))
a &lt;- health_state(&quot;Healthy&quot;, 1, 1, FALSE)
b &lt;- health_state(&quot;Dead&quot;, 1, 0, TRUE)
health_states &lt;- combine_state(a, b)
this.strategy &lt;- strategy(tm, health_states, &quot;intervention&quot;)
</p>

<hr>
<h2 id='value_ADL_scores_IPD'>Function to convert ADL scores to a T score</h2><span id='topic+value_ADL_scores_IPD'></span>

<h3>Description</h3>

<p>Function to convert ADL scores to a T score
</p>


<h3>Usage</h3>

<pre><code class='language-R'>value_ADL_scores_IPD(
  ind_part_data,
  adl_related_words,
  adl_nrcode,
  adl_scoring_table = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="value_ADL_scores_IPD_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>a data frame containing IPD data</p>
</td></tr>
<tr><td><code id="value_ADL_scores_IPD_+3A_adl_related_words">adl_related_words</code></td>
<td>
<p>related words to find out which columns
contain adl data</p>
</td></tr>
<tr><td><code id="value_ADL_scores_IPD_+3A_adl_nrcode">adl_nrcode</code></td>
<td>
<p>non response code for ADL</p>
</td></tr>
<tr><td><code id="value_ADL_scores_IPD_+3A_adl_scoring_table">adl_scoring_table</code></td>
<td>
<p>ADL scoring table, if given as NULL use
the default one</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ADL scores converted to T score included modified data, if
success -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datafile &lt;- system.file("extdata", "trial_data.csv", package = "packDAMipd")
trial_data &lt;- load_trial_data(datafile)
value_ADL_scores_IPD(trial_data,c("tpi"), NA, adl_scoring_table = NULL)
</code></pre>

<hr>
<h2 id='value_eq5d3L_IPD'>Function to add EQ5D3L scores to IPD data</h2><span id='topic+value_eq5d3L_IPD'></span>

<h3>Description</h3>

<p>Function to add EQ5D3L scores to IPD data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>value_eq5d3L_IPD(ind_part_data, eq5d_nrcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="value_eq5d3L_IPD_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="value_eq5d3L_IPD_+3A_eq5d_nrcode">eq5d_nrcode</code></td>
<td>
<p>non response code for EQ5D3L, default is NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>qaly included modified data, if success -1, if failure
</p>


<h3>Source</h3>

<p>http://eprints.whiterose.ac.uk/121473/1/Devlin_et_al-2017-Health_Economics.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datafile &lt;- system.file("extdata", "trial_data.csv", package = "packDAMipd")
trial_data &lt;- load_trial_data(datafile)
value_eq5d5L_IPD(trial_data, NA)
</code></pre>

<hr>
<h2 id='value_eq5d5L_IPD'>Function to add EQ5D5L scores to IPD data</h2><span id='topic+value_eq5d5L_IPD'></span>

<h3>Description</h3>

<p>Function to add EQ5D5L scores to IPD data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>value_eq5d5L_IPD(ind_part_data, eq5d_nrcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="value_eq5d5L_IPD_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="value_eq5d5L_IPD_+3A_eq5d_nrcode">eq5d_nrcode</code></td>
<td>
<p>non response code for EQ5D5L, default is NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>qaly included modified data, if success -1, if failure
</p>


<h3>Source</h3>

<p>http://eprints.whiterose.ac.uk/121473/1/Devlin_et_al-2017-Health_Economics.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datafile &lt;- system.file("extdata", "trial_data.csv", package = "packDAMipd")
trial_data &lt;- load_trial_data(datafile)
value_eq5d5L_IPD(trial_data, NA)
</code></pre>

<hr>
<h2 id='value_promis3a_scores_IPD'>Function to convert promis3a scores to a T score</h2><span id='topic+value_promis3a_scores_IPD'></span>

<h3>Description</h3>

<p>Function to convert promis3a scores to a T score
</p>


<h3>Usage</h3>

<pre><code class='language-R'>value_promis3a_scores_IPD(
  ind_part_data,
  promis3a_related_words,
  promis3a_nrcode,
  promis3a_scoring_table = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="value_promis3a_scores_IPD_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>a data frame containing IPD data</p>
</td></tr>
<tr><td><code id="value_promis3a_scores_IPD_+3A_promis3a_related_words">promis3a_related_words</code></td>
<td>
<p>related words to find out which columns
contain promis3a data</p>
</td></tr>
<tr><td><code id="value_promis3a_scores_IPD_+3A_promis3a_nrcode">promis3a_nrcode</code></td>
<td>
<p>non response code for promis3a</p>
</td></tr>
<tr><td><code id="value_promis3a_scores_IPD_+3A_promis3a_scoring_table">promis3a_scoring_table</code></td>
<td>
<p>promis3a scoring table, if given as NULL use
the default one</p>
</td></tr>
</table>


<h3>Value</h3>

<p>promis3a scores converted to T score included modified data, if
success -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trial_data &lt;- data.frame("tpi.q1" = c(1, 2),
"tpi.q2" = c(1, 2), "tpi.q3" = c(1, 2))
results &lt;- value_promis3a_scores_IPD(trial_data, c("tpi"), NA, NULL)
</code></pre>

<hr>
<h2 id='value_Shows_IPD'>Function to estimate the cost of tablets taken (from IPD)</h2><span id='topic+value_Shows_IPD'></span>

<h3>Description</h3>

<p>Function to estimate the cost of tablets taken (from IPD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>value_Shows_IPD(ind_part_data, shows_related_words, shows_nrcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="value_Shows_IPD_+3A_ind_part_data">ind_part_data</code></td>
<td>
<p>a data frame containing IPD</p>
</td></tr>
<tr><td><code id="value_Shows_IPD_+3A_shows_related_words">shows_related_words</code></td>
<td>
<p>a data frame containing IPD</p>
</td></tr>
<tr><td><code id="value_Shows_IPD_+3A_shows_nrcode">shows_nrcode</code></td>
<td>
<p>non response code for ADL, default is NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>sum of scores, if success -1, if failure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datafile &lt;- system.file("extdata", "trial_data.csv", package = "packDAMipd")
trial_data &lt;- load_trial_data(datafile)
value_Shows_IPD(trial_data, "qsy", NA)
</code></pre>

<hr>
<h2 id='word2num'>Function to check the variable null or NA</h2><span id='topic+word2num'></span>

<h3>Description</h3>

<p>Function to check the variable null or NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>word2num(word)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="word2num_+3A_word">word</code></td>
<td>
<p>word for the number</p>
</td></tr>
</table>


<h3>Details</h3>

<p>https://stackoverflow.com/questions/18332463/convert-written-number-to-number-in-r
</p>


<h3>Value</h3>

<p>return the number
</p>


<h3>Examples</h3>

<pre><code class='language-R'>answer &lt;- word2num("one forty one")
answer &lt;- word2num("forty one and five hundred")
answer &lt;- word2num("five thousand two hundred and eight")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package hexFinder</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hexFinder}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#catch'><p>Catches errors from a given expression. Can be used in a pipe.</p></a></li>
<li><a href='#check_known_packages'><p>Searches a list of known package hex links for a given package name</p></a></li>
<li><a href='#check_known_repos'><p>Searches a list of known package hex curated lists for a given package name</p></a></li>
<li><a href='#clean_repo_links'><p>Returns gitub repo links based on given URLs</p></a></li>
<li><a href='#crop_image'><p>Crops the empty space from a image</p></a></li>
<li><a href='#download_logo'><p>Download a logo image</p></a></li>
<li><a href='#find_hex'><p>Finds hex logos for given packages</p></a></li>
<li><a href='#generate_hex'><p>Generates a default logo for a package.</p></a></li>
<li><a href='#get_best_image'><p>Returns the best image path from a list of image paths</p></a></li>
<li><a href='#get_cran_info'><p>Returns CRAN information about a given package</p></a></li>
<li><a href='#get_endpoint_content'><p>Fetch the content of a endpoint. Multiple branches can be given, the content</p>
returned will also include which was the valid branch.</a></li>
<li><a href='#get_metacran_info'><p>Returns metacran information about a given package</p></a></li>
<li><a href='#get_possible_paths'><p>Search the given content for paths that match the constrains from</p>
ignore_patterns and logo_patterns.</a></li>
<li><a href='#keep_good_ratio_images'><p>Filters a list of image entries keeping images that might be a logo</p></a></li>
<li><a href='#locate_repo'><p>Finds the best repo for a given package</p></a></li>
<li><a href='#log'><p>Logs a given message.</p></a></li>
<li><a href='#scavenge'><p>Same as [find_hex], but with extra raccoons</p></a></li>
<li><a href='#search_repo_logo'><p>Searches a given github repo URL for the best hex logo image.</p></a></li>
<li><a href='#url_file_exists'><p>Checks if a given url is valid and available.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Find Hex Logos for CRAN Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Scavenge the web for possible hex logos for CRAN packages.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://pedrocsilva.com">https://pedrocsilva.com</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, hexSticker, tools, utils, methods, magick, glue,
jsonlite, pkgsearch, purrr, stringr, httr2</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>httptest2, testthat (&ge; 3.0.0), covr, rmarkdown, svglite,
knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-17 16:53:11 UTC; spark</td>
</tr>
<tr>
<td>Author:</td>
<td>Pedro Silva [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Pedro Silva &lt;pedrocoutinhosilva@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-17 17:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='catch'>Catches errors from a given expression. Can be used in a pipe.</h2><span id='topic+catch'></span>

<h3>Description</h3>

<p>Catches errors from a given expression. Can be used in a pipe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catch(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="catch_+3A_...">...</code></td>
<td>
<p>The expression to safely evaluate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of evaluating the expression or NULL in case of error.
</p>

<hr>
<h2 id='check_known_packages'>Searches a list of known package hex links for a given package name</h2><span id='topic+check_known_packages'></span>

<h3>Description</h3>

<p>Some packages have logos but are not tied to CRAN in any way. These are
stored as special cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_known_packages(
  pkg_name,
  known_packages = getOption("hexFinder.known_packages")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_known_packages_+3A_pkg_name">pkg_name</code></td>
<td>
<p>A single string with the name of a package to find
the hex for.</p>
</td></tr>
<tr><td><code id="check_known_packages_+3A_known_packages">known_packages</code></td>
<td>
<p>Named list with known hex locations for some packages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A URL that points to a image or NULL in no result was found.
</p>

<hr>
<h2 id='check_known_repos'>Searches a list of known package hex curated lists for a given package name</h2><span id='topic+check_known_repos'></span>

<h3>Description</h3>

<p>Some packages have logos already in curated repositories. This avoids
additional CRAN calls and returns high definition versions of the logos.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_known_repos(pkg_name, known_repos = getOption("hexFinder.known_repos"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_known_repos_+3A_pkg_name">pkg_name</code></td>
<td>
<p>A single string with the name of a package to find
the hex for.</p>
</td></tr>
<tr><td><code id="check_known_repos_+3A_known_repos">known_repos</code></td>
<td>
<p>Named list with known curated repos that store logos
for some packages. quality on these is usually higher that normal.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A URL that points to a image or NULL in no result was found.
</p>

<hr>
<h2 id='clean_repo_links'>Returns gitub repo links based on given URLs</h2><span id='topic+clean_repo_links'></span>

<h3>Description</h3>

<p>Returns gitub repo links based on given URLs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_repo_links(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_repo_links_+3A_...">...</code></td>
<td>
<p>Any links we would like to parse to find a github URL from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of possible github repos
</p>

<hr>
<h2 id='crop_image'>Crops the empty space from a image</h2><span id='topic+crop_image'></span>

<h3>Description</h3>

<p>Crops the empty space from a image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crop_image(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crop_image_+3A_path">path</code></td>
<td>
<p>The path of the image to crop.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return, called for side effects.
</p>

<hr>
<h2 id='download_logo'>Download a logo image</h2><span id='topic+download_logo'></span>

<h3>Description</h3>

<p>Downloads a given URL and stores it using the package name into
the specified output folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_logo(pkg_name, raw_url, output, crop = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_logo_+3A_pkg_name">pkg_name</code></td>
<td>
<p>The name of the file to save.</p>
</td></tr>
<tr><td><code id="download_logo_+3A_raw_url">raw_url</code></td>
<td>
<p>The image URL.</p>
</td></tr>
<tr><td><code id="download_logo_+3A_output">output</code></td>
<td>
<p>The Folder path where to store the download file.</p>
</td></tr>
<tr><td><code id="download_logo_+3A_crop">crop</code></td>
<td>
<p>Should empty space be removed from the final image file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path where the downloaded image was stored.
</p>

<hr>
<h2 id='find_hex'>Finds hex logos for given packages</h2><span id='topic+find_hex'></span>

<h3>Description</h3>

<p>Finds and downloads the best possible image that represents a hex logo for
a given list of package names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_hex(
  pkg_names,
  output = NULL,
  repo = NULL,
  skip_known_logos = FALSE,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_hex_+3A_pkg_names">pkg_names</code></td>
<td>
<p>A single string or a vector of strings with the names of
packages to find hexes for.</p>
</td></tr>
<tr><td><code id="find_hex_+3A_output">output</code></td>
<td>
<p>the output path where to store the found logos</p>
</td></tr>
<tr><td><code id="find_hex_+3A_repo">repo</code></td>
<td>
<p>The repo to use to find the package logo. If none is
provided, it will try to find one based on CRAN meta information.
Useful when we want to minimize API calls to CRAN.</p>
</td></tr>
<tr><td><code id="find_hex_+3A_skip_known_logos">skip_known_logos</code></td>
<td>
<p>Some logos are sourced from known repos or urls.
If set to TRUE, those locations will be skipped. Useful if you are getting
outdated versions of logos, but slower. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="find_hex_+3A_overwrite">overwrite</code></td>
<td>
<p>If a logo with the package name already exists in the
output folder, should it be overwritten. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return, called for side effects.
</p>

<hr>
<h2 id='generate_hex'>Generates a default logo for a package.</h2><span id='topic+generate_hex'></span>

<h3>Description</h3>

<p>Generates a generic logo for a package. IF the package is not on CRAN, a
different set of colors is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_hex(
  name,
  output,
  colors = c("#1881C2", "#87B13F"),
  fallback_colors = c("#a60000", "#360000")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_hex_+3A_name">name</code></td>
<td>
<p>The package to generate the logo for.</p>
</td></tr>
<tr><td><code id="generate_hex_+3A_output">output</code></td>
<td>
<p>the path to store the generated logo at.</p>
</td></tr>
<tr><td><code id="generate_hex_+3A_colors">colors</code></td>
<td>
<p>A vector of two valid colors. [1] for the fill and [2] for
the outline of the generated logo. Used if the package exists on CRAN.</p>
</td></tr>
<tr><td><code id="generate_hex_+3A_fallback_colors">fallback_colors</code></td>
<td>
<p>A vector of two valid colors. [1] for the fill and
[2] for the outline of the generated logo. Used if the package
does not exist on CRAN.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path to the generated logo image.
</p>

<hr>
<h2 id='get_best_image'>Returns the best image path from a list of image paths</h2><span id='topic+get_best_image'></span>

<h3>Description</h3>

<p>Returns the best image path from a list of image paths
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_best_image(paths, download_endpoint, branch)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_best_image_+3A_paths">paths</code></td>
<td>
<p>A list of path information.</p>
</td></tr>
<tr><td><code id="get_best_image_+3A_download_endpoint">download_endpoint</code></td>
<td>
<p>The download endpoint for the repo.</p>
</td></tr>
<tr><td><code id="get_best_image_+3A_branch">branch</code></td>
<td>
<p>The repo active branch.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single url path
</p>

<hr>
<h2 id='get_cran_info'>Returns CRAN information about a given package</h2><span id='topic+get_cran_info'></span>

<h3>Description</h3>

<p>Returns CRAN information about a given package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cran_info(pkg_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cran_info_+3A_pkg_name">pkg_name</code></td>
<td>
<p>A single string with the name of a package to find
the meta information for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with CRAN metadata about the package
</p>

<hr>
<h2 id='get_endpoint_content'>Fetch the content of a endpoint. Multiple branches can be given, the content
returned will also include which was the valid branch.</h2><span id='topic+get_endpoint_content'></span>

<h3>Description</h3>

<p>Fetch the content of a endpoint. Multiple branches can be given, the content
returned will also include which was the valid branch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_endpoint_content(endpoint, branchs = c("master", "main"), token = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_endpoint_content_+3A_endpoint">endpoint</code></td>
<td>
<p>The github endpoint to search.</p>
</td></tr>
<tr><td><code id="get_endpoint_content_+3A_branchs">branchs</code></td>
<td>
<p>The branches to search. Defaults to main and master.</p>
</td></tr>
<tr><td><code id="get_endpoint_content_+3A_token">token</code></td>
<td>
<p>A github personal access token. Defaults to none.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with the branch name and the repo content
</p>

<hr>
<h2 id='get_metacran_info'>Returns metacran information about a given package</h2><span id='topic+get_metacran_info'></span>

<h3>Description</h3>

<p>Returns metacran information about a given package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_metacran_info(pkg_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_metacran_info_+3A_pkg_name">pkg_name</code></td>
<td>
<p>A single string with the name of a package to find
the meta information for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with metadata information about the package
</p>

<hr>
<h2 id='get_possible_paths'>Search the given content for paths that match the constrains from
ignore_patterns and logo_patterns.</h2><span id='topic+get_possible_paths'></span>

<h3>Description</h3>

<p>Search the given content for paths that match the constrains from
ignore_patterns and logo_patterns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_possible_paths(content, logo_patterns, ignore_patterns, pkg_name = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_possible_paths_+3A_content">content</code></td>
<td>
<p>The result of calling get_endpoint_content() on a github repo.</p>
</td></tr>
<tr><td><code id="get_possible_paths_+3A_logo_patterns">logo_patterns</code></td>
<td>
<p>A regex string of patterns to accept.</p>
</td></tr>
<tr><td><code id="get_possible_paths_+3A_ignore_patterns">ignore_patterns</code></td>
<td>
<p>A regex string of patterns to ignore.</p>
</td></tr>
<tr><td><code id="get_possible_paths_+3A_pkg_name">pkg_name</code></td>
<td>
<p>A Name of the package to find logos for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of paths that match the given patterns
</p>

<hr>
<h2 id='keep_good_ratio_images'>Filters a list of image entries keeping images that might be a logo</h2><span id='topic+keep_good_ratio_images'></span>

<h3>Description</h3>

<p>Filters a list of image entries keeping images that might be a logo
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keep_good_ratio_images(paths, download_endpoint, branch)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keep_good_ratio_images_+3A_paths">paths</code></td>
<td>
<p>A list of path information</p>
</td></tr>
<tr><td><code id="keep_good_ratio_images_+3A_download_endpoint">download_endpoint</code></td>
<td>
<p>The download endpoint for the repo</p>
</td></tr>
<tr><td><code id="keep_good_ratio_images_+3A_branch">branch</code></td>
<td>
<p>The repo active branch</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of path information
</p>

<hr>
<h2 id='locate_repo'>Finds the best repo for a given package</h2><span id='topic+locate_repo'></span>

<h3>Description</h3>

<p>All CRAN packages have a cloned github repo that we can query for logos,
but CRAN only stores the actual content of the package file. By looking
at meta CRAN links we can try to find the original repo and use that one
instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>locate_repo(pkg_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="locate_repo_+3A_pkg_name">pkg_name</code></td>
<td>
<p>A single string with the name of a package to find
the repo for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A URL that points to a github repository.
</p>

<hr>
<h2 id='log'>Logs a given message.</h2><span id='topic+log'></span>

<h3>Description</h3>

<p>Logs a given message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>log(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="log_+3A_...">...</code></td>
<td>
<p>The message to log.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return, called for side effects.
</p>

<hr>
<h2 id='scavenge'>Same as [find_hex], but with extra raccoons</h2><span id='topic+scavenge'></span>

<h3>Description</h3>

<p>Same as [find_hex], but with extra raccoons
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scavenge(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scavenge_+3A_...">...</code></td>
<td>
<p>All arguments that can be passed to [find_hex].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return, called for side effects.
</p>

<hr>
<h2 id='search_repo_logo'>Searches a given github repo URL for the best hex logo image.</h2><span id='topic+search_repo_logo'></span>

<h3>Description</h3>

<p>Searches a given github repo URL for the best hex logo image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_repo_logo(
  pkg_name,
  repository,
  token = Sys.getenv("github_pat"),
  logo_patterns = getOption("hexFinder.logo_patterns"),
  ignore_patterns = getOption("hexFinder.ignore_patterns")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_repo_logo_+3A_pkg_name">pkg_name</code></td>
<td>
<p>The mane of the package we want the logo for.</p>
</td></tr>
<tr><td><code id="search_repo_logo_+3A_repository">repository</code></td>
<td>
<p>The github repository to search in.</p>
</td></tr>
<tr><td><code id="search_repo_logo_+3A_token">token</code></td>
<td>
<p>A github personal access token.
variable github_pat. If that variable is not set, you might run into API
limits when running too many queries.</p>
</td></tr>
<tr><td><code id="search_repo_logo_+3A_logo_patterns">logo_patterns</code></td>
<td>
<p>String of valid name.extension file names for files to
look for, separated by |. pkg_name can be used as a placeholder for
the package name.</p>
</td></tr>
<tr><td><code id="search_repo_logo_+3A_ignore_patterns">ignore_patterns</code></td>
<td>
<p>String of patterns to ignore when looking for a valid
logo. Can be part of the filename or part of the file path.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A URL to a image or NULL if no image was found
</p>

<hr>
<h2 id='url_file_exists'>Checks if a given url is valid and available.</h2><span id='topic+url_file_exists'></span>

<h3>Description</h3>

<p>Checks if a given url is valid and available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url_file_exists(url, status_ok = 200)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url_file_exists_+3A_url">url</code></td>
<td>
<p>The resource url to check.</p>
</td></tr>
<tr><td><code id="url_file_exists_+3A_status_ok">status_ok</code></td>
<td>
<p>The list of valid header statuses.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of evaluating the expression or NULL in case of error.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package retroharmonize</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {retroharmonize}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#as_factor'><p>Convert labelled_spss_survey vector To Factor</p></a></li>
<li><a href='#as_labelled_spss_survey'><p>Labelled to labelled_spss_survey</p></a></li>
<li><a href='#collect_val_labels'><p>Collect labels from metadata file</p></a></li>
<li><a href='#concatenate'><p>Concatenate haven_labelled_spss vectors</p></a></li>
<li><a href='#convert_to_labelled_spss'><p>Convert to haven_labelled_spss</p></a></li>
<li><a href='#create_codebook'><p>Create a codebook</p></a></li>
<li><a href='#document_survey_item'><p>Document survey item harmonization</p></a></li>
<li><a href='#document_waves'><p>Document survey lists</p></a></li>
<li><a href='#harmonize_na_values'><p>Harmonize na_values in haven_labelled_spss</p></a></li>
<li><a href='#harmonize_values'><p>Harmonize the values and labels of labelled vectors</p></a></li>
<li><a href='#harmonize_var_names'><p>Harmonize the variable names of surveys</p></a></li>
<li><a href='#harmonize_waves'><p>Harmonize waves</p></a></li>
<li><a href='#here'><p>Here</p></a></li>
<li><a href='#label_normalize'><p>Normalize value and variable labels</p></a></li>
<li><a href='#labelled_spss_survey'><p>Labelled vectors for multiple SPSS surveys</p></a></li>
<li><a href='#merge_waves'><p>Merge waves</p></a></li>
<li><a href='#metadata_create'><p>Create a metadata table</p></a></li>
<li><a href='#metadata_initialize'><p>Initialize a metadata data frame</p></a></li>
<li><a href='#na_range_to_values'><p>Harmonize user-defined missing value ranges</p></a></li>
<li><a href='#pull_survey'><p>Pull a survey from a survey list</p></a></li>
<li><a href='#read_dta'><p>Read Stata DTA files ('.dta') files</p></a></li>
<li><a href='#read_rds'><p>Read survey from rds file</p></a></li>
<li><a href='#read_spss'><p>Read SPSS ('.sav', '.zsav', '.por') files. Write '.sav' and '.zsav' files.</p></a></li>
<li><a href='#read_surveys'><p>Read Survey Files</p></a></li>
<li><a href='#retroharmonize'><p>retroharmonize: Retrospective harmonization of survey data files</p></a></li>
<li><a href='#subset_save_surveys'><p>Subset and Save Surveys</p></a></li>
<li><a href='#subset_waves'><p>Subset all surveys in a wave</p></a></li>
<li><a href='#suggest_permanent_names'><p>Suggest permanent names</p></a></li>
<li><a href='#suggest_var_names'><p>Suggest variable names</p></a></li>
<li><a href='#survey'><p>Survey data frame</p></a></li>
<li><a href='#validate_harmonize_labels'><p>Validate harmonize_labels parameter</p>
Check if &quot;from&quot;, &quot;to&quot;, and &quot;numeric_values&quot; are of equal lengths.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Ex Post Survey Data Harmonization</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-11-02</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Antal &lt;daniel.antal@ceemid.eu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Assist in reproducible retrospective (ex-post) harmonization
    of data, particularly individual level survey data, by providing tools
    for organizing metadata, standardizing the coding of variables, and
    variable names and value labels, including missing values, and
    documenting the data transformations, with the help of comprehensive
    s3 classes.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://retroharmonize.dataobservatory.eu/">https://retroharmonize.dataobservatory.eu/</a>,
<a href="https://ropengov.github.io/retroharmonize/">https://ropengov.github.io/retroharmonize/</a>,
<a href="https://github.com/rOpenGov/retroharmonize">https://github.com/rOpenGov/retroharmonize</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rOpenGov/retroharmonize/issues">https://github.com/rOpenGov/retroharmonize/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, dplyr (&ge; 1.0.0), fs, glue, haven, here, labelled,
magrittr, methods, pillar, purrr, rlang, snakecase, stats,
stringr, tibble, tidyr, tidyselect, utils, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, knitr, markdown, png, rmarkdown, spelling,
testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>http://ropengov.org/</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>ropengov</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-02 16:55:53 UTC; Daniel Antal</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Antal <a href="https://orcid.org/0000-0001-7513-6760"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Marta Kolczynska <a href="https://orcid.org/0000-0003-4981-0437"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Pyry Kantanen <a href="https://orcid.org/0000-0003-2853-2765"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Diego Hernang√≥mez Herrero
    <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-02 22:20:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='as_factor'>Convert labelled_spss_survey vector To Factor</h2><span id='topic+as_factor'></span>

<h3>Description</h3>

<p>Convert a <code><a href="#topic+labelled_spss_survey">labelled_spss_survey</a></code> vector to a type 
of factor. Keeps only the <code>levels</code> and <code>class</code> attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_factor(x, levels = "default", ordered = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_factor_+3A_x">x</code></td>
<td>
<p>Object to coerce to a factor.</p>
</td></tr>
<tr><td><code id="as_factor_+3A_levels">levels</code></td>
<td>
<p>How to create the levels of the generated factor:
</p>

<ul>
<li><p> &quot;default&quot;: uses labels where available, otherwise the values.
Labels are sorted by value.
</p>
</li>
<li><p> &quot;both&quot;: like &quot;default&quot;, but pastes together the level and value
</p>
</li>
<li><p> &quot;label&quot;: use only the labels; unlabelled values become <code>NA</code>
</p>
</li>
<li><p> &quot;values: use only the values
</p>
</li></ul>
</td></tr>
<tr><td><code id="as_factor_+3A_ordered">ordered</code></td>
<td>
<p>If <code>TRUE</code> create an ordered (ordinal) factor, if
<code>FALSE</code> (the default) create a regular (nominal) factor.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code>as_factor</code> is imported from <code>haven::<a href="haven.html#topic+as_factor">as_factor</a></code>
</p>

<hr>
<h2 id='as_labelled_spss_survey'>Labelled to labelled_spss_survey</h2><span id='topic+as_labelled_spss_survey'></span>

<h3>Description</h3>

<p>Labelled to labelled_spss_survey
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_labelled_spss_survey(x, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_labelled_spss_survey_+3A_x">x</code></td>
<td>
<p>A vector of class haven_labelled or haven_labelled_spss.</p>
</td></tr>
<tr><td><code id="as_labelled_spss_survey_+3A_id">id</code></td>
<td>
<p>The survey identifier.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of labelled_spss_survey
</p>


<h3>See Also</h3>

<p>Other type conversion functions: 
<code><a href="#topic+labelled_spss_survey">labelled_spss_survey</a>()</code>
</p>

<hr>
<h2 id='collect_val_labels'>Collect labels from metadata file</h2><span id='topic+collect_val_labels'></span><span id='topic+collect_na_labels'></span>

<h3>Description</h3>

<p>Collect labels from metadata file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collect_val_labels(metadata)

collect_na_labels(metadata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collect_val_labels_+3A_metadata">metadata</code></td>
<td>
<p>A metadata data frame created by 
<code><a href="#topic+metadata_create">metadata_create</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The unique valid labels or the user-defined missing 
labels found in all the files analyzed in <code>metadata</code>.
</p>


<h3>See Also</h3>

<p>Other harmonization functions: 
<code><a href="#topic+harmonize_na_values">harmonize_na_values</a>()</code>,
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_var_names">harmonize_var_names</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a>()</code>,
<code><a href="#topic+suggest_var_names">suggest_var_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_survey &lt;- retroharmonize::read_rds (
   file = system.file("examples", "ZA7576.rds",
                  package = "retroharmonize"), 
   id = "test"
)
example_metadata &lt;- metadata_create (test_survey)

collect_val_labels (metadata = example_metadata )
collect_na_labels ( metadata = example_metadata )
</code></pre>

<hr>
<h2 id='concatenate'>Concatenate haven_labelled_spss vectors</h2><span id='topic+concatenate'></span>

<h3>Description</h3>

<p>Concatenate haven_labelled_spss vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>concatenate(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="concatenate_+3A_x">x</code></td>
<td>
<p>A haven_labelled_spss vector.</p>
</td></tr>
<tr><td><code id="concatenate_+3A_y">y</code></td>
<td>
<p>A haven_labelled_spss vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A concatenated haven_labelled_spss vector. Returns an error
if the attributes do not match. Gives a warning when only the variable
label do not match.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>v1 &lt;- labelled::labelled(
c(3,4,4,3,8, 9),
c(YES = 3, NO = 4, `WRONG LABEL` = 8, REFUSED = 9)
)
v2 &lt;- labelled::labelled(
  c(4,3,3,9),
  c(YES = 3, NO = 4, `WRONG LABEL` = 8, REFUSED = 9)
)
s1 &lt;- haven::labelled_spss(
  x = unclass(v1),         # remove labels from earlier defined
  labels = labelled::val_labels(v1), # use the labels from earlier defined
  na_values = NULL,
  na_range = 8:9,
  label = "Variable Example"
)

s2 &lt;- haven::labelled_spss(
  x = unclass(v2),         # remove labels from earlier defined
  labels = labelled::val_labels(v2), # use the labels from earlier defined
  na_values = NULL,
  na_range = 8:9,
  label = "Variable Example"
)
concatenate (s1,s2)
</code></pre>

<hr>
<h2 id='convert_to_labelled_spss'>Convert to haven_labelled_spss</h2><span id='topic+convert_to_labelled_spss'></span>

<h3>Description</h3>

<p>Convert to haven_labelled_spss
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_to_labelled_spss(x, na_labels = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_to_labelled_spss_+3A_x">x</code></td>
<td>
<p>A vector</p>
</td></tr>
<tr><td><code id="convert_to_labelled_spss_+3A_na_labels">na_labels</code></td>
<td>
<p>A named vector of missing values, defaults to
<code>c( "inap" = "inap")</code> for character vectors and
<code>c( 99999 = "inap")</code> for numeric vectors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A haven_labelled_spss vector
</p>

<hr>
<h2 id='create_codebook'>Create a codebook</h2><span id='topic+create_codebook'></span><span id='topic+codebook_waves_create'></span>

<h3>Description</h3>

<p>Create a codebook from one or more survey data files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_codebook(metadata = NULL, survey = NULL)

codebook_waves_create(waves)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_codebook_+3A_metadata">metadata</code></td>
<td>
<p>A metadata table created by <code><a href="#topic+metadata_create">metadata_create</a></code>. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="create_codebook_+3A_survey">survey</code></td>
<td>
<p>A survey data frame, defaults to <code>NULL</code>. If the survey is
given as parameter, the metadata will be set to the metadata of this particular
survey by <code><a href="#topic+metadata_create">metadata_create</a></code>.</p>
</td></tr>
<tr><td><code id="create_codebook_+3A_waves">waves</code></td>
<td>
<p>A list of surveys.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For a list of survey waves, use <code>codebook_waves_create</code>.
The returned codebook contains only labelled variables, i.e., numeric and
character types are not included, because they do not require coding.
</p>


<h3>Value</h3>

<p>A codebook for the survey as a data frame, including the metadata, and all found 
SPSS-type valid or missing labels.
</p>


<h3>See Also</h3>

<p>Other metadata functions: 
<code><a href="#topic+metadata_create">metadata_create</a>()</code>
</p>
<p>Other metadata functions: 
<code><a href="#topic+metadata_create">metadata_create</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>create_codebook (
 survey = read_rds (
          system.file("examples", "ZA7576.rds",
                      package = "retroharmonize")
          )
)

examples_dir &lt;- system.file("examples", package = "retroharmonize")
survey_list &lt;- dir(examples_dir)[grepl("\\.rds", dir(examples_dir))]

example_surveys &lt;- read_surveys(
  file.path( examples_dir, survey_list), 
  save_to_rds = FALSE)     

codebook_waves_create (example_surveys)

</code></pre>

<hr>
<h2 id='document_survey_item'>Document survey item harmonization</h2><span id='topic+document_survey_item'></span>

<h3>Description</h3>

<p>Document the current and historic coding and labelling of the 
variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>document_survey_item(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="document_survey_item_+3A_x">x</code></td>
<td>
<p>A labelled_spss_survey vector from a single survey
or concatenated from several surveys.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of the current and historic coding, labelling
of the valid range and missing values or range, the history of the 
variable names and the history of the survey IDs.
</p>


<h3>See Also</h3>

<p>Other documentation functions: 
<code><a href="#topic+document_waves">document_waves</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>var1 &lt;- labelled::labelled_spss(
x = c(1,0,1,1,0,8,9), 
labels = c("TRUST" = 1, 
           "NOT TRUST" = 0, 
           "DON'T KNOW" = 8, 
           "INAP. HERE" = 9), 
na_values = c(8,9))

var2 &lt;- labelled::labelled_spss(
  x = c(2,2,8,9,1,1 ), 
  labels = c("Tend to trust" = 1, 
             "Tend not to trust" = 2, 
             "DK" = 8, 
             "Inap" = 9), 
  na_values = c(8,9))

h1 &lt;- harmonize_values (
  x = var1, 
  harmonize_label = "Do you trust the European Union?",
harmonize_labels = list ( 
    from = c("^tend\\sto|^trust", "^tend\\snot|not\\strust", "^dk|^don", "^inap"), 
    to = c("trust", "not_trust", "do_not_know", "inap"),
  numeric_values = c(1,0,99997, 99999)), 
na_values = c("do_not_know" = 99997,
              "inap" = 99999), 
  id = "survey1",
)

h2 &lt;- harmonize_values (
  x = var2, 
  harmonize_label = "Do you trust the European Union?",
  harmonize_labels = list ( 
    from = c("^tend\\sto|^trust", "^tend\\snot|not\\strust", "^dk|^don", "^inap"), 
    to = c("trust", "not_trust", "do_not_know", "inap"),
    numeric_values = c(1,0,99997, 99999)), 
  na_values = c("do_not_know" = 99997,
                "inap" = 99999), 
  id = "survey2"
)

h3 &lt;- concatenate(h1, h2) 
document_survey_item(h3)
</code></pre>

<hr>
<h2 id='document_waves'>Document survey lists</h2><span id='topic+document_waves'></span>

<h3>Description</h3>

<p>Document the key attributes surveys in a survey list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>document_waves(survey_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="document_waves_+3A_survey_list">survey_list</code></td>
<td>
<p>A list of <code><a href="#topic+survey">survey</a></code> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame with the key attributes of the surveys 
in a survey list: the name of the data file, the number of rows and 
columns, and the size of the object as stored in memory.
</p>


<h3>See Also</h3>

<p>Other documentation functions: 
<code><a href="#topic+document_survey_item">document_survey_item</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>examples_dir &lt;- system.file( "examples", package = "retroharmonize")
                        
my_rds_files &lt;- dir( examples_dir)[grepl(".rds", 
                                   dir(examples_dir))]

example_surveys &lt;- read_surveys(file.path(examples_dir, my_rds_files))
 
waves_document &lt;- document_waves(example_surveys)

attr(waves_document, "original_list" )
waves_document
</code></pre>

<hr>
<h2 id='harmonize_na_values'>Harmonize na_values in haven_labelled_spss</h2><span id='topic+harmonize_na_values'></span>

<h3>Description</h3>

<p>Harmonize na_values in haven_labelled_spss
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonize_na_values(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonize_na_values_+3A_df">df</code></td>
<td>
<p>A data frame that contains haven_labelled_spss vectors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble where the na_values are consistent
</p>


<h3>See Also</h3>

<p>Other harmonization functions: 
<code><a href="#topic+collect_val_labels">collect_val_labels</a>()</code>,
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_var_names">harmonize_var_names</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a>()</code>,
<code><a href="#topic+suggest_var_names">suggest_var_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
examples_dir &lt;- system.file(
    "examples", package = "retroharmonize"
    )

test_read &lt;- read_rds ( 
     file.path(examples_dir, "ZA7576.rds"),
     id = "ZA7576", 
     doi = "test_doi")

harmonize_na_values(test_read)

</code></pre>

<hr>
<h2 id='harmonize_values'>Harmonize the values and labels of labelled vectors</h2><span id='topic+harmonize_values'></span>

<h3>Description</h3>

<p>Harmonize the values and labels of labelled vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonize_values(
  x,
  harmonize_label = NULL,
  harmonize_labels = NULL,
  na_values = c(do_not_know = 99997, declined = 99998, inap = 99999),
  na_range = NULL,
  id = "survey_id",
  name_orig = NULL,
  remove = NULL,
  perl = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonize_values_+3A_x">x</code></td>
<td>
<p>A labelled vector</p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_harmonize_label">harmonize_label</code></td>
<td>
<p>A character vector of 1L containing the new,
harmonize variable label. Defaults to <code>NULL</code>, in which case 
it uses the variable label of <code>x</code>, unless it is also <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_harmonize_labels">harmonize_labels</code></td>
<td>
<p>A list of harmonization values</p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_na_values">na_values</code></td>
<td>
<p>A named vector of <code>na_values</code>, the 
observations that are defined to be treated as missing in 
the SPSS-style coding.</p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_na_range">na_range</code></td>
<td>
<p>A min, max range of  <code>na_range</code>, the 
continuous missing value range. In most surveys this should be left 
<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_id">id</code></td>
<td>
<p>A survey ID, defaults to <code>survey_id</code></p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_name_orig">name_orig</code></td>
<td>
<p>The original name of the variable. If left <code>NULL</code>
it uses the latest name of the object <code>x</code>.</p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_remove">remove</code></td>
<td>
<p>Defaults to <code>NULL</code>.  A character or regex that will be removed from all
old value labels, like <code>"\("|\)</code> for ( and ).</p>
</td></tr>
<tr><td><code id="harmonize_values_+3A_perl">perl</code></td>
<td>
<p>Use perl-like regex? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A labelled vector that contains in its metadata attributes
the original labelling, the original numeric coding and the current
labelling, with the numerical values representing the harmonized
coding.
</p>


<h3>See Also</h3>

<p>Other variable label harmonization functions: 
<code><a href="#topic+harmonize_waves">harmonize_waves</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+na_range_to_values">na_range_to_values</a>()</code>
</p>
<p>Other harmonization functions: 
<code><a href="#topic+collect_val_labels">collect_val_labels</a>()</code>,
<code><a href="#topic+harmonize_na_values">harmonize_na_values</a>()</code>,
<code><a href="#topic+harmonize_var_names">harmonize_var_names</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a>()</code>,
<code><a href="#topic+suggest_var_names">suggest_var_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>var1 &lt;- labelled::labelled_spss(
  x = c(1,0,1,1,0,8,9), 
  labels = c("TRUST" = 1, 
             "NOT TRUST" = 0, 
             "DON'T KNOW" = 8, 
             "INAP. HERE" = 9), 
  na_values = c(8,9))

harmonize_values (
  var1, 
  harmonize_labels = list ( 
    from = c("^tend\\sto|^trust", "^tend\\snot|not\\strust", "^dk|^don", "^inap"), 
    to = c("trust", "not_trust", "do_not_know", "inap"),
    numeric_values = c(1,0,99997, 99999)), 
    na_values = c("do_not_know" = 99997,
                "inap" = 99999), 
    id = "survey_id"
)
</code></pre>

<hr>
<h2 id='harmonize_var_names'>Harmonize the variable names of surveys</h2><span id='topic+harmonize_var_names'></span>

<h3>Description</h3>

<p>The function harmonizes the variable names of surveys (of class <code>survey</code>) that 
are imported from an external file as a wave.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonize_var_names(
  waves,
  metadata,
  old = "var_name_orig",
  new = "var_name_suggested",
  rowids = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonize_var_names_+3A_waves">waves</code></td>
<td>
<p>A list of surveys imported with <code><a href="#topic+read_surveys">read_surveys</a></code>.</p>
</td></tr>
<tr><td><code id="harmonize_var_names_+3A_metadata">metadata</code></td>
<td>
<p>A metadata table created by <code>metadata_create</code> and binded together for 
all surveys in <code>waves</code>.</p>
</td></tr>
<tr><td><code id="harmonize_var_names_+3A_old">old</code></td>
<td>
<p>The column name in <code>metadata</code> that contains the old, not harmonized variable names.</p>
</td></tr>
<tr><td><code id="harmonize_var_names_+3A_new">new</code></td>
<td>
<p>The column name in <code>metadata</code> that contains the new, harmonized variable names.</p>
</td></tr>
<tr><td><code id="harmonize_var_names_+3A_rowids">rowids</code></td>
<td>
<p>Rename var labels of original vars <code>rowid</code> to simply <code>uniqid</code>?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the <code>metadata</code> that contains subsetting information is subsetted, then 
it will subset the surveys in 
<code>waves</code>.
</p>


<h3>Value</h3>

<p>The list of surveys with harmonized variable names.
</p>


<h3>See Also</h3>

<p>Other harmonization functions: 
<code><a href="#topic+collect_val_labels">collect_val_labels</a>()</code>,
<code><a href="#topic+harmonize_na_values">harmonize_na_values</a>()</code>,
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a>()</code>,
<code><a href="#topic+suggest_var_names">suggest_var_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>examples_dir &lt;- system.file("examples", package = "retroharmonize")
survey_list &lt;- dir(examples_dir)[grepl("\\.rds", dir(examples_dir))]

example_surveys &lt;- read_surveys(
  file.path( examples_dir, survey_list), 
  save_to_rds = FALSE)
metadata &lt;- lapply ( X = example_surveys, FUN = metadata_create )
metadata &lt;- do.call(rbind, metadata)

metadata$var_name_suggested &lt;- label_normalize(metadata$var_name)

metadata$var_name_suggested[metadata$label_orig == "age education"] &lt;- "age_education"

harmonize_var_names(waves = example_surveys, 
                    metadata = metadata )
</code></pre>

<hr>
<h2 id='harmonize_waves'>Harmonize waves</h2><span id='topic+harmonize_waves'></span>

<h3>Description</h3>

<p>Harmonize the values of surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonize_waves(waves, .f, status_message = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonize_waves_+3A_waves">waves</code></td>
<td>
<p>A list of surveys</p>
</td></tr>
<tr><td><code id="harmonize_waves_+3A_.f">.f</code></td>
<td>
<p>A function to apply for the harmonization.</p>
</td></tr>
<tr><td><code id="harmonize_waves_+3A_status_message">status_message</code></td>
<td>
<p>Defaults to <code>FALSE</code>. If set to <code>TRUE</code>
it shows the id of the survey that is being joined.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions binds together variables
that are all present in the surveys, and applies a 
harmonization function <code>.f</code> on them.
</p>


<h3>Value</h3>

<p>A natural full join of all surveys in a single data frame.
</p>


<h3>See Also</h3>

<p>Other variable label harmonization functions: 
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+na_range_to_values">na_range_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
examples_dir &lt;- system.file("examples", package = "retroharmonize")
survey_list &lt;- dir(examples_dir)[grepl("\\.rds", dir(examples_dir))]

example_surveys &lt;- read_surveys(
  file.path( examples_dir, survey_list), 
  save_to_rds = FALSE)

metadata &lt;- lapply ( X = example_surveys, FUN = metadata_create )
metadata &lt;- do.call(rbind, metadata)

to_harmonize &lt;- metadata %&gt;%
  dplyr::filter ( var_name_orig %in% 
                  c("rowid", "w1") |
                  grepl("trust ", label_orig ) ) %&gt;%
  dplyr::mutate ( var_label = var_label_normalize(label_orig)) %&gt;%
  dplyr::mutate ( var_name = val_label_normalize(var_label))

harmonize_eb_trust &lt;- function(x) {
  label_list &lt;- list(
    from = c("^tend\\snot", "^cannot", "^tend\\sto", "^can\\srely",
             "^dk", "^inap", "na"), 
   to = c("not_trust", "not_trust", "trust", "trust",
           "do_not_know", "inap", "inap"), 
    numeric_values = c(0,0,1,1, 99997,99999,99999)
  )
  
  harmonize_values(x, 
                   harmonize_labels = label_list, 
                   na_values = c("do_not_know"=99997,
                                 "declined"=99998,
                                 "inap"=99999)
                   )
}

merged_surveys &lt;- merge_waves ( example_surveys, var_harmonization = to_harmonize  )

harmonized &lt;- harmonize_waves(waves = merged_surveys, 
                              .f = harmonize_eb_trust,
                              status_message = FALSE)
                              
# For details see Afrobarometer and Eurobarometer Case Study vignettes.

</code></pre>

<hr>
<h2 id='here'>Here</h2><span id='topic+here'></span>

<h3>Description</h3>

<p>A utility to make sure the system files of the package and other 
files are always found, regardless if they are in an example or 
vignette context.
</p>


<h3>Details</h3>

<p>See <code>here::<a href="here.html#topic+here">here</a></code> for details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dir (here( "inst", "examples"))
</code></pre>

<hr>
<h2 id='label_normalize'>Normalize value and variable labels</h2><span id='topic+label_normalize'></span><span id='topic+var_label_normalize'></span><span id='topic+val_label_normalize'></span>

<h3>Description</h3>

<p><code>label_normalize</code> removes special characters, whitespace, 
and other typical typing errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_normalize(x)

var_label_normalize(x)

val_label_normalize(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_normalize_+3A_x">x</code></td>
<td>
<p>A character vector of labels to be normalized.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>var_label_normalize</code> changes the vector to snake_case.
<code>val_label_normalize</code> removes possible chunks from question
identifiers.
</p>
<p>The functions <code>var_label_normalize</code> and 
<code>val_label_normalize</code> may 
be differently implemented for various survey series.
</p>


<h3>See Also</h3>

<p>Other variable label harmonization functions: 
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_waves">harmonize_waves</a>()</code>,
<code><a href="#topic+na_range_to_values">na_range_to_values</a>()</code>
</p>
<p>Other harmonization functions: 
<code><a href="#topic+collect_val_labels">collect_val_labels</a>()</code>,
<code><a href="#topic+harmonize_na_values">harmonize_na_values</a>()</code>,
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_var_names">harmonize_var_names</a>()</code>,
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a>()</code>,
<code><a href="#topic+suggest_var_names">suggest_var_names</a>()</code>
</p>
<p>Other harmonization functions: 
<code><a href="#topic+collect_val_labels">collect_val_labels</a>()</code>,
<code><a href="#topic+harmonize_na_values">harmonize_na_values</a>()</code>,
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_var_names">harmonize_var_names</a>()</code>,
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a>()</code>,
<code><a href="#topic+suggest_var_names">suggest_var_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>label_normalize (
c("Don't know", " TRUST", "DO NOT  TRUST", 
  "inap in Q.3", "Not 100%", "TRUST &lt; 50%", 
  "TRUST &gt;=90%", "Verify &amp; Check", "TRUST 99%+"))
 
 var_label_normalize ( 
      c("Q1_Do you trust the national government?", 
        " Do you trust the European Commission")
        )

  val_label_normalize ( 
      c("Q1_Do you trust the national government?", 
        " Do you trust the European Commission")
        )
</code></pre>

<hr>
<h2 id='labelled_spss_survey'>Labelled vectors for multiple SPSS surveys</h2><span id='topic+labelled_spss_survey'></span><span id='topic+as_character'></span><span id='topic+is.labelled_spss_survey'></span><span id='topic+as_numeric'></span>

<h3>Description</h3>

<p>This class is amending <code>haven::<a href="haven.html#topic+labelled_spss">labelled_spss</a></code> with a unique object
identifier <code>id</code> to make later binding or joining 
reproducible and well-documented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labelled_spss_survey(
  x = double(),
  labels = NULL,
  na_values = NULL,
  na_range = NULL,
  label = NULL,
  id = NULL,
  name_orig = NULL
)

as_character(x)

is.labelled_spss_survey(x)

as_numeric(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labelled_spss_survey_+3A_x">x</code></td>
<td>
<p>A vector to label. Must be either numeric (integer or double) or
character.</p>
</td></tr>
<tr><td><code id="labelled_spss_survey_+3A_labels">labels</code></td>
<td>
<p>A named vector or <code>NULL</code>. The vector should be the same type
as <code>x</code>. Unlike factors, labels don't need to be exhaustive: only a fraction
of the values might be labelled.</p>
</td></tr>
<tr><td><code id="labelled_spss_survey_+3A_na_values">na_values</code></td>
<td>
<p>A vector of values that should also be considered as missing.</p>
</td></tr>
<tr><td><code id="labelled_spss_survey_+3A_na_range">na_range</code></td>
<td>
<p>A numeric vector of length two giving the (inclusive) extents
of the range. Use <code>-Inf</code> and <code>Inf</code> if you want the range to be
open ended.</p>
</td></tr>
<tr><td><code id="labelled_spss_survey_+3A_label">label</code></td>
<td>
<p>A short, human-readable description of the vector.</p>
</td></tr>
<tr><td><code id="labelled_spss_survey_+3A_id">id</code></td>
<td>
<p>Survey ID</p>
</td></tr>
<tr><td><code id="labelled_spss_survey_+3A_name_orig">name_orig</code></td>
<td>
<p>The original name of the variable. If left <code>NULL</code>
it uses the latest name of the object <code>x</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It inherits many methods from labelled, but uses more strict
coercion and validation rules.
</p>


<h3>See Also</h3>

<p>as_factor
</p>
<p>Other type conversion functions: 
<code><a href="#topic+as_labelled_spss_survey">as_labelled_spss_survey</a>()</code>
</p>
<p>Other type conversion functions: 
<code><a href="#topic+as_labelled_spss_survey">as_labelled_spss_survey</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1 &lt;- labelled_spss_survey(
  1:10, c(Good = 1, Bad = 8), 
  na_values = c(9, 10), 
  id = "survey1")
  
is.na(x1)

# Print data and metadata 
print(x1)

x2 &lt;- labelled_spss_survey( 1:10, 
 labels  = c(Good = 1, Bad = 8), 
 na_range = c(9, Inf),
 label = "Quality rating", 
 id = "survey1")


is.na(x2)

# Print data and metadata
x2
</code></pre>

<hr>
<h2 id='merge_waves'>Merge waves</h2><span id='topic+merge_waves'></span>

<h3>Description</h3>

<p>Merge a list of surveys into a list with harmonized variable names,
variable labels and survey identifiers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_waves(waves, var_harmonization)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_waves_+3A_waves">waves</code></td>
<td>
<p>A list of surveys</p>
</td></tr>
<tr><td><code id="merge_waves_+3A_var_harmonization">var_harmonization</code></td>
<td>
<p>Metadata of surveys, including at least
<code>filename</code>, <code>var_name_orig</code>, <code>var_name</code>, <code>var_label</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of surveys with harmonized names and variable labels.
</p>


<h3>See Also</h3>

<p>survey
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
examples_dir &lt;- system.file("examples", package = "retroharmonize")
survey_list &lt;- dir(examples_dir)[grepl("\\.rds", dir(examples_dir))]

example_surveys &lt;- read_surveys(
  file.path( examples_dir, survey_list), 
  save_to_rds = FALSE)
    
metadata &lt;- metadata_waves_create(example_surveys)
 
to_harmonize &lt;- metadata %&gt;%
  dplyr::filter ( var_name_orig %in% 
                  c("rowid", "w1") |
                  grepl("trust ", label_orig ) ) %&gt;%
  dplyr::mutate ( var_label = var_label_normalize(label_orig) ) %&gt;%
  dplyr::mutate ( var_name = val_label_normalize(var_label) )

merge_waves ( example_surveys, to_harmonize )

</code></pre>

<hr>
<h2 id='metadata_create'>Create a metadata table</h2><span id='topic+metadata_create'></span><span id='topic+metadata_waves_create'></span>

<h3>Description</h3>

<p>Create a metadata table from the survey data files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata_create(survey)

metadata_waves_create(survey_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadata_create_+3A_survey">survey</code></td>
<td>
<p>A survey data frame.</p>
</td></tr>
<tr><td><code id="metadata_create_+3A_survey_list">survey_list</code></td>
<td>
<p>A list containing surveys of class survey.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data frame like tibble ojbect is returned. 
In case you are working with a list of surveys (waves), call 
<code><a href="#topic+metadata_waves_create">metadata_waves_create</a></code>, which is a wrapper around 
a list of  <code><a href="#topic+metadata_create">metadata_create</a></code> calls.
</p>
<p>The structure of the returned tibble:
</p>

<dl>
<dt>filename</dt><dd><p>The original file name; if present; <code>missing</code>, if a non-<code><a href="#topic+survey">survey</a></code> data frame is used as input <code>survey</code>.</p>
</dd>
<dt>id</dt><dd><p>The ID of the survey, if present; <code>missing</code>, if a non-<code><a href="#topic+survey">survey</a></code> data frame is used as input <code>survey</code>.</p>
</dd>
<dt>var_name_orig</dt><dd><p>The original variable name in SPSS.</p>
</dd>
<dt>class_orig</dt><dd><p>The original variable class after importing with<code><a href="haven.html#topic+read_spss">read_spss</a></code>.</p>
</dd>
<dt>label_orig</dt><dd><p>The original variable label in SPSS.</p>
</dd>
<dt>labels</dt><dd><p>A list of the value labels.</p>
</dd>
<dt>valid_labels</dt><dd><p>A list of the value labels that are not marked as missing values.</p>
</dd>
<dt>na_labels</dt><dd><p>A list of the value labels that refer to user-defined missing values.</p>
</dd>
<dt>na_range</dt><dd><p>An optional range of a continuous missing range, if present in the vector.</p>
</dd>
<dt>n_labels</dt><dd><p>Number of categories or unique levels, which may be different from the sum of missing and category labels.</p>
</dd>
<dt>n_valid_labels</dt><dd><p>Number of categories in the non-missing range.</p>
</dd>
<dt>n_na_labels</dt><dd><p>Number of categories of the variable, should be the sum of the former two.</p>
</dd>
<dt>na_levels</dt><dd><p>A list of the user-defined missing values.</p>
</dd>
</dl>



<h3>Value</h3>

<p>A nested data frame with metadata and the range of 
labels, na_values and the na_range itself.
</p>


<h3>See Also</h3>

<p>Other metadata functions: 
<code><a href="#topic+create_codebook">create_codebook</a>()</code>
</p>
<p>Other metadata functions: 
<code><a href="#topic+create_codebook">create_codebook</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metadata_create (
 survey = read_rds (
          system.file("examples", "ZA7576.rds",
                      package = "retroharmonize")
          )
)
examples_dir &lt;- system.file( "examples", package = "retroharmonize")

my_rds_files &lt;- dir( examples_dir)[grepl(".rds", 
                                        dir(examples_dir))]

example_surveys &lt;- read_surveys(file.path(examples_dir, my_rds_files))
metadata_waves_create (example_surveys)
</code></pre>

<hr>
<h2 id='metadata_initialize'>Initialize a metadata data frame</h2><span id='topic+metadata_initialize'></span>

<h3>Description</h3>

<p>Initialize a metadata data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata_initialize(filename, id)
</code></pre>


<h3>Value</h3>

<p>A nested data frame with metadata and the range of 
labels, na_values and the na_range itself.
</p>

<hr>
<h2 id='na_range_to_values'>Harmonize user-defined missing value ranges</h2><span id='topic+na_range_to_values'></span><span id='topic+is.na_range_to_values'></span>

<h3>Description</h3>

<p>Harmonize the <code>na_values</code> attribute with 
<code>na_range</code>, if the latter is present.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>na_range_to_values(x)

is.na_range_to_values(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="na_range_to_values_+3A_x">x</code></td>
<td>
<p>A labelled_spss or labelled_spss_survey vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>na_range_to_values()</code> tests if the function needs to be 
called for <code>na_values</code> harmonization. The <code>na_range</code>
is often missing and less likely to cause logical problems 
when joining survey answers.
</p>


<h3>Value</h3>

<p>A <code>x</code> with harmonized <code>na_values</code> and 
<code>na_range</code> attributes.
If <code>min(na_values)</code> or <code>max(na_values)</code> than the left- and 
right-hand value of <code>na_range</code>, it gives a warning and adjusts
the original <code>na_range</code>.
</p>


<h3>See Also</h3>

<p>Other variable label harmonization functions: 
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_waves">harmonize_waves</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>var1 &lt;- labelled::labelled_spss(
  x = c(1,0,1,1,0,8,9), 
  labels = c("TRUST" = 1, 
             "NOT TRUST" = 0, 
             "DON'T KNOW" = 8, 
             "INAP. HERE" = 9), 
na_range = c(8,12))
  
na_range_to_values(var1)
as_numeric(na_range_to_values(var1))
as_character(na_range_to_values(var1))
</code></pre>

<hr>
<h2 id='pull_survey'>Pull a survey from a survey list</h2><span id='topic+pull_survey'></span>

<h3>Description</h3>

<p>Pull a survey by survey code or id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pull_survey(survey_list, id = NULL, filename = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pull_survey_+3A_survey_list">survey_list</code></td>
<td>
<p>A list of surveys</p>
</td></tr>
<tr><td><code id="pull_survey_+3A_id">id</code></td>
<td>
<p>The id of the requested survey. If <code>NULL</code> use 
<code>filename</code></p>
</td></tr>
<tr><td><code id="pull_survey_+3A_filename">filename</code></td>
<td>
<p>The filename of the requested survey.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single survey identified by <code>id</code> or <code>filename</code>.
</p>


<h3>See Also</h3>

<p>Other import functions: 
<code><a href="#topic+read_dta">read_dta</a>()</code>,
<code><a href="#topic+read_rds">read_rds</a>()</code>,
<code><a href="#topic+read_spss">read_spss</a>()</code>,
<code><a href="#topic+read_surveys">read_surveys</a>()</code>,
<code><a href="#topic+subset_save_surveys">subset_save_surveys</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>examples_dir &lt;- system.file( "examples", package = "retroharmonize")

my_rds_files &lt;- dir( examples_dir)[grepl(".rds", 
                                   dir(examples_dir))]

example_surveys &lt;- read_surveys(
    file.path(examples_dir, my_rds_files) )

pull_survey(example_surveys, id = "ZA5913")
</code></pre>

<hr>
<h2 id='read_dta'>Read Stata DTA files ('.dta') files</h2><span id='topic+read_dta'></span>

<h3>Description</h3>

<p>This is a wrapper around <code>haven::<a href="haven.html#topic+read_dta">read_dta</a></code> 
with some exception handling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_dta(file, id = NULL, filename = NULL, doi = NULL, .name_repair = "unique")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_dta_+3A_file">file</code></td>
<td>
<p>A STATA file.</p>
</td></tr>
<tr><td><code id="read_dta_+3A_id">id</code></td>
<td>
<p>An identifier of the tibble, if omitted, defaults to the
file name.</p>
</td></tr>
<tr><td><code id="read_dta_+3A_filename">filename</code></td>
<td>
<p>An import file name.</p>
</td></tr>
<tr><td><code id="read_dta_+3A_doi">doi</code></td>
<td>
<p>An optional document object identifier.</p>
</td></tr>
<tr><td><code id="read_dta_+3A_.name_repair">.name_repair</code></td>
<td>
<p>Defaults to <code>"unique"</code> See 
<code>tibble::<a href="tibble.html#topic+as_tibble">as_tibble</a></code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'read_dta()' reads both '.dta'  files.
</p>
<p>The funcion is not yet tested.
</p>


<h3>Value</h3>

<p>A tibble.
</p>
<p>Variable labels are stored in the &quot;label&quot; attribute of each variable.
It is not printed on the console, but the RStudio viewer will show it.
</p>
<p>'write_sav()' returns the input 'data' invisibly.
</p>


<h3>See Also</h3>

<p>Other import functions: 
<code><a href="#topic+pull_survey">pull_survey</a>()</code>,
<code><a href="#topic+read_rds">read_rds</a>()</code>,
<code><a href="#topic+read_spss">read_spss</a>()</code>,
<code><a href="#topic+read_surveys">read_surveys</a>()</code>,
<code><a href="#topic+subset_save_surveys">subset_save_surveys</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
path &lt;- system.file("examples", "iris.dta", package = "haven")
read_dta(path)

</code></pre>

<hr>
<h2 id='read_rds'>Read survey from rds file</h2><span id='topic+read_rds'></span>

<h3>Description</h3>

<p>Read survey from rds file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_rds(file, id = NULL, filename = NULL, doi = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_rds_+3A_file">file</code></td>
<td>
<p>A re-saved survey, imported with <code>haven::<a href="haven.html#topic+read_spss">read_spss</a></code></p>
</td></tr>
<tr><td><code id="read_rds_+3A_id">id</code></td>
<td>
<p>An identifier of the tibble, if omitted, defaults to the
file name.</p>
</td></tr>
<tr><td><code id="read_rds_+3A_filename">filename</code></td>
<td>
<p>An import file name.</p>
</td></tr>
<tr><td><code id="read_rds_+3A_doi">doi</code></td>
<td>
<p>An optional document object identifier.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble, data frame variant with survey attributes.
</p>


<h3>See Also</h3>

<p>Other import functions: 
<code><a href="#topic+pull_survey">pull_survey</a>()</code>,
<code><a href="#topic+read_dta">read_dta</a>()</code>,
<code><a href="#topic+read_spss">read_spss</a>()</code>,
<code><a href="#topic+read_surveys">read_surveys</a>()</code>,
<code><a href="#topic+subset_save_surveys">subset_save_surveys</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path &lt;-  system.file("examples", "ZA7576.rds", package = "retroharmonize")
read_survey &lt;- read_rds(path)
attr(read_survey, "id")
attr(read_survey, "filename")
attr(read_survey, "doi") 
</code></pre>

<hr>
<h2 id='read_spss'>Read SPSS ('.sav', '.zsav', '.por') files. Write '.sav' and '.zsav' files.</h2><span id='topic+read_spss'></span>

<h3>Description</h3>

<p>This is a wrapper around <code>haven::<a href="haven.html#topic+read_spss">read_spss</a></code> 
with some exception handling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_spss(
  file,
  user_na = TRUE,
  id = NULL,
  filename = NULL,
  doi = NULL,
  .name_repair = "unique"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_spss_+3A_file">file</code></td>
<td>
<p>An SPSS file.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_user_na">user_na</code></td>
<td>
<p>Should user-defined na_values be imported? Defaults
to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_id">id</code></td>
<td>
<p>An identifier of the tibble, if omitted, defaults to the
file name.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_filename">filename</code></td>
<td>
<p>An import file name.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_doi">doi</code></td>
<td>
<p>An optional document object identifier.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_.name_repair">.name_repair</code></td>
<td>
<p>Defaults to <code>"unique"</code> See 
<code>tibble::<a href="tibble.html#topic+as_tibble">as_tibble</a></code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'read_sav()' reads both '.sav' and '.zsav' files; 'write_sav()' creates
'.zsav' files when 'compress = TRUE'. 'read_por()' reads '.por' files.
'read_spss()' uses either 'read_por()' or 'read_sav()' based on the
file extension.
</p>
<p>When the SPSS file has columns which are of class labelled, but have no labels,
they are read as numeric or character vectors.
</p>


<h3>Value</h3>

<p>A tibble.
</p>
<p>Variable labels are stored in the &quot;label&quot; attribute of each variable.
It is not printed on the console, but the RStudio viewer will show it.
</p>
<p>'write_sav()' returns the input 'data' invisibly.
</p>


<h3>See Also</h3>

<p>Other import functions: 
<code><a href="#topic+pull_survey">pull_survey</a>()</code>,
<code><a href="#topic+read_dta">read_dta</a>()</code>,
<code><a href="#topic+read_rds">read_rds</a>()</code>,
<code><a href="#topic+read_surveys">read_surveys</a>()</code>,
<code><a href="#topic+subset_save_surveys">subset_save_surveys</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
path &lt;- system.file("examples", "iris.sav", package = "haven")
haven::read_sav(path)

tmp &lt;- tempfile(fileext = ".sav")
haven::write_sav(mtcars, tmp)
haven::read_sav(tmp)

</code></pre>

<hr>
<h2 id='read_surveys'>Read Survey Files</h2><span id='topic+read_surveys'></span>

<h3>Description</h3>

<p>Import surveys into a list. Adds filename as a constant to each
element of the list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_surveys(import_file_names, .f = "read_rds", save_to_rds = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_surveys_+3A_import_file_names">import_file_names</code></td>
<td>
<p>A vector of file names to import.</p>
</td></tr>
<tr><td><code id="read_surveys_+3A_.f">.f</code></td>
<td>
<p>A function to import the surveys with.
Defaults to <code>'read_rds'</code>. For SPSS files,
<code>read_spss</code> is recommended, which is a
well-parameterized version of <code><a href="haven.html#topic+read_spss">read_spss</a></code> that
saves some metadata, too.</p>
</td></tr>
<tr><td><code id="read_surveys_+3A_save_to_rds">save_to_rds</code></td>
<td>
<p>Should it save the imported survey to .rds?
Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions handle exceptions with wrong filenames and not readable 
files. If I file cannot be read, a warning is given, and empty survey is added to the 
the list in the place of this file.
</p>


<h3>Value</h3>

<p>A list of the surveys.  Each element of the list is a data
frame-like <code><a href="#topic+survey">survey</a></code> type object where some metadata, 
such as the original file name, doi identifier if present, and other
information is recorded for a reproducible workflow.
</p>


<h3>See Also</h3>

<p>survey
</p>
<p>Other import functions: 
<code><a href="#topic+pull_survey">pull_survey</a>()</code>,
<code><a href="#topic+read_dta">read_dta</a>()</code>,
<code><a href="#topic+read_rds">read_rds</a>()</code>,
<code><a href="#topic+read_spss">read_spss</a>()</code>,
<code><a href="#topic+subset_save_surveys">subset_save_surveys</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>file1 &lt;- system.file(
    "examples", "ZA7576.rds", package = "retroharmonize")
file2 &lt;- system.file(
    "examples", "ZA5913.rds", package = "retroharmonize")

read_surveys (c(file1,file2), .f = 'read_rds' )
</code></pre>

<hr>
<h2 id='retroharmonize'>retroharmonize: Retrospective harmonization of survey data files</h2><span id='topic+retroharmonize'></span>

<h3>Description</h3>

<p>The goal of <code>retroharmonize</code> is to facilitate retrospective (ex-post) 
harmonization of data, particularly survey data, in a reproducible manner. 
The package provides tools for organizing the metadata, standardizing the 
coding of variables, variable names and value labels, including missing 
values, and for documenting all transformations, with the help of 
comprehensive S3 classes.
</p>


<h3>import functions</h3>

<p>Read data stored in formats with rich metadata, such as SPSS (.sav) files, 
and make them usable in a programmatic context.<br /> 
<code><a href="#topic+read_spss">read_spss</a></code>: read an SPSS file and record metadata for reproducibility<br /> 
<code><a href="#topic+read_rds">read_rds</a></code>: read an rds file and record metadata for reproducibility<br /> 
<code><a href="#topic+read_surveys">read_surveys</a></code>: programmatically read a list of surveys<br /> 
<code><a href="#topic+subset_save_surveys">subset_save_surveys</a></code>: programmatically read a list of surveys, 
and subset them (pre-harmonize the same variables.)<br /> 
<code><a href="#topic+pull_survey">pull_survey</a></code>: pull a single survey from a survey list.<br />
</p>


<h3>variable name harmonization functions</h3>

<p><code><a href="#topic+label_normalize">label_normalize</a></code> removes special characters, whitespace, 
and other typical typing errors and helps the uniformization of labels
and variable names.<br />
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a></code>: Suggest the use of variable naming conventions.
</p>


<h3>variable label harmonization functions</h3>

<p>Create consistent coding and labelling.<br /> 
<code><a href="#topic+create_codebook">create_codebook</a></code>: Create a codebook from the original SPSS variable codes and labels.<br />
<code><a href="#topic+harmonize_values">harmonize_values</a></code>: Harmonize the label list across surveys.<br />
<code><a href="#topic+harmonize_waves">harmonize_waves</a></code>: Create a list of surveys with harmonized value labels.<br />
<code><a href="#topic+na_range_to_values">na_range_to_values</a></code>: Make the <code>na_range</code> attributes,
as imported from SPSS, consistent with the <code>na_values</code> attributes.<br />
</p>


<h3>survey harmonization functions</h3>

<p><code><a href="#topic+merge_waves">merge_waves</a></code>: Create a list of surveys with harmonized names and variable labels.<br />
</p>


<h3>documentation functions</h3>

<p><code><a href="#topic+metadata_create">metadata_create</a></code> and <code><a href="#topic+metadata_waves_create">metadata_waves_create</a></code><br /> 
<code><a href="#topic+create_codebook">create_codebook</a></code> and <code><a href="#topic+codebook_waves_create">codebook_waves_create</a></code>
</p>
<p>Make the workflow reproducible by recording the harmonization process.
<code><a href="#topic+document_survey_item">document_survey_item</a></code>: Returns a list of the current and historic coding, 
labelling of the valid range and missing values or range, the history of the variable names 
and the history of the survey IDs.
<code><a href="#topic+document_waves">document_waves</a></code>: Document the key attributes surveys in a survey list.
</p>


<h3>type conversion functions</h3>

<p>Consistently treat labels and SPSS-style user-defined missing 
values in the R language.
<code><a href="#topic+survey">survey</a></code> helps constructing a valid survey data frame, and
<code><a href="#topic+labelled_spss_survey">labelled_spss_survey</a></code> helps creating a vector for a 
questionnaire item.
<code><a href="#topic+as_numeric">as_numeric</a></code>: convert to numeric values.<br />
<code><a href="#topic+as_factor">as_factor</a></code>: convert to labels to factor levels.<br />
<code><a href="#topic+as_character">as_character</a></code>: convert to labels to characters.<br />
<code><a href="#topic+as_labelled_spss_survey">as_labelled_spss_survey</a></code>: convert labelled and labelled_spss
vectors to labelled_spss_survey vectors.<br />
</p>

<hr>
<h2 id='subset_save_surveys'>Subset and Save Surveys</h2><span id='topic+subset_save_surveys'></span>

<h3>Description</h3>

<p>Read a predefined survey list and variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subset_save_surveys(
  var_harmonization,
  selection_name = "trust",
  import_path = "",
  export_path = "working"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset_save_surveys_+3A_var_harmonization">var_harmonization</code></td>
<td>
<p>Metadata of surveys, including at least
<code>filename</code>, <code>var_name_orig</code>, <code>var_name</code>,
<code>var_label</code>.</p>
</td></tr>
<tr><td><code id="subset_save_surveys_+3A_selection_name">selection_name</code></td>
<td>
<p>An identifier for the survey subset.</p>
</td></tr>
<tr><td><code id="subset_save_surveys_+3A_import_path">import_path</code></td>
<td>
<p>The path to the survey files.</p>
</td></tr>
<tr><td><code id="subset_save_surveys_+3A_export_path">export_path</code></td>
<td>
<p>The path where the subsets should be saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function does not return a value. It saves the subsetted
surveys into .rds files.
</p>


<h3>See Also</h3>

<p>Other import functions: 
<code><a href="#topic+pull_survey">pull_survey</a>()</code>,
<code><a href="#topic+read_dta">read_dta</a>()</code>,
<code><a href="#topic+read_rds">read_rds</a>()</code>,
<code><a href="#topic+read_spss">read_spss</a>()</code>,
<code><a href="#topic+read_surveys">read_surveys</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
test_survey &lt;- read_rds (
 file = system.file("examples", "ZA7576.rds",
                    package = "retroharmonize")
)

test_metadata &lt;- metadata_create ( test_survey )
test_metadata &lt;- test_metadata[c(18:37),]
test_metadata$var_name  &lt;- var_label_normalize (test_metadata$var_name_orig)
test_metadata$var_label &lt;- test_metadata$label_orig

saveRDS(test_survey, file.path(tempdir(), 
                              "ZA7576.rds"), 
       version = 2)

subset_save_surveys  ( var_harmonization = test_metadata, 
                      selection_name = "tested",
                      import_path = tempdir(), 
                      export_path = tempdir())

file.exists ( file.path(tempdir(), "ZA7576_tested.rds"))

</code></pre>

<hr>
<h2 id='subset_waves'>Subset all surveys in a wave</h2><span id='topic+subset_waves'></span>

<h3>Description</h3>

<p>The function harmonizes the variable names of surveys (of class <code>survey</code>) that 
are imported from an external file as a wave with with <code><a href="#topic+read_surveys">read_surveys</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subset_waves(waves, subset_names = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset_waves_+3A_waves">waves</code></td>
<td>
<p>A list of surveys imported with <code><a href="#topic+read_surveys">read_surveys</a></code>.</p>
</td></tr>
<tr><td><code id="subset_waves_+3A_subset_names">subset_names</code></td>
<td>
<p>The names of the variables that should be kept from all surveys in the list that contains the
wave of surveys. Defaults to <code>NULL</code> in which case it returns all variables without subsetting.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is likely that you want to harmonize the variable names with <code><a href="#topic+harmonize_var_names">harmonize_var_names</a></code> first.
</p>


<h3>Value</h3>

<p>The list of surveys with harmonized variable names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>examples_dir &lt;- system.file("examples", package = "retroharmonize")
survey_list &lt;- dir(examples_dir)[grepl("\\.rds", dir(examples_dir))]

example_surveys &lt;- read_surveys(
  file.path( examples_dir, survey_list), 
  save_to_rds = FALSE)
metadata &lt;- metadata_waves_create(example_surveys)

metadata$var_name_suggested &lt;- label_normalize(metadata$var_name)

metadata$var_name_suggested[metadata$label_orig == "age education"] &lt;- "age_education"

hnw &lt;- harmonize_var_names(waves = example_surveys, 
                           metadata = metadata )
                           
subset_waves (hnw, subset_names = c("uniqid", "w1", "age_education"))
</code></pre>

<hr>
<h2 id='suggest_permanent_names'>Suggest permanent names</h2><span id='topic+suggest_permanent_names'></span>

<h3>Description</h3>

<p>Suggest the use of established naming conventions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suggest_permanent_names(survey_program = "eurobarometer")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="suggest_permanent_names_+3A_survey_program">survey_program</code></td>
<td>
<p>Suggest permanent names for the survey progarm <code>"eurobarometer"</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Established survey programs usually have their own variable name conventions. 
The suggested constant names keep these variable names constant.
</p>


<h3>Value</h3>

<p>A character vector with suggested permanent names.
</p>


<h3>See Also</h3>

<p>Other harmonization functions: 
<code><a href="#topic+collect_val_labels">collect_val_labels</a>()</code>,
<code><a href="#topic+harmonize_na_values">harmonize_na_values</a>()</code>,
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_var_names">harmonize_var_names</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+suggest_var_names">suggest_var_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>suggest_permanent_names ( "eurobarometer" )
</code></pre>

<hr>
<h2 id='suggest_var_names'>Suggest variable names</h2><span id='topic+suggest_var_names'></span>

<h3>Description</h3>

<p>The function harmonizes the variable names of surveys (of class <code>survey</code>) that 
are imported from an external file as a wave.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suggest_var_names(
  metadata,
  permanent_names = NULL,
  survey_program = NULL,
  case = "snake"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="suggest_var_names_+3A_metadata">metadata</code></td>
<td>
<p>A metadata table created by <code>metadata_create</code> and binded together for 
all surveys in <code>waves</code>.</p>
</td></tr>
<tr><td><code id="suggest_var_names_+3A_permanent_names">permanent_names</code></td>
<td>
<p>A character vector of names to keep.</p>
</td></tr>
<tr><td><code id="suggest_var_names_+3A_survey_program">survey_program</code></td>
<td>
<p>If <code>permanent_names = NULL</code> then <code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a></code> is 
called with this parameter, unless it is also <code>NULL</code></p>
</td></tr>
<tr><td><code id="suggest_var_names_+3A_case">case</code></td>
<td>
<p>Unless it is set to <code>NULL</code> it will standardize the suggested variable name with 
<code><a href="snakecase.html#topic+to_any_case">to_any_case</a></code>. The default is <code>"snake"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>metadata</code> tibble augmented with $var_name_suggested
</p>


<h3>See Also</h3>

<p>Other harmonization functions: 
<code><a href="#topic+collect_val_labels">collect_val_labels</a>()</code>,
<code><a href="#topic+harmonize_na_values">harmonize_na_values</a>()</code>,
<code><a href="#topic+harmonize_values">harmonize_values</a>()</code>,
<code><a href="#topic+harmonize_var_names">harmonize_var_names</a>()</code>,
<code><a href="#topic+label_normalize">label_normalize</a>()</code>,
<code><a href="#topic+suggest_permanent_names">suggest_permanent_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>examples_dir &lt;- system.file("examples", package = "retroharmonize")
survey_list &lt;- dir(examples_dir)[grepl("\\.rds", dir(examples_dir))]

example_surveys &lt;- read_surveys(
  file.path(examples_dir, survey_list), 
  save_to_rds = FALSE)
metadata &lt;- lapply ( X = example_surveys, FUN = metadata_create )
metadata &lt;- do.call(rbind, metadata)

utils::head(
  suggest_var_names(metadata, survey_program = "eurobarometer" )
  )
</code></pre>

<hr>
<h2 id='survey'>Survey data frame</h2><span id='topic+survey'></span><span id='topic+is.survey'></span><span id='topic+summary.survey'></span>

<h3>Description</h3>

<p>Store the data of a survey in a tibble (data frame) with a unique
survey identifier, import filename, and optional doi.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survey(
  object = data.frame(),
  id = character(),
  filename = character(),
  doi = character()
)

is.survey(object)

## S3 method for class 'survey'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survey_+3A_object">object</code></td>
<td>
<p>A tibble or data frame that contains the survey data.</p>
</td></tr>
<tr><td><code id="survey_+3A_id">id</code></td>
<td>
<p>A mandatory identifier for the survey</p>
</td></tr>
<tr><td><code id="survey_+3A_filename">filename</code></td>
<td>
<p>The import file name.</p>
</td></tr>
<tr><td><code id="survey_+3A_doi">doi</code></td>
<td>
<p>Optional doi, can be omitted.</p>
</td></tr>
<tr><td><code id="survey_+3A_...">...</code></td>
<td>
<p>Arguments passed to summary method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with <code>id</code>,  <code>filename</code>,  <code>doi</code> 
metadata information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>example_survey &lt;- survey( 
  object =data.frame ( 
    rowid = 1:6,
    observations = runif(6)), 
  id = 'example', 
  filename = "no_file"
)
</code></pre>

<hr>
<h2 id='validate_harmonize_labels'>Validate harmonize_labels parameter
Check if &quot;from&quot;, &quot;to&quot;, and &quot;numeric_values&quot; are of equal lengths.</h2><span id='topic+validate_harmonize_labels'></span>

<h3>Description</h3>

<p>Validate harmonize_labels parameter
Check if &quot;from&quot;, &quot;to&quot;, and &quot;numeric_values&quot; are of equal lengths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_harmonize_labels(harmonize_labels)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package T2DFitTailor</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {T2DFitTailor}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PCS_Calculation'><p>Calculate PCS (Physical Component Summary) Scores</p></a></li>
<li><a href='#TailorExercisePlan'><p>Visualize Tailored Exercise Plan for T2D Patients</p></a></li>
<li><a href='#VisualizeTailoredExercisePlan'><p>Tailor Exercise Plan for T2D Patients</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tailor the Exercise Plans and Visualize the Outcome for T2D
Patients</td>
</tr>
<tr>
<td>Version:</td>
<td>3.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A system for personalized exercise plan recommendations for T2D (Type 2 Diabetes) patients  based on the primary outcome of HbA1c (Glycated Hemoglobin). You provide the individual's information, and 'T2DFitTailor' details the exercise plan and predicts the intervention's effectiveness.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr,fmsb,graphics,grDevices,httr,jsonlite</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-15 08:26:28 UTC; supercheng</td>
</tr>
<tr>
<td>Author:</td>
<td>Cheng Liu [aut, cre],
  Xinyu Hou [aut],
  Bingxiang Xu [aut],
  Tiemin Liu [aut],
  Ru Wang [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Cheng Liu &lt;971264017@qq.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-16 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='PCS_Calculation'>Calculate PCS (Physical Component Summary) Scores</h2><span id='topic+PCS_Calculation'></span>

<h3>Description</h3>

<p>This function calculates the Physical Component Summary (PCS) scores
based on a set of specific questionnaire items related to physical
and mental health domains. It requires a dataframe containing the
required columns with valid answer ranges, and outputs a dataframe with
PCS scores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PCS_Calculation(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PCS_Calculation_+3A_df">df</code></td>
<td>
<p>A dataframe containing the questionnaire items with answers.
The dataframe should have specific columns:
</p>

<ul>
<li> <p><strong>EVGFP_rating</strong>: In general, would you say your health is.
<strong>Reference answers</strong>: 1=Excellent, 2=Very good, 3=Good, 4=Fair, 5=Poor.
</p>
</li>
<li> <p><strong>Moderate_activities</strong>: Moderate activities, such as moving a table, pushing a vacuum cleaner, bowling, or playing golf.
<strong>Reference answers</strong>: 1=Yes, Limited A Lot, 2=Yes, Limited A Little, 3=No, Not Limited At All.
</p>
</li>
<li> <p><strong>Climb_several_flights</strong>: Climbing several flights of stairs.
<strong>Reference answers</strong>: 1=Yes, Limited A Lot, 2=Yes, Limited A Little, 3=No, Not Limited At All.
</p>
</li>
<li> <p><strong>Accomplished_less_physically</strong>: Accomplished less than you would like as a result of your physical health.
<strong>Reference answers</strong>: 1=YES, 2=NO.
</p>
</li>
<li> <p><strong>Limited_in_kind_physically</strong>: Were limited in the kind of work or other activities as a result of your physical health.
<strong>Reference answers</strong>: 1=YES, 2=NO.
</p>
</li>
<li> <p><strong>Accomplished_less_mentally</strong>: Accomplished less than you would like as a result of any emotional problems (such as feeling depressed or anxious).
<strong>Reference answers</strong>: 1=YES, 2=NO.
</p>
</li>
<li> <p><strong>Not_careful_mentally</strong>: Didn't do work or other activities as carefully as usual as a result of any emotional problems (such as feeling depressed or anxious).
<strong>Reference answers</strong>: 1=YES, 2=NO.
</p>
</li>
<li> <p><strong>Pain_interfere</strong>: During the past 4 weeks, how much did pain interfere with your normal work (including both work outside the home and housework)?
<strong>Reference answers</strong>: 1=Not at all, 2=A little bit, 3=Moderately, 4=Quite a bit, 5=Extremely.
</p>
</li>
<li> <p><strong>Calm</strong>: During the past 4 weeks, have you felt calm and peaceful?
<strong>Reference answers</strong>: 1=All of the Time, 2=Most of the Time, 3=A Good Bit of the Time, 4=Some of the Time, 5=A Little of the Time, 6=None of the Time.
</p>
</li>
<li> <p><strong>Energy</strong>: During the past 4 weeks, did you have a lot of energy?
<strong>Reference answers</strong>: 1=All of the Time, 2=Most of the Time, 3=A Good Bit of the Time, 4=Some of the Time, 5=A Little of the Time, 6=None of the Time.
</p>
</li>
<li> <p><strong>Felt_down</strong>: During the past 4 weeks, have you felt downhearted and blue?
<strong>Reference answers</strong>: 1=All of the Time, 2=Most of the Time, 3=A Good Bit of the Time, 4=Some of the Time, 5=A Little of the Time, 6=None of the Time.
</p>
</li>
<li> <p><strong>Social_time</strong>: During the past 4 weeks, how much of the time has your physical health or emotional problems interfered with your social activities (like visiting with friends, relatives, etc)?
<strong>Reference answers</strong>: 1=All of the Time, 2=Most of the Time, 3=Some of the Time, 4=A Little of the Time, 5=None of the Time.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the calculated PCS scores.
</p>


<h3>References</h3>

<p>Tucker G, Adams R, Wilson D. New Australian population scoring coefficients
for the old version of the SF-36 and SF-12 health status questionnaires.
Qual Life Res. 2010 Sep;19(7):1069-76. doi: 10.1007/s11136-010-9658-9.
Epub 2010 May 4. Erratum in: Qual Life Res. 2010 Sep;19(7):1077. PMID: 20440565.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)

sample_names &lt;- c("xiaoming", "xiaohong", "xiaohua")

df &lt;- data.frame(
  row.names = sample_names,
  EVGFP_rating = sample(1:5, 3, replace = TRUE),
  Moderate_activities = sample(1:3, 3, replace = TRUE),
  Climb_several_flights = sample(1:3, 3, replace = TRUE),
  Accomplished_less_physically = sample(1:2, 3, replace = TRUE),
  Limited_in_kind_physically = sample(1:2, 3, replace = TRUE),
  Accomplished_less_mentally = sample(1:2, 3, replace = TRUE),
  Not_careful_mentally = sample(1:2, 3, replace = TRUE),
  Pain_interfere = sample(1:5, 3, replace = TRUE),
  Calm = sample(1:6, 3, replace = TRUE),
  Energy = sample(1:6, 3, replace = TRUE),
  Felt_down = sample(1:6, 3, replace = TRUE),
  Social_time = sample(1:5, 3, replace = TRUE)
)

PCS_output &lt;- PCS_Calculation(df)
PCS_output
</code></pre>

<hr>
<h2 id='TailorExercisePlan'>Visualize Tailored Exercise Plan for T2D Patients</h2><span id='topic+TailorExercisePlan'></span>

<h3>Description</h3>

<p>This function visualizes the exercise plan recommendations for Type 2 Diabetes (T2D) patients by generating radar charts.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="TailorExercisePlan_+3A_demo_result">demo_result</code></td>
<td>
<p>A list containing two data frames (<code style="white-space: pre;">&#8288;$RecommendedExercisePlan&#8288;</code> and <code style="white-space: pre;">&#8288;$AllExercisePlan&#8288;</code>) as returned by the <code>TailorExercisePlan</code> function.</p>
</td></tr>
<tr><td><code id="TailorExercisePlan_+3A_sample_selection">sample_selection</code></td>
<td>
<p>Specifies which patient samples to visualize, accepting three types of inputs:
</p>

<ul>
<li><p>&quot;all&quot;: Visualizes all samples.
</p>
</li>
<li><p>Given names (character vector): Names of specific patients for visualization.
</p>
</li>
<li><p>Numeric value: A numeric index indicating the number of samples to visualize.
</p>
</li></ul>
</td></tr>
<tr><td><code id="TailorExercisePlan_+3A_sort_by">sort_by</code></td>
<td>
<p>Determines the sorting orientation for the visualization, affecting which samples are prioritized:
</p>

<ul>
<li><p>&quot;head&quot;: Prioritizes samples towards the beginning of the selection.
</p>
</li>
<li><p>&quot;tail&quot;: Prioritizes samples towards the end of the selection.
</p>
</li></ul>
</td></tr>
<tr><td><code id="TailorExercisePlan_+3A_exercise_type">exercise_type</code></td>
<td>
<p>Specifies the type(s) of exercises to include in the visualization. Accepts multiple input types:
</p>

<ul>
<li><p>&quot;all&quot;: Includes all types of exercises.
</p>
</li>
<li><p>&quot;best&quot;: Selects the exercise(s) with the highest predicted reduction in HbA1c.
</p>
</li>
<li><p>Given types (character vector): Specific exercises, including &quot;Taiji&quot;, &quot;Qigong&quot;, &quot;Stretching&quot;, &quot;Rugby&quot;, &quot;Cycling&quot;, and &quot;Walking&quot;.
</p>
</li></ul>
</td></tr>
<tr><td><code id="TailorExercisePlan_+3A_nrow">nrow</code></td>
<td>
<p>The number of rows in the visualization grid, which can be:
</p>

<ul>
<li><p>&quot;auto&quot;: Automatically calculates the number of rows based on the number of samples and other parameters.
</p>
</li>
<li><p>Numeric value: Specifies the exact number of rows for the layout.
</p>
</li></ul>
</td></tr>
<tr><td><code id="TailorExercisePlan_+3A_ncol">ncol</code></td>
<td>
<p>The number of columns in the visualization grid, which can be:
</p>

<ul>
<li><p>&quot;auto&quot;: Automatically calculates the number of columns based on the number of samples, the specified number of rows, and other parameters.
</p>
</li>
<li><p>Numeric value: Specifies the exact number of columns for the layout.
</p>
</li></ul>
</td></tr>
<tr><td><code id="TailorExercisePlan_+3A_show_legend">show_legend</code></td>
<td>
<p>A logical value indicating whether to display a legend in the plots. TRUE or FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function does not return a data structure, but rather invisibly produces radar charts.
These charts visualize the expected HbA1c decrease value and other relevant details for each recommended exercise plan for T2D patients.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Create a demo dataframe
set.seed(5)
df &lt;- data.frame(
  Age = sample(39:77, 8, replace = TRUE),
  Sex = sample(0:1, 8, replace = TRUE),
  BMI = sample(18:31, 8, replace = TRUE),
  WHtR = sample(0.4:0.6, 8, replace = TRUE),
  PCS = sample(27:54, 8, replace = TRUE),
  Duration_T2D = sample(1:26, 8, replace = TRUE),
  Total_cholesterol = sample(7.4:14.1, 8, replace = TRUE),
  HDL = sample(1:1.7, 8, replace = TRUE),
  LDL = sample(2.2:4.7, 8, replace = TRUE),
  VO2_Max = sample(13:45, 8, replace = TRUE),
  Lung_capacity = sample(1900:4600, 8, replace = TRUE),
  Back_Scratch_Test = sample(-30:8, 8, replace = TRUE))

names(df) &lt;- c('Age', 'Sex', 'BMI', 'WHtR', 'PCS', 'Duration_T2D (year)',
              'Total cholesterol (mmol/L)', 'HDL (mmol/L)', 'LDL (mmol/L)',
              'VO2_Max (ml/kg/min)', 'Lung_capacity (ml)', 'Back_Scratch_Test (cm)')
rownames(df) &lt;- c('Sample1', 'Sample2', 'Sample3', 'Sample4',
                  'Sample5', 'Sample6', 'Sample7', 'Sample8')

# Run the TailorExercisePlan function
demo_result &lt;- TailorExercisePlan(df)

# Visualize the outcome from 'TailorExercisePlan' function
VisualizeTailoredExercisePlan(demo_result,sample_selection="all",sort_by="head",
                              exercise_type="best",nrow="auto",ncol="auto",show_legend=TRUE)

VisualizeTailoredExercisePlan(demo_result,sample_selection="Sample1",sort_by="head",
                              exercise_type="all",nrow="auto",ncol="auto",show_legend=TRUE)

</code></pre>

<hr>
<h2 id='VisualizeTailoredExercisePlan'>Tailor Exercise Plan for T2D Patients</h2><span id='topic+VisualizeTailoredExercisePlan'></span>

<h3>Description</h3>

<p>This function generates a tailored exercise plan for T2D (Type 2 Diabetes)
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="VisualizeTailoredExercisePlan_+3A_input_df">input_df</code></td>
<td>
<p>A data frame containing patient data necessary for
generating a tailored exercise plan. Each column in the dataframe should
be as follows (All data must be numeric.):
</p>

<dl>
<dt>Age</dt><dd><p>Patient's age in years.</p>
</dd>
<dt>Sex</dt><dd><p>Patient's sex, where 0 might denote female and 1 denotes male.</p>
</dd>
<dt>BMI</dt><dd><p>Body Mass Index, a measure of body fat based on height and weight.</p>
</dd>
<dt>WHtR</dt><dd><p>Patient's ratio of waist and height.</p>
</dd>
<dt>PCS</dt><dd><p>Patient's Physical Component Summary (PCS) score,
a metric derived from the SF-12 (Short Form Health Survey) which measures health-related quality of life.
The PCS score is calculated based on responses to questions in the SF-12 survey,
reflecting physical functioning, bodily pain, general health perceptions, and physical roles.
A higher score indicates better physical health. Users can refer to the <code>PCS_Calculation</code>
function within this package for detailed calculations based on SF-12 survey responses.</p>
</dd>
<dt>Duration_T2D (year)</dt><dd><p>Duration of Type 2 Diabetes Mellitus in years.
It reflects how long the patient has been living with Type 2 diabetes.</p>
</dd>
<dt>Total cholesterol (mmol/L)</dt><dd><p>Total cholesterol levels in mmol/L.
This measurement includes LDL, HDL, and other lipid components. Higher overall
cholesterol levels can increase the risk of cardiovascular disease, although the
balance of different types of lipids (HDL, LDL, others) also plays a critical role.</p>
</dd>
<dt>HDL (mmol/L)</dt><dd><p>High-Density Lipoprotein cholesterol levels in mmol/L.
HDL is considered the &quot;good&quot; cholesterol, and higher levels are often associated
with a lower risk of heart disease.</p>
</dd>
<dt>LDL (mmol/L)</dt><dd><p>Low-Density Lipoprotein cholesterol levels in mmol/L.
LDL is often referred to as the &quot;bad&quot; cholesterol because high levels can lead to
plaque buildup in arteries and increase the risk of heart disease.</p>
</dd>
<dt>VO2_Max</dt><dd><p>Patient's maximum oxygen uptake.</p>
</dd>
<dt>Lung_capacity</dt><dd><p>Patient's lung volume or capacity.</p>
</dd>
<dt>BACK_Scratch_Test</dt><dd><p>Assessment of the patient's upper limb flexibility and shoulder range of motion.</p>
</dd>
</dl>

<p>Note: It is crucial that the data for each of these columns is correctly formatted
and accurately represents the patient's health information for the exercise
plan to be effectively tailored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two data frames: <code style="white-space: pre;">&#8288;$RecommendedExercisePlan&#8288;</code>: This data frame includes exercise plans that
are recommended based on the criterion that the intervention leads to a positive reduction in HbA1c levels,
and <code style="white-space: pre;">&#8288;$AllExercisePlan&#8288;</code> which includes all received plans.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Create a demo dataframe
set.seed(5)
df &lt;- data.frame(
  Age = sample(39:77, 8, replace = TRUE),
  Sex = sample(0:1, 8, replace = TRUE),
  BMI = sample(18:31, 8, replace = TRUE),
  WHtR = sample(0.4:0.6, 8, replace = TRUE),
  PCS = sample(27:54, 8, replace = TRUE),
  Duration_T2D = sample(1:26, 8, replace = TRUE),
  Total_cholesterol = sample(7.4:14.1, 8, replace = TRUE),
  HDL = sample(1:1.7, 8, replace = TRUE),
  LDL = sample(2.2:4.7, 8, replace = TRUE),
  VO2_Max = sample(13:45, 8, replace = TRUE),
  Lung_capacity = sample(1900:4600, 8, replace = TRUE),
  Back_Scratch_Test = sample(-30:8, 8, replace = TRUE))

names(df) &lt;- c('Age', 'Sex', 'BMI', 'WHtR', 'PCS', 'Duration_T2D (year)',
               'Total cholesterol (mmol/L)', 'HDL (mmol/L)', 'LDL (mmol/L)',
               'VO2_Max (ml/kg/min)', 'Lung_capacity (ml)', 'Back_Scratch_Test (cm)')
rownames(df) &lt;- c('Sample1', 'Sample2', 'Sample3', 'Sample4',
                  'Sample5', 'Sample6', 'Sample7', 'Sample8')

# Run the TailorExercisePlan function
demo_result &lt;- TailorExercisePlan(df)
# View the structure of the returned list
str(demo_result)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

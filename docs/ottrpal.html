<!DOCTYPE html><html><head><title>Help for package ottrpal</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ottrpal}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#auth_from_secret'><p>Use secrets to authorize R package to access Google Slides API</p></a></li>
<li><a href='#authorize'><p>Authorize R package to access the Google Slides API</p></a></li>
<li><a href='#bad_quiz_path'><p>Path to bad example quiz</p></a></li>
<li><a href='#bookdown_destination'><p>Declare file path to docs/ folder</p></a></li>
<li><a href='#bookdown_file'><p>Find file path to _bookdown.yml</p></a></li>
<li><a href='#bookdown_path'><p>Find main Bookdown directory</p></a></li>
<li><a href='#bookdown_rmd_files'><p>Get file paths all Rmds in the bookdown directory</p></a></li>
<li><a href='#bookdown_to_book_txt'><p>Create Book.txt file from files existing in quiz directory</p></a></li>
<li><a href='#bookdown_to_embed_leanpub'><p>Convert Bookdown to Embed version of Leanpub</p></a></li>
<li><a href='#bookdown_to_leanpub'><p>Convert Bookdown to Leanpub</p></a></li>
<li><a href='#check_all_questions'><p>Check all quiz questions</p></a></li>
<li><a href='#check_question'><p>Check Quiz Question Set Up</p></a></li>
<li><a href='#check_quiz'><p>Check Quiz</p></a></li>
<li><a href='#check_quiz_attributes'><p>Check Quiz Attributes</p></a></li>
<li><a href='#check_quiz_question_attributes'><p>Check a question's attributes</p></a></li>
<li><a href='#check_quizzes'><p>Check all quizzes in a directory</p></a></li>
<li><a href='#convert_coursera_quizzes'><p>Convert Leanpub md quiz to Coursera yaml quiz</p></a></li>
<li><a href='#convert_footnotes'><p>Convert Bookdown footnotes to Leanpub-formatted footnotes</p></a></li>
<li><a href='#convert_quiz'><p>Convert Leanpub md quiz to Coursera yaml quiz</p></a></li>
<li><a href='#convert_utube_link'><p>Convert youtube link</p></a></li>
<li><a href='#encrypt_creds_path'><p>Get file path to an encrypted credentials RDS</p></a></li>
<li><a href='#encrypt_creds_user_path'><p>Get file path to an default credentials RDS</p></a></li>
<li><a href='#example_repo_cleanup'><p>Clean up example repo files</p></a></li>
<li><a href='#example_repo_setup'><p>Set up example repo files</p></a></li>
<li><a href='#extract_meta'><p>Extract meta fields from a tag</p></a></li>
<li><a href='#extract_object_id'><p>Extract Object IDs using Google Slides API</p></a></li>
<li><a href='#get_bookdown_spec'><p>Load in Bookdown specifications from _bookdown.yml</p></a></li>
<li><a href='#get_chapters'><p>Make Leanpub file that has embed webpage of a chapter</p></a></li>
<li><a href='#get_gs_pptx'><p>Download Google Slides pptx file</p></a></li>
<li><a href='#get_object_id_notes'><p>Retrieve Speaker Notes and their corresponding Object (Slide) IDs from a Google Slides presentation</p></a></li>
<li><a href='#get_slide_id'><p>Get Slide ID from URL</p></a></li>
<li><a href='#good_quiz_path'><p>Path to good example quiz</p></a></li>
<li><a href='#gs_id_from_slide'><p>Google Slides Helper Functions</p></a></li>
<li><a href='#gs_png_url'><p>Get Google Slide PNG URL</p></a></li>
<li><a href='#key_encrypt_creds_path'><p>Get file path to an key encryption RDS</p></a></li>
<li><a href='#leanpub_check'><p>Check Leanpub Course or Book</p></a></li>
<li><a href='#make_embed_markdown'><p>Make Leanpub file that has embed webpage of a chapter</p></a></li>
<li><a href='#parse_q_tag'><p>Parse apart a tag</p></a></li>
<li><a href='#parse_quiz'><p>Parse Quiz and Other Checking Functions</p></a></li>
<li><a href='#parse_quiz_df'><p>Parse quiz into a data.frame</p></a></li>
<li><a href='#pptx_notes'><p>Get Notes from a PowerPoint (usually from Google Slides)</p></a></li>
<li><a href='#remove_yaml_header'><p>Remove YAML header</p></a></li>
<li><a href='#render_without_toc'><p>Create TOC-less Bookdown for use in Coursera</p></a></li>
<li><a href='#replace_html'><p>Replace HTML and other Tags in Leanpub Markdown</p></a></li>
<li><a href='#set_knitr_image_path'><p>Set image path for 'knitr'</p></a></li>
<li><a href='#set_up_leanpub'><p>Set up Manuscript folder for Leanpub publishing</p></a></li>
<li><a href='#simple_references'><p>Run Simple References</p></a></li>
<li><a href='#xml_notes'><p>Get Notes from XML</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Companion Tools for Open-Source Tools for Training Resources
(OTTR)</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for converting Open-Source Tools for Training Resources
    (OTTR) courses into Leanpub or Coursera courses. 'ottrpal' is for use
    with the OTTR Template repository to create courses.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jhudsl/ottrpal">https://github.com/jhudsl/ottrpal</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jhudsl/ottrpal/issues">https://github.com/jhudsl/ottrpal/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>bookdown, curl, dplyr, fs, glue, httr, jsonlite, knitr (&ge;
1.33), magrittr, openssl, purrr, R.utils, readr, rmarkdown (&ge;
2.10), rprojroot, rvest, stringr, xml2, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>remotes, testthat, tibble, utils</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-09 15:20:17 UTC; candacesavonen</td>
</tr>
<tr>
<td>Author:</td>
<td>Candace Savonen <a href="https://orcid.org/0000-0001-6331-7070"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  John Muschelli <a href="https://orcid.org/0000-0001-6469-1750"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Carrie Wright [ctb],
  Howard Baek [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Candace Savonen &lt;cansav09@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-09 20:00:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='auth_from_secret'>Use secrets to authorize R package to access Google Slides API</h2><span id='topic+auth_from_secret'></span>

<h3>Description</h3>

<p>This is a function to authorize the R package to access the Google Slides API. If no
client.id and client.secret is provided, the package would provide predefined values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_from_secret(access_token = NULL, refresh_token = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_from_secret_+3A_access_token">access_token</code></td>
<td>
<p>Access token can be obtained from running authorize() interactively: token &lt;-authorize(); token$credentials$access_token</p>
</td></tr>
<tr><td><code id="auth_from_secret_+3A_refresh_token">refresh_token</code></td>
<td>
<p>Refresh token can be obtained from running authorize() interactively: token &lt;-authorize(); token$credentials$refresh_token</p>
</td></tr>
</table>


<h3>Value</h3>

<p>OAuth token saved to the environment so the package can use the users' Google data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

token &lt;- authorize()

auth_from_secret(
  token$credentials$access_token,
  token$credentials$refresh_token
)

## End(Not run)

</code></pre>

<hr>
<h2 id='authorize'>Authorize R package to access the Google Slides API</h2><span id='topic+authorize'></span>

<h3>Description</h3>

<p>This is a function to authorize the R package to access the Google Slides API interactively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>authorize(token = NULL, cache = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="authorize_+3A_token">token</code></td>
<td>
<p>An output from <code><a href="httr.html#topic+oauth2.0_token">oauth2.0_token</a></code> to set as the authentication token.</p>
</td></tr>
<tr><td><code id="authorize_+3A_cache">cache</code></td>
<td>
<p>Should the token be cached as an .httr-oauth file?</p>
</td></tr>
<tr><td><code id="authorize_+3A_...">...</code></td>
<td>
<p>Additional arguments to send to <code><a href="httr.html#topic+oauth2.0_token">oauth2.0_token</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>OAuth token saved to the environment so the package can use the users' Google data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

authorize()

## End(Not run)
</code></pre>

<hr>
<h2 id='bad_quiz_path'>Path to bad example quiz</h2><span id='topic+bad_quiz_path'></span>

<h3>Description</h3>

<p>Path to bad example quiz
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bad_quiz_path()
</code></pre>


<h3>Value</h3>

<p>The file path to an example bad quiz included in the package that will fail the quiz checks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
quiz_path &lt;- bad_quiz_path()
</code></pre>

<hr>
<h2 id='bookdown_destination'>Declare file path to docs/ folder</h2><span id='topic+bookdown_destination'></span>

<h3>Description</h3>

<p>Declare file path to docs/ folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookdown_destination(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookdown_destination_+3A_path">path</code></td>
<td>
<p>Where to look for the _bookdown.yml file. Passes toget_bookdown_spec() function. By default looks in current directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The file paths to Rmds listed in the _bookdown.yml file.
</p>

<hr>
<h2 id='bookdown_file'>Find file path to _bookdown.yml</h2><span id='topic+bookdown_file'></span>

<h3>Description</h3>

<p>Find file path to _bookdown.yml
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookdown_file(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookdown_file_+3A_path">path</code></td>
<td>
<p>Where to look for the _bookdown.yml file. Passes to the bookdown_file() function. By default looks in current directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The file path to _bookdown.yml
</p>

<hr>
<h2 id='bookdown_path'>Find main Bookdown directory</h2><span id='topic+bookdown_path'></span>

<h3>Description</h3>

<p>Find main Bookdown directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookdown_path(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookdown_path_+3A_path">path</code></td>
<td>
<p>Where to look for the file. By default looks in current directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the directory where the _bookdown.yml is contained.
</p>

<hr>
<h2 id='bookdown_rmd_files'>Get file paths all Rmds in the bookdown directory</h2><span id='topic+bookdown_rmd_files'></span>

<h3>Description</h3>

<p>Get file paths all Rmds in the bookdown directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookdown_rmd_files(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookdown_rmd_files_+3A_path">path</code></td>
<td>
<p>Where to look for the _bookdown.yml file. Passes toget_bookdown_spec() function. By default looks in current directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The file paths to Rmds listed in the _bookdown.yml file.
</p>

<hr>
<h2 id='bookdown_to_book_txt'>Create Book.txt file from files existing in quiz directory</h2><span id='topic+bookdown_to_book_txt'></span>

<h3>Description</h3>

<p>Create Book.txt file from files existing in quiz directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookdown_to_book_txt(
  path = ".",
  md_files = NULL,
  output_dir = "manuscript",
  quiz_dir = "quizzes",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookdown_to_book_txt_+3A_path">path</code></td>
<td>
<p>path to the bookdown book, must have a '_bookdown.yml' file</p>
</td></tr>
<tr><td><code id="bookdown_to_book_txt_+3A_md_files">md_files</code></td>
<td>
<p>vector of file path of the md's to be included</p>
</td></tr>
<tr><td><code id="bookdown_to_book_txt_+3A_output_dir">output_dir</code></td>
<td>
<p>output directory to put files.  It should likely be
relative to path</p>
</td></tr>
<tr><td><code id="bookdown_to_book_txt_+3A_quiz_dir">quiz_dir</code></td>
<td>
<p>Where are the quizzes stored? Default looks for folder called &quot;quizzes&quot;.</p>
</td></tr>
<tr><td><code id="bookdown_to_book_txt_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of quiz and chapter files in order in a file called Book.txt &ndash; How Leanpub wants it.
</p>

<hr>
<h2 id='bookdown_to_embed_leanpub'>Convert Bookdown to Embed version of Leanpub</h2><span id='topic+bookdown_to_embed_leanpub'></span>

<h3>Description</h3>

<p>Convert Bookdown to Embed version of Leanpub
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookdown_to_embed_leanpub(
  path = ".",
  chapt_img_key = NULL,
  bookdown_index = file.path(base_url, "index.html"),
  base_url = NULL,
  clean_up = FALSE,
  default_img = NULL,
  render = TRUE,
  output_dir = "manuscript",
  make_book_txt = FALSE,
  quiz_dir = "quizzes",
  run_quiz_checks = FALSE,
  remove_resources_start = FALSE,
  verbose = TRUE,
  footer_text = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_path">path</code></td>
<td>
<p>path to the bookdown book, must have a '_bookdown.yml' file</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_chapt_img_key">chapt_img_key</code></td>
<td>
<p>File path to a TSV whose contents are the chapter urls ('url'),
the chapter titles ('chapt_title'), the file path to the image to be used for the chapter ('img_path').
Column names 'url', 'chapt_title', and 'img_path' must be used.
If no chapter title column supplied, the basename of the url will be used,
If no image column supplied, default image used.</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_bookdown_index">bookdown_index</code></td>
<td>
<p>The file path of the rendered bookdown index.html file</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_base_url">base_url</code></td>
<td>
<p>The base url of where the chapters are published &ndash; the url to provide to the iframe in Leanpub
e.g. https://jhudatascience.org/OTTR_Template/coursera</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_clean_up">clean_up</code></td>
<td>
<p>TRUE/FALSE the old output directory should be deleted and
everything created fresh.</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_default_img">default_img</code></td>
<td>
<p>A google slide link to the default image to be used for all chapters</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_render">render</code></td>
<td>
<p>if 'TRUE', then [bookdown::render_book()] will be run on each Rmd.</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_output_dir">output_dir</code></td>
<td>
<p>output directory to put files.  It should likely be
relative to path</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_make_book_txt">make_book_txt</code></td>
<td>
<p>Should [ottrpal::bookdown_to_book_txt()] be run
to create a 'Book.txt' in the output directory?</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_quiz_dir">quiz_dir</code></td>
<td>
<p>directory that contains the quiz .md files that should be
checked and incorporated into the Book.txt file. If you don't have quizzes,
set this to NULL</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_run_quiz_checks">run_quiz_checks</code></td>
<td>
<p>TRUE/FALSE run quiz checks</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_remove_resources_start">remove_resources_start</code></td>
<td>
<p>remove the word 'resources/' at the front
of any image path.</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="bookdown_to_embed_leanpub_+3A_footer_text">footer_text</code></td>
<td>
<p>Optionally can add a bit of text that will be added to the
end of each file before the references section.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A directory of output files in a folder 'manuscript' for publishing on Leanpub.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

ottrpal::bookdown_to_embed_leanpub(
  base_url = "https://jhudatascience.org/OTTR_Template/",
  make_book_txt = TRUE,
  quiz_dir = NULL
)

## End(Not run)
</code></pre>

<hr>
<h2 id='bookdown_to_leanpub'>Convert Bookdown to Leanpub</h2><span id='topic+bookdown_to_leanpub'></span>

<h3>Description</h3>

<p>Convert Bookdown to Leanpub
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookdown_to_leanpub(
  path = ".",
  render = TRUE,
  output_dir = "manuscript",
  make_book_txt = FALSE,
  quiz_dir = "quizzes",
  run_quiz_checks = FALSE,
  remove_resources_start = FALSE,
  verbose = TRUE,
  footer_text = NULL,
  clean_up = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookdown_to_leanpub_+3A_path">path</code></td>
<td>
<p>path to the bookdown book, must have a '_bookdown.yml' file</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_render">render</code></td>
<td>
<p>if 'TRUE', then [bookdown::render_book()] will be run on each Rmd.</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_output_dir">output_dir</code></td>
<td>
<p>output directory to put files.  It should likely be
relative to path</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_make_book_txt">make_book_txt</code></td>
<td>
<p>Should [ottrpal::bookdown_to_book_txt()] be run
to create a 'Book.txt' in the output directory?</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_quiz_dir">quiz_dir</code></td>
<td>
<p>directory that contains the quiz .md files that should be
checked and incorporated into the Book.txt file. If you don't have quizzes,
set this to NULL</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_run_quiz_checks">run_quiz_checks</code></td>
<td>
<p>TRUE/FALSE run quiz checks</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_remove_resources_start">remove_resources_start</code></td>
<td>
<p>remove the word 'resources/' at the front
of any image path.</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_footer_text">footer_text</code></td>
<td>
<p>Optionally can add a bit of text that will be added to the
end of each file before the references section.</p>
</td></tr>
<tr><td><code id="bookdown_to_leanpub_+3A_clean_up">clean_up</code></td>
<td>
<p>TRUE/FALSE the old output directory should be deleted and
everything created fresh.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of output files and diagnostics
</p>

<hr>
<h2 id='check_all_questions'>Check all quiz questions</h2><span id='topic+check_all_questions'></span>

<h3>Description</h3>

<p>Takes output from [ottrpal::parse_quiz] and runs checks on each question in a quiz by calling [ottrpal::check_question] for each question.
First splits questions into their own data frame. Returns a list of messages/warnings about each question's set up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_all_questions(
  quiz_specs,
  quiz_name = NA,
  verbose = TRUE,
  ignore_coursera = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_all_questions_+3A_quiz_specs">quiz_specs</code></td>
<td>
<p>quiz_specs which is output from [ottrpal::parse_quiz].</p>
</td></tr>
<tr><td><code id="check_all_questions_+3A_quiz_name">quiz_name</code></td>
<td>
<p>The name of the quiz being checked.</p>
</td></tr>
<tr><td><code id="check_all_questions_+3A_verbose">verbose</code></td>
<td>
<p>Whether progress messages should be given.</p>
</td></tr>
<tr><td><code id="check_all_questions_+3A_ignore_coursera">ignore_coursera</code></td>
<td>
<p>Coursera doesn't like '!' or ':' in the quizzes. Do not convert quizzes to coursera and ignore ! and : in question prompts that would not be allowed in Leanpub quizzes when converted to a Coursera quiz. Default is to ignore Coursera compatibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the output from [ottrpal::check_question] with messages/warnings regarding each question and each check.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Using good quiz md example

quiz_path &lt;- good_quiz_path()
good_quiz &lt;- readLines(quiz_path)
good_quiz_specs &lt;- parse_quiz(good_quiz)
good_quiz_checks &lt;- check_all_questions(good_quiz_specs)

# Using bad quiz md example

bad_quiz &lt;- readLines(bad_quiz_path())
bad_quiz_specs &lt;- parse_quiz(bad_quiz)
bad_quiz_checks &lt;- check_all_questions(bad_quiz_specs)

## End(Not run)
</code></pre>

<hr>
<h2 id='check_question'>Check Quiz Question Set Up</h2><span id='topic+check_question'></span>

<h3>Description</h3>

<p>Check quiz question set up to see if it is compliant with Leanpub and Coursera needs.
Based off of [Markua guide](https://leanpub.com/markua/read#leanpub-auto-quizzes-and-exercises).
Is called by [ottrpal::check_all_questions] and run for each question.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_question(
  question_df,
  quiz_name = NA,
  verbose = TRUE,
  ignore_coursera = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_question_+3A_question_df">question_df</code></td>
<td>
<p>Which is an individual question's data frame after being parse from</p>
</td></tr>
<tr><td><code id="check_question_+3A_quiz_name">quiz_name</code></td>
<td>
<p>The name of the quiz the question is from</p>
</td></tr>
<tr><td><code id="check_question_+3A_verbose">verbose</code></td>
<td>
<p>Whether progress messages should be given</p>
</td></tr>
<tr><td><code id="check_question_+3A_ignore_coursera">ignore_coursera</code></td>
<td>
<p>Coursera doesn't like '!' or ':' in the quizzes. Do not convert quizzes to coursera and ignore ! and : in question prompts that would not be allowed in Leanpub quizzes when converted to a Coursera quiz. Default is to ignore Coursera compatibility</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of messages/warnings regarding each check for the given question.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Use readLines to read in a quiz
quiz_path &lt;- good_quiz_path()
quiz_lines &lt;- readLines(quiz_path)

# Use group_split to get the questions
questions_df &lt;- parse_quiz(quiz_lines)$data %&gt;%
  dplyr::group_split(question)

good_quiz_checks &lt;- check_question(questions_df[[2]])

## End(Not run)
</code></pre>

<hr>
<h2 id='check_quiz'>Check Quiz</h2><span id='topic+check_quiz'></span>

<h3>Description</h3>

<p>For a file path to a quiz, check whether it is properly formatted for Leanpub.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_quiz(quiz_path, verbose = TRUE, ignore_coursera = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_quiz_+3A_quiz_path">quiz_path</code></td>
<td>
<p>A file path to a quiz markdown file</p>
</td></tr>
<tr><td><code id="check_quiz_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages? TRUE/FALSE</p>
</td></tr>
<tr><td><code id="check_quiz_+3A_ignore_coursera">ignore_coursera</code></td>
<td>
<p>Coursera doesn't like '!' or ':' in the quizzes. Do not convert quizzes to coursera and ignore ! and : in question prompts that would not be allowed in Leanpub quizzes when converted to a Coursera quiz. Default is to ignore Coursera compatibility</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of checks. &quot;good&quot; means the check passed. Failed checks will report where it failed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Take a look at a good quiz's checks:
quiz_path &lt;- good_quiz_path()
good_checks &lt;- check_quiz(quiz_path)

# Take a look at a failed quiz's checks:
quiz_path &lt;- bad_quiz_path()
failed_checks &lt;- check_quiz(quiz_path)

## End(Not run)
</code></pre>

<hr>
<h2 id='check_quiz_attributes'>Check Quiz Attributes</h2><span id='topic+check_quiz_attributes'></span>

<h3>Description</h3>

<p>Check Quiz Attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_quiz_attributes(quiz_specs, quiz_name = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_quiz_attributes_+3A_quiz_specs">quiz_specs</code></td>
<td>
<p>The output from [ottrpal::parse_quiz].</p>
</td></tr>
<tr><td><code id="check_quiz_attributes_+3A_quiz_name">quiz_name</code></td>
<td>
<p>A character string indicating the name of the quiz being checked.</p>
</td></tr>
<tr><td><code id="check_quiz_attributes_+3A_verbose">verbose</code></td>
<td>
<p>Would you like progress messages? TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical
</p>

<hr>
<h2 id='check_quiz_question_attributes'>Check a question's attributes</h2><span id='topic+check_quiz_question_attributes'></span>

<h3>Description</h3>

<p>This is ran automatically by [ottrpal::check_all_questions] for all questions.
It checks that the attributes specified are accepted ones by Leanpub.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_quiz_question_attributes(question_df, quiz_name = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_quiz_question_attributes_+3A_question_df">question_df</code></td>
<td>
<p>a data.frame obtained from [ottrpal::parse_quiz_df] and dplyr::group_split(question).</p>
</td></tr>
<tr><td><code id="check_quiz_question_attributes_+3A_quiz_name">quiz_name</code></td>
<td>
<p>inherited from parse</p>
</td></tr>
<tr><td><code id="check_quiz_question_attributes_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Will return a warning for any quiz question attributes used that are not supported.
</p>

<hr>
<h2 id='check_quizzes'>Check all quizzes in a directory</h2><span id='topic+check_quizzes'></span>

<h3>Description</h3>

<p>Check the formatting of all quizzes in a given directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_quizzes(
  quiz_dir = "quizzes",
  write_report = TRUE,
  verbose = TRUE,
  ignore_coursera = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_quizzes_+3A_quiz_dir">quiz_dir</code></td>
<td>
<p>A path to a directory full of quizzes that should all be checked with [ottrpal::check_all_quizzes].</p>
</td></tr>
<tr><td><code id="check_quizzes_+3A_write_report">write_report</code></td>
<td>
<p>TRUE/FALSE save warning report to a CSV file?</p>
</td></tr>
<tr><td><code id="check_quizzes_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="check_quizzes_+3A_ignore_coursera">ignore_coursera</code></td>
<td>
<p>Coursera doesn't like '!' or ':' in the quizzes. Do not convert quizzes to coursera and ignore ! and : in question prompts that would not be allowed in Leanpub quizzes when converted to a Coursera quiz. Default is to ignore Coursera compatibility</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list checks performed on each quiz
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 


## Make a temporary quiz directory
quiz_dir &lt;- dirname(good_quiz_path())

## Now check the quizzes in that directory
all_quiz_results &lt;- check_quizzes(quiz_dir = quiz_dir)

## End(Not run)
</code></pre>

<hr>
<h2 id='convert_coursera_quizzes'>Convert Leanpub md quiz to Coursera yaml quiz</h2><span id='topic+convert_coursera_quizzes'></span>

<h3>Description</h3>

<p>Convert Leanpub md quiz to Coursera yaml quiz
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_coursera_quizzes(
  input_quiz_dir = "quizzes",
  output_quiz_dir = "coursera_quizzes",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_coursera_quizzes_+3A_input_quiz_dir">input_quiz_dir</code></td>
<td>
<p>A path to a directory of leanpub formatted quiz md files. By default assumes &quot;quizzes&quot; and looks in current directory.</p>
</td></tr>
<tr><td><code id="convert_coursera_quizzes_+3A_output_quiz_dir">output_quiz_dir</code></td>
<td>
<p>A folder (existing or not) that the new coursera converted quizzes should be saved to. By default saves to &quot;coursera_quizzes&quot;.</p>
</td></tr>
<tr><td><code id="convert_coursera_quizzes_+3A_verbose">verbose</code></td>
<td>
<p>Would you like the progress messages: TRUE/FALSE?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A folder of coursera ready quiz files saved to the output directory specified as a yamls.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Set up a directory with a quiz in it for this example
tdir &lt;- tempfile()
dir.create(tdir, showWarnings = FALSE, recursive = TRUE)

file.copy(
  from = good_quiz_path(),
  to = file.path(tdir, basename(good_quiz_path()))
)

# Provide path to directory of quizzes
convert_coursera_quizzes(tdir)

system("rm -r coursera_quizzes")
</code></pre>

<hr>
<h2 id='convert_footnotes'>Convert Bookdown footnotes to Leanpub-formatted footnotes</h2><span id='topic+convert_footnotes'></span>

<h3>Description</h3>

<p>Convert Bookdown footnotes to Leanpub-formatted footnotes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_footnotes(content)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_footnotes_+3A_content">content</code></td>
<td>
<p>a character vector containing the lines of content from a file read in with readLines()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector containing the content given but with Leanpub formatted foonotes
</p>

<hr>
<h2 id='convert_quiz'>Convert Leanpub md quiz to Coursera yaml quiz</h2><span id='topic+convert_quiz'></span>

<h3>Description</h3>

<p>Convert a Leanpub-formatted md quiz file to a Coursera-formatted yaml quiz file in preparation for uploading to Coursera.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_quiz(quiz_path, output_quiz_dir = dirname(quiz_path), verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_quiz_+3A_quiz_path">quiz_path</code></td>
<td>
<p>A path to a quiz .md file to be converted.</p>
</td></tr>
<tr><td><code id="convert_quiz_+3A_output_quiz_dir">output_quiz_dir</code></td>
<td>
<p>An existing folder where you would like the new version of the quiz to be saved.
Default is the directory of the quiz_path provided</p>
</td></tr>
<tr><td><code id="convert_quiz_+3A_verbose">verbose</code></td>
<td>
<p>Would you like the progress messages?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Coursera-ready quiz file saved to the output directory specified as a yaml.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

quiz_path &lt;- good_quiz_path()

# Provide path to quiz to convert
convert_quiz(quiz_path)

## End(Not run)
</code></pre>

<hr>
<h2 id='convert_utube_link'>Convert youtube link</h2><span id='topic+convert_utube_link'></span>

<h3>Description</h3>

<p>Convert youtube link
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_utube_link(utube_link)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_utube_link_+3A_utube_link">utube_link</code></td>
<td>
<p>a link to a youtube video that may or may not be &quot;www.youtube.com/embed&quot; or &quot;www.youtube.com/watch?v=&quot;
format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a youtube link in the &quot;watch&quot; format so it will render properly in Leanpub or Coursera-friendly files
</p>

<hr>
<h2 id='encrypt_creds_path'>Get file path to an encrypted credentials RDS</h2><span id='topic+encrypt_creds_path'></span>

<h3>Description</h3>

<p>Get file path to an encrypted credentials RDS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encrypt_creds_path()
</code></pre>

<hr>
<h2 id='encrypt_creds_user_path'>Get file path to an default credentials RDS</h2><span id='topic+encrypt_creds_user_path'></span>

<h3>Description</h3>

<p>Get file path to an default credentials RDS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encrypt_creds_user_path()
</code></pre>

<hr>
<h2 id='example_repo_cleanup'>Clean up example repo files</h2><span id='topic+example_repo_cleanup'></span>

<h3>Description</h3>

<p>Clean up example repo files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_repo_cleanup(files_to_remove, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="example_repo_cleanup_+3A_files_to_remove">files_to_remove</code></td>
<td>
<p>List of example files to delete.</p>
</td></tr>
<tr><td><code id="example_repo_cleanup_+3A_verbose">verbose</code></td>
<td>
<p>TRUE/FALSE would you like progress messages?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Will delete example files copied from [ottrpal::example_repo_setup()] function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Run this to get the files we need
example_files &lt;- ottrpal::example_repo_setup()

# Run this to delete them
example_repo_cleanup(files_to_remove = basename(example_files))

## End(Not run)
</code></pre>

<hr>
<h2 id='example_repo_setup'>Set up example repo files</h2><span id='topic+example_repo_setup'></span>

<h3>Description</h3>

<p>Set up example repo files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_repo_setup(dest_dir = tempdir())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="example_repo_setup_+3A_dest_dir">dest_dir</code></td>
<td>
<p>The destination directory you would like the example repo files to be placed. By default is current directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sets up example files that can be used to test 'ottrpal' functions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Run this to get the files we need
example_files &lt;- ottrpal::example_repo_setup()

## End(Not run)
</code></pre>

<hr>
<h2 id='extract_meta'>Extract meta fields from a tag</h2><span id='topic+extract_meta'></span>

<h3>Description</h3>

<p>Extract meta fields from a tag
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_meta(tags)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_meta_+3A_tags">tags</code></td>
<td>
<p>A single tag or vector of tags to extract the fields from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector indicating the field and entry associated with it.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Simple example
tag &lt;- "{quiz, id: quiz_name_here, attempts: 10}"

# Extract metadata tags
meta &lt;- extract_meta(tag)

### Example using a file
quiz_path &lt;- good_quiz_path()
quiz_lines &lt;- readLines(quiz_path)

# Put this in a data.frame so we can identify the content
quiz_df &lt;- parse_quiz_df(quiz_lines)

# Extract the tags
tags &lt;- quiz_df %&gt;%
  dplyr::filter(type == "tag") %&gt;%
  dplyr::pull("original")

# Extract metadata tags
meta &lt;- extract_meta(tags)
</code></pre>

<hr>
<h2 id='extract_object_id'>Extract Object IDs using Google Slides API</h2><span id='topic+extract_object_id'></span>

<h3>Description</h3>

<p>Performs a HTTP GET method to request the IDs of every slide in a Google
Slides presentation. The ID of the first slide is always 'p'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_object_id(
  slide_url,
  token = NULL,
  access_token = NULL,
  refresh_token = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_object_id_+3A_slide_url">slide_url</code></td>
<td>
<p>URL whose 'General access' is set to 'Anyone with the link'</p>
</td></tr>
<tr><td><code id="extract_object_id_+3A_token">token</code></td>
<td>
<p>OAuth 2.0 Access Token. If you don't have a token, use
[authorize()] to obtain an access token from Google's OAuth 2.0 server.</p>
</td></tr>
<tr><td><code id="extract_object_id_+3A_access_token">access_token</code></td>
<td>
<p>Access token can be obtained from running authorize()
interactively (token &lt;-authorize(); token$credentials$access_token). This
allows it to be passed in using two secrets.</p>
</td></tr>
<tr><td><code id="extract_object_id_+3A_refresh_token">refresh_token</code></td>
<td>
<p>Refresh token can be obtained from running authorize()
interactively (token &lt;-authorize(); token$credentials$refresh_token). This
allows it to be passed in using two secrets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of object ID(s)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# First, obtain access token and store token for extract_object_id() to use
authorize(client_id = "MY_CLIENT_ID", client_secret = "MY_CLIENT_SECRET")
# Use stored token to talk to Google Slides API
extract_object_id(slide_url = "https://docs.google.com/presentation/d/1H5aF_ROKVxE-H
                               FHhoOy9vU2Y-y2M_PiV0q-JBL17Gss/edit?usp=sharing")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_bookdown_spec'>Load in Bookdown specifications from _bookdown.yml</h2><span id='topic+get_bookdown_spec'></span>

<h3>Description</h3>

<p>Load in Bookdown specifications from _bookdown.yml
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bookdown_spec(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_bookdown_spec_+3A_path">path</code></td>
<td>
<p>Where to look for the _bookdown.yml file. Passes to the bookdown_file() function. By default looks in current directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The yaml contents using yaml::yaml.load_file()
</p>

<hr>
<h2 id='get_chapters'>Make Leanpub file that has embed webpage of a chapter</h2><span id='topic+get_chapters'></span>

<h3>Description</h3>

<p>Make Leanpub file that has embed webpage of a chapter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_chapters(bookdown_index = file.path("docs", "index.html"), base_url = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_chapters_+3A_bookdown_index">bookdown_index</code></td>
<td>
<p>The file path of the rendered bookdown index.html file</p>
</td></tr>
<tr><td><code id="get_chapters_+3A_base_url">base_url</code></td>
<td>
<p>The base url of where the chapters are published &ndash; the url to provide to the iframe in Leanpub
e.g. https://jhudatascience.org/OTTR_Template/coursera</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame of the chapter urls and their titles that are to be ported to Leanpub.
This can be passed to
</p>

<hr>
<h2 id='get_gs_pptx'>Download Google Slides pptx file</h2><span id='topic+get_gs_pptx'></span>

<h3>Description</h3>

<p>Download Google Slides pptx file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_gs_pptx(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_gs_pptx_+3A_id">id</code></td>
<td>
<p>Identifier of Google slides presentation, passed to
<code><a href="#topic+get_slide_id">get_slide_id</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Downloaded file (in temporary directory)
</p>


<h3>Note</h3>

<p>This downloads presentations if they are public and also try to make
sure it does not fail on large files
</p>

<hr>
<h2 id='get_object_id_notes'>Retrieve Speaker Notes and their corresponding Object (Slide) IDs from a Google Slides presentation</h2><span id='topic+get_object_id_notes'></span>

<h3>Description</h3>

<p>Google Slides API calls a presentation slide ID as an 'object ID'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_object_id_notes(slide_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_object_id_notes_+3A_slide_url">slide_url</code></td>
<td>
<p>URL whose 'General access' is set to 'Anyone with the link'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame of Object IDs and Speaker notes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 get_object_id_notes("https://docs.google.com/presentation/d/
                      1H5aF_ROKVxE-HFHhoOy9vU2Y-y2M_PiV0q-JBL17Gss/edit?usp=sharing")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_slide_id'>Get Slide ID from URL</h2><span id='topic+get_slide_id'></span>

<h3>Description</h3>

<p>Get Slide ID from URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_slide_id(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_slide_id_+3A_x">x</code></td>
<td>
<p>URL of slide</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- paste0(
  "https://docs.google.com/presentation/d/",
  "1Tg-GTGnUPduOtZKYuMoelqUNZnUp3vvg_7TtpUPL7e8",
  "/edit#slide=id.g154aa4fae2_0_58"
)
get_slide_id(x)
</code></pre>

<hr>
<h2 id='good_quiz_path'>Path to good example quiz</h2><span id='topic+good_quiz_path'></span>

<h3>Description</h3>

<p>Path to good example quiz
</p>


<h3>Usage</h3>

<pre><code class='language-R'>good_quiz_path()
</code></pre>


<h3>Value</h3>

<p>The file path to an example good quiz included in the package that will pass the quiz checks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
quiz_path &lt;- good_quiz_path()

</code></pre>

<hr>
<h2 id='gs_id_from_slide'>Google Slides Helper Functions</h2><span id='topic+gs_id_from_slide'></span><span id='topic+get_image_link_from_slide'></span><span id='topic+get_image_from_slide'></span>

<h3>Description</h3>

<p>Google Slides Helper Functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gs_id_from_slide(file)

get_image_link_from_slide(file)

get_image_from_slide(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gs_id_from_slide_+3A_file">file</code></td>
<td>
<p>markdown file for manuscript</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scalar character vector
</p>

<hr>
<h2 id='gs_png_url'>Get Google Slide PNG URL</h2><span id='topic+gs_png_url'></span><span id='topic+get_slide_page'></span><span id='topic+gs_png_download'></span><span id='topic+include_slide'></span>

<h3>Description</h3>

<p>Get Google Slide PNG URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gs_png_url(url)

get_slide_page(url)

gs_png_download(url, output_dir = ".", overwrite = TRUE)

include_slide(
  url,
  output_dir = knitr::opts_chunk$get("fig.path"),
  overwrite = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gs_png_url_+3A_url">url</code></td>
<td>
<p>URL to Google Slide</p>
</td></tr>
<tr><td><code id="gs_png_url_+3A_output_dir">output_dir</code></td>
<td>
<p>path to output png</p>
</td></tr>
<tr><td><code id="gs_png_url_+3A_overwrite">overwrite</code></td>
<td>
<p>should the slide PNG be overwritten?</p>
</td></tr>
<tr><td><code id="gs_png_url_+3A_...">...</code></td>
<td>
<p>for <code>include_slide</code>, options passed to
[knitr::include_graphics()]</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of URLs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>url &lt;- paste0(
  "https://docs.google.com/presentation/d/",
  "12DPZgPteQBwgal6kSPP58zhPhjZ7QSPZLe3NkA8M3eo/edit",
  "#slide=id.gc8648f14c3_0_397&amp;t=4"
)
id &lt;- get_slide_id(url)
gs_png_url(url)
</code></pre>

<hr>
<h2 id='key_encrypt_creds_path'>Get file path to an key encryption RDS</h2><span id='topic+key_encrypt_creds_path'></span>

<h3>Description</h3>

<p>Get file path to an key encryption RDS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>key_encrypt_creds_path()
</code></pre>

<hr>
<h2 id='leanpub_check'>Check Leanpub Course or Book</h2><span id='topic+leanpub_check'></span>

<h3>Description</h3>

<p>Check Leanpub Course or Book
</p>


<h3>Usage</h3>

<pre><code class='language-R'>leanpub_check(path = ".", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="leanpub_check_+3A_path">path</code></td>
<td>
<p>path to the Leanpub book/course</p>
</td></tr>
<tr><td><code id="leanpub_check_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of output files and diagnostics
</p>

<hr>
<h2 id='make_embed_markdown'>Make Leanpub file that has embed webpage of a chapter</h2><span id='topic+make_embed_markdown'></span>

<h3>Description</h3>

<p>Make Leanpub file that has embed webpage of a chapter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_embed_markdown(
  url,
  chapt_title,
  width_spec = 800,
  height_spec = 600,
  img_path,
  output_dir = "manuscript",
  verbose = TRUE,
  footer_text = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_embed_markdown_+3A_url">url</code></td>
<td>
<p>The url to the chapter that is to be embed</p>
</td></tr>
<tr><td><code id="make_embed_markdown_+3A_chapt_title">chapt_title</code></td>
<td>
<p>Title of chapter to be used as file name and printed on iframe</p>
</td></tr>
<tr><td><code id="make_embed_markdown_+3A_width_spec">width_spec</code></td>
<td>
<p>How wide should the iframe be in pixels?</p>
</td></tr>
<tr><td><code id="make_embed_markdown_+3A_height_spec">height_spec</code></td>
<td>
<p>How high should the iframe be in pixels?</p>
</td></tr>
<tr><td><code id="make_embed_markdown_+3A_img_path">img_path</code></td>
<td>
<p>File path to image to use for poster</p>
</td></tr>
<tr><td><code id="make_embed_markdown_+3A_output_dir">output_dir</code></td>
<td>
<p>output directory to put files.  It should likely be
relative to path</p>
</td></tr>
<tr><td><code id="make_embed_markdown_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="make_embed_markdown_+3A_footer_text">footer_text</code></td>
<td>
<p>Optionally can add a bit of text that will be added to the
end of each file before the references section.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A markdown file with an iframe of the provided chapter
</p>

<hr>
<h2 id='parse_q_tag'>Parse apart a tag</h2><span id='topic+parse_q_tag'></span>

<h3>Description</h3>

<p>Parse apart a tag
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_q_tag(tag)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_q_tag_+3A_tag">tag</code></td>
<td>
<p>A single tag to extract from</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector indicating the field and entry associated with it.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tag &lt;- "{quiz, id: quiz_name_here, attempts: 10}"
parse_q_tag(tag)
</code></pre>

<hr>
<h2 id='parse_quiz'>Parse Quiz and Other Checking Functions</h2><span id='topic+parse_quiz'></span><span id='topic+extract_quiz'></span>

<h3>Description</h3>

<p>Parse Quiz and Other Checking Functions
</p>
<p>Extract lines of the quiz
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_quiz(quiz_lines, quiz_name = NULL, verbose = FALSE)

extract_quiz(quiz_lines)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_quiz_+3A_quiz_lines">quiz_lines</code></td>
<td>
<p>A quiz's contents read in with readLines()</p>
</td></tr>
<tr><td><code id="parse_quiz_+3A_quiz_name">quiz_name</code></td>
<td>
<p>A character vector indicating the name of the quiz.</p>
</td></tr>
<tr><td><code id="parse_quiz_+3A_verbose">verbose</code></td>
<td>
<p>Would you like progress messages? TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of elements, including a 'data.frame' and metadata
for questions
</p>
<p>the lines of the quiz that actually contain of the content of the quiz.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
quiz_lines &lt;- c(
  "{quiz, id: quiz_00_filename}",
  "### Lesson Name quiz",
  "{choose-answers: 4}",
  "? What do you think?",
  "",
  "C) The answer to this one",
  "o) Not the answer",
  "o) Not the answer either",
  "C) Another correct answer",
  "m) Mandatory different answer",
  "",
  "{/quiz}"
)
quiz_specs &lt;- parse_quiz(quiz_lines)
check_quiz_attributes(quiz_specs)
</code></pre>

<hr>
<h2 id='parse_quiz_df'>Parse quiz into a data.frame</h2><span id='topic+parse_quiz_df'></span>

<h3>Description</h3>

<p>Parse quiz into a data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_quiz_df(quiz_lines, remove_tags = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_quiz_df_+3A_quiz_lines">quiz_lines</code></td>
<td>
<p>A character vector of the contents of the markdown
file obtained from readLines()</p>
</td></tr>
<tr><td><code id="parse_quiz_df_+3A_remove_tags">remove_tags</code></td>
<td>
<p>TRUE/FALSE remove tags and empty lines?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing a type column which indicates what type of line each is.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Use readLines() to read in a quiz
quiz_path &lt;- good_quiz_path()
quiz_lines &lt;- readLines(quiz_path)

# Can use this to parse the quiz into a data.frame
quiz_df &lt;- parse_quiz_df(quiz_lines)

## End(Not run)
</code></pre>

<hr>
<h2 id='pptx_notes'>Get Notes from a PowerPoint (usually from Google Slides)</h2><span id='topic+pptx_notes'></span><span id='topic+pptx_slide_text_df'></span><span id='topic+pptx_slide_note_df'></span><span id='topic+unzip_pptx'></span>

<h3>Description</h3>

<p>Get Notes from a PowerPoint (usually from Google Slides)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pptx_notes(file, ...)

pptx_slide_text_df(file, ...)

pptx_slide_note_df(file, ...)

unzip_pptx(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pptx_notes_+3A_file">file</code></td>
<td>
<p>Character. Path for 'PPTX' file</p>
</td></tr>
<tr><td><code id="pptx_notes_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+xml_notes">xml_notes</a></code>,
particularly <code>xpath</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a character vector or 'NULL'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pptx_notes(ex_file)
pptx_slide_note_df(ex_file)
pptx_slide_text_df(ex_file)

## End(Not run)
</code></pre>

<hr>
<h2 id='remove_yaml_header'>Remove YAML header</h2><span id='topic+remove_yaml_header'></span>

<h3>Description</h3>

<p>Remove YAML header
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_yaml_header(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_yaml_header_+3A_file">file</code></td>
<td>
<p>file name of the markdown file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the text without the YAML header
</p>


<h3>Examples</h3>

<pre><code class='language-R'>file &lt;- system.file("extdata/00_template.Rmd", package = "ottrpal")
out &lt;- remove_yaml_header(file)
head(out)
</code></pre>

<hr>
<h2 id='render_without_toc'>Create TOC-less Bookdown for use in Coursera</h2><span id='topic+render_without_toc'></span>

<h3>Description</h3>

<p>Create a version of Leanpub that does not have a TOC and has quizzes in the Coursera yaml format. Requires Bookdown output files including &quot;assets&quot;, &quot;resources&quot;, and &quot;libs&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_without_toc(
  output_dir = file.path("docs", "no_toc"),
  output_yaml = "_output.yml",
  convert_quizzes = FALSE,
  input_quiz_dir = "quizzes",
  output_quiz_dir = "coursera_quizzes",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_without_toc_+3A_output_dir">output_dir</code></td>
<td>
<p>A folder (existing or not) that the TOC-less Bookdown for Coursera files should be saved. By default is file.path(&quot;docs&quot;, &quot;coursera&quot;)</p>
</td></tr>
<tr><td><code id="render_without_toc_+3A_output_yaml">output_yaml</code></td>
<td>
<p>A output.yml file to be provided to bookdown. By default is &quot;_output.yml&quot;</p>
</td></tr>
<tr><td><code id="render_without_toc_+3A_convert_quizzes">convert_quizzes</code></td>
<td>
<p>TRUE/FALSE whether or not to convert quizzes. Default is TRUE</p>
</td></tr>
<tr><td><code id="render_without_toc_+3A_input_quiz_dir">input_quiz_dir</code></td>
<td>
<p>A path to a directory of Leanpub-formatted quiz md files. By default assumes &quot;quizzes&quot; and looks in current directory.</p>
</td></tr>
<tr><td><code id="render_without_toc_+3A_output_quiz_dir">output_quiz_dir</code></td>
<td>
<p>A folder (existing or not) where the coursera quizzes should be saved. By default is &quot;coursera_quizzes&quot;.</p>
</td></tr>
<tr><td><code id="render_without_toc_+3A_verbose">verbose</code></td>
<td>
<p>Would you like the progress messages? TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A folder of coursera ready quiz files and html chapter files saved to output directories specified.
</p>

<hr>
<h2 id='replace_html'>Replace HTML and other Tags in Leanpub Markdown</h2><span id='topic+replace_html'></span><span id='topic+replace_single_html'></span>

<h3>Description</h3>

<p>Replace HTML and other Tags in Leanpub Markdown
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_html(
  path = "manuscript",
  remove_resources_start = TRUE,
  footer_text = NULL,
  fullbleed = FALSE,
  verbose = TRUE
)

replace_single_html(
  file,
  footer_text = NULL,
  remove_resources_start = TRUE,
  fullbleed = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_html_+3A_path">path</code></td>
<td>
<p>path to the markdown files that need replacement.</p>
</td></tr>
<tr><td><code id="replace_html_+3A_remove_resources_start">remove_resources_start</code></td>
<td>
<p>remove the word 'resources/' at the front
of any image path.</p>
</td></tr>
<tr><td><code id="replace_html_+3A_footer_text">footer_text</code></td>
<td>
<p>a bit of text that will be added to the
end of each file before the references section.</p>
</td></tr>
<tr><td><code id="replace_html_+3A_fullbleed">fullbleed</code></td>
<td>
<p>should the image have the attribute 'fullbleed: true'?</p>
</td></tr>
<tr><td><code id="replace_html_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="replace_html_+3A_file">file</code></td>
<td>
<p>individual markdown file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of output files and diagnostics
</p>

<hr>
<h2 id='set_knitr_image_path'>Set image path for 'knitr'</h2><span id='topic+set_knitr_image_path'></span>

<h3>Description</h3>

<p>Set image path for 'knitr'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_knitr_image_path(verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_knitr_image_path_+3A_verbose">verbose</code></td>
<td>
<p>print out what the figure path is</p>
</td></tr>
</table>


<h3>Value</h3>

<p>When used inside a knitted R Markdown document, will set the image path to a place compatible with 'ottrpal' output folders.
</p>

<hr>
<h2 id='set_up_leanpub'>Set up Manuscript folder for Leanpub publishing</h2><span id='topic+set_up_leanpub'></span>

<h3>Description</h3>

<p>Set up Manuscript folder for Leanpub publishing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_up_leanpub(
  path = ".",
  clean_up = FALSE,
  render = TRUE,
  output_dir = "manuscript",
  make_book_txt = FALSE,
  quiz_dir = "quizzes",
  run_quiz_checks = FALSE,
  remove_resources_start = FALSE,
  verbose = TRUE,
  footer_text = NULL,
  embed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_up_leanpub_+3A_path">path</code></td>
<td>
<p>path to the bookdown book, must have a '_bookdown.yml' file</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_clean_up">clean_up</code></td>
<td>
<p>TRUE/FALSE the old output directory should be deleted and
everything created fresh.</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_render">render</code></td>
<td>
<p>if 'TRUE', then [bookdown::render_book()] will be run on each Rmd.</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_output_dir">output_dir</code></td>
<td>
<p>output directory to put files.  It should likely be
relative to path</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_make_book_txt">make_book_txt</code></td>
<td>
<p>Should [ottrpal::bookdown_to_book_txt()] be run
to create a 'Book.txt' in the output directory?</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_quiz_dir">quiz_dir</code></td>
<td>
<p>directory that contains the quiz .md files that should be
checked and incorporated into the Book.txt file. If you don't have quizzes,
set this to NULL</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_run_quiz_checks">run_quiz_checks</code></td>
<td>
<p>TRUE/FALSE run quiz checks</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_remove_resources_start">remove_resources_start</code></td>
<td>
<p>remove the word 'resources/' at the front
of any image path.</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_footer_text">footer_text</code></td>
<td>
<p>Optionally can add a bit of text that will be added to the
end of each file before the references section.</p>
</td></tr>
<tr><td><code id="set_up_leanpub_+3A_embed">embed</code></td>
<td>
<p>is this being run by bookdown_to_embed_leanpub? TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of output files and diagnostics
</p>

<hr>
<h2 id='simple_references'>Run Simple References</h2><span id='topic+simple_references'></span>

<h3>Description</h3>

<p>Run Simple References
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_references(x, bib_files, add_reference_header = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_references_+3A_x">x</code></td>
<td>
<p>A filename of a markdown or Rmarkdown file, or the full output
from 'readLines' on that file</p>
</td></tr>
<tr><td><code id="simple_references_+3A_bib_files">bib_files</code></td>
<td>
<p>bibliography files to use for pandoc</p>
</td></tr>
<tr><td><code id="simple_references_+3A_add_reference_header">add_reference_header</code></td>
<td>
<p>Should the '## References' header be added at the
end of the output?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the file, with references subbed in
</p>

<hr>
<h2 id='xml_notes'>Get Notes from XML</h2><span id='topic+xml_notes'></span>

<h3>Description</h3>

<p>Get Notes from XML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xml_notes(file, collapse_text = TRUE, xpath = "//a:r//a:t")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xml_notes_+3A_file">file</code></td>
<td>
<p>XML file from a PPTX</p>
</td></tr>
<tr><td><code id="xml_notes_+3A_collapse_text">collapse_text</code></td>
<td>
<p>should text be collapsed by spaces?</p>
</td></tr>
<tr><td><code id="xml_notes_+3A_xpath">xpath</code></td>
<td>
<p><code>xpath</code> to pass to [xml2::xml_find_all()]</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package detourr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {detourr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#detour'><p>Initiate a detour visualisation</p></a></li>
<li><a href='#detour-shiny'><p>Shiny bindings for detourr</p></a></li>
<li><a href='#is_detour'><p>Test for detour-ness</p></a></li>
<li><a href='#mnist_embeddings'><p>Embeddings of images in the MNIST test set</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#show_sage'><p>2D and 3D Sage Tour Display</p></a></li>
<li><a href='#show_scatter'><p>2D and 3D Scatter Plot Display for Tours</p></a></li>
<li><a href='#show_scatter_internal'><p>Internal method for 2D and 3D Scatter Plot Display</p></a></li>
<li><a href='#show_slice'><p>2D and 3D Slice Display for Tours</p></a></li>
<li><a href='#tour_aes'><p>Aesthetic mapping for tours</p></a></li>
<li><a href='#tour_path'><p>Generate a tour path for a detour object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Portable and Performant Tour Animations</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides 2D and 3D tour animations as HTML widgets. The user can interact with the widgets using orbit controls, tooltips, brushing, and timeline controls. Linked brushing is supported using 'crosstalk', and widgets can be embedded in Shiny apps or HTML documents. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>tourr, tibble, htmlwidgets, tidyselect, rlang, purrr,
viridisLite, grDevices</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), crosstalk, shiny, htmltools, knitr,
dplyr, liminal, rmarkdown, geozoo</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://casperhart.github.io/detourr/">https://casperhart.github.io/detourr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/casperhart/detourr/issues">https://github.com/casperhart/detourr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-17 07:29:19 UTC; chart</td>
</tr>
<tr>
<td>Author:</td>
<td>Casper Hart [aut, cre],
  Earo Wang <a href="https://orcid.org/0000-0001-6448-5260"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Casper Hart &lt;casperhart93@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-06-20 08:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='detour'>Initiate a detour visualisation</h2><span id='topic+detour'></span>

<h3>Description</h3>

<p>This function initialises a <code>detour</code> object which, along with the
<code>tour_path</code> and <code>show_functions</code> is used to build a detour visualisation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detour(.data, mapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detour_+3A_.data">.data</code></td>
<td>
<p>a data frame, tibble, or crosstalk::SharedData object</p>
</td></tr>
<tr><td><code id="detour_+3A_mapping">mapping</code></td>
<td>
<p>a mapping of data columns to aesthetic values using the
<code>tour_aes</code> function. The only required aesthetic is <code>projection</code>, which
determines which columns are used to generate the tour path and supports tidy selection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>detour</code> object containing information about the tour path and
its parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detour(tourr::flea, tour_aes(projection = -species, colour = species)) |&gt;
  tour_path(grand_tour(3), fps = 60) |&gt;
  show_scatter(alpha = 0.7, axes = FALSE)
</code></pre>

<hr>
<h2 id='detour-shiny'>Shiny bindings for detourr</h2><span id='topic+detour-shiny'></span><span id='topic+displayScatter3dOutput'></span><span id='topic+displayScatter2dOutput'></span><span id='topic+shinyRenderDisplayScatter2d'></span><span id='topic+shinyRenderDisplayScatter3d'></span>

<h3>Description</h3>

<p>Output and render functions for using detourr with shiny. The output
function used must match both the display method and tour dim used,
or it will lead to strange behavour.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>displayScatter3dOutput(output_id, width = "100%", height = "400px")

displayScatter2dOutput(output_id, width = "100%", height = "400px")

shinyRenderDisplayScatter2d(expr, env = parent.frame(), quoted = FALSE)

shinyRenderDisplayScatter3d(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detour-shiny_+3A_output_id">output_id</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="detour-shiny_+3A_width">width</code>, <code id="detour-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>"100%"</code>,
<code>"400px"</code>, <code>"auto"</code>) or a number, which will be coerced to a
string and have <code>"px"</code> appended.</p>
</td></tr>
<tr><td><code id="detour-shiny_+3A_expr">expr</code></td>
<td>
<p>an expression that generates a detourr widget</p>
</td></tr>
<tr><td><code id="detour-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="detour-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An output or render function that enables the use of the widget
within shiny applications
</p>

<hr>
<h2 id='is_detour'>Test for detour-ness</h2><span id='topic+is_detour'></span>

<h3>Description</h3>

<p>Test for detour-ness
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_detour(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_detour_+3A_x">x</code></td>
<td>
<p>an object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE
</p>

<hr>
<h2 id='mnist_embeddings'>Embeddings of images in the MNIST test set</h2><span id='topic+mnist_embeddings'></span><span id='topic+mnist_embeddings_32d'></span><span id='topic+mnist_embeddings_8d'></span>

<h3>Description</h3>

<p>Two datasets are available; <code>mnist_embeddings_8d</code> contains 8-dimensional
embedding vectors and <code>mnist_embeddings_32d</code> contains 32-dimensional
embedding vectors.
</p>
<p>The neural network that produced these embeddings was created using
TensorFlow (Abadi et al. (2016)) with a variation of the code found in this example:
https://www.tensorflow.org/addons/tutorials/losses_triplet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mnist_embeddings_32d

mnist_embeddings_8d
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 10000 rows and 34 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 10000 rows and 10 columns.
</p>


<h3>Details</h3>

<p>A data frame with 10,000 rows and p variables:
</p>

<ul>
<li><p> id: sequential ID or row number of the image
</p>
</li>
<li><p> label: the digit 0, 1, ..., 9
</p>
</li>
<li><p> X1&ndash;Xp: elements 1&ndash;p of the embedding vector
</p>
</li></ul>



<h3>References</h3>

<p>LeCun, Y (1998). The MNIST database of handwritten digits.
http://yann.lecun.com/exdb/mnist/.
</p>
<p>Abadi, M, P Barham, J Chen, Z Chen, A Davis, J Dean, M Devin, S Ghemawat, G Irving,
M Isard, et al. (2016). TensorFlow: A System for Large-Scale Machine Learning.
In: 12th USENIX symposium on operating systems design and implementation (OSDI 16),
pp.265â€“283.
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+dependence_tour'></span><span id='topic+frozen_tour'></span><span id='topic+frozen_guided_tour'></span><span id='topic+grand_tour'></span><span id='topic+guided_section_tour'></span><span id='topic+guided_tour'></span><span id='topic+little_tour'></span><span id='topic+local_tour'></span><span id='topic+planned_tour'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>tourr</dt><dd><p><code><a href="tourr.html#topic+dependence_tour">dependence_tour</a></code>, <code><a href="tourr.html#topic+frozen_guided_tour">frozen_guided_tour</a></code>, <code><a href="tourr.html#topic+frozen_tour">frozen_tour</a></code>, <code><a href="tourr.html#topic+grand_tour">grand_tour</a></code>, <code><a href="tourr.html#topic+guided_section_tour">guided_section_tour</a></code>, <code><a href="tourr.html#topic+guided_tour">guided_tour</a></code>, <code><a href="tourr.html#topic+little_tour">little_tour</a></code>, <code><a href="tourr.html#topic+local_tour">local_tour</a></code>, <code><a href="tourr.html#topic+planned_tour">planned_tour</a></code></p>
</dd>
</dl>

<hr>
<h2 id='show_sage'>2D and 3D Sage Tour Display</h2><span id='topic+show_sage'></span>

<h3>Description</h3>

<p>An implementation of the Sage Tour described in Laa et al., 2021. It uses
a radial transformation on the projected data so that the relative volume
is preserved when the data is projected. I.e. a uniform distribution in
the original space will remain uniformly distributed in the projected space.
Includes both 2D and 3D variations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_sage(
  x,
  ...,
  palette = viridis,
  center = TRUE,
  axes = TRUE,
  edges = NULL,
  paused = TRUE,
  scale_factor = NULL,
  gamma = 1,
  R = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_sage_+3A_x">x</code></td>
<td>
<p>a <code>detour</code> object</p>
</td></tr>
<tr><td><code id="show_sage_+3A_...">...</code></td>
<td>
<p>used to support aesthetic parameters for the plot, including
</p>

<ul>
<li><p> size: point size, defaults to 1
</p>
</li>
<li><p> alpha: point opacity, defaults to 1
</p>
</li>
<li><p> background_colour: defaults to &quot;white&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_sage_+3A_palette">palette</code></td>
<td>
<p>Colour palette to use with the colour aesthetic. Can be:
</p>

<ul>
<li><p> A character vector of R colours. This should match the number of levels
of the colour aesthetic, or the number of bins to use for continuous colours.
</p>
</li>
<li><p> A function which takes the number of colours to use as input and returns a
character vector of colour names and / or hex values as output.
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_sage_+3A_center">center</code></td>
<td>
<p>If TRUE, center the projected data to (0, 0, 0).</p>
</td></tr>
<tr><td><code id="show_sage_+3A_axes">axes</code></td>
<td>
<p>Can be one of:
</p>

<ul>
<li> <p><code>TRUE</code> draw axes and use column names for axis labels
</p>
</li>
<li> <p><code>FALSE</code> do not draw axes or labels
</p>
</li>
<li> <p><code>NULL</code> draw axes with no labels
</p>
</li>
<li><p> An unnamed vector of labels with the same length as <code>cols</code>
</p>
</li>
<li><p> A named vector in the form <code>c("h" = "head")</code>, where <code>head</code> is renamed to
<code>h</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_sage_+3A_edges">edges</code></td>
<td>
<p>A two column numeric matrix giving indices of ends of lines.</p>
</td></tr>
<tr><td><code id="show_sage_+3A_paused">paused</code></td>
<td>
<p>whether the widget should be initialised in the 'paused' state</p>
</td></tr>
<tr><td><code id="show_sage_+3A_scale_factor">scale_factor</code></td>
<td>
<p>used as a multiplier for the point coordinates so they
are displayed on a sensible range. Defaults to the reciprocal of maximum distance
from a point to the origin.</p>
</td></tr>
<tr><td><code id="show_sage_+3A_gamma">gamma</code></td>
<td>
<p>the gamma parameter for scaling the effective dimensionality
for the sage tour radial transformation. defaults to 1</p>
</td></tr>
<tr><td><code id="show_sage_+3A_r">R</code></td>
<td>
<p>scale for the radial transformation. Defaults to <code>scale_factor</code> times
the maximum distance from the origin to each row of data. If the default
<code>scale_factor</code> is used this will result in <code>R=1</code>. Because the <code>R</code> and
<code>scale_factor</code> parameters interact with one another, it is recommended to
leave <code>scale_factor</code> at its default value, and modify <code>R</code> if needed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This display method produces an interactive scatterplot animation which
supports both 2D and 3D tours. Linked selection and filtering is also
supported using crosstalk. The set of interactive controls available are:
</p>

<ul>
<li><p> A timeline with a play / pause button and indicators at the position of
each basis used. The basis indicators can be hovered with the mouse to show
the index of the basis, or clicked to jump to that basis. The timeline
also allows for clicking and dragging of the scrubber to move to any
individual frame of the animation.
</p>
</li>
<li><p> Orbit controls. For the 2D variant, this allows the projection to be
rotated by clicking and dragging from left to right. For the 3D variant,
full orbit controls are available by clicking and dragging. For both orbit
and pan controls, the scroll wheel can be used to zoom.
</p>
</li>
<li><p> Pan controls, which work similarly to orbit controls but move the camera
laterally / vertically rather than rotating
</p>
</li>
<li><p> Resetting of the orbit and pan controls
</p>
</li>
<li><p> Selection and highlighting. Multiple selection is possible by using the
shift key
</p>
</li>
<li><p> Colouring / brushing of highlighted points
</p>
</li></ul>



<h3>Value</h3>

<p>An object of class <code>htmlwidget</code>
</p>


<h3>References</h3>

<p>Laa, U., Cook, D., &amp; Lee, S. (2021). Burning sage: Reversing the curse of
dimensionality in the visualization of high-dimensional data. Journal of
Computational and Graphical Statistics, 1-10.
</p>


<h3>See Also</h3>

<p>show_scatter
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detour(tourr::flea, tour_aes(projection = -species, colour = species)) |&gt;
  tour_path(grand_tour(3), fps = 60) |&gt;
  show_sage(gamma = 2)
</code></pre>

<hr>
<h2 id='show_scatter'>2D and 3D Scatter Plot Display for Tours</h2><span id='topic+show_scatter'></span>

<h3>Description</h3>

<p>Display method for a high performance 2D or 3D scatter plot.
Performance is achieved through the use of Three.js / WebGL, and the 2D or
3D variant is selected automatically based on the tour generator provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_scatter(
  x,
  ...,
  palette = viridis,
  center = TRUE,
  axes = TRUE,
  edges = NULL,
  paused = TRUE,
  scale_factor = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_scatter_+3A_x">x</code></td>
<td>
<p>a <code>detour</code> object</p>
</td></tr>
<tr><td><code id="show_scatter_+3A_...">...</code></td>
<td>
<p>used to support aesthetic parameters for the plot, including
</p>

<ul>
<li><p> size: point size, defaults to 1
</p>
</li>
<li><p> alpha: point opacity, defaults to 1
</p>
</li>
<li><p> background_colour: defaults to &quot;white&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_scatter_+3A_palette">palette</code></td>
<td>
<p>Colour palette to use with the colour aesthetic. Can be:
</p>

<ul>
<li><p> A character vector of R colours. This should match the number of levels
of the colour aesthetic, or the number of bins to use for continuous colours.
</p>
</li>
<li><p> A function which takes the number of colours to use as input and returns a
character vector of colour names and / or hex values as output.
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_scatter_+3A_center">center</code></td>
<td>
<p>If TRUE, center the projected data to (0, 0, 0).</p>
</td></tr>
<tr><td><code id="show_scatter_+3A_axes">axes</code></td>
<td>
<p>Can be one of:
</p>

<ul>
<li> <p><code>TRUE</code> draw axes and use column names for axis labels
</p>
</li>
<li> <p><code>FALSE</code> do not draw axes or labels
</p>
</li>
<li> <p><code>NULL</code> draw axes with no labels
</p>
</li>
<li><p> An unnamed vector of labels with the same length as <code>cols</code>
</p>
</li>
<li><p> A named vector in the form <code>c("h" = "head")</code>, where <code>head</code> is renamed to
<code>h</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_scatter_+3A_edges">edges</code></td>
<td>
<p>A two column numeric matrix giving indices of ends of lines.</p>
</td></tr>
<tr><td><code id="show_scatter_+3A_paused">paused</code></td>
<td>
<p>whether the widget should be initialised in the 'paused' state</p>
</td></tr>
<tr><td><code id="show_scatter_+3A_scale_factor">scale_factor</code></td>
<td>
<p>used as a multiplier for the point coordinates so they
are displayed on a sensible range. Defaults to the reciprocal of maximum distance
from a point to the origin.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This display method produces an interactive scatterplot animation which
supports both 2D and 3D tours. Linked selection and filtering is also
supported using crosstalk. The set of interactive controls available are:
</p>

<ul>
<li><p> A timeline with a play / pause button and indicators at the position of
each basis used. The basis indicators can be hovered with the mouse to show
the index of the basis, or clicked to jump to that basis. The timeline
also allows for clicking and dragging of the scrubber to move to any
individual frame of the animation.
</p>
</li>
<li><p> Orbit controls. For the 2D variant, this allows the projection to be
rotated by clicking and dragging from left to right. For the 3D variant,
full orbit controls are available by clicking and dragging. For both orbit
and pan controls, the scroll wheel can be used to zoom.
</p>
</li>
<li><p> Pan controls, which work similarly to orbit controls but move the camera
laterally / vertically rather than rotating
</p>
</li>
<li><p> Resetting of the orbit and pan controls
</p>
</li>
<li><p> Selection and highlighting. Multiple selection is possible by using the
shift key
</p>
</li>
<li><p> Colouring / brushing of highlighted points
</p>
</li></ul>



<h3>Value</h3>

<p>An object of class <code>htmlwidget</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detour(tourr::flea, tour_aes(projection = -species, colour = species)) |&gt;
  tour_path(grand_tour(3), fps = 60) |&gt;
  show_scatter(alpha = 0.7, axes = FALSE)
</code></pre>

<hr>
<h2 id='show_scatter_internal'>Internal method for 2D and 3D Scatter Plot Display</h2><span id='topic+show_scatter_internal'></span>

<h3>Description</h3>

<p>Internal method for 2D and 3D Scatter Plot Display
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_scatter_internal(
  x,
  ...,
  palette = viridisLite::viridis,
  center = TRUE,
  axes = TRUE,
  edges = NULL,
  paused = TRUE,
  scale_factor = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_scatter_internal_+3A_x">x</code></td>
<td>
<p>a <code>detour</code> object</p>
</td></tr>
<tr><td><code id="show_scatter_internal_+3A_...">...</code></td>
<td>
<p>used to support aesthetic parameters for the plot, including
</p>

<ul>
<li><p> size: point size, defaults to 1
</p>
</li>
<li><p> alpha: point opacity, defaults to 1
</p>
</li>
<li><p> background_colour: defaults to &quot;white&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_scatter_internal_+3A_palette">palette</code></td>
<td>
<p>Colour palette to use with the colour aesthetic. Can be:
</p>

<ul>
<li><p> A character vector of R colours. This should match the number of levels
of the colour aesthetic, or the number of bins to use for continuous colours.
</p>
</li>
<li><p> A function which takes the number of colours to use as input and returns a
character vector of colour names and / or hex values as output.
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_scatter_internal_+3A_center">center</code></td>
<td>
<p>If TRUE, center the projected data to (0, 0, 0).</p>
</td></tr>
<tr><td><code id="show_scatter_internal_+3A_axes">axes</code></td>
<td>
<p>Can be one of:
</p>

<ul>
<li> <p><code>TRUE</code> draw axes and use column names for axis labels
</p>
</li>
<li> <p><code>FALSE</code> do not draw axes or labels
</p>
</li>
<li> <p><code>NULL</code> draw axes with no labels
</p>
</li>
<li><p> An unnamed vector of labels with the same length as <code>cols</code>
</p>
</li>
<li><p> A named vector in the form <code>c("h" = "head")</code>, where <code>head</code> is renamed to
<code>h</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_scatter_internal_+3A_edges">edges</code></td>
<td>
<p>A two column numeric matrix giving indices of ends of lines.</p>
</td></tr>
<tr><td><code id="show_scatter_internal_+3A_paused">paused</code></td>
<td>
<p>whether the widget should be initialised in the 'paused' state</p>
</td></tr>
<tr><td><code id="show_scatter_internal_+3A_scale_factor">scale_factor</code></td>
<td>
<p>used as a multiplier for the point coordinates so they
are displayed on a sensible range. Defaults to the reciprocal of maximum distance
from a point to the origin.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This display method produces an interactive scatterplot animation which
supports both 2D and 3D tours. Linked selection and filtering is also
supported using crosstalk. The set of interactive controls available are:
</p>

<ul>
<li><p> A timeline with a play / pause button and indicators at the position of
each basis used. The basis indicators can be hovered with the mouse to show
the index of the basis, or clicked to jump to that basis. The timeline
also allows for clicking and dragging of the scrubber to move to any
individual frame of the animation.
</p>
</li>
<li><p> Orbit controls. For the 2D variant, this allows the projection to be
rotated by clicking and dragging from left to right. For the 3D variant,
full orbit controls are available by clicking and dragging. For both orbit
and pan controls, the scroll wheel can be used to zoom.
</p>
</li>
<li><p> Pan controls, which work similarly to orbit controls but move the camera
laterally / vertically rather than rotating
</p>
</li>
<li><p> Resetting of the orbit and pan controls
</p>
</li>
<li><p> Selection and highlighting. Multiple selection is possible by using the
shift key
</p>
</li>
<li><p> Colouring / brushing of highlighted points
</p>
</li></ul>



<h3>Value</h3>

<p>An object of class <code>htmlwidget</code>
</p>

<hr>
<h2 id='show_slice'>2D and 3D Slice Display for Tours</h2><span id='topic+show_slice'></span>

<h3>Description</h3>

<p>An implementation of the Slice Tour described in Laa et al., 2020. Points
close to the projection plane are highlighted, and those far away are
faded out.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_slice(
  x,
  ...,
  palette = viridis,
  center = TRUE,
  axes = TRUE,
  edges = NULL,
  paused = TRUE,
  scale_factor = NULL,
  slice_relative_volume = 0.1,
  anchor = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_slice_+3A_x">x</code></td>
<td>
<p>a <code>detour</code> object</p>
</td></tr>
<tr><td><code id="show_slice_+3A_...">...</code></td>
<td>
<p>used to support aesthetic parameters for the plot, including
</p>

<ul>
<li><p> size: point size, defaults to 1
</p>
</li>
<li><p> alpha: point opacity, defaults to 1
</p>
</li>
<li><p> background_colour: defaults to &quot;white&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_slice_+3A_palette">palette</code></td>
<td>
<p>Colour palette to use with the colour aesthetic. Can be:
</p>

<ul>
<li><p> A character vector of R colours. This should match the number of levels
of the colour aesthetic, or the number of bins to use for continuous colours.
</p>
</li>
<li><p> A function which takes the number of colours to use as input and returns a
character vector of colour names and / or hex values as output.
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_slice_+3A_center">center</code></td>
<td>
<p>If TRUE, center the projected data to (0, 0, 0).</p>
</td></tr>
<tr><td><code id="show_slice_+3A_axes">axes</code></td>
<td>
<p>Can be one of:
</p>

<ul>
<li> <p><code>TRUE</code> draw axes and use column names for axis labels
</p>
</li>
<li> <p><code>FALSE</code> do not draw axes or labels
</p>
</li>
<li> <p><code>NULL</code> draw axes with no labels
</p>
</li>
<li><p> An unnamed vector of labels with the same length as <code>cols</code>
</p>
</li>
<li><p> A named vector in the form <code>c("h" = "head")</code>, where <code>head</code> is renamed to
<code>h</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="show_slice_+3A_edges">edges</code></td>
<td>
<p>A two column numeric matrix giving indices of ends of lines.</p>
</td></tr>
<tr><td><code id="show_slice_+3A_paused">paused</code></td>
<td>
<p>whether the widget should be initialised in the 'paused' state</p>
</td></tr>
<tr><td><code id="show_slice_+3A_scale_factor">scale_factor</code></td>
<td>
<p>used as a multiplier for the point coordinates so they
are displayed on a sensible range. Defaults to the reciprocal of maximum distance
from a point to the origin.</p>
</td></tr>
<tr><td><code id="show_slice_+3A_slice_relative_volume">slice_relative_volume</code></td>
<td>
<p>number default 0.1. Controls the relative
volume of the slice and thus the number of points which are highlighted.
This is an approximate value and is only accurate for values &lt;&lt; 1</p>
</td></tr>
<tr><td><code id="show_slice_+3A_anchor">anchor</code></td>
<td>
<p>anchor vector of length p to offset the projection plane
when calculating the distance from each point to the projection plane.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This display method produces an interactive scatterplot animation which
supports both 2D and 3D tours. Linked selection and filtering is also
supported using crosstalk. The set of interactive controls available are:
</p>

<ul>
<li><p> A timeline with a play / pause button and indicators at the position of
each basis used. The basis indicators can be hovered with the mouse to show
the index of the basis, or clicked to jump to that basis. The timeline
also allows for clicking and dragging of the scrubber to move to any
individual frame of the animation.
</p>
</li>
<li><p> Orbit controls. For the 2D variant, this allows the projection to be
rotated by clicking and dragging from left to right. For the 3D variant,
full orbit controls are available by clicking and dragging. For both orbit
and pan controls, the scroll wheel can be used to zoom.
</p>
</li>
<li><p> Pan controls, which work similarly to orbit controls but move the camera
laterally / vertically rather than rotating
</p>
</li>
<li><p> Resetting of the orbit and pan controls
</p>
</li>
<li><p> Selection and highlighting. Multiple selection is possible by using the
shift key
</p>
</li>
<li><p> Colouring / brushing of highlighted points
</p>
</li></ul>



<h3>Value</h3>

<p>An object of class <code>htmlwidget</code>
</p>


<h3>References</h3>

<p>Laa, U., Cook, D., &amp; Valencia, G. (2020). A slice tour for finding
hollowness in high-dimensional data. Journal of Computational and
Graphical Statistics, 29(3), 681-687.
</p>


<h3>See Also</h3>

<p>show_scatter
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- geozoo::torus(p = 4, n = 10000)$points |&gt;
  tibble::as_tibble(.name_repair = "unique")

detour(x, tour_aes(projection = everything())) |&gt;
  tour_path(grand_tour(2)) |&gt;
  show_slice(slice_relative_volume = 0.1)
</code></pre>

<hr>
<h2 id='tour_aes'>Aesthetic mapping for tours</h2><span id='topic+tour_aes'></span>

<h3>Description</h3>

<p>Aesthetic mapping for tours describing how variables in the data are
mapped to visual properties of the tour animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tour_aes(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tour_aes_+3A_...">...</code></td>
<td>
<p>list of name-value pairs in the form 'aesthetic = variable'.
Variables are evaluated using tidyselect syntax.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of quosures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detour(tourr::flea, tour_aes(projection = -species, colour = species)) |&gt;
  tour_path(grand_tour(3), fps = 60) |&gt;
  show_scatter(alpha = 0.7, axes = FALSE)
</code></pre>

<hr>
<h2 id='tour_path'>Generate a tour path for a detour object</h2><span id='topic+tour_path'></span>

<h3>Description</h3>

<p>This function takes a <code>detour</code> object as an input, and generates a
sequence of projection matrices for the tour. The return value is another
<code>detour</code> object with the tour path and other metadata attached. This can
then be passed to a <code style="white-space: pre;">&#8288;show_*&#8288;</code>#' function to generate the detour
visualisation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tour_path(
  x,
  tour_path = grand_tour(2),
  start = NULL,
  aps = 1,
  fps = 30,
  max_bases = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tour_path_+3A_x">x</code></td>
<td>
<p>a <code>detour</code> object</p>
</td></tr>
<tr><td><code id="tour_path_+3A_tour_path">tour_path</code></td>
<td>
<p>tour path generator, defaults to 2d grand tour</p>
</td></tr>
<tr><td><code id="tour_path_+3A_start">start</code></td>
<td>
<p>projection to start at, if not specified, uses default
associated with tour path</p>
</td></tr>
<tr><td><code id="tour_path_+3A_aps">aps</code></td>
<td>
<p>target angular velocity (in radians per second)</p>
</td></tr>
<tr><td><code id="tour_path_+3A_fps">fps</code></td>
<td>
<p>target frames per second</p>
</td></tr>
<tr><td><code id="tour_path_+3A_max_bases">max_bases</code></td>
<td>
<p>the maximum number of bases to generate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>detour</code> object containing information about the tour path and
its parameters
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>
